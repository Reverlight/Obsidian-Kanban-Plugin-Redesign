/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var IDe=Object.create;var j1=Object.defineProperty,NDe=Object.defineProperties,LDe=Object.getOwnPropertyDescriptor,ODe=Object.getOwnPropertyDescriptors,PDe=Object.getOwnPropertyNames,eC=Object.getOwnPropertySymbols,zDe=Object.getPrototypeOf,c4=Object.prototype.hasOwnProperty,AV=Object.prototype.propertyIsEnumerable;var MV=t=>{throw TypeError(t)};var DV=(t,e,r)=>e in t?j1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ae=(t,e)=>{for(var r in e||(e={}))c4.call(e,r)&&DV(t,r,e[r]);if(eC)for(var r of eC(e))AV.call(e,r)&&DV(t,r,e[r]);return t},We=(t,e)=>NDe(t,ODe(e));var dd=(t,e)=>{var r={};for(var n in t)c4.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&eC)for(var n of eC(t))e.indexOf(n)<0&&AV.call(t,n)&&(r[n]=t[n]);return r};var Re=(t,e)=>()=>(t&&(e=t(t=0)),e);var J=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Wr=(t,e)=>{for(var r in e)j1(t,r,{get:e[r],enumerable:!0})},RV=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of PDe(e))!c4.call(t,i)&&i!==r&&j1(t,i,{get:()=>e[i],enumerable:!(n=LDe(e,i))||n.enumerable});return t};var Lt=(t,e,r)=>(r=t!=null?IDe(zDe(t)):{},RV(e||!t||!t.__esModule?j1(r,"default",{value:t,enumerable:!0}):r,t)),IV=t=>RV(j1({},"__esModule",{value:!0}),t);var FDe=(t,e,r)=>e.has(t)||MV("Cannot "+r);var wn=(t,e,r)=>(FDe(t,e,"read from private field"),r?r.call(t):e.get(t)),Eg=(t,e,r)=>e.has(t)?MV("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r);var ye=(t,e,r)=>new Promise((n,i)=>{var a=l=>{try{s(r.next(l))}catch(c){i(c)}},o=l=>{try{s(r.throw(l))}catch(c){i(c)}},s=l=>l.done?n(l.value):Promise.resolve(l.value).then(a,o);s((r=r.apply(t,e)).next())});var fd,tC,rC,nC,fc,Dg,Ei,hc,Uf=Re(()=>{fd=class extends Error{},tC=class extends fd{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},rC=class extends fd{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},nC=class extends fd{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},fc=class extends fd{},Dg=class extends fd{constructor(e){super(`Invalid unit ${e}`)}},Ei=class extends fd{},hc=class extends fd{constructor(){super("Zone is an abstract class")}}});var Bt,pc,Es,Bf,V1,u4,W1,G1,Y1,Z1,$1,X1,K1,Q1,J1,ew,tw,rw,nw,iw,d4,aw,ow,sw,lw,cw=Re(()=>{Bt="numeric",pc="short",Es="long",Bf={year:Bt,month:Bt,day:Bt},V1={year:Bt,month:pc,day:Bt},u4={year:Bt,month:pc,day:Bt,weekday:pc},W1={year:Bt,month:Es,day:Bt},G1={year:Bt,month:Es,day:Bt,weekday:Es},Y1={hour:Bt,minute:Bt},Z1={hour:Bt,minute:Bt,second:Bt},$1={hour:Bt,minute:Bt,second:Bt,timeZoneName:pc},X1={hour:Bt,minute:Bt,second:Bt,timeZoneName:Es},K1={hour:Bt,minute:Bt,hourCycle:"h23"},Q1={hour:Bt,minute:Bt,second:Bt,hourCycle:"h23"},J1={hour:Bt,minute:Bt,second:Bt,hourCycle:"h23",timeZoneName:pc},ew={hour:Bt,minute:Bt,second:Bt,hourCycle:"h23",timeZoneName:Es},tw={year:Bt,month:Bt,day:Bt,hour:Bt,minute:Bt},rw={year:Bt,month:Bt,day:Bt,hour:Bt,minute:Bt,second:Bt},nw={year:Bt,month:pc,day:Bt,hour:Bt,minute:Bt},iw={year:Bt,month:pc,day:Bt,hour:Bt,minute:Bt,second:Bt},d4={year:Bt,month:pc,day:Bt,weekday:pc,hour:Bt,minute:Bt},aw={year:Bt,month:Es,day:Bt,hour:Bt,minute:Bt,timeZoneName:pc},ow={year:Bt,month:Es,day:Bt,hour:Bt,minute:Bt,second:Bt,timeZoneName:pc},sw={year:Bt,month:Es,day:Bt,weekday:Es,hour:Bt,minute:Bt,timeZoneName:Es},lw={year:Bt,month:Es,day:Bt,weekday:Es,hour:Bt,minute:Bt,second:Bt,timeZoneName:Es}});var Ko,Yp=Re(()=>{Uf();Ko=class{get type(){throw new hc}get name(){throw new hc}get ianaName(){return this.name}get isUniversal(){throw new hc}offsetName(e,r){throw new hc}formatOffset(e,r){throw new hc}offset(e){throw new hc}equals(e){throw new hc}get isValid(){throw new hc}}});var f4,jf,aC=Re(()=>{zo();Yp();f4=null,jf=class t extends Ko{static get instance(){return f4===null&&(f4=new t),f4}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return oC(e,r,n)}formatOffset(e,r){return Vf(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}});function HDe(t){let e=p4.get(t);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),p4.set(t,e)),e}function UDe(t,e){let r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,a,o,s,l,c,u]=n;return[o,i,a,s,l,c,u]}function BDe(t,e){let r=t.formatToParts(e),n=[];for(let i=0;i<r.length;i++){let{type:a,value:o}=r[i],s=qDe[a];a==="era"?n[s]=o:pr(s)||(n[s]=parseInt(o,10))}return n}var p4,qDe,h4,po,Wf=Re(()=>{zo();Yp();p4=new Map;qDe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};h4=new Map,po=class t extends Ko{static create(e){let r=h4.get(e);return r===void 0&&h4.set(e,r=new t(e)),r}static resetCache(){h4.clear(),p4.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(r){return!1}}constructor(e){super(),this.zoneName=e,this.valid=t.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return oC(e,r,n,this.name)}formatOffset(e,r){return Vf(this.offset(e),r)}offset(e){if(!this.valid)return NaN;let r=new Date(e);if(isNaN(r))return NaN;let n=HDe(this.name),[i,a,o,s,l,c,u]=n.formatToParts?BDe(n,r):UDe(n,r);s==="BC"&&(i=-Math.abs(i)+1);let f=Ag({year:i,month:a,day:o,hour:l===24?0:l,minute:c,second:u,millisecond:0}),h=+r,p=h%1e3;return h-=p>=0?p:1e3+p,(f-h)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}});function jDe(t,e={}){let r=JSON.stringify([t,e]),n=NV[r];return n||(n=new Intl.ListFormat(t,e),NV[r]=n),n}function v4(t,e={}){let r=JSON.stringify([t,e]),n=m4.get(r);return n===void 0&&(n=new Intl.DateTimeFormat(t,e),m4.set(r,n)),n}function VDe(t,e={}){let r=JSON.stringify([t,e]),n=g4.get(r);return n===void 0&&(n=new Intl.NumberFormat(t,e),g4.set(r,n)),n}function WDe(t,e={}){let o=e,{base:r}=o,n=dd(o,["base"]),i=JSON.stringify([t,n]),a=y4.get(i);return a===void 0&&(a=new Intl.RelativeTimeFormat(t,e),y4.set(i,a)),a}function GDe(){return uw||(uw=new Intl.DateTimeFormat().resolvedOptions().locale,uw)}function LV(t){let e=b4.get(t);return e===void 0&&(e=new Intl.DateTimeFormat(t).resolvedOptions(),b4.set(t,e)),e}function YDe(t){let e=w4.get(t);if(!e){let r=new Intl.Locale(t);e="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,"minimalDays"in e||(e=ae(ae({},OV),e)),w4.set(t,e)}return e}function ZDe(t){let e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));let r=t.indexOf("-u-");if(r===-1)return[t];{let n,i;try{n=v4(t).resolvedOptions(),i=t}catch(s){let l=t.substring(0,r);n=v4(l).resolvedOptions(),i=l}let{numberingSystem:a,calendar:o}=n;return[i,a,o]}}function $De(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function XDe(t){let e=[];for(let r=1;r<=12;r++){let n=et.utc(2009,r,1);e.push(t(n))}return e}function KDe(t){let e=[];for(let r=1;r<=7;r++){let n=et.utc(2016,11,13+r);e.push(t(n))}return e}function sC(t,e,r,n){let i=t.listingMode();return i==="error"?null:i==="en"?r(e):n(e)}function QDe(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||LV(t.locale).numberingSystem==="latn"}var NV,m4,g4,y4,uw,b4,w4,x4,T4,S4,OV,Tn,fw=Re(()=>{zo();uC();Gf();Yf();Wf();NV={};m4=new Map;g4=new Map;y4=new Map;uw=null;b4=new Map;w4=new Map;x4=class{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;let s=n,{padTo:i,floor:a}=s,o=dd(s,["padTo","floor"]);if(!r||Object.keys(o).length>0){let l=ae({useGrouping:!1},n);n.padTo>0&&(l.minimumIntegerDigits=n.padTo),this.inf=VDe(e,l)}}format(e){if(this.inf){let r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{let r=this.floor?Math.floor(e):Mg(e,3);return gi(r,this.padTo)}}},T4=class{constructor(e,r,n){this.opts=n,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){let o=-1*(e.offset/60),s=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&po.create(s).valid?(i=s,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);let a=ae({},this.opts);a.timeZone=a.timeZone||i,this.dtf=v4(r,a)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(r=>{if(r.type==="timeZoneName"){let n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return We(ae({},r),{value:n})}else return r}):e}resolvedOptions(){return this.dtf.resolvedOptions()}},S4=class{constructor(e,r,n){this.opts=ae({style:"long"},n),!r&&lC()&&(this.rtf=WDe(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):PV(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}},OV={firstDay:1,minimalDays:4,weekend:[6,7]},Tn=class t{static fromOpts(e){return t.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,r,n,i,a=!1){let o=e||xn.defaultLocale,s=o||(a?"en-US":GDe()),l=r||xn.defaultNumberingSystem,c=n||xn.defaultOutputCalendar,u=dw(i)||xn.defaultWeekSettings;return new t(s,l,c,u,o)}static resetCache(){uw=null,m4.clear(),g4.clear(),y4.clear(),b4.clear(),w4.clear()}static fromObject({locale:e,numberingSystem:r,outputCalendar:n,weekSettings:i}={}){return t.create(e,r,n,i)}constructor(e,r,n,i,a){let[o,s,l]=ZDe(e);this.locale=o,this.numberingSystem=r||s||null,this.outputCalendar=n||l||null,this.weekSettings=i,this.intl=$De(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=a,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=QDe(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:t.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,dw(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone(We(ae({},e),{defaultToEN:!0}))}redefaultToSystem(e={}){return this.clone(We(ae({},e),{defaultToEN:!1}))}months(e,r=!1){return sC(this,e,_4,()=>{let n=this.intl==="ja"||this.intl.startsWith("ja-");r&=!n;let i=r?{month:e,day:"numeric"}:{month:e},a=r?"format":"standalone";if(!this.monthsCache[a][e]){let o=n?s=>this.dtFormatter(s,i).format():s=>this.extract(s,i,"month");this.monthsCache[a][e]=XDe(o)}return this.monthsCache[a][e]})}weekdays(e,r=!1){return sC(this,e,C4,()=>{let n=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=r?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=KDe(a=>this.extract(a,n,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return sC(this,void 0,()=>k4,()=>{if(!this.meridiemCache){let e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[et.utc(2016,11,13,9),et.utc(2016,11,13,19)].map(r=>this.extract(r,e,"dayperiod"))}return this.meridiemCache})}eras(e){return sC(this,e,E4,()=>{let r={era:e};return this.eraCache[e]||(this.eraCache[e]=[et.utc(-40,1,1),et.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[e]})}extract(e,r,n){let i=this.dtFormatter(e,r),a=i.formatToParts(),o=a.find(s=>s.type.toLowerCase()===n);return o?o.value:null}numberFormatter(e={}){return new x4(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new T4(e,this.intl,r)}relFormatter(e={}){return new S4(this.intl,this.isEnglish(),e)}listFormatter(e={}){return jDe(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||LV(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:cC()?YDe(this.locale):OV}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}});var A4,Aa,Rg=Re(()=>{zo();Yp();A4=null,Aa=class t extends Ko{static get utcInstance(){return A4===null&&(A4=new t(0)),A4}static instance(e){return e===0?t.utcInstance:new t(e)}static parseSpecifier(e){if(e){let r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new t(Zp(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Vf(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Vf(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return Vf(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}});var Ig,M4=Re(()=>{Yp();Ig=class extends Ko{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}});function mc(t,e){let r;if(pr(t)||t===null)return e;if(t instanceof Ko)return t;if(zV(t)){let n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?jf.instance:n==="utc"||n==="gmt"?Aa.utcInstance:Aa.parseSpecifier(n)||po.create(t)}else return vc(t)?Aa.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new Ig(t)}var dC=Re(()=>{Yp();Wf();Rg();M4();zo();aC()});function HV(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(t[r].search(I4.hanidec)!==-1)e+=JDe.indexOf(t[r]);else for(let i in FV){let[a,o]=FV[i];n>=a&&n<=o&&(e+=n-a)}}return parseInt(e,10)}else return e}function qV(){R4.clear()}function fl({numberingSystem:t},e=""){let r=t||"latn",n=R4.get(r);n===void 0&&(n=new Map,R4.set(r,n));let i=n.get(e);return i===void 0&&(i=new RegExp(`${I4[r]}${e}`),n.set(e,i)),i}var I4,FV,JDe,R4,N4=Re(()=>{I4={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},FV={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},JDe=I4.hanidec.replace(/[\[|\]]/g,"").split("");R4=new Map});var UV,BV,jV,VV,WV,GV,YV,ZV,xn,Gf=Re(()=>{aC();Wf();fw();Yf();dC();zo();N4();UV=()=>Date.now(),BV="system",jV=null,VV=null,WV=null,GV=60,ZV=null,xn=class{static get now(){return UV}static set now(e){UV=e}static set defaultZone(e){BV=e}static get defaultZone(){return mc(BV,jf.instance)}static get defaultLocale(){return jV}static set defaultLocale(e){jV=e}static get defaultNumberingSystem(){return VV}static set defaultNumberingSystem(e){VV=e}static get defaultOutputCalendar(){return WV}static set defaultOutputCalendar(e){WV=e}static get defaultWeekSettings(){return ZV}static set defaultWeekSettings(e){ZV=dw(e)}static get twoDigitCutoffYear(){return GV}static set twoDigitCutoffYear(e){GV=e%100}static get throwOnInvalid(){return YV}static set throwOnInvalid(e){YV=e}static resetCaches(){Tn.resetCache(),po.resetCache(),et.resetCache(),qV()}}});var Ma,hw=Re(()=>{Ma=class{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}});function hl(t,e){return new Ma("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function fC(t,e,r){let n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);let i=n.getUTCDay();return i===0?7:i}function KV(t,e,r){return r+(Xp(t)?XV:$V)[e-1]}function QV(t,e){let r=Xp(t)?XV:$V,n=r.findIndex(a=>a<e),i=e-r[n];return{month:n+1,day:i}}function hC(t,e){return(t-e+7)%7+1}function pw(t,e=4,r=1){let{year:n,month:i,day:a}=t,o=KV(n,i,a),s=hC(fC(n,i,a),r),l=Math.floor((o-s+14-e)/7),c;return l<1?(c=n-1,l=$p(c,e,r)):l>$p(n,e,r)?(c=n+1,l=1):c=n,ae({weekYear:c,weekNumber:l,weekday:s},vw(t))}function L4(t,e=4,r=1){let{weekYear:n,weekNumber:i,weekday:a}=t,o=hC(fC(n,1,e),r),s=Zf(n),l=i*7+a-o-7+e,c;l<1?(c=n-1,l+=Zf(c)):l>s?(c=n+1,l-=Zf(n)):c=n;let{month:u,day:d}=QV(c,l);return ae({year:c,month:u,day:d},vw(t))}function pC(t){let{year:e,month:r,day:n}=t,i=KV(e,r,n);return ae({year:e,ordinal:i},vw(t))}function O4(t){let{year:e,ordinal:r}=t,{month:n,day:i}=QV(e,r);return ae({year:e,month:n,day:i},vw(t))}function P4(t,e){if(!pr(t.localWeekday)||!pr(t.localWeekNumber)||!pr(t.localWeekYear)){if(!pr(t.weekday)||!pr(t.weekNumber)||!pr(t.weekYear))throw new fc("Cannot mix locale-based week fields with ISO-based week fields");return pr(t.localWeekday)||(t.weekday=t.localWeekday),pr(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),pr(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function JV(t,e=4,r=1){let n=mw(t.weekYear),i=Ds(t.weekNumber,1,$p(t.weekYear,e,r)),a=Ds(t.weekday,1,7);return n?i?a?!1:hl("weekday",t.weekday):hl("week",t.weekNumber):hl("weekYear",t.weekYear)}function eW(t){let e=mw(t.year),r=Ds(t.ordinal,1,Zf(t.year));return e?r?!1:hl("ordinal",t.ordinal):hl("year",t.year)}function z4(t){let e=mw(t.year),r=Ds(t.month,1,12),n=Ds(t.day,1,Ng(t.year,t.month));return e?r?n?!1:hl("day",t.day):hl("month",t.month):hl("year",t.year)}function F4(t){let{hour:e,minute:r,second:n,millisecond:i}=t,a=Ds(e,0,23)||e===24&&r===0&&n===0&&i===0,o=Ds(r,0,59),s=Ds(n,0,59),l=Ds(i,0,999);return a?o?s?l?!1:hl("millisecond",i):hl("second",n):hl("minute",r):hl("hour",e)}var $V,XV,H4=Re(()=>{zo();hw();Uf();$V=[0,31,59,90,120,151,181,212,243,273,304,334],XV=[0,31,60,91,121,152,182,213,244,274,305,335]});function pr(t){return typeof t=="undefined"}function vc(t){return typeof t=="number"}function mw(t){return typeof t=="number"&&t%1===0}function zV(t){return typeof t=="string"}function rW(t){return Object.prototype.toString.call(t)==="[object Date]"}function lC(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch(t){return!1}}function cC(){try{return typeof Intl!="undefined"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(t){return!1}}function nW(t){return Array.isArray(t)?t:[t]}function q4(t,e,r){if(t.length!==0)return t.reduce((n,i)=>{let a=[e(i),i];return n&&r(n[0],a[0])===n[0]?n:a},null)[1]}function iW(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function $f(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function dw(t){if(t==null)return null;if(typeof t!="object")throw new Ei("Week settings must be an object");if(!Ds(t.firstDay,1,7)||!Ds(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!Ds(e,1,7)))throw new Ei("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function Ds(t,e,r){return mw(t)&&t>=e&&t<=r}function eAe(t,e){return t-e*Math.floor(t/e)}function gi(t,e=2){let r=t<0,n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function hd(t){if(!(pr(t)||t===null||t===""))return parseInt(t,10)}function Xf(t){if(!(pr(t)||t===null||t===""))return parseFloat(t)}function gw(t){if(!(pr(t)||t===null||t==="")){let e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Mg(t,e,r="round"){let n=10**e;switch(r){case"expand":return t>0?Math.ceil(t*n)/n:Math.floor(t*n)/n;case"trunc":return Math.trunc(t*n)/n;case"round":return Math.round(t*n)/n;case"floor":return Math.floor(t*n)/n;case"ceil":return Math.ceil(t*n)/n;default:throw new RangeError(`Value rounding ${r} is out of range`)}}function Xp(t){return t%4===0&&(t%100!==0||t%400===0)}function Zf(t){return Xp(t)?366:365}function Ng(t,e){let r=eAe(e-1,12)+1,n=t+(e-r)/12;return r===2?Xp(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Ag(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function tW(t,e,r){return-hC(fC(t,1,e),r)+e-1}function $p(t,e=4,r=1){let n=tW(t,e,r),i=tW(t+1,e,r);return(Zf(t)-n+i)/7}function yw(t){return t>99?t:t>xn.twoDigitCutoffYear?1900+t:2e3+t}function oC(t,e,r,n=null){let i=new Date(t),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(a.timeZone=n);let o=ae({timeZoneName:e},a),s=new Intl.DateTimeFormat(r,o).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return s?s.value:null}function Zp(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);let n=parseInt(e,10)||0,i=r<0||Object.is(r,-0)?-n:n;return r*60+i}function U4(t){let e=Number(t);if(typeof t=="boolean"||t===""||!Number.isFinite(e))throw new Ei(`Invalid unit value ${t}`);return e}function Lg(t,e){let r={};for(let n in t)if($f(t,n)){let i=t[n];if(i==null)continue;r[e(n)]=U4(i)}return r}function Vf(t,e){let r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${gi(r,2)}:${gi(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${gi(r,2)}${gi(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function vw(t){return iW(t,["hour","minute","second","millisecond"])}var zo=Re(()=>{Uf();Gf();H4()});function _4(t){switch(t){case"narrow":return[...rAe];case"short":return[...B4];case"long":return[...tAe];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}function C4(t){switch(t){case"narrow":return[...nAe];case"short":return[...V4];case"long":return[...j4];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}function E4(t){switch(t){case"narrow":return[...oAe];case"short":return[...aAe];case"long":return[...iAe];default:return null}}function aW(t){return k4[t.hour<12?0:1]}function oW(t,e){return C4(e)[t.weekday-1]}function sW(t,e){return _4(e)[t.month-1]}function lW(t,e){return E4(e)[t.year<0?0:1]}function PV(t,e,r="always",n=!1){let i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&a){let d=t==="days";switch(e){case 1:return d?"tomorrow":`next ${i[t][0]}`;case-1:return d?"yesterday":`last ${i[t][0]}`;case 0:return d?"today":`this ${i[t][0]}`;default:}}let o=Object.is(e,-0)||e<0,s=Math.abs(e),l=s===1,c=i[t],u=n?l?c[1]:c[2]||c[1]:l?i[t][0]:t;return o?`${s} ${u} ago`:`in ${s} ${u}`}var tAe,B4,rAe,j4,V4,nAe,k4,iAe,aAe,oAe,uC=Re(()=>{cw();zo();tAe=["January","February","March","April","May","June","July","August","September","October","November","December"],B4=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],rAe=["J","F","M","A","M","J","J","A","S","O","N","D"];j4=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],V4=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],nAe=["M","T","W","T","F","S","S"];k4=["AM","PM"],iAe=["Before Christ","Anno Domini"],aAe=["BC","AD"],oAe=["B","A"]});function cW(t,e){let r="";for(let n of t)n.literal?r+=n.val:r+=e(n.val);return r}var sAe,Ra,bw=Re(()=>{uC();cw();zo();sAe={D:Bf,DD:V1,DDD:W1,DDDD:G1,t:Y1,tt:Z1,ttt:$1,tttt:X1,T:K1,TT:Q1,TTT:J1,TTTT:ew,f:tw,ff:nw,fff:aw,ffff:sw,F:rw,FF:iw,FFF:ow,FFFF:lw},Ra=class t{static create(e,r={}){return new t(e,r)}static parseFormat(e){let r=null,n="",i=!1,a=[];for(let o=0;o<e.length;o++){let s=e.charAt(o);s==="'"?((n.length>0||i)&&a.push({literal:i||/^\s+$/.test(n),val:n===""?"'":n}),r=null,n="",i=!i):i||s===r?n+=s:(n.length>0&&a.push({literal:/^\s+$/.test(n),val:n}),n=s,r=s)}return n.length>0&&a.push({literal:i||/^\s+$/.test(n),val:n}),a}static macroTokenToFormatOpts(e){return sAe[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,ae(ae({},this.opts),r)).format()}dtFormatter(e,r={}){return this.loc.dtFormatter(e,ae(ae({},this.opts),r))}formatDateTime(e,r){return this.dtFormatter(e,r).format()}formatDateTimeParts(e,r){return this.dtFormatter(e,r).formatToParts()}formatInterval(e,r){return this.dtFormatter(e.start,r).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r){return this.dtFormatter(e,r).resolvedOptions()}num(e,r=0,n=void 0){if(this.opts.forceSimple)return gi(e,r);let i=ae({},this.opts);return r>0&&(i.padTo=r),n&&(i.signDisplay=n),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,r){let n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=(h,p)=>this.loc.extract(e,h,p),o=h=>e.isOffsetFixed&&e.offset===0&&h.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,h.format):"",s=()=>n?aW(e):a({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(h,p)=>n?sW(e,h):a(p?{month:h}:{month:h,day:"numeric"},"month"),c=(h,p)=>n?oW(e,h):a(p?{weekday:h}:{weekday:h,month:"long",day:"numeric"},"weekday"),u=h=>{let p=t.macroTokenToFormatOpts(h);return p?this.formatWithSystemDefault(e,p):h},d=h=>n?lW(e,h):a({era:h},"era"),f=h=>{switch(h){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return s();case"d":return i?a({day:"numeric"},"day"):this.num(e.day);case"dd":return i?a({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return i?a({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?a({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?a({month:"numeric"},"month"):this.num(e.month);case"MM":return i?a({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?a({year:"numeric"},"year"):this.num(e.year);case"yy":return i?a({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?a({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?a({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return u(h)}};return cW(t.parseFormat(r),f)}formatDurationFromString(e,r){let n=this.opts.signMode==="negativeLargestOnly"?-1:1,i=u=>{switch(u[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},a=(u,d)=>f=>{let h=i(f);if(h){let p=d.isNegativeDuration&&h!==d.largestUnit?n:1,m;return this.opts.signMode==="negativeLargestOnly"&&h!==d.largestUnit?m="never":this.opts.signMode==="all"?m="always":m="auto",this.num(u.get(h)*p,f.length,m)}else return f},o=t.parseFormat(r),s=o.reduce((u,{literal:d,val:f})=>d?u:u.concat(f),[]),l=e.shiftTo(...s.map(i).filter(u=>u)),c={isNegativeDuration:l<0,largestUnit:Object.keys(l.values)[0]};return cW(o,a(l,c))}}});function Pg(...t){let e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function zg(...t){return e=>t.reduce(([r,n,i],a)=>{let[o,s,l]=a(e,i);return[ae(ae({},r),o),s||n,l]},[{},null,1]).slice(0,2)}function Fg(t,...e){if(t==null)return[null,null];for(let[r,n]of e){let i=r.exec(t);if(i)return n(i)}return[null,null]}function fW(...t){return(e,r)=>{let n={},i;for(i=0;i<t.length;i++)n[t[i]]=hd(e[r+i]);return[n,null,r+i]}}function Og(t,e,r){let n=t[e];return pr(n)?r:hd(n)}function vAe(t,e){return[{year:Og(t,e),month:Og(t,e+1,1),day:Og(t,e+2,1)},null,e+3]}function Hg(t,e){return[{hours:Og(t,e,0),minutes:Og(t,e+1,0),seconds:Og(t,e+2,0),milliseconds:gw(t[e+3])},null,e+4]}function ww(t,e){let r=!t[e]&&!t[e+1],n=Zp(t[e+1],t[e+2]),i=r?null:Aa.instance(n);return[{},i,e+3]}function xw(t,e){let r=t[e]?po.create(t[e]):null;return[{},r,e+1]}function bAe(t){let[e,r,n,i,a,o,s,l,c]=t,u=e[0]==="-",d=l&&l[0]==="-",f=(h,p=!1)=>h!==void 0&&(p||h&&u)?-h:h;return[{years:f(Xf(r)),months:f(Xf(n)),weeks:f(Xf(i)),days:f(Xf(a)),hours:f(Xf(o)),minutes:f(Xf(s)),seconds:f(Xf(l),l==="-0"),milliseconds:f(gw(c),d)}]}function Y4(t,e,r,n,i,a,o){let s={year:e.length===2?yw(hd(e)):hd(e),month:B4.indexOf(r)+1,day:hd(n),hour:hd(i),minute:hd(a)};return o&&(s.second=hd(o)),t&&(s.weekday=t.length>3?j4.indexOf(t)+1:V4.indexOf(t)+1),s}function TAe(t){let[,e,r,n,i,a,o,s,l,c,u,d]=t,f=Y4(e,i,n,r,a,o,s),h;return l?h=wAe[l]:c?h=0:h=Zp(u,d),[f,new Aa(h)]}function SAe(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function uW(t){let[,e,r,n,i,a,o,s]=t;return[Y4(e,i,n,r,a,o,s),Aa.utcInstance]}function EAe(t){let[,e,r,n,i,a,o,s]=t;return[Y4(e,s,r,n,i,a,o),Aa.utcInstance]}function gW(t){return Fg(t,[DAe,vW],[AAe,IAe],[MAe,NAe],[RAe,LAe])}function yW(t){return Fg(SAe(t),[xAe,TAe])}function bW(t){return Fg(t,[_Ae,uW],[CAe,uW],[kAe,EAe])}function wW(t){return Fg(t,[yAe,bAe])}function xW(t){return Fg(t,[gAe,OAe])}function TW(t){return Fg(t,[PAe,vW],[zAe,FAe])}var dW,hW,lAe,W4,pW,G4,cAe,uAe,dAe,fAe,hAe,pAe,mW,mAe,gAe,yAe,wAe,xAe,_Ae,CAe,kAe,DAe,AAe,MAe,RAe,vW,IAe,NAe,LAe,OAe,PAe,zAe,FAe,Z4=Re(()=>{zo();uC();Rg();Wf();dW=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;hW=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,lAe=`(?:${hW.source}?(?:\\[(${dW.source})\\])?)?`,W4=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,pW=RegExp(`${W4.source}${lAe}`),G4=RegExp(`(?:[Tt]${pW.source})?`),cAe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,uAe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,dAe=/(\d{4})-?(\d{3})/,fAe=fW("weekYear","weekNumber","weekDay"),hAe=fW("year","ordinal"),pAe=/(\d{4})-(\d\d)-(\d\d)/,mW=RegExp(`${W4.source} ?(?:${hW.source}|(${dW.source}))?`),mAe=RegExp(`(?: ${mW.source})?`);gAe=RegExp(`^T?${W4.source}$`),yAe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;wAe={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};xAe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;_Ae=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,CAe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,kAe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;DAe=Pg(cAe,G4),AAe=Pg(uAe,G4),MAe=Pg(dAe,G4),RAe=Pg(pW),vW=zg(vAe,Hg,ww,xw),IAe=zg(fAe,Hg,ww,xw),NAe=zg(hAe,Hg,ww,xw),LAe=zg(Hg,ww,xw);OAe=zg(Hg);PAe=Pg(pAe,mAe),zAe=Pg(mW),FAe=zg(Hg,ww,xw)});function pd(t,e,r=!1){let n={values:r?e.values:ae(ae({},t.values),e.values||{}),loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new Xn(n)}function EW(t,e){var n;let r=(n=e.milliseconds)!=null?n:0;for(let i of UAe.slice(1))e[i]&&(r+=e[i]*t[i].milliseconds);return r}function _W(t,e){let r=EW(t,e)<0?-1:1;Kp.reduceRight((n,i)=>{if(pr(e[i]))return n;if(n){let a=e[n]*r,o=t[i][n],s=Math.floor(a/o);e[i]+=s*r,e[n]-=s*o*r}return i},null),Kp.reduce((n,i)=>{if(pr(e[i]))return n;if(n){let a=e[n]%1;e[n]-=a,e[i]+=a*t[n][i]}return i},null)}function CW(t){let e={};for(let[r,n]of Object.entries(t))n!==0&&(e[r]=n);return e}var SW,kW,HAe,pl,qg,qAe,Kp,UAe,Xn,Tw=Re(()=>{Uf();bw();hw();fw();Z4();zo();Gf();Yf();SW="Invalid Duration",kW={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},HAe=ae({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},kW),pl=146097/400,qg=146097/4800,qAe=ae({years:{quarters:4,months:12,weeks:pl/7,days:pl,hours:pl*24,minutes:pl*24*60,seconds:pl*24*60*60,milliseconds:pl*24*60*60*1e3},quarters:{months:3,weeks:pl/28,days:pl/4,hours:pl*24/4,minutes:pl*24*60/4,seconds:pl*24*60*60/4,milliseconds:pl*24*60*60*1e3/4},months:{weeks:qg/7,days:qg,hours:qg*24,minutes:qg*24*60,seconds:qg*24*60*60,milliseconds:qg*24*60*60*1e3}},kW),Kp=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],UAe=Kp.slice(0).reverse();Xn=class t{constructor(e){let r=e.conversionAccuracy==="longterm"||!1,n=r?qAe:HAe;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Tn.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,r){return t.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new Ei(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new t({values:Lg(e,t.normalizeUnit),loc:Tn.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(vc(e))return t.fromMillis(e);if(t.isDuration(e))return e;if(typeof e=="object")return t.fromObject(e);throw new Ei(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){let[n]=wW(e);return n?t.fromObject(n,r):t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){let[n]=xW(e);return n?t.fromObject(n,r):t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new Ei("need to specify a reason the Duration is invalid");let n=e instanceof Ma?e:new Ma(e,r);if(xn.throwOnInvalid)throw new nC(n);return new t({invalid:n})}static normalizeUnit(e){let r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new Dg(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){let n=We(ae({},r),{floor:r.round!==!1&&r.floor!==!1});return this.isValid?Ra.create(this.loc,n).formatDurationFromString(this,e):SW}toHuman(e={}){if(!this.isValid)return SW;let r=e.showZeros!==!1,n=Kp.map(i=>{let a=this.values[i];return pr(a)||a===0&&!r?null:this.loc.numberFormatter(We(ae({style:"unit",unitDisplay:"long"},e),{unit:i.slice(0,-1)})).format(a)}).filter(i=>i);return this.loc.listFormatter(ae({type:"conjunction",style:e.listStyle||"narrow"},e)).format(n)}toObject(){return this.isValid?ae({},this.values):{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Mg(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let r=this.toMillis();return r<0||r>=864e5?null:(e=We(ae({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e),{includeOffset:!1}),et.fromMillis(r,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?EW(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let r=t.fromDurationLike(e),n={};for(let i of Kp)($f(r.values,i)||$f(this.values,i))&&(n[i]=r.get(i)+this.get(i));return pd(this,{values:n},!0)}minus(e){if(!this.isValid)return this;let r=t.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;let r={};for(let n of Object.keys(this.values))r[n]=U4(e(this.values[n],n));return pd(this,{values:r},!0)}get(e){return this[t.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let r=ae(ae({},this.values),Lg(e,t.normalizeUnit));return pd(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n,matrix:i}={}){let o={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:i,conversionAccuracy:n};return pd(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return _W(this.matrix,e),pd(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=CW(this.normalize().shiftToAll().toObject());return pd(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>t.normalizeUnit(o));let r={},n={},i=this.toObject(),a;for(let o of Kp)if(e.indexOf(o)>=0){a=o;let s=0;for(let c in n)s+=this.matrix[c][o]*n[c],n[c]=0;vc(i[o])&&(s+=i[o]);let l=Math.trunc(s);r[o]=l,n[o]=(s*1e3-l*1e3)/1e3}else vc(i[o])&&(n[o]=i[o]);for(let o in n)n[o]!==0&&(r[a]+=o===a?n[o]:n[o]/this.matrix[a][o]);return _W(this.matrix,r),pd(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return pd(this,{values:e},!0)}removeZeros(){if(!this.isValid)return this;let e=CW(this.values);return pd(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(let n of Kp)if(!r(this.values[n],e.values[n]))return!1;return!0}}});function BAe(t,e){return!t||!t.isValid?md.invalid("missing or invalid start"):!e||!e.isValid?md.invalid("missing or invalid end"):e<t?md.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}var Ug,md,$4=Re(()=>{Yf();Tw();Gf();Uf();hw();bw();cw();Ug="Invalid Interval";md=class t{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new Ei("need to specify a reason the Interval is invalid");let n=e instanceof Ma?e:new Ma(e,r);if(xn.throwOnInvalid)throw new rC(n);return new t({invalid:n})}static fromDateTimes(e,r){let n=Bg(e),i=Bg(r),a=BAe(n,i);return a==null?new t({start:n,end:i}):a}static after(e,r){let n=Xn.fromDurationLike(r),i=Bg(e);return t.fromDateTimes(i,i.plus(n))}static before(e,r){let n=Xn.fromDurationLike(r),i=Bg(e);return t.fromDateTimes(i.minus(n),i)}static fromISO(e,r){let[n,i]=(e||"").split("/",2);if(n&&i){let a,o;try{a=et.fromISO(n,r),o=a.isValid}catch(c){o=!1}let s,l;try{s=et.fromISO(i,r),l=s.isValid}catch(c){l=!1}if(o&&l)return t.fromDateTimes(a,s);if(o){let c=Xn.fromISO(i,r);if(c.isValid)return t.after(a,c)}else if(l){let c=Xn.fromISO(n,r);if(c.isValid)return t.before(s,c)}}return t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",r){if(!this.isValid)return NaN;let n=this.start.startOf(e,r),i;return r!=null&&r.useLocaleWeeks?i=this.end.reconfigure({locale:n.locale}):i=this.end,i=i.startOf(e,r),Math.floor(i.diff(n,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?t.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];let r=e.map(Bg).filter(o=>this.contains(o)).sort((o,s)=>o.toMillis()-s.toMillis()),n=[],{s:i}=this,a=0;for(;i<this.e;){let o=r[a]||this.e,s=+o>+this.e?this.e:o;n.push(t.fromDateTimes(i,s)),i=s,a+=1}return n}splitBy(e){let r=Xn.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,i=1,a,o=[];for(;n<this.e;){let s=this.start.plus(r.mapUnits(l=>l*i));a=+s>+this.e?this.e:s,o.push(t.fromDateTimes(n,a)),n=a,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:t.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;let r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return t.fromDateTimes(r,n)}static merge(e){let[r,n]=e.sort((i,a)=>i.s-a.s).reduce(([i,a],o)=>a?a.overlaps(o)||a.abutsStart(o)?[i,a.union(o)]:[i.concat([a]),o]:[i,o],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0,i=[],a=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...a),s=o.sort((l,c)=>l.time-c.time);for(let l of s)n+=l.type==="s"?1:-1,n===1?r=l.time:(r&&+r!=+l.time&&i.push(t.fromDateTimes(r,l.time)),r=null);return t.merge(i)}difference(...e){return t.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Ug}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Bf,r={}){return this.isValid?Ra.create(this.s.loc.clone(r),e).formatInterval(this):Ug}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Ug}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Ug}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Ug}toFormat(e,{separator:r=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:Ug}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):Xn.invalid(this.invalidReason)}mapEndpoints(e){return t.fromDateTimes(e(this.s),e(this.e))}}});var vd,X4=Re(()=>{Yf();Gf();fw();Wf();dC();zo();vd=class{static hasDST(e=xn.defaultZone){let r=et.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return po.isValidZone(e)}static normalizeZone(e){return mc(e,xn.defaultZone)}static getStartOfWeek({locale:e=null,locObj:r=null}={}){return(r||Tn.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:r=null}={}){return(r||Tn.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:r=null}={}){return(r||Tn.create(e)).getWeekendDays().slice()}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||Tn.create(r,n,a)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||Tn.create(r,n,a)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Tn.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Tn.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Tn.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return Tn.create(r,null,"gregory").eras(e)}static features(){return{relative:lC(),localeWeek:cC()}}}});function DW(t,e){let r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(Xn.fromMillis(n).as("days"))}function jAe(t,e,r){let n=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{let u=DW(l,c);return(u-u%7)/7}],["days",DW]],i={},a=t,o,s;for(let[l,c]of n)r.indexOf(l)>=0&&(o=l,i[l]=c(t,e),s=a.plus(i),s>e?(i[l]--,t=a.plus(i),t>e&&(s=t,i[l]--,t=a.plus(i))):t=s);return[t,i,s,o]}function AW(t,e,r,n){let[i,a,o,s]=jAe(t,e,r),l=e-i,c=r.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(o<e&&(o=i.plus({[s]:1})),o!==i&&(a[s]=(a[s]||0)+l/(o-i)));let u=Xn.fromObject(a,n);return c.length>0?Xn.fromMillis(l,n).shiftTo(...c).plus(u):u}var MW=Re(()=>{Tw()});function _n(t,e=r=>r){return{regex:t,deser:([r])=>e(HV(r))}}function GAe(t){return t.replace(/\./g,"\\.?").replace(LW,NW)}function RW(t){return t.replace(/\./g,"").replace(LW," ").toLowerCase()}function gc(t,e){return t===null?null:{regex:RegExp(t.map(GAe).join("|")),deser:([r])=>t.findIndex(n=>RW(r)===RW(n))+e}}function IW(t,e){return{regex:t,deser:([,r,n])=>Zp(r,n),groups:e}}function mC(t){return{regex:t,deser:([e])=>e}}function YAe(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function ZAe(t,e){let r=fl(e),n=fl(e,"{2}"),i=fl(e,"{3}"),a=fl(e,"{4}"),o=fl(e,"{6}"),s=fl(e,"{1,2}"),l=fl(e,"{1,3}"),c=fl(e,"{1,6}"),u=fl(e,"{1,9}"),d=fl(e,"{2,4}"),f=fl(e,"{4,6}"),h=v=>({regex:RegExp(YAe(v.val)),deser:([y])=>y,literal:!0}),m=(v=>{if(t.literal)return h(v);switch(v.val){case"G":return gc(e.eras("short"),0);case"GG":return gc(e.eras("long"),0);case"y":return _n(c);case"yy":return _n(d,yw);case"yyyy":return _n(a);case"yyyyy":return _n(f);case"yyyyyy":return _n(o);case"M":return _n(s);case"MM":return _n(n);case"MMM":return gc(e.months("short",!0),1);case"MMMM":return gc(e.months("long",!0),1);case"L":return _n(s);case"LL":return _n(n);case"LLL":return gc(e.months("short",!1),1);case"LLLL":return gc(e.months("long",!1),1);case"d":return _n(s);case"dd":return _n(n);case"o":return _n(l);case"ooo":return _n(i);case"HH":return _n(n);case"H":return _n(s);case"hh":return _n(n);case"h":return _n(s);case"mm":return _n(n);case"m":return _n(s);case"q":return _n(s);case"qq":return _n(n);case"s":return _n(s);case"ss":return _n(n);case"S":return _n(l);case"SSS":return _n(i);case"u":return mC(u);case"uu":return mC(s);case"uuu":return _n(r);case"a":return gc(e.meridiems(),0);case"kkkk":return _n(a);case"kk":return _n(d,yw);case"W":return _n(s);case"WW":return _n(n);case"E":case"c":return _n(r);case"EEE":return gc(e.weekdays("short",!1),1);case"EEEE":return gc(e.weekdays("long",!1),1);case"ccc":return gc(e.weekdays("short",!0),1);case"cccc":return gc(e.weekdays("long",!0),1);case"Z":case"ZZ":return IW(new RegExp(`([+-]${s.source})(?::(${n.source}))?`),2);case"ZZZ":return IW(new RegExp(`([+-]${s.source})(${n.source})?`),2);case"z":return mC(/[a-z_+-/]{1,256}?/i);case" ":return mC(/[^\S\n\r]/);default:return h(v)}})(t)||{invalidReason:VAe};return m.token=t,m}function XAe(t,e,r){let{type:n,value:i}=t;if(n==="literal"){let l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}let a=e[n],o=n;n==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=r.hour12?"hour12":"hour24");let s=$Ae[o];if(typeof s=="object"&&(s=s[a]),s)return{literal:!1,val:s}}function KAe(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function QAe(t,e,r){let n=t.match(e);if(n){let i={},a=1;for(let o in r)if($f(r,o)){let s=r[o],l=s.groups?s.groups+1:1;!s.literal&&s.token&&(i[s.token.val[0]]=s.deser(n.slice(a,a+l))),a+=l}return[n,i]}else return[n,{}]}function JAe(t){let e=a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},r=null,n;return pr(t.z)||(r=po.create(t.z)),pr(t.Z)||(r||(r=new Aa(t.Z)),n=t.Z),pr(t.q)||(t.M=(t.q-1)*3+1),pr(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),pr(t.u)||(t.S=gw(t.u)),[Object.keys(t).reduce((a,o)=>{let s=e(o);return s&&(a[s]=t[o]),a},{}),r,n]}function eMe(){return K4||(K4=et.fromMillis(1555555555555)),K4}function tMe(t,e){if(t.literal)return t;let r=Ra.macroTokenToFormatOpts(t.val),n=eN(r,e);return n==null||n.includes(void 0)?t:n}function Q4(t,e){return Array.prototype.concat(...t.map(r=>tMe(r,e)))}function J4(t,e,r){return new Sw(t,r).explainFromTokens(e)}function OW(t,e,r){let{result:n,zone:i,specificOffset:a,invalidReason:o}=J4(t,e,r);return[n,i,a,o]}function eN(t,e){if(!t)return null;let n=Ra.create(e,t).dtFormatter(eMe()),i=n.formatToParts(),a=n.resolvedOptions();return i.map(o=>XAe(o,t,a))}var VAe,WAe,NW,LW,$Ae,K4,Sw,PW=Re(()=>{zo();bw();Rg();Wf();Yf();N4();Uf();VAe="missing Intl.DateTimeFormat.formatToParts support";WAe="\xA0",NW=`[ ${WAe}]`,LW=new RegExp(NW,"g");$Ae={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};K4=null;Sw=class{constructor(e,r){if(this.locale=e,this.format=r,this.tokens=Q4(Ra.parseFormat(r),e),this.units=this.tokens.map(n=>ZAe(n,e)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){let[n,i]=KAe(this.units);this.regex=RegExp(n,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){let[r,n]=QAe(e,this.regex,this.handlers),[i,a,o]=n?JAe(n):[null,null,void 0];if($f(n,"a")&&$f(n,"H"))throw new fc("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:n,result:i,zone:a,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}});function _w(t){return new Ma("unsupported zone",`the zone "${t.name}" is not supported`)}function rN(t){return t.weekData===null&&(t.weekData=pw(t.c)),t.weekData}function nN(t){return t.localWeekData===null&&(t.localWeekData=pw(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Qp(t,e){let r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new et(We(ae(ae({},r),e),{old:r}))}function VW(t,e,r){let n=t-e*60*1e3,i=r.offset(n);if(e===i)return[n,e];n-=(i-e)*60*1e3;let a=r.offset(n);return i===a?[n,i]:[t-Math.min(i,a)*60*1e3,Math.max(i,a)]}function vC(t,e){t+=e*60*1e3;let r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function yC(t,e,r){return VW(Ag(t),e,r)}function FW(t,e){let r=t.o,n=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,a=We(ae({},t.c),{year:n,month:i,day:Math.min(t.c.day,Ng(n,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7}),o=Xn.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),s=Ag(a),[l,c]=VW(s,r,t.zone);return o!==0&&(l+=o,c=t.zone.offset(l)),{ts:l,o:c}}function jg(t,e,r,n,i,a){let{setZone:o,zone:s}=r;if(t&&Object.keys(t).length!==0||e){let l=e||s,c=et.fromObject(t,We(ae({},r),{zone:l,specificOffset:a}));return o?c:c.setZone(s)}else return et.invalid(new Ma("unparsable",`the input "${i}" can't be parsed as ${n}`))}function gC(t,e,r=!0){return t.isValid?Ra.create(Tn.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function iN(t,e,r){let n=t.c.year>9999||t.c.year<0,i="";if(n&&t.c.year>=0&&(i+="+"),i+=gi(t.c.year,n?6:4),r==="year")return i;if(e){if(i+="-",i+=gi(t.c.month),r==="month")return i;i+="-"}else if(i+=gi(t.c.month),r==="month")return i;return i+=gi(t.c.day),i}function HW(t,e,r,n,i,a,o){let s=!r||t.c.millisecond!==0||t.c.second!==0,l="";switch(o){case"day":case"month":case"year":break;default:if(l+=gi(t.c.hour),o==="hour")break;if(e){if(l+=":",l+=gi(t.c.minute),o==="minute")break;s&&(l+=":",l+=gi(t.c.second))}else{if(l+=gi(t.c.minute),o==="minute")break;s&&(l+=gi(t.c.second))}if(o==="second")break;s&&(!n||t.c.millisecond!==0)&&(l+=".",l+=gi(t.c.millisecond,3))}return i&&(t.isOffsetFixed&&t.offset===0&&!a?l+="Z":t.o<0?(l+="-",l+=gi(Math.trunc(-t.o/60)),l+=":",l+=gi(Math.trunc(-t.o%60))):(l+="+",l+=gi(Math.trunc(t.o/60)),l+=":",l+=gi(Math.trunc(t.o%60)))),a&&(l+="["+t.zone.ianaName+"]"),l}function wC(t){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Dg(t);return e}function qW(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return wC(t)}}function oMe(t){if(Cw===void 0&&(Cw=xn.now()),t.type!=="iana")return t.offset(Cw);let e=t.name,r=aN.get(e);return r===void 0&&(r=t.offset(Cw),aN.set(e,r)),r}function UW(t,e){let r=mc(e.zone,xn.defaultZone);if(!r.isValid)return et.invalid(_w(r));let n=Tn.fromObject(e),i,a;if(pr(t.year))i=xn.now();else{for(let l of bC)pr(t[l])&&(t[l]=WW[l]);let o=z4(t)||F4(t);if(o)return et.invalid(o);let s=oMe(r);[i,a]=yC(t,s,r)}return new et({ts:i,zone:r,loc:n,o:a})}function BW(t,e,r){let n=pr(r.round)?!0:r.round,i=pr(r.rounding)?"trunc":r.rounding,a=(s,l)=>(s=Mg(s,n||r.calendary?0:2,r.calendary?"round":i),e.loc.clone(r).relFormatter(r).format(s,l)),o=s=>r.calendary?e.hasSame(t,s)?0:e.startOf(s).diff(t.startOf(s),s).get(s):e.diff(t,s).get(s);if(r.unit)return a(o(r.unit),r.unit);for(let s of r.units){let l=o(s);if(Math.abs(l)>=1)return a(l,s)}return a(t>e?-0:0,r.units[r.units.length-1])}function jW(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}function Bg(t){if(et.isDateTime(t))return t;if(t&&t.valueOf&&vc(t.valueOf()))return et.fromJSDate(t);if(t&&typeof t=="object")return et.fromObject(t);throw new Ei(`Unknown datetime argument: ${t}, of type ${typeof t}`)}var tN,zW,WW,rMe,nMe,bC,iMe,aMe,Cw,aN,et,Yf=Re(()=>{Tw();$4();Gf();X4();bw();Rg();fw();zo();dC();MW();Z4();PW();H4();cw();Uf();hw();tN="Invalid DateTime",zW=864e13;WW={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},rMe={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},nMe={ordinal:1,hour:0,minute:0,second:0,millisecond:0},bC=["year","month","day","hour","minute","second","millisecond"],iMe=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],aMe=["year","ordinal","hour","minute","second","millisecond"];aN=new Map,et=class t{constructor(e){let r=e.zone||xn.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new Ma("invalid input"):null)||(r.isValid?null:_w(r));this.ts=pr(e.ts)?xn.now():e.ts;let i=null,a=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[i,a]=[e.old.c,e.old.o];else{let s=vc(e.o)&&!e.old?e.o:r.offset(this.ts);i=vC(this.ts,s),n=Number.isNaN(i.year)?new Ma("invalid input"):null,i=n?null:i,a=n?null:s}this._zone=r,this.loc=e.loc||Tn.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=i,this.o=a,this.isLuxonDateTime=!0}static now(){return new t({})}static local(){let[e,r]=jW(arguments),[n,i,a,o,s,l,c]=r;return UW({year:n,month:i,day:a,hour:o,minute:s,second:l,millisecond:c},e)}static utc(){let[e,r]=jW(arguments),[n,i,a,o,s,l,c]=r;return e.zone=Aa.utcInstance,UW({year:n,month:i,day:a,hour:o,minute:s,second:l,millisecond:c},e)}static fromJSDate(e,r={}){let n=rW(e)?e.valueOf():NaN;if(Number.isNaN(n))return t.invalid("invalid input");let i=mc(r.zone,xn.defaultZone);return i.isValid?new t({ts:n,zone:i,loc:Tn.fromObject(r)}):t.invalid(_w(i))}static fromMillis(e,r={}){if(vc(e))return e<-zW||e>zW?t.invalid("Timestamp out of range"):new t({ts:e,zone:mc(r.zone,xn.defaultZone),loc:Tn.fromObject(r)});throw new Ei(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(vc(e))return new t({ts:e*1e3,zone:mc(r.zone,xn.defaultZone),loc:Tn.fromObject(r)});throw new Ei("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};let n=mc(r.zone,xn.defaultZone);if(!n.isValid)return t.invalid(_w(n));let i=Tn.fromObject(r),a=Lg(e,qW),{minDaysInFirstWeek:o,startOfWeek:s}=P4(a,i),l=xn.now(),c=pr(r.specificOffset)?n.offset(l):r.specificOffset,u=!pr(a.ordinal),d=!pr(a.year),f=!pr(a.month)||!pr(a.day),h=d||f,p=a.weekYear||a.weekNumber;if((h||u)&&p)throw new fc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&u)throw new fc("Can't mix ordinal dates with month/day");let m=p||a.weekday&&!h,v,y,b=vC(l,c);m?(v=iMe,y=rMe,b=pw(b,o,s)):u?(v=aMe,y=nMe,b=pC(b)):(v=bC,y=WW);let x=!1;for(let I of v){let L=a[I];pr(L)?x?a[I]=y[I]:a[I]=b[I]:x=!0}let w=m?JV(a,o,s):u?eW(a):z4(a),S=w||F4(a);if(S)return t.invalid(S);let _=m?L4(a,o,s):u?O4(a):a,[C,E]=yC(_,c,n),M=new t({ts:C,zone:n,o:E,loc:i});return a.weekday&&h&&e.weekday!==M.weekday?t.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${M.toISO()}`):M.isValid?M:t.invalid(M.invalid)}static fromISO(e,r={}){let[n,i]=gW(e);return jg(n,i,r,"ISO 8601",e)}static fromRFC2822(e,r={}){let[n,i]=yW(e);return jg(n,i,r,"RFC 2822",e)}static fromHTTP(e,r={}){let[n,i]=bW(e);return jg(n,i,r,"HTTP",r)}static fromFormat(e,r,n={}){if(pr(e)||pr(r))throw new Ei("fromFormat requires an input string and a format");let{locale:i=null,numberingSystem:a=null}=n,o=Tn.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0}),[s,l,c,u]=OW(o,e,r);return u?t.invalid(u):jg(s,l,n,`format ${r}`,e,c)}static fromString(e,r,n={}){return t.fromFormat(e,r,n)}static fromSQL(e,r={}){let[n,i]=TW(e);return jg(n,i,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new Ei("need to specify a reason the DateTime is invalid");let n=e instanceof Ma?e:new Ma(e,r);if(xn.throwOnInvalid)throw new tC(n);return new t({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){let n=eN(e,Tn.fromObject(r));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(e,r={}){return Q4(Ra.parseFormat(e),Tn.fromObject(r)).map(i=>i.val).join("")}static resetCache(){Cw=void 0,aN.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?rN(this).weekYear:NaN}get weekNumber(){return this.isValid?rN(this).weekNumber:NaN}get weekday(){return this.isValid?rN(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?nN(this).weekday:NaN}get localWeekNumber(){return this.isValid?nN(this).weekNumber:NaN}get localWeekYear(){return this.isValid?nN(this).weekYear:NaN}get ordinal(){return this.isValid?pC(this.c).ordinal:NaN}get monthShort(){return this.isValid?vd.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?vd.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?vd.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?vd.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let e=864e5,r=6e4,n=Ag(this.c),i=this.zone.offset(n-e),a=this.zone.offset(n+e),o=this.zone.offset(n-i*r),s=this.zone.offset(n-a*r);if(o===s)return[this];let l=n-o*r,c=n-s*r,u=vC(l,o),d=vC(c,s);return u.hour===d.hour&&u.minute===d.minute&&u.second===d.second&&u.millisecond===d.millisecond?[Qp(this,{ts:l}),Qp(this,{ts:c})]:[this]}get isInLeapYear(){return Xp(this.year)}get daysInMonth(){return Ng(this.year,this.month)}get daysInYear(){return this.isValid?Zf(this.year):NaN}get weeksInWeekYear(){return this.isValid?$p(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?$p(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){let{locale:r,numberingSystem:n,calendar:i}=Ra.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:i}}toUTC(e=0,r={}){return this.setZone(Aa.instance(e),r)}toLocal(){return this.setZone(xn.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=mc(e,xn.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(r||n){let a=e.offset(this.ts),o=this.toObject();[i]=yC(o,a,e)}return Qp(this,{ts:i,zone:e})}else return t.invalid(_w(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){let i=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return Qp(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let r=Lg(e,qW),{minDaysInFirstWeek:n,startOfWeek:i}=P4(r,this.loc),a=!pr(r.weekYear)||!pr(r.weekNumber)||!pr(r.weekday),o=!pr(r.ordinal),s=!pr(r.year),l=!pr(r.month)||!pr(r.day),c=s||l,u=r.weekYear||r.weekNumber;if((c||o)&&u)throw new fc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new fc("Can't mix ordinal dates with month/day");let d;a?d=L4(ae(ae({},pw(this.c,n,i)),r),n,i):pr(r.ordinal)?(d=ae(ae({},this.toObject()),r),pr(r.day)&&(d.day=Math.min(Ng(d.year,d.month),d.day))):d=O4(ae(ae({},pC(this.c)),r));let[f,h]=yC(d,this.o,this.zone);return Qp(this,{ts:f,o:h})}plus(e){if(!this.isValid)return this;let r=Xn.fromDurationLike(e);return Qp(this,FW(this,r))}minus(e){if(!this.isValid)return this;let r=Xn.fromDurationLike(e).negate();return Qp(this,FW(this,r))}startOf(e,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;let n={},i=Xn.normalizeUnit(e);switch(i){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break;case"milliseconds":break}if(i==="weeks")if(r){let a=this.loc.getStartOfWeek(),{weekday:o}=this;o<a&&(n.weekNumber=this.weekNumber-1),n.weekday=a}else n.weekday=1;if(i==="quarters"){let a=Math.ceil(this.month/3);n.month=(a-1)*3+1}return this.set(n)}endOf(e,r){return this.isValid?this.plus({[e]:1}).startOf(e,r).minus(1):this}toFormat(e,r={}){return this.isValid?Ra.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):tN}toLocaleString(e=Bf,r={}){return this.isValid?Ra.create(this.loc.clone(r),e).formatDateTime(this):tN}toLocaleParts(e={}){return this.isValid?Ra.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:a=!1,precision:o="milliseconds"}={}){if(!this.isValid)return null;o=wC(o);let s=e==="extended",l=iN(this,s,o);return bC.indexOf(o)>=3&&(l+="T"),l+=HW(this,s,r,n,i,a,o),l}toISODate({format:e="extended",precision:r="day"}={}){return this.isValid?iN(this,e==="extended",wC(r)):null}toISOWeekDate(){return gC(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:a=!1,format:o="extended",precision:s="milliseconds"}={}){return this.isValid?(s=wC(s),(i&&bC.indexOf(s)>=3?"T":"")+HW(this,o==="extended",r,e,n,a,s)):null}toRFC2822(){return gC(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return gC(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?iN(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(r||e)&&(n&&(i+=" "),r?i+="z":e&&(i+="ZZ")),gC(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():tN}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let r=ae({},this.c);return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return Xn.invalid("created by diffing an invalid DateTime");let i=ae({locale:this.locale,numberingSystem:this.numberingSystem},n),a=nW(r).map(Xn.normalizeUnit),o=e.valueOf()>this.valueOf(),s=o?this:e,l=o?e:this,c=AW(s,l,a,i);return o?c.negate():c}diffNow(e="milliseconds",r={}){return this.diff(t.now(),e,r)}until(e){return this.isValid?md.fromDateTimes(this,e):this}hasSame(e,r,n){if(!this.isValid)return!1;let i=e.valueOf(),a=this.setZone(e.zone,{keepLocalTime:!0});return a.startOf(r,n)<=i&&i<=a.endOf(r,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let r=e.base||t.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0,i=["years","months","days","hours","minutes","seconds"],a=e.unit;return Array.isArray(e.unit)&&(i=e.unit,a=void 0),BW(r,this.plus(n),We(ae({},e),{numeric:"always",units:i,unit:a}))}toRelativeCalendar(e={}){return this.isValid?BW(e.base||t.fromObject({},{zone:this.zone}),this,We(ae({},e),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}static min(...e){if(!e.every(t.isDateTime))throw new Ei("min requires all arguments be DateTimes");return q4(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(t.isDateTime))throw new Ei("max requires all arguments be DateTimes");return q4(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){let{locale:i=null,numberingSystem:a=null}=n,o=Tn.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0});return J4(o,e,r)}static fromStringExplain(e,r,n={}){return t.fromFormatExplain(e,r,n)}static buildFormatParser(e,r={}){let{locale:n=null,numberingSystem:i=null}=r,a=Tn.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0});return new Sw(a,e)}static fromFormatParser(e,r,n={}){if(pr(e)||pr(r))throw new Ei("fromFormatParser requires an input string and a format parser");let{locale:i=null,numberingSystem:a=null}=n,o=Tn.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0});if(!o.equals(r.locale))throw new Ei(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${r.locale}`);let{result:s,zone:l,specificOffset:c,invalidReason:u}=r.explainFromTokens(e);return u?t.invalid(u):jg(s,l,n,`format ${r.format}`,e,c)}static get DATE_SHORT(){return Bf}static get DATE_MED(){return V1}static get DATE_MED_WITH_WEEKDAY(){return u4}static get DATE_FULL(){return W1}static get DATE_HUGE(){return G1}static get TIME_SIMPLE(){return Y1}static get TIME_WITH_SECONDS(){return Z1}static get TIME_WITH_SHORT_OFFSET(){return $1}static get TIME_WITH_LONG_OFFSET(){return X1}static get TIME_24_SIMPLE(){return K1}static get TIME_24_WITH_SECONDS(){return Q1}static get TIME_24_WITH_SHORT_OFFSET(){return J1}static get TIME_24_WITH_LONG_OFFSET(){return ew}static get DATETIME_SHORT(){return tw}static get DATETIME_SHORT_WITH_SECONDS(){return rw}static get DATETIME_MED(){return nw}static get DATETIME_MED_WITH_SECONDS(){return iw}static get DATETIME_MED_WITH_WEEKDAY(){return d4}static get DATETIME_FULL(){return aw}static get DATETIME_FULL_WITH_SECONDS(){return ow}static get DATETIME_HUGE(){return sw}static get DATETIME_HUGE_WITH_SECONDS(){return lw}}});var da=Re(()=>{Yf();Tw();$4();X4();Yp();Rg();Wf();M4();aC();Gf()});function gMe(){let t=[],e=Object.create(null),r;return e.get=(n,i)=>{var a;return(a=r==null?void 0:r.revoke)==null||a.call(r),i===aG?t:(t.push(i),r=Proxy.revocable(n,e),r.proxy)},Proxy.revocable(Object.create(null),e).proxy}function dN(t,e){var n;let{[aG]:r}=t(gMe());return r.join((n=e==null?void 0:e.keySeparator)!=null?n:".")}var Ar,kw,GW,sMe,lMe,YW,ZW,Ew,$W,cMe,TC,uMe,nG,Vg,dMe,fMe,lN,hMe,pMe,mMe,cN,Dw,vMe,uN,su,Wg,SC,iG,aG,XW,oN,_C,CC,KW,QW,fN,JW,sN,hN,yMe,eG,bMe,pN,wMe,mN,tG,rG,xC,xMe,kC,Ia,Qst,Jst,elt,tlt,rlt,nlt,ilt,alt,olt,slt,llt,clt,ult,dlt,oG=Re(()=>{Ar=t=>typeof t=="string",kw=()=>{let t,e,r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},GW=t=>t==null?"":""+t,sMe=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},lMe=/###/g,YW=t=>t&&t.indexOf("###")>-1?t.replace(lMe,"."):t,ZW=t=>!t||Ar(t),Ew=(t,e,r)=>{let n=Ar(e)?e.split("."):e,i=0;for(;i<n.length-1;){if(ZW(t))return{};let a=YW(n[i]);!t[a]&&r&&(t[a]=new r),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return ZW(t)?{}:{obj:t,k:YW(n[i])}},$W=(t,e,r)=>{let{obj:n,k:i}=Ew(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let a=e[e.length-1],o=e.slice(0,e.length-1),s=Ew(t,o,Object);for(;s.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),s=Ew(t,o,Object),s!=null&&s.obj&&typeof s.obj[`${s.k}.${a}`]!="undefined"&&(s.obj=void 0);s.obj[`${s.k}.${a}`]=r},cMe=(t,e,r,n)=>{let{obj:i,k:a}=Ew(t,e,Object);i[a]=i[a]||[],i[a].push(r)},TC=(t,e)=>{let{obj:r,k:n}=Ew(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},uMe=(t,e,r)=>{let n=TC(t,r);return n!==void 0?n:TC(e,r)},nG=(t,e,r)=>{for(let n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?Ar(t[n])||t[n]instanceof String||Ar(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):nG(t[n],e[n],r):t[n]=e[n]);return t},Vg=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),dMe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},fMe=t=>Ar(t)?t.replace(/[&<>"'\/]/g,e=>dMe[e]):t,lN=class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let r=this.regExpMap.get(e);if(r!==void 0)return r;let n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}},hMe=[" ",",","?","!",";"],pMe=new lN(20),mMe=(t,e,r)=>{e=e||"",r=r||"";let n=hMe.filter(o=>e.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;let i=pMe.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`),a=!i.test(t);if(!a){let o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a},cN=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;let n=e.split(r),i=t;for(let a=0;a<n.length;){if(!i||typeof i!="object")return;let o,s="";for(let l=a;l<n.length;++l)if(l!==a&&(s+=r),s+=n[l],o=i[s],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<n.length-1)continue;a+=l-a+1;break}i=o}return i},Dw=t=>t==null?void 0:t.replace("_","-"),vMe={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var r,n;(n=(r=console==null?void 0:console[t])==null?void 0:r.apply)==null||n.call(r,console,e)}},uN=class t{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||vMe,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(Ar(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new t(this.logger,ae({prefix:`${this.prefix}:${e}:`},this.options))}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new t(this.logger,e)}},su=new uN,Wg=class{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);let i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let o=0;o<a;o++)i(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let o=0;o<a;o++)i.apply(i,[e,...r])})}},SC=class extends Wg{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,i={}){var c,u;let a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure,s;e.indexOf(".")>-1?s=e.split("."):(s=[e,r],n&&(Array.isArray(n)?s.push(...n):Ar(n)&&a?s.push(...n.split(a)):s.push(n)));let l=TC(this.data,s);return!l&&!r&&!n&&e.indexOf(".")>-1&&(e=s[0],r=s[1],n=s.slice(2).join(".")),l||!o||!Ar(n)?l:cN((u=(c=this.data)==null?void 0:c[e])==null?void 0:u[r],n,a)}addResource(e,r,n,i,a={silent:!1}){let o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,s=[e,r];n&&(s=s.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(s=e.split("."),i=r,r=s[1]),this.addNamespaces(r),$W(this.data,s,i),a.silent||this.emit("added",e,r,n,i)}addResources(e,r,n,i={silent:!1}){for(let a in n)(Ar(n[a])||Array.isArray(n[a]))&&this.addResource(e,r,a,n[a],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,a,o={silent:!1,skipCopy:!1}){let s=[e,r];e.indexOf(".")>-1&&(s=e.split("."),i=n,n=r,r=s[1]),this.addNamespaces(r);let l=TC(this.data,s)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?nG(l,n,a):l=ae(ae({},l),n),$W(this.data,s,l),o.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}},iG={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(a=>{var o,s;e=(s=(o=this.processors[a])==null?void 0:o.process(e,r,n,i))!=null?s:e}),e}},aG=Symbol("i18next/PATH_KEY");XW={},oN=t=>!Ar(t)&&typeof t!="boolean"&&typeof t!="number",_C=class t extends Wg{constructor(e,r={}){super(),sMe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=su.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){let n=ae({},r);if(e==null)return!1;let i=this.resolve(e,n);if((i==null?void 0:i.res)===void 0)return!1;let a=oN(i.res);return!(n.returnObjects===!1&&a)}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");let i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,a=r.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,s=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!mMe(e,n,i);if(o&&!s){let l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:Ar(a)?[a]:a};let c=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(c[0])>-1)&&(a=c.shift()),e=c.join(i)}return{key:e,namespaces:Ar(a)?[a]:a}}translate(e,r,n){let i=typeof r=="object"?ae({},r):r;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i=ae({},i)),i||(i={}),e==null)return"";typeof e=="function"&&(e=dN(e,ae(ae({},this.options),i))),Array.isArray(e)||(e=[String(e)]);let a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:s,namespaces:l}=this.extractFromKey(e[e.length-1],i),c=l[l.length-1],u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");let d=i.lng||this.language,f=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode")return f?a?{res:`${c}${u}${s}`,usedKey:s,exactUsedKey:s,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${u}${s}`:a?{res:s,usedKey:s,exactUsedKey:s,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:s;let h=this.resolve(e,i),p=h==null?void 0:h.res,m=(h==null?void 0:h.usedKey)||s,v=(h==null?void 0:h.exactUsedKey)||s,y=["[object Number]","[object Function]","[object RegExp]"],b=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,w=i.count!==void 0&&!Ar(i.count),S=t.hasDefaultValue(i),_=w?this.pluralResolver.getSuffix(d,i.count,i):"",C=i.ordinal&&w?this.pluralResolver.getSuffix(d,i.count,{ordinal:!1}):"",E=w&&!i.ordinal&&i.count===0,M=E&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${_}`]||i[`defaultValue${C}`]||i.defaultValue,I=p;x&&!p&&S&&(I=M);let L=oN(I),O=Object.prototype.toString.apply(I);if(x&&I&&L&&y.indexOf(O)<0&&!(Ar(b)&&Array.isArray(I))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let H=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,I,We(ae({},i),{ns:l})):`key '${s} (${this.language})' returned an object instead of string.`;return a?(h.res=H,h.usedParams=this.getUsedParamsDetails(i),h):H}if(o){let H=Array.isArray(I),Y=H?[]:{},K=H?v:m;for(let N in I)if(Object.prototype.hasOwnProperty.call(I,N)){let U=`${K}${o}${N}`;S&&!p?Y[N]=this.translate(U,We(ae({},i),{defaultValue:oN(M)?M[N]:void 0,joinArrays:!1,ns:l})):Y[N]=this.translate(U,We(ae({},i),{joinArrays:!1,ns:l})),Y[N]===U&&(Y[N]=I[N])}p=Y}}else if(x&&Ar(b)&&Array.isArray(p))p=p.join(b),p&&(p=this.extendTranslation(p,e,i,n));else{let H=!1,Y=!1;!this.isValidLookup(p)&&S&&(H=!0,p=M),this.isValidLookup(p)||(Y=!0,p=s);let N=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Y?void 0:p,U=S&&M!==p&&this.options.updateMissing;if(Y||H||U){if(this.logger.log(U?"updateKey":"missingKey",d,c,s,U?M:p),o){let te=this.resolve(s,We(ae({},i),{keySeparator:!1}));te&&te.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let B=[],$=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&$&&$[0])for(let te=0;te<$.length;te++)B.push($[te]);else this.options.saveMissingTo==="all"?B=this.languageUtils.toResolveHierarchy(i.lng||this.language):B.push(i.lng||this.language);let ee=(te,he,we)=>{var ce;let Te=S&&we!==p?we:N;this.options.missingKeyHandler?this.options.missingKeyHandler(te,c,he,Te,U,i):(ce=this.backendConnector)!=null&&ce.saveMissing&&this.backendConnector.saveMissing(te,c,he,Te,U,i),this.emit("missingKey",te,c,he,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&w?B.forEach(te=>{let he=this.pluralResolver.getSuffixes(te,i);E&&i[`defaultValue${this.options.pluralSeparator}zero`]&&he.indexOf(`${this.options.pluralSeparator}zero`)<0&&he.push(`${this.options.pluralSeparator}zero`),he.forEach(we=>{ee([te],s+we,i[`defaultValue${we}`]||M)})}):ee(B,s,M))}p=this.extendTranslation(p,e,i,h,n),Y&&p===s&&this.options.appendNamespaceToMissingKey&&(p=`${c}${u}${s}`),(Y||H)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${u}${s}`:s,H?p:void 0,i))}return a?(h.res=p,h.usedParams=this.getUsedParamsDetails(i),h):p}extendTranslation(e,r,n,i,a){var l,c;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,ae(ae({},this.options.interpolation.defaultVariables),n),n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(We(ae({},n),{interpolation:ae(ae({},this.options.interpolation),n.interpolation)}));let u=Ar(e)&&(((c=n==null?void 0:n.interpolation)==null?void 0:c.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),d;if(u){let h=e.match(this.interpolator.nestingRegexp);d=h&&h.length}let f=n.replace&&!Ar(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f=ae(ae({},this.options.interpolation.defaultVariables),f)),e=this.interpolator.interpolate(e,f,n.lng||this.language||i.usedLng,n),u){let h=e.match(this.interpolator.nestingRegexp),p=h&&h.length;d<p&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...h)=>(a==null?void 0:a[0])===h[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${r[0]}`),null):this.translate(...h,r),n)),n.interpolation&&this.interpolator.reset()}let o=n.postProcess||this.options.postProcess,s=Ar(o)?[o]:o;return e!=null&&(s!=null&&s.length)&&n.applyPostProcessor!==!1&&(e=iG.handle(s,e,r,this.options&&this.options.postProcessPassResolved?ae({i18nResolved:We(ae({},i),{usedParams:this.getUsedParamsDetails(n)})},n):n,this)),e}resolve(e,r={}){let n,i,a,o,s;return Ar(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;let c=this.extractFromKey(l,r),u=c.key;i=u;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));let f=r.count!==void 0&&!Ar(r.count),h=f&&!r.ordinal&&r.count===0,p=r.context!==void 0&&(Ar(r.context)||typeof r.context=="number")&&r.context!=="",m=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);d.forEach(v=>{var y,b;this.isValidLookup(n)||(s=v,!XW[`${m[0]}-${v}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(s))&&(XW[`${m[0]}-${v}`]=!0,this.logger.warn(`key "${i}" for languages "${m.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(x=>{var _;if(this.isValidLookup(n))return;o=x;let w=[u];if((_=this.i18nFormat)!=null&&_.addLookupKeys)this.i18nFormat.addLookupKeys(w,u,x,v,r);else{let C;f&&(C=this.pluralResolver.getSuffix(x,r.count,r));let E=`${this.options.pluralSeparator}zero`,M=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(r.ordinal&&C.indexOf(M)===0&&w.push(u+C.replace(M,this.options.pluralSeparator)),w.push(u+C),h&&w.push(u+E)),p){let I=`${u}${this.options.contextSeparator||"_"}${r.context}`;w.push(I),f&&(r.ordinal&&C.indexOf(M)===0&&w.push(I+C.replace(M,this.options.pluralSeparator)),w.push(I+C),h&&w.push(I+E))}}let S;for(;S=w.pop();)this.isValidLookup(n)||(a=S,n=this.getResource(x,v,S,r))}))})}),{res:n,usedKey:i,exactUsedKey:a,usedLng:o,usedNS:s}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(e={}){let r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Ar(e.replace),i=n?e.replace:e;if(n&&typeof e.count!="undefined"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i=ae(ae({},this.options.interpolation.defaultVariables),i)),!n){i=ae({},i);for(let a of r)delete i[a]}return i}static hasDefaultValue(e){let r="defaultValue";for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}},CC=class{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=su.create("languageUtils")}getScriptPartFromCode(e){if(e=Dw(e),!e||e.indexOf("-")<0)return null;let r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=Dw(e),!e||e.indexOf("-")<0)return e;let r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(Ar(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch(n){}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;let i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;let i=this.getScriptPartFromCode(n);if(this.isSupportedCode(i))return r=i;let a=this.getLanguagePartFromCode(n);if(this.isSupportedCode(a))return r=a;r=this.options.supportedLngs.find(o=>{if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&(o.indexOf("-")>0&&a.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===a||o.indexOf(a)===0&&a.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),Ar(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){let n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),i=[],a=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Ar(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Ar(e)&&a(this.formatLanguageCode(e)),n.forEach(o=>{i.indexOf(o)<0&&a(this.formatLanguageCode(o))}),i}},KW={zero:0,one:1,two:2,few:3,many:4,other:5},QW={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})},fN=class{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=su.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){let n=Dw(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:n,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let o;try{o=new Intl.PluralRules(n,{type:i})}catch(s){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),QW;if(!e.match(/-|_/))return QW;let l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,r)}return this.pluralRulesCache[a]=o,o}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(i=>`${r}${i}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((i,a)=>KW[i]-KW[a]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,r,n={}){let i=this.getRule(e,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}},JW=(t,e,r,n=".",i=!0)=>{let a=uMe(t,e,r);return!a&&i&&Ar(r)&&(a=cN(t,r,n),a===void 0&&(a=cN(e,r,n))),a},sN=t=>t.replace(/\$/g,"$$$$"),hN=class{constructor(e={}){var r;this.logger=su.create("interpolator"),this.options=e,this.format=((r=e==null?void 0:e.interpolation)==null?void 0:r.format)||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});let{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:a,prefixEscaped:o,suffix:s,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:f,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:m,nestingOptionsSeparator:v,maxReplaces:y,alwaysFormat:b}=e.interpolation;this.escape=r!==void 0?r:fMe,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?Vg(a):o||"{{",this.suffix=s?Vg(s):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=f?Vg(f):h||Vg("$t("),this.nestingSuffix=p?Vg(p):m||Vg(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=y||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,i){var h;let a,o,s,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=p=>{if(p.indexOf(this.formatSeparator)<0){let b=JW(r,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,n,We(ae(ae({},i),r),{interpolationkey:p})):b}let m=p.split(this.formatSeparator),v=m.shift().trim(),y=m.join(this.formatSeparator).trim();return this.format(JW(r,l,v,this.options.keySeparator,this.options.ignoreJSONStructure),y,n,We(ae(ae({},i),r),{interpolationkey:v}))};this.resetRegExp();let u=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((h=i==null?void 0:i.interpolation)==null?void 0:h.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>sN(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?sN(this.escape(p)):sN(p)}].forEach(p=>{for(s=0;a=p.regex.exec(e);){let m=a[1].trim();if(o=c(m),o===void 0)if(typeof u=="function"){let y=u(e,a,i);o=Ar(y)?y:""}else if(i&&Object.prototype.hasOwnProperty.call(i,m))o="";else if(d){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${e}`),o="";else!Ar(o)&&!this.useRawValueToEscape&&(o=GW(o));let v=p.safeValue(o);if(e=e.replace(a[0],v),d?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=a[0].length):p.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,r,n={}){let i,a,o,s=(l,c)=>{var m;let u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;let d=l.split(new RegExp(`${u}[ ]*{`)),f=`{${d[1]}`;l=d[0],f=this.interpolate(f,o);let h=f.match(/'/g),p=f.match(/"/g);(((m=h==null?void 0:h.length)!=null?m:0)%2===0&&!p||p.length%2!==0)&&(f=f.replace(/'/g,'"'));try{o=JSON.parse(f),c&&(o=ae(ae({},c),o))}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,v),`${l}${u}${f}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];o=ae({},n),o=o.replace&&!Ar(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(c!==-1&&(l=i[1].slice(c).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),i[1]=i[1].slice(0,c)),a=r(s.call(this,i[1].trim(),o),o),a&&i[0]===e&&!Ar(a))return a;Ar(a)||(a=GW(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),l.length&&(a=l.reduce((u,d)=>this.format(u,d,n.lng,We(ae({},n),{interpolationkey:i[1].trim()})),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}},yMe=t=>{let e=t.toLowerCase().trim(),r={};if(t.indexOf("(")>-1){let n=t.split("(");e=n[0].toLowerCase().trim();let i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(o=>{if(o){let[s,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=s.trim();r[u]||(r[u]=c),c==="false"&&(r[u]=!1),c==="true"&&(r[u]=!0),isNaN(c)||(r[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:r}},eG=t=>{let e={};return(r,n,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a=We(ae({},a),{[i.interpolationkey]:void 0}));let o=n+JSON.stringify(a),s=e[o];return s||(s=t(Dw(n),i),e[o]=s),s(r)}},bMe=t=>(e,r,n)=>t(Dw(r),n)(e),pN=class{constructor(e={}){this.logger=su.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";let n=r.cacheInBuiltFormats?eG:bMe;this.formats={number:n((i,a)=>{let o=new Intl.NumberFormat(i,ae({},a));return s=>o.format(s)}),currency:n((i,a)=>{let o=new Intl.NumberFormat(i,We(ae({},a),{style:"currency"}));return s=>o.format(s)}),datetime:n((i,a)=>{let o=new Intl.DateTimeFormat(i,ae({},a));return s=>o.format(s)}),relativetime:n((i,a)=>{let o=new Intl.RelativeTimeFormat(i,ae({},a));return s=>o.format(s,a.range||"day")}),list:n((i,a)=>{let o=new Intl.ListFormat(i,ae({},a));return s=>o.format(s)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=eG(r)}format(e,r,n,i={}){let a=r.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(s=>s.indexOf(")")>-1)){let s=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,s)].join(this.formatSeparator)}return a.reduce((s,l)=>{var d;let{formatName:c,formatOptions:u}=yMe(l);if(this.formats[c]){let f=s;try{let h=((d=i==null?void 0:i.formatParams)==null?void 0:d[i.interpolationkey])||{},p=h.locale||h.lng||i.locale||i.lng||n;f=this.formats[c](s,p,ae(ae(ae({},u),i),h))}catch(h){this.logger.warn(h)}return f}else this.logger.warn(`there was no format function for ${c}`);return s},e)}},wMe=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)},mN=class extends Wg{constructor(e,r,n,i={}){var a,o;super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=su.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(o=(a=this.backend)==null?void 0:a.init)==null||o.call(a,n,i.backend,i)}queueLoad(e,r,n,i){let a={},o={},s={},l={};return e.forEach(c=>{let u=!0;r.forEach(d=>{let f=`${c}|${d}`;!n.reload&&this.store.hasResourceBundle(c,d)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?o[f]===void 0&&(o[f]=!0):(this.state[f]=1,u=!1,o[f]===void 0&&(o[f]=!0),a[f]===void 0&&(a[f]=!0),l[d]===void 0&&(l[d]=!0)))}),u||(s[c]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(e,r,n){let i=e.split("|"),a=i[0],o=i[1];r&&this.emit("failedLoading",a,o,r),!r&&n&&this.store.addResourceBundle(a,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);let s={};this.queue.forEach(l=>{cMe(l.loaded,[a],o),wMe(l,e),r&&l.errors.push(r),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{s[c]||(s[c]={});let u=l.loaded[c];u.length&&u.forEach(d=>{s[c][d]===void 0&&(s[c][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(e,r,n,i=0,a=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:a,callback:o});return}this.readingCalls++;let s=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){let d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,a*2,o)},a);return}o(c,u)},l=this.backend[n].bind(this.backend);if(l.length===2){try{let c=l(e,r);c&&typeof c.then=="function"?c.then(u=>s(null,u)).catch(s):s(null,c)}catch(c){s(c)}return}return l(e,r,s)}prepareLoading(e,r,n={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Ar(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ar(r)&&(r=[r]);let a=this.queueLoad(e,r,n,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){let n=e.split("|"),i=n[0],a=n[1];this.read(i,a,"read",void 0,void 0,(o,s)=>{o&&this.logger.warn(`${r}loading namespace ${a} for language ${i} failed`,o),!o&&s&&this.logger.log(`${r}loaded namespace ${a} for language ${i}`,s),this.loaded(e,o,s)})}saveMissing(e,r,n,i,a,o={},s=()=>{}){var l,c,u,d,f;if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((d=(u=this.services)==null?void 0:u.utils)!=null&&d.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((f=this.backend)!=null&&f.create){let h=We(ae({},o),{isUpdate:a}),p=this.backend.create.bind(this.backend);if(p.length<6)try{let m;p.length===5?m=p(e,r,n,i,h):m=p(e,r,n,i),m&&typeof m.then=="function"?m.then(v=>s(null,v)).catch(s):s(null,m)}catch(m){s(m)}else p(e,r,n,i,s,h)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}},tG=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Ar(t[1])&&(e.defaultValue=t[1]),Ar(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){let r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),rG=t=>{var e,r;return Ar(t.ns)&&(t.ns=[t.ns]),Ar(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Ar(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((r=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:r.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},xC=()=>{},xMe=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})},kC=class t extends Wg{constructor(e={},r){if(super(),this.options=rG(e),this.services={},this.logger=su,this.modules={external:[]},xMe(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(Ar(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));let n=tG();this.options=ae(ae(ae({},n),this.options),rG(e)),this.options.interpolation=ae(ae({},n.interpolation),this.options.interpolation),e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);let i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?su.init(i(this.modules.logger),this.options):su.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=pN;let u=new CC(this.options);this.store=new SC(this.options.resources,this.options);let d=this.services;d.logger=su,d.resourceStore=this.store,d.languageUtils=u,d.pluralResolver=new fN(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(d.formatter=i(c),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new hN(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new mN(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(h,...p)=>{this.emit(h,...p)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new _C(this.services,this.options),this.translator.on("*",(h,...p)=>{this.emit(h,...p)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,r||(r=xC),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...u)=>this.store[c](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...u)=>(this.store[c](...u),this)});let s=kw(),l=()=>{let c=(u,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(d),r(u,d)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),s}loadResources(e,r=xC){var a,o;let n=r,i=Ar(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();let s=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(d=>{d!=="cimode"&&s.indexOf(d)<0&&s.push(d)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>l(u)),(o=(a=this.options.preload)==null?void 0:a.forEach)==null||o.call(a,c=>l(c)),this.services.backendConnector.load(s,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(c)})}else n(null)}reloadResources(e,r,n){let i=kw();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=xC),this.services.backendConnector.reload(e,r,a=>{i.resolve(),n(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&iG.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){let n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;let n=kw();this.emit("languageChanging",e);let i=s=>{this.language=s,this.languages=this.services.languageUtils.toResolveHierarchy(s),this.resolvedLanguage=void 0,this.setResolvedLanguage(s)},a=(s,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,n.resolve((...c)=>this.t(...c)),r&&r(s,(...c)=>this.t(...c))},o=s=>{var u,d;!e&&!s&&this.services.languageDetector&&(s=[]);let l=Ar(s)?s:s&&s[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(Ar(s)?[s]:s);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),(d=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||d.call(u,c)),this.loadResources(c,f=>{a(f,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),n}getFixedT(e,r,n){let i=(a,o,...s)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([a,o].concat(s)):l=ae({},o),l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||i.keyPrefix);let c=this.options.keySeparator||".",u;return l.keyPrefix&&Array.isArray(a)?u=a.map(d=>(typeof d=="function"&&(d=dN(d,ae(ae({},this.options),o))),`${l.keyPrefix}${c}${d}`)):(typeof a=="function"&&(a=dN(a,ae(ae({},this.options),o))),u=l.keyPrefix?`${l.keyPrefix}${c}${a}`:a),this.t(u,l)};return Ar(e)?i.lng=e:i.lngs=e,i.ns=r,i.keyPrefix=n,i}t(...e){var r;return(r=this.translator)==null?void 0:r.translate(...e)}exists(...e){var r;return(r=this.translator)==null?void 0:r.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;let o=(s,l)=>{let c=this.services.backendConnector.state[`${s}|${l}`];return c===-1||c===0||c===2};if(r.precheck){let s=r.precheck(this,o);if(s!==void 0)return s}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!i||o(a,e)))}loadNamespaces(e,r){let n=kw();return this.options.ns?(Ar(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){let n=kw();Ar(e)&&(e=[e]);let i=this.options.preload||[],a=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=i.concat(a),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{let o=new Intl.Locale(e);if(o&&o.getTextInfo){let s=o.getTextInfo();if(s&&s.direction)return s.direction}}catch(o){}let r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((a=this.services)==null?void 0:a.languageUtils)||new CC(tG());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){return new t(e,r)}cloneInstance(e={},r=xC){let n=e.forkResourceStore;n&&delete e.forkResourceStore;let i=We(ae(ae({},this.options),e),{isClone:!0}),a=new t(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(s=>{a[s]=this[s]}),a.services=ae({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n){let s=Object.keys(this.store.data).reduce((l,c)=>(l[c]=ae({},this.store.data[c]),l[c]=Object.keys(l[c]).reduce((u,d)=>(u[d]=ae({},l[c][d]),u),l[c]),l),{});a.store=new SC(s,i),a.services.resourceStore=a.store}return a.translator=new _C(a.services,i),a.translator.on("*",(s,...l)=>{a.emit(s,...l)}),a.init(i,r),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},Ia=kC.createInstance();Ia.createInstance=kC.createInstance;Qst=Ia.createInstance,Jst=Ia.dir,elt=Ia.init,tlt=Ia.loadResources,rlt=Ia.reloadResources,nlt=Ia.use,ilt=Ia.changeLanguage,alt=Ia.getFixedT,olt=Ia.t,slt=Ia.exists,llt=Ia.setDefaultNamespace,clt=Ia.hasLoadedNamespace,ult=Ia.loadNamespaces,dlt=Ia.loadLanguages});var lG,sG=Re(()=>{lG={chrono:{ui:{title:"Configure Insight Groups",description:"Create groups to categorize your activities. The engine will use these rules to generate personalized insights.",save:"Save Configuration",cancel:"Cancel",addGroup:"Add New Insight Group",groupName:"Group Name",groupNamePlaceholder:"e.g., Work",deleteGroup:"Delete this group",persona:{name:"Analyze as Persona",desc:"Choose the analytical model to apply to this group.",productivity:"\u{1F3AF} Productivity",wellness:"\u2764\uFE0F Wellness & Routine",none:"\u26AA (Ignore in Dashboard)"},hierarchies:{name:"Matching Hierarchies",desc:"e.g., Work Calendar, Personal Calendar",add:"Add hierarchy..."},projects:{name:"Matching Projects",desc:"e.g., Project Phoenix, Q4 Report",add:"Add project..."},mutedProjects:{name:"Muted Projects",desc:"Mute specific projects (case-sensitive, exact match) to exclude them from Habit Consistency checks.",add:"Add muted project..."},subprojectKeywords:{name:"Matching Sub-project Keywords",desc:"Add keywords that will match if found anywhere in a sub-project.",placeholder:`eg., design
research
meeting`},mutedSubprojectKeywords:{name:"Muted Sub-project Keywords",desc:"Mute activities by keyword. If a sub-project contains any of these (case-insensitive) keywords, it will be excluded from Habit Consistency checks.",placeholder:`e.g., completed
archive
old`},unsavedChanges:{title:"Unsaved Changes",message:"You have unsaved changes. Would you like to save them before closing?",saveAndClose:"Save and Close",discard:"Discard Changes"},folderSelectPlaceholder:"Select a folder with your time tracking files...",errors:{groupExists:'Group name "{{name}}" already exists.'}}},commands:{newEvent:"New Event",resetCache:"Reset Event Cache",revalidateRemote:"Revalidate remote calendars",openCalendar:"Open Calendar",openChronoAnalyser:"Open Chrono Analyser (Desktop Only)",openSidebar:"Open in sidebar"},notices:{settingsUpdated:"Full Calendar has updated your calendar settings to a new format.",cacheReset:"Full Calendar has been reset.",chronoAnalyserMobileDisabled:"The Chrono Analyser feature is only available on the desktop version of Obsidian.",chronoAnalyserInitializing:"Chrono Analyser: Initializing event cache...",chronoAnalyserLoadFailed:"Failed to load Chrono Analyser. Please check the console.",chronoAnalyserConfigureFirst:"Please configure your Insight Groups first using the \u2699\uFE0F icon.",chronoAnalyserGeneratingInsights:"Generating insights (this may take a moment)...",chronoAnalyserInsightsFailed:"Failed to generate insights. Check the developer console for errors.",chronoAnalyserInsightsSaved:"Insights configuration saved!",googleAuthFailed:"Google authentication failed. Please try again.",bulkUpdateError:"Error during bulk update. Check console for details.",providerNotRegistered:"{{providerType}} provider is not registered.",timezoneChanged:"System timezone changed to {{timezone}}. Full Calendar view updated to match.",revalidatingRemotes:"Revalidating remote calendars...",revalidationFailed:"One or more remote calendars failed to load. Check the console for details.",revalidationSuccess:"Remote calendars revalidated.",cannotOpenRemote:"Cannot open note for a remote event.",bulkCategorization:{noNotesFound:"No local event notes found to categorize.",progress:"Categorizing event notes: {{index}}/{{total}}",complete:"Bulk categorization complete."},bulkDecategorization:{noNotesFound:"No local event notes found to de-categorize.",progress:"De-categorizing event notes: {{index}}/{{total}}",complete:"Bulk de-categorization complete."},tasks:{createViaPlugin:"Use the Tasks plugin interface to create new tasks.",defaultValidation:"This task cannot be scheduled on this date.",scheduledNoModal:"Task scheduled, but could not open Tasks edit modal.",apiUnavailable:"Obsidian Tasks plugin API not available."}},eventCache:{calendarNotFound:"Cannot add event: calendar with ID {{calendarId}} not found.",providerNotFound:"Cannot add event: provider for type {{type}} not found.",readOnly:"Cannot add event to a read-only calendar.",createFailed:"Failed to create event. Change has been reverted.",deleteFailed:"Failed to delete event. Change has been reverted.",updateFailed:"Failed to update event. Change has been reverted."},recurEvents:{promotingChildren:"Promoting {{count}} child event(s).",deletedAndPromoted:"Recurring event deleted and children promoted.",deletingWithChildren:"Deleting recurring event and its {{count}} child override(s)...",deletedAll:"Successfully deleted recurring event and all children.",preservingTiming:"Preserving modified event timing and uncompleting task.",revertingControl:"Reverting control to Main Recurring event sequence.",updatingChildren:"Updating {{count}} child event(s) to match new parent title.",updateError:"Error updating recurring event. Some children may not have been updated."},ribbon:{openCalendar:"Open Full Calendar"},settings:{general:{desktopInitialView:{label:"Desktop initial view",description:"Choose the initial view range on desktop devices."},mobileInitialView:{label:"Mobile initial view",description:"Choose the initial view range on mobile devices."},displayTimezone:{label:"Display timezone",description:"Choose the timezone for displaying events. Defaults to your system timezone. Changing this will reload the calendar."},clickToCreateEvent:{label:"Click on a day in month view to create event",description:"Switch off to open day view on click instead."}},reminders:{title:"Reminders",enableDefault:{label:"Enable default reminder",description:"Automatically add a reminder to new events."},defaultTime:{label:"Default reminder time",description:"Minutes before event to remind (default: 10)"}},appearance:{title:"Appearance",firstDay:{label:"Starting day of the week",description:"Choose what day of the week to start."},timeFormat24h:{label:"24-hour format",description:"Display the time in a 24-hour format."},businessHours:{enable:{label:"Enable business hours",description:"Highlight your working hours in time-grid views to distinguish work time from personal time."},days:{label:"Business days",description:"Select which days of the week are business days."},startTime:{label:"Business hours start time",description:"When your working day begins (format: HH:mm)"},endTime:{label:"Business hours end time",description:"When your working day ends (format: HH:mm)"},options:{mondayFriday:"Monday - Friday",everyDay:"Every day",mondayThursday:"Monday - Thursday",tuesdaySaturday:"Tuesday - Saturday"}},viewTimeRange:{title:"View Time Range",slotMinTime:{label:"Earliest time to display",description:"Set the earliest time visible in time grid views (format: HH:mm)"},slotMaxTime:{label:"Latest time to display",description:"Set the latest time visible in time grid views (format: HH:mm)"}},dayVisibility:{title:"Day Visibility",weekends:{label:"Show weekends",description:"Whether to display weekend days (Saturday and Sunday) in the calendar"},hiddenDays:{label:"Hidden days",description:"Select days of the week to hide from the calendar",options:{showAll:"Show all days",hideWeekends:"Hide weekends (Sun, Sat)",hideSunday:"Hide Sunday only",hideSaturday:"Hide Saturday only",hideMonday:"Hide Monday",hideTuesday:"Hide Tuesday",hideWednesday:"Hide Wednesday",hideThursday:"Hide Thursday",hideFriday:"Hide Friday"}}},dayMaxEvents:{label:"Max events per day (month view)",description:"Limit the number of events shown per day in month view",options:{default:"Use default limit",unlimited:"No limit (show all)",one:"1 event maximum",two:"2 events maximum",three:"3 events maximum",four:"4 events maximum",five:"5 events maximum",ten:"10 events maximum"}},enableBackgroundEvents:{label:"Enable background events",description:"Allow events to be displayed as background elements for things like vacations, focus time, or class schedules."},showEventInStatusBar:{label:"Show current event in status bar",description:"Display the title of the currently running event in the Obsidian status bar."}},calendars:{title:"Manage calendars",addCalendar:"Add calendar",addCalendarTooltip:"Add Calendar",defaults:{iCloud:"iCloud Calendar",new:"New {{type}} Calendar"},types:{local:"Full note",dailynote:"Daily Note",icloud:"iCloud",caldav:"CalDAV",ical:"Remote (.ics format)",google:"Google Calendar",tasks:"Obsidian Tasks",bases:"Obsidian Bases"},fullNote:{directory:{label:"Directory",description:"Directory to store event notes"}},dailyNote:{heading:{label:"Heading",description:"Heading to store events under in the daily note."}},ics:{url:{label:"URL",description:"URL of the .ics file"}},caldav:{url:{label:"Collection URL",description:"Paste your calendar collection URL (e.g. https://calendar.zoho.in/caldav/<id>/events/)"},username:{label:"Username",description:"Username for the account"},password:{label:"Password",description:"Password for the account"},importButton:"Import Calendars",importing:"Importing..."},tasks:{zeroConfig:{label:"Zero Configuration Required",description:"This provider automatically reads your existing Obsidian Tasks plugin settings. All tasks with due dates will be displayed on the calendar as read-only events."},calendarName:{label:"Calendar Name",description:"Display name for this calendar"},readOnly:{label:"Read-Only Calendar",description:"Tasks can be viewed but not modified through the calendar interface. To edit tasks, use the Tasks plugin or modify your notes directly."},adding:"Adding...",cancel:"Cancel"}},categorization:{title:"Advanced categorization and Timeline",learnMore:"Learn more",learnMoreLink:"here",enable:{label:"Enable advanced categorization (Title-based)",description:"Enable category-based coloring and unlock timeline views. This will modify event note titles and allow timeline visualization by category."},disable:{modalTitle:"\u26A0\uFE0F Disable and clean up",modalDescription:"Disabling this feature will remove known category prefixes from your event titles and will permanently delete all saved category color settings.",buttonDisable:"Disable and clean up notes",buttonCancel:"Cancel"}},workspaces:{title:"Workspaces",description:"Create and manage calendar workspaces. Each workspace can have its own view settings, visible calendars, and filters.",addNew:{label:"Add new workspace",description:"Create a new calendar workspace"},buttons:{new:"New Workspace",edit:"Edit",duplicate:"Duplicate",activate:"Activate",active:"Active",delete:"Delete"},defaultName:"New Workspace",copyName:"{{name}} Copy"},quickStart:{title:"Quick Start: Add Your First Calendar",description:'To begin, add a calendar source using the "+" button in the "Manage calendars" section.'},viewOptions:{day:"Day",week:"Week",month:"Month",list:"List",threeDays:"3 Days",timelineWeek:"Timeline Week",timelineDay:"Timeline Day"},weekdays:{sunday:"Sunday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday"},changelog:{whatsNew:"What's new",viewFull:"View full changelog"},utils:{timelineDisabled:'Timeline view is disabled. Resetting default desktop view to "Week".'},warnings:{oneDailyNote:"Only one daily note is allowed."}},modals:{reminder:{snoozeFor:"Snooze for",dismiss:"Dismiss",openNote:"Open Note",snooze:"Snooze",snoozeWarningTitle:"\u26A0\uFE0F Snoozing Moves Event",snoozeWarningBody:"This is a default reminder. Snoozing will move the event start time forward.",presets:{"5m":"5 minutes","10m":"10 minutes","15m":"15 minutes","30m":"30 minutes","1h":"1 hour"}},editEvent:{title:{new:"New Event",edit:"Edit Event"},buttons:{openNote:"Open Note",delete:"Delete",save:"Save Event"},errors:{createNoCalendars:"Cannot create event: No writable calendars are available.",createError:"Error when creating event: {{message}}",notFound:"Cannot edit event that doesn't exist.",eventNotFound:"Event not found.",detailsNotFound:"Event details not found.",parentNotFound:"Could not find the parent recurring event.",moveCalendarNotSupported:"Moving events between calendars is not yet supported.",updateError:"Error when updating event: {{message}}",deleteError:"Error when deleting event: {{message}}"},confirmations:{editParentTitle:"Edit Parent Event?",editParentMessage:"This property is inherited from the parent recurring event. Would you like to open the parent to make changes?"},misc:{unknownCalendar:"Unknown Calendar"},fields:{title:{label:"Title",placeholder:"Event Title"},category:{label:"Category",placeholder:"Category (optional)"},display:{label:"Display",options:{auto:"Normal event",background:"Background event",inverseBackground:"Inverse background",none:"Hidden"}},inCalendar:{label:"In Calendar"},date:{label:"Date"},time:{label:"Time"},options:{label:"Options",allDay:"All day",isTask:"Is a Task",completed:"Completed"},notification:{label:"Notify:",mins:"Mins",select:"Select...",presets:{"30m":"30 min","1h":"1 hour","6h":"6 hours","12h":"12 hours","24h":"24 hours"}},repeats:{label:"Repeats",options:{none:"None",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly"},repeatEvery:"Repeat every",week:"week",weeks:"weeks",month:"month",months:"months",year:"year",years:"years",repeatOn:"Repeat on",onDay:"On day {{day}}",onThe:"On the",ordinal:{first:"first",second:"second",third:"third",fourth:"fourth",last:"last"},yearlyText:"Repeats every year on {{date}}.",endRepeat:"End Repeat"}},tooltips:{recurringTaskCompletion:"Completion for recurring tasks can be toggled on individual instances in the calendar view.",dailyNoteRecurring:"Recurring events are not supported in Daily Notes. Please use a 'Full Note' calendar instead.",inheritedEvent:"This event inherits from a recurring series. To edit it, first open the series note."}},deleteRecurring:{title:"Delete Recurring Event",description:'This is a recurring event. What would you like to do with all of its future "override" instances (i.e., events that you have dragged or modified)?',deleteInstance:{name:"Delete only this instance",description:"Delete only the instance on {{date}}. This will skip this date in the recurrence.",button:"Delete This Instance"},promoteChildren:{name:"Promote child events",description:"Turn all overriden events (if any) into standalone, single events. They will no longer be linked to this recurring series.",button:"Promote Children"},deleteAll:{name:"Delete child events",description:"Delete all future override events associated with this recurring series. This cannot be undone.",button:"Delete Everything"},cancel:"Cancel"},workspace:{title:{create:"Create Workspace",edit:"Edit Workspace"},sections:{general:"General",viewConfiguration:"View Configuration",calendarFilters:"Calendar Filters",categoryFilters:"Category Filters",appearanceOverrides:"Appearance Overrides",viewClipping:"View Clipping & Time Range"},fields:{name:{label:"Name",description:"A unique name for this workspace",placeholder:"e.g., Work Focus, Family Planning"},desktopView:{label:"Desktop view",description:"Default view for desktop devices"},mobileView:{label:"Mobile view",description:"Default view for mobile devices"},defaultDate:{label:"Default date (optional)",description:'Date to jump to when activating workspace (e.g., "today", "2024-01-01")',placeholder:"today, next-week, 2024-01-01"},visibleCalendars:{label:"Visible calendars",description:"Select which calendars to show (leave empty to show all)",noCalendars:"No calendars configured. Configure calendars in the main settings first."},categoryFilterMode:{label:"Category filter mode",description:"Choose how to filter categories",options:{showOnly:"Show only selected categories",hide:"Hide selected categories"}},categories:{label:"Categories",description:"Select categories to include/exclude (leave empty to show all)",noCategories:"No categories configured. Configure categories in the Categorization settings.",requiresAdvanced:"Category filtering requires Advanced Categorization to be enabled in the main settings."},notices:{enableBases:"Please enable the Obsidian Bases plugin first."},overrideBusinessHours:{label:"Override business hours",description:"Enable custom business hours for this workspace"},enableBusinessHours:{label:"Enable business hours",description:"Show business hours highlighting in this workspace"},businessDays:{label:"Business days",description:"Select which days of the week are business days"},businessHoursStart:{label:"Business hours start time",description:"When your working day begins (format: HH:mm)"},businessHoursEnd:{label:"Business hours end time",description:"When your working day ends (format: HH:mm)"},timelineCategories:{label:"Timeline categories",description:"Default state for timeline category groups",options:{useDefault:"Use default setting",expanded:"Expanded by default",collapsed:"Collapsed by default"}},slotMinTime:{label:"Earliest time to display",description:"Override the earliest time visible in time grid views (format: HH:mm)",placeholder:"Use global default"},slotMaxTime:{label:"Latest time to display",description:"Override the latest time visible in time grid views (format: HH:mm)",placeholder:"Use global default"},weekendDisplay:{label:"Weekend display",description:"Override whether to show weekends in the calendar",options:{useDefault:"Use global default",show:"Show weekends",hide:"Hide weekends"}},hiddenDays:{label:"Hidden days",description:"Override which days to hide from the calendar",options:{useDefault:"Use global default",showAll:"Show all days",hideWeekends:"Hide weekends (Sun, Sat)",hideSunday:"Hide Sunday",hideSaturday:"Hide Saturday",hideMonday:"Hide Monday",hideFriday:"Hide Friday"}},dayMaxEvents:{label:"Max events per day (month view)",description:"Override the maximum number of events to show per day in month view",options:{useGlobal:"Use global default",useDefault:"Use default limit",noLimit:"No limit",one:"1 event",two:"2 events",three:"3 events",four:"4 events",five:"5 events",ten:"10 events"}}},calendarTypes:{local:"Local:",dailyNotes:"Daily Notes:",ics:"ICS:",caldav:"CalDAV:",google:"Google:",generic:"{{type}} Calendar"},buttons:{save:"Save",create:"Create",cancel:"Cancel"}},bulkCategorize:{title:"Choose a Bulk-Update Method",description:"How would you like to automatically categorize existing events in your local calendars? Note that this is a one time operation that will modify your event notes to match the required formatting.",smartFolder:{name:"Use Parent Folder (Smart)",description:"Use parent folder names as the category for UN-categorized events. Events that already look like 'Category - Title' will be skipped.",button:"Run Smart Update"},forcedFolder:{name:"Use Parent Folder (Forced)",description:"PREPENDS the parent folder name to ALL event titles, even if they already have a category. Warning: This creates nested categories.",button:"Run Forced Update"},forcedDefault:{name:"Forced Default Update",description:"Prepends a category you provide to ALL event titles. If a category already exists, the new one will be added in front (e.g., New - Old - Title).",placeholder:"Enter default category",button:"Set Default",errorEmpty:"Please enter a category name."}}},google:{auth:{expired:"Google authentication expired. Please reconnect your account.",authFailed:"Could not authenticate calendar. Please try re-adding it in settings.",popupBlocked:"Popup blocked. Please allow popups for Obsidian.",customCredsMissing:"Custom Google Client ID and Secret must be set in the plugin settings.",stateMismatch:"Google authentication failed. State mismatch.",success:"Successfully connected Google Account!",failed:"Failed to connect Google Account. Check the developer console for details."},title:"Google Accounts",customCredentials:{enable:{label:"Use custom Google Cloud credentials",description:"Use your own OAuth Client ID and Secret instead of the default. Plugin currently stands verified by Google, but you may still use this option."},clientId:{label:"Client ID",description:"Your Google OAuth 2.0 Client ID"},clientSecret:{label:"Client Secret",description:"Your Google OAuth 2.0 Client Secret"}},noAccounts:"No Google accounts connected. Add a calendar source to connect an account.",accountDescription:"Connected account. ID: {{id}}",buttons:{disconnect:"Disconnect",selectCalendars:"Select Calendars",connectAccount:"Connect Google Account",backToAccounts:"Back to Accounts",addCalendars:"Add {{count}} Calendar",addCalendarsPlural:"Add {{count}} Calendars"},selectAccount:{title:"Connect a Google Account"},selectCalendars:{title:"Select Calendars from {{email}}",noCalendars:"No new calendars found, or all calendars from this account have been added.",description:"Choose which calendars you would like to add to Obsidian."},loading:"Loading..."},ui:{view:{errors:{cacheNotLoaded:"Full Calendar event cache not loaded.",viewEnhancerNotInitialized:"Full Calendar view enhancer not initialized.",chronoAnalyserDesktopOnly:"The Chrono Analyser is only available on desktop.",chronoAnalyserFailed:"Failed to open Chrono Analyser. Please check the console.",modifyEventFailed:"Failed to modify event.",taskScheduleFailed:"Failed to schedule task: {{message}}",moveRecurringDayError:"Cannot move a recurring instance to a different day. Modify the time only or edit the main recurring event.",moveRecurringInstanceError:"Cannot move a recurring instance to a different day. You can only change the time."},success:{deletedEvent:'Deleted event "{{title}}".',taskScheduled:"Task scheduled successfully"},workspace:{switcherLabel:"Workspace"},buttons:{analysis:"Analysis",defaultView:"Default View"},contextMenu:{turnIntoTask:"Turn into task",removeCheckbox:"Remove checkbox",goToNote:"Go to note",delete:"Delete",noActions:"No actions available on remote events"}},buttons:{addCalendar:"Add Calendar"},navigation:{thisMonth:"This Month",thisWeek:"This Week",customDate:"Custom Date...",viewMonth:"View Month",viewWeek:"View Week",viewDay:"View Day"}},notifications:{eventStarting:{title:"Event Starting Soon",body:"{{title}} starts at {{time}}"},eventEnding:{title:"Event Ending Soon",body:"{{title}} ends at {{time}}"},allDaySuffix:"(All-day)",inMinutes:"(In {{mins}} minutes)",failed:"Full Calendar: Failed to create desktop notification.",errorBody:"Full Calendar: Could not show desktop notification. Check console for errors."}}});var uG,cG=Re(()=>{uG={chrono:{ui:{title:"Insight-Gruppen konfigurieren",description:"Erstellen Sie Gruppen, um Ihre Aktivit\xE4ten zu kategorisieren. Die Engine verwendet diese Regeln, um personalisierte Erkenntnisse zu generieren.",save:"Konfiguration speichern",cancel:"Abbrechen",addGroup:"Neue Insight-Gruppe hinzuf\xFCgen",groupName:"Gruppenname",groupNamePlaceholder:"z. B. Arbeit",deleteGroup:"Diese Gruppe l\xF6schen",persona:{name:"Als Persona analysieren",desc:"W\xE4hlen Sie das Analysemodell f\xFCr diese Gruppe.",productivity:"\u{1F3AF} Produktivit\xE4t",wellness:"\u2764\uFE0F Wohlbefinden & Routine",none:"\u26AA (Im Dashboard ignorieren)"},hierarchies:{name:"\xDCbereinstimmende Hierarchien",desc:"z. B. Arbeitskalender, Pers\xF6nlicher Kalender",add:"Hierarchie hinzuf\xFCgen..."},projects:{name:"\xDCbereinstimmende Projekte",desc:"z. B. Projekt Phoenix, Q4 Bericht",add:"Projekt hinzuf\xFCgen..."},mutedProjects:{name:"Stummgeschaltete Projekte",desc:"Bestimmte Projekte stummschalten (Gro\xDF-/Kleinschreibung beachten, exakte \xDCbereinstimmung), um sie von den Gewohnheitskonsistenzpr\xFCfungen auszuschlie\xDFen.",add:"Stummgeschaltetes Projekt hinzuf\xFCgen..."},subprojectKeywords:{name:"\xDCbereinstimmende Unterprojekt-Schl\xFCsselw\xF6rter",desc:"F\xFCgen Sie Schl\xFCsselw\xF6rter hinzu, die \xFCbereinstimmen, wenn sie irgendwo in einem Unterprojekt gefunden werden.",placeholder:`z. B. design
forschung
meeting`},mutedSubprojectKeywords:{name:"Stummgeschaltete Unterprojekt-Schl\xFCsselw\xF6rter",desc:"Aktivit\xE4ten nach Schl\xFCsselwort stummschalten. Wenn ein Unterprojekt eines dieser (Gro\xDF-/Kleinschreibung ignorieren) Schl\xFCsselw\xF6rter enth\xE4lt, wird es von den Gewohnheitskonsistenzpr\xFCfungen ausgeschlossen.",placeholder:`z. B. erledigt
archiv
alt`},unsavedChanges:{title:"Ungespeicherte \xC4nderungen",message:"Sie haben ungespeicherte \xC4nderungen. M\xF6chten Sie diese vor dem Schlie\xDFen speichern?",saveAndClose:"Speichern und schlie\xDFen",discard:"\xC4nderungen verwerfen"},folderSelectPlaceholder:"W\xE4hlen Sie einen Ordner mit Ihren Zeiterfassungsdateien...",errors:{groupExists:'Gruppenname "{{name}}" existiert bereits.'}}},commands:{newEvent:"Neues Ereignis",resetCache:"Ereignis-Cache zur\xFCcksetzen",revalidateRemote:"Remote-Kalender neu validieren",openCalendar:"Kalender \xF6ffnen",openChronoAnalyser:"Chrono-Analyser \xF6ffnen (nur Desktop)",openSidebar:"Im Seitenbereich \xF6ffnen"},notices:{settingsUpdated:"Full Calendar hat Ihre Kalendereinstellungen auf ein neues Format aktualisiert.",cacheReset:"Full Calendar wurde zur\xFCckgesetzt.",chronoAnalyserMobileDisabled:"Die Chrono-Analyser-Funktion ist nur in der Desktop-Version von Obsidian verf\xFCgbar.",chronoAnalyserInitializing:"Chrono-Analyser: Ereignis-Cache wird initialisiert...",chronoAnalyserLoadFailed:"Chrono-Analyser konnte nicht geladen werden. Bitte \xFCberpr\xFCfen Sie die Konsole.",chronoAnalyserConfigureFirst:"Bitte konfigurieren Sie zuerst Ihre Insight-Gruppen mit dem \u2699\uFE0F Symbol.",chronoAnalyserGeneratingInsights:"Erkenntnisse werden generiert (dies kann einen Moment dauern)...",chronoAnalyserInsightsFailed:"Erkenntnisse konnten nicht generiert werden. \xDCberpr\xFCfen Sie die Entwicklerkonsole auf Fehler.",chronoAnalyserInsightsSaved:"Konfiguration der Erkenntnisse gespeichert!",googleAuthFailed:"Google-Authentifizierung fehlgeschlagen. Bitte versuchen Sie es erneut.",bulkUpdateError:"Fehler bei der Massenaktualisierung. Details in der Konsole.",providerNotRegistered:"{{providerType}}-Provider ist nicht registriert.",timezoneChanged:"Systemzeitzone ge\xE4ndert zu {{timezone}}. Kalenderansicht wurde angepasst.",revalidatingRemotes:"Remote-Kalender werden neu validiert...",revalidationFailed:"Ein oder mehrere Remote-Kalender konnten nicht geladen werden. Details in der Konsole.",revalidationSuccess:"Remote-Kalender wurden neu validiert.",cannotOpenRemote:"Notiz f\xFCr ein Remote-Ereignis kann nicht ge\xF6ffnet werden.",bulkCategorization:{noNotesFound:"Keine lokalen Ereignisnotizen zum Kategorisieren gefunden.",progress:"Ereignisnotizen werden kategorisiert: {{index}}/{{total}}",complete:"Massenkategorisierung abgeschlossen."},bulkDecategorization:{noNotesFound:"Keine lokalen Ereignisnotizen zum Dekategorisieren gefunden.",progress:"Ereignisnotizen werden dekategorisiert: {{index}}/{{total}}",complete:"Massen-Dekategorisierung abgeschlossen."},tasks:{createViaPlugin:"Verwenden Sie die Benutzeroberfl\xE4che des Tasks-Plugins, um neue Aufgaben zu erstellen.",defaultValidation:"Diese Aufgabe kann an diesem Datum nicht geplant werden.",scheduledNoModal:"Aufgabe geplant, aber Tasks-Bearbeitungsmodal konnte nicht ge\xF6ffnet werden.",apiUnavailable:"Obsidian Tasks Plugin API nicht verf\xFCgbar."}},eventCache:{errors:{calendarNotFound:"Ereignis kann nicht hinzugef\xFCgt werden: Kalender mit ID {{calendarId}} nicht gefunden.",providerNotFound:"Ereignis kann nicht hinzugef\xFCgt werden: Provider f\xFCr Typ {{type}} nicht gefunden.",readOnly:"Ereignis kann nicht zu einem schreibgesch\xFCtzten Kalender hinzugef\xFCgt werden.",createFailed:"Fehler beim Erstellen des Ereignisses. \xC4nderung wurde r\xFCckg\xE4ngig gemacht.",deleteFailed:"Fehler beim L\xF6schen des Ereignisses. \xC4nderung wurde r\xFCckg\xE4ngig gemacht.",updateFailed:"Fehler beim Aktualisieren des Ereignisses. \xC4nderung wurde r\xFCckg\xE4ngig gemacht."}},recurEvents:{notices:{promotingChildren:"Bef\xF6rdere {{count}} untergeordnete Ereignis(se).",deletedAndPromoted:"Wiederkehrendes Ereignis gel\xF6scht und untergeordnete bef\xF6rdert.",deletingWithChildren:"L\xF6sche wiederkehrendes Ereignis und seine {{count}} untergeordnete(n) \xDCberschreibung(en)...",deletedAll:"Wiederkehrendes Ereignis und alle untergeordneten erfolgreich gel\xF6scht.",preservingTiming:"Behalte ge\xE4nderte Ereigniszeit bei und setze Aufgabe zur\xFCck.",revertingControl:"Kehre zur Hauptsequenz des wiederkehrenden Ereignisses zur\xFCck.",updatingChildren:"Aktualisiere Titel von {{count}} untergeordneten Ereignis(sen), um dem neuen \xFCbergeordneten Titel zu entsprechen.",updateError:"Fehler beim Aktualisieren des wiederkehrenden Ereignisses. Einige untergeordnete wurden m\xF6glicherweise nicht aktualisiert."}},ribbon:{openCalendar:"Full Calendar \xF6ffnen"},settings:{general:{desktopInitialView:{label:"Desktop-Startansicht",description:"W\xE4hlen Sie den anf\xE4nglichen Ansichtsbereich auf Desktop-Ger\xE4ten."},mobileInitialView:{label:"Mobile Startansicht",description:"W\xE4hlen Sie den anf\xE4nglichen Ansichtsbereich auf Mobilger\xE4ten."},displayTimezone:{label:"Zeitzone anzeigen",description:"W\xE4hlen Sie die Zeitzone f\xFCr die Anzeige von Ereignissen. Standardm\xE4\xDFig Ihre Systemzeitzone. Eine \xC4nderung l\xE4dt den Kalender neu."},clickToCreateEvent:{label:"Klicken Sie auf einen Tag in der Monatsansicht, um ein Ereignis zu erstellen",description:"Deaktivieren, um stattdessen die Tagesansicht zu \xF6ffnen."},enableReminders:{label:"Ereignis-Erinnerungen aktivieren",description:"Zeigt 10 Minuten vor Beginn eines Ereignisses eine Desktop-Benachrichtigung an."}},appearance:{title:"Aussehen",firstDay:{label:"Erster Tag der Woche",description:"W\xE4hlen Sie den Starttag der Woche."},timeFormat24h:{label:"24-Stunden-Format",description:"Zeigt die Zeit im 24-Stunden-Format an."},businessHours:{enable:{label:"Gesch\xE4ftszeiten aktivieren",description:"Hebt Ihre Arbeitszeiten in Zeitrasteransichten hervor, um Arbeitszeit von Freizeit zu unterscheiden."},days:{label:"Arbeitstage",description:"W\xE4hlen Sie die Arbeitstage aus."},startTime:{label:"Beginn der Gesch\xE4ftszeiten",description:"Wann Ihr Arbeitstag beginnt (Format: HH:mm)"},endTime:{label:"Ende der Gesch\xE4ftszeiten",description:"Wann Ihr Arbeitstag endet (Format: HH:mm)"},options:{mondayFriday:"Montag - Freitag",everyDay:"Jeden Tag",mondayThursday:"Montag - Donnerstag",tuesdaySaturday:"Dienstag - Samstag"}},viewTimeRange:{title:"Ansichtszeitbereich",slotMinTime:{label:"Fr\xFCheste angezeigte Zeit",description:"Setzen Sie die fr\xFCheste Zeit in Zeitrasteransichten (Format: HH:mm)"},slotMaxTime:{label:"Sp\xE4teste angezeigte Zeit",description:"Setzen Sie die sp\xE4teste Zeit in Zeitrasteransichten (Format: HH:mm)"}},dayVisibility:{title:"Tagesanzeige",weekends:{label:"Wochenenden anzeigen",description:"Ob Wochenendtage (Samstag und Sonntag) im Kalender angezeigt werden"},hiddenDays:{label:"Versteckte Tage",description:"W\xE4hlen Sie die Tage der Woche aus, die im Kalender ausgeblendet werden sollen",options:{showAll:"Alle Tage anzeigen",hideWeekends:"Wochenenden ausblenden (So, Sa)",hideSunday:"Nur Sonntag ausblenden",hideSaturday:"Nur Samstag ausblenden",hideMonday:"Montag ausblenden",hideTuesday:"Dienstag ausblenden",hideWednesday:"Mittwoch ausblenden",hideThursday:"Donnerstag ausblenden",hideFriday:"Freitag ausblenden"}}},dayMaxEvents:{label:"Maximale Ereignisse pro Tag (Monatsansicht)",description:"Begrenzen Sie die Anzahl der angezeigten Ereignisse pro Tag in der Monatsansicht",options:{default:"Standardlimit verwenden",unlimited:"Kein Limit (alle anzeigen)",one:"1 Ereignis maximal",two:"2 Ereignisse maximal",three:"3 Ereignisse maximal",four:"4 Ereignisse maximal",five:"5 Ereignisse maximal",ten:"10 Ereignisse maximal"}},enableBackgroundEvents:{label:"Hintergrundereignisse aktivieren",description:"Erlaubt die Anzeige von Ereignissen als Hintergrundelemente f\xFCr z.B. Urlaub, Fokuszeit oder Stundenpl\xE4ne."},showEventInStatusBar:{label:"Aktuelles Ereignis in der Statusleiste anzeigen",description:"Zeigt den Titel des aktuell laufenden Ereignisses in der Obsidian-Statusleiste an."}},calendars:{title:"Kalender verwalten",addCalendar:"Kalender hinzuf\xFCgen",addCalendarTooltip:"Kalender hinzuf\xFCgen",defaults:{iCloud:"iCloud-Kalender",new:"Neuer {{type}} Kalender"},types:{local:"Vollst\xE4ndige Notiz",dailynote:"Tagesnotiz",icloud:"iCloud",caldav:"CalDAV",ical:"Remote (.ics Format)",google:"Google Kalender",tasks:"Obsidian Tasks"},fullNote:{directory:{label:"Verzeichnis",description:"Verzeichnis zum Speichern von Ereignisnotizen"}},dailyNote:{heading:{label:"\xDCberschrift",description:"\xDCberschrift zum Speichern von Ereignissen in der Tagesnotiz."}},ics:{url:{label:"URL",description:"URL der .ics-Datei"}},caldav:{url:{label:"Sammlungs-URL",description:"F\xFCgen Sie Ihre Kalender-Sammlungs-URL ein (z.B. https://calendar.zoho.in/caldav/<id>/events/)"},username:{label:"Benutzername",description:"Benutzername f\xFCr das Konto"},password:{label:"Passwort",description:"Passwort f\xFCr das Konto"},importButton:"Kalender importieren",importing:"Importiere..."},tasks:{zeroConfig:{label:"Keine Konfiguration erforderlich",description:"Dieser Provider liest automatisch Ihre bestehenden Einstellungen des Obsidian Tasks-Plugins. Alle Aufgaben mit F\xE4lligkeitsdatum werden als schreibgesch\xFCtzte Ereignisse im Kalender angezeigt."},calendarName:{label:"Kalendername",description:"Anzeigename f\xFCr diesen Kalender"},readOnly:{label:"Schreibgesch\xFCtzter Kalender",description:"Aufgaben k\xF6nnen angezeigt, aber nicht \xFCber die Kalenderoberfl\xE4che bearbeitet werden. Zum Bearbeiten verwenden Sie das Tasks-Plugin oder \xE4ndern Sie Ihre Notizen direkt."},adding:"Wird hinzugef\xFCgt...",cancel:"Abbrechen"}},categorization:{title:"Erweiterte Kategorisierung und Zeitachse",learnMore:"Mehr erfahren",learnMoreLink:"hier",enable:{label:"Erweiterte Kategorisierung aktivieren (titelbasiert)",description:"Aktivieren Sie die kategoriebasierte Farbgebung und schalten Sie Zeitachsenansichten frei. Dies \xE4ndert die Titel der Ereignisnotizen und erm\xF6glicht die Zeitachsenvisualisierung nach Kategorie."},disable:{modalTitle:"\u26A0\uFE0F Deaktivieren und bereinigen",modalDescription:"Durch das Deaktivieren dieser Funktion werden bekannte Kategorie-Pr\xE4fixe aus Ihren Ereignistiteln entfernt und alle gespeicherten Kategorie-Farbeinstellungen dauerhaft gel\xF6scht.",buttonDisable:"Deaktivieren und Notizen bereinigen",buttonCancel:"Abbrechen"}},workspaces:{title:"Arbeitsbereiche",description:"Erstellen und verwalten Sie Kalender-Arbeitsbereiche. Jeder Arbeitsbereich kann eigene Ansichtseinstellungen, sichtbare Kalender und Filter haben.",addNew:{label:"Neuen Arbeitsbereich hinzuf\xFCgen",description:"Neuen Kalender-Arbeitsbereich erstellen"},buttons:{new:"Neuer Arbeitsbereich",edit:"Bearbeiten",duplicate:"Duplizieren",activate:"Aktivieren",active:"Aktiv",delete:"L\xF6schen"},defaultName:"Neuer Arbeitsbereich",copyName:"{{name}} Kopie"},quickStart:{title:"Schnellstart: F\xFCgen Sie Ihren ersten Kalender hinzu",description:`F\xFCgen Sie eine Kalenderquelle mit der "+"-Schaltfl\xE4che im Bereich 'Kalender verwalten' hinzu.`},viewOptions:{day:"Tag",week:"Woche",month:"Monat",list:"Liste",threeDays:"3 Tage",timelineWeek:"Zeitachsen-Woche",timelineDay:"Zeitachsen-Tag"},weekdays:{sunday:"Sonntag",monday:"Montag",tuesday:"Dienstag",wednesday:"Mittwoch",thursday:"Donnerstag",friday:"Freitag",saturday:"Samstag"},changelog:{whatsNew:"Was ist neu",viewFull:"Vollst\xE4ndiges \xC4nderungsprotokoll anzeigen"},utils:{timelineDisabled:'Timeline-Ansicht ist deaktiviert. Standard-Desktop-Ansicht wird auf "Woche" zur\xFCckgesetzt.'},warnings:{oneDailyNote:"Nur eine t\xE4gliche Notiz ist erlaubt."}},modals:{reminder:{snoozeFor:"Schlummern f\xFCr",dismiss:"Verwerfen",openNote:"Notiz \xF6ffnen",snooze:"Schlummern",snoozeWarningTitle:"\u26A0\uFE0F Schlummern verschiebt Ereignis",snoozeWarningBody:"Dies ist eine Standarderinnerung. Schlummern verschiebt die Startzeit des Ereignisses nach vorne.",presets:{"5m":"5 Minuten","10m":"10 Minuten","15m":"15 Minuten","30m":"30 Minuten","1h":"1 Stunde"}},editEvent:{title:{new:"Neues Ereignis",edit:"Ereignis bearbeiten"},buttons:{openNote:"Notiz \xF6ffnen",delete:"L\xF6schen",save:"Ereignis speichern"},fields:{title:{label:"Titel",placeholder:"Ereignistitel"},category:{label:"Kategorie",placeholder:"Kategorie (optional)"},display:{label:"Anzeige",options:{auto:"Normales Ereignis",background:"Hintergrundereignis",inverseBackground:"Invertierter Hintergrund",none:"Versteckt"}},inCalendar:{label:"Im Kalender"},date:{label:"Datum"},time:{label:"Zeit"},options:{label:"Optionen",allDay:"Ganzt\xE4gig",isTask:"Ist eine Aufgabe",completed:"Abgeschlossen",endReminder:"10 Min. vor Ende erinnern",endReminderTooltip:"Eine End-Erinnerung erfordert eine bestimmte Endzeit."},repeats:{label:"Wiederholt sich",options:{none:"Keine",weekly:"W\xF6chentlich",monthly:"Monatlich",yearly:"J\xE4hrlich"},repeatEvery:"Wiederhole alle",week:"Woche",weeks:"Wochen",month:"Monat",months:"Monate",year:"Jahr",years:"Jahre",repeatOn:"Wiederhole am",onDay:"Am Tag {{day}}",onThe:"Am",ordinal:{first:"ersten",second:"zweiten",third:"dritten",fourth:"vierten",last:"letzten"},yearlyText:"Wiederholt sich jedes Jahr am {{date}}.",endRepeat:"Wiederholung beenden"}},tooltips:{recurringTaskCompletion:"Die Fertigstellung f\xFCr wiederkehrende Aufgaben kann f\xFCr einzelne Instanzen in der Kalenderansicht umgeschaltet werden.",dailyNoteRecurring:"Wiederkehrende Ereignisse werden in Tagesnotizen nicht unterst\xFCtzt. Bitte verwenden Sie stattdessen einen 'Vollst\xE4ndige Notiz'-Kalender.",inheritedEvent:"Dieses Ereignis stammt aus einer wiederkehrenden Serie. Um es zu bearbeiten, \xF6ffnen Sie zuerst die Seriennotiz."}},deleteRecurring:{title:"Wiederkehrendes Ereignis l\xF6schen",description:'Dies ist ein wiederkehrendes Ereignis. Was m\xF6chten Sie mit allen zuk\xFCnftigen "Override"-Instanzen tun (d.h. Ereignisse, die Sie verschoben oder bearbeitet haben)?',deleteInstance:{name:"Nur diese Instanz l\xF6schen",description:"Nur die Instanz am {{date}} l\xF6schen. Dieses Datum wird in der Wiederholung \xFCbersprungen.",button:"Diese Instanz l\xF6schen"},promoteChildren:{name:"Untergeordnete Ereignisse f\xF6rdern",description:"Alle \xFCberschriebenen Ereignisse (falls vorhanden) in eigenst\xE4ndige Einzelereignisse umwandeln. Sie sind dann nicht mehr mit dieser Serie verkn\xFCpft.",button:"Kinder f\xF6rdern"},deleteAll:{name:"Untergeordnete Ereignisse l\xF6schen",description:"Alle zuk\xFCnftigen Override-Ereignisse dieser Serie l\xF6schen. Dies kann nicht r\xFCckg\xE4ngig gemacht werden.",button:"Alles l\xF6schen"},cancel:"Abbrechen"},workspace:{title:{create:"Arbeitsbereich erstellen",edit:"Arbeitsbereich bearbeiten"},sections:{general:"Allgemein",viewConfiguration:"Ansichtskonfiguration",calendarFilters:"Kalenderfilter",categoryFilters:"Kategoriefilter",appearanceOverrides:"Aussehen \xFCberschreiben",viewClipping:"Ansichtsausschnitt & Zeitbereich"},fields:{name:{label:"Name",description:"Ein eindeutiger Name f\xFCr diesen Arbeitsbereich",placeholder:"z.B. Arbeitsfokus, Familienplanung"},desktopView:{label:"Desktop-Ansicht",description:"Standardansicht f\xFCr Desktop-Ger\xE4te"},mobileView:{label:"Mobile Ansicht",description:"Standardansicht f\xFCr Mobilger\xE4te"},defaultDate:{label:"Standarddatum (optional)",description:'Datum, zu dem beim Aktivieren des Arbeitsbereichs gesprungen wird (z.B. "heute", "2024-01-01")',placeholder:"heute, n\xE4chste-Woche, 2024-01-01"},visibleCalendars:{label:"Sichtbare Kalender",description:"W\xE4hlen Sie aus, welche Kalender angezeigt werden sollen (leer lassen, um alle anzuzeigen)",noCalendars:"Keine Kalender konfiguriert. Konfigurieren Sie zuerst Kalender in den Haupteinstellungen."},categoryFilterMode:{label:"Kategorie-Filtermodus",description:"W\xE4hlen Sie, wie Kategorien gefiltert werden",options:{showOnly:"Nur ausgew\xE4hlte Kategorien anzeigen",hide:"Ausgew\xE4hlte Kategorien ausblenden"}},categories:{label:"Kategorien",description:"W\xE4hlen Sie Kategorien zum Ein-/Ausschlie\xDFen (leer lassen, um alle anzuzeigen)",noCategories:"Keine Kategorien konfiguriert. Konfigurieren Sie Kategorien in den Kategorisierungseinstellungen.",requiresAdvanced:"Kategoriefilterung erfordert die Aktivierung der erweiterten Kategorisierung in den Haupteinstellungen."},notices:{enableBases:"Bitte aktivieren Sie zuerst das Obsidian Bases Plugin."},overrideBusinessHours:{label:"Gesch\xE4ftszeiten \xFCberschreiben",description:"Aktivieren Sie benutzerdefinierte Gesch\xE4ftszeiten f\xFCr diesen Arbeitsbereich"},enableBusinessHours:{label:"Gesch\xE4ftszeiten aktivieren",description:"Gesch\xE4ftszeiten-Hervorhebung in diesem Arbeitsbereich anzeigen"},businessDays:{label:"Arbeitstage",description:"W\xE4hlen Sie die Arbeitstage der Woche aus"},businessHoursStart:{label:"Beginn der Gesch\xE4ftszeiten",description:"Wann Ihr Arbeitstag beginnt (Format: HH:mm)"},businessHoursEnd:{label:"Ende der Gesch\xE4ftszeiten",description:"Wann Ihr Arbeitstag endet (Format: HH:mm)"},timelineCategories:{label:"Zeitachsen-Kategorien",description:"Standardzustand f\xFCr Zeitachsen-Kategoriegruppen",options:{useDefault:"Standardeinstellung verwenden",expanded:"Standardm\xE4\xDFig erweitert",collapsed:"Standardm\xE4\xDFig reduziert"}},slotMinTime:{label:"Fr\xFCheste angezeigte Zeit",description:"\xDCberschreibt die fr\xFCheste Zeit in Zeitrasteransichten (Format: HH:mm)",placeholder:"Globalen Standard verwenden"},slotMaxTime:{label:"Sp\xE4teste angezeigte Zeit",description:"\xDCberschreibt die sp\xE4teste Zeit in Zeitrasteransichten (Format: HH:mm)",placeholder:"Globalen Standard verwenden"},weekendDisplay:{label:"Wochenendanzeige",description:"\xDCberschreibt, ob Wochenenden im Kalender angezeigt werden",options:{useDefault:"Globalen Standard verwenden",show:"Wochenenden anzeigen",hide:"Wochenenden ausblenden"}},hiddenDays:{label:"Versteckte Tage",description:"\xDCberschreibt, welche Tage im Kalender ausgeblendet werden",options:{useDefault:"Globalen Standard verwenden",showAll:"Alle Tage anzeigen",hideWeekends:"Wochenenden ausblenden (So, Sa)",hideSunday:"Sonntag ausblenden",hideSaturday:"Samstag ausblenden",hideMonday:"Montag ausblenden",hideFriday:"Freitag ausblenden"}},dayMaxEvents:{label:"Maximale Ereignisse pro Tag (Monatsansicht)",description:"\xDCberschreibt die maximale Anzahl von Ereignissen pro Tag in der Monatsansicht",options:{useGlobal:"Globalen Standard verwenden",useDefault:"Standardlimit verwenden",noLimit:"Kein Limit",one:"1 Ereignis",two:"2 Ereignisse",three:"3 Ereignisse",four:"4 Ereignisse",five:"5 Ereignisse",ten:"10 Ereignisse"}}},calendarTypes:{local:"Lokal:",dailyNotes:"Tagesnotizen:",ics:"ICS:",caldav:"CalDAV:",google:"Google:",generic:"{{type}} Kalender"},buttons:{save:"Speichern",create:"Erstellen",cancel:"Abbrechen"}},bulkCategorize:{title:"W\xE4hlen Sie eine Massenaktualisierungsmethode",description:"Wie m\xF6chten Sie vorhandene Ereignisse in Ihren lokalen Kalendern automatisch kategorisieren? Dies ist eine einmalige Aktion, die Ihre Ereignisnotizen entsprechend dem erforderlichen Format \xE4ndert.",smartFolder:{name:"\xDCbergeordneten Ordner verwenden (Smart)",description:"Verwenden Sie \xFCbergeordnete Ordnernamen als Kategorie f\xFCr UN-kategorisierte Ereignisse. Ereignisse, die bereits wie 'Kategorie - Titel' aussehen, werden \xFCbersprungen.",button:"Smart-Update ausf\xFChren"},forcedFolder:{name:"\xDCbergeordneten Ordner verwenden (Erzwungen)",description:"F\xFCgt den \xFCbergeordneten Ordnernamen ALLEN Ereignistiteln hinzu, auch wenn sie bereits eine Kategorie haben. Achtung: Dies erzeugt verschachtelte Kategorien.",button:"Erzwungenes Update ausf\xFChren"},forcedDefault:{name:"Erzwungenes Standard-Update",description:"F\xFCgt eine von Ihnen angegebene Kategorie ALLEN Ereignistiteln hinzu. Falls bereits eine Kategorie existiert, wird die neue vorne angef\xFCgt (z.B. Neu - Alt - Titel).",placeholder:"Standardkategorie eingeben",button:"Standard setzen",errorEmpty:"Bitte geben Sie einen Kategorienamen ein."}}},google:{auth:{expired:"Google-Authentifizierung abgelaufen. Bitte verbinden Sie Ihr Konto erneut.",authFailed:"Kalender konnte nicht authentifiziert werden. Bitte versuchen Sie, ihn in den Einstellungen erneut hinzuzuf\xFCgen.",popupBlocked:"Popup blockiert. Bitte erlauben Sie Popups f\xFCr Obsidian.",customCredsMissing:"Benutzerdefinierte Google Client-ID und Secret m\xFCssen in den Plugin-Einstellungen festgelegt werden.",stateMismatch:"Google-Authentifizierung fehlgeschlagen. State-Mismatch.",success:"Google-Konto erfolgreich verbunden!",failed:"Verbindung zum Google-Konto fehlgeschlagen. \xDCberpr\xFCfen Sie die Entwicklerkonsole auf Details."},title:"Google-Konten",customCredentials:{enable:{label:"Eigene Google Cloud-Zugangsdaten verwenden",description:"Verwenden Sie Ihre eigene OAuth-Client-ID und Ihr Secret anstelle der Standardwerte. Das Plugin ist derzeit von Google verifiziert, Sie k\xF6nnen diese Option jedoch trotzdem nutzen."},clientId:{label:"Client-ID",description:"Ihre Google OAuth 2.0 Client-ID"},clientSecret:{label:"Client-Secret",description:"Ihr Google OAuth 2.0 Client-Secret"}},noAccounts:"Keine Google-Konten verbunden. F\xFCgen Sie eine Kalenderquelle hinzu, um ein Konto zu verbinden.",accountDescription:"Verbundenes Konto. ID: {{id}}",buttons:{disconnect:"Trennen",selectCalendars:"Kalender ausw\xE4hlen",connectAccount:"Google-Konto verbinden",backToAccounts:"Zur\xFCck zu Konten",addCalendars:"{{count}} Kalender hinzuf\xFCgen",addCalendarsPlural:"{{count}} Kalender hinzuf\xFCgen"},selectAccount:{title:"Google-Konto verbinden"},selectCalendars:{title:"Kalender von {{email}} ausw\xE4hlen",noCalendars:"Keine neuen Kalender gefunden oder alle Kalender dieses Kontos wurden bereits hinzugef\xFCgt.",description:"W\xE4hlen Sie aus, welche Kalender Sie zu Obsidian hinzuf\xFCgen m\xF6chten."},loading:"L\xE4dt..."},ui:{buttons:{addCalendar:"Kalender hinzuf\xFCgen"},navigation:{thisMonth:"Diesen Monat",thisWeek:"Diese Woche",customDate:"Benutzerdefiniertes Datum...",viewMonth:"Monat anzeigen",viewWeek:"Woche anzeigen",viewDay:"Tag anzeigen"}},notifications:{eventStarting:{title:"Ereignis beginnt bald",body:"{{title}} beginnt um {{time}}"},eventEnding:{title:"Ereignis endet bald",body:"{{title}} endet um {{time}}"},allDaySuffix:"(Ganzt\xE4gig)",inMinutes:"(In {{mins}} Minuten)",failed:"Full Calendar: Desktop-Benachrichtigung konnte nicht erstellt werden.",errorBody:"Full Calendar: Desktop-Benachrichtigung konnte nicht angezeigt werden. \xDCberpr\xFCfen Sie die Konsole auf Fehler."}}});var fG,dG=Re(()=>{fG={chrono:{ui:{title:"Configurer les groupes d'analyse",description:"Cr\xE9ez des groupes pour cat\xE9goriser vos activit\xE9s. Le moteur utilisera ces r\xE8gles pour g\xE9n\xE9rer des analyses personnalis\xE9es.",save:"Enregistrer la configuration",cancel:"Annuler",addGroup:"Ajouter un nouveau groupe d'analyse",groupName:"Nom du groupe",groupNamePlaceholder:"ex: Travail",deleteGroup:"Supprimer ce groupe",persona:{name:"Analyser en tant que Persona",desc:"Choisissez le mod\xE8le analytique \xE0 appliquer \xE0 ce groupe.",productivity:"\u{1F3AF} Productivit\xE9",wellness:"\u2764\uFE0F Bien-\xEAtre & Routine",none:"\u26AA (Ignorer dans le tableau de bord)"},hierarchies:{name:"Hi\xE9rarchies correspondantes",desc:"ex: Calendrier de travail, Calendrier personnel",add:"Ajouter une hi\xE9rarchie..."},projects:{name:"Projets correspondants",desc:"ex: Projet Phoenix, Rapport T4",add:"Ajouter un projet..."},mutedProjects:{name:"Projets ignor\xE9s",desc:"Ignorer des projets sp\xE9cifiques (sensible \xE0 la casse, correspondance exacte) pour les exclure des v\xE9rifications de coh\xE9rence des habitudes.",add:"Ajouter un projet ignor\xE9..."},subprojectKeywords:{name:"Mots-cl\xE9s de sous-projets correspondants",desc:"Ajoutez des mots-cl\xE9s qui correspondront s'ils sont trouv\xE9s n'importe o\xF9 dans un sous-projet.",placeholder:`ex: design
recherche
r\xE9union`},mutedSubprojectKeywords:{name:"Mots-cl\xE9s de sous-projets ignor\xE9s",desc:"Ignorer les activit\xE9s par mot-cl\xE9. Si un sous-projet contient l'un de ces mots-cl\xE9s (insensible \xE0 la casse), il sera exclu des v\xE9rifications de coh\xE9rence des habitudes.",placeholder:`ex: termin\xE9
archives
vieux`},unsavedChanges:{title:"Modifications non enregistr\xE9es",message:"Vous avez des modifications non enregistr\xE9es. Voulez-vous les enregistrer avant de fermer ?",saveAndClose:"Enregistrer et fermer",discard:"Ignorer les modifications"},folderSelectPlaceholder:"S\xE9lectionnez un dossier avec vos fichiers de suivi du temps...",errors:{groupExists:'Le nom de groupe "{{name}}" existe d\xE9j\xE0.'}}},commands:{newEvent:"Nouvel \xE9v\xE9nement",resetCache:"R\xE9initialiser le cache d'\xE9v\xE9nements",revalidateRemote:"Revalider les calendriers distants",openCalendar:"Ouvrir le calendrier",openChronoAnalyser:"Ouvrir Chrono Analyser (Desktop uniquement)",openSidebar:"Ouvrir dans la barre lat\xE9rale"},notices:{settingsUpdated:"Full Calendar a mis \xE0 jour vos param\xE8tres de calendrier vers un nouveau format.",cacheReset:"Full Calendar a \xE9t\xE9 r\xE9initialis\xE9.",chronoAnalyserMobileDisabled:"La fonctionnalit\xE9 Chrono Analyser est uniquement disponible sur la version desktop d'Obsidian.",chronoAnalyserInitializing:"Chrono Analyser : Initialisation du cache d'\xE9v\xE9nements...",chronoAnalyserLoadFailed:"\xC9chec du chargement de Chrono Analyser. Veuillez v\xE9rifier la console.",chronoAnalyserConfigureFirst:"Veuillez d'abord configurer vos groupes d'insights en utilisant l'ic\xF4ne \u2699\uFE0F.",chronoAnalyserGeneratingInsights:"G\xE9n\xE9ration des insights (cela peut prendre un moment)...",chronoAnalyserInsightsFailed:"\xC9chec de la g\xE9n\xE9ration des insights. V\xE9rifiez la console d\xE9veloppeur pour les erreurs.",chronoAnalyserInsightsSaved:"Configuration des insights enregistr\xE9e !",googleAuthFailed:"\xC9chec de l'authentification Google. Veuillez r\xE9essayer.",bulkUpdateError:"Erreur lors de la mise \xE0 jour en masse. V\xE9rifiez la console pour plus de d\xE9tails.",providerNotRegistered:"Le fournisseur {{providerType}} n'est pas enregistr\xE9.",timezoneChanged:"Le fuseau horaire du syst\xE8me a \xE9t\xE9 chang\xE9 en {{timezone}}. La vue du calendrier a \xE9t\xE9 mise \xE0 jour.",revalidatingRemotes:"Revalidation des calendriers distants...",revalidationFailed:"Un ou plusieurs calendriers distants n'ont pas pu \xEAtre charg\xE9s. V\xE9rifiez la console pour plus de d\xE9tails.",revalidationSuccess:"Les calendriers distants ont \xE9t\xE9 revalid\xE9s.",cannotOpenRemote:"Impossible d'ouvrir la note pour un \xE9v\xE9nement distant.",bulkCategorization:{noNotesFound:"Aucune note d'\xE9v\xE9nement local trouv\xE9e \xE0 cat\xE9goriser.",progress:"Cat\xE9gorisation des notes d'\xE9v\xE9nement : {{index}}/{{total}}",complete:"Cat\xE9gorisation en masse termin\xE9e."},bulkDecategorization:{noNotesFound:"Aucune note d'\xE9v\xE9nement local trouv\xE9e \xE0 d\xE9cat\xE9goriser.",progress:"D\xE9cat\xE9gorisation des notes d'\xE9v\xE9nement : {{index}}/{{total}}",complete:"D\xE9cat\xE9gorisation en masse termin\xE9e."},tasks:{createViaPlugin:"Utilisez l'interface du plugin Tasks pour cr\xE9er de nouvelles t\xE2ches.",defaultValidation:"Cette t\xE2che ne peut pas \xEAtre planifi\xE9e \xE0 cette date.",scheduledNoModal:"T\xE2che planifi\xE9e, mais impossible d'ouvrir le modal d'\xE9dition de Tasks.",apiUnavailable:"API du plugin Obsidian Tasks non disponible."}},eventCache:{errors:{calendarNotFound:"Impossible d'ajouter l'\xE9v\xE9nement : calendrier avec ID {{calendarId}} introuvable.",providerNotFound:"Impossible d'ajouter l'\xE9v\xE9nement : fournisseur pour le type {{type}} introuvable.",readOnly:"Impossible d'ajouter l'\xE9v\xE9nement \xE0 un calendrier en lecture seule.",createFailed:"\xC9chec de la cr\xE9ation de l'\xE9v\xE9nement. La modification a \xE9t\xE9 annul\xE9e.",deleteFailed:"\xC9chec de la suppression de l'\xE9v\xE9nement. La modification a \xE9t\xE9 annul\xE9e.",updateFailed:"\xC9chec de la mise \xE0 jour de l'\xE9v\xE9nement. La modification a \xE9t\xE9 annul\xE9e."}},recurEvents:{notices:{promotingChildren:"Promotion de {{count}} enfant(s).",deletedAndPromoted:"\xC9v\xE9nement r\xE9current supprim\xE9 et enfants promus.",deletingWithChildren:"Suppression de l'\xE9v\xE9nement r\xE9current et de ses {{count}} surcharge(s) enfant(s)...",deletedAll:"\xC9v\xE9nement r\xE9current et tous ses enfants supprim\xE9s avec succ\xE8s.",preservingTiming:"Pr\xE9servation du timing de l'\xE9v\xE9nement modifi\xE9 et annulation de la t\xE2che.",revertingControl:"Retour au contr\xF4le de la s\xE9quence de l'\xE9v\xE9nement r\xE9current principal.",updatingChildren:"Mise \xE0 jour de {{count}} enfant(s) pour correspondre au nouveau titre parent.",updateError:"Erreur lors de la mise \xE0 jour de l'\xE9v\xE9nement r\xE9current. Certains enfants n'ont peut-\xEAtre pas \xE9t\xE9 mis \xE0 jour."}},ribbon:{openCalendar:"Ouvrir Full Calendar"},settings:{general:{desktopInitialView:{label:"Vue initiale sur desktop",description:"Choisissez la plage de vue initiale sur les appareils desktop."},mobileInitialView:{label:"Vue initiale sur mobile",description:"Choisissez la plage de vue initiale sur les appareils mobiles."},displayTimezone:{label:"Fuseau horaire d'affichage",description:"Choisissez le fuseau horaire pour l'affichage des \xE9v\xE9nements. Par d\xE9faut, celui de votre syst\xE8me. Changer cela rechargera le calendrier."},clickToCreateEvent:{label:"Cliquer sur un jour en vue mois pour cr\xE9er un \xE9v\xE9nement",description:"D\xE9sactivez pour ouvrir la vue jour au lieu de cr\xE9er un \xE9v\xE9nement."},enableReminders:{label:"Activer les rappels d'\xE9v\xE9nement",description:"Afficher une notification desktop 10 minutes avant le d\xE9but d'un \xE9v\xE9nement."}},appearance:{title:"Apparence",firstDay:{label:"Premier jour de la semaine",description:"Choisissez le jour de d\xE9but de la semaine."},timeFormat24h:{label:"Format 24 heures",description:"Afficher l'heure au format 24h."},businessHours:{enable:{label:"Activer les heures de travail",description:"Mettre en surbrillance vos heures de travail dans les vues en grille pour distinguer le temps de travail du temps personnel."},days:{label:"Jours ouvrables",description:"S\xE9lectionnez les jours de la semaine consid\xE9r\xE9s comme ouvrables."},startTime:{label:"Heure de d\xE9but des heures de travail",description:"Quand commence votre journ\xE9e de travail (format : HH:mm)"},endTime:{label:"Heure de fin des heures de travail",description:"Quand se termine votre journ\xE9e de travail (format : HH:mm)"},options:{mondayFriday:"Lundi - Vendredi",everyDay:"Tous les jours",mondayThursday:"Lundi - Jeudi",tuesdaySaturday:"Mardi - Samedi"}},viewTimeRange:{title:"Plage horaire de la vue",slotMinTime:{label:"Heure la plus t\xF4t \xE0 afficher",description:"D\xE9finir l'heure la plus t\xF4t visible dans les vues en grille (format : HH:mm)"},slotMaxTime:{label:"Heure la plus tardive \xE0 afficher",description:"D\xE9finir l'heure la plus tardive visible dans les vues en grille (format : HH:mm)"}},dayVisibility:{title:"Visibilit\xE9 des jours",weekends:{label:"Afficher les week-ends",description:"Afficher ou non les jours du week-end (samedi et dimanche) dans le calendrier"},hiddenDays:{label:"Jours cach\xE9s",description:"S\xE9lectionnez les jours de la semaine \xE0 masquer dans le calendrier",options:{showAll:"Afficher tous les jours",hideWeekends:"Masquer les week-ends (dim, sam)",hideSunday:"Masquer uniquement le dimanche",hideSaturday:"Masquer uniquement le samedi",hideMonday:"Masquer le lundi",hideTuesday:"Masquer le mardi",hideWednesday:"Masquer le mercredi",hideThursday:"Masquer le jeudi",hideFriday:"Masquer le vendredi"}}},dayMaxEvents:{label:"Nombre max d'\xE9v\xE9nements par jour (vue mois)",description:"Limiter le nombre d'\xE9v\xE9nements affich\xE9s par jour en vue mois",options:{default:"Utiliser la limite par d\xE9faut",unlimited:"Aucune limite (tout afficher)",one:"1 \xE9v\xE9nement maximum",two:"2 \xE9v\xE9nements maximum",three:"3 \xE9v\xE9nements maximum",four:"4 \xE9v\xE9nements maximum",five:"5 \xE9v\xE9nements maximum",ten:"10 \xE9v\xE9nements maximum"}},enableBackgroundEvents:{label:"Activer les \xE9v\xE9nements en arri\xE8re-plan",description:"Permettre l'affichage d'\xE9v\xE9nements comme \xE9l\xE9ments d'arri\xE8re-plan pour les vacances, le temps de concentration ou les horaires de cours."},showEventInStatusBar:{label:"Afficher l'\xE9v\xE9nement en cours dans la barre d'\xE9tat",description:"Afficher le titre de l'\xE9v\xE9nement en cours dans la barre d'\xE9tat d'Obsidian."}},calendars:{title:"G\xE9rer les calendriers",addCalendar:"Ajouter un calendrier",addCalendarTooltip:"Ajouter un calendrier",defaults:{iCloud:"Calendrier iCloud",new:"Nouveau calendrier {{type}}"},types:{local:"Note compl\xE8te",dailynote:"Note quotidienne",icloud:"iCloud",caldav:"CalDAV",ical:"Distant (format .ics)",google:"Google Calendar",tasks:"T\xE2ches Obsidian"},fullNote:{directory:{label:"R\xE9pertoire",description:"R\xE9pertoire pour stocker les notes d'\xE9v\xE9nement"}},dailyNote:{heading:{label:"En-t\xEAte",description:"En-t\xEAte sous lequel stocker les \xE9v\xE9nements dans la note quotidienne."}},ics:{url:{label:"URL",description:"URL du fichier .ics"}},caldav:{url:{label:"URL de la collection",description:"Collez l'URL de votre collection de calendrier (ex : https://calendar.zoho.in/caldav/<id>/events/)"},username:{label:"Nom d'utilisateur",description:"Nom d'utilisateur du compte"},password:{label:"Mot de passe",description:"Mot de passe du compte"},importButton:"Importer les calendriers",importing:"Importation..."},tasks:{zeroConfig:{label:"Aucune configuration requise",description:"Ce fournisseur lit automatiquement les param\xE8tres existants du plugin Obsidian Tasks. Toutes les t\xE2ches avec une date d'\xE9ch\xE9ance seront affich\xE9es sur le calendrier en tant qu'\xE9v\xE9nements en lecture seule."},calendarName:{label:"Nom du calendrier",description:"Nom d'affichage pour ce calendrier"},readOnly:{label:"Calendrier en lecture seule",description:"Les t\xE2ches peuvent \xEAtre consult\xE9es mais pas modifi\xE9es via l'interface du calendrier. Pour modifier les t\xE2ches, utilisez le plugin Tasks ou modifiez directement vos notes."},adding:"Ajout...",cancel:"Annuler"}},categorization:{title:"Cat\xE9gorisation avanc\xE9e et Timeline",learnMore:"En savoir plus",learnMoreLink:"ici",enable:{label:"Activer la cat\xE9gorisation avanc\xE9e (bas\xE9e sur le titre)",description:"Activer la coloration par cat\xE9gorie et d\xE9bloquer les vues timeline. Cela modifiera les titres des notes d'\xE9v\xE9nement et permettra la visualisation timeline par cat\xE9gorie."},disable:{modalTitle:"\u26A0\uFE0F D\xE9sactiver et nettoyer",modalDescription:"D\xE9sactiver cette fonctionnalit\xE9 supprimera les pr\xE9fixes de cat\xE9gorie connus de vos titres d'\xE9v\xE9nement et supprimera d\xE9finitivement tous les param\xE8tres de couleur de cat\xE9gorie enregistr\xE9s.",buttonDisable:"D\xE9sactiver et nettoyer les notes",buttonCancel:"Annuler"}},workspaces:{title:"Espaces de travail",description:"Cr\xE9er et g\xE9rer des espaces de travail de calendrier. Chaque espace peut avoir ses propres param\xE8tres de vue, calendriers visibles et filtres.",addNew:{label:"Ajouter un nouvel espace de travail",description:"Cr\xE9er un nouvel espace de travail de calendrier"},buttons:{new:"Nouvel espace de travail",edit:"Modifier",duplicate:"Dupliquer",activate:"Activer",active:"Actif",delete:"Supprimer"},defaultName:"Nouvel espace de travail",copyName:"{{name}} Copie"},quickStart:{title:"D\xE9marrage rapide : Ajoutez votre premier calendrier",description:'Pour commencer, ajoutez une source de calendrier en utilisant le bouton "+" dans la section "G\xE9rer les calendriers".'},viewOptions:{day:"Jour",week:"Semaine",month:"Mois",list:"Liste",threeDays:"3 jours",timelineWeek:"Semaine timeline",timelineDay:"Jour timeline"},weekdays:{sunday:"Dimanche",monday:"Lundi",tuesday:"Mardi",wednesday:"Mercredi",thursday:"Jeudi",friday:"Vendredi",saturday:"Samedi"},changelog:{whatsNew:"Quoi de neuf",viewFull:"Voir le journal des modifications complet"},utils:{timelineDisabled:'La vue chronologique est d\xE9sactiv\xE9e. R\xE9initialisation de la vue de bureau par d\xE9faut \xE0 "Semaine".'},warnings:{oneDailyNote:"Une seule note quotidienne est autoris\xE9e."}},modals:{reminder:{snoozeFor:"Reporter de",dismiss:"Ignorer",openNote:"Ouvrir la note",snooze:"Reporter",snoozeWarningTitle:"\u26A0\uFE0F Reporter d\xE9place l'\xE9v\xE9nement",snoozeWarningBody:"Ceci est un rappel par d\xE9faut. Reporter d\xE9placera l'heure de d\xE9but de l'\xE9v\xE9nement vers l'avant.",presets:{"5m":"5 minutes","10m":"10 minutes","15m":"15 minutes","30m":"30 minutes","1h":"1 heure"}},editEvent:{title:{new:"Nouvel \xE9v\xE9nement",edit:"Modifier l'\xE9v\xE9nement"},buttons:{openNote:"Ouvrir la note",delete:"Supprimer",save:"Enregistrer l'\xE9v\xE9nement"},fields:{title:{label:"Titre",placeholder:"Titre de l'\xE9v\xE9nement"},category:{label:"Cat\xE9gorie",placeholder:"Cat\xE9gorie (optionnel)"},display:{label:"Affichage",options:{auto:"\xC9v\xE9nement normal",background:"\xC9v\xE9nement en arri\xE8re-plan",inverseBackground:"Arri\xE8re-plan invers\xE9",none:"Cach\xE9"}},inCalendar:{label:"Dans le calendrier"},date:{label:"Date"},time:{label:"Heure"},options:{label:"Options",allDay:"Toute la journ\xE9e",isTask:"Est une t\xE2che",completed:"Termin\xE9e",endReminder:"Rappeler 10 min avant la fin",endReminderTooltip:"Un rappel de fin n\xE9cessite une heure de fin sp\xE9cifique."},repeats:{label:"R\xE9p\xE9titions",options:{none:"Aucune",weekly:"Hebdomadaire",monthly:"Mensuelle",yearly:"Annuelle"},repeatEvery:"R\xE9p\xE9ter chaque",week:"semaine",weeks:"semaines",month:"mois",months:"mois",year:"an",years:"ans",repeatOn:"R\xE9p\xE9ter le",onDay:"Le jour {{day}}",onThe:"Le",ordinal:{first:"premier",second:"deuxi\xE8me",third:"troisi\xE8me",fourth:"quatri\xE8me",last:"dernier"},yearlyText:"R\xE9p\xE8te chaque ann\xE9e le {{date}}.",endRepeat:"Fin de la r\xE9p\xE9tition"}},tooltips:{recurringTaskCompletion:"La compl\xE9tion des t\xE2ches r\xE9currentes peut \xEAtre activ\xE9e sur chaque instance dans la vue calendrier.",dailyNoteRecurring:"Les \xE9v\xE9nements r\xE9currents ne sont pas pris en charge dans les notes quotidiennes. Veuillez utiliser un calendrier 'Note compl\xE8te' \xE0 la place.",inheritedEvent:"Cet \xE9v\xE9nement h\xE9rite d'une s\xE9rie r\xE9currente. Pour le modifier, ouvrez d'abord la note de la s\xE9rie."}},deleteRecurring:{title:"Supprimer l'\xE9v\xE9nement r\xE9current",description:`Ceci est un \xE9v\xE9nement r\xE9current. Que souhaitez-vous faire de toutes ses futures instances "override" (c'est-\xE0-dire les \xE9v\xE9nements que vous avez d\xE9plac\xE9s ou modifi\xE9s) ?`,deleteInstance:{name:"Supprimer uniquement cette instance",description:"Supprimer uniquement l'instance du {{date}}. Cela sautera cette date dans la r\xE9currence.",button:"Supprimer cette instance"},promoteChildren:{name:"Promouvoir les \xE9v\xE9nements enfants",description:"Transformer tous les \xE9v\xE9nements modifi\xE9s (le cas \xE9ch\xE9ant) en \xE9v\xE9nements autonomes. Ils ne seront plus li\xE9s \xE0 cette s\xE9rie r\xE9currente.",button:"Promouvoir les enfants"},deleteAll:{name:"Supprimer les \xE9v\xE9nements enfants",description:"Supprimer tous les futurs \xE9v\xE9nements modifi\xE9s associ\xE9s \xE0 cette s\xE9rie r\xE9currente. Ceci est irr\xE9versible.",button:"Tout supprimer"},cancel:"Annuler"},workspace:{title:{create:"Cr\xE9er un espace de travail",edit:"Modifier l'espace de travail"},sections:{general:"G\xE9n\xE9ral",viewConfiguration:"Configuration de la vue",calendarFilters:"Filtres de calendrier",categoryFilters:"Filtres de cat\xE9gorie",appearanceOverrides:"Remplacements d'apparence",viewClipping:"Plage horaire et d\xE9coupage de la vue"},fields:{name:{label:"Nom",description:"Un nom unique pour cet espace de travail",placeholder:"ex : Travail, Planification familiale"},desktopView:{label:"Vue desktop",description:"Vue par d\xE9faut pour les appareils desktop"},mobileView:{label:"Vue mobile",description:"Vue par d\xE9faut pour les appareils mobiles"},defaultDate:{label:"Date par d\xE9faut (optionnel)",description:`Date \xE0 afficher lors de l'activation de l'espace de travail (ex : "aujourd'hui", "2024-01-01")`,placeholder:"aujourd'hui, semaine-prochaine, 2024-01-01"},visibleCalendars:{label:"Calendriers visibles",description:"S\xE9lectionnez les calendriers \xE0 afficher (laisser vide pour tout afficher)",noCalendars:"Aucun calendrier configur\xE9. Configurez d'abord les calendriers dans les param\xE8tres principaux."},categoryFilterMode:{label:"Mode de filtre de cat\xE9gorie",description:"Choisissez comment filtrer les cat\xE9gories",options:{showOnly:"Afficher uniquement les cat\xE9gories s\xE9lectionn\xE9es",hide:"Masquer les cat\xE9gories s\xE9lectionn\xE9es"}},categories:{label:"Cat\xE9gories",description:"S\xE9lectionnez les cat\xE9gories \xE0 inclure/exclure (laisser vide pour tout afficher)",noCategories:"Aucune cat\xE9gorie configur\xE9e. Configurez les cat\xE9gories dans les param\xE8tres de cat\xE9gorisation.",requiresAdvanced:"Le filtrage par cat\xE9gorie n\xE9cessite l'activation de la cat\xE9gorisation avanc\xE9e dans les param\xE8tres principaux."},notices:{enableBases:"Veuillez d'abord activer le plugin Obsidian Bases."},overrideBusinessHours:{label:"Remplacer les heures de travail",description:"Activer des heures de travail personnalis\xE9es pour cet espace de travail"},enableBusinessHours:{label:"Activer les heures de travail",description:"Afficher la surbrillance des heures de travail dans cet espace de travail"},businessDays:{label:"Jours ouvrables",description:"S\xE9lectionnez les jours de la semaine consid\xE9r\xE9s comme ouvrables"},businessHoursStart:{label:"Heure de d\xE9but des heures de travail",description:"Quand commence votre journ\xE9e de travail (format : HH:mm)"},businessHoursEnd:{label:"Heure de fin des heures de travail",description:"Quand se termine votre journ\xE9e de travail (format : HH:mm)"},timelineCategories:{label:"Cat\xE9gories de timeline",description:"\xC9tat par d\xE9faut des groupes de cat\xE9gories de timeline",options:{useDefault:"Utiliser le param\xE8tre par d\xE9faut",expanded:"D\xE9velopp\xE9 par d\xE9faut",collapsed:"R\xE9duit par d\xE9faut"}},slotMinTime:{label:"Heure la plus t\xF4t \xE0 afficher",description:"Remplacer l'heure la plus t\xF4t visible dans les vues en grille (format : HH:mm)",placeholder:"Utiliser le param\xE8tre global"},slotMaxTime:{label:"Heure la plus tardive \xE0 afficher",description:"Remplacer l'heure la plus tardive visible dans les vues en grille (format : HH:mm)",placeholder:"Utiliser le param\xE8tre global"},weekendDisplay:{label:"Affichage du week-end",description:"Remplacer l'affichage des week-ends dans le calendrier",options:{useDefault:"Utiliser le param\xE8tre global",show:"Afficher les week-ends",hide:"Masquer les week-ends"}},hiddenDays:{label:"Jours cach\xE9s",description:"Remplacer les jours \xE0 masquer dans le calendrier",options:{useDefault:"Utiliser le param\xE8tre global",showAll:"Afficher tous les jours",hideWeekends:"Masquer les week-ends (dim, sam)",hideSunday:"Masquer le dimanche",hideSaturday:"Masquer le samedi",hideMonday:"Masquer le lundi",hideFriday:"Masquer le vendredi"}},dayMaxEvents:{label:"Nombre max d'\xE9v\xE9nements par jour (vue mois)",description:"Remplacer le nombre maximum d'\xE9v\xE9nements \xE0 afficher par jour en vue mois",options:{useGlobal:"Utiliser le param\xE8tre global",useDefault:"Utiliser la limite par d\xE9faut",noLimit:"Aucune limite",one:"1 \xE9v\xE9nement",two:"2 \xE9v\xE9nements",three:"3 \xE9v\xE9nements",four:"4 \xE9v\xE9nements",five:"5 \xE9v\xE9nements",ten:"10 \xE9v\xE9nements"}}},calendarTypes:{local:"Local :",dailyNotes:"Notes quotidiennes :",ics:"ICS :",caldav:"CalDAV :",google:"Google :",generic:"Calendrier {{type}}"},buttons:{save:"Enregistrer",create:"Cr\xE9er",cancel:"Annuler"}},bulkCategorize:{title:"Choisissez une m\xE9thode de mise \xE0 jour en masse",description:"Comment souhaitez-vous cat\xE9goriser automatiquement les \xE9v\xE9nements existants dans vos calendriers locaux ? Il s'agit d'une op\xE9ration unique qui modifiera vos notes d'\xE9v\xE9nement pour correspondre au format requis.",smartFolder:{name:"Utiliser le dossier parent (intelligent)",description:"Utiliser le nom du dossier parent comme cat\xE9gorie pour les \xE9v\xE9nements NON cat\xE9goris\xE9s. Les \xE9v\xE9nements d\xE9j\xE0 au format 'Cat\xE9gorie - Titre' seront ignor\xE9s.",button:"Lancer la mise \xE0 jour intelligente"},forcedFolder:{name:"Utiliser le dossier parent (forc\xE9)",description:"PR\xC9FIXE le nom du dossier parent \xE0 TOUS les titres d'\xE9v\xE9nement, m\xEAme s'ils ont d\xE9j\xE0 une cat\xE9gorie. Attention : cela cr\xE9e des cat\xE9gories imbriqu\xE9es.",button:"Lancer la mise \xE0 jour forc\xE9e"},forcedDefault:{name:"Mise \xE0 jour par d\xE9faut forc\xE9e",description:"Pr\xE9fixe une cat\xE9gorie que vous fournissez \xE0 TOUS les titres d'\xE9v\xE9nement. Si une cat\xE9gorie existe d\xE9j\xE0, la nouvelle sera ajout\xE9e devant (ex : Nouvelle - Ancienne - Titre).",placeholder:"Entrez la cat\xE9gorie par d\xE9faut",button:"D\xE9finir par d\xE9faut",errorEmpty:"Veuillez entrer un nom de cat\xE9gorie."}}},google:{auth:{expired:"L'authentification Google a expir\xE9. Veuillez reconnecter votre compte.",authFailed:"Impossible d'authentifier le calendrier. Veuillez essayer de l'ajouter \xE0 nouveau dans les param\xE8tres.",popupBlocked:"Popup bloqu\xE9. Veuillez autoriser les popups pour Obsidian.",customCredsMissing:"L'ID client Google et le secret personnalis\xE9s doivent \xEAtre d\xE9finis dans les param\xE8tres du plugin.",stateMismatch:"L'authentification Google a \xE9chou\xE9. Discordance d'\xE9tat (State mismatch).",success:"Compte Google connect\xE9 avec succ\xE8s !",failed:"\xC9chec de la connexion au compte Google. V\xE9rifiez la console d\xE9veloppeur pour plus de d\xE9tails."},title:"Comptes Google",customCredentials:{enable:{label:"Utiliser des identifiants Google Cloud personnalis\xE9s",description:"Utilisez votre propre identifiant client OAuth et secret au lieu de ceux par d\xE9faut. Le plugin est actuellement v\xE9rifi\xE9 par Google, mais vous pouvez tout de m\xEAme utiliser cette option."},clientId:{label:"Identifiant Client",description:"Votre identifiant client Google OAuth 2.0"},clientSecret:{label:"Secret Client",description:"Votre secret client Google OAuth 2.0"}},noAccounts:"Aucun compte Google connect\xE9. Ajoutez une source de calendrier pour connecter un compte.",accountDescription:"Compte connect\xE9. ID : {{id}}",buttons:{disconnect:"D\xE9connecter",selectCalendars:"S\xE9lectionner les calendriers",connectAccount:"Connecter un compte Google",backToAccounts:"Retour aux comptes",addCalendars:"Ajouter {{count}} calendrier",addCalendarsPlural:"Ajouter {{count}} calendriers"},selectAccount:{title:"Connecter un compte Google"},selectCalendars:{title:"S\xE9lectionner les calendriers de {{email}}",noCalendars:"Aucun nouveau calendrier trouv\xE9, ou tous les calendriers de ce compte ont \xE9t\xE9 ajout\xE9s.",description:"Choisissez les calendriers que vous souhaitez ajouter \xE0 Obsidian."},loading:"Chargement..."},ui:{buttons:{addCalendar:"Ajouter un calendrier"},navigation:{thisMonth:"Ce mois-ci",thisWeek:"Cette semaine",customDate:"Date personnalis\xE9e...",viewMonth:"Voir le mois",viewWeek:"Voir la semaine",viewDay:"Voir le jour"}},notifications:{eventStarting:{title:"\xC9v\xE9nement commen\xE7ant bient\xF4t",body:"{{title}} commence \xE0 {{time}}"},eventEnding:{title:"\xC9v\xE9nement se terminant bient\xF4t",body:"{{title}} se termine \xE0 {{time}}"},allDaySuffix:"(Toute la journ\xE9e)",inMinutes:"(Dans {{mins}} minutes)",failed:"Full Calendar : \xC9chec de la cr\xE9ation de la notification de bureau.",errorBody:"Full Calendar : Impossible d'afficher la notification de bureau. V\xE9rifiez la console pour les erreurs."}}});var pG,hG=Re(()=>{pG={chrono:{ui:{title:"Configura Gruppi di Insight",description:"Crea gruppi per categorizzare le tue attivit\xE0. Il motore utilizzer\xE0 queste regole per generare insight personalizzati.",save:"Salva configurazione",cancel:"Annulla",addGroup:"Aggiungi nuovo gruppo di insight",groupName:"Nome del gruppo",groupNamePlaceholder:"es: Lavoro",deleteGroup:"Elimina questo gruppo",persona:{name:"Analizza come Persona",desc:"Scegli il modello analitico da applicare a questo gruppo.",productivity:"\u{1F3AF} Produttivit\xE0",wellness:"\u2764\uFE0F Benessere & Routine",none:"\u26AA (Ignora nella dashboard)"},hierarchies:{name:"Gerarchie corrispondenti",desc:"es: Calendario di lavoro, Calendario personale",add:"Aggiungi gerarchia..."},projects:{name:"Progetti corrispondenti",desc:"es: Progetto Phoenix, Report Q4",add:"Aggiungi progetto..."},mutedProjects:{name:"Progetti silenziati",desc:"Silenzia progetti specifici (case-sensitive, corrispondenza esatta) per escluderli dai controlli di coerenza delle abitudini.",add:"Aggiungi progetto silenziato..."},subprojectKeywords:{name:"Parole chiave dei sottoggetti corrispondenti",desc:"Aggiungi parole chiave che corrisponderanno se trovate ovunque in un sottoprogetto.",placeholder:`es: design
ricerca
riunione`},mutedSubprojectKeywords:{name:"Parole chiave dei sottoggetti silenziati",desc:"Silenzia le attivit\xE0 per parola chiave. Se un sottoprogetto contiene una di queste parole chiave (case-insensitive), verr\xE0 escluso dai controlli di coerenza delle abitudini.",placeholder:`es: completato
archivio
vecchio`},unsavedChanges:{title:"Modifiche non salvate",message:"Hai modifiche non salvate. Vuoi salvarle prima di chiudere?",saveAndClose:"Salva e chiudi",discard:"Ignora modifiche"},folderSelectPlaceholder:"Seleziona una cartella con i tuoi file di tracciamento del tempo...",errors:{groupExists:'Il nome del gruppo "{{name}}" esiste gi\xE0.'}}},commands:{newEvent:"Nuovo Evento",resetCache:"Reimposta Cache Eventi",revalidateRemote:"Rivalida calendari remoti",openCalendar:"Apri Calendario",openChronoAnalyser:"Apri Crono Analizzatore (Solo Desktop)",openSidebar:"Apri nella barra laterale"},notices:{settingsUpdated:"Full Calendar ha aggiornato le impostazioni del calendario a un nuovo formato.",cacheReset:"Full Calendar \xE8 stato reimpostato.",chronoAnalyserMobileDisabled:"La funzione Crono Analizzatore \xE8 disponibile solo nella versione desktop di Obsidian.",chronoAnalyserInitializing:"Crono Analizzatore: Inizializzazione cache eventi...",chronoAnalyserLoadFailed:"Impossibile caricare Crono Analizzatore. Controlla la console.",chronoAnalyserConfigureFirst:"Configura prima i Gruppi Insight usando l'icona \u2699\uFE0F.",chronoAnalyserGeneratingInsights:"Generazione degli insight (potrebbe richiedere un momento)...",chronoAnalyserInsightsFailed:"Impossibile generare gli insight. Controlla la console sviluppatore per errori.",chronoAnalyserInsightsSaved:"Configurazione insight salvata!",googleAuthFailed:"Autenticazione Google fallita. Riprova.",bulkUpdateError:"Errore durante l'aggiornamento massivo. Controlla la console per dettagli.",providerNotRegistered:"Il provider {{providerType}} non \xE8 registrato.",timezoneChanged:"Fuso orario di sistema cambiato in {{timezone}}. Vista calendario aggiornata.",revalidatingRemotes:"Rivalidazione dei calendari remoti...",revalidationFailed:"Uno o pi\xF9 calendari remoti non sono stati caricati. Controlla la console per dettagli.",revalidationSuccess:"Calendari remoti rivalidati.",cannotOpenRemote:"Impossibile aprire la nota per un evento remoto.",bulkCategorization:{noNotesFound:"Nessuna nota evento locale trovata da categorizzare.",progress:"Categorizzazione note evento: {{index}}/{{total}}",complete:"Categorizzazione massiva completata."},bulkDecategorization:{noNotesFound:"Nessuna nota evento locale trovata da decategorizzare.",progress:"Decategorizzazione note evento: {{index}}/{{total}}",complete:"Decategorizzazione massiva completata."},tasks:{createViaPlugin:"Usa l'interfaccia del plugin Tasks per creare nuove attivit\xE0.",defaultValidation:"Questa attivit\xE0 non pu\xF2 essere pianificata in questa data.",scheduledNoModal:"Attivit\xE0 pianificata, ma impossibile aprire il modale di modifica di Tasks.",apiUnavailable:"API del plugin Obsidian Tasks non disponibile."}},ribbon:{openCalendar:"Apri Full Calendar"},settings:{general:{desktopInitialView:{label:"Vista iniziale desktop",description:"Scegli la vista iniziale su dispositivi desktop."},mobileInitialView:{label:"Vista iniziale mobile",description:"Scegli la vista iniziale su dispositivi mobili."},displayTimezone:{label:"Fuso orario di visualizzazione",description:"Scegli il fuso orario per la visualizzazione degli eventi. Di default usa il fuso orario di sistema. Cambiare questa opzione ricaricher\xE0 il calendario."},clickToCreateEvent:{label:"Clicca su un giorno nella vista mese per creare evento",description:"Disattiva per aprire la vista giorno al clic."},enableReminders:{label:"Abilita promemoria eventi",description:"Mostra una notifica desktop 10 minuti prima dell'inizio di un evento."}},appearance:{title:"Aspetto",firstDay:{label:"Giorno iniziale della settimana",description:"Scegli il giorno di inizio settimana."},timeFormat24h:{label:"Formato 24 ore",description:"Visualizza l'orario in formato 24 ore."},businessHours:{enable:{label:"Abilita orario lavorativo",description:"Evidenzia le ore lavorative nelle viste a griglia per distinguere il tempo di lavoro da quello personale."},days:{label:"Giorni lavorativi",description:"Seleziona i giorni della settimana lavorativi."},startTime:{label:"Ora di inizio lavoro",description:"Quando inizia la giornata lavorativa (formato: HH:mm)"},endTime:{label:"Ora di fine lavoro",description:"Quando termina la giornata lavorativa (formato: HH:mm)"},options:{mondayFriday:"Luned\xEC - Venerd\xEC",everyDay:"Ogni giorno",mondayThursday:"Luned\xEC - Gioved\xEC",tuesdaySaturday:"Marted\xEC - Sabato"}},viewTimeRange:{title:"Intervallo orario di visualizzazione",slotMinTime:{label:"Orario minimo da visualizzare",description:"Imposta l'orario minimo visibile nelle viste a griglia (formato: HH:mm)"},slotMaxTime:{label:"Orario massimo da visualizzare",description:"Imposta l'orario massimo visibile nelle viste a griglia (formato: HH:mm)"}},dayVisibility:{title:"Visibilit\xE0 giorni",weekends:{label:"Mostra weekend",description:"Visualizza i giorni del weekend (sabato e domenica) nel calendario"},hiddenDays:{label:"Giorni nascosti",description:"Seleziona i giorni della settimana da nascondere nel calendario",options:{showAll:"Mostra tutti i giorni",hideWeekends:"Nascondi weekend (dom, sab)",hideSunday:"Nascondi solo domenica",hideSaturday:"Nascondi solo sabato",hideMonday:"Nascondi luned\xEC",hideTuesday:"Nascondi marted\xEC",hideWednesday:"Nascondi mercoled\xEC",hideThursday:"Nascondi gioved\xEC",hideFriday:"Nascondi venerd\xEC"}}},dayMaxEvents:{label:"Max eventi per giorno (vista mese)",description:"Limita il numero di eventi mostrati per giorno nella vista mese",options:{default:"Usa limite predefinito",unlimited:"Nessun limite (mostra tutti)",one:"1 evento massimo",two:"2 eventi massimo",three:"3 eventi massimo",four:"4 eventi massimo",five:"5 eventi massimo",ten:"10 eventi massimo"}},enableBackgroundEvents:{label:"Abilita eventi di sfondo",description:"Consenti la visualizzazione di eventi come elementi di sfondo per vacanze, tempo di concentrazione o orari di lezione."},showEventInStatusBar:{label:"Mostra evento corrente nella barra di stato",description:"Visualizza il titolo dell'evento in corso nella barra di stato di Obsidian."}},calendars:{title:"Gestisci calendari",addCalendar:"Aggiungi calendario",addCalendarTooltip:"Aggiungi Calendario",defaults:{iCloud:"Calendario iCloud",new:"Nuovo calendario {{type}}"},types:{local:"Nota completa",dailynote:"Nota giornaliera",icloud:"iCloud",caldav:"CalDAV",ical:"Remoto (formato .ics)",google:"Google Calendar",tasks:"Obsidian Tasks"},fullNote:{directory:{label:"Directory",description:"Directory dove salvare le note evento"}},dailyNote:{heading:{label:"Intestazione",description:"Intestazione sotto cui salvare gli eventi nella nota giornaliera."}},ics:{url:{label:"URL",description:"URL del file .ics"}},caldav:{url:{label:"URL della collezione",description:"Incolla l'URL della collezione calendario (es. https://calendar.zoho.in/caldav/<id>/events/)"},username:{label:"Nome utente",description:"Nome utente per l'account"},password:{label:"Password",description:"Password per l'account"},importButton:"Importa calendari",importing:"Importazione..."},tasks:{zeroConfig:{label:"Nessuna configurazione richiesta",description:"Questo provider legge automaticamente le impostazioni esistenti del plugin Obsidian Tasks. Tutti i task con data di scadenza saranno visualizzati nel calendario come eventi di sola lettura."},calendarName:{label:"Nome calendario",description:"Nome visualizzato per questo calendario"},readOnly:{label:"Calendario di sola lettura",description:"I task possono essere visualizzati ma non modificati tramite l'interfaccia calendario. Per modificare i task, usa il plugin Tasks o modifica direttamente le note."},adding:"Aggiunta...",cancel:"Annulla"}},categorization:{title:"Categorizzazione avanzata e Timeline",learnMore:"Scopri di pi\xF9",learnMoreLink:"qui",enable:{label:"Abilita categorizzazione avanzata (basata sul titolo)",description:"Abilita la colorazione per categoria e sblocca le viste timeline. Questo modificher\xE0 i titoli delle note evento e permetter\xE0 la visualizzazione timeline per categoria."},disable:{modalTitle:"\u26A0\uFE0F Disabilita e pulisci",modalDescription:"Disabilitando questa funzione verranno rimossi i prefissi di categoria noti dai titoli degli eventi e verranno eliminati definitivamente tutte le impostazioni di colore categoria salvate.",buttonDisable:"Disabilita e pulisci note",buttonCancel:"Annulla"}},workspaces:{title:"Workspace",description:"Crea e gestisci workspace calendario. Ogni workspace pu\xF2 avere le proprie impostazioni di vista, calendari visibili e filtri.",addNew:{label:"Aggiungi nuovo workspace",description:"Crea un nuovo workspace calendario"},buttons:{new:"Nuovo Workspace",edit:"Modifica",duplicate:"Duplica",activate:"Attiva",active:"Attivo",delete:"Elimina"},defaultName:"Nuovo Workspace",copyName:"{{name}} Copia"},quickStart:{title:"Guida rapida: aggiungi il tuo primo calendario",description:"Per iniziare, aggiungi una fonte calendario usando il pulsante '+' nella sezione 'Gestisci calendari'."},viewOptions:{day:"Giorno",week:"Settimana",month:"Mese",list:"Lista",threeDays:"3 Giorni",timelineWeek:"Timeline Settimana",timelineDay:"Timeline Giorno"},weekdays:{sunday:"Domenica",monday:"Luned\xEC",tuesday:"Marted\xEC",wednesday:"Mercoled\xEC",thursday:"Gioved\xEC",friday:"Venerd\xEC",saturday:"Sabato"},changelog:{whatsNew:"Novit\xE0",viewFull:"Vedi il log delle modifiche completo"},utils:{timelineDisabled:'La vista timeline \xE8 disabilitata. Ripristino della vista desktop predefinita a "Settimana".'},warnings:{oneDailyNote:"\xC8 consentita solo una nota giornaliera."}},modals:{reminder:{snoozeFor:"Posticipa di",dismiss:"Ignora",openNote:"Apri nota",snooze:"Posticipa",snoozeWarningTitle:"\u26A0\uFE0F Posticipare sposta l'evento",snoozeWarningBody:"Questo \xE8 un promemoria predefinito. Posticipare sposter\xE0 l'ora di inizio dell'evento in avanti.",presets:{"5m":"5 minuti","10m":"10 minuti","15m":"15 minuti","30m":"30 minuti","1h":"1 ora"}},editEvent:{title:{new:"Nuovo Evento",edit:"Modifica Evento"},buttons:{openNote:"Apri Nota",delete:"Elimina",save:"Salva Evento"},fields:{title:{label:"Titolo",placeholder:"Titolo Evento"},category:{label:"Categoria",placeholder:"Categoria (opzionale)"},display:{label:"Visualizzazione",options:{auto:"Evento normale",background:"Evento di sfondo",inverseBackground:"Sfondo inverso",none:"Nascosto"}},inCalendar:{label:"Nel calendario"},date:{label:"Data"},time:{label:"Orario"},options:{label:"Opzioni",allDay:"Tutto il giorno",isTask:"\xC8 un Task",completed:"Completato",endReminder:"Ricorda 10m prima della fine",endReminderTooltip:"Un promemoria di fine richiede un orario di fine specifico."},repeats:{label:"Ripetizioni",options:{none:"Nessuna",weekly:"Settimanale",monthly:"Mensile",yearly:"Annuale"},repeatEvery:"Ripeti ogni",week:"settimana",weeks:"settimane",month:"mese",months:"mesi",year:"anno",years:"anni",repeatOn:"Ripeti il",onDay:"Il giorno {{day}}",onThe:"Il",ordinal:{first:"primo",second:"secondo",third:"terzo",fourth:"quarto",last:"ultimo"},yearlyText:"Ripete ogni anno il {{date}}.",endRepeat:"Termina ripetizione"}},tooltips:{recurringTaskCompletion:"Il completamento dei task ricorrenti pu\xF2 essere attivato sulle singole istanze nella vista calendario.",dailyNoteRecurring:"Gli eventi ricorrenti non sono supportati nelle Note Giornaliere. Usa invece un calendario 'Nota completa'.",inheritedEvent:"Questo evento deriva da una serie ricorrente. Per modificarlo, apri prima la nota della serie."}},deleteRecurring:{title:"Elimina Evento Ricorrente",description:"Questo \xE8 un evento ricorrente. Cosa vuoi fare con tutte le future istanze 'override' (cio\xE8 eventi che hai spostato o modificato)?",deleteInstance:{name:"Elimina solo questa istanza",description:"Elimina solo l'istanza del {{date}}. Questa data verr\xE0 saltata nella ricorrenza.",button:"Elimina questa istanza"},promoteChildren:{name:"Promuovi eventi figli",description:"Trasforma tutti gli eventi modificati (se presenti) in eventi singoli e indipendenti. Non saranno pi\xF9 collegati a questa serie ricorrente.",button:"Promuovi figli"},deleteAll:{name:"Elimina eventi figli",description:"Elimina tutti i futuri eventi override associati a questa serie ricorrente. Questa operazione non pu\xF2 essere annullata.",button:"Elimina tutto"},cancel:"Annulla"},workspace:{title:{create:"Crea Workspace",edit:"Modifica Workspace"},sections:{general:"Generale",viewConfiguration:"Configurazione vista",calendarFilters:"Filtri calendario",categoryFilters:"Filtri categoria",appearanceOverrides:"Sovrascrivi aspetto",viewClipping:"Taglio vista & intervallo orario"},fields:{name:{label:"Nome",description:"Nome univoco per questo workspace",placeholder:"es. Lavoro, Pianificazione familiare"},desktopView:{label:"Vista desktop",description:"Vista predefinita per dispositivi desktop"},mobileView:{label:"Vista mobile",description:"Vista predefinita per dispositivi mobili"},defaultDate:{label:"Data predefinita (opzionale)",description:"Data da visualizzare all'attivazione del workspace (es. 'oggi', '2024-01-01')",placeholder:"oggi, prossima-settimana, 2024-01-01"},visibleCalendars:{label:"Calendari visibili",description:"Seleziona quali calendari mostrare (lascia vuoto per mostrarli tutti)",noCalendars:"Nessun calendario configurato. Configura i calendari nelle impostazioni principali."},categoryFilterMode:{label:"Modalit\xE0 filtro categoria",description:"Scegli come filtrare le categorie",options:{showOnly:"Mostra solo le categorie selezionate",hide:"Nascondi le categorie selezionate"}},categories:{label:"Categorie",description:"Seleziona le categorie da includere/escludere (lascia vuoto per mostrarle tutte)",noCategories:"Nessuna categoria configurata. Configura le categorie nelle impostazioni di categorizzazione.",requiresAdvanced:"Il filtro categoria richiede la categorizzazione avanzata abilitata nelle impostazioni principali."},notices:{enableBases:"Si prega di abilitare prima il plugin Obsidian Bases."},overrideBusinessHours:{label:"Sovrascrivi orario lavorativo",description:"Abilita orario lavorativo personalizzato per questo workspace"},enableBusinessHours:{label:"Abilita orario lavorativo",description:"Mostra evidenziazione orario lavorativo in questo workspace"},businessDays:{label:"Giorni lavorativi",description:"Seleziona i giorni della settimana lavorativi"},businessHoursStart:{label:"Ora di inizio lavoro",description:"Quando inizia la giornata lavorativa (formato: HH:mm)"},businessHoursEnd:{label:"Ora di fine lavoro",description:"Quando termina la giornata lavorativa (formato: HH:mm)"},timelineCategories:{label:"Categorie timeline",description:"Stato predefinito per i gruppi categoria timeline",options:{useDefault:"Usa impostazione predefinita",expanded:"Espanso di default",collapsed:"Compresso di default"}},slotMinTime:{label:"Orario minimo da visualizzare",description:"Sovrascrivi l'orario minimo visibile nelle viste a griglia (formato: HH:mm)",placeholder:"Usa predefinito globale"},slotMaxTime:{label:"Orario massimo da visualizzare",description:"Sovrascrivi l'orario massimo visibile nelle viste a griglia (formato: HH:mm)",placeholder:"Usa predefinito globale"},weekendDisplay:{label:"Visualizzazione weekend",description:"Sovrascrivi se mostrare i weekend nel calendario",options:{useDefault:"Usa predefinito globale",show:"Mostra weekend",hide:"Nascondi weekend"}},hiddenDays:{label:"Giorni nascosti",description:"Sovrascrivi i giorni da nascondere nel calendario",options:{useDefault:"Usa predefinito globale",showAll:"Mostra tutti i giorni",hideWeekends:"Nascondi weekend (dom, sab)",hideSunday:"Nascondi domenica",hideSaturday:"Nascondi sabato",hideMonday:"Nascondi luned\xEC",hideFriday:"Nascondi venerd\xEC"}},dayMaxEvents:{label:"Max eventi per giorno (vista mese)",description:"Sovrascrivi il numero massimo di eventi da mostrare per giorno nella vista mese",options:{useGlobal:"Usa predefinito globale",useDefault:"Usa limite predefinito",noLimit:"Nessun limite",one:"1 evento",two:"2 eventi",three:"3 eventi",four:"4 eventi",five:"5 eventi",ten:"10 eventi"}}},calendarTypes:{local:"Locale:",dailyNotes:"Note giornaliere:",ics:"ICS:",caldav:"CalDAV:",google:"Google:",generic:"Calendario {{type}}"},buttons:{save:"Salva",create:"Crea",cancel:"Annulla"}},bulkCategorize:{title:"Scegli un metodo di aggiornamento massivo",description:"Come vuoi categorizzare automaticamente gli eventi esistenti nei tuoi calendari locali? Questa \xE8 un'operazione una tantum che modificher\xE0 le note evento per rispettare la formattazione richiesta.",smartFolder:{name:"Usa cartella genitore (Smart)",description:"Usa il nome della cartella genitore come categoria per gli eventi NON categorizzati. Gli eventi gi\xE0 formattati come 'Categoria - Titolo' verranno ignorati.",button:"Esegui aggiornamento smart"},forcedFolder:{name:"Usa cartella genitore (Forzato)",description:"PREPENDE il nome della cartella genitore a TUTTI i titoli evento, anche se gi\xE0 hanno una categoria. Attenzione: crea categorie annidate.",button:"Esegui aggiornamento forzato"},forcedDefault:{name:"Aggiornamento predefinito forzato",description:"Prepone una categoria fornita da te a TUTTI i titoli evento. Se esiste gi\xE0 una categoria, la nuova verr\xE0 aggiunta davanti (es. Nuova - Vecchia - Titolo).",placeholder:"Inserisci categoria predefinita",button:"Imposta predefinito",errorEmpty:"Inserisci un nome categoria."}}},google:{auth:{expired:"Autenticazione Google scaduta. Riconnetti il tuo account.",authFailed:"Impossibile autenticare il calendario. Prova ad aggiungerlo di nuovo nelle impostazioni.",popupBlocked:"Popup bloccato. Consenti i popup per Obsidian.",customCredsMissing:"ID Client Google e Segreto personalizzati devono essere impostati nelle impostazioni del plugin.",stateMismatch:"Autenticazione Google fallita. State mismatch.",success:"Account Google connesso con successo!",failed:"Connessione all'account Google fallita. Controlla la console sviluppatori per i dettagli."},title:"Account Google",customCredentials:{enable:{label:"Usa credenziali Google Cloud personalizzate",description:"Usa il tuo Client ID e Secret OAuth invece di quelli predefiniti. Il plugin \xE8 attualmente verificato da Google, ma puoi comunque usare questa opzione."},clientId:{label:"Client ID",description:"Il tuo Client ID Google OAuth 2.0"},clientSecret:{label:"Client Secret",description:"Il tuo Client Secret Google OAuth 2.0"}},noAccounts:"Nessun account Google collegato. Aggiungi una fonte calendario per collegare un account.",accountDescription:"Account collegato. ID: {{id}}",buttons:{disconnect:"Disconnetti",selectCalendars:"Seleziona calendari",connectAccount:"Collega account Google",backToAccounts:"Torna agli account",addCalendars:"Aggiungi {{count}} calendario",addCalendarsPlural:"Aggiungi {{count}} calendari"},selectAccount:{title:"Collega un account Google"},selectCalendars:{title:"Seleziona calendari da {{email}}",noCalendars:"Nessun nuovo calendario trovato, o tutti i calendari di questo account sono gi\xE0 stati aggiunti.",description:"Scegli quali calendari vuoi aggiungere a Obsidian."},loading:"Caricamento..."},ui:{buttons:{addCalendar:"Aggiungi calendario"},navigation:{thisMonth:"Questo mese",thisWeek:"Questa settimana",customDate:"Data personalizzata...",viewMonth:"Vista mese",viewWeek:"Vista settimana",viewDay:"Vista giorno"}},notifications:{eventStarting:{title:"Evento inizia a breve",body:"{{title}} inizia alle {{time}}"},eventEnding:{title:"Evento termina a breve",body:"{{title}} termina alle {{time}}"},allDaySuffix:"(Tutto il giorno)",inMinutes:"(Tra {{mins}} minuti)",failed:"Full Calendar: Impossibile creare la notifica desktop.",errorBody:"Full Calendar: Impossibile mostrare la notifica desktop. Controlla la console per errori."}}});var vG,mG=Re(()=>{vG={chrono:{ui:{title:"Configurar grupos de informaci\xF3n",description:"Cree grupos para categorizar sus actividades. El motor utilizar\xE1 estas reglas para generar informaci\xF3n personalizada.",save:"Guardar configuraci\xF3n",cancel:"Cancelar",addGroup:"A\xF1adir nuevo grupo de informaci\xF3n",groupName:"Nombre del grupo",groupNamePlaceholder:"p. ej., Trabajo",deleteGroup:"Eliminar este grupo",persona:{name:"Analizar como Persona",desc:"Elija el modelo anal\xEDtico para aplicar a este grupo.",productivity:"\u{1F3AF} Productividad",wellness:"\u2764\uFE0F Bienestar y Rutina",none:"\u26AA (Ignorar en el panel)"},hierarchies:{name:"Jerarqu\xEDas coincidentes",desc:"p. ej., Calendario de trabajo, Calendario personal",add:"A\xF1adir jerarqu\xEDa..."},projects:{name:"Proyectos coincidentes",desc:"p. ej., Proyecto Phoenix, Informe Q4",add:"A\xF1adir proyecto..."},mutedProjects:{name:"Proyectos silenciados",desc:"Silenciar proyectos espec\xEDficos (distingue may\xFAsculas/min\xFAsculas, coincidencia exacta) para excluirlos de las comprobaciones de consistencia de h\xE1bitos.",add:"A\xF1adir proyecto silenciado..."},subprojectKeywords:{name:"Palabras clave de subproyectos coincidentes",desc:"A\xF1ada palabras clave que coincidan si se encuentran en cualquier parte de un subproyecto.",placeholder:`p. ej., dise\xF1o
investigaci\xF3n
reuni\xF3n`},mutedSubprojectKeywords:{name:"Palabras clave de subproyectos silenciados",desc:"Silenciar actividades por palabra clave. Si un subproyecto contiene alguna de estas palabras clave (no distingue may\xFAsculas/min\xFAsculas), se excluir\xE1 de las comprobaciones de consistencia de h\xE1bitos.",placeholder:`p. ej., completado
archivo
viejo`},unsavedChanges:{title:"Cambios sin guardar",message:"Tiene cambios sin guardar. \xBFLe gustar\xEDa guardarlos antes de cerrar?",saveAndClose:"Guardar y cerrar",discard:"Descartar cambios"},folderSelectPlaceholder:"Seleccione una carpeta con sus archivos de seguimiento de tiempo...",errors:{groupExists:'El nombre del grupo "{{name}}" ya existe.'}}},commands:{newEvent:"Nuevo evento",resetCache:"Restablecer cach\xE9 de eventos",revalidateRemote:"Revalidar calendarios remotos",openCalendar:"Abrir calendario",openChronoAnalyser:"Abrir Crono Analizador (Solo escritorio)",openSidebar:"Abrir en la barra lateral"},notices:{settingsUpdated:"Full Calendar ha actualizado la configuraci\xF3n de tu calendario a un nuevo formato.",cacheReset:"Full Calendar ha sido restablecido.",chronoAnalyserMobileDisabled:"La funci\xF3n Crono Analizador solo est\xE1 disponible en la versi\xF3n de escritorio de Obsidian.",chronoAnalyserInitializing:"Crono Analizador: Inicializando cach\xE9 de eventos...",chronoAnalyserLoadFailed:"No se pudo cargar el Crono Analizador. Por favor revisa la consola.",chronoAnalyserConfigureFirst:"Por favor configura tus Grupos de Insight primero usando el icono \u2699\uFE0F.",chronoAnalyserGeneratingInsights:"Generando insights (esto puede tardar un momento)...",chronoAnalyserInsightsFailed:"No se pudieron generar los insights. Revisa la consola de desarrollador para errores.",chronoAnalyserInsightsSaved:"\xA1Configuraci\xF3n de insights guardada!",googleAuthFailed:"La autenticaci\xF3n de Google fall\xF3. Por favor intenta de nuevo.",bulkUpdateError:"Error durante la actualizaci\xF3n masiva. Revisa la consola para detalles.",providerNotRegistered:"El proveedor {{providerType}} no est\xE1 registrado.",timezoneChanged:"Zona horaria del sistema cambiada a {{timezone}}. Vista de calendario actualizada.",revalidatingRemotes:"Revalidando calendarios remotos...",revalidationFailed:"Uno o m\xE1s calendarios remotos no se pudieron cargar. Revisa la consola para detalles.",revalidationSuccess:"Calendarios remotos revalidados.",cannotOpenRemote:"No se puede abrir la nota de un evento remoto.",bulkCategorization:{noNotesFound:"No se encontraron notas de eventos locales para categorizar.",progress:"Categorizando notas de eventos: {{index}}/{{total}}",complete:"Categorizaci\xF3n masiva completa."},bulkDecategorization:{noNotesFound:"No se encontraron notas de eventos locales para descategorizar.",progress:"Descategorizando notas de eventos: {{index}}/{{total}}",complete:"Descategorizaci\xF3n masiva completa."},tasks:{createViaPlugin:"Utilice la interfaz del complemento Tasks para crear nuevas tareas.",defaultValidation:"Esta tarea no se puede programar en esta fecha.",scheduledNoModal:"Tarea programada, pero no se pudo abrir el modal de edici\xF3n de Tasks.",apiUnavailable:"API del complemento Obsidian Tasks no disponible."}},ribbon:{openCalendar:"Abrir Full Calendar"},settings:{general:{desktopInitialView:{label:"Vista inicial de escritorio",description:"Elige el rango de vista inicial en dispositivos de escritorio."},mobileInitialView:{label:"Vista inicial m\xF3vil",description:"Elige el rango de vista inicial en dispositivos m\xF3viles."},displayTimezone:{label:"Zona horaria de visualizaci\xF3n",description:"Elige la zona horaria para mostrar eventos. Por defecto es la zona horaria del sistema. Cambiar esto recargar\xE1 el calendario."},clickToCreateEvent:{label:"Haz clic en un d\xEDa en la vista mensual para crear evento",description:"Desactiva para abrir la vista diaria al hacer clic."},enableReminders:{label:"Habilitar recordatorios de eventos",description:"Mostrar una notificaci\xF3n de escritorio 10 minutos antes de que comience un evento."}},appearance:{title:"Apariencia",firstDay:{label:"D\xEDa de inicio de la semana",description:"Elige qu\xE9 d\xEDa de la semana comienza."},timeFormat24h:{label:"Formato de 24 horas",description:"Mostrar la hora en formato de 24 horas."},businessHours:{enable:{label:"Habilitar horario laboral",description:"Resalta tus horas de trabajo en las vistas de cuadr\xEDcula de tiempo para distinguir el tiempo laboral del personal."},days:{label:"D\xEDas laborales",description:"Selecciona qu\xE9 d\xEDas de la semana son laborales."},startTime:{label:"Hora de inicio laboral",description:"Cuando comienza tu d\xEDa laboral (formato: HH:mm)"},endTime:{label:"Hora de fin laboral",description:"Cuando termina tu d\xEDa laboral (formato: HH:mm)"},options:{mondayFriday:"Lunes - Viernes",everyDay:"Todos los d\xEDas",mondayThursday:"Lunes - Jueves",tuesdaySaturday:"Martes - S\xE1bado"}},viewTimeRange:{title:"Rango de tiempo de vista",slotMinTime:{label:"Hora m\xE1s temprana a mostrar",description:"Establece la hora m\xE1s temprana visible en las vistas de cuadr\xEDcula de tiempo (formato: HH:mm)"},slotMaxTime:{label:"Hora m\xE1s tard\xEDa a mostrar",description:"Establece la hora m\xE1s tard\xEDa visible en las vistas de cuadr\xEDcula de tiempo (formato: HH:mm)"}},dayVisibility:{title:"Visibilidad de d\xEDas",weekends:{label:"Mostrar fines de semana",description:"Si mostrar los d\xEDas de fin de semana (s\xE1bado y domingo) en el calendario"},hiddenDays:{label:"D\xEDas ocultos",description:"Selecciona los d\xEDas de la semana para ocultar en el calendario",options:{showAll:"Mostrar todos los d\xEDas",hideWeekends:"Ocultar fines de semana (Dom, S\xE1b)",hideSunday:"Ocultar solo domingo",hideSaturday:"Ocultar solo s\xE1bado",hideMonday:"Ocultar lunes",hideTuesday:"Ocultar martes",hideWednesday:"Ocultar mi\xE9rcoles",hideThursday:"Ocultar jueves",hideFriday:"Ocultar viernes"}}},dayMaxEvents:{label:"M\xE1x eventos por d\xEDa (vista mensual)",description:"Limita el n\xFAmero de eventos mostrados por d\xEDa en la vista mensual",options:{default:"Usar l\xEDmite predeterminado",unlimited:"Sin l\xEDmite (mostrar todos)",one:"1 evento m\xE1ximo",two:"2 eventos m\xE1ximo",three:"3 eventos m\xE1ximo",four:"4 eventos m\xE1ximo",five:"5 eventos m\xE1ximo",ten:"10 eventos m\xE1ximo"}},enableBackgroundEvents:{label:"Habilitar eventos de fondo",description:"Permitir que los eventos se muestren como elementos de fondo para cosas como vacaciones, tiempo de enfoque o horarios de clase."},showEventInStatusBar:{label:"Mostrar evento actual en la barra de estado",description:"Mostrar el t\xEDtulo del evento en curso en la barra de estado de Obsidian."}},calendars:{title:"Gestionar calendarios",addCalendar:"Agregar calendario",addCalendarTooltip:"Agregar calendario",defaults:{iCloud:"Calendario iCloud",new:"Nuevo calendario {{type}}"},types:{local:"Nota completa",dailynote:"Nota diaria",icloud:"iCloud",caldav:"CalDAV",ical:"Remoto (formato .ics)",google:"Google Calendar",tasks:"Tareas de Obsidian"},fullNote:{directory:{label:"Directorio",description:"Directorio para almacenar notas de eventos"}},dailyNote:{heading:{label:"Encabezado",description:"Encabezado para almacenar eventos en la nota diaria."}},ics:{url:{label:"URL",description:"URL del archivo .ics"}},caldav:{url:{label:"URL de colecci\xF3n",description:"Pega la URL de tu colecci\xF3n de calendario (ej. https://calendar.zoho.in/caldav/<id>/events/)"},username:{label:"Usuario",description:"Usuario de la cuenta"},password:{label:"Contrase\xF1a",description:"Contrase\xF1a de la cuenta"},importButton:"Importar calendarios",importing:"Importando..."},tasks:{zeroConfig:{label:"No requiere configuraci\xF3n",description:"Este proveedor lee autom\xE1ticamente la configuraci\xF3n existente del plugin Tasks de Obsidian. Todas las tareas con fecha de vencimiento se mostrar\xE1n en el calendario como eventos de solo lectura."},calendarName:{label:"Nombre del calendario",description:"Nombre para mostrar de este calendario"},readOnly:{label:"Calendario de solo lectura",description:"Las tareas pueden verse pero no modificarse desde la interfaz del calendario. Para editar tareas, usa el plugin Tasks o modifica tus notas directamente."},adding:"Agregando...",cancel:"Cancelar"}},categorization:{title:"Categorizaci\xF3n avanzada y l\xEDnea de tiempo",learnMore:"Aprende m\xE1s",learnMoreLink:"aqu\xED",enable:{label:"Habilitar categorizaci\xF3n avanzada (basada en t\xEDtulo)",description:"Habilita el coloreo por categor\xEDa y desbloquea vistas de l\xEDnea de tiempo. Esto modificar\xE1 los t\xEDtulos de las notas de eventos y permitir\xE1 la visualizaci\xF3n por categor\xEDa."},disable:{modalTitle:"\u26A0\uFE0F Deshabilitar y limpiar",modalDescription:"Deshabilitar esta funci\xF3n eliminar\xE1 los prefijos de categor\xEDa conocidos de los t\xEDtulos de tus eventos y eliminar\xE1 permanentemente todos los ajustes de color de categor\xEDa guardados.",buttonDisable:"Deshabilitar y limpiar notas",buttonCancel:"Cancelar"}},workspaces:{title:"Espacios de trabajo",description:"Crea y gestiona espacios de trabajo de calendario. Cada espacio puede tener su propia configuraci\xF3n de vista, calendarios visibles y filtros.",addNew:{label:"Agregar nuevo espacio de trabajo",description:"Crea un nuevo espacio de trabajo de calendario"},buttons:{new:"Nuevo espacio de trabajo",edit:"Editar",duplicate:"Duplicar",activate:"Activar",active:"Activo",delete:"Eliminar"},defaultName:"Nuevo espacio de trabajo",copyName:"{{name}} Copia"},quickStart:{title:"Inicio r\xE1pido: Agrega tu primer calendario",description:"Para comenzar, agrega una fuente de calendario usando el bot\xF3n '+' en la secci\xF3n 'Gestionar calendarios'."},viewOptions:{day:"D\xEDa",week:"Semana",month:"Mes",list:"Lista",threeDays:"3 d\xEDas",timelineWeek:"Semana en l\xEDnea de tiempo",timelineDay:"D\xEDa en l\xEDnea de tiempo"},weekdays:{sunday:"Domingo",monday:"Lunes",tuesday:"Martes",wednesday:"Mi\xE9rcoles",thursday:"Jueves",friday:"Viernes",saturday:"S\xE1bado"},changelog:{whatsNew:"Qu\xE9 hay de nuevo",viewFull:"Ver registro de cambios completo"},utils:{timelineDisabled:'La vista de l\xEDnea de tiempo est\xE1 deshabilitada. Restableciendo la vista de escritorio predeterminada a "Semana".'},warnings:{oneDailyNote:"Solo se permite una nota diaria."}},modals:{reminder:{snoozeFor:"Posponer por",dismiss:"Descartar",openNote:"Abrir nota",snooze:"Posponer",snoozeWarningTitle:"\u26A0\uFE0F Posponer mueve el evento",snoozeWarningBody:"Este es un recordatorio predeterminado. Posponer mover\xE1 la hora de inicio del evento hacia adelante.",presets:{"5m":"5 minutos","10m":"10 minutos","15m":"15 minutos","30m":"30 minutos","1h":"1 hora"}},editEvent:{title:{new:"Nuevo evento",edit:"Editar evento"},buttons:{openNote:"Abrir nota",delete:"Eliminar",save:"Guardar evento"},fields:{title:{label:"T\xEDtulo",placeholder:"T\xEDtulo del evento"},category:{label:"Categor\xEDa",placeholder:"Categor\xEDa (opcional)"},display:{label:"Visualizaci\xF3n",options:{auto:"Evento normal",background:"Evento de fondo",inverseBackground:"Fondo inverso",none:"Oculto"}},inCalendar:{label:"En calendario"},date:{label:"Fecha"},time:{label:"Hora"},options:{label:"Opciones",allDay:"Todo el d\xEDa",isTask:"Es una tarea",completed:"Completado",endReminder:"Recordar 10m antes de terminar",endReminderTooltip:"Un recordatorio de fin requiere una hora de finalizaci\xF3n espec\xEDfica."},repeats:{label:"Repeticiones",options:{none:"Ninguna",weekly:"Semanal",monthly:"Mensual",yearly:"Anual"},repeatEvery:"Repetir cada",week:"semana",weeks:"semanas",month:"mes",months:"meses",year:"a\xF1o",years:"a\xF1os",repeatOn:"Repetir en",onDay:"En el d\xEDa {{day}}",onThe:"En el",ordinal:{first:"primero",second:"segundo",third:"tercero",fourth:"cuarto",last:"\xFAltimo"},yearlyText:"Se repite cada a\xF1o en {{date}}.",endRepeat:"Fin de repetici\xF3n"}},tooltips:{recurringTaskCompletion:"La finalizaci\xF3n de tareas recurrentes puede alternarse en instancias individuales en la vista de calendario.",dailyNoteRecurring:"Los eventos recurrentes no son compatibles en Notas Diarias. Por favor usa un calendario de 'Nota completa'.",inheritedEvent:"Este evento hereda de una serie recurrente. Para editarlo, primero abre la nota de la serie."}},deleteRecurring:{title:"Eliminar evento recurrente",description:"Este es un evento recurrente. \xBFQu\xE9 te gustar\xEDa hacer con todas sus futuras instancias 'override' (es decir, eventos que has movido o modificado)?",deleteInstance:{name:"Eliminar solo esta instancia",description:"Eliminar solo la instancia en {{date}}. Esto omitir\xE1 esta fecha en la recurrencia.",button:"Eliminar esta instancia"},promoteChildren:{name:"Promover eventos secundarios",description:"Convierte todos los eventos modificados (si los hay) en eventos individuales independientes. Ya no estar\xE1n vinculados a esta serie recurrente.",button:"Promover secundarios"},deleteAll:{name:"Eliminar eventos secundarios",description:"Eliminar todos los eventos modificados futuros asociados con esta serie recurrente. Esto no se puede deshacer.",button:"Eliminar todo"},cancel:"Cancelar"},workspace:{title:{create:"Crear espacio de trabajo",edit:"Editar espacio de trabajo"},sections:{general:"General",viewConfiguration:"Configuraci\xF3n de vista",calendarFilters:"Filtros de calendario",categoryFilters:"Filtros de categor\xEDa",appearanceOverrides:"Anulaciones de apariencia",viewClipping:"Recorte de vista y rango de tiempo"},fields:{name:{label:"Nombre",description:"Un nombre \xFAnico para este espacio de trabajo",placeholder:"ej., Enfoque laboral, Planificaci\xF3n familiar"},desktopView:{label:"Vista de escritorio",description:"Vista predeterminada para dispositivos de escritorio"},mobileView:{label:"Vista m\xF3vil",description:"Vista predeterminada para dispositivos m\xF3viles"},defaultDate:{label:"Fecha predeterminada (opcional)",description:"Fecha a la que saltar al activar el espacio de trabajo (ej., 'hoy', '2024-01-01')",placeholder:"hoy, pr\xF3xima semana, 2024-01-01"},visibleCalendars:{label:"Calendarios visibles",description:"Selecciona qu\xE9 calendarios mostrar (deja vac\xEDo para mostrar todos)",noCalendars:"No hay calendarios configurados. Configura calendarios en la configuraci\xF3n principal primero."},categoryFilterMode:{label:"Modo de filtro de categor\xEDa",description:"Elige c\xF3mo filtrar categor\xEDas",options:{showOnly:"Mostrar solo categor\xEDas seleccionadas",hide:"Ocultar categor\xEDas seleccionadas"}},categories:{label:"Categor\xEDas",description:"Selecciona categor\xEDas para incluir/excluir (deja vac\xEDo para mostrar todas)",noCategories:"No hay categor\xEDas configuradas. Configura categor\xEDas en la configuraci\xF3n de categorizaci\xF3n.",requiresAdvanced:"El filtrado de categor\xEDas requiere que la categorizaci\xF3n avanzada est\xE9 habilitada en la configuraci\xF3n principal."},notices:{enableBases:"Por favor, habilita primero el plugin Obsidian Bases."},overrideBusinessHours:{label:"Anular horario laboral",description:"Habilitar horario laboral personalizado para este espacio de trabajo"},enableBusinessHours:{label:"Habilitar horario laboral",description:"Mostrar resaltado de horario laboral en este espacio de trabajo"},businessDays:{label:"D\xEDas laborales",description:"Selecciona qu\xE9 d\xEDas de la semana son laborales"},businessHoursStart:{label:"Hora de inicio laboral",description:"Cuando comienza tu d\xEDa laboral (formato: HH:mm)"},businessHoursEnd:{label:"Hora de fin laboral",description:"Cuando termina tu d\xEDa laboral (formato: HH:mm)"},timelineCategories:{label:"Categor\xEDas de l\xEDnea de tiempo",description:"Estado predeterminado para grupos de categor\xEDas de l\xEDnea de tiempo",options:{useDefault:"Usar configuraci\xF3n predeterminada",expanded:"Expandido por defecto",collapsed:"Colapsado por defecto"}},slotMinTime:{label:"Hora m\xE1s temprana a mostrar",description:"Anular la hora m\xE1s temprana visible en las vistas de cuadr\xEDcula de tiempo (formato: HH:mm)",placeholder:"Usar predeterminado global"},slotMaxTime:{label:"Hora m\xE1s tard\xEDa a mostrar",description:"Anular la hora m\xE1s tard\xEDa visible en las vistas de cuadr\xEDcula de tiempo (formato: HH:mm)",placeholder:"Usar predeterminado global"},weekendDisplay:{label:"Mostrar fines de semana",description:"Anular si mostrar los fines de semana en el calendario",options:{useDefault:"Usar predeterminado global",show:"Mostrar fines de semana",hide:"Ocultar fines de semana"}},hiddenDays:{label:"D\xEDas ocultos",description:"Anular qu\xE9 d\xEDas ocultar en el calendario",options:{useDefault:"Usar predeterminado global",showAll:"Mostrar todos los d\xEDas",hideWeekends:"Ocultar fines de semana (Dom, S\xE1b)",hideSunday:"Ocultar domingo",hideSaturday:"Ocultar s\xE1bado",hideMonday:"Ocultar lunes",hideFriday:"Ocultar viernes"}},dayMaxEvents:{label:"M\xE1x eventos por d\xEDa (vista mensual)",description:"Anular el n\xFAmero m\xE1ximo de eventos a mostrar por d\xEDa en la vista mensual",options:{useGlobal:"Usar predeterminado global",useDefault:"Usar l\xEDmite predeterminado",noLimit:"Sin l\xEDmite",one:"1 evento",two:"2 eventos",three:"3 eventos",four:"4 eventos",five:"5 eventos",ten:"10 eventos"}}},calendarTypes:{local:"Local:",dailyNotes:"Notas diarias:",ics:"ICS:",caldav:"CalDAV:",google:"Google:",generic:"Calendario {{type}}"},buttons:{save:"Guardar",create:"Crear",cancel:"Cancelar"}},bulkCategorize:{title:"Elige un m\xE9todo de actualizaci\xF3n masiva",description:"\xBFC\xF3mo te gustar\xEDa categorizar autom\xE1ticamente los eventos existentes en tus calendarios locales? Ten en cuenta que esta es una operaci\xF3n \xFAnica que modificar\xE1 tus notas de eventos para que coincidan con el formato requerido.",smartFolder:{name:"Usar carpeta padre (inteligente)",description:"Usa el nombre de la carpeta padre como categor\xEDa para eventos SIN categorizar. Los eventos que ya tienen formato 'Categor\xEDa - T\xEDtulo' ser\xE1n omitidos.",button:"Ejecutar actualizaci\xF3n inteligente"},forcedFolder:{name:"Usar carpeta padre (forzado)",description:"PREPENDE el nombre de la carpeta padre a TODOS los t\xEDtulos de eventos, incluso si ya tienen una categor\xEDa. Advertencia: Esto crea categor\xEDas anidadas.",button:"Ejecutar actualizaci\xF3n forzada"},forcedDefault:{name:"Actualizaci\xF3n forzada por defecto",description:"Prependa una categor\xEDa que proporciones a TODOS los t\xEDtulos de eventos. Si ya existe una categor\xEDa, la nueva se agregar\xE1 delante (ej., Nueva - Vieja - T\xEDtulo).",placeholder:"Introduce la categor\xEDa predeterminada",button:"Establecer por defecto",errorEmpty:"Por favor introduce un nombre de categor\xEDa."}}},google:{auth:{expired:"Autenticaci\xF3n de Google caducada. Por favor, vuelva a conectar su cuenta.",authFailed:"No se pudo autenticar el calendario. Por favor, intente a\xF1adirlo de nuevo en la configuraci\xF3n.",popupBlocked:"Ventana emergente bloqueada. Por favor, permita ventanas emergentes para Obsidian.",customCredsMissing:"El ID de cliente y el secreto de Google personalizados deben establecerse en la configuraci\xF3n del complemento.",stateMismatch:"Autenticaci\xF3n de Google fallida. Desajuste de estado (State mismatch).",success:"\xA1Cuenta de Google conectada con \xE9xito!",failed:"Error al conectar la cuenta de Google. Verifique la consola de desarrollador para m\xE1s detalles."},title:"Cuentas de Google",customCredentials:{enable:{label:"Usar credenciales personalizadas de Google Cloud",description:"Utiliza tu propio ID de cliente OAuth y secreto en lugar de los predeterminados. El complemento est\xE1 actualmente verificado por Google, pero a\xFAn puedes usar esta opci\xF3n."},clientId:{label:"ID de Cliente",description:"Tu ID de cliente Google OAuth 2.0"},clientSecret:{label:"Secreto de Cliente",description:"Tu secreto de cliente Google OAuth 2.0"}},noAccounts:"No hay cuentas de Google conectadas. Agrega una fuente de calendario para conectar una cuenta.",accountDescription:"Cuenta conectada. ID: {{id}}",buttons:{disconnect:"Desconectar",selectCalendars:"Seleccionar calendarios",connectAccount:"Conectar cuenta de Google",backToAccounts:"Volver a cuentas",addCalendars:"Agregar {{count}} calendario",addCalendarsPlural:"Agregar {{count}} calendarios"},selectAccount:{title:"Conectar una cuenta de Google"},selectCalendars:{title:"Seleccionar calendarios de {{email}}",noCalendars:"No se encontraron nuevos calendarios, o todos los calendarios de esta cuenta ya han sido agregados.",description:"Elige qu\xE9 calendarios te gustar\xEDa agregar a Obsidian."},loading:"Cargando..."},ui:{buttons:{addCalendar:"Agregar calendario"},navigation:{thisMonth:"Este mes",thisWeek:"Esta semana",customDate:"Fecha personalizada...",viewMonth:"Ver mes",viewWeek:"Ver semana",viewDay:"Ver d\xEDa"}},notifications:{eventStarting:{title:"Evento comenzando pronto",body:"{{title}} comienza a las {{time}}"},eventEnding:{title:"Evento terminando pronto",body:"{{title}} termina a las {{time}}"},allDaySuffix:"(Todo el d\xEDa)",inMinutes:"(En {{mins}} minutos)",failed:"Full Calendar: Fall\xF3 al crear la notificaci\xF3n de escritorio.",errorBody:"Full Calendar: No se pudo mostrar la notificaci\xF3n de escritorio. Revisa la consola para ver errores."}}});function DMe(t){let e=t.loadLocalStorage("language");return typeof e=="string"?e:"en"}function gG(t){return ye(this,null,function*(){let e=DMe(t);yield Ia.init({lng:e,fallbackLng:"en",resources:EMe,interpolation:{escapeValue:!1},returnNull:!1,returnEmptyString:!1})})}var EMe,W,Pr=Re(()=>{"use strict";oG();sG();cG();dG();hG();mG();EMe={en:{translation:lG},de:{translation:uG},fr:{translation:fG},it:{translation:pG},es:{translation:vG}};W=(t,e)=>Ia.t(t,e)});var AG=J(Ur=>{"use strict";var gN=Symbol.for("react.transitional.element"),AMe=Symbol.for("react.portal"),MMe=Symbol.for("react.fragment"),RMe=Symbol.for("react.strict_mode"),IMe=Symbol.for("react.profiler"),NMe=Symbol.for("react.consumer"),LMe=Symbol.for("react.context"),OMe=Symbol.for("react.forward_ref"),PMe=Symbol.for("react.suspense"),zMe=Symbol.for("react.memo"),SG=Symbol.for("react.lazy"),yG=Symbol.iterator;function FMe(t){return t===null||typeof t!="object"?null:(t=yG&&t[yG]||t["@@iterator"],typeof t=="function"?t:null)}var _G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CG=Object.assign,kG={};function Yg(t,e,r){this.props=t,this.context=e,this.refs=kG,this.updater=r||_G}Yg.prototype.isReactComponent={};Yg.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yg.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function EG(){}EG.prototype=Yg.prototype;function yN(t,e,r){this.props=t,this.context=e,this.refs=kG,this.updater=r||_G}var bN=yN.prototype=new EG;bN.constructor=yN;CG(bN,Yg.prototype);bN.isPureReactComponent=!0;var bG=Array.isArray,ai={H:null,A:null,T:null,S:null,V:null},DG=Object.prototype.hasOwnProperty;function wN(t,e,r,n,i,a){return r=a.ref,{$$typeof:gN,type:t,key:e,ref:r!==void 0?r:null,props:a}}function HMe(t,e){return wN(t.type,e,void 0,void 0,void 0,t.props)}function xN(t){return typeof t=="object"&&t!==null&&t.$$typeof===gN}function qMe(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var wG=/\/+/g;function vN(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qMe(""+t.key):e.toString(36)}function xG(){}function UMe(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(xG,xG):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Gg(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"bigint":case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gN:case AMe:o=!0;break;case SG:return o=t._init,Gg(o(t._payload),e,r,n,i)}}if(o)return i=i(t),o=n===""?"."+vN(t,0):n,bG(i)?(r="",o!=null&&(r=o.replace(wG,"$&/")+"/"),Gg(i,e,r,"",function(c){return c})):i!=null&&(xN(i)&&(i=HMe(i,r+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(wG,"$&/")+"/")+o)),e.push(i)),1;o=0;var s=n===""?".":n+":";if(bG(t))for(var l=0;l<t.length;l++)n=t[l],a=s+vN(n,l),o+=Gg(n,e,r,a,i);else if(l=FMe(t),typeof l=="function")for(t=l.call(t),l=0;!(n=t.next()).done;)n=n.value,a=s+vN(n,l++),o+=Gg(n,e,r,a,i);else if(a==="object"){if(typeof t.then=="function")return Gg(UMe(t),e,r,n,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return o}function EC(t,e,r){if(t==null)return t;var n=[],i=0;return Gg(t,n,"","",function(a){return e.call(r,a,i++)}),n}function BMe(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var TG=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function jMe(){}Ur.Children={map:EC,forEach:function(t,e,r){EC(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return EC(t,function(){e++}),e},toArray:function(t){return EC(t,function(e){return e})||[]},only:function(t){if(!xN(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ur.Component=Yg;Ur.Fragment=MMe;Ur.Profiler=IMe;Ur.PureComponent=yN;Ur.StrictMode=RMe;Ur.Suspense=PMe;Ur.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ai;Ur.__COMPILER_RUNTIME={__proto__:null,c:function(t){return ai.H.useMemoCache(t)}};Ur.cache=function(t){return function(){return t.apply(null,arguments)}};Ur.cloneElement=function(t,e,r){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var n=CG({},t.props),i=t.key,a=void 0;if(e!=null)for(o in e.ref!==void 0&&(a=void 0),e.key!==void 0&&(i=""+e.key),e)!DG.call(e,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&e.ref===void 0||(n[o]=e[o]);var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];n.children=s}return wN(t.type,i,void 0,void 0,a,n)};Ur.createContext=function(t){return t={$$typeof:LMe,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:NMe,_context:t},t};Ur.createElement=function(t,e,r){var n,i={},a=null;if(e!=null)for(n in e.key!==void 0&&(a=""+e.key),e)DG.call(e,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return wN(t,a,void 0,void 0,null,i)};Ur.createRef=function(){return{current:null}};Ur.forwardRef=function(t){return{$$typeof:OMe,render:t}};Ur.isValidElement=xN;Ur.lazy=function(t){return{$$typeof:SG,_payload:{_status:-1,_result:t},_init:BMe}};Ur.memo=function(t,e){return{$$typeof:zMe,type:t,compare:e===void 0?null:e}};Ur.startTransition=function(t){var e=ai.T,r={};ai.T=r;try{var n=t(),i=ai.S;i!==null&&i(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(jMe,TG)}catch(a){TG(a)}finally{ai.T=e}};Ur.unstable_useCacheRefresh=function(){return ai.H.useCacheRefresh()};Ur.use=function(t){return ai.H.use(t)};Ur.useActionState=function(t,e,r){return ai.H.useActionState(t,e,r)};Ur.useCallback=function(t,e){return ai.H.useCallback(t,e)};Ur.useContext=function(t){return ai.H.useContext(t)};Ur.useDebugValue=function(){};Ur.useDeferredValue=function(t,e){return ai.H.useDeferredValue(t,e)};Ur.useEffect=function(t,e,r){var n=ai.H;if(typeof r=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(t,e)};Ur.useId=function(){return ai.H.useId()};Ur.useImperativeHandle=function(t,e,r){return ai.H.useImperativeHandle(t,e,r)};Ur.useInsertionEffect=function(t,e){return ai.H.useInsertionEffect(t,e)};Ur.useLayoutEffect=function(t,e){return ai.H.useLayoutEffect(t,e)};Ur.useMemo=function(t,e){return ai.H.useMemo(t,e)};Ur.useOptimistic=function(t,e){return ai.H.useOptimistic(t,e)};Ur.useReducer=function(t,e,r){return ai.H.useReducer(t,e,r)};Ur.useRef=function(t){return ai.H.useRef(t)};Ur.useState=function(t){return ai.H.useState(t)};Ur.useSyncExternalStore=function(t,e,r){return ai.H.useSyncExternalStore(t,e,r)};Ur.useTransition=function(){return ai.H.useTransition()};Ur.version="19.1.1"});var zn=J((Dlt,MG)=>{"use strict";MG.exports=AG()});var qG=J(oi=>{"use strict";function CN(t,e){var r=t.length;t.push(e);e:for(;0<r;){var n=r-1>>>1,i=t[n];if(0<DC(i,e))t[n]=e,t[r]=i,r=n;else break e}}function lu(t){return t.length===0?null:t[0]}function MC(t){if(t.length===0)return null;var e=t[0],r=t.pop();if(r!==e){t[0]=r;e:for(var n=0,i=t.length,a=i>>>1;n<a;){var o=2*(n+1)-1,s=t[o],l=o+1,c=t[l];if(0>DC(s,r))l<i&&0>DC(c,s)?(t[n]=c,t[l]=r,n=l):(t[n]=s,t[o]=r,n=o);else if(l<i&&0>DC(c,r))t[n]=c,t[l]=r,n=l;else break e}}return e}function DC(t,e){var r=t.sortIndex-e.sortIndex;return r!==0?r:t.id-e.id}oi.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(RG=performance,oi.unstable_now=function(){return RG.now()}):(TN=Date,IG=TN.now(),oi.unstable_now=function(){return TN.now()-IG});var RG,TN,IG,gd=[],Kf=[],VMe=1,ml=null,mo=3,kN=!1,Aw=!1,Mw=!1,EN=!1,OG=typeof setTimeout=="function"?setTimeout:null,PG=typeof clearTimeout=="function"?clearTimeout:null,NG=typeof setImmediate!="undefined"?setImmediate:null;function AC(t){for(var e=lu(Kf);e!==null;){if(e.callback===null)MC(Kf);else if(e.startTime<=t)MC(Kf),e.sortIndex=e.expirationTime,CN(gd,e);else break;e=lu(Kf)}}function DN(t){if(Mw=!1,AC(t),!Aw)if(lu(gd)!==null)Aw=!0,$g||($g=!0,Zg());else{var e=lu(Kf);e!==null&&AN(DN,e.startTime-t)}}var $g=!1,Rw=-1,zG=5,FG=-1;function HG(){return EN?!0:!(oi.unstable_now()-FG<zG)}function SN(){if(EN=!1,$g){var t=oi.unstable_now();FG=t;var e=!0;try{e:{Aw=!1,Mw&&(Mw=!1,PG(Rw),Rw=-1),kN=!0;var r=mo;try{t:{for(AC(t),ml=lu(gd);ml!==null&&!(ml.expirationTime>t&&HG());){var n=ml.callback;if(typeof n=="function"){ml.callback=null,mo=ml.priorityLevel;var i=n(ml.expirationTime<=t);if(t=oi.unstable_now(),typeof i=="function"){ml.callback=i,AC(t),e=!0;break t}ml===lu(gd)&&MC(gd),AC(t)}else MC(gd);ml=lu(gd)}if(ml!==null)e=!0;else{var a=lu(Kf);a!==null&&AN(DN,a.startTime-t),e=!1}}break e}finally{ml=null,mo=r,kN=!1}e=void 0}}finally{e?Zg():$g=!1}}}var Zg;typeof NG=="function"?Zg=function(){NG(SN)}:typeof MessageChannel!="undefined"?(_N=new MessageChannel,LG=_N.port2,_N.port1.onmessage=SN,Zg=function(){LG.postMessage(null)}):Zg=function(){OG(SN,0)};var _N,LG;function AN(t,e){Rw=OG(function(){t(oi.unstable_now())},e)}oi.unstable_IdlePriority=5;oi.unstable_ImmediatePriority=1;oi.unstable_LowPriority=4;oi.unstable_NormalPriority=3;oi.unstable_Profiling=null;oi.unstable_UserBlockingPriority=2;oi.unstable_cancelCallback=function(t){t.callback=null};oi.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):zG=0<t?Math.floor(1e3/t):5};oi.unstable_getCurrentPriorityLevel=function(){return mo};oi.unstable_next=function(t){switch(mo){case 1:case 2:case 3:var e=3;break;default:e=mo}var r=mo;mo=e;try{return t()}finally{mo=r}};oi.unstable_requestPaint=function(){EN=!0};oi.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=mo;mo=t;try{return e()}finally{mo=r}};oi.unstable_scheduleCallback=function(t,e,r){var n=oi.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,t){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=r+i,t={id:VMe++,callback:e,priorityLevel:t,startTime:r,expirationTime:i,sortIndex:-1},r>n?(t.sortIndex=r,CN(Kf,t),lu(gd)===null&&t===lu(Kf)&&(Mw?(PG(Rw),Rw=-1):Mw=!0,AN(DN,r-n))):(t.sortIndex=i,CN(gd,t),Aw||kN||(Aw=!0,$g||($g=!0,Zg()))),t};oi.unstable_shouldYield=HG;oi.unstable_wrapCallback=function(t){var e=mo;return function(){var r=mo;mo=e;try{return t.apply(this,arguments)}finally{mo=r}}}});var BG=J((Mlt,UG)=>{"use strict";UG.exports=qG()});var VG=J(Ho=>{"use strict";var WMe=zn();function jG(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Qf(){}var Fo={d:{f:Qf,r:function(){throw Error(jG(522))},D:Qf,C:Qf,L:Qf,m:Qf,X:Qf,S:Qf,M:Qf},p:0,findDOMNode:null},GMe=Symbol.for("react.portal");function YMe(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:GMe,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}var Iw=WMe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function RC(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ho.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Fo;Ho.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(jG(299));return YMe(t,e,null,r)};Ho.flushSync=function(t){var e=Iw.T,r=Fo.p;try{if(Iw.T=null,Fo.p=2,t)return t()}finally{Iw.T=e,Fo.p=r,Fo.d.f()}};Ho.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Fo.d.C(t,e))};Ho.prefetchDNS=function(t){typeof t=="string"&&Fo.d.D(t)};Ho.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var r=e.as,n=RC(r,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;r==="style"?Fo.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:a}):r==="script"&&Fo.d.X(t,{crossOrigin:n,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ho.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var r=RC(e.as,e.crossOrigin);Fo.d.M(t,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Fo.d.M(t)};Ho.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var r=e.as,n=RC(r,e.crossOrigin);Fo.d.L(t,r,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ho.preloadModule=function(t,e){if(typeof t=="string")if(e){var r=RC(e.as,e.crossOrigin);Fo.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Fo.d.m(t)};Ho.requestFormReset=function(t){Fo.d.r(t)};Ho.unstable_batchedUpdates=function(t,e){return t(e)};Ho.useFormState=function(t,e,r){return Iw.H.useFormState(t,e,r)};Ho.useFormStatus=function(){return Iw.H.useHostTransitionStatus()};Ho.version="19.1.1"});var YG=J((Ilt,GG)=>{"use strict";function WG(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WG)}catch(t){console.error(t)}}WG(),GG.exports=VG()});var $X=J(Jk=>{"use strict";var pa=BG(),mZ=zn(),ZMe=YG();function yt(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function vZ(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bx(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function gZ(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ZG(t){if(bx(t)!==t)throw Error(yt(188))}function $Me(t){var e=t.alternate;if(!e){if(e=bx(t),e===null)throw Error(yt(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return ZG(i),t;if(a===n)return ZG(i),e;a=a.sibling}throw Error(yt(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(yt(189))}}if(r.alternate!==n)throw Error(yt(190))}if(r.tag!==3)throw Error(yt(188));return r.stateNode.current===r?t:e}function yZ(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=yZ(t),e!==null)return e;t=t.sibling}return null}var Kn=Object.assign,XMe=Symbol.for("react.element"),IC=Symbol.for("react.transitional.element"),Uw=Symbol.for("react.portal"),ry=Symbol.for("react.fragment"),bZ=Symbol.for("react.strict_mode"),sL=Symbol.for("react.profiler"),KMe=Symbol.for("react.provider"),wZ=Symbol.for("react.consumer"),Td=Symbol.for("react.context"),rO=Symbol.for("react.forward_ref"),lL=Symbol.for("react.suspense"),cL=Symbol.for("react.suspense_list"),nO=Symbol.for("react.memo"),th=Symbol.for("react.lazy");Symbol.for("react.scope");var uL=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var QMe=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var $G=Symbol.iterator;function Nw(t){return t===null||typeof t!="object"?null:(t=$G&&t[$G]||t["@@iterator"],typeof t=="function"?t:null)}var JMe=Symbol.for("react.client.reference");function dL(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===JMe?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ry:return"Fragment";case sL:return"Profiler";case bZ:return"StrictMode";case lL:return"Suspense";case cL:return"SuspenseList";case uL:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Uw:return"Portal";case Td:return(t.displayName||"Context")+".Provider";case wZ:return(t._context.displayName||"Context")+".Consumer";case rO:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nO:return e=t.displayName||null,e!==null?e:dL(t.type)||"Memo";case th:e=t._payload,t=t._init;try{return dL(t(e))}catch(r){}}return null}var Bw=Array.isArray,Er=mZ.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,kn=ZMe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nm={pending:!1,data:null,method:null,action:null},fL=[],ny=-1;function mu(t){return{current:t}}function Pa(t){0>ny||(t.current=fL[ny],fL[ny]=null,ny--)}function li(t,e){ny++,fL[ny]=t.current,t.current=e}var fu=mu(null),ax=mu(null),dh=mu(null),lk=mu(null);function ck(t,e){switch(li(dh,e),li(ax,t),li(fu,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?tZ(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=tZ(e),t=zX(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Pa(fu),li(fu,t)}function Ty(){Pa(fu),Pa(ax),Pa(dh)}function hL(t){t.memoizedState!==null&&li(lk,t);var e=fu.current,r=zX(e,t.type);e!==r&&(li(ax,t),li(fu,r))}function uk(t){ax.current===t&&(Pa(fu),Pa(ax)),lk.current===t&&(Pa(lk),mx._currentValue=nm)}var pL=Object.prototype.hasOwnProperty,iO=pa.unstable_scheduleCallback,MN=pa.unstable_cancelCallback,e3e=pa.unstable_shouldYield,t3e=pa.unstable_requestPaint,hu=pa.unstable_now,r3e=pa.unstable_getCurrentPriorityLevel,xZ=pa.unstable_ImmediatePriority,TZ=pa.unstable_UserBlockingPriority,dk=pa.unstable_NormalPriority,n3e=pa.unstable_LowPriority,SZ=pa.unstable_IdlePriority,i3e=pa.log,a3e=pa.unstable_setDisableYieldValue,wx=null,Ns=null;function sh(t){if(typeof i3e=="function"&&a3e(t),Ns&&typeof Ns.setStrictMode=="function")try{Ns.setStrictMode(wx,t)}catch(e){}}var Ls=Math.clz32?Math.clz32:l3e,o3e=Math.log,s3e=Math.LN2;function l3e(t){return t>>>=0,t===0?32:31-(o3e(t)/s3e|0)|0}var NC=256,LC=4194304;function em(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Fk(t,e,r){var n=t.pendingLanes;if(n===0)return 0;var i=0,a=t.suspendedLanes,o=t.pingedLanes;t=t.warmLanes;var s=n&134217727;return s!==0?(n=s&~a,n!==0?i=em(n):(o&=s,o!==0?i=em(o):r||(r=s&~t,r!==0&&(i=em(r))))):(s=n&~a,s!==0?i=em(s):o!==0?i=em(o):r||(r=n&~t,r!==0&&(i=em(r)))),i===0?0:e!==0&&e!==i&&(e&a)===0&&(a=i&-i,r=e&-e,a>=r||a===32&&(r&4194048)!==0)?e:i}function xx(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function c3e(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _Z(){var t=NC;return NC<<=1,(NC&4194048)===0&&(NC=256),t}function CZ(){var t=LC;return LC<<=1,(LC&62914560)===0&&(LC=4194304),t}function RN(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Tx(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function u3e(t,e,r,n,i,a){var o=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var s=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(r=o&~r;0<r;){var u=31-Ls(r),d=1<<u;s[u]=0,l[u]=-1;var f=c[u];if(f!==null)for(c[u]=null,u=0;u<f.length;u++){var h=f[u];h!==null&&(h.lane&=-536870913)}r&=~d}n!==0&&kZ(t,n,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(o&~e))}function kZ(t,e,r){t.pendingLanes|=e,t.suspendedLanes&=~e;var n=31-Ls(e);t.entangledLanes|=e,t.entanglements[n]=t.entanglements[n]|1073741824|r&4194090}function EZ(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ls(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}function aO(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function oO(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function DZ(){var t=kn.p;return t!==0?t:(t=window.event,t===void 0?32:YX(t.type))}function d3e(t,e){var r=kn.p;try{return kn.p=t,e()}finally{kn.p=r}}var Th=Math.random().toString(36).slice(2),vo="__reactFiber$"+Th,ts="__reactProps$"+Th,Ny="__reactContainer$"+Th,mL="__reactEvents$"+Th,f3e="__reactListeners$"+Th,h3e="__reactHandles$"+Th,XG="__reactResources$"+Th,Sx="__reactMarker$"+Th;function sO(t){delete t[vo],delete t[ts],delete t[mL],delete t[f3e],delete t[h3e]}function iy(t){var e=t[vo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ny]||r[vo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=iZ(t);t!==null;){if(r=t[vo])return r;t=iZ(t)}return e}t=r,r=t.parentNode}return null}function Ly(t){if(t=t[vo]||t[Ny]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function jw(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(yt(33))}function py(t){var e=t[XG];return e||(e=t[XG]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function La(t){t[Sx]=!0}var AZ=new Set,MZ={};function pm(t,e){Sy(t,e),Sy(t+"Capture",e)}function Sy(t,e){for(MZ[t]=e,t=0;t<e.length;t++)AZ.add(e[t])}var p3e=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),KG={},QG={};function m3e(t){return pL.call(QG,t)?!0:pL.call(KG,t)?!1:p3e.test(t)?QG[t]=!0:(KG[t]=!0,!1)}function $C(t,e,r){if(m3e(e))if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var n=e.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+r)}}function OC(t,e,r){if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+r)}}function yd(t,e,r,n){if(n===null)t.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(e,r,""+n)}}var IN,JG;function Jg(t){if(IN===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);IN=e&&e[1]||"",JG=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+IN+t+JG}var NN=!1;function LN(t,e){if(!t||NN)return"";NN=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(h){var f=h}Reflect.construct(t,[],d)}else{try{d.call()}catch(h){f=h}t.call(d.prototype)}}else{try{throw Error()}catch(h){f=h}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(h){if(h&&f&&typeof h.stack=="string")return[h.stack,f.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=n.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split(`
`),c=s.split(`
`);for(i=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(n===l.length||i===c.length)for(n=l.length-1,i=c.length-1;1<=n&&0<=i&&l[n]!==c[i];)i--;for(;1<=n&&0<=i;n--,i--)if(l[n]!==c[i]){if(n!==1||i!==1)do if(n--,i--,0>i||l[n]!==c[i]){var u=`
`+l[n].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=n&&0<=i);break}}}finally{NN=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Jg(r):""}function v3e(t){switch(t.tag){case 26:case 27:case 5:return Jg(t.type);case 16:return Jg("Lazy");case 13:return Jg("Suspense");case 19:return Jg("SuspenseList");case 0:case 15:return LN(t.type,!1);case 11:return LN(t.type.render,!1);case 1:return LN(t.type,!0);case 31:return Jg("Activity");default:return""}}function eY(t){try{var e="";do e+=v3e(t),t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function gl(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function RZ(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function g3e(t){var e=RZ(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fk(t){t._valueTracker||(t._valueTracker=g3e(t))}function IZ(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=RZ(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function hk(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch(e){return t.body}}var y3e=/[\n"\\]/g;function wl(t){return t.replace(y3e,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vL(t,e,r,n,i,a,o,s){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+gl(e)):t.value!==""+gl(e)&&(t.value=""+gl(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?gL(t,o,gl(e)):r!=null?gL(t,o,gl(r)):n!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.name=""+gl(s):t.removeAttribute("name")}function NZ(t,e,r,n,i,a,o,s){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||r!=null){if(!(a!=="submit"&&a!=="reset"||e!=null))return;r=r!=null?""+gl(r):"",e=e!=null?""+gl(e):r,s||e===t.value||(t.value=e),t.defaultValue=e}n=n!=null?n:i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=s?t.checked:!!n,t.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o)}function gL(t,e,r){e==="number"&&hk(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function my(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+gl(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function LZ(t,e,r){if(e!=null&&(e=""+gl(e),e!==t.value&&(t.value=e),r==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=r!=null?""+gl(r):""}function OZ(t,e,r,n){if(e==null){if(n!=null){if(r!=null)throw Error(yt(92));if(Bw(n)){if(1<n.length)throw Error(yt(93));n=n[0]}r=n}r==null&&(r=""),e=r}r=gl(e),t.defaultValue=r,n=t.textContent,n===r&&n!==""&&n!==null&&(t.value=n)}function _y(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var b3e=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tY(t,e,r){var n=e.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":n?t.setProperty(e,r):typeof r!="number"||r===0||b3e.has(e)?e==="float"?t.cssFloat=r:t[e]=(""+r).trim():t[e]=r+"px"}function PZ(t,e,r){if(e!=null&&typeof e!="object")throw Error(yt(62));if(t=t.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||e!=null&&e.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var i in e)n=e[i],e.hasOwnProperty(i)&&r[i]!==n&&tY(t,i,n)}else for(var a in e)e.hasOwnProperty(a)&&tY(t,a,e[a])}function lO(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var w3e=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),x3e=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function XC(t){return x3e.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var yL=null;function cO(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ay=null,vy=null;function rY(t){var e=Ly(t);if(e&&(t=e.stateNode)){var r=t[ts]||null;e:switch(t=e.stateNode,e.type){case"input":if(vL(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+wl(""+e)+'"][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=n[ts]||null;if(!i)throw Error(yt(90));vL(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<r.length;e++)n=r[e],n.form===t.form&&IZ(n)}break e;case"textarea":LZ(t,r.value,r.defaultValue);break e;case"select":e=r.value,e!=null&&my(t,!!r.multiple,e,!1)}}}var ON=!1;function zZ(t,e,r){if(ON)return t(e,r);ON=!0;try{var n=t(e);return n}finally{if(ON=!1,(ay!==null||vy!==null)&&(Zk(),ay&&(e=ay,t=vy,vy=ay=null,rY(e),t)))for(e=0;e<t.length;e++)rY(t[e])}}function ox(t,e){var r=t.stateNode;if(r===null)return null;var n=r[ts]||null;if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(yt(231,e,typeof r));return r}var Ad=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),bL=!1;if(Ad)try{Xg={},Object.defineProperty(Xg,"passive",{get:function(){bL=!0}}),window.addEventListener("test",Xg,Xg),window.removeEventListener("test",Xg,Xg)}catch(t){bL=!1}var Xg,lh=null,uO=null,KC=null;function FZ(){if(KC)return KC;var t,e=uO,r=e.length,n,i="value"in lh?lh.value:lh.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return KC=i.slice(t,1<n?1-n:void 0)}function QC(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function PC(){return!0}function nY(){return!1}function rs(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?PC:nY,this.isPropagationStopped=nY,this}return Kn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=PC)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=PC)},persist:function(){},isPersistent:PC}),e}var mm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hk=rs(mm),_x=Kn({},mm,{view:0,detail:0}),T3e=rs(_x),PN,zN,Lw,qk=Kn({},_x,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dO,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lw&&(Lw&&t.type==="mousemove"?(PN=t.screenX-Lw.screenX,zN=t.screenY-Lw.screenY):zN=PN=0,Lw=t),PN)},movementY:function(t){return"movementY"in t?t.movementY:zN}}),iY=rs(qk),S3e=Kn({},qk,{dataTransfer:0}),_3e=rs(S3e),C3e=Kn({},_x,{relatedTarget:0}),FN=rs(C3e),k3e=Kn({},mm,{animationName:0,elapsedTime:0,pseudoElement:0}),E3e=rs(k3e),D3e=Kn({},mm,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),A3e=rs(D3e),M3e=Kn({},mm,{data:0}),aY=rs(M3e),R3e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I3e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N3e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L3e(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=N3e[t])?!!e[t]:!1}function dO(){return L3e}var O3e=Kn({},_x,{key:function(t){if(t.key){var e=R3e[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=QC(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?I3e[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dO,charCode:function(t){return t.type==="keypress"?QC(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?QC(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),P3e=rs(O3e),z3e=Kn({},qk,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oY=rs(z3e),F3e=Kn({},_x,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dO}),H3e=rs(F3e),q3e=Kn({},mm,{propertyName:0,elapsedTime:0,pseudoElement:0}),U3e=rs(q3e),B3e=Kn({},qk,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),j3e=rs(B3e),V3e=Kn({},mm,{newState:0,oldState:0}),W3e=rs(V3e),G3e=[9,13,27,32],fO=Ad&&"CompositionEvent"in window,Ww=null;Ad&&"documentMode"in document&&(Ww=document.documentMode);var Y3e=Ad&&"TextEvent"in window&&!Ww,HZ=Ad&&(!fO||Ww&&8<Ww&&11>=Ww),sY=" ",lY=!1;function qZ(t,e){switch(t){case"keyup":return G3e.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UZ(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oy=!1;function Z3e(t,e){switch(t){case"compositionend":return UZ(e);case"keypress":return e.which!==32?null:(lY=!0,sY);case"textInput":return t=e.data,t===sY&&lY?null:t;default:return null}}function $3e(t,e){if(oy)return t==="compositionend"||!fO&&qZ(t,e)?(t=FZ(),KC=uO=lh=null,oy=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return HZ&&e.locale!=="ko"?null:e.data;default:return null}}var X3e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cY(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!X3e[t.type]:e==="textarea"}function BZ(t,e,r,n){ay?vy?vy.push(n):vy=[n]:ay=n,e=Rk(e,"onChange"),0<e.length&&(r=new Hk("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Gw=null,sx=null;function K3e(t){LX(t,0)}function Uk(t){var e=jw(t);if(IZ(e))return t}function uY(t,e){if(t==="change")return e}var jZ=!1;Ad&&(Ad?(FC="oninput"in document,FC||(HN=document.createElement("div"),HN.setAttribute("oninput","return;"),FC=typeof HN.oninput=="function"),zC=FC):zC=!1,jZ=zC&&(!document.documentMode||9<document.documentMode));var zC,FC,HN;function dY(){Gw&&(Gw.detachEvent("onpropertychange",VZ),sx=Gw=null)}function VZ(t){if(t.propertyName==="value"&&Uk(sx)){var e=[];BZ(e,sx,t,cO(t)),zZ(K3e,e)}}function Q3e(t,e,r){t==="focusin"?(dY(),Gw=e,sx=r,Gw.attachEvent("onpropertychange",VZ)):t==="focusout"&&dY()}function J3e(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uk(sx)}function e5e(t,e){if(t==="click")return Uk(e)}function t5e(t,e){if(t==="input"||t==="change")return Uk(e)}function r5e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zs=typeof Object.is=="function"?Object.is:r5e;function lx(t,e){if(zs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!pL.call(e,i)||!zs(t[i],e[i]))return!1}return!0}function fY(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hY(t,e){var r=fY(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fY(r)}}function WZ(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?WZ(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function GZ(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=hk(t.document);e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch(n){r=!1}if(r)t=e.contentWindow;else break;e=hk(t.document)}return e}function hO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var n5e=Ad&&"documentMode"in document&&11>=document.documentMode,sy=null,wL=null,Yw=null,xL=!1;function pY(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xL||sy==null||sy!==hk(n)||(n=sy,"selectionStart"in n&&hO(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yw&&lx(Yw,n)||(Yw=n,n=Rk(wL,"onSelect"),0<n.length&&(e=new Hk("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=sy)))}function Jp(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ly={animationend:Jp("Animation","AnimationEnd"),animationiteration:Jp("Animation","AnimationIteration"),animationstart:Jp("Animation","AnimationStart"),transitionrun:Jp("Transition","TransitionRun"),transitionstart:Jp("Transition","TransitionStart"),transitioncancel:Jp("Transition","TransitionCancel"),transitionend:Jp("Transition","TransitionEnd")},qN={},YZ={};Ad&&(YZ=document.createElement("div").style,"AnimationEvent"in window||(delete ly.animationend.animation,delete ly.animationiteration.animation,delete ly.animationstart.animation),"TransitionEvent"in window||delete ly.transitionend.transition);function vm(t){if(qN[t])return qN[t];if(!ly[t])return t;var e=ly[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in YZ)return qN[t]=e[r];return t}var ZZ=vm("animationend"),$Z=vm("animationiteration"),XZ=vm("animationstart"),i5e=vm("transitionrun"),a5e=vm("transitionstart"),o5e=vm("transitioncancel"),KZ=vm("transitionend"),QZ=new Map,TL="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");TL.push("scrollEnd");function wc(t,e){QZ.set(t,e),pm(e,[t])}var mY=new WeakMap;function xl(t,e){if(typeof t=="object"&&t!==null){var r=mY.get(t);return r!==void 0?r:(e={value:t,source:e,stack:eY(e)},mY.set(t,e),e)}return{value:t,source:e,stack:eY(e)}}var vl=[],cy=0,pO=0;function Bk(){for(var t=cy,e=pO=cy=0;e<t;){var r=vl[e];vl[e++]=null;var n=vl[e];vl[e++]=null;var i=vl[e];vl[e++]=null;var a=vl[e];if(vl[e++]=null,n!==null&&i!==null){var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}a!==0&&JZ(r,i,a)}}function jk(t,e,r,n){vl[cy++]=t,vl[cy++]=e,vl[cy++]=r,vl[cy++]=n,pO|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function mO(t,e,r,n){return jk(t,e,r,n),pk(t)}function Oy(t,e){return jk(t,null,null,e),pk(t)}function JZ(t,e,r){t.lanes|=r;var n=t.alternate;n!==null&&(n.lanes|=r);for(var i=!1,a=t.return;a!==null;)a.childLanes|=r,n=a.alternate,n!==null&&(n.childLanes|=r),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-Ls(r),t=a.hiddenUpdates,n=t[i],n===null?t[i]=[e]:n.push(e),e.lane=r|536870912),a):null}function pk(t){if(50<nx)throw nx=0,jL=null,Error(yt(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var uy={};function s5e(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Is(t,e,r,n){return new s5e(t,e,r,n)}function vO(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ed(t,e){var r=t.alternate;return r===null?(r=Is(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function e$(t,e){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function JC(t,e,r,n,i,a){var o=0;if(n=t,typeof t=="function")vO(t)&&(o=1);else if(typeof t=="string")o=sRe(t,r,fu.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case uL:return t=Is(31,r,e,i),t.elementType=uL,t.lanes=a,t;case ry:return im(r.children,i,a,e);case bZ:o=8,i|=24;break;case sL:return t=Is(12,r,e,i|2),t.elementType=sL,t.lanes=a,t;case lL:return t=Is(13,r,e,i),t.elementType=lL,t.lanes=a,t;case cL:return t=Is(19,r,e,i),t.elementType=cL,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case KMe:case Td:o=10;break e;case wZ:o=9;break e;case rO:o=11;break e;case nO:o=14;break e;case th:o=16,n=null;break e}o=29,r=Error(yt(130,t===null?"null":typeof t,"")),n=null}return e=Is(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function im(t,e,r,n){return t=Is(7,t,n,e),t.lanes=r,t}function UN(t,e,r){return t=Is(6,t,null,e),t.lanes=r,t}function BN(t,e,r){return e=Is(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var dy=[],fy=0,mk=null,vk=0,yl=[],bl=0,am=null,Sd=1,_d="";function tm(t,e){dy[fy++]=vk,dy[fy++]=mk,mk=t,vk=e}function t$(t,e,r){yl[bl++]=Sd,yl[bl++]=_d,yl[bl++]=am,am=t;var n=Sd;t=_d;var i=32-Ls(n)-1;n&=~(1<<i),r+=1;var a=32-Ls(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Sd=1<<32-Ls(e)+i|r<<i|n,_d=a+t}else Sd=1<<a|r<<i|n,_d=t}function gO(t){t.return!==null&&(tm(t,1),t$(t,1,0))}function yO(t){for(;t===mk;)mk=dy[--fy],dy[fy]=null,vk=dy[--fy],dy[fy]=null;for(;t===am;)am=yl[--bl],yl[bl]=null,_d=yl[--bl],yl[bl]=null,Sd=yl[--bl],yl[bl]=null}var qo=null,Di=null,Cn=!1,om=null,uu=!1,SL=Error(yt(519));function um(t){var e=Error(yt(418,""));throw cx(xl(e,t)),SL}function vY(t){var e=t.stateNode,r=t.type,n=t.memoizedProps;switch(e[vo]=t,e[ts]=n,r){case"dialog":en("cancel",e),en("close",e);break;case"iframe":case"object":case"embed":en("load",e);break;case"video":case"audio":for(r=0;r<fx.length;r++)en(fx[r],e);break;case"source":en("error",e);break;case"img":case"image":case"link":en("error",e),en("load",e);break;case"details":en("toggle",e);break;case"input":en("invalid",e),NZ(e,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),fk(e);break;case"select":en("invalid",e);break;case"textarea":en("invalid",e),OZ(e,n.value,n.defaultValue,n.children),fk(e)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||e.textContent===""+r||n.suppressHydrationWarning===!0||PX(e.textContent,r)?(n.popover!=null&&(en("beforetoggle",e),en("toggle",e)),n.onScroll!=null&&en("scroll",e),n.onScrollEnd!=null&&en("scrollend",e),n.onClick!=null&&(e.onclick=Kk),e=!0):e=!1,e||um(t)}function gY(t){for(qo=t.return;qo;)switch(qo.tag){case 5:case 13:uu=!1;return;case 27:case 3:uu=!0;return;default:qo=qo.return}}function Ow(t){if(t!==qo)return!1;if(!Cn)return gY(t),Cn=!0,!1;var e=t.tag,r;if((r=e!==3&&e!==27)&&((r=e===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||$L(t.type,t.memoizedProps)),r=!r),r&&Di&&um(t),gY(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(yt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(e===0){Di=bc(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++;t=t.nextSibling}Di=null}}else e===27?(e=Di,Sh(t.type)?(t=QL,QL=null,Di=t):Di=e):Di=qo?bc(t.stateNode.nextSibling):null;return!0}function Cx(){Di=qo=null,Cn=!1}function yY(){var t=om;return t!==null&&(es===null?es=t:es.push.apply(es,t),om=null),t}function cx(t){om===null?om=[t]:om.push(t)}var _L=mu(null),gm=null,Cd=null;function nh(t,e,r){li(_L,e._currentValue),e._currentValue=r}function Dd(t){t._currentValue=_L.current,Pa(_L)}function CL(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function kL(t,e,r,n){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var o=i.child;a=a.firstContext;e:for(;a!==null;){var s=a;a=i;for(var l=0;l<e.length;l++)if(s.context===e[l]){a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),CL(a.return,r,t),n||(o=null);break e}a=s.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(yt(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),CL(o,r,t),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function kx(t,e,r,n){t=null;for(var i=e,a=!1;i!==null;){if(!a){if((i.flags&524288)!==0)a=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(yt(387));if(o=o.memoizedProps,o!==null){var s=i.type;zs(i.pendingProps.value,o.value)||(t!==null?t.push(s):t=[s])}}else if(i===lk.current){if(o=i.alternate,o===null)throw Error(yt(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(mx):t=[mx])}i=i.return}t!==null&&kL(e,t,r,n),e.flags|=262144}function gk(t){for(t=t.firstContext;t!==null;){if(!zs(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function dm(t){gm=t,Cd=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function go(t){return r$(gm,t)}function HC(t,e){return gm===null&&dm(t),r$(t,e)}function r$(t,e){var r=e._currentValue;if(e={context:e,memoizedValue:r,next:null},Cd===null){if(t===null)throw Error(yt(308));Cd=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Cd=Cd.next=e;return r}var l5e=typeof AbortController!="undefined"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(r,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach(function(r){return r()})}},c5e=pa.unstable_scheduleCallback,u5e=pa.unstable_NormalPriority,fa={$$typeof:Td,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bO(){return{controller:new l5e,data:new Map,refCount:0}}function Ex(t){t.refCount--,t.refCount===0&&c5e(u5e,function(){t.controller.abort()})}var Zw=null,EL=0,Cy=0,gy=null;function d5e(t,e){if(Zw===null){var r=Zw=[];EL=0,Cy=BO(),gy={status:"pending",value:void 0,then:function(n){r.push(n)}}}return EL++,e.then(bY,bY),e}function bY(){if(--EL===0&&Zw!==null){gy!==null&&(gy.status="fulfilled");var t=Zw;Zw=null,Cy=0,gy=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function f5e(t,e){var r=[],n={status:"pending",value:null,reason:null,then:function(i){r.push(i)}};return t.then(function(){n.status="fulfilled",n.value=e;for(var i=0;i<r.length;i++)(0,r[i])(e)},function(i){for(n.status="rejected",n.reason=i,i=0;i<r.length;i++)(0,r[i])(void 0)}),n}var wY=Er.S;Er.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&d5e(t,e),wY!==null&&wY(t,e)};var sm=mu(null);function wO(){var t=sm.current;return t!==null?t:Gn.pooledCache}function ek(t,e){e===null?li(sm,sm.current):li(sm,e.pool)}function n$(){var t=wO();return t===null?null:{parent:fa._currentValue,pool:t}}var Dx=Error(yt(460)),i$=Error(yt(474)),Vk=Error(yt(542)),DL={then:function(){}};function xY(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qC(){}function a$(t,e,r){switch(r=t[r],r===void 0?t.push(e):r!==e&&(e.then(qC,qC),e=r),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,SY(t),t;default:if(typeof e.status=="string")e.then(qC,qC);else{if(t=Gn,t!==null&&100<t.shellSuspendCounter)throw Error(yt(482));t=e,t.status="pending",t.then(function(n){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=n}},function(n){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,SY(t),t}throw $w=e,Dx}}var $w=null;function TY(){if($w===null)throw Error(yt(459));var t=$w;return $w=null,t}function SY(t){if(t===Dx||t===Vk)throw Error(yt(483))}var rh=!1;function xO(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function AL(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fh(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function hh(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,(Nn&2)!==0){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,e=pk(t),JZ(t,null,r),e}return jk(t,n,e,r),pk(t)}function Xw(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194048)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,EZ(t,r)}}function jN(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,callbacks:n.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}var ML=!1;function Kw(){if(ML){var t=gy;if(t!==null)throw t}}function Qw(t,e,r,n){ML=!1;var i=t.updateQueue;rh=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,u=c=l=null,s=a;do{var f=s.lane&-536870913,h=f!==s.lane;if(h?(mn&f)===f:(n&f)===f){f!==0&&f===Cy&&(ML=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var p=t,m=s;f=e;var v=r;switch(m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(v,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(v,d,f):p,f==null)break e;d=Kn({},d,f);break e;case 2:rh=!0}}f=s.callback,f!==null&&(t.flags|=64,h&&(t.flags|=8192),h=i.callbacks,h===null?i.callbacks=[f]:h.push(f))}else h={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),xh|=o,t.lanes=o,t.memoizedState=d}}function o$(t,e){if(typeof t!="function")throw Error(yt(191,t));t.call(e)}function s$(t,e){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)o$(r[t],e)}var ky=mu(null),yk=mu(0);function _Y(t,e){t=Id,li(yk,t),li(ky,e),Id=t|e.baseLanes}function RL(){li(yk,Id),li(ky,ky.current)}function TO(){Id=yk.current,Pa(ky),Pa(yk)}var bh=0,Gr=null,Hn=null,Qi=null,bk=!1,yy=!1,fm=!1,wk=0,ux=0,by=null,h5e=0;function qi(){throw Error(yt(321))}function SO(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!zs(t[r],e[r]))return!1;return!0}function _O(t,e,r,n,i,a){return bh=a,Gr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Er.H=t===null||t.memoizedState===null?F$:H$,fm=!1,a=r(n,i),fm=!1,yy&&(a=c$(e,r,n,i)),l$(t),a}function l$(t){Er.H=xk;var e=Hn!==null&&Hn.next!==null;if(bh=0,Qi=Hn=Gr=null,bk=!1,ux=0,by=null,e)throw Error(yt(300));t===null||Oa||(t=t.dependencies,t!==null&&gk(t)&&(Oa=!0))}function c$(t,e,r,n){Gr=t;var i=0;do{if(yy&&(by=null),ux=0,yy=!1,25<=i)throw Error(yt(301));if(i+=1,Qi=Hn=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}Er.H=w5e,a=e(r,n)}while(yy);return a}function p5e(){var t=Er.H,e=t.useState()[0];return e=typeof e.then=="function"?Ax(e):e,t=t.useState()[0],(Hn!==null?Hn.memoizedState:null)!==t&&(Gr.flags|=1024),e}function CO(){var t=wk!==0;return wk=0,t}function kO(t,e,r){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r}function EO(t){if(bk){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}bk=!1}bh=0,Qi=Hn=Gr=null,yy=!1,ux=wk=0,by=null}function Qo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qi===null?Gr.memoizedState=Qi=t:Qi=Qi.next=t,Qi}function Ji(){if(Hn===null){var t=Gr.alternate;t=t!==null?t.memoizedState:null}else t=Hn.next;var e=Qi===null?Gr.memoizedState:Qi.next;if(e!==null)Qi=e,Hn=t;else{if(t===null)throw Gr.alternate===null?Error(yt(467)):Error(yt(310));Hn=t,t={memoizedState:Hn.memoizedState,baseState:Hn.baseState,baseQueue:Hn.baseQueue,queue:Hn.queue,next:null},Qi===null?Gr.memoizedState=Qi=t:Qi=Qi.next=t}return Qi}function DO(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ax(t){var e=ux;return ux+=1,by===null&&(by=[]),t=a$(by,t,e),e=Gr,(Qi===null?e.memoizedState:Qi.next)===null&&(e=e.alternate,Er.H=e===null||e.memoizedState===null?F$:H$),t}function Wk(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ax(t);if(t.$$typeof===Td)return go(t)}throw Error(yt(438,String(t)))}function AO(t){var e=null,r=Gr.updateQueue;if(r!==null&&(e=r.memoCache),e==null){var n=Gr.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),r===null&&(r=DO(),Gr.updateQueue=r),r.memoCache=e,r=e.data[e.index],r===void 0)for(r=e.data[e.index]=Array(t),n=0;n<t;n++)r[n]=QMe;return e.index++,r}function Md(t,e){return typeof e=="function"?e(t):e}function tk(t){var e=Ji();return MO(e,Hn,t)}function MO(t,e,r){var n=t.queue;if(n===null)throw Error(yt(311));n.lastRenderedReducer=r;var i=t.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}e.baseQueue=i=a,n.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var s=o=null,l=null,c=e,u=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(mn&d)===d:(bh&d)===d){var f=c.revertLane;if(f===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Cy&&(u=!0);else if((bh&f)===f){c=c.next,f===Cy&&(u=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(s=l=d,o=a):l=l.next=d,Gr.lanes|=f,xh|=f;d=c.action,fm&&r(a,d),a=c.hasEagerState?c.eagerState:r(a,d)}else f={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(s=l=f,o=a):l=l.next=f,Gr.lanes|=d,xh|=d;c=c.next}while(c!==null&&c!==e);if(l===null?o=a:l.next=s,!zs(a,t.memoizedState)&&(Oa=!0,u&&(r=gy,r!==null)))throw r;t.memoizedState=a,t.baseState=o,t.baseQueue=l,n.lastRenderedState=a}return i===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function VN(t){var e=Ji(),r=e.queue;if(r===null)throw Error(yt(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);zs(a,e.memoizedState)||(Oa=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function u$(t,e,r){var n=Gr,i=Ji(),a=Cn;if(a){if(r===void 0)throw Error(yt(407));r=r()}else r=e();var o=!zs((Hn||i).memoizedState,r);o&&(i.memoizedState=r,Oa=!0),i=i.queue;var s=h$.bind(null,n,i,t);if(Mx(2048,8,s,[t]),i.getSnapshot!==e||o||Qi!==null&&Qi.memoizedState.tag&1){if(n.flags|=2048,Ey(9,Gk(),f$.bind(null,n,i,r,e),null),Gn===null)throw Error(yt(349));a||(bh&124)!==0||d$(n,e,r)}return r}function d$(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Gr.updateQueue,e===null?(e=DO(),Gr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function f$(t,e,r,n){e.value=r,e.getSnapshot=n,p$(e)&&m$(t)}function h$(t,e,r){return r(function(){p$(e)&&m$(t)})}function p$(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!zs(t,r)}catch(n){return!0}}function m$(t){var e=Oy(t,2);e!==null&&Ps(e,t,2)}function IL(t){var e=Qo();if(typeof t=="function"){var r=t;if(t=r(),fm){sh(!0);try{r()}finally{sh(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Md,lastRenderedState:t},e}function v$(t,e,r,n){return t.baseState=r,MO(t,Hn,typeof n=="function"?n:Md)}function m5e(t,e,r,n,i){if(Yk(t))throw Error(yt(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){a.listeners.push(o)}};Er.T!==null?r(!0):a.isTransition=!1,n(a),r=e.pending,r===null?(a.next=e.pending=a,g$(e,a)):(a.next=r.next,e.pending=r.next=a)}}function g$(t,e){var r=e.action,n=e.payload,i=t.state;if(e.isTransition){var a=Er.T,o={};Er.T=o;try{var s=r(i,n),l=Er.S;l!==null&&l(o,s),CY(t,e,s)}catch(c){NL(t,e,c)}finally{Er.T=a}}else try{a=r(i,n),CY(t,e,a)}catch(c){NL(t,e,c)}}function CY(t,e,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){kY(t,e,n)},function(n){return NL(t,e,n)}):kY(t,e,r)}function kY(t,e,r){e.status="fulfilled",e.value=r,y$(e),t.state=r,e=t.pending,e!==null&&(r=e.next,r===e?t.pending=null:(r=r.next,e.next=r,g$(t,r)))}function NL(t,e,r){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=r,y$(e),e=e.next;while(e!==n)}t.action=null}function y$(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function b$(t,e){return e}function EY(t,e){if(Cn){var r=Gn.formState;if(r!==null){e:{var n=Gr;if(Cn){if(Di){t:{for(var i=Di,a=uu;i.nodeType!==8;){if(!a){i=null;break t}if(i=bc(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Di=bc(i.nextSibling),n=i.data==="F!";break e}}um(n)}n=!1}n&&(e=r[0])}}return r=Qo(),r.memoizedState=r.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b$,lastRenderedState:e},r.queue=n,r=O$.bind(null,Gr,n),n.dispatch=r,n=IL(!1),a=LO.bind(null,Gr,!1,n.queue),n=Qo(),i={state:e,dispatch:null,action:t,pending:null},n.queue=i,r=m5e.bind(null,Gr,i,a,r),i.dispatch=r,n.memoizedState=t,[e,r,!1]}function DY(t){var e=Ji();return w$(e,Hn,t)}function w$(t,e,r){if(e=MO(t,e,b$)[0],t=tk(Md)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var n=Ax(e)}catch(o){throw o===Dx?Vk:o}else n=e;e=Ji();var i=e.queue,a=i.dispatch;return r!==e.memoizedState&&(Gr.flags|=2048,Ey(9,Gk(),v5e.bind(null,i,r),null)),[n,a,t]}function v5e(t,e){t.action=e}function AY(t){var e=Ji(),r=Hn;if(r!==null)return w$(e,r,t);Ji(),e=e.memoizedState,r=Ji();var n=r.queue.dispatch;return r.memoizedState=t,[e,n,!1]}function Ey(t,e,r,n){return t={tag:t,create:r,deps:n,inst:e,next:null},e=Gr.updateQueue,e===null&&(e=DO(),Gr.updateQueue=e),r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t),t}function Gk(){return{destroy:void 0,resource:void 0}}function x$(){return Ji().memoizedState}function rk(t,e,r,n){var i=Qo();n=n===void 0?null:n,Gr.flags|=t,i.memoizedState=Ey(1|e,Gk(),r,n)}function Mx(t,e,r,n){var i=Ji();n=n===void 0?null:n;var a=i.memoizedState.inst;Hn!==null&&n!==null&&SO(n,Hn.memoizedState.deps)?i.memoizedState=Ey(e,a,r,n):(Gr.flags|=t,i.memoizedState=Ey(1|e,a,r,n))}function MY(t,e){rk(8390656,8,t,e)}function T$(t,e){Mx(2048,8,t,e)}function S$(t,e){return Mx(4,2,t,e)}function _$(t,e){return Mx(4,4,t,e)}function C$(t,e){if(typeof e=="function"){t=t();var r=e(t);return function(){typeof r=="function"?r():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function k$(t,e,r){r=r!=null?r.concat([t]):null,Mx(4,4,C$.bind(null,e,t),r)}function RO(){}function E$(t,e){var r=Ji();e=e===void 0?null:e;var n=r.memoizedState;return e!==null&&SO(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function D$(t,e){var r=Ji();e=e===void 0?null:e;var n=r.memoizedState;if(e!==null&&SO(e,n[1]))return n[0];if(n=t(),fm){sh(!0);try{t()}finally{sh(!1)}}return r.memoizedState=[n,e],n}function IO(t,e,r){return r===void 0||(bh&1073741824)!==0?t.memoizedState=e:(t.memoizedState=r,t=yX(),Gr.lanes|=t,xh|=t,r)}function A$(t,e,r,n){return zs(r,e)?r:ky.current!==null?(t=IO(t,r,n),zs(t,e)||(Oa=!0),t):(bh&42)===0?(Oa=!0,t.memoizedState=r):(t=yX(),Gr.lanes|=t,xh|=t,e)}function M$(t,e,r,n,i){var a=kn.p;kn.p=a!==0&&8>a?a:8;var o=Er.T,s={};Er.T=s,LO(t,!1,e,r);try{var l=i(),c=Er.S;if(c!==null&&c(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=f5e(l,n);Jw(t,e,u,Os(t))}else Jw(t,e,n,Os(t))}catch(d){Jw(t,e,{then:function(){},status:"rejected",reason:d},Os())}finally{kn.p=a,Er.T=o}}function g5e(){}function LL(t,e,r,n){if(t.tag!==5)throw Error(yt(476));var i=R$(t).queue;M$(t,i,e,nm,r===null?g5e:function(){return I$(t),r(n)})}function R$(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:nm,baseState:nm,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Md,lastRenderedState:nm},next:null};var r={};return e.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Md,lastRenderedState:r},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function I$(t){var e=R$(t).next.queue;Jw(t,e,{},Os())}function NO(){return go(mx)}function N$(){return Ji().memoizedState}function L$(){return Ji().memoizedState}function y5e(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var r=Os();t=fh(r);var n=hh(e,t,r);n!==null&&(Ps(n,e,r),Xw(n,e,r)),e={cache:bO()},t.payload=e;return}e=e.return}}function b5e(t,e,r){var n=Os();r={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Yk(t)?P$(e,r):(r=mO(t,e,r,n),r!==null&&(Ps(r,t,n),z$(r,e,n)))}function O$(t,e,r){var n=Os();Jw(t,e,r,n)}function Jw(t,e,r,n){var i={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yk(t))P$(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,zs(s,o))return jk(t,e,i,0),Gn===null&&Bk(),!1}catch(l){}finally{}if(r=mO(t,e,i,n),r!==null)return Ps(r,t,n),z$(r,e,n),!0}return!1}function LO(t,e,r,n){if(n={lane:2,revertLane:BO(),action:n,hasEagerState:!1,eagerState:null,next:null},Yk(t)){if(e)throw Error(yt(479))}else e=mO(t,r,n,2),e!==null&&Ps(e,t,2)}function Yk(t){var e=t.alternate;return t===Gr||e!==null&&e===Gr}function P$(t,e){yy=bk=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function z$(t,e,r){if((r&4194048)!==0){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,EZ(t,r)}}var xk={readContext:go,use:Wk,useCallback:qi,useContext:qi,useEffect:qi,useImperativeHandle:qi,useLayoutEffect:qi,useInsertionEffect:qi,useMemo:qi,useReducer:qi,useRef:qi,useState:qi,useDebugValue:qi,useDeferredValue:qi,useTransition:qi,useSyncExternalStore:qi,useId:qi,useHostTransitionStatus:qi,useFormState:qi,useActionState:qi,useOptimistic:qi,useMemoCache:qi,useCacheRefresh:qi},F$={readContext:go,use:Wk,useCallback:function(t,e){return Qo().memoizedState=[t,e===void 0?null:e],t},useContext:go,useEffect:MY,useImperativeHandle:function(t,e,r){r=r!=null?r.concat([t]):null,rk(4194308,4,C$.bind(null,e,t),r)},useLayoutEffect:function(t,e){return rk(4194308,4,t,e)},useInsertionEffect:function(t,e){rk(4,2,t,e)},useMemo:function(t,e){var r=Qo();e=e===void 0?null:e;var n=t();if(fm){sh(!0);try{t()}finally{sh(!1)}}return r.memoizedState=[n,e],n},useReducer:function(t,e,r){var n=Qo();if(r!==void 0){var i=r(e);if(fm){sh(!0);try{r(e)}finally{sh(!1)}}}else i=e;return n.memoizedState=n.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},n.queue=t,t=t.dispatch=b5e.bind(null,Gr,t),[n.memoizedState,t]},useRef:function(t){var e=Qo();return t={current:t},e.memoizedState=t},useState:function(t){t=IL(t);var e=t.queue,r=O$.bind(null,Gr,e);return e.dispatch=r,[t.memoizedState,r]},useDebugValue:RO,useDeferredValue:function(t,e){var r=Qo();return IO(r,t,e)},useTransition:function(){var t=IL(!1);return t=M$.bind(null,Gr,t.queue,!0,!1),Qo().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,r){var n=Gr,i=Qo();if(Cn){if(r===void 0)throw Error(yt(407));r=r()}else{if(r=e(),Gn===null)throw Error(yt(349));(mn&124)!==0||d$(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,MY(h$.bind(null,n,a,t),[t]),n.flags|=2048,Ey(9,Gk(),f$.bind(null,n,a,r,e),null),r},useId:function(){var t=Qo(),e=Gn.identifierPrefix;if(Cn){var r=_d,n=Sd;r=(n&~(1<<32-Ls(n)-1)).toString(32)+r,e="\xAB"+e+"R"+r,r=wk++,0<r&&(e+="H"+r.toString(32)),e+="\xBB"}else r=h5e++,e="\xAB"+e+"r"+r.toString(32)+"\xBB";return t.memoizedState=e},useHostTransitionStatus:NO,useFormState:EY,useActionState:EY,useOptimistic:function(t){var e=Qo();e.memoizedState=e.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=r,e=LO.bind(null,Gr,!0,r),r.dispatch=e,[t,e]},useMemoCache:AO,useCacheRefresh:function(){return Qo().memoizedState=y5e.bind(null,Gr)}},H$={readContext:go,use:Wk,useCallback:E$,useContext:go,useEffect:T$,useImperativeHandle:k$,useInsertionEffect:S$,useLayoutEffect:_$,useMemo:D$,useReducer:tk,useRef:x$,useState:function(){return tk(Md)},useDebugValue:RO,useDeferredValue:function(t,e){var r=Ji();return A$(r,Hn.memoizedState,t,e)},useTransition:function(){var t=tk(Md)[0],e=Ji().memoizedState;return[typeof t=="boolean"?t:Ax(t),e]},useSyncExternalStore:u$,useId:N$,useHostTransitionStatus:NO,useFormState:DY,useActionState:DY,useOptimistic:function(t,e){var r=Ji();return v$(r,Hn,t,e)},useMemoCache:AO,useCacheRefresh:L$},w5e={readContext:go,use:Wk,useCallback:E$,useContext:go,useEffect:T$,useImperativeHandle:k$,useInsertionEffect:S$,useLayoutEffect:_$,useMemo:D$,useReducer:VN,useRef:x$,useState:function(){return VN(Md)},useDebugValue:RO,useDeferredValue:function(t,e){var r=Ji();return Hn===null?IO(r,t,e):A$(r,Hn.memoizedState,t,e)},useTransition:function(){var t=VN(Md)[0],e=Ji().memoizedState;return[typeof t=="boolean"?t:Ax(t),e]},useSyncExternalStore:u$,useId:N$,useHostTransitionStatus:NO,useFormState:AY,useActionState:AY,useOptimistic:function(t,e){var r=Ji();return Hn!==null?v$(r,Hn,t,e):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:AO,useCacheRefresh:L$},wy=null,dx=0;function UC(t){var e=dx;return dx+=1,wy===null&&(wy=[]),a$(wy,t,e)}function Pw(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function BC(t,e){throw e.$$typeof===XMe?Error(yt(525)):(t=Object.prototype.toString.call(e),Error(yt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function RY(t){var e=t._init;return e(t._payload)}function q$(t){function e(y,b){if(t){var x=y.deletions;x===null?(y.deletions=[b],y.flags|=16):x.push(b)}}function r(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function n(y){for(var b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function i(y,b){return y=Ed(y,b),y.index=0,y.sibling=null,y}function a(y,b,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<b?(y.flags|=67108866,b):x):(y.flags|=67108866,b)):(y.flags|=1048576,b)}function o(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function s(y,b,x,w){return b===null||b.tag!==6?(b=UN(x,y.mode,w),b.return=y,b):(b=i(b,x),b.return=y,b)}function l(y,b,x,w){var S=x.type;return S===ry?u(y,b,x.props.children,w,x.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===th&&RY(S)===b.type)?(b=i(b,x.props),Pw(b,x),b.return=y,b):(b=JC(x.type,x.key,x.props,null,y.mode,w),Pw(b,x),b.return=y,b)}function c(y,b,x,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=BN(x,y.mode,w),b.return=y,b):(b=i(b,x.children||[]),b.return=y,b)}function u(y,b,x,w,S){return b===null||b.tag!==7?(b=im(x,y.mode,w,S),b.return=y,b):(b=i(b,x),b.return=y,b)}function d(y,b,x){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=UN(""+b,y.mode,x),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case IC:return x=JC(b.type,b.key,b.props,null,y.mode,x),Pw(x,b),x.return=y,x;case Uw:return b=BN(b,y.mode,x),b.return=y,b;case th:var w=b._init;return b=w(b._payload),d(y,b,x)}if(Bw(b)||Nw(b))return b=im(b,y.mode,x,null),b.return=y,b;if(typeof b.then=="function")return d(y,UC(b),x);if(b.$$typeof===Td)return d(y,HC(y,b),x);BC(y,b)}return null}function f(y,b,x,w){var S=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return S!==null?null:s(y,b,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case IC:return x.key===S?l(y,b,x,w):null;case Uw:return x.key===S?c(y,b,x,w):null;case th:return S=x._init,x=S(x._payload),f(y,b,x,w)}if(Bw(x)||Nw(x))return S!==null?null:u(y,b,x,w,null);if(typeof x.then=="function")return f(y,b,UC(x),w);if(x.$$typeof===Td)return f(y,b,HC(y,x),w);BC(y,x)}return null}function h(y,b,x,w,S){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return y=y.get(x)||null,s(b,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case IC:return y=y.get(w.key===null?x:w.key)||null,l(b,y,w,S);case Uw:return y=y.get(w.key===null?x:w.key)||null,c(b,y,w,S);case th:var _=w._init;return w=_(w._payload),h(y,b,x,w,S)}if(Bw(w)||Nw(w))return y=y.get(x)||null,u(b,y,w,S,null);if(typeof w.then=="function")return h(y,b,x,UC(w),S);if(w.$$typeof===Td)return h(y,b,x,HC(b,w),S);BC(b,w)}return null}function p(y,b,x,w){for(var S=null,_=null,C=b,E=b=0,M=null;C!==null&&E<x.length;E++){C.index>E?(M=C,C=null):M=C.sibling;var I=f(y,C,x[E],w);if(I===null){C===null&&(C=M);break}t&&C&&I.alternate===null&&e(y,C),b=a(I,b,E),_===null?S=I:_.sibling=I,_=I,C=M}if(E===x.length)return r(y,C),Cn&&tm(y,E),S;if(C===null){for(;E<x.length;E++)C=d(y,x[E],w),C!==null&&(b=a(C,b,E),_===null?S=C:_.sibling=C,_=C);return Cn&&tm(y,E),S}for(C=n(C);E<x.length;E++)M=h(C,y,E,x[E],w),M!==null&&(t&&M.alternate!==null&&C.delete(M.key===null?E:M.key),b=a(M,b,E),_===null?S=M:_.sibling=M,_=M);return t&&C.forEach(function(L){return e(y,L)}),Cn&&tm(y,E),S}function m(y,b,x,w){if(x==null)throw Error(yt(151));for(var S=null,_=null,C=b,E=b=0,M=null,I=x.next();C!==null&&!I.done;E++,I=x.next()){C.index>E?(M=C,C=null):M=C.sibling;var L=f(y,C,I.value,w);if(L===null){C===null&&(C=M);break}t&&C&&L.alternate===null&&e(y,C),b=a(L,b,E),_===null?S=L:_.sibling=L,_=L,C=M}if(I.done)return r(y,C),Cn&&tm(y,E),S;if(C===null){for(;!I.done;E++,I=x.next())I=d(y,I.value,w),I!==null&&(b=a(I,b,E),_===null?S=I:_.sibling=I,_=I);return Cn&&tm(y,E),S}for(C=n(C);!I.done;E++,I=x.next())I=h(C,y,E,I.value,w),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?E:I.key),b=a(I,b,E),_===null?S=I:_.sibling=I,_=I);return t&&C.forEach(function(O){return e(y,O)}),Cn&&tm(y,E),S}function v(y,b,x,w){if(typeof x=="object"&&x!==null&&x.type===ry&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case IC:e:{for(var S=x.key;b!==null;){if(b.key===S){if(S=x.type,S===ry){if(b.tag===7){r(y,b.sibling),w=i(b,x.props.children),w.return=y,y=w;break e}}else if(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===th&&RY(S)===b.type){r(y,b.sibling),w=i(b,x.props),Pw(w,x),w.return=y,y=w;break e}r(y,b);break}else e(y,b);b=b.sibling}x.type===ry?(w=im(x.props.children,y.mode,w,x.key),w.return=y,y=w):(w=JC(x.type,x.key,x.props,null,y.mode,w),Pw(w,x),w.return=y,y=w)}return o(y);case Uw:e:{for(S=x.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){r(y,b.sibling),w=i(b,x.children||[]),w.return=y,y=w;break e}else{r(y,b);break}else e(y,b);b=b.sibling}w=BN(x,y.mode,w),w.return=y,y=w}return o(y);case th:return S=x._init,x=S(x._payload),v(y,b,x,w)}if(Bw(x))return p(y,b,x,w);if(Nw(x)){if(S=Nw(x),typeof S!="function")throw Error(yt(150));return x=S.call(x),m(y,b,x,w)}if(typeof x.then=="function")return v(y,b,UC(x),w);if(x.$$typeof===Td)return v(y,b,HC(y,x),w);BC(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,b!==null&&b.tag===6?(r(y,b.sibling),w=i(b,x),w.return=y,y=w):(r(y,b),w=UN(x,y.mode,w),w.return=y,y=w),o(y)):r(y,b)}return function(y,b,x,w){try{dx=0;var S=v(y,b,x,w);return wy=null,S}catch(C){if(C===Dx||C===Vk)throw C;var _=Is(29,C,null,y.mode);return _.lanes=w,_.return=y,_}finally{}}}var Dy=q$(!0),U$=q$(!1),Sl=mu(null),pu=null;function ih(t){var e=t.alternate;li(ha,ha.current&1),li(Sl,t),pu===null&&(e===null||ky.current!==null||e.memoizedState!==null)&&(pu=t)}function B$(t){if(t.tag===22){if(li(ha,ha.current),li(Sl,t),pu===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(pu=t)}}else ah(t)}function ah(){li(ha,ha.current),li(Sl,Sl.current)}function kd(t){Pa(Sl),pu===t&&(pu=null),Pa(ha)}var ha=mu(0);function Tk(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||KL(r)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function WN(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Kn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var OL={enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Os(),i=fh(n);i.payload=e,r!=null&&(i.callback=r),e=hh(t,i,n),e!==null&&(Ps(e,t,n),Xw(e,t,n))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Os(),i=fh(n);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=hh(t,i,n),e!==null&&(Ps(e,t,n),Xw(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Os(),n=fh(r);n.tag=2,e!=null&&(n.callback=e),e=hh(t,n,r),e!==null&&(Ps(e,t,r),Xw(e,t,r))}};function IY(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!lx(r,n)||!lx(i,a):!0}function NY(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&OL.enqueueReplaceState(e,e.state,null)}function hm(t,e){var r=e;if("ref"in e){r={};for(var n in e)n!=="ref"&&(r[n]=e[n])}if(t=t.defaultProps){r===e&&(r=Kn({},r));for(var i in t)r[i]===void 0&&(r[i]=t[i])}return r}var Sk=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function j$(t){Sk(t)}function V$(t){console.error(t)}function W$(t){Sk(t)}function _k(t,e){try{var r=t.onUncaughtError;r(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function LY(t,e,r){try{var n=t.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function PL(t,e,r){return r=fh(r),r.tag=3,r.payload={element:null},r.callback=function(){_k(t,e)},r}function G$(t){return t=fh(t),t.tag=3,t}function Y$(t,e,r,n){var i=r.type.getDerivedStateFromError;if(typeof i=="function"){var a=n.value;t.payload=function(){return i(a)},t.callback=function(){LY(e,r,n)}}var o=r.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){LY(e,r,n),typeof i!="function"&&(ph===null?ph=new Set([this]):ph.add(this));var s=n.stack;this.componentDidCatch(n.value,{componentStack:s!==null?s:""})})}function x5e(t,e,r,n,i){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=r.alternate,e!==null&&kx(e,r,i,!0),r=Sl.current,r!==null){switch(r.tag){case 13:return pu===null?VL():r.alternate===null&&Ai===0&&(Ai=3),r.flags&=-257,r.flags|=65536,r.lanes=i,n===DL?r.flags|=16384:(e=r.updateQueue,e===null?r.updateQueue=new Set([n]):e.add(n),rL(t,n,i)),!1;case 22:return r.flags|=65536,n===DL?r.flags|=16384:(e=r.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=e):(r=e.retryQueue,r===null?e.retryQueue=new Set([n]):r.add(n)),rL(t,n,i)),!1}throw Error(yt(435,r.tag))}return rL(t,n,i),VL(),!1}if(Cn)return e=Sl.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=i,n!==SL&&(t=Error(yt(422),{cause:n}),cx(xl(t,r)))):(n!==SL&&(e=Error(yt(423),{cause:n}),cx(xl(e,r))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,n=xl(n,r),i=PL(t.stateNode,n,i),jN(t,i),Ai!==4&&(Ai=2)),!1;var a=Error(yt(520),{cause:n});if(a=xl(a,r),rx===null?rx=[a]:rx.push(a),Ai!==4&&(Ai=2),e===null)return!0;n=xl(n,r),r=e;do{switch(r.tag){case 3:return r.flags|=65536,t=i&-i,r.lanes|=t,t=PL(r.stateNode,n,t),jN(r,t),!1;case 1:if(e=r.type,a=r.stateNode,(r.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(ph===null||!ph.has(a))))return r.flags|=65536,i&=-i,r.lanes|=i,i=G$(i),Y$(i,t,r,n),jN(r,i),!1}r=r.return}while(r!==null);return!1}var Z$=Error(yt(461)),Oa=!1;function Ga(t,e,r,n){e.child=t===null?U$(e,null,r,n):Dy(e,t.child,r,n)}function OY(t,e,r,n,i){r=r.render;var a=e.ref;if("ref"in n){var o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}else o=n;return dm(e),n=_O(t,e,r,o,a,i),s=CO(),t!==null&&!Oa?(kO(t,e,i),Rd(t,e,i)):(Cn&&s&&gO(e),e.flags|=1,Ga(t,e,n,i),e.child)}function PY(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!vO(a)&&a.defaultProps===void 0&&r.compare===null?(e.tag=15,e.type=a,$$(t,e,a,n,i)):(t=JC(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!OO(t,i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:lx,r(o,n)&&t.ref===e.ref)return Rd(t,e,i)}return e.flags|=1,t=Ed(a,n),t.ref=e.ref,t.return=e,e.child=t}function $$(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(lx(a,n)&&t.ref===e.ref)if(Oa=!1,e.pendingProps=n=a,OO(t,i))(t.flags&131072)!==0&&(Oa=!0);else return e.lanes=t.lanes,Rd(t,e,i)}return zL(t,e,r,n,i)}function X$(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden"){if((e.flags&128)!==0){if(n=a!==null?a.baseLanes|r:r,t!==null){for(i=e.child=t.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;e.childLanes=a&~n}else e.childLanes=0,e.child=null;return zY(t,e,n,r)}if((r&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&ek(e,a!==null?a.cachePool:null),a!==null?_Y(e,a):RL(),B$(e);else return e.lanes=e.childLanes=536870912,zY(t,e,a!==null?a.baseLanes|r:r,r)}else a!==null?(ek(e,a.cachePool),_Y(e,a),ah(e),e.memoizedState=null):(t!==null&&ek(e,null),RL(),ah(e));return Ga(t,e,i,r),e.child}function zY(t,e,r,n){var i=wO();return i=i===null?null:{parent:fa._currentValue,pool:i},e.memoizedState={baseLanes:r,cachePool:i},t!==null&&ek(e,null),RL(),B$(e),t!==null&&kx(t,e,n,!0),null}function nk(t,e){var r=e.ref;if(r===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(yt(284));(t===null||t.ref!==r)&&(e.flags|=4194816)}}function zL(t,e,r,n,i){return dm(e),r=_O(t,e,r,n,void 0,i),n=CO(),t!==null&&!Oa?(kO(t,e,i),Rd(t,e,i)):(Cn&&n&&gO(e),e.flags|=1,Ga(t,e,r,i),e.child)}function FY(t,e,r,n,i,a){return dm(e),e.updateQueue=null,r=c$(e,n,r,i),l$(t),n=CO(),t!==null&&!Oa?(kO(t,e,a),Rd(t,e,a)):(Cn&&n&&gO(e),e.flags|=1,Ga(t,e,r,a),e.child)}function HY(t,e,r,n,i){if(dm(e),e.stateNode===null){var a=uy,o=r.contextType;typeof o=="object"&&o!==null&&(a=go(o)),a=new r(n,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=OL,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=n,a.state=e.memoizedState,a.refs={},xO(e),o=r.contextType,a.context=typeof o=="object"&&o!==null?go(o):uy,a.state=e.memoizedState,o=r.getDerivedStateFromProps,typeof o=="function"&&(WN(e,r,o,n),a.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(o=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),o!==a.state&&OL.enqueueReplaceState(a,a.state,null),Qw(e,n,a,i),Kw(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(t===null){a=e.stateNode;var s=e.memoizedProps,l=hm(r,s);a.props=l;var c=a.context,u=r.contextType;o=uy,typeof u=="object"&&u!==null&&(o=go(u));var d=r.getDerivedStateFromProps;u=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function",s=e.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s||c!==o)&&NY(e,a,n,o),rh=!1;var f=e.memoizedState;a.state=f,Qw(e,n,a,i),Kw(),c=e.memoizedState,s||f!==c||rh?(typeof d=="function"&&(WN(e,r,d,n),c=e.memoizedState),(l=rh||IY(e,r,l,n,f,c,o))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=o,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,AL(t,e),o=e.memoizedProps,u=hm(r,o),a.props=u,d=e.pendingProps,f=a.context,c=r.contextType,l=uy,typeof c=="object"&&c!==null&&(l=go(c)),s=r.getDerivedStateFromProps,(c=typeof s=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&NY(e,a,n,l),rh=!1,f=e.memoizedState,a.state=f,Qw(e,n,a,i),Kw();var h=e.memoizedState;o!==d||f!==h||rh||t!==null&&t.dependencies!==null&&gk(t.dependencies)?(typeof s=="function"&&(WN(e,r,s,n),h=e.memoizedState),(u=rh||IY(e,r,u,n,f,h,l)||t!==null&&t.dependencies!==null&&gk(t.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,h,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,h,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=h),a.props=n,a.state=h,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return a=n,nk(t,e),n=(e.flags&128)!==0,a||n?(a=e.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&n?(e.child=Dy(e,t.child,null,i),e.child=Dy(e,null,r,i)):Ga(t,e,r,i),e.memoizedState=a.state,t=e.child):t=Rd(t,e,i),t}function qY(t,e,r,n){return Cx(),e.flags|=256,Ga(t,e,r,n),e.child}var GN={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function YN(t){return{baseLanes:t,cachePool:n$()}}function ZN(t,e,r){return t=t!==null?t.childLanes&~r:0,e&&(t|=Tl),t}function K$(t,e,r){var n=e.pendingProps,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(ha.current&2)!==0),o&&(i=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if(Cn){if(i?ih(e):ah(e),Cn){var s=Di,l;if(l=s){e:{for(l=s,s=uu;l.nodeType!==8;){if(!s){s=null;break e}if(l=bc(l.nextSibling),l===null){s=null;break e}}s=l}s!==null?(e.memoizedState={dehydrated:s,treeContext:am!==null?{id:Sd,overflow:_d}:null,retryLane:536870912,hydrationErrors:null},l=Is(18,null,null,0),l.stateNode=s,l.return=e,e.child=l,qo=e,Di=null,l=!0):l=!1}l||um(e)}if(s=e.memoizedState,s!==null&&(s=s.dehydrated,s!==null))return KL(s)?e.lanes=32:e.lanes=536870912,null;kd(e)}return s=n.children,n=n.fallback,i?(ah(e),i=e.mode,s=Ck({mode:"hidden",children:s},i),n=im(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,i=e.child,i.memoizedState=YN(r),i.childLanes=ZN(t,o,r),e.memoizedState=GN,n):(ih(e),FL(e,s))}if(l=t.memoizedState,l!==null&&(s=l.dehydrated,s!==null)){if(a)e.flags&256?(ih(e),e.flags&=-257,e=$N(t,e,r)):e.memoizedState!==null?(ah(e),e.child=t.child,e.flags|=128,e=null):(ah(e),i=n.fallback,s=e.mode,n=Ck({mode:"visible",children:n.children},s),i=im(i,s,r,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,Dy(e,t.child,null,r),n=e.child,n.memoizedState=YN(r),n.childLanes=ZN(t,o,r),e.memoizedState=GN,e=i);else if(ih(e),KL(s)){if(o=s.nextSibling&&s.nextSibling.dataset,o)var c=o.dgst;o=c,n=Error(yt(419)),n.stack="",n.digest=o,cx({value:n,source:null,stack:null}),e=$N(t,e,r)}else if(Oa||kx(t,e,r,!1),o=(r&t.childLanes)!==0,Oa||o){if(o=Gn,o!==null&&(n=r&-r,n=(n&42)!==0?1:aO(n),n=(n&(o.suspendedLanes|r))!==0?0:n,n!==0&&n!==l.retryLane))throw l.retryLane=n,Oy(t,n),Ps(o,t,n),Z$;s.data==="$?"||VL(),e=$N(t,e,r)}else s.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,Di=bc(s.nextSibling),qo=e,Cn=!0,om=null,uu=!1,t!==null&&(yl[bl++]=Sd,yl[bl++]=_d,yl[bl++]=am,Sd=t.id,_d=t.overflow,am=e),e=FL(e,n.children),e.flags|=4096);return e}return i?(ah(e),i=n.fallback,s=e.mode,l=t.child,c=l.sibling,n=Ed(l,{mode:"hidden",children:n.children}),n.subtreeFlags=l.subtreeFlags&65011712,c!==null?i=Ed(c,i):(i=im(i,s,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,s=t.child.memoizedState,s===null?s=YN(r):(l=s.cachePool,l!==null?(c=fa._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=n$(),s={baseLanes:s.baseLanes|r,cachePool:l}),i.memoizedState=s,i.childLanes=ZN(t,o,r),e.memoizedState=GN,n):(ih(e),r=t.child,t=r.sibling,r=Ed(r,{mode:"visible",children:n.children}),r.return=e,r.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=r,e.memoizedState=null,r)}function FL(t,e){return e=Ck({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Ck(t,e){return t=Is(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function $N(t,e,r){return Dy(e,t.child,null,r),t=FL(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function UY(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),CL(t.return,e,r)}function XN(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Q$(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Ga(t,e,n.children,r),n=ha.current,(n&2)!==0)n=n&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&UY(t,r,e);else if(t.tag===19)UY(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}switch(li(ha,n),i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Tk(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),XN(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Tk(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}XN(e,!0,r,null,a);break;case"together":XN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rd(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),xh|=e.lanes,(r&e.childLanes)===0)if(t!==null){if(kx(t,e,r,!1),(r&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(yt(153));if(e.child!==null){for(t=e.child,r=Ed(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ed(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function OO(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&gk(t)))}function T5e(t,e,r){switch(e.tag){case 3:ck(e,e.stateNode.containerInfo),nh(e,fa,t.memoizedState.cache),Cx();break;case 27:case 5:hL(e);break;case 4:ck(e,e.stateNode.containerInfo);break;case 10:nh(e,e.type,e.memoizedProps.value);break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(ih(e),e.flags|=128,null):(r&e.child.childLanes)!==0?K$(t,e,r):(ih(e),t=Rd(t,e,r),t!==null?t.sibling:null);ih(e);break;case 19:var i=(t.flags&128)!==0;if(n=(r&e.childLanes)!==0,n||(kx(t,e,r,!1),n=(r&e.childLanes)!==0),i){if(n)return Q$(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(ha,ha.current),n)break;return null;case 22:case 23:return e.lanes=0,X$(t,e,r);case 24:nh(e,fa,t.memoizedState.cache)}return Rd(t,e,r)}function J$(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps)Oa=!0;else{if(!OO(t,r)&&(e.flags&128)===0)return Oa=!1,T5e(t,e,r);Oa=(t.flags&131072)!==0}else Oa=!1,Cn&&(e.flags&1048576)!==0&&t$(e,vk,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var n=e.elementType,i=n._init;if(n=i(n._payload),e.type=n,typeof n=="function")vO(n)?(t=hm(n,t),e.tag=1,e=HY(null,e,n,t,r)):(e.tag=0,e=zL(null,e,n,t,r));else{if(n!=null){if(i=n.$$typeof,i===rO){e.tag=11,e=OY(null,e,n,t,r);break e}else if(i===nO){e.tag=14,e=PY(null,e,n,t,r);break e}}throw e=dL(n)||n,Error(yt(306,e,""))}}return e;case 0:return zL(t,e,e.type,e.pendingProps,r);case 1:return n=e.type,i=hm(n,e.pendingProps),HY(t,e,n,i,r);case 3:e:{if(ck(e,e.stateNode.containerInfo),t===null)throw Error(yt(387));n=e.pendingProps;var a=e.memoizedState;i=a.element,AL(t,e),Qw(e,n,null,r);var o=e.memoizedState;if(n=o.cache,nh(e,fa,n),n!==a.cache&&kL(e,[fa],r,!0),Kw(),n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=qY(t,e,n,r);break e}else if(n!==i){i=xl(Error(yt(424)),e),cx(i),e=qY(t,e,n,r);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Di=bc(t.firstChild),qo=e,Cn=!0,om=null,uu=!0,r=U$(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Cx(),n===i){e=Rd(t,e,r);break e}Ga(t,e,n,r)}e=e.child}return e;case 26:return nk(t,e),t===null?(r=oZ(e.type,null,e.pendingProps,null))?e.memoizedState=r:Cn||(r=e.type,t=e.pendingProps,n=Ik(dh.current).createElement(r),n[vo]=e,n[ts]=t,Za(n,r,t),La(n),e.stateNode=n):e.memoizedState=oZ(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return hL(e),t===null&&Cn&&(n=e.stateNode=HX(e.type,e.pendingProps,dh.current),qo=e,uu=!0,i=Di,Sh(e.type)?(QL=i,Di=bc(n.firstChild)):Di=i),Ga(t,e,e.pendingProps.children,r),nk(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Cn&&((i=n=Di)&&(n=Z5e(n,e.type,e.pendingProps,uu),n!==null?(e.stateNode=n,qo=e,Di=bc(n.firstChild),uu=!1,i=!0):i=!1),i||um(e)),hL(e),i=e.type,a=e.pendingProps,o=t!==null?t.memoizedProps:null,n=a.children,$L(i,a)?n=null:o!==null&&$L(i,o)&&(e.flags|=32),e.memoizedState!==null&&(i=_O(t,e,p5e,null,null,r),mx._currentValue=i),nk(t,e),Ga(t,e,n,r),e.child;case 6:return t===null&&Cn&&((t=r=Di)&&(r=$5e(r,e.pendingProps,uu),r!==null?(e.stateNode=r,qo=e,Di=null,t=!0):t=!1),t||um(e)),null;case 13:return K$(t,e,r);case 4:return ck(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Dy(e,null,n,r):Ga(t,e,n,r),e.child;case 11:return OY(t,e,e.type,e.pendingProps,r);case 7:return Ga(t,e,e.pendingProps,r),e.child;case 8:return Ga(t,e,e.pendingProps.children,r),e.child;case 12:return Ga(t,e,e.pendingProps.children,r),e.child;case 10:return n=e.pendingProps,nh(e,e.type,n.value),Ga(t,e,n.children,r),e.child;case 9:return i=e.type._context,n=e.pendingProps.children,dm(e),i=go(i),n=n(i),e.flags|=1,Ga(t,e,n,r),e.child;case 14:return PY(t,e,e.type,e.pendingProps,r);case 15:return $$(t,e,e.type,e.pendingProps,r);case 19:return Q$(t,e,r);case 31:return n=e.pendingProps,r=e.mode,n={mode:n.mode,children:n.children},t===null?(r=Ck(n,r),r.ref=e.ref,e.child=r,r.return=e,e=r):(r=Ed(t.child,n),r.ref=e.ref,e.child=r,r.return=e,e=r),e;case 22:return X$(t,e,r);case 24:return dm(e),n=go(fa),t===null?(i=wO(),i===null&&(i=Gn,a=bO(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=r),i=a),e.memoizedState={parent:n,cache:i},xO(e),nh(e,fa,i)):((t.lanes&r)!==0&&(AL(t,e),Qw(e,null,null,r),Kw()),i=t.memoizedState,a=e.memoizedState,i.parent!==n?(i={parent:n,cache:n},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),nh(e,fa,n)):(n=a.cache,nh(e,fa,n),n!==i.cache&&kL(e,[fa],r,!0))),Ga(t,e,e.pendingProps.children,r),e.child;case 29:throw e.pendingProps}throw Error(yt(156,e.tag))}function bd(t){t.flags|=4}function BY(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!BX(e)){if(e=Sl.current,e!==null&&((mn&4194048)===mn?pu!==null:(mn&62914560)!==mn&&(mn&536870912)===0||e!==pu))throw $w=DL,i$;t.flags|=8192}}function jC(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?CZ():536870912,t.lanes|=e,Ay|=e)}function zw(t,e){if(!Cn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function yi(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function S5e(t,e,r){var n=e.pendingProps;switch(yO(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yi(e),null;case 1:return yi(e),null;case 3:return r=e.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Dd(fa),Ty(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ow(e)?bd(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,yY())),yi(e),null;case 26:return r=e.memoizedState,t===null?(bd(e),r!==null?(yi(e),BY(e,r)):(yi(e),e.flags&=-16777217)):r?r!==t.memoizedState?(bd(e),yi(e),BY(e,r)):(yi(e),e.flags&=-16777217):(t.memoizedProps!==n&&bd(e),yi(e),e.flags&=-16777217),null;case 27:uk(e),r=dh.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==n&&bd(e);else{if(!n){if(e.stateNode===null)throw Error(yt(166));return yi(e),null}t=fu.current,Ow(e)?vY(e,t):(t=HX(i,n,r),e.stateNode=t,bd(e))}return yi(e),null;case 5:if(uk(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&bd(e);else{if(!n){if(e.stateNode===null)throw Error(yt(166));return yi(e),null}if(t=fu.current,Ow(e))vY(e,t);else{switch(i=Ik(dh.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof n.is=="string"?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?t.multiple=!0:n.size&&(t.size=n.size);break;default:t=typeof n.is=="string"?i.createElement(r,{is:n.is}):i.createElement(r)}}t[vo]=e,t[ts]=n;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(Za(t,r,n),r){case"button":case"input":case"select":case"textarea":t=!!n.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&bd(e)}}return yi(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==n&&bd(e);else{if(typeof n!="string"&&e.stateNode===null)throw Error(yt(166));if(t=dh.current,Ow(e)){if(t=e.stateNode,r=e.memoizedProps,n=null,i=qo,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}t[vo]=e,t=!!(t.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||PX(t.nodeValue,r)),t||um(e)}else t=Ik(t).createTextNode(n),t[vo]=e,e.stateNode=t}return yi(e),null;case 13:if(n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Ow(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(yt(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(yt(317));i[vo]=e}else Cx(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;yi(e),i=!1}else i=yY(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(kd(e),e):(kd(e),null)}if(kd(e),(e.flags&128)!==0)return e.lanes=r,e;if(r=n!==null,t=t!==null&&t.memoizedState!==null,r){n=e.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool);var a=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==i&&(n.flags|=2048)}return r!==t&&r&&(e.child.flags|=8192),jC(e,e.updateQueue),yi(e),null;case 4:return Ty(),t===null&&jO(e.stateNode.containerInfo),yi(e),null;case 10:return Dd(e.type),yi(e),null;case 19:if(Pa(ha),i=e.memoizedState,i===null)return yi(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)zw(i,!1);else{if(Ai!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(a=Tk(t),a!==null){for(e.flags|=128,zw(i,!1),t=a.updateQueue,e.updateQueue=t,jC(e,t),e.subtreeFlags=0,t=r,r=e.child;r!==null;)e$(r,t),r=r.sibling;return li(ha,ha.current&1|2),e.child}t=t.sibling}i.tail!==null&&hu()>Ek&&(e.flags|=128,n=!0,zw(i,!1),e.lanes=4194304)}else{if(!n)if(t=Tk(a),t!==null){if(e.flags|=128,n=!0,t=t.updateQueue,e.updateQueue=t,jC(e,t),zw(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Cn)return yi(e),null}else 2*hu()-i.renderingStartTime>Ek&&r!==536870912&&(e.flags|=128,n=!0,zw(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=hu(),e.sibling=null,t=ha.current,li(ha,n?t&1|2:t&1),e):(yi(e),null);case 22:case 23:return kd(e),TO(),n=e.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?(r&536870912)!==0&&(e.flags&128)===0&&(yi(e),e.subtreeFlags&6&&(e.flags|=8192)):yi(e),r=e.updateQueue,r!==null&&jC(e,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==r&&(e.flags|=2048),t!==null&&Pa(sm),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Dd(fa),yi(e),null;case 25:return null;case 30:return null}throw Error(yt(156,e.tag))}function _5e(t,e){switch(yO(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Dd(fa),Ty(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return uk(e),null;case 13:if(kd(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(yt(340));Cx()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pa(ha),null;case 4:return Ty(),null;case 10:return Dd(e.type),null;case 22:case 23:return kd(e),TO(),t!==null&&Pa(sm),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Dd(fa),null;case 25:return null;default:return null}}function eX(t,e){switch(yO(e),e.tag){case 3:Dd(fa),Ty();break;case 26:case 27:case 5:uk(e);break;case 4:Ty();break;case 13:kd(e);break;case 19:Pa(ha);break;case 10:Dd(e.type);break;case 22:case 23:kd(e),TO(),t!==null&&Pa(sm);break;case 24:Dd(fa)}}function Rx(t,e){try{var r=e.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var i=n.next;r=i;do{if((r.tag&t)===t){n=void 0;var a=r.create,o=r.inst;n=a(),o.destroy=n}r=r.next}while(r!==i)}}catch(s){jn(e,e.return,s)}}function wh(t,e,r){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&t)===t){var o=n.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=e;var l=r,c=s;try{c()}catch(u){jn(i,l,u)}}}n=n.next}while(n!==a)}}catch(u){jn(e,e.return,u)}}function tX(t){var e=t.updateQueue;if(e!==null){var r=t.stateNode;try{s$(e,r)}catch(n){jn(t,t.return,n)}}}function rX(t,e,r){r.props=hm(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(n){jn(t,e,n)}}function ex(t,e){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var n=t.stateNode;break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof r=="function"?t.refCleanup=r(n):r.current=n}}catch(i){jn(t,e,i)}}function du(t,e){var r=t.ref,n=t.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(i){jn(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(i){jn(t,e,i)}else r.current=null}function nX(t){var e=t.type,r=t.memoizedProps,n=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(i){jn(t,t.return,i)}}function KN(t,e,r){try{var n=t.stateNode;j5e(n,t.type,r,e),n[ts]=e}catch(i){jn(t,t.return,i)}}function iX(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Sh(t.type)||t.tag===4}function QN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iX(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Sh(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function HL(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,e):(e=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,e.appendChild(t),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Kk));else if(n!==4&&(n===27&&Sh(t.type)&&(r=t.stateNode,e=null),t=t.child,t!==null))for(HL(t,e,r),t=t.sibling;t!==null;)HL(t,e,r),t=t.sibling}function kk(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(n===27&&Sh(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(kk(t,e,r),t=t.sibling;t!==null;)kk(t,e,r),t=t.sibling}function aX(t){var e=t.stateNode,r=t.memoizedProps;try{for(var n=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Za(e,n,r),e[vo]=t,e[ts]=r}catch(a){jn(t,t.return,a)}}var xd=!1,Ui=!1,JN=!1,jY=typeof WeakSet=="function"?WeakSet:Set,Na=null;function C5e(t,e){if(t=t.containerInfo,YL=Pk,t=GZ(t),hO(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch(m){r=null;break e}var o=0,s=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==r||i!==0&&d.nodeType!==3||(s=o+i),d!==a||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===r&&++c===i&&(s=o),f===a&&++u===n&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ZL={focusedElem:t,selectionRange:r},Pk=!1,Na=e;Na!==null;)if(e=Na,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Na=t;else for(;Na!==null;){switch(e=Na,a=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&a!==null){t=void 0,r=e,i=a.memoizedProps,a=a.memoizedState,n=r.stateNode;try{var p=hm(r.type,i,r.elementType===r.type);t=n.getSnapshotBeforeUpdate(p,a),n.__reactInternalSnapshotBeforeUpdate=t}catch(m){jn(r,r.return,m)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,r=t.nodeType,r===9)XL(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":XL(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(yt(163))}if(t=e.sibling,t!==null){t.return=e.return,Na=t;break}Na=e.return}}function oX(t,e,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:Jf(t,r),n&4&&Rx(5,r);break;case 1:if(Jf(t,r),n&4)if(t=r.stateNode,e===null)try{t.componentDidMount()}catch(o){jn(r,r.return,o)}else{var i=hm(r.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){jn(r,r.return,o)}}n&64&&tX(r),n&512&&ex(r,r.return);break;case 3:if(Jf(t,r),n&64&&(t=r.updateQueue,t!==null)){if(e=null,r.child!==null)switch(r.child.tag){case 27:case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}try{s$(t,e)}catch(o){jn(r,r.return,o)}}break;case 27:e===null&&n&4&&aX(r);case 26:case 5:Jf(t,r),e===null&&n&4&&nX(r),n&512&&ex(r,r.return);break;case 12:Jf(t,r);break;case 13:Jf(t,r),n&4&&cX(t,r),n&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=L5e.bind(null,r),X5e(t,r))));break;case 22:if(n=r.memoizedState!==null||xd,!n){e=e!==null&&e.memoizedState!==null||Ui,i=xd;var a=Ui;xd=n,(Ui=e)&&!a?eh(t,r,(r.subtreeFlags&8772)!==0):Jf(t,r),xd=i,Ui=a}break;case 30:break;default:Jf(t,r)}}function sX(t){var e=t.alternate;e!==null&&(t.alternate=null,sX(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&sO(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var si=null,Jo=!1;function wd(t,e,r){for(r=r.child;r!==null;)lX(t,e,r),r=r.sibling}function lX(t,e,r){if(Ns&&typeof Ns.onCommitFiberUnmount=="function")try{Ns.onCommitFiberUnmount(wx,r)}catch(a){}switch(r.tag){case 26:Ui||du(r,e),wd(t,e,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ui||du(r,e);var n=si,i=Jo;Sh(r.type)&&(si=r.stateNode,Jo=!1),wd(t,e,r),ix(r.stateNode),si=n,Jo=i;break;case 5:Ui||du(r,e);case 6:if(n=si,i=Jo,si=null,wd(t,e,r),si=n,Jo=i,si!==null)if(Jo)try{(si.nodeType===9?si.body:si.nodeName==="HTML"?si.ownerDocument.body:si).removeChild(r.stateNode)}catch(a){jn(r,e,a)}else try{si.removeChild(r.stateNode)}catch(a){jn(r,e,a)}break;case 18:si!==null&&(Jo?(t=si,nZ(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),yx(t)):nZ(si,r.stateNode));break;case 4:n=si,i=Jo,si=r.stateNode.containerInfo,Jo=!0,wd(t,e,r),si=n,Jo=i;break;case 0:case 11:case 14:case 15:Ui||wh(2,r,e),Ui||wh(4,r,e),wd(t,e,r);break;case 1:Ui||(du(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"&&rX(r,e,n)),wd(t,e,r);break;case 21:wd(t,e,r);break;case 22:Ui=(n=Ui)||r.memoizedState!==null,wd(t,e,r),Ui=n;break;default:wd(t,e,r)}}function cX(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yx(t)}catch(r){jn(e,e.return,r)}}function k5e(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new jY),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new jY),e;default:throw Error(yt(435,t.tag))}}function eL(t,e){var r=k5e(t);e.forEach(function(n){var i=O5e.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}function As(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n],a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 27:if(Sh(s.type)){si=s.stateNode,Jo=!1;break e}break;case 5:si=s.stateNode,Jo=!1;break e;case 3:case 4:si=s.stateNode.containerInfo,Jo=!0;break e}s=s.return}if(si===null)throw Error(yt(160));lX(a,o,i),si=null,Jo=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)uX(e,t),e=e.sibling}var yc=null;function uX(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:As(e,t),Ms(t),n&4&&(wh(3,t,t.return),Rx(3,t),wh(5,t,t.return));break;case 1:As(e,t),Ms(t),n&512&&(Ui||r===null||du(r,r.return)),n&64&&xd&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var i=yc;if(As(e,t),Ms(t),n&512&&(Ui||r===null||du(r,r.return)),n&4){var a=r!==null?r.memoizedState:null;if(n=t.memoizedState,r===null)if(n===null)if(t.stateNode===null){e:{n=t.type,r=t.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":a=i.getElementsByTagName("title")[0],(!a||a[Sx]||a[vo]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(n),i.head.insertBefore(a,i.querySelector("head > title"))),Za(a,n,r),a[vo]=t,La(a),n=a;break e;case"link":var o=lZ("link","href",i).get(n+(r.href||""));if(o){for(var s=0;s<o.length;s++)if(a=o[s],a.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&a.getAttribute("rel")===(r.rel==null?null:r.rel)&&a.getAttribute("title")===(r.title==null?null:r.title)&&a.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){o.splice(s,1);break t}}a=i.createElement(n),Za(a,n,r),i.head.appendChild(a);break;case"meta":if(o=lZ("meta","content",i).get(n+(r.content||""))){for(s=0;s<o.length;s++)if(a=o[s],a.getAttribute("content")===(r.content==null?null:""+r.content)&&a.getAttribute("name")===(r.name==null?null:r.name)&&a.getAttribute("property")===(r.property==null?null:r.property)&&a.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&a.getAttribute("charset")===(r.charSet==null?null:r.charSet)){o.splice(s,1);break t}}a=i.createElement(n),Za(a,n,r),i.head.appendChild(a);break;default:throw Error(yt(468,n))}a[vo]=t,La(a),n=a}t.stateNode=n}else cZ(i,t.type,t.stateNode);else t.stateNode=sZ(i,n,t.memoizedProps);else a!==n?(a===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):a.count--,n===null?cZ(i,t.type,t.stateNode):sZ(i,n,t.memoizedProps)):n===null&&t.stateNode!==null&&KN(t,t.memoizedProps,r.memoizedProps)}break;case 27:As(e,t),Ms(t),n&512&&(Ui||r===null||du(r,r.return)),r!==null&&n&4&&KN(t,t.memoizedProps,r.memoizedProps);break;case 5:if(As(e,t),Ms(t),n&512&&(Ui||r===null||du(r,r.return)),t.flags&32){i=t.stateNode;try{_y(i,"")}catch(h){jn(t,t.return,h)}}n&4&&t.stateNode!=null&&(i=t.memoizedProps,KN(t,i,r!==null?r.memoizedProps:i)),n&1024&&(JN=!0);break;case 6:if(As(e,t),Ms(t),n&4){if(t.stateNode===null)throw Error(yt(162));n=t.memoizedProps,r=t.stateNode;try{r.nodeValue=n}catch(h){jn(t,t.return,h)}}break;case 3:if(ok=null,i=yc,yc=Nk(e.containerInfo),As(e,t),yc=i,Ms(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{yx(e.containerInfo)}catch(h){jn(t,t.return,h)}JN&&(JN=!1,dX(t));break;case 4:n=yc,yc=Nk(t.stateNode.containerInfo),As(e,t),Ms(t),yc=n;break;case 12:As(e,t),Ms(t);break;case 13:As(e,t),Ms(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(qO=hu()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,eL(t,n)));break;case 22:i=t.memoizedState!==null;var l=r!==null&&r.memoizedState!==null,c=xd,u=Ui;if(xd=c||i,Ui=u||l,As(e,t),Ui=u,xd=c,Ms(t),n&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(r===null||l||xd||Ui||rm(t)),r=null,e=t;;){if(e.tag===5||e.tag===26){if(r===null){l=r=e;try{if(a=l.stateNode,i)o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=l.stateNode;var d=l.memoizedProps.style,f=d!=null&&d.hasOwnProperty("display")?d.display:null;s.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(h){jn(l,l.return,h)}}}else if(e.tag===6){if(r===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(h){jn(l,l.return,h)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;r===e&&(r=null),e=e.return}r===e&&(r=null),e.sibling.return=e.return,e=e.sibling}n&4&&(n=t.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,eL(t,r))));break;case 19:As(e,t),Ms(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,eL(t,n)));break;case 30:break;case 21:break;default:As(e,t),Ms(t)}}function Ms(t){var e=t.flags;if(e&2){try{for(var r,n=t.return;n!==null;){if(iX(n)){r=n;break}n=n.return}if(r==null)throw Error(yt(160));switch(r.tag){case 27:var i=r.stateNode,a=QN(t);kk(t,a,i);break;case 5:var o=r.stateNode;r.flags&32&&(_y(o,""),r.flags&=-33);var s=QN(t);kk(t,s,o);break;case 3:case 4:var l=r.stateNode.containerInfo,c=QN(t);HL(t,c,l);break;default:throw Error(yt(161))}}catch(u){jn(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dX(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;dX(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Jf(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)oX(t,e.alternate,e),e=e.sibling}function rm(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:wh(4,e,e.return),rm(e);break;case 1:du(e,e.return);var r=e.stateNode;typeof r.componentWillUnmount=="function"&&rX(e,e.return,r),rm(e);break;case 27:ix(e.stateNode);case 26:case 5:du(e,e.return),rm(e);break;case 22:e.memoizedState===null&&rm(e);break;case 30:rm(e);break;default:rm(e)}t=t.sibling}}function eh(t,e,r){for(r=r&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,i=t,a=e,o=a.flags;switch(a.tag){case 0:case 11:case 15:eh(i,a,r),Rx(4,a);break;case 1:if(eh(i,a,r),n=a,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){jn(n,n.return,c)}if(n=a,i=n.updateQueue,i!==null){var s=n.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)o$(l[i],s)}catch(c){jn(n,n.return,c)}}r&&o&64&&tX(a),ex(a,a.return);break;case 27:aX(a);case 26:case 5:eh(i,a,r),r&&n===null&&o&4&&nX(a),ex(a,a.return);break;case 12:eh(i,a,r);break;case 13:eh(i,a,r),r&&o&4&&cX(i,a);break;case 22:a.memoizedState===null&&eh(i,a,r),ex(a,a.return);break;case 30:break;default:eh(i,a,r)}e=e.sibling}}function PO(t,e){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ex(r))}function zO(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ex(t))}function cu(t,e,r,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fX(t,e,r,n),e=e.sibling}function fX(t,e,r,n){var i=e.flags;switch(e.tag){case 0:case 11:case 15:cu(t,e,r,n),i&2048&&Rx(9,e);break;case 1:cu(t,e,r,n);break;case 3:cu(t,e,r,n),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ex(t)));break;case 12:if(i&2048){cu(t,e,r,n),t=e.stateNode;try{var a=e.memoizedProps,o=a.id,s=a.onPostCommit;typeof s=="function"&&s(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){jn(e,e.return,l)}}else cu(t,e,r,n);break;case 13:cu(t,e,r,n);break;case 23:break;case 22:a=e.stateNode,o=e.alternate,e.memoizedState!==null?a._visibility&2?cu(t,e,r,n):tx(t,e):a._visibility&2?cu(t,e,r,n):(a._visibility|=2,ey(t,e,r,n,(e.subtreeFlags&10256)!==0)),i&2048&&PO(o,e);break;case 24:cu(t,e,r,n),i&2048&&zO(e.alternate,e);break;default:cu(t,e,r,n)}}function ey(t,e,r,n,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var a=t,o=e,s=r,l=n,c=o.flags;switch(o.tag){case 0:case 11:case 15:ey(a,o,s,l,i),Rx(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState!==null?u._visibility&2?ey(a,o,s,l,i):tx(a,o):(u._visibility|=2,ey(a,o,s,l,i)),i&&c&2048&&PO(o.alternate,o);break;case 24:ey(a,o,s,l,i),i&&c&2048&&zO(o.alternate,o);break;default:ey(a,o,s,l,i)}e=e.sibling}}function tx(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var r=t,n=e,i=n.flags;switch(n.tag){case 22:tx(r,n),i&2048&&PO(n.alternate,n);break;case 24:tx(r,n),i&2048&&zO(n.alternate,n);break;default:tx(r,n)}e=e.sibling}}var Vw=8192;function Kg(t){if(t.subtreeFlags&Vw)for(t=t.child;t!==null;)hX(t),t=t.sibling}function hX(t){switch(t.tag){case 26:Kg(t),t.flags&Vw&&t.memoizedState!==null&&cRe(yc,t.memoizedState,t.memoizedProps);break;case 5:Kg(t);break;case 3:case 4:var e=yc;yc=Nk(t.stateNode.containerInfo),Kg(t),yc=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Vw,Vw=16777216,Kg(t),Vw=e):Kg(t));break;default:Kg(t)}}function pX(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Fw(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var r=0;r<e.length;r++){var n=e[r];Na=n,vX(n,t)}pX(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)mX(t),t=t.sibling}function mX(t){switch(t.tag){case 0:case 11:case 15:Fw(t),t.flags&2048&&wh(9,t,t.return);break;case 3:Fw(t);break;case 12:Fw(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,ik(t)):Fw(t);break;default:Fw(t)}}function ik(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var r=0;r<e.length;r++){var n=e[r];Na=n,vX(n,t)}pX(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:wh(8,e,e.return),ik(e);break;case 22:r=e.stateNode,r._visibility&2&&(r._visibility&=-3,ik(e));break;default:ik(e)}t=t.sibling}}function vX(t,e){for(;Na!==null;){var r=Na;switch(r.tag){case 0:case 11:case 15:wh(8,r,e);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Ex(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,Na=n;else e:for(r=t;Na!==null;){n=Na;var i=n.sibling,a=n.return;if(sX(n),n===r){Na=null;break e}if(i!==null){i.return=a,Na=i;break e}Na=a}}}var E5e={getCacheForType:function(t){var e=go(fa),r=e.data.get(t);return r===void 0&&(r=t(),e.data.set(t,r)),r}},D5e=typeof WeakMap=="function"?WeakMap:Map,Nn=0,Gn=null,tn=null,mn=0,In=0,Rs=null,ch=!1,Py=!1,FO=!1,Id=0,Ai=0,xh=0,lm=0,HO=0,Tl=0,Ay=0,rx=null,es=null,qL=!1,qO=0,Ek=1/0,Dk=null,ph=null,Ya=0,mh=null,My=null,xy=0,UL=0,BL=null,gX=null,nx=0,jL=null;function Os(){if((Nn&2)!==0&&mn!==0)return mn&-mn;if(Er.T!==null){var t=Cy;return t!==0?t:BO()}return DZ()}function yX(){Tl===0&&(Tl=(mn&536870912)===0||Cn?_Z():536870912);var t=Sl.current;return t!==null&&(t.flags|=32),Tl}function Ps(t,e,r){(t===Gn&&(In===2||In===9)||t.cancelPendingCommit!==null)&&(Ry(t,0),uh(t,mn,Tl,!1)),Tx(t,r),((Nn&2)===0||t!==Gn)&&(t===Gn&&((Nn&2)===0&&(lm|=r),Ai===4&&uh(t,mn,Tl,!1)),vu(t))}function bX(t,e,r){if((Nn&6)!==0)throw Error(yt(327));var n=!r&&(e&124)===0&&(e&t.expiredLanes)===0||xx(t,e),i=n?R5e(t,e):tL(t,e,!0),a=n;do{if(i===0){Py&&!n&&uh(t,e,0,!1);break}else{if(r=t.current.alternate,a&&!A5e(r)){i=tL(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;e:{var s=t;i=rx;var l=s.current.memoizedState.isDehydrated;if(l&&(Ry(s,o).flags|=256),o=tL(s,o,!1),o!==2){if(FO&&!l){s.errorRecoveryDisabledLanes|=a,lm|=a,i=4;break e}a=es,es=i,a!==null&&(es===null?es=a:es.push.apply(es,a))}i=o}if(a=!1,i!==2)continue}}if(i===1){Ry(t,0),uh(t,e,0,!0);break}e:{switch(n=t,a=i,a){case 0:case 1:throw Error(yt(345));case 4:if((e&4194048)!==e)break;case 6:uh(n,e,Tl,!ch);break e;case 2:es=null;break;case 3:case 5:break;default:throw Error(yt(329))}if((e&62914560)===e&&(i=qO+300-hu(),10<i)){if(uh(n,e,Tl,!ch),Fk(n,0,!0)!==0)break e;n.timeoutHandle=FX(VY.bind(null,n,r,es,Dk,qL,e,Tl,lm,Ay,ch,a,2,-0,0),i);break e}VY(n,r,es,Dk,qL,e,Tl,lm,Ay,ch,a,0,-0,0)}}break}while(!0);vu(t)}function VY(t,e,r,n,i,a,o,s,l,c,u,d,f,h){if(t.timeoutHandle=-1,d=e.subtreeFlags,(d&8192||(d&16785408)===16785408)&&(px={stylesheets:null,count:0,unsuspend:lRe},hX(e),d=uRe(),d!==null)){t.cancelPendingCommit=d(GY.bind(null,t,e,a,r,n,i,o,s,l,u,1,f,h)),uh(t,a,o,!c);return}GY(t,e,a,r,n,i,o,s,l)}function A5e(t){for(var e=t;;){var r=e.tag;if((r===0||r===11||r===15)&&e.flags&16384&&(r=e.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!zs(a(),i))return!1}catch(o){return!1}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function uh(t,e,r,n){e&=~HO,e&=~lm,t.suspendedLanes|=e,t.pingedLanes&=~e,n&&(t.warmLanes|=e),n=t.expirationTimes;for(var i=e;0<i;){var a=31-Ls(i),o=1<<a;n[a]=-1,i&=~o}r!==0&&kZ(t,r,e)}function Zk(){return(Nn&6)===0?(Ix(0,!1),!1):!0}function UO(){if(tn!==null){if(In===0)var t=tn.return;else t=tn,Cd=gm=null,EO(t),wy=null,dx=0,t=tn;for(;t!==null;)eX(t.alternate,t),t=t.return;tn=null}}function Ry(t,e){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,W5e(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),UO(),Gn=t,tn=r=Ed(t.current,null),mn=e,In=0,Rs=null,ch=!1,Py=xx(t,e),FO=!1,Ay=Tl=HO=lm=xh=Ai=0,es=rx=null,qL=!1,(e&8)!==0&&(e|=e&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=e;0<n;){var i=31-Ls(n),a=1<<i;e|=t[i],n&=~a}return Id=e,Bk(),r}function wX(t,e){Gr=null,Er.H=xk,e===Dx||e===Vk?(e=TY(),In=3):e===i$?(e=TY(),In=4):In=e===Z$?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Rs=e,tn===null&&(Ai=1,_k(t,xl(e,t.current)))}function xX(){var t=Er.H;return Er.H=xk,t===null?xk:t}function TX(){var t=Er.A;return Er.A=E5e,t}function VL(){Ai=4,ch||(mn&4194048)!==mn&&Sl.current!==null||(Py=!0),(xh&134217727)===0&&(lm&134217727)===0||Gn===null||uh(Gn,mn,Tl,!1)}function tL(t,e,r){var n=Nn;Nn|=2;var i=xX(),a=TX();(Gn!==t||mn!==e)&&(Dk=null,Ry(t,e)),e=!1;var o=Ai;e:do try{if(In!==0&&tn!==null){var s=tn,l=Rs;switch(In){case 8:UO(),o=6;break e;case 3:case 2:case 9:case 6:Sl.current===null&&(e=!0);var c=In;if(In=0,Rs=null,hy(t,s,l,c),r&&Py){o=0;break e}break;default:c=In,In=0,Rs=null,hy(t,s,l,c)}}M5e(),o=Ai;break}catch(u){wX(t,u)}while(!0);return e&&t.shellSuspendCounter++,Cd=gm=null,Nn=n,Er.H=i,Er.A=a,tn===null&&(Gn=null,mn=0,Bk()),o}function M5e(){for(;tn!==null;)SX(tn)}function R5e(t,e){var r=Nn;Nn|=2;var n=xX(),i=TX();Gn!==t||mn!==e?(Dk=null,Ek=hu()+500,Ry(t,e)):Py=xx(t,e);e:do try{if(In!==0&&tn!==null){e=tn;var a=Rs;t:switch(In){case 1:In=0,Rs=null,hy(t,e,a,1);break;case 2:case 9:if(xY(a)){In=0,Rs=null,WY(e);break}e=function(){In!==2&&In!==9||Gn!==t||(In=7),vu(t)},a.then(e,e);break e;case 3:In=7;break e;case 4:In=5;break e;case 7:xY(a)?(In=0,Rs=null,WY(e)):(In=0,Rs=null,hy(t,e,a,7));break;case 5:var o=null;switch(tn.tag){case 26:o=tn.memoizedState;case 5:case 27:var s=tn;if(!o||BX(o)){In=0,Rs=null;var l=s.sibling;if(l!==null)tn=l;else{var c=s.return;c!==null?(tn=c,$k(c)):tn=null}break t}}In=0,Rs=null,hy(t,e,a,5);break;case 6:In=0,Rs=null,hy(t,e,a,6);break;case 8:UO(),Ai=6;break e;default:throw Error(yt(462))}}I5e();break}catch(u){wX(t,u)}while(!0);return Cd=gm=null,Er.H=n,Er.A=i,Nn=r,tn!==null?0:(Gn=null,mn=0,Bk(),Ai)}function I5e(){for(;tn!==null&&!e3e();)SX(tn)}function SX(t){var e=J$(t.alternate,t,Id);t.memoizedProps=t.pendingProps,e===null?$k(t):tn=e}function WY(t){var e=t,r=e.alternate;switch(e.tag){case 15:case 0:e=FY(r,e,e.pendingProps,e.type,void 0,mn);break;case 11:e=FY(r,e,e.pendingProps,e.type.render,e.ref,mn);break;case 5:EO(e);default:eX(r,e),e=tn=e$(e,Id),e=J$(r,e,Id)}t.memoizedProps=t.pendingProps,e===null?$k(t):tn=e}function hy(t,e,r,n){Cd=gm=null,EO(e),wy=null,dx=0;var i=e.return;try{if(x5e(t,i,e,r,mn)){Ai=1,_k(t,xl(r,t.current)),tn=null;return}}catch(a){if(i!==null)throw tn=i,a;Ai=1,_k(t,xl(r,t.current)),tn=null;return}e.flags&32768?(Cn||n===1?t=!0:Py||(mn&536870912)!==0?t=!1:(ch=t=!0,(n===2||n===9||n===3||n===6)&&(n=Sl.current,n!==null&&n.tag===13&&(n.flags|=16384))),_X(e,t)):$k(e)}function $k(t){var e=t;do{if((e.flags&32768)!==0){_X(e,ch);return}t=e.return;var r=S5e(e.alternate,e,Id);if(r!==null){tn=r;return}if(e=e.sibling,e!==null){tn=e;return}tn=e=t}while(e!==null);Ai===0&&(Ai=5)}function _X(t,e){do{var r=_5e(t.alternate,t);if(r!==null){r.flags&=32767,tn=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!e&&(t=t.sibling,t!==null)){tn=t;return}tn=t=r}while(t!==null);Ai=6,tn=null}function GY(t,e,r,n,i,a,o,s,l){t.cancelPendingCommit=null;do Xk();while(Ya!==0);if((Nn&6)!==0)throw Error(yt(327));if(e!==null){if(e===t.current)throw Error(yt(177));if(a=e.lanes|e.childLanes,a|=pO,u3e(t,r,a,o,s,l),t===Gn&&(tn=Gn=null,mn=0),My=e,mh=t,xy=r,UL=a,BL=i,gX=n,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,P5e(dk,function(){return AX(!0),null})):(t.callbackNode=null,t.callbackPriority=0),n=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||n){n=Er.T,Er.T=null,i=kn.p,kn.p=2,o=Nn,Nn|=4;try{C5e(t,e,r)}finally{Nn=o,kn.p=i,Er.T=n}}Ya=1,CX(),kX(),EX()}}function CX(){if(Ya===1){Ya=0;var t=mh,e=My,r=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||r){r=Er.T,Er.T=null;var n=kn.p;kn.p=2;var i=Nn;Nn|=4;try{uX(e,t);var a=ZL,o=GZ(t.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&WZ(s.ownerDocument.documentElement,s)){if(l!==null&&hO(s)){var c=l.start,u=l.end;if(u===void 0&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var h=f.getSelection(),p=s.textContent.length,m=Math.min(l.start,p),v=l.end===void 0?m:Math.min(l.end,p);!h.extend&&m>v&&(o=v,v=m,m=o);var y=hY(s,m),b=hY(s,v);if(y&&b&&(h.rangeCount!==1||h.anchorNode!==y.node||h.anchorOffset!==y.offset||h.focusNode!==b.node||h.focusOffset!==b.offset)){var x=d.createRange();x.setStart(y.node,y.offset),h.removeAllRanges(),m>v?(h.addRange(x),h.extend(b.node,b.offset)):(x.setEnd(b.node,b.offset),h.addRange(x))}}}}for(d=[],h=s;h=h.parentNode;)h.nodeType===1&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<d.length;s++){var w=d[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}Pk=!!YL,ZL=YL=null}finally{Nn=i,kn.p=n,Er.T=r}}t.current=e,Ya=2}}function kX(){if(Ya===2){Ya=0;var t=mh,e=My,r=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||r){r=Er.T,Er.T=null;var n=kn.p;kn.p=2;var i=Nn;Nn|=4;try{oX(t,e.alternate,e)}finally{Nn=i,kn.p=n,Er.T=r}}Ya=3}}function EX(){if(Ya===4||Ya===3){Ya=0,t3e();var t=mh,e=My,r=xy,n=gX;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ya=5:(Ya=0,My=mh=null,DX(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(ph=null),oO(r),e=e.stateNode,Ns&&typeof Ns.onCommitFiberRoot=="function")try{Ns.onCommitFiberRoot(wx,e,void 0,(e.current.flags&128)===128)}catch(l){}if(n!==null){e=Er.T,i=kn.p,kn.p=2,Er.T=null;try{for(var a=t.onRecoverableError,o=0;o<n.length;o++){var s=n[o];a(s.value,{componentStack:s.stack})}}finally{Er.T=e,kn.p=i}}(xy&3)!==0&&Xk(),vu(t),i=t.pendingLanes,(r&4194090)!==0&&(i&42)!==0?t===jL?nx++:(nx=0,jL=t):nx=0,Ix(0,!1)}}function DX(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ex(e)))}function Xk(t){return CX(),kX(),EX(),AX(t)}function AX(){if(Ya!==5)return!1;var t=mh,e=UL;UL=0;var r=oO(xy),n=Er.T,i=kn.p;try{kn.p=32>r?32:r,Er.T=null,r=BL,BL=null;var a=mh,o=xy;if(Ya=0,My=mh=null,xy=0,(Nn&6)!==0)throw Error(yt(331));var s=Nn;if(Nn|=4,mX(a.current),fX(a,a.current,o,r),Nn=s,Ix(0,!1),Ns&&typeof Ns.onPostCommitFiberRoot=="function")try{Ns.onPostCommitFiberRoot(wx,a)}catch(l){}return!0}finally{kn.p=i,Er.T=n,DX(t,e)}}function YY(t,e,r){e=xl(r,e),e=PL(t.stateNode,e,2),t=hh(t,e,2),t!==null&&(Tx(t,2),vu(t))}function jn(t,e,r){if(t.tag===3)YY(t,t,r);else for(;e!==null;){if(e.tag===3){YY(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ph===null||!ph.has(n))){t=xl(r,t),r=G$(2),n=hh(e,r,2),n!==null&&(Y$(r,n,e,t),Tx(n,2),vu(n));break}}e=e.return}}function rL(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new D5e;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(FO=!0,i.add(r),t=N5e.bind(null,t,e,r),e.then(t,t))}function N5e(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Gn===t&&(mn&r)===r&&(Ai===4||Ai===3&&(mn&62914560)===mn&&300>hu()-qO?(Nn&2)===0&&Ry(t,0):HO|=r,Ay===mn&&(Ay=0)),vu(t)}function MX(t,e){e===0&&(e=CZ()),t=Oy(t,e),t!==null&&(Tx(t,e),vu(t))}function L5e(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),MX(t,r)}function O5e(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(yt(314))}n!==null&&n.delete(e),MX(t,r)}function P5e(t,e){return iO(t,e)}var Ak=null,ty=null,WL=!1,Mk=!1,nL=!1,cm=0;function vu(t){t!==ty&&t.next===null&&(ty===null?Ak=ty=t:ty=ty.next=t),Mk=!0,WL||(WL=!0,F5e())}function Ix(t,e){if(!nL&&Mk){nL=!0;do for(var r=!1,n=Ak;n!==null;){if(!e)if(t!==0){var i=n.pendingLanes;if(i===0)var a=0;else{var o=n.suspendedLanes,s=n.pingedLanes;a=(1<<31-Ls(42|t)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(r=!0,ZY(n,a))}else a=mn,a=Fk(n,n===Gn?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(a&3)===0||xx(n,a)||(r=!0,ZY(n,a));n=n.next}while(r);nL=!1}}function z5e(){RX()}function RX(){Mk=WL=!1;var t=0;cm!==0&&(V5e()&&(t=cm),cm=0);for(var e=hu(),r=null,n=Ak;n!==null;){var i=n.next,a=IX(n,e);a===0?(n.next=null,r===null?Ak=i:r.next=i,i===null&&(ty=r)):(r=n,(t!==0||(a&3)!==0)&&(Mk=!0)),n=i}Ix(t,!1)}function IX(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var o=31-Ls(a),s=1<<o,l=i[o];l===-1?((s&r)===0||(s&n)!==0)&&(i[o]=c3e(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}if(e=Gn,r=mn,r=Fk(t,t===e?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n=t.callbackNode,r===0||t===e&&(In===2||In===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&MN(n),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||xx(t,r)){if(e=r&-r,e===t.callbackPriority)return e;switch(n!==null&&MN(n),oO(r)){case 2:case 8:r=TZ;break;case 32:r=dk;break;case 268435456:r=SZ;break;default:r=dk}return n=NX.bind(null,t),r=iO(r,n),t.callbackPriority=e,t.callbackNode=r,e}return n!==null&&n!==null&&MN(n),t.callbackPriority=2,t.callbackNode=null,2}function NX(t,e){if(Ya!==0&&Ya!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Xk(!0)&&t.callbackNode!==r)return null;var n=mn;return n=Fk(t,t===Gn?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n===0?null:(bX(t,n,e),IX(t,hu()),t.callbackNode!=null&&t.callbackNode===r?NX.bind(null,t):null)}function ZY(t,e){if(Xk())return null;bX(t,e,!0)}function F5e(){G5e(function(){(Nn&6)!==0?iO(xZ,z5e):RX()})}function BO(){return cm===0&&(cm=_Z()),cm}function $Y(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:XC(""+t)}function XY(t,e){var r=e.ownerDocument.createElement("input");return r.name=e.name,r.value=e.value,t.id&&r.setAttribute("form",t.id),e.parentNode.insertBefore(r,e),t=new FormData(t),r.parentNode.removeChild(r),t}function H5e(t,e,r,n,i){if(e==="submit"&&r&&r.stateNode===i){var a=$Y((i[ts]||null).action),o=n.submitter;o&&(e=(e=o[ts]||null)?$Y(e.formAction):o.getAttribute("formAction"),e!==null&&(a=e,o=null));var s=new Hk("action","action",null,n,i);t.push({event:s,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(cm!==0){var l=o?XY(i,o):new FormData(i);LL(r,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(s.preventDefault(),l=o?XY(i,o):new FormData(i),LL(r,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(VC=0;VC<TL.length;VC++)WC=TL[VC],KY=WC.toLowerCase(),QY=WC[0].toUpperCase()+WC.slice(1),wc(KY,"on"+QY);var WC,KY,QY,VC;wc(ZZ,"onAnimationEnd");wc($Z,"onAnimationIteration");wc(XZ,"onAnimationStart");wc("dblclick","onDoubleClick");wc("focusin","onFocus");wc("focusout","onBlur");wc(i5e,"onTransitionRun");wc(a5e,"onTransitionStart");wc(o5e,"onTransitionCancel");wc(KZ,"onTransitionEnd");Sy("onMouseEnter",["mouseout","mouseover"]);Sy("onMouseLeave",["mouseout","mouseover"]);Sy("onPointerEnter",["pointerout","pointerover"]);Sy("onPointerLeave",["pointerout","pointerover"]);pm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pm("onBeforeInput",["compositionend","keypress","textInput","paste"]);pm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q5e=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fx));function LX(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){Sk(u)}i.currentTarget=null,a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){Sk(u)}i.currentTarget=null,a=l}}}}function en(t,e){var r=e[mL];r===void 0&&(r=e[mL]=new Set);var n=t+"__bubble";r.has(n)||(OX(e,t,2,!1),r.add(n))}function iL(t,e,r){var n=0;e&&(n|=4),OX(r,t,n,e)}var GC="_reactListening"+Math.random().toString(36).slice(2);function jO(t){if(!t[GC]){t[GC]=!0,AZ.forEach(function(r){r!=="selectionchange"&&(q5e.has(r)||iL(r,!1,t),iL(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[GC]||(e[GC]=!0,iL("selectionchange",!1,e))}}function OX(t,e,r,n){switch(YX(e)){case 2:var i=hRe;break;case 8:i=pRe;break;default:i=YO}r=i.bind(null,e,r,t),i=void 0,!bL||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function aL(t,e,r,n,i){var a=n;if((e&1)===0&&(e&2)===0&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;s!==null;){if(o=iy(s),o===null)return;if(l=o.tag,l===5||l===6||l===26||l===27){n=a=o;continue e}s=s.parentNode}}n=n.return}zZ(function(){var c=a,u=cO(r),d=[];e:{var f=QZ.get(t);if(f!==void 0){var h=Hk,p=t;switch(t){case"keypress":if(QC(r)===0)break e;case"keydown":case"keyup":h=P3e;break;case"focusin":p="focus",h=FN;break;case"focusout":p="blur",h=FN;break;case"beforeblur":case"afterblur":h=FN;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=iY;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=_3e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=H3e;break;case ZZ:case $Z:case XZ:h=E3e;break;case KZ:h=U3e;break;case"scroll":case"scrollend":h=T3e;break;case"wheel":h=j3e;break;case"copy":case"cut":case"paste":h=A3e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=oY;break;case"toggle":case"beforetoggle":h=W3e}var m=(e&4)!==0,v=!m&&(t==="scroll"||t==="scrollend"),y=m?f!==null?f+"Capture":null:f;m=[];for(var b=c,x;b!==null;){var w=b;if(x=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||x===null||y===null||(w=ox(b,y),w!=null&&m.push(hx(b,w,x))),v)break;b=b.return}0<m.length&&(f=new h(f,p,null,r,u),d.push({event:f,listeners:m}))}}if((e&7)===0){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&r!==yL&&(p=r.relatedTarget||r.fromElement)&&(iy(p)||p[Ny]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=c,p=p?iy(p):null,p!==null&&(v=bx(p),m=p.tag,p!==v||m!==5&&m!==27&&m!==6)&&(p=null)):(h=null,p=c),h!==p)){if(m=iY,w="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(m=oY,w="onPointerLeave",y="onPointerEnter",b="pointer"),v=h==null?f:jw(h),x=p==null?f:jw(p),f=new m(w,b+"leave",h,r,u),f.target=v,f.relatedTarget=x,w=null,iy(u)===c&&(m=new m(y,b+"enter",p,r,u),m.target=x,m.relatedTarget=v,w=m),v=w,h&&p)t:{for(m=h,y=p,b=0,x=m;x;x=Qg(x))b++;for(x=0,w=y;w;w=Qg(w))x++;for(;0<b-x;)m=Qg(m),b--;for(;0<x-b;)y=Qg(y),x--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break t;m=Qg(m),y=Qg(y)}m=null}else m=null;h!==null&&JY(d,f,h,m,!1),p!==null&&v!==null&&JY(d,v,p,m,!0)}}e:{if(f=c?jw(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var S=uY;else if(cY(f))if(jZ)S=t5e;else{S=J3e;var _=Q3e}else h=f.nodeName,!h||h.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?c&&lO(c.elementType)&&(S=uY):S=e5e;if(S&&(S=S(t,c))){BZ(d,S,r,u);break e}_&&_(t,f,c),t==="focusout"&&c&&f.type==="number"&&c.memoizedProps.value!=null&&gL(f,"number",f.value)}switch(_=c?jw(c):window,t){case"focusin":(cY(_)||_.contentEditable==="true")&&(sy=_,wL=c,Yw=null);break;case"focusout":Yw=wL=sy=null;break;case"mousedown":xL=!0;break;case"contextmenu":case"mouseup":case"dragend":xL=!1,pY(d,r,u);break;case"selectionchange":if(n5e)break;case"keydown":case"keyup":pY(d,r,u)}var C;if(fO)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else oy?qZ(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(HZ&&r.locale!=="ko"&&(oy||E!=="onCompositionStart"?E==="onCompositionEnd"&&oy&&(C=FZ()):(lh=u,uO="value"in lh?lh.value:lh.textContent,oy=!0)),_=Rk(c,E),0<_.length&&(E=new aY(E,t,null,r,u),d.push({event:E,listeners:_}),C?E.data=C:(C=UZ(r),C!==null&&(E.data=C)))),(C=Y3e?Z3e(t,r):$3e(t,r))&&(E=Rk(c,"onBeforeInput"),0<E.length&&(_=new aY("onBeforeInput","beforeinput",null,r,u),d.push({event:_,listeners:E}),_.data=C)),H5e(d,t,c,r,u)}LX(d,e)})}function hx(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Rk(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=ox(t,r),i!=null&&n.unshift(hx(t,i,a)),i=ox(t,e),i!=null&&n.push(hx(t,i,a))),t.tag===3)return n;t=t.return}return[]}function Qg(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function JY(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(s=s.tag,l!==null&&l===n)break;s!==5&&s!==26&&s!==27||c===null||(l=c,i?(c=ox(r,a),c!=null&&o.unshift(hx(r,c,l))):i||(c=ox(r,a),c!=null&&o.push(hx(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var U5e=/\r\n?/g,B5e=/\u0000|\uFFFD/g;function eZ(t){return(typeof t=="string"?t:""+t).replace(U5e,`
`).replace(B5e,"")}function PX(t,e){return e=eZ(e),eZ(t)===e}function Kk(){}function Fn(t,e,r,n,i,a){switch(r){case"children":typeof n=="string"?e==="body"||e==="textarea"&&n===""||_y(t,n):(typeof n=="number"||typeof n=="bigint")&&e!=="body"&&_y(t,""+n);break;case"className":OC(t,"class",n);break;case"tabIndex":OC(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":OC(t,r,n);break;case"style":PZ(t,n,a);break;case"data":if(e!=="object"){OC(t,"data",n);break}case"src":case"href":if(n===""&&(e!=="a"||r!=="href")){t.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(r);break}n=XC(""+n),t.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(r==="formAction"?(e!=="input"&&Fn(t,e,"name",i.name,i,null),Fn(t,e,"formEncType",i.formEncType,i,null),Fn(t,e,"formMethod",i.formMethod,i,null),Fn(t,e,"formTarget",i.formTarget,i,null)):(Fn(t,e,"encType",i.encType,i,null),Fn(t,e,"method",i.method,i,null),Fn(t,e,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(r);break}n=XC(""+n),t.setAttribute(r,n);break;case"onClick":n!=null&&(t.onclick=Kk);break;case"onScroll":n!=null&&en("scroll",t);break;case"onScrollEnd":n!=null&&en("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(yt(61));if(r=n.__html,r!=null){if(i.children!=null)throw Error(yt(60));t.innerHTML=r}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}r=XC(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,""+n):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":n===!0?t.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,n):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(r,n):t.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(r):t.setAttribute(r,n);break;case"popover":en("beforetoggle",t),en("toggle",t),$C(t,"popover",n);break;case"xlinkActuate":yd(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":yd(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":yd(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":yd(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":yd(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":yd(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":yd(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":yd(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":yd(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":$C(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=w3e.get(r)||r,$C(t,r,n))}}function GL(t,e,r,n,i,a){switch(r){case"style":PZ(t,n,a);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(yt(61));if(r=n.__html,r!=null){if(i.children!=null)throw Error(yt(60));t.innerHTML=r}}break;case"children":typeof n=="string"?_y(t,n):(typeof n=="number"||typeof n=="bigint")&&_y(t,""+n);break;case"onScroll":n!=null&&en("scroll",t);break;case"onScrollEnd":n!=null&&en("scrollend",t);break;case"onClick":n!=null&&(t.onclick=Kk);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!MZ.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(i=r.endsWith("Capture"),e=r.slice(2,i?r.length-7:void 0),a=t[ts]||null,a=a!=null?a[r]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof n=="function")){typeof a!="function"&&a!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(e,n,i);break e}r in t?t[r]=n:n===!0?t.setAttribute(r,""):$C(t,r,n)}}}function Za(t,e,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":en("error",t),en("load",t);var n=!1,i=!1,a;for(a in r)if(r.hasOwnProperty(a)){var o=r[a];if(o!=null)switch(a){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(yt(137,e));default:Fn(t,e,a,o,r,null)}}i&&Fn(t,e,"srcSet",r.srcSet,r,null),n&&Fn(t,e,"src",r.src,r,null);return;case"input":en("invalid",t);var s=a=o=i=null,l=null,c=null;for(n in r)if(r.hasOwnProperty(n)){var u=r[n];if(u!=null)switch(n){case"name":i=u;break;case"type":o=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":a=u;break;case"defaultValue":s=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(yt(137,e));break;default:Fn(t,e,n,u,r,null)}}NZ(t,a,s,l,c,o,i,!1),fk(t);return;case"select":en("invalid",t),n=o=a=null;for(i in r)if(r.hasOwnProperty(i)&&(s=r[i],s!=null))switch(i){case"value":a=s;break;case"defaultValue":o=s;break;case"multiple":n=s;default:Fn(t,e,i,s,r,null)}e=a,r=o,t.multiple=!!n,e!=null?my(t,!!n,e,!1):r!=null&&my(t,!!n,r,!0);return;case"textarea":en("invalid",t),a=i=n=null;for(o in r)if(r.hasOwnProperty(o)&&(s=r[o],s!=null))switch(o){case"value":n=s;break;case"defaultValue":i=s;break;case"children":a=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(yt(91));break;default:Fn(t,e,o,s,r,null)}OZ(t,n,i,a),fk(t);return;case"option":for(l in r)if(r.hasOwnProperty(l)&&(n=r[l],n!=null))switch(l){case"selected":t.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Fn(t,e,l,n,r,null)}return;case"dialog":en("beforetoggle",t),en("toggle",t),en("cancel",t),en("close",t);break;case"iframe":case"object":en("load",t);break;case"video":case"audio":for(n=0;n<fx.length;n++)en(fx[n],t);break;case"image":en("error",t),en("load",t);break;case"details":en("toggle",t);break;case"embed":case"source":case"link":en("error",t),en("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in r)if(r.hasOwnProperty(c)&&(n=r[c],n!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(yt(137,e));default:Fn(t,e,c,n,r,null)}return;default:if(lO(e)){for(u in r)r.hasOwnProperty(u)&&(n=r[u],n!==void 0&&GL(t,e,u,n,r,void 0));return}}for(s in r)r.hasOwnProperty(s)&&(n=r[s],n!=null&&Fn(t,e,s,n,r,null))}function j5e(t,e,r,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,s=null,l=null,c=null,u=null;for(h in r){var d=r[h];if(r.hasOwnProperty(h)&&d!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":l=d;default:n.hasOwnProperty(h)||Fn(t,e,h,null,n,d)}}for(var f in n){var h=n[f];if(d=r[f],n.hasOwnProperty(f)&&(h!=null||d!=null))switch(f){case"type":a=h;break;case"name":i=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":o=h;break;case"defaultValue":s=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(yt(137,e));break;default:h!==d&&Fn(t,e,f,h,n,d)}}vL(t,o,s,l,c,u,a,i);return;case"select":h=o=s=f=null;for(a in r)if(l=r[a],r.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":h=l;default:n.hasOwnProperty(a)||Fn(t,e,a,null,n,l)}for(i in n)if(a=n[i],l=r[i],n.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":f=a;break;case"defaultValue":s=a;break;case"multiple":o=a;default:a!==l&&Fn(t,e,i,a,n,l)}e=s,r=o,n=h,f!=null?my(t,!!r,f,!1):!!n!=!!r&&(e!=null?my(t,!!r,e,!0):my(t,!!r,r?[]:"",!1));return;case"textarea":h=f=null;for(s in r)if(i=r[s],r.hasOwnProperty(s)&&i!=null&&!n.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:Fn(t,e,s,null,n,i)}for(o in n)if(i=n[o],a=r[o],n.hasOwnProperty(o)&&(i!=null||a!=null))switch(o){case"value":f=i;break;case"defaultValue":h=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(yt(91));break;default:i!==a&&Fn(t,e,o,i,n,a)}LZ(t,f,h);return;case"option":for(var p in r)if(f=r[p],r.hasOwnProperty(p)&&f!=null&&!n.hasOwnProperty(p))switch(p){case"selected":t.selected=!1;break;default:Fn(t,e,p,null,n,f)}for(l in n)if(f=n[l],h=r[l],n.hasOwnProperty(l)&&f!==h&&(f!=null||h!=null))switch(l){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Fn(t,e,l,f,n,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in r)f=r[m],r.hasOwnProperty(m)&&f!=null&&!n.hasOwnProperty(m)&&Fn(t,e,m,null,n,f);for(c in n)if(f=n[c],h=r[c],n.hasOwnProperty(c)&&f!==h&&(f!=null||h!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(yt(137,e));break;default:Fn(t,e,c,f,n,h)}return;default:if(lO(e)){for(var v in r)f=r[v],r.hasOwnProperty(v)&&f!==void 0&&!n.hasOwnProperty(v)&&GL(t,e,v,void 0,n,f);for(u in n)f=n[u],h=r[u],!n.hasOwnProperty(u)||f===h||f===void 0&&h===void 0||GL(t,e,u,f,n,h);return}}for(var y in r)f=r[y],r.hasOwnProperty(y)&&f!=null&&!n.hasOwnProperty(y)&&Fn(t,e,y,null,n,f);for(d in n)f=n[d],h=r[d],!n.hasOwnProperty(d)||f===h||f==null&&h==null||Fn(t,e,d,f,n,h)}var YL=null,ZL=null;function Ik(t){return t.nodeType===9?t:t.ownerDocument}function tZ(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zX(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function $L(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var oL=null;function V5e(){var t=window.event;return t&&t.type==="popstate"?t===oL?!1:(oL=t,!0):(oL=null,!1)}var FX=typeof setTimeout=="function"?setTimeout:void 0,W5e=typeof clearTimeout=="function"?clearTimeout:void 0,rZ=typeof Promise=="function"?Promise:void 0,G5e=typeof queueMicrotask=="function"?queueMicrotask:typeof rZ!="undefined"?function(t){return rZ.resolve(null).then(t).catch(Y5e)}:FX;function Y5e(t){setTimeout(function(){throw t})}function Sh(t){return t==="head"}function nZ(t,e){var r=e,n=0,i=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(0<n&&8>n){r=n;var o=t.ownerDocument;if(r&1&&ix(o.documentElement),r&2&&ix(o.body),r&4)for(r=o.head,ix(r),o=r.firstChild;o;){var s=o.nextSibling,l=o.nodeName;o[Sx]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&o.rel.toLowerCase()==="stylesheet"||r.removeChild(o),o=s}}if(i===0){t.removeChild(a),yx(e);return}i--}else r==="$"||r==="$?"||r==="$!"?i++:n=r.charCodeAt(0)-48;else n=0;r=a}while(r);yx(e)}function XL(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var r=e;switch(e=e.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":XL(r),sO(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Z5e(t,e,r,n){for(;t.nodeType===1;){var i=r;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[Sx])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=bc(t.nextSibling),t===null)break}return null}function $5e(t,e,r){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=bc(t.nextSibling),t===null))return null;return t}function KL(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function X5e(t,e){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")e();else{var n=function(){e(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),t._reactRetry=n}}function bc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var QL=null;function iZ(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}function HX(t,e,r){switch(e=Ik(r),t){case"html":if(t=e.documentElement,!t)throw Error(yt(452));return t;case"head":if(t=e.head,!t)throw Error(yt(453));return t;case"body":if(t=e.body,!t)throw Error(yt(454));return t;default:throw Error(yt(451))}}function ix(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);sO(t)}var _l=new Map,aZ=new Set;function Nk(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Nd=kn.d;kn.d={f:K5e,r:Q5e,D:J5e,C:eRe,L:tRe,m:rRe,X:iRe,S:nRe,M:aRe};function K5e(){var t=Nd.f(),e=Zk();return t||e}function Q5e(t){var e=Ly(t);e!==null&&e.tag===5&&e.type==="form"?I$(e):Nd.r(t)}var zy=typeof document=="undefined"?null:document;function qX(t,e,r){var n=zy;if(n&&typeof e=="string"&&e){var i=wl(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof r=="string"&&(i+='[crossorigin="'+r+'"]'),aZ.has(i)||(aZ.add(i),t={rel:t,crossOrigin:r,href:e},n.querySelector(i)===null&&(e=n.createElement("link"),Za(e,"link",t),La(e),n.head.appendChild(e)))}}function J5e(t){Nd.D(t),qX("dns-prefetch",t,null)}function eRe(t,e){Nd.C(t,e),qX("preconnect",t,e)}function tRe(t,e,r){Nd.L(t,e,r);var n=zy;if(n&&t&&e){var i='link[rel="preload"][as="'+wl(e)+'"]';e==="image"&&r&&r.imageSrcSet?(i+='[imagesrcset="'+wl(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(i+='[imagesizes="'+wl(r.imageSizes)+'"]')):i+='[href="'+wl(t)+'"]';var a=i;switch(e){case"style":a=Iy(t);break;case"script":a=Fy(t)}_l.has(a)||(t=Kn({rel:"preload",href:e==="image"&&r&&r.imageSrcSet?void 0:t,as:e},r),_l.set(a,t),n.querySelector(i)!==null||e==="style"&&n.querySelector(Nx(a))||e==="script"&&n.querySelector(Lx(a))||(e=n.createElement("link"),Za(e,"link",t),La(e),n.head.appendChild(e)))}}function rRe(t,e){Nd.m(t,e);var r=zy;if(r&&t){var n=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+wl(n)+'"][href="'+wl(t)+'"]',a=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Fy(t)}if(!_l.has(a)&&(t=Kn({rel:"modulepreload",href:t},e),_l.set(a,t),r.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Lx(a)))return}n=r.createElement("link"),Za(n,"link",t),La(n),r.head.appendChild(n)}}}function nRe(t,e,r){Nd.S(t,e,r);var n=zy;if(n&&t){var i=py(n).hoistableStyles,a=Iy(t);e=e||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=n.querySelector(Nx(a)))s.loading=5;else{t=Kn({rel:"stylesheet",href:t,"data-precedence":e},r),(r=_l.get(a))&&VO(t,r);var l=o=n.createElement("link");La(l),Za(l,"link",t),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,ak(o,e,n)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}}function iRe(t,e){Nd.X(t,e);var r=zy;if(r&&t){var n=py(r).hoistableScripts,i=Fy(t),a=n.get(i);a||(a=r.querySelector(Lx(i)),a||(t=Kn({src:t,async:!0},e),(e=_l.get(i))&&WO(t,e),a=r.createElement("script"),La(a),Za(a,"link",t),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function aRe(t,e){Nd.M(t,e);var r=zy;if(r&&t){var n=py(r).hoistableScripts,i=Fy(t),a=n.get(i);a||(a=r.querySelector(Lx(i)),a||(t=Kn({src:t,async:!0,type:"module"},e),(e=_l.get(i))&&WO(t,e),a=r.createElement("script"),La(a),Za(a,"link",t),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function oZ(t,e,r,n){var i=(i=dh.current)?Nk(i):null;if(!i)throw Error(yt(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(e=Iy(r.href),r=py(i).hoistableStyles,n=r.get(e),n||(n={type:"style",instance:null,count:0,state:null},r.set(e,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Iy(r.href);var a=py(i).hoistableStyles,o=a.get(t);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,o),(a=i.querySelector(Nx(t)))&&!a._p&&(o.instance=a,o.state.loading=5),_l.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},_l.set(t,r),a||oRe(i,t,r,o.state))),e&&n===null)throw Error(yt(528,""));return o}if(e&&n!==null)throw Error(yt(529,""));return null;case"script":return e=r.async,r=r.src,typeof r=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Fy(r),r=py(i).hoistableScripts,n=r.get(e),n||(n={type:"script",instance:null,count:0,state:null},r.set(e,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(yt(444,t))}}function Iy(t){return'href="'+wl(t)+'"'}function Nx(t){return'link[rel="stylesheet"]['+t+"]"}function UX(t){return Kn({},t,{"data-precedence":t.precedence,precedence:null})}function oRe(t,e,r,n){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?n.loading=1:(e=t.createElement("link"),n.preload=e,e.addEventListener("load",function(){return n.loading|=1}),e.addEventListener("error",function(){return n.loading|=2}),Za(e,"link",r),La(e),t.head.appendChild(e))}function Fy(t){return'[src="'+wl(t)+'"]'}function Lx(t){return"script[async]"+t}function sZ(t,e,r){if(e.count++,e.instance===null)switch(e.type){case"style":var n=t.querySelector('style[data-href~="'+wl(r.href)+'"]');if(n)return e.instance=n,La(n),n;var i=Kn({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),La(n),Za(n,"style",i),ak(n,r.precedence,t),e.instance=n;case"stylesheet":i=Iy(r.href);var a=t.querySelector(Nx(i));if(a)return e.state.loading|=4,e.instance=a,La(a),a;n=UX(r),(i=_l.get(i))&&VO(n,i),a=(t.ownerDocument||t).createElement("link"),La(a);var o=a;return o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Za(a,"link",n),e.state.loading|=4,ak(a,r.precedence,t),e.instance=a;case"script":return a=Fy(r.src),(i=t.querySelector(Lx(a)))?(e.instance=i,La(i),i):(n=r,(i=_l.get(a))&&(n=Kn({},r),WO(n,i)),t=t.ownerDocument||t,i=t.createElement("script"),La(i),Za(i,"link",n),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(yt(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(n=e.instance,e.state.loading|=4,ak(n,r.precedence,t));return e.instance}function ak(t,e,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,a=i,o=0;o<n.length;o++){var s=n[o];if(s.dataset.precedence===e)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=r.nodeType===9?r.head:r,e.insertBefore(t,e.firstChild))}function VO(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function WO(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var ok=null;function lZ(t,e,r){if(ok===null){var n=new Map,i=ok=new Map;i.set(r,n)}else i=ok,n=i.get(r),n||(n=new Map,i.set(r,n));if(n.has(t))return n;for(n.set(t,null),r=r.getElementsByTagName(t),i=0;i<r.length;i++){var a=r[i];if(!(a[Sx]||a[vo]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var o=a.getAttribute(e)||"";o=t+o;var s=n.get(o);s?s.push(a):n.set(o,[a])}}return n}function cZ(t,e,r){t=t.ownerDocument||t,t.head.insertBefore(r,e==="title"?t.querySelector("head > title"):null)}function sRe(t,e,r){if(r===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function BX(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var px=null;function lRe(){}function cRe(t,e,r){if(px===null)throw Error(yt(475));var n=px;if(e.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var i=Iy(r.href),a=t.querySelector(Nx(i));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(n.count++,n=Lk.bind(n),t.then(n,n)),e.state.loading|=4,e.instance=a,La(a);return}a=t.ownerDocument||t,r=UX(r),(i=_l.get(i))&&VO(r,i),a=a.createElement("link"),La(a);var o=a;o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Za(a,"link",r),e.instance=a}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(n.count++,e=Lk.bind(n),t.addEventListener("load",e),t.addEventListener("error",e))}}function uRe(){if(px===null)throw Error(yt(475));var t=px;return t.stylesheets&&t.count===0&&JL(t,t.stylesheets),0<t.count?function(e){var r=setTimeout(function(){if(t.stylesheets&&JL(t,t.stylesheets),t.unsuspend){var n=t.unsuspend;t.unsuspend=null,n()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Lk(){if(this.count--,this.count===0){if(this.stylesheets)JL(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ok=null;function JL(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ok=new Map,e.forEach(dRe,t),Ok=null,Lk.call(t))}function dRe(t,e){if(!(e.state.loading&4)){var r=Ok.get(t);if(r)var n=r.get(null);else{r=new Map,Ok.set(t,r);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(r.set(o.dataset.precedence,o),n=o)}n&&r.set(null,n)}i=e.instance,o=i.getAttribute("data-precedence"),a=r.get(o)||n,a===n&&r.set(null,i),r.set(o,i),this.count++,n=Lk.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var mx={$$typeof:Td,Provider:null,Consumer:null,_currentValue:nm,_currentValue2:nm,_threadCount:0};function fRe(t,e,r,n,i,a,o,s){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=RN(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=RN(0),this.hiddenUpdates=RN(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function jX(t,e,r,n,i,a,o,s,l,c,u,d){return t=new fRe(t,e,r,o,s,l,c,d),e=1,a===!0&&(e|=24),a=Is(3,null,null,e),t.current=a,a.stateNode=t,e=bO(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:n,isDehydrated:r,cache:e},xO(a),t}function VX(t){return t?(t=uy,t):uy}function WX(t,e,r,n,i,a){i=VX(i),n.context===null?n.context=i:n.pendingContext=i,n=fh(e),n.payload={element:r},a=a===void 0?null:a,a!==null&&(n.callback=a),r=hh(t,n,e),r!==null&&(Ps(r,t,e),Xw(r,t,e))}function uZ(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function GO(t,e){uZ(t,e),(t=t.alternate)&&uZ(t,e)}function GX(t){if(t.tag===13){var e=Oy(t,67108864);e!==null&&Ps(e,t,67108864),GO(t,67108864)}}var Pk=!0;function hRe(t,e,r,n){var i=Er.T;Er.T=null;var a=kn.p;try{kn.p=2,YO(t,e,r,n)}finally{kn.p=a,Er.T=i}}function pRe(t,e,r,n){var i=Er.T;Er.T=null;var a=kn.p;try{kn.p=8,YO(t,e,r,n)}finally{kn.p=a,Er.T=i}}function YO(t,e,r,n){if(Pk){var i=eO(n);if(i===null)aL(t,e,n,zk,r),dZ(t,n);else if(vRe(i,t,e,r,n))n.stopPropagation();else if(dZ(t,n),e&4&&-1<mRe.indexOf(t)){for(;i!==null;){var a=Ly(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=em(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-Ls(o);s.entanglements[1]|=l,o&=~l}vu(a),(Nn&6)===0&&(Ek=hu()+500,Ix(0,!1))}}break;case 13:s=Oy(a,2),s!==null&&Ps(s,a,2),Zk(),GO(a,2)}if(a=eO(n),a===null&&aL(t,e,n,zk,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else aL(t,e,n,null,r)}}function eO(t){return t=cO(t),ZO(t)}var zk=null;function ZO(t){if(zk=null,t=iy(t),t!==null){var e=bx(t);if(e===null)t=null;else{var r=e.tag;if(r===13){if(t=gZ(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return zk=t,null}function YX(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(r3e()){case xZ:return 2;case TZ:return 8;case dk:case n3e:return 32;case SZ:return 268435456;default:return 32}default:return 32}}var tO=!1,vh=null,gh=null,yh=null,vx=new Map,gx=new Map,oh=[],mRe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dZ(t,e){switch(t){case"focusin":case"focusout":vh=null;break;case"dragenter":case"dragleave":gh=null;break;case"mouseover":case"mouseout":yh=null;break;case"pointerover":case"pointerout":vx.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gx.delete(e.pointerId)}}function Hw(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Ly(e),e!==null&&GX(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vRe(t,e,r,n,i){switch(e){case"focusin":return vh=Hw(vh,t,e,r,n,i),!0;case"dragenter":return gh=Hw(gh,t,e,r,n,i),!0;case"mouseover":return yh=Hw(yh,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return vx.set(a,Hw(vx.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,gx.set(a,Hw(gx.get(a)||null,t,e,r,n,i)),!0}return!1}function ZX(t){var e=iy(t.target);if(e!==null){var r=bx(e);if(r!==null){if(e=r.tag,e===13){if(e=gZ(r),e!==null){t.blockedOn=e,d3e(t.priority,function(){if(r.tag===13){var n=Os();n=aO(n);var i=Oy(r,n);i!==null&&Ps(i,r,n),GO(r,n)}});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sk(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=eO(t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);yL=n,r.target.dispatchEvent(n),yL=null}else return e=Ly(r),e!==null&&GX(e),t.blockedOn=r,!1;e.shift()}return!0}function fZ(t,e,r){sk(t)&&r.delete(e)}function gRe(){tO=!1,vh!==null&&sk(vh)&&(vh=null),gh!==null&&sk(gh)&&(gh=null),yh!==null&&sk(yh)&&(yh=null),vx.forEach(fZ),gx.forEach(fZ)}function YC(t,e){t.blockedOn===e&&(t.blockedOn=null,tO||(tO=!0,pa.unstable_scheduleCallback(pa.unstable_NormalPriority,gRe)))}var ZC=null;function hZ(t){ZC!==t&&(ZC=t,pa.unstable_scheduleCallback(pa.unstable_NormalPriority,function(){ZC===t&&(ZC=null);for(var e=0;e<t.length;e+=3){var r=t[e],n=t[e+1],i=t[e+2];if(typeof n!="function"){if(ZO(n||r)===null)continue;break}var a=Ly(r);a!==null&&(t.splice(e,3),e-=3,LL(a,{pending:!0,data:i,method:r.method,action:n},n,i))}}))}function yx(t){function e(l){return YC(l,t)}vh!==null&&YC(vh,t),gh!==null&&YC(gh,t),yh!==null&&YC(yh,t),vx.forEach(e),gx.forEach(e);for(var r=0;r<oh.length;r++){var n=oh[r];n.blockedOn===t&&(n.blockedOn=null)}for(;0<oh.length&&(r=oh[0],r.blockedOn===null);)ZX(r),r.blockedOn===null&&oh.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var i=r[n],a=r[n+1],o=i[ts]||null;if(typeof a=="function")o||hZ(r);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[ts]||null)s=o.formAction;else if(ZO(i)!==null)continue}else s=o.action;typeof s=="function"?r[n+1]=s:(r.splice(n,3),n-=3),hZ(r)}}}function $O(t){this._internalRoot=t}Qk.prototype.render=$O.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(yt(409));var r=e.current,n=Os();WX(r,n,t,e,null,null)};Qk.prototype.unmount=$O.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;WX(t.current,2,null,t,null,null),Zk(),e[Ny]=null}};function Qk(t){this._internalRoot=t}Qk.prototype.unstable_scheduleHydration=function(t){if(t){var e=DZ();t={blockedOn:null,target:t,priority:e};for(var r=0;r<oh.length&&e!==0&&e<oh[r].priority;r++);oh.splice(r,0,t),r===0&&ZX(t)}};var pZ=mZ.version;if(pZ!=="19.1.1")throw Error(yt(527,pZ,"19.1.1"));kn.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(yt(188)):(t=Object.keys(t).join(","),Error(yt(268,t)));return t=$Me(e),t=t!==null?yZ(t):null,t=t===null?null:t.stateNode,t};var yRe={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Er,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(qw=__REACT_DEVTOOLS_GLOBAL_HOOK__,!qw.isDisabled&&qw.supportsFiber))try{wx=qw.inject(yRe),Ns=qw}catch(t){}var qw;Jk.createRoot=function(t,e){if(!vZ(t))throw Error(yt(299));var r=!1,n="",i=j$,a=V$,o=W$,s=null;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(s=e.unstable_transitionCallbacks)),e=jX(t,1,!1,null,null,r,n,i,a,o,s,null),t[Ny]=e.current,jO(t),new $O(e)};Jk.hydrateRoot=function(t,e,r){if(!vZ(t))throw Error(yt(299));var n=!1,i="",a=j$,o=V$,s=W$,l=null,c=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onUncaughtError!==void 0&&(a=r.onUncaughtError),r.onCaughtError!==void 0&&(o=r.onCaughtError),r.onRecoverableError!==void 0&&(s=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(l=r.unstable_transitionCallbacks),r.formState!==void 0&&(c=r.formState)),e=jX(t,1,!0,e,r!=null?r:null,n,i,a,o,s,l,c),e.context=VX(null),r=e.current,n=Os(),n=aO(n),i=fh(n),i.callback=null,hh(r,i,n),r=n,e.current.lanes=r,Tx(e,r),vu(e),t[Ny]=e.current,jO(t),new Qk(e)};Jk.version="19.1.1"});var Hy=J((Llt,KX)=>{"use strict";function XX(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XX)}catch(t){console.error(t)}}XX(),KX.exports=$X()});var QX,JX,xc,eE=Re(()=>{"use strict";QX=Lt(Hy()),JX=require("obsidian");xc=class extends JX.Modal{constructor(r,n){super(r);this.reactRoot=null;this.onOpenCallback=n}onOpen(){let{contentEl:r}=this;this.reactRoot=QX.default.createRoot(r),ye(this,null,function*(){var i;let n=yield this.onOpenCallback(()=>this.close());(i=this.reactRoot)==null||i.render(n)})}onClose(){this.reactRoot&&(this.reactRoot.unmount(),this.reactRoot=null),this.contentEl.empty()}}});var tK=J(tE=>{"use strict";var bRe=Symbol.for("react.transitional.element"),wRe=Symbol.for("react.fragment");function eK(t,e,r){var n=null;if(r!==void 0&&(n=""+r),e.key!==void 0&&(n=""+e.key),"key"in e){r={};for(var i in e)i!=="key"&&(r[i]=e[i])}else r=e;return e=r.ref,{$$typeof:bRe,type:t,key:n,ref:e!==void 0?e:null,props:r}}tE.Fragment=wRe;tE.jsx=eK;tE.jsxs=eK});var Lr=J((Hlt,rK)=>{"use strict";rK.exports=tK()});var XO={};Wr(XO,{openFileForEvent:()=>Ld});function Ld(i,a,o){return ye(this,arguments,function*(t,{workspace:e,vault:r},n){let s=t.store.getEventDetails(n);if(!s||!s.location){new qy.Notice(W("notices.cannotOpenRemote"));return}let{location:{path:l,lineNumber:c}}=s,u=r.getAbstractFileByPath(l);if(!(u instanceof qy.TFile))return;let d=e.getLeaf(!0);yield d.openFile(u),c&&d.view instanceof qy.MarkdownView&&d.view.editor.setCursor({line:c,ch:0})})}var qy,Uy=Re(()=>{"use strict";qy=require("obsidian");Pr();});var iE=J($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});var bi=require("obsidian"),KO="YYYY-MM-DD",QO="gggg-[W]ww",uK="YYYY-MM",dK="YYYY-[Q]Q",fK="YYYY";function Ox(t){var r,n;let e=window.app.plugins.getPlugin("periodic-notes");return e&&((n=(r=e.settings)==null?void 0:r[t])==null?void 0:n.enabled)}function Px(){var t,e,r,n;try{let{internalPlugins:i,plugins:a}=window.app;if(Ox("daily")){let{format:c,folder:u,template:d}=((e=(t=a.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:e.daily)||{};return{format:c||KO,folder:(u==null?void 0:u.trim())||"",template:(d==null?void 0:d.trim())||""}}let{folder:o,format:s,template:l}=((n=(r=i.getPluginById("daily-notes"))==null?void 0:r.instance)==null?void 0:n.options)||{};return{format:s||KO,folder:(o==null?void 0:o.trim())||"",template:(l==null?void 0:l.trim())||""}}catch(i){console.info("No custom daily note settings found!",i)}}function zx(){var t,e,r,n,i,a,o;try{let s=window.app.plugins,l=(t=s.getPlugin("calendar"))==null?void 0:t.options,c=(r=(e=s.getPlugin("periodic-notes"))==null?void 0:e.settings)==null?void 0:r.weekly;if(Ox("weekly"))return{format:c.format||QO,folder:((n=c.folder)==null?void 0:n.trim())||"",template:((i=c.template)==null?void 0:i.trim())||""};let u=l||{};return{format:u.weeklyNoteFormat||QO,folder:((a=u.weeklyNoteFolder)==null?void 0:a.trim())||"",template:((o=u.weeklyNoteTemplate)==null?void 0:o.trim())||""}}catch(s){console.info("No custom weekly note settings found!",s)}}function Fx(){var e,r,n,i;let t=window.app.plugins;try{let a=Ox("monthly")&&((r=(e=t.getPlugin("periodic-notes"))==null?void 0:e.settings)==null?void 0:r.monthly)||{};return{format:a.format||uK,folder:((n=a.folder)==null?void 0:n.trim())||"",template:((i=a.template)==null?void 0:i.trim())||""}}catch(a){console.info("No custom monthly note settings found!",a)}}function Hx(){var e,r,n,i;let t=window.app.plugins;try{let a=Ox("quarterly")&&((r=(e=t.getPlugin("periodic-notes"))==null?void 0:e.settings)==null?void 0:r.quarterly)||{};return{format:a.format||dK,folder:((n=a.folder)==null?void 0:n.trim())||"",template:((i=a.template)==null?void 0:i.trim())||""}}catch(a){console.info("No custom quarterly note settings found!",a)}}function qx(){var e,r,n,i;let t=window.app.plugins;try{let a=Ox("yearly")&&((r=(e=t.getPlugin("periodic-notes"))==null?void 0:e.settings)==null?void 0:r.yearly)||{};return{format:a.format||fK,folder:((n=a.folder)==null?void 0:n.trim())||"",template:((i=a.template)==null?void 0:i.trim())||""}}catch(a){console.info("No custom yearly note settings found!",a)}}function hK(...t){let e=[];for(let n=0,i=t.length;n<i;n++)e=e.concat(t[n].split("/"));let r=[];for(let n=0,i=e.length;n<i;n++){let a=e[n];!a||a==="."||r.push(a)}return e[0]===""&&r.unshift(""),r.join("/")}function TRe(t){let e=t.substring(t.lastIndexOf("/")+1);return e.lastIndexOf(".")!=-1&&(e=e.substring(0,e.lastIndexOf("."))),e}function SRe(t){return ye(this,null,function*(){let e=t.replace(/\\/g,"/").split("/");if(e.pop(),e.length){let r=hK(...e);window.app.vault.getAbstractFileByPath(r)||(yield window.app.vault.createFolder(r))}})}function Ux(t,e){return ye(this,null,function*(){e.endsWith(".md")||(e+=".md");let r=bi.normalizePath(hK(t,e));return yield SRe(r),r})}function jy(t){return ye(this,null,function*(){let{metadataCache:e,vault:r}=window.app,n=bi.normalizePath(t);if(n==="/")return Promise.resolve(["",null]);try{let i=e.getFirstLinkpathDest(n,""),a=yield r.cachedRead(i),o=window.app.foldManager.load(i);return[a,o]}catch(i){return console.error(`Failed to read the daily note template '${n}'`,i),new bi.Notice("Failed to read the daily note template"),["",null]}})}function Tc(t,e="day"){let r=t.clone().startOf(e).format();return`${e}-${r}`}function pK(t){return t.replace(/\[[^\]]*\]/g,"")}function _Re(t,e){if(e==="week"){let r=pK(t);return/w{1,2}/i.test(r)&&(/M{1,4}/.test(r)||/D{1,4}/.test(r))}return!1}function Vy(t,e){return mK(t.basename,e)}function CRe(t,e){return mK(TRe(t),e)}function mK(t,e){let n={day:Px,week:zx,month:Fx,quarter:Hx,year:qx}[e]().format.split("/").pop(),i=window.moment(t,n,!0);if(!i.isValid())return null;if(_Re(n,e)&&e==="week"){let a=pK(n);if(/w{1,2}/i.test(a))return window.moment(t,n.replace(/M{1,4}/g,"").replace(/D{1,4}/g,""),!1)}return i}var JO=class extends Error{};function vK(t){return ye(this,null,function*(){let e=window.app,{vault:r}=e,n=window.moment,{template:i,format:a,folder:o}=Px(),[s,l]=yield jy(i),c=t.format(a),u=yield Ux(o,c);try{let d=yield r.create(u,s.replace(/{{\s*date\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,n().format("HH:mm")).replace(/{{\s*title\s*}}/gi,c).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(f,h,p,m,v,y)=>{let b=n(),x=t.clone().set({hour:b.get("hour"),minute:b.get("minute"),second:b.get("second")});return p&&x.add(parseInt(m,10),v),y?x.format(y.substring(1).trim()):x.format(a)}).replace(/{{\s*yesterday\s*}}/gi,t.clone().subtract(1,"day").format(a)).replace(/{{\s*tomorrow\s*}}/gi,t.clone().add(1,"d").format(a)));return e.foldManager.save(d,l),d}catch(d){console.error(`Failed to create file: '${u}'`,d),new bi.Notice("Unable to create new file.")}})}function kRe(t,e){var r;return(r=e[Tc(t,"day")])!=null?r:null}function ERe(){let{vault:t}=window.app,{folder:e}=Px(),r=t.getAbstractFileByPath(bi.normalizePath(e));if(!r)throw new JO("Failed to find daily notes folder");let n={};return bi.Vault.recurseChildren(r,i=>{if(i instanceof bi.TFile){let a=Vy(i,"day");if(a){let o=Tc(a,"day");n[o]=i}}}),n}var e6=class extends Error{};function DRe(){let{moment:t}=window,e=t.localeData()._week.dow,r=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;e;)r.push(r.shift()),e--;return r}function ARe(t){return DRe().indexOf(t.toLowerCase())}function gK(t){return ye(this,null,function*(){let{vault:e}=window.app,{template:r,format:n,folder:i}=zx(),[a,o]=yield jy(r),s=t.format(n),l=yield Ux(i,s);try{let c=yield e.create(l,a.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(u,d,f,h,p,m)=>{let v=window.moment(),y=t.clone().set({hour:v.get("hour"),minute:v.get("minute"),second:v.get("second")});return f&&y.add(parseInt(h,10),p),m?y.format(m.substring(1).trim()):y.format(n)}).replace(/{{\s*title\s*}}/gi,s).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(u,d,f)=>{let h=ARe(d);return t.weekday(h).format(f.trim())}));return window.app.foldManager.save(c,o),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new bi.Notice("Unable to create new file.")}})}function MRe(t,e){var r;return(r=e[Tc(t,"week")])!=null?r:null}function RRe(){let t={};if(!bK())return t;let{vault:e}=window.app,{folder:r}=zx(),n=e.getAbstractFileByPath(bi.normalizePath(r));if(!n)throw new e6("Failed to find weekly notes folder");return bi.Vault.recurseChildren(n,i=>{if(i instanceof bi.TFile){let a=Vy(i,"week");if(a){let o=Tc(a,"week");t[o]=i}}}),t}var t6=class extends Error{};function yK(t){return ye(this,null,function*(){let{vault:e}=window.app,{template:r,format:n,folder:i}=Fx(),[a,o]=yield jy(r),s=t.format(n),l=yield Ux(i,s);try{let c=yield e.create(l,a.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(u,d,f,h,p,m)=>{let v=window.moment(),y=t.clone().set({hour:v.get("hour"),minute:v.get("minute"),second:v.get("second")});return f&&y.add(parseInt(h,10),p),m?y.format(m.substring(1).trim()):y.format(n)}).replace(/{{\s*date\s*}}/gi,s).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,s));return window.app.foldManager.save(c,o),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new bi.Notice("Unable to create new file.")}})}function IRe(t,e){var r;return(r=e[Tc(t,"month")])!=null?r:null}function NRe(){let t={};if(!wK())return t;let{vault:e}=window.app,{folder:r}=Fx(),n=e.getAbstractFileByPath(bi.normalizePath(r));if(!n)throw new t6("Failed to find monthly notes folder");return bi.Vault.recurseChildren(n,i=>{if(i instanceof bi.TFile){let a=Vy(i,"month");if(a){let o=Tc(a,"month");t[o]=i}}}),t}var r6=class extends Error{};function LRe(t){return ye(this,null,function*(){let{vault:e}=window.app,{template:r,format:n,folder:i}=Hx(),[a,o]=yield jy(r),s=t.format(n),l=yield Ux(i,s);try{let c=yield e.create(l,a.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(u,d,f,h,p,m)=>{let v=window.moment(),y=t.clone().set({hour:v.get("hour"),minute:v.get("minute"),second:v.get("second")});return f&&y.add(parseInt(h,10),p),m?y.format(m.substring(1).trim()):y.format(n)}).replace(/{{\s*date\s*}}/gi,s).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,s));return window.app.foldManager.save(c,o),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new bi.Notice("Unable to create new file.")}})}function ORe(t,e){var r;return(r=e[Tc(t,"quarter")])!=null?r:null}function PRe(){let t={};if(!xK())return t;let{vault:e}=window.app,{folder:r}=Hx(),n=e.getAbstractFileByPath(bi.normalizePath(r));if(!n)throw new r6("Failed to find quarterly notes folder");return bi.Vault.recurseChildren(n,i=>{if(i instanceof bi.TFile){let a=Vy(i,"quarter");if(a){let o=Tc(a,"quarter");t[o]=i}}}),t}var n6=class extends Error{};function zRe(t){return ye(this,null,function*(){let{vault:e}=window.app,{template:r,format:n,folder:i}=qx(),[a,o]=yield jy(r),s=t.format(n),l=yield Ux(i,s);try{let c=yield e.create(l,a.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(u,d,f,h,p,m)=>{let v=window.moment(),y=t.clone().set({hour:v.get("hour"),minute:v.get("minute"),second:v.get("second")});return f&&y.add(parseInt(h,10),p),m?y.format(m.substring(1).trim()):y.format(n)}).replace(/{{\s*date\s*}}/gi,s).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,s));return window.app.foldManager.save(c,o),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new bi.Notice("Unable to create new file.")}})}function FRe(t,e){var r;return(r=e[Tc(t,"year")])!=null?r:null}function HRe(){let t={};if(!TK())return t;let{vault:e}=window.app,{folder:r}=qx(),n=e.getAbstractFileByPath(bi.normalizePath(r));if(!n)throw new n6("Failed to find yearly notes folder");return bi.Vault.recurseChildren(n,i=>{if(i instanceof bi.TFile){let a=Vy(i,"year");if(a){let o=Tc(a,"year");t[o]=i}}}),t}function qRe(){var n,i;let{app:t}=window,e=t.internalPlugins.plugins["daily-notes"];if(e&&e.enabled)return!0;let r=t.plugins.getPlugin("periodic-notes");return r&&((i=(n=r.settings)==null?void 0:n.daily)==null?void 0:i.enabled)}function bK(){var r,n;let{app:t}=window;if(t.plugins.getPlugin("calendar"))return!0;let e=t.plugins.getPlugin("periodic-notes");return e&&((n=(r=e.settings)==null?void 0:r.weekly)==null?void 0:n.enabled)}function wK(){var r,n;let{app:t}=window,e=t.plugins.getPlugin("periodic-notes");return e&&((n=(r=e.settings)==null?void 0:r.monthly)==null?void 0:n.enabled)}function xK(){var r,n;let{app:t}=window,e=t.plugins.getPlugin("periodic-notes");return e&&((n=(r=e.settings)==null?void 0:r.quarterly)==null?void 0:n.enabled)}function TK(){var r,n;let{app:t}=window,e=t.plugins.getPlugin("periodic-notes");return e&&((n=(r=e.settings)==null?void 0:r.yearly)==null?void 0:n.enabled)}function URe(t){let e={day:Px,week:zx,month:Fx,quarter:Hx,year:qx}[t];return e()}function BRe(t,e){return{day:vK,month:yK,week:gK}[t](e)}$r.DEFAULT_DAILY_NOTE_FORMAT=KO;$r.DEFAULT_MONTHLY_NOTE_FORMAT=uK;$r.DEFAULT_QUARTERLY_NOTE_FORMAT=dK;$r.DEFAULT_WEEKLY_NOTE_FORMAT=QO;$r.DEFAULT_YEARLY_NOTE_FORMAT=fK;$r.appHasDailyNotesPluginLoaded=qRe;$r.appHasMonthlyNotesPluginLoaded=wK;$r.appHasQuarterlyNotesPluginLoaded=xK;$r.appHasWeeklyNotesPluginLoaded=bK;$r.appHasYearlyNotesPluginLoaded=TK;$r.createDailyNote=vK;$r.createMonthlyNote=yK;$r.createPeriodicNote=BRe;$r.createQuarterlyNote=LRe;$r.createWeeklyNote=gK;$r.createYearlyNote=zRe;$r.getAllDailyNotes=ERe;$r.getAllMonthlyNotes=NRe;$r.getAllQuarterlyNotes=PRe;$r.getAllWeeklyNotes=RRe;$r.getAllYearlyNotes=HRe;$r.getDailyNote=kRe;$r.getDailyNoteSettings=Px;$r.getDateFromFile=Vy;$r.getDateFromPath=CRe;$r.getDateUID=Tc;$r.getMonthlyNote=IRe;$r.getMonthlyNoteSettings=Fx;$r.getPeriodicNoteSettings=URe;$r.getQuarterlyNote=ORe;$r.getQuarterlyNoteSettings=Hx;$r.getTemplateInfo=jy;$r.getWeeklyNote=MRe;$r.getWeeklyNoteSettings=zx;$r.getYearlyNote=FRe;$r.getYearlyNoteSettings=qx});var rn,i6,Yt,gu,Bx=Re(()=>{(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{let a={};for(let o of i)a[o]=o;return a},t.getValidEnumValues=i=>{let a=t.objectKeys(i).filter(s=>typeof i[i[s]]!="number"),o={};for(let s of a)o[s]=i[s];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let a=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(let o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(rn||(rn={}));(function(t){t.mergeShapes=(e,r)=>ae(ae({},e),r)})(i6||(i6={}));Yt=rn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),gu=t=>{switch(typeof t){case"undefined":return Yt.undefined;case"string":return Yt.string;case"number":return Number.isNaN(t)?Yt.nan:Yt.number;case"boolean":return Yt.boolean;case"function":return Yt.function;case"bigint":return Yt.bigint;case"symbol":return Yt.symbol;case"object":return Array.isArray(t)?Yt.array:t===null?Yt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Yt.promise:typeof Map!="undefined"&&t instanceof Map?Yt.map:typeof Set!="undefined"&&t instanceof Set?Yt.set:typeof Date!="undefined"&&t instanceof Date?Yt.date:Yt.object;default:return Yt.unknown}}});var Dt,jRe,$a,aE=Re(()=>{Bx();Dt=rn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),jRe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),$a=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(let o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let s=n,l=0;for(;l<o.path.length;){let c=o.path[l];l===o.path.length-1?(s[c]=s[c]||{_errors:[]},s[c]._errors.push(r(o))):s[c]=s[c]||{_errors:[]},s=s[c],l++}}};return i(this),n}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,rn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)if(i.path.length>0){let a=i.path[0];r[a]=r[a]||[],r[a].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};$a.create=t=>new $a(t)});var VRe,Od,a6=Re(()=>{aE();Bx();VRe=(t,e)=>{let r;switch(t.code){case Dt.invalid_type:t.received===Yt.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Dt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,rn.jsonStringifyReplacer)}`;break;case Dt.unrecognized_keys:r=`Unrecognized key(s) in object: ${rn.joinValues(t.keys,", ")}`;break;case Dt.invalid_union:r="Invalid input";break;case Dt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${rn.joinValues(t.options)}`;break;case Dt.invalid_enum_value:r=`Invalid enum value. Expected ${rn.joinValues(t.options)}, received '${t.received}'`;break;case Dt.invalid_arguments:r="Invalid function arguments";break;case Dt.invalid_return_type:r="Invalid function return type";break;case Dt.invalid_date:r="Invalid date";break;case Dt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:rn.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Dt.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Dt.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Dt.custom:r="Invalid input";break;case Dt.invalid_intersection_types:r="Intersection results could not be merged";break;case Dt.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Dt.not_finite:r="Number must be finite";break;default:r=e.defaultError,rn.assertNever(t)}return{message:r}},Od=VRe});function WRe(t){SK=t}function Wy(){return SK}var SK,oE=Re(()=>{a6();SK=Od});function Ut(t,e){let r=Wy(),n=jx({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Od?void 0:Od].filter(i=>!!i)});t.common.issues.push(n)}var jx,GRe,Xa,yr,ym,yo,sE,lE,_h,Gy,o6=Re(()=>{oE();a6();jx=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],o=We(ae({},i),{path:a});if(i.message!==void 0)return We(ae({},i),{path:a,message:i.message});let s="",l=n.filter(c=>!!c).slice().reverse();for(let c of l)s=c(o,{data:e,defaultError:s}).message;return We(ae({},i),{path:a,message:s})},GRe=[];Xa=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return yr;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static mergeObjectAsync(e,r){return ye(this,null,function*(){let n=[];for(let i of r){let a=yield i.key,o=yield i.value;n.push({key:a,value:o})}return t.mergeObjectSync(e,n)})}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return yr;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value!="undefined"||i.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}},yr=Object.freeze({status:"aborted"}),ym=t=>({status:"dirty",value:t}),yo=t=>({status:"valid",value:t}),sE=t=>t.status==="aborted",lE=t=>t.status==="dirty",_h=t=>t.status==="valid",Gy=t=>typeof Promise!="undefined"&&t instanceof Promise});var _K=Re(()=>{});var er,CK=Re(()=>{(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(er||(er={}))});function Or(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,s)=>{var c,u;let{message:l}=t;return o.code==="invalid_enum_value"?{message:l!=null?l:s.defaultError}:typeof s.data=="undefined"?{message:(c=l!=null?l:n)!=null?c:s.defaultError}:o.code!=="invalid_type"?{message:s.defaultError}:{message:(u=l!=null?l:r)!=null?u:s.defaultError}},description:i}}function AK(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);let r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function cIe(t){return new RegExp(`^${AK(t)}$`)}function MK(t){let e=`${DK}T${AK(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function uIe(t,e){return!!((e==="v4"||!e)&&rIe.test(t)||(e==="v6"||!e)&&iIe.test(t))}function dIe(t,e){if(!QRe.test(t))return!1;try{let[r]=t.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch(r){return!1}}function fIe(t,e){return!!((e==="v4"||!e)&&nIe.test(t)||(e==="v6"||!e)&&aIe.test(t))}function hIe(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}function Yy(t){if(t instanceof ns){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=Cl.create(Yy(n))}return new ns(We(ae({},t._def),{shape:()=>e}))}else return t instanceof Fd?new Fd(We(ae({},t._def),{type:Yy(t.element)})):t instanceof Cl?Cl.create(Yy(t.unwrap())):t instanceof bu?bu.create(Yy(t.unwrap())):t instanceof yu?yu.create(t.items.map(e=>Yy(e))):t}function l6(t,e){let r=gu(t),n=gu(e);if(t===e)return{valid:!0,data:t};if(r===Yt.object&&n===Yt.object){let i=rn.objectKeys(e),a=rn.objectKeys(t).filter(s=>i.indexOf(s)!==-1),o=ae(ae({},t),e);for(let s of a){let l=l6(t[s],e[s]);if(!l.valid)return{valid:!1};o[s]=l.data}return{valid:!0,data:o}}else if(r===Yt.array&&n===Yt.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let a=0;a<t.length;a++){let o=t[a],s=e[a],l=l6(o,s);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===Yt.date&&n===Yt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}function RK(t,e){return new Am(ae({values:t,typeName:Tr.ZodEnum},Or(e)))}function EK(t,e){let r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function IK(t,e={},r){return t?kh.create().superRefine((n,i)=>{var o,s;let a=t(n);if(a instanceof Promise)return a.then(l=>{var c,u;if(!l){let d=EK(e,n),f=(u=(c=d.fatal)!=null?c:r)!=null?u:!0;i.addIssue(We(ae({code:"custom"},d),{fatal:f}))}});if(!a){let l=EK(e,n),c=(s=(o=l.fatal)!=null?o:r)!=null?s:!0;i.addIssue(We(ae({code:"custom"},l),{fatal:c}))}}):kh.create()}var kl,kK,Br,YRe,ZRe,$Re,XRe,KRe,QRe,JRe,eIe,tIe,s6,rIe,nIe,iIe,aIe,oIe,sIe,DK,lIe,Ch,bm,wm,xm,Tm,Zy,Sm,_m,kh,zd,Sc,$y,Fd,ns,Cm,Pd,cE,km,yu,uE,Xy,Ky,dE,Em,Dm,Am,Mm,Eh,El,Cl,bu,Rm,Im,Qy,pIe,Vx,Wx,Nm,mIe,Tr,vIe,NK,LK,gIe,yIe,OK,bIe,wIe,xIe,TIe,SIe,_Ie,CIe,kIe,EIe,DIe,AIe,MIe,RIe,IIe,NIe,LIe,OIe,PIe,zIe,FIe,HIe,qIe,UIe,BIe,jIe,VIe,WIe,GIe,YIe,ZIe,$Ie,XIe,KIe,QIe,PK=Re(()=>{aE();oE();CK();o6();Bx();kl=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},kK=(t,e)=>{if(_h(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new $a(t.common.issues);return this._error=r,this._error}}};Br=class{get description(){return this._def.description}_getType(e){return gu(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:gu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Xa,ctx:{common:e.parent.common,data:e.data,parsedType:gu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(Gy(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var a;let n={common:{issues:[],async:(a=r==null?void 0:r.async)!=null?a:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gu(e)},i=this._parseSync({data:e,path:n.path,parent:n});return kK(n,i)}"~validate"(e){var n,i;let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gu(e)};if(!this["~standard"].async)try{let a=this._parseSync({data:e,path:[],parent:r});return _h(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>_h(a)?{value:a.value}:{issues:r.common.issues})}parseAsync(e,r){return ye(this,null,function*(){let n=yield this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error})}safeParseAsync(e,r){return ye(this,null,function*(){let n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gu(e)},i=this._parse({data:e,path:n.path,parent:n}),a=yield Gy(i)?i:Promise.resolve(i);return kK(n,a)})}refine(e,r){let n=i=>typeof r=="string"||typeof r=="undefined"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{let o=e(i),s=()=>a.addIssue(ae({code:Dt.custom},n(i)));return typeof Promise!="undefined"&&o instanceof Promise?o.then(l=>l?!0:(s(),!1)):o?!0:(s(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new El({schema:this,typeName:Tr.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Cl.create(this,this._def)}nullable(){return bu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Fd.create(this)}promise(){return Eh.create(this,this._def)}or(e){return Cm.create([this,e],this._def)}and(e){return km.create(this,e,this._def)}transform(e){return new El(We(ae({},Or(this._def)),{schema:this,typeName:Tr.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){let r=typeof e=="function"?e:()=>e;return new Rm(We(ae({},Or(this._def)),{innerType:this,defaultValue:r,typeName:Tr.ZodDefault}))}brand(){return new Vx(ae({typeName:Tr.ZodBranded,type:this},Or(this._def)))}catch(e){let r=typeof e=="function"?e:()=>e;return new Im(We(ae({},Or(this._def)),{innerType:this,catchValue:r,typeName:Tr.ZodCatch}))}describe(e){let r=this.constructor;return new r(We(ae({},this._def),{description:e}))}pipe(e){return Wx.create(this,e)}readonly(){return Nm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},YRe=/^c[^\s-]{8,}$/i,ZRe=/^[0-9a-z]+$/,$Re=/^[0-9A-HJKMNP-TV-Z]{26}$/i,XRe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,KRe=/^[a-z0-9_-]{21}$/i,QRe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,JRe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,eIe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,tIe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",rIe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,nIe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,iIe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,aIe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,oIe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,sIe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,DK="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",lIe=new RegExp(`^${DK}$`);Ch=class t extends Br{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Yt.string){let a=this._getOrReturnCtx(e);return Ut(a,{code:Dt.invalid_type,expected:Yt.string,received:a.parsedType}),yr}let n=new Xa,i;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Ut(i,{code:Dt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Ut(i,{code:Dt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){let o=e.data.length>a.value,s=e.data.length<a.value;(o||s)&&(i=this._getOrReturnCtx(e,i),o?Ut(i,{code:Dt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):s&&Ut(i,{code:Dt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")eIe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"email",code:Dt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")s6||(s6=new RegExp(tIe,"u")),s6.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"emoji",code:Dt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")XRe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"uuid",code:Dt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")KRe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"nanoid",code:Dt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")YRe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"cuid",code:Dt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")ZRe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"cuid2",code:Dt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")$Re.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"ulid",code:Dt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch(o){i=this._getOrReturnCtx(e,i),Ut(i,{validation:"url",code:Dt.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"regex",code:Dt.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Ut(i,{code:Dt.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Ut(i,{code:Dt.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Ut(i,{code:Dt.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?MK(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{code:Dt.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?lIe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{code:Dt.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?cIe(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{code:Dt.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?JRe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"duration",code:Dt.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?uIe(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"ip",code:Dt.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?dIe(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"jwt",code:Dt.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?fIe(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"cidr",code:Dt.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?oIe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"base64",code:Dt.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?sIe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"base64url",code:Dt.invalid_string,message:a.message}),n.dirty()):rn.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),ae({validation:r,code:Dt.invalid_string},er.errToObj(n)))}_addCheck(e){return new t(We(ae({},this._def),{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(ae({kind:"email"},er.errToObj(e)))}url(e){return this._addCheck(ae({kind:"url"},er.errToObj(e)))}emoji(e){return this._addCheck(ae({kind:"emoji"},er.errToObj(e)))}uuid(e){return this._addCheck(ae({kind:"uuid"},er.errToObj(e)))}nanoid(e){return this._addCheck(ae({kind:"nanoid"},er.errToObj(e)))}cuid(e){return this._addCheck(ae({kind:"cuid"},er.errToObj(e)))}cuid2(e){return this._addCheck(ae({kind:"cuid2"},er.errToObj(e)))}ulid(e){return this._addCheck(ae({kind:"ulid"},er.errToObj(e)))}base64(e){return this._addCheck(ae({kind:"base64"},er.errToObj(e)))}base64url(e){return this._addCheck(ae({kind:"base64url"},er.errToObj(e)))}jwt(e){return this._addCheck(ae({kind:"jwt"},er.errToObj(e)))}ip(e){return this._addCheck(ae({kind:"ip"},er.errToObj(e)))}cidr(e){return this._addCheck(ae({kind:"cidr"},er.errToObj(e)))}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(ae({kind:"datetime",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!=null?r:!1,local:(n=e==null?void 0:e.local)!=null?n:!1},er.errToObj(e==null?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(ae({kind:"time",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision},er.errToObj(e==null?void 0:e.message)))}duration(e){return this._addCheck(ae({kind:"duration"},er.errToObj(e)))}regex(e,r){return this._addCheck(ae({kind:"regex",regex:e},er.errToObj(r)))}includes(e,r){return this._addCheck(ae({kind:"includes",value:e,position:r==null?void 0:r.position},er.errToObj(r==null?void 0:r.message)))}startsWith(e,r){return this._addCheck(ae({kind:"startsWith",value:e},er.errToObj(r)))}endsWith(e,r){return this._addCheck(ae({kind:"endsWith",value:e},er.errToObj(r)))}min(e,r){return this._addCheck(ae({kind:"min",value:e},er.errToObj(r)))}max(e,r){return this._addCheck(ae({kind:"max",value:e},er.errToObj(r)))}length(e,r){return this._addCheck(ae({kind:"length",value:e},er.errToObj(r)))}nonempty(e){return this.min(1,er.errToObj(e))}trim(){return new t(We(ae({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new t(We(ae({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new t(We(ae({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Ch.create=t=>{var e;return new Ch(ae({checks:[],typeName:Tr.ZodString,coerce:(e=t==null?void 0:t.coerce)!=null?e:!1},Or(t)))};bm=class t extends Br{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Yt.number){let a=this._getOrReturnCtx(e);return Ut(a,{code:Dt.invalid_type,expected:Yt.number,received:a.parsedType}),yr}let n,i=new Xa;for(let a of this._def.checks)a.kind==="int"?rn.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ut(n,{code:Dt.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Ut(n,{code:Dt.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Ut(n,{code:Dt.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?hIe(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),Ut(n,{code:Dt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ut(n,{code:Dt.not_finite,message:a.message}),i.dirty()):rn.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,er.toString(r))}gt(e,r){return this.setLimit("min",e,!1,er.toString(r))}lte(e,r){return this.setLimit("max",e,!0,er.toString(r))}lt(e,r){return this.setLimit("max",e,!1,er.toString(r))}setLimit(e,r,n,i){return new t(We(ae({},this._def),{checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:er.toString(i)}]}))}_addCheck(e){return new t(We(ae({},this._def),{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:er.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:er.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:er.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:er.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:er.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:er.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:er.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:er.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:er.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&rn.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};bm.create=t=>new bm(ae({checks:[],typeName:Tr.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1},Or(t)));wm=class t extends Br{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(a){return this._getInvalidInput(e)}if(this._getType(e)!==Yt.bigint)return this._getInvalidInput(e);let n,i=new Xa;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Ut(n,{code:Dt.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Ut(n,{code:Dt.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ut(n,{code:Dt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):rn.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return Ut(r,{code:Dt.invalid_type,expected:Yt.bigint,received:r.parsedType}),yr}gte(e,r){return this.setLimit("min",e,!0,er.toString(r))}gt(e,r){return this.setLimit("min",e,!1,er.toString(r))}lte(e,r){return this.setLimit("max",e,!0,er.toString(r))}lt(e,r){return this.setLimit("max",e,!1,er.toString(r))}setLimit(e,r,n,i){return new t(We(ae({},this._def),{checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:er.toString(i)}]}))}_addCheck(e){return new t(We(ae({},this._def),{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:er.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:er.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:er.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:er.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:er.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};wm.create=t=>{var e;return new wm(ae({checks:[],typeName:Tr.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!=null?e:!1},Or(t)))};xm=class extends Br{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Yt.boolean){let n=this._getOrReturnCtx(e);return Ut(n,{code:Dt.invalid_type,expected:Yt.boolean,received:n.parsedType}),yr}return yo(e.data)}};xm.create=t=>new xm(ae({typeName:Tr.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1},Or(t)));Tm=class t extends Br{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Yt.date){let a=this._getOrReturnCtx(e);return Ut(a,{code:Dt.invalid_type,expected:Yt.date,received:a.parsedType}),yr}if(Number.isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return Ut(a,{code:Dt.invalid_date}),yr}let n=new Xa,i;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Ut(i,{code:Dt.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Ut(i,{code:Dt.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):rn.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t(We(ae({},this._def),{checks:[...this._def.checks,e]}))}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:er.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:er.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Tm.create=t=>new Tm(ae({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Tr.ZodDate},Or(t)));Zy=class extends Br{_parse(e){if(this._getType(e)!==Yt.symbol){let n=this._getOrReturnCtx(e);return Ut(n,{code:Dt.invalid_type,expected:Yt.symbol,received:n.parsedType}),yr}return yo(e.data)}};Zy.create=t=>new Zy(ae({typeName:Tr.ZodSymbol},Or(t)));Sm=class extends Br{_parse(e){if(this._getType(e)!==Yt.undefined){let n=this._getOrReturnCtx(e);return Ut(n,{code:Dt.invalid_type,expected:Yt.undefined,received:n.parsedType}),yr}return yo(e.data)}};Sm.create=t=>new Sm(ae({typeName:Tr.ZodUndefined},Or(t)));_m=class extends Br{_parse(e){if(this._getType(e)!==Yt.null){let n=this._getOrReturnCtx(e);return Ut(n,{code:Dt.invalid_type,expected:Yt.null,received:n.parsedType}),yr}return yo(e.data)}};_m.create=t=>new _m(ae({typeName:Tr.ZodNull},Or(t)));kh=class extends Br{constructor(){super(...arguments),this._any=!0}_parse(e){return yo(e.data)}};kh.create=t=>new kh(ae({typeName:Tr.ZodAny},Or(t)));zd=class extends Br{constructor(){super(...arguments),this._unknown=!0}_parse(e){return yo(e.data)}};zd.create=t=>new zd(ae({typeName:Tr.ZodUnknown},Or(t)));Sc=class extends Br{_parse(e){let r=this._getOrReturnCtx(e);return Ut(r,{code:Dt.invalid_type,expected:Yt.never,received:r.parsedType}),yr}};Sc.create=t=>new Sc(ae({typeName:Tr.ZodNever},Or(t)));$y=class extends Br{_parse(e){if(this._getType(e)!==Yt.undefined){let n=this._getOrReturnCtx(e);return Ut(n,{code:Dt.invalid_type,expected:Yt.void,received:n.parsedType}),yr}return yo(e.data)}};$y.create=t=>new $y(ae({typeName:Tr.ZodVoid},Or(t)));Fd=class t extends Br{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Yt.array)return Ut(r,{code:Dt.invalid_type,expected:Yt.array,received:r.parsedType}),yr;if(i.exactLength!==null){let o=r.data.length>i.exactLength.value,s=r.data.length<i.exactLength.value;(o||s)&&(Ut(r,{code:o?Dt.too_big:Dt.too_small,minimum:s?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Ut(r,{code:Dt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Ut(r,{code:Dt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,s)=>i.type._parseAsync(new kl(r,o,r.path,s)))).then(o=>Xa.mergeArray(n,o));let a=[...r.data].map((o,s)=>i.type._parseSync(new kl(r,o,r.path,s)));return Xa.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new t(We(ae({},this._def),{minLength:{value:e,message:er.toString(r)}}))}max(e,r){return new t(We(ae({},this._def),{maxLength:{value:e,message:er.toString(r)}}))}length(e,r){return new t(We(ae({},this._def),{exactLength:{value:e,message:er.toString(r)}}))}nonempty(e){return this.min(1,e)}};Fd.create=(t,e)=>new Fd(ae({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Tr.ZodArray},Or(e)));ns=class t extends Br{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=rn.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Yt.object){let c=this._getOrReturnCtx(e);return Ut(c,{code:Dt.invalid_type,expected:Yt.object,received:c.parsedType}),yr}let{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof Sc&&this._def.unknownKeys==="strip"))for(let c in i.data)o.includes(c)||s.push(c);let l=[];for(let c of o){let u=a[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new kl(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Sc){let c=this._def.unknownKeys;if(c==="passthrough")for(let u of s)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")s.length>0&&(Ut(i,{code:Dt.unrecognized_keys,keys:s}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let u of s){let d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new kl(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(()=>ye(this,null,function*(){let c=[];for(let u of l){let d=yield u.key,f=yield u.value;c.push({key:d,value:f,alwaysSet:u.alwaysSet})}return c})).then(c=>Xa.mergeObjectSync(n,c)):Xa.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return er.errToObj,new t(ae(We(ae({},this._def),{unknownKeys:"strict"}),e!==void 0?{errorMap:(r,n)=>{var a,o,s,l;let i=(s=(o=(a=this._def).errorMap)==null?void 0:o.call(a,r,n).message)!=null?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=er.errToObj(e).message)!=null?l:i}:{message:i}}}:{}))}strip(){return new t(We(ae({},this._def),{unknownKeys:"strip"}))}passthrough(){return new t(We(ae({},this._def),{unknownKeys:"passthrough"}))}extend(e){return new t(We(ae({},this._def),{shape:()=>ae(ae({},this._def.shape()),e)}))}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>ae(ae({},this._def.shape()),e._def.shape()),typeName:Tr.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t(We(ae({},this._def),{catchall:e}))}pick(e){let r={};for(let n of rn.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new t(We(ae({},this._def),{shape:()=>r}))}omit(e){let r={};for(let n of rn.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new t(We(ae({},this._def),{shape:()=>r}))}deepPartial(){return Yy(this)}partial(e){let r={};for(let n of rn.objectKeys(this.shape)){let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new t(We(ae({},this._def),{shape:()=>r}))}required(e){let r={};for(let n of rn.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Cl;)a=a._def.innerType;r[n]=a}return new t(We(ae({},this._def),{shape:()=>r}))}keyof(){return RK(rn.objectKeys(this.shape))}};ns.create=(t,e)=>new ns(ae({shape:()=>t,unknownKeys:"strip",catchall:Sc.create(),typeName:Tr.ZodObject},Or(e)));ns.strictCreate=(t,e)=>new ns(ae({shape:()=>t,unknownKeys:"strict",catchall:Sc.create(),typeName:Tr.ZodObject},Or(e)));ns.lazycreate=(t,e)=>new ns(ae({shape:t,unknownKeys:"strip",catchall:Sc.create(),typeName:Tr.ZodObject},Or(e)));Cm=class extends Br{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(let s of a)if(s.result.status==="valid")return s.result;for(let s of a)if(s.result.status==="dirty")return r.common.issues.push(...s.ctx.common.issues),s.result;let o=a.map(s=>new $a(s.ctx.common.issues));return Ut(r,{code:Dt.invalid_union,unionErrors:o}),yr}if(r.common.async)return Promise.all(n.map(a=>ye(this,null,function*(){let o=We(ae({},r),{common:We(ae({},r.common),{issues:[]}),parent:null});return{result:yield a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}}))).then(i);{let a,o=[];for(let l of n){let c=We(ae({},r),{common:We(ae({},r.common),{issues:[]}),parent:null}),u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;let s=o.map(l=>new $a(l));return Ut(r,{code:Dt.invalid_union,unionErrors:s}),yr}}get options(){return this._def.options}};Cm.create=(t,e)=>new Cm(ae({options:t,typeName:Tr.ZodUnion},Or(e)));Pd=t=>t instanceof Em?Pd(t.schema):t instanceof El?Pd(t.innerType()):t instanceof Dm?[t.value]:t instanceof Am?t.options:t instanceof Mm?rn.objectValues(t.enum):t instanceof Rm?Pd(t._def.innerType):t instanceof Sm?[void 0]:t instanceof _m?[null]:t instanceof Cl?[void 0,...Pd(t.unwrap())]:t instanceof bu?[null,...Pd(t.unwrap())]:t instanceof Vx||t instanceof Nm?Pd(t.unwrap()):t instanceof Im?Pd(t._def.innerType):[],cE=class t extends Br{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==Yt.object)return Ut(r,{code:Dt.invalid_type,expected:Yt.object,received:r.parsedType}),yr;let n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(Ut(r,{code:Dt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),yr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let a of r){let o=Pd(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let s of o){if(i.has(s))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(s)}`);i.set(s,a)}}return new t(ae({typeName:Tr.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i},Or(n)))}};km=class extends Br{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=(a,o)=>{if(sE(a)||sE(o))return yr;let s=l6(a.value,o.value);return s.valid?((lE(a)||lE(o))&&r.dirty(),{status:r.value,value:s.data}):(Ut(n,{code:Dt.invalid_intersection_types}),yr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};km.create=(t,e,r)=>new km(ae({left:t,right:e,typeName:Tr.ZodIntersection},Or(r)));yu=class t extends Br{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Yt.array)return Ut(n,{code:Dt.invalid_type,expected:Yt.array,received:n.parsedType}),yr;if(n.data.length<this._def.items.length)return Ut(n,{code:Dt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),yr;!this._def.rest&&n.data.length>this._def.items.length&&(Ut(n,{code:Dt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let a=[...n.data].map((o,s)=>{let l=this._def.items[s]||this._def.rest;return l?l._parse(new kl(n,o,n.path,s)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>Xa.mergeArray(r,o)):Xa.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new t(We(ae({},this._def),{rest:e}))}};yu.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new yu(ae({items:t,typeName:Tr.ZodTuple,rest:null},Or(e)))};uE=class t extends Br{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Yt.object)return Ut(n,{code:Dt.invalid_type,expected:Yt.object,received:n.parsedType}),yr;let i=[],a=this._def.keyType,o=this._def.valueType;for(let s in n.data)i.push({key:a._parse(new kl(n,s,n.path,s)),value:o._parse(new kl(n,n.data[s],n.path,s)),alwaysSet:s in n.data});return n.common.async?Xa.mergeObjectAsync(r,i):Xa.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Br?new t(ae({keyType:e,valueType:r,typeName:Tr.ZodRecord},Or(n))):new t(ae({keyType:Ch.create(),valueType:e,typeName:Tr.ZodRecord},Or(r)))}},Xy=class extends Br{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Yt.map)return Ut(n,{code:Dt.invalid_type,expected:Yt.map,received:n.parsedType}),yr;let i=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([s,l],c)=>({key:i._parse(new kl(n,s,n.path,[c,"key"])),value:a._parse(new kl(n,l,n.path,[c,"value"]))}));if(n.common.async){let s=new Map;return Promise.resolve().then(()=>ye(this,null,function*(){for(let l of o){let c=yield l.key,u=yield l.value;if(c.status==="aborted"||u.status==="aborted")return yr;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),s.set(c.value,u.value)}return{status:r.value,value:s}}))}else{let s=new Map;for(let l of o){let c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return yr;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),s.set(c.value,u.value)}return{status:r.value,value:s}}}};Xy.create=(t,e,r)=>new Xy(ae({valueType:e,keyType:t,typeName:Tr.ZodMap},Or(r)));Ky=class t extends Br{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Yt.set)return Ut(n,{code:Dt.invalid_type,expected:Yt.set,received:n.parsedType}),yr;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Ut(n,{code:Dt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Ut(n,{code:Dt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let a=this._def.valueType;function o(l){let c=new Set;for(let u of l){if(u.status==="aborted")return yr;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}let s=[...n.data.values()].map((l,c)=>a._parse(new kl(n,l,n.path,c)));return n.common.async?Promise.all(s).then(l=>o(l)):o(s)}min(e,r){return new t(We(ae({},this._def),{minSize:{value:e,message:er.toString(r)}}))}max(e,r){return new t(We(ae({},this._def),{maxSize:{value:e,message:er.toString(r)}}))}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Ky.create=(t,e)=>new Ky(ae({valueType:t,minSize:null,maxSize:null,typeName:Tr.ZodSet},Or(e)));dE=class t extends Br{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==Yt.function)return Ut(r,{code:Dt.invalid_type,expected:Yt.function,received:r.parsedType}),yr;function n(s,l){return jx({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Wy(),Od].filter(c=>!!c),issueData:{code:Dt.invalid_arguments,argumentsError:l}})}function i(s,l){return jx({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Wy(),Od].filter(c=>!!c),issueData:{code:Dt.invalid_return_type,returnTypeError:l}})}let a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Eh){let s=this;return yo(function(...l){return ye(this,null,function*(){let c=new $a([]),u=yield s._def.args.parseAsync(l,a).catch(h=>{throw c.addIssue(n(l,h)),c}),d=yield Reflect.apply(o,this,u);return yield s._def.returns._def.type.parseAsync(d,a).catch(h=>{throw c.addIssue(i(d,h)),c})})})}else{let s=this;return yo(function(...l){let c=s._def.args.safeParse(l,a);if(!c.success)throw new $a([n(l,c.error)]);let u=Reflect.apply(o,this,c.data),d=s._def.returns.safeParse(u,a);if(!d.success)throw new $a([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t(We(ae({},this._def),{args:yu.create(e).rest(zd.create())}))}returns(e){return new t(We(ae({},this._def),{returns:e}))}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new t(ae({args:e||yu.create([]).rest(zd.create()),returns:r||zd.create(),typeName:Tr.ZodFunction},Or(n)))}},Em=class extends Br{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Em.create=(t,e)=>new Em(ae({getter:t,typeName:Tr.ZodLazy},Or(e)));Dm=class extends Br{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return Ut(r,{received:r.data,code:Dt.invalid_literal,expected:this._def.value}),yr}return{status:"valid",value:e.data}}get value(){return this._def.value}};Dm.create=(t,e)=>new Dm(ae({value:t,typeName:Tr.ZodLiteral},Or(e)));Am=class t extends Br{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return Ut(r,{expected:rn.joinValues(n),received:r.parsedType,code:Dt.invalid_type}),yr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let r=this._getOrReturnCtx(e),n=this._def.values;return Ut(r,{received:r.data,code:Dt.invalid_enum_value,options:n}),yr}return yo(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,ae(ae({},this._def),r))}exclude(e,r=this._def){return t.create(this.options.filter(n=>!e.includes(n)),ae(ae({},this._def),r))}};Am.create=RK;Mm=class extends Br{_parse(e){let r=rn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Yt.string&&n.parsedType!==Yt.number){let i=rn.objectValues(r);return Ut(n,{expected:rn.joinValues(i),received:n.parsedType,code:Dt.invalid_type}),yr}if(this._cache||(this._cache=new Set(rn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let i=rn.objectValues(r);return Ut(n,{received:n.data,code:Dt.invalid_enum_value,options:i}),yr}return yo(e.data)}get enum(){return this._def.values}};Mm.create=(t,e)=>new Mm(ae({values:t,typeName:Tr.ZodNativeEnum},Or(e)));Eh=class extends Br{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==Yt.promise&&r.common.async===!1)return Ut(r,{code:Dt.invalid_type,expected:Yt.promise,received:r.parsedType}),yr;let n=r.parsedType===Yt.promise?r.data:Promise.resolve(r.data);return yo(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Eh.create=(t,e)=>new Eh(ae({type:t,typeName:Tr.ZodPromise},Or(e)));El=class extends Br{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Tr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{Ut(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){let o=i.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(s=>ye(this,null,function*(){if(r.value==="aborted")return yr;let l=yield this._def.schema._parseAsync({data:s,path:n.path,parent:n});return l.status==="aborted"?yr:l.status==="dirty"?ym(l.value):r.value==="dirty"?ym(l.value):l}));{if(r.value==="aborted")return yr;let s=this._def.schema._parseSync({data:o,path:n.path,parent:n});return s.status==="aborted"?yr:s.status==="dirty"?ym(s.value):r.value==="dirty"?ym(s.value):s}}if(i.type==="refinement"){let o=s=>{let l=i.refinement(s,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?yr:(s.status==="dirty"&&r.dirty(),o(s.value),{status:r.value,value:s.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>s.status==="aborted"?yr:(s.status==="dirty"&&r.dirty(),o(s.value).then(()=>({status:r.value,value:s.value}))))}if(i.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!_h(o))return yr;let s=i.transform(o.value,a);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:s}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>_h(o)?Promise.resolve(i.transform(o.value,a)).then(s=>({status:r.value,value:s})):yr);rn.assertNever(i)}};El.create=(t,e,r)=>new El(ae({schema:t,typeName:Tr.ZodEffects,effect:e},Or(r)));El.createWithPreprocess=(t,e,r)=>new El(ae({schema:e,effect:{type:"preprocess",transform:t},typeName:Tr.ZodEffects},Or(r)));Cl=class extends Br{_parse(e){return this._getType(e)===Yt.undefined?yo(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Cl.create=(t,e)=>new Cl(ae({innerType:t,typeName:Tr.ZodOptional},Or(e)));bu=class extends Br{_parse(e){return this._getType(e)===Yt.null?yo(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};bu.create=(t,e)=>new bu(ae({innerType:t,typeName:Tr.ZodNullable},Or(e)));Rm=class extends Br{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===Yt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};Rm.create=(t,e)=>new Rm(ae({innerType:t,typeName:Tr.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default},Or(e)));Im=class extends Br{_parse(e){let{ctx:r}=this._processInputParams(e),n=We(ae({},r),{common:We(ae({},r.common),{issues:[]})}),i=this._def.innerType._parse({data:n.data,path:n.path,parent:ae({},n)});return Gy(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new $a(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new $a(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Im.create=(t,e)=>new Im(ae({innerType:t,typeName:Tr.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch},Or(e)));Qy=class extends Br{_parse(e){if(this._getType(e)!==Yt.nan){let n=this._getOrReturnCtx(e);return Ut(n,{code:Dt.invalid_type,expected:Yt.nan,received:n.parsedType}),yr}return{status:"valid",value:e.data}}};Qy.create=t=>new Qy(ae({typeName:Tr.ZodNaN},Or(t)));pIe=Symbol("zod_brand"),Vx=class extends Br{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},Wx=class t extends Br{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return ye(this,null,function*(){let a=yield this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?yr:a.status==="dirty"?(r.dirty(),ym(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})});{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?yr:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new t({in:e,out:r,typeName:Tr.ZodPipeline})}},Nm=class extends Br{_parse(e){let r=this._def.innerType._parse(e),n=i=>(_h(i)&&(i.value=Object.freeze(i.value)),i);return Gy(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}};Nm.create=(t,e)=>new Nm(ae({innerType:t,typeName:Tr.ZodReadonly},Or(e)));mIe={object:ns.lazycreate};(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Tr||(Tr={}));vIe=(t,e={message:`Input not instance of ${t.name}`})=>IK(r=>r instanceof t,e),NK=Ch.create,LK=bm.create,gIe=Qy.create,yIe=wm.create,OK=xm.create,bIe=Tm.create,wIe=Zy.create,xIe=Sm.create,TIe=_m.create,SIe=kh.create,_Ie=zd.create,CIe=Sc.create,kIe=$y.create,EIe=Fd.create,DIe=ns.create,AIe=ns.strictCreate,MIe=Cm.create,RIe=cE.create,IIe=km.create,NIe=yu.create,LIe=uE.create,OIe=Xy.create,PIe=Ky.create,zIe=dE.create,FIe=Em.create,HIe=Dm.create,qIe=Am.create,UIe=Mm.create,BIe=Eh.create,jIe=El.create,VIe=Cl.create,WIe=bu.create,GIe=El.createWithPreprocess,YIe=Wx.create,ZIe=()=>NK().optional(),$Ie=()=>LK().optional(),XIe=()=>OK().optional(),KIe={string:t=>Ch.create(We(ae({},t),{coerce:!0})),number:t=>bm.create(We(ae({},t),{coerce:!0})),boolean:t=>xm.create(We(ae({},t),{coerce:!0})),bigint:t=>wm.create(We(ae({},t),{coerce:!0})),date:t=>Tm.create(We(ae({},t),{coerce:!0}))},QIe=yr});var Ot={};Wr(Ot,{BRAND:()=>pIe,DIRTY:()=>ym,EMPTY_PATH:()=>GRe,INVALID:()=>yr,NEVER:()=>QIe,OK:()=>yo,ParseStatus:()=>Xa,Schema:()=>Br,ZodAny:()=>kh,ZodArray:()=>Fd,ZodBigInt:()=>wm,ZodBoolean:()=>xm,ZodBranded:()=>Vx,ZodCatch:()=>Im,ZodDate:()=>Tm,ZodDefault:()=>Rm,ZodDiscriminatedUnion:()=>cE,ZodEffects:()=>El,ZodEnum:()=>Am,ZodError:()=>$a,ZodFirstPartyTypeKind:()=>Tr,ZodFunction:()=>dE,ZodIntersection:()=>km,ZodIssueCode:()=>Dt,ZodLazy:()=>Em,ZodLiteral:()=>Dm,ZodMap:()=>Xy,ZodNaN:()=>Qy,ZodNativeEnum:()=>Mm,ZodNever:()=>Sc,ZodNull:()=>_m,ZodNullable:()=>bu,ZodNumber:()=>bm,ZodObject:()=>ns,ZodOptional:()=>Cl,ZodParsedType:()=>Yt,ZodPipeline:()=>Wx,ZodPromise:()=>Eh,ZodReadonly:()=>Nm,ZodRecord:()=>uE,ZodSchema:()=>Br,ZodSet:()=>Ky,ZodString:()=>Ch,ZodSymbol:()=>Zy,ZodTransformer:()=>El,ZodTuple:()=>yu,ZodType:()=>Br,ZodUndefined:()=>Sm,ZodUnion:()=>Cm,ZodUnknown:()=>zd,ZodVoid:()=>$y,addIssueToContext:()=>Ut,any:()=>SIe,array:()=>EIe,bigint:()=>yIe,boolean:()=>OK,coerce:()=>KIe,custom:()=>IK,date:()=>bIe,datetimeRegex:()=>MK,defaultErrorMap:()=>Od,discriminatedUnion:()=>RIe,effect:()=>jIe,enum:()=>qIe,function:()=>zIe,getErrorMap:()=>Wy,getParsedType:()=>gu,instanceof:()=>vIe,intersection:()=>IIe,isAborted:()=>sE,isAsync:()=>Gy,isDirty:()=>lE,isValid:()=>_h,late:()=>mIe,lazy:()=>FIe,literal:()=>HIe,makeIssue:()=>jx,map:()=>OIe,nan:()=>gIe,nativeEnum:()=>UIe,never:()=>CIe,null:()=>TIe,nullable:()=>WIe,number:()=>LK,object:()=>DIe,objectUtil:()=>i6,oboolean:()=>XIe,onumber:()=>$Ie,optional:()=>VIe,ostring:()=>ZIe,pipeline:()=>YIe,preprocess:()=>GIe,promise:()=>BIe,quotelessJson:()=>jRe,record:()=>LIe,set:()=>PIe,setErrorMap:()=>WRe,strictObject:()=>AIe,string:()=>NK,symbol:()=>wIe,transformer:()=>jIe,tuple:()=>NIe,undefined:()=>xIe,union:()=>MIe,unknown:()=>_Ie,util:()=>rn,void:()=>kIe});var c6=Re(()=>{oE();o6();_K();Bx();PK();aE()});var u6=Re(()=>{c6();c6()});function fE(t){let e=d6.find(a=>!t.includes(a));if(e)return e;let r=new Map;for(let a of t)r.set(a,(r.get(a)||0)+1);let n=1/0,i=d6[0];for(let a of d6){let o=r.get(a)||0;o<n&&(n=o,i=a)}return i}var d6,f6=Re(()=>{"use strict";d6=["#3b82f6","#22c55e","#ef4444","#eab308","#8b5cf6","#f97316","#14b8a6","#ec4899","#6366f1","#84cc16","#0ea5e9","#d946ef","#f43f5e","#10b981","#a855f7"]});function Jy(t,e){let r=e.filter(i=>i.startsWith(t)),n=1;return r.length>0&&(n=r.map(a=>parseInt(a.split("_")[1],10)).filter(a=>!isNaN(a)).reduce((a,o)=>Math.max(a,o),0)+1),`${t}_${n}`}function zK(t,e=[]){let r=fE(e);if(t==="icloud")return{type:"caldav",name:W("settings.calendars.defaults.iCloud"),color:r,url:"https://caldav.icloud.com"};let n=t.charAt(0).toUpperCase()+t.slice(1);return{type:t,name:W("settings.calendars.defaults.new",{type:n}),color:r}}var Bct,jct,Gx=Re(()=>{"use strict";u6();f6();Pr();Bct=Ot.discriminatedUnion("type",[Ot.object({type:Ot.literal("local"),id:Ot.string(),name:Ot.string(),directory:Ot.string()}),Ot.object({type:Ot.literal("dailynote"),id:Ot.string(),name:Ot.string(),heading:Ot.string()}),Ot.object({type:Ot.literal("ical"),id:Ot.string(),name:Ot.string(),url:Ot.string().url()}),Ot.object({type:Ot.literal("caldav"),id:Ot.string(),name:Ot.string(),url:Ot.string().url(),homeUrl:Ot.string().url(),username:Ot.string(),password:Ot.string()}),Ot.object({type:Ot.literal("google"),id:Ot.string(),name:Ot.string(),calendarId:Ot.string(),googleAccountId:Ot.string().optional()})]),jct=Ot.object({color:Ot.string()})});var Yx=Re(()=>{});var Lm,hE=Re(()=>{"use strict";Lm=[{version:"0.12.6",changes:[{type:"new",title:"Full CalDAV Two-Way Sync",description:"CalDAV calendars now support two-way synchronization. Create, edit, and delete events directly in Obsidian."},{type:"new",title:"Mobile Improvements",description:"Workspaces and Monthly View are now fully supported on mobile devices with an improved UI."},{type:"new",title:"Rich Read-Only Modal",description:"The event viewer for read-only events now displays full details including descriptions and attendees."},{type:"improvement",title:"ICS Parsing Hardening",description:"Robust parsing for Outlook/Exchange timezones, better date validation, and crash prevention for invalid ICS feeds."},{type:"fix",title:"Google Calendar Credentials Menu",description:"Fixed an issue where the Google Calendar settings menu for credentials was not displaying correctly."}]},{version:"0.12.5",changes:[{type:"new",title:"Obsidian Bases provider",description:"Add [Bases](https://youfoundjk.github.io/plugin-full-calendar/calendars/bases/) as a calendar source (BETA)."},{type:"improvement",title:"Provider initialization and cache resync",description:"Providers invoke initialize() after creation, load events into the cache with onAllComplete callbacks, adjust load priorities, and refresh event sources without full re-render when resyncing. (#173)"},{type:"improvement",title:"ChronoAnalyser data integrity",description:"[ChronoAnalyser](https://youfoundjk.github.io/plugin-full-calendar/chrono_analyser/introduction/) now pulls from the main EventStore and parses category/project/subproject hierarchies correctly for accurate analysis."},{type:"fix",title:"CalDAV validation and parsing",description:"[CalDAVProvider](https://youfoundjk.github.io/plugin-full-calendar/calendars/caldav/) now validates calendar collections with PROPFIND, parses calendar-data via DOMParser, adds JSDOM-backed tests, and surfaces clearer errors when URLs are invalid. (#193)"},{type:"fix",title:"Google OAuth and recurring timezone handling",description:"Mobile OAuth opens windows synchronously to avoid popup blockers (#191); recurring Google events honor exdates and BYDAY across timezones, correctly hiding deleted instances and preserving durations. (#190, #94)"}]},{version:"0.12.4",changes:[{type:"new",title:"Multi-Language (i18n) Support",description:"Full Calendar now supports [multiple languages](https://youfoundjk.github.io/plugin-full-calendar/features/i18n/). The UI will automatically switch based on your Obsidian language setting. Developers can add new translations via the i18n system with type-safe keys."},{type:"improvement",title:"Deep Task Provider 2.0",description:"[Tasks Plugin integration](https://youfoundjk.github.io/plugin-full-calendar/calendars/tasks-plugin-integration/) is now much smoother and robust."},{type:"fix",title:"CalDAV and Provider Architecture Refactor",description:"The calendar source/provider system has been refactored for modularity, reliability, and easier extension. CalDAV support is now more robust and easier to configure."}]},{version:"0.12.3.1-beta",changes:[{type:"new",title:"Tasks Provider Rearchitected for Performance and Precision",description:"The [Tasks provider](https://youfoundjk.github.io/plugin-full-calendar/calendars/tasks-plugin-integration/) now uses the official Tasks plugin's live cache for instant updates and performs surgical edits to preserve user metadata like links and tags. (#151, #155)"},{type:"improvement",title:"Robust and Stable Settings UI",description:"The settings panel has been refactored for stability, with a more reliable color picker and a consistent layout for all calendar sources. (#141)"},{type:"improvement",title:"Provider-Specific Task Completion",description:"Calendar providers can now implement their own custom logic for completing tasks, allowing for more flexible integrations. (#143, #144)"},{type:"fix",title:"ICS Timezone Fallback",description:"Remote ICS calendars with unrecognized timezones will now safely fall back to UTC instead of failing to load. (#91)"}]},{version:"0.12.3",changes:[{type:"new",title:"Deep Tasks Integration with Backlog & Filtering",description:"First-class support for Obsidian Tasks, including a task backlog, drag-and-drop scheduling, and full CUD (Create, Update, Delete) operations directly within the calendar."},{type:"new",title:"Advanced Date Navigation",description:'New "Go To" dropdown in the toolbar with a date picker and context-aware navigation. Right-click to jump to specific dates, weeks, or months.'},{type:"fix",title:"Notification and Reminder Reliability",description:"End-time reminders now fire correctly for events that are already in progress."},{type:"fix",title:"Core Component Stability",description:"Fixed bugs related to the event creation modal, Daily Notes calendar, and new calendar creation in settings."}]},{version:"0.12.2-beta",changes:[{type:"new",title:"Multi-day Daily Note events",description:"Daily Note provider now supports explicit multi-day events via an [endDate:: YYYY-MM-DD] inline field with fallback to legacy overnight detection."},{type:"new",title:"Status bar current/upcoming events",description:"Lightweight status bar module displays current and next events by subscribing to TimeEngine."},{type:"new",title:"Interactive time-axis zoom",description:"Ctrl/Cmd + scroll to zoom time axis in timeGrid and resourceTimeline views for rapid focus changes (#96)."},{type:"new",title:"Interval & positional recurrence rules",description:"Adds interval repeats (e.g., every 2 weeks) and positional monthly rules (2nd Tuesday, last Friday) with iCal interoperability (#97)."},{type:"improvement",title:"Codebase compliance & safety",description:"Removed loose any casts, migrated inline styles to CSS, added instanceof guards, and simplified unload lifecycle."},{type:"improvement",title:"Reactive calendar view lifecycle",description:"view-config-changed triggers cache repopulate; new resync event prompts focused re-render for instant settings feedback."},{type:"improvement",title:"NotificationManager refactor",description:"Converted to passive subscriber of TimeEngine instead of maintaining its own internal interval."},{type:"fix",title:"Timezone conversion for cross-day events",description:"convertEvent rewritten as a pure function handling explicit endDate and legacy overnight cases with stricter type guards."}]},{version:"0.12.1-beta",changes:[{type:"new",title:"Event reminder system with desktop notifications",description:"New notification manager provides native desktop notifications for upcoming events. Get reminded 10 minutes before an event starts and optionally before it ends."},{type:"new",title:"Multi-account Google Calendar integration",description:"Connect and manage multiple Google accounts with a dedicated account management hub. Streamlined two-step wizard for adding calendars from any connected account."},{type:"improvement",title:"Provider-based architecture with multi-account support",description:"Complete overhaul from Instance-based to a provider-based architecture enabling stateful features and multi-account supports. Each calendar source is now self-contained with improved isolation and performance."},{type:"improvement",title:"Event-driven settings with instant updates",description:"Settings now use publish/subscribe model with granular events (sources-changed, view-config-changed). Calendar re-renders instantly without flicker or unnecessary reloads."},{type:"improvement",title:"Lazy-loading for faster startup",description:"Heavy dependencies like FullCalendar engine and React modals are now dynamically imported only when needed, dramatically improving startup time and memory usage."},{type:"improvement",title:"Centralized event enhancement pipeline",description:"New EventEnhancer module centralizes timezone conversions and category parsing, with dedicated WorkspaceManager for filtering and display logic."},{type:"fix",title:"Timezone handling for recurring events",description:"Recurring events now properly handle timezones with endDate support, resolving timezone branching issues."},{type:"fix",title:"ICS remote events loading fix",description:"Remove ICS events should now load properly."}]},{version:"0.11.9",changes:[{type:"new",title:"Calendar Workspaces",description:"Save and switch between customized calendar setups (sources, filters, and view). Includes a header switcher, command palette action, and optional default workspace."},{type:"improvement",title:"Faster switching and rendering",description:"Workspace changes apply incrementally to sources, filters, and current view, reducing re-renders and improving performance in large calendars."},{type:"fix",title:"Edit modal subcategory parsing",description:"Fixes an issue where sub-categories could disappear when editing from the modal for certain titles."}]},{version:"0.11.8",changes:[{type:"new",title:"Business Hours and Background Events",description:"Highlight working hours in calendar views and display background events like vacations or focus blocks. Fully configurable in settings and event frontmatter."},{type:"new",title:"Timeline View: Shadow Events",description:"Optional display of category shadow events in Timeline View for better context and planning."},{type:"improvement",title:"Sub-category editing in event modal",description:"Event modal now shows and allows editing of sub-categories directly in the title field."},{type:"improvement",title:"Settings UI reorganization",description:"Settings modal has been reorganized for clarity, with added tooltips and a footer for version/help links."},{type:"fix",title:"Recurring task timing preserved on undo",description:"Fixes a bug where child events lost their timing when undoing completed recurring tasks."},{type:"fix",title:"All-day recurring events behave correctly",description:"All-day events are now treated as floating in recurrence rules, avoiding unwanted time shifts."}]},{version:"0.11.7",changes:[{type:"new",title:"Google Calendar integration with two-way sync",description:"Connect your Google account to create, modify, and delete single or recurring events directly in Obsidian, with full OAuth 2.0 authentication and calendar selection."},{type:"improvement",title:"Unified and reusable form components",description:"Inputs like URL, Username, Password, and Directory Select are now standardized with a read-only mode for consistent display, and a generic TextInput replaces one-off components."},{type:"improvement",title:"Refined settings UI and changelog view",description:"Settings are modularized into clearer sections with improved type safety, and a new changelog component has been added for update visibility."},{type:"improvement",title:"Better event parsing and caching pipeline",description:"Calendar parsers now use a unified enhancement pipeline, and event caching is more reliable with modularized update managers."},{type:"fix",title:"Daily Note Calendar parsing and cache updates",description:"Fixed issues with daily note parsing and improved cache updates to correctly reflect changes when frontmatter is updated."}]},{version:"0.11.6",changes:[{type:"new",title:"Advanced categorization with hierarchical timeline view",description:"Events can now be organized by categories and sub-categories in a new resource timeline view. Expandable groups and aggregated parent rows make it easier to manage complex schedules."},{type:"new",title:"License update",description:"The plugin license has been updated to GPLv3 to comply with FullCalendar requirements."},{type:"improvement",title:"Cleaner UI and initial view options",description:"The event modal and settings UI have been polished with dropdown options and a new initial view setting that supports the timeline view."},{type:"improvement",title:"Smarter event titles and filenames",description:'Events now display clearer titles (e.g., "SubCategory - Event Name") while keeping filenames and internal data consistent.'}]},{version:"0.11.5-beta",changes:[{type:"new",title:"Monthly and yearly recurring events",description:"You can now create events that repeat every month or every year \u2014 perfect for anniversaries, billing cycles, or annual planning."},{type:"new",title:"Repeats dropdown in event modal",description:"Replaced the old recurring checkbox with a dropdown menu for choosing none, weekly, monthly, or yearly recurrence, with context-aware controls."},{type:"improvement",title:"Descriptive filenames for recurring notes",description:'Recurring events now generate clean, readable filenames like "(Every month on the 15th) My Event.md".'},{type:"improvement",title:"Improved timezone and all-day support",description:"Timezone handling for recurring events has been refined, and all-day recurring events now display correctly."},{type:"fix",title:"Right-click toggle for recurring tasks",description:"Recurring tasks can now be marked complete via right-click, just like one-time tasks."}]},{version:"0.11.4",changes:[{type:"new",title:"Smarter recurring events and tasks",description:"Recurring events can now be edited per-instance \u2014 drag, resize, or complete a task without affecting the whole series. Changes are reversible and tracked cleanly."},{type:"improvement",title:"Safe deletion with confirmation options",description:"Deleting a recurring event now asks whether to remove just one instance, the entire series, or promote existing edits to standalone events."},{type:"improvement",title:"Better task behavior for repeating events",description:"Recurring tasks now behave just like regular ones \u2014 you can check them off individually, and they show up correctly in the calendar."},{type:"fix",title:"Multiday allday events fix by @yalikebaz",description:"Multiday allday events made inclusive for local calenders. Thanks to @yalikebaz for the fix!"},{type:"fix",title:"Performance and architecture improvements",description:"Refactored recurring event logic, improved performance on large calendars, and cleaned up the plugin architecture to prepare for future features."}]},{version:"0.11.3",changes:[{type:"new",title:"Insights engine has smarter dashboard with personas",description:'Adding persona (predefined rules like "Productivity", "Routine") to categories in insight config setting now cater to more powerful analysis.'},{type:"fix",title:"Insights panel and dashboard bugfixes",description:"Multiple bugfixes and UI adjustments focused on the insights panel."}]},{version:"0.11.2",changes:[{type:"new",title:"Insights engine in ChronoAnalyser",description:"New intelligent engine that can analyse your calender for past events and give you cool insights."},{type:"improvement",title:"Redesigned ChronoAnalyser UI/UX",description:"ChronoAnalyser now much more elegant. Check it using the `Analysis` button in the Full-Calendar window."},{type:"fix",title:"Multiple bugfixes in ChronoAnalyser",description:"Make ChronoAnalyser more stable and reliable. Plotting and insights now work more reliably."}]},{version:"0.11.1",changes:[{type:"new",title:"Category coloring engine and settings UI",description:"A new optional setting, 'Enable Category Coloring,' allows you to color events based on a category defined in the event's title (e.g., 'Work - Project Meeting'). This overrides the default calendar color for fine-grained visual organization."},{type:"new",title:"Category-aware event modal",description:"The edit/create event modal now features a dedicated 'Category' input field. It provides intelligent autocomplete suggestions based on all your previously used categories, making categorization fast and consistent."},{type:"improvement",title:"Redesigned event modal UI/UX",description:"The edit/create event modal has been completely redesigned with a polished two-column layout, logical grouping of fields, and a dedicated footer for actions, improving clarity and ergonomics."},{type:"improvement",title:"Color palette enhancements",description:"Colors no longer defaults to black, but is now rotated from a carefully choosen palette."},{type:"improvement",title:'"Open note" workflow enhancement',description:"Clicking 'Open Note' in the modal now opens the note in a split view, improving calendar-note navigation."}]},{version:"0.10.13-beta",changes:[{type:"improvement",title:"Robust timezone support",description:"Events from local and remote calendars are now fully timezone-aware, fixing bugs related to DST and travel."},{type:"new",title:"Strict timezone mode for daily notes",description:"A new setting allows users to anchor daily note events to a specific timezone, just like regular notes."},{type:"fix",title:"Correctly parse UTC events from ICS feeds",description:"Fixed a critical bug where events specified in UTC from Google Calendar and other sources would appear at the wrong time."}]},{version:"0.10.8",changes:[{type:"new",title:"ChronoAnalyser released",description:"ChronoAnalyser can now analyse you time spending! Check the new `Analysis` button in the Full-Calendar window."}]},{version:"0.10.7",changes:[{type:"new",title:"Initial plugin release",description:"Welcome to the first version of the enhanced Full Calendar!"}]}]});var FK={};Wr(FK,{renderFooter:()=>h6});function h6(t){let e=t.createDiv({cls:"settings-footer"});e.createEl("p",{text:"Do you like what you see?",cls:"settings-footer-text"});let r=e.createDiv({cls:"settings-footer-links"});r.createEl("a",{text:"Buy me a coffee",attr:{href:"https://ko-fi.com/youfoundjk"},cls:"settings-footer-link"}),r.createEl("a",{text:"Suggest a new feature",attr:{href:"https://github.com/YouFoundJK/plugin-full-calendar/discussions/"},cls:"settings-footer-link"}),r.createEl("a",{text:"Raise an issue",attr:{href:"https://github.com/YouFoundJK/plugin-full-calendar/issues/new?template=bug_report.yaml"},cls:"settings-footer-link"})}var p6=Re(()=>{"use strict"});var UK={};Wr(UK,{Changelog:()=>JIe,VersionSection:()=>pE});var Om,qK,za,HK,pE,JIe,m6=Re(()=>{"use strict";Om=Lt(zn());hE();qK=require("obsidian");Yx();p6();za=Lt(Lr());HK=t=>{let e=/\[([^\]]+)\]\(([^)]+)\)/g,r=[],n=0,i;for(;(i=e.exec(t))!==null;)i.index>n&&r.push(t.substring(n,i.index)),r.push((0,za.jsx)("a",{href:i[2],target:"_blank",rel:"noopener noreferrer",onClick:a=>a.stopPropagation(),children:i[1]},i.index)),n=e.lastIndex;return n<t.length&&r.push(t.substring(n)),r},pE=({version:t,isInitiallyOpen:e,embedded:r=!1})=>{let[n,i]=(0,Om.useState)(e);return(0,za.jsxs)("div",{className:`full-calendar-version-container ${r?"embedded":""}`,children:[(0,za.jsx)("div",{className:`full-calendar-version-header ${n?"is-open":""}`,onClick:()=>i(!n),children:(0,za.jsxs)("h3",{children:["Version ",t.version]})}),(0,za.jsx)("div",{className:`full-calendar-version-content ${n?"":"is-collapsed"}`,children:t.changes.map((o,s)=>(0,za.jsxs)("div",{className:`full-calendar-change-item change-type-${o.type}`,children:[(0,za.jsxs)("div",{className:"change-icon",children:[o.type==="new"&&"\u2728",o.type==="improvement"&&"\u{1F527}",o.type==="fix"&&"\u{1F41B}"]}),(0,za.jsxs)("div",{className:"change-content",children:[(0,za.jsx)("div",{className:"change-title",children:HK(o.title)}),(0,za.jsx)("div",{className:"change-description",children:HK(o.description)})]})]},s))})]})},JIe=({onBack:t})=>{let e=(0,Om.useRef)(null),r=(0,Om.useRef)(null);return(0,Om.useEffect)(()=>{e.current&&(e.current.empty(),new qK.Setting(e.current).setName("Changelog").setHeading()),r.current&&(r.current.empty(),h6(r.current))},[]),(0,za.jsxs)("div",{className:"full-calendar-changelog-wrapper",children:[(0,za.jsxs)("div",{className:"full-calendar-changelog-header",children:[(0,za.jsx)("button",{onClick:t,children:"<"}),(0,za.jsx)("div",{className:"u-flex-grow-1",ref:e})]}),Lm.map((n,i)=>(0,za.jsx)(pE,{version:n,isInitiallyOpen:i===0},n.version)),(0,za.jsx)("div",{ref:r})]})}});var jK={};Wr(jK,{renderGeneralSettings:()=>e4e});function e4e(t,e,r){let n=ae({},BK.DESKTOP);e.settings.enableAdvancedCategorization&&(n.resourceTimelineWeek="settings.viewOptions.timelineWeek",n.resourceTimelineDay="settings.viewOptions.timelineDay"),new Zx.Setting(t).setName(W("settings.general.desktopInitialView.label")).setDesc(W("settings.general.desktopInitialView.description")).addDropdown(i=>{Object.entries(n).forEach(([a,o])=>{i.addOption(a,W(o))}),i.setValue(e.settings.initialView.desktop),i.onChange(a=>ye(null,null,function*(){e.settings.initialView.desktop=a,yield e.saveSettings()}))}),new Zx.Setting(t).setName(W("settings.general.mobileInitialView.label")).setDesc(W("settings.general.mobileInitialView.description")).addDropdown(i=>{Object.entries(BK.MOBILE).forEach(([a,o])=>{i.addOption(a,W(o))}),i.setValue(e.settings.initialView.mobile),i.onChange(a=>ye(null,null,function*(){e.settings.initialView.mobile=a,yield e.saveSettings()}))}),new Zx.Setting(t).setName(W("settings.general.displayTimezone.label")).setDesc(W("settings.general.displayTimezone.description")).addDropdown(i=>{Intl.supportedValuesOf("timeZone").forEach(o=>{i.addOption(o,o)}),i.setValue(e.settings.displayTimezone||Intl.DateTimeFormat().resolvedOptions().timeZone),i.onChange(o=>ye(null,null,function*(){e.settings.displayTimezone=o,yield e.saveSettings()}))}),new Zx.Setting(t).setName(W("settings.general.clickToCreateEvent.label")).setDesc(W("settings.general.clickToCreateEvent.description")).addToggle(i=>{i.setValue(e.settings.clickToCreateEventFromMonthView),i.onChange(a=>ye(null,null,function*(){e.settings.clickToCreateEventFromMonthView=a,yield e.saveSettings()}))})}var Zx,BK,VK=Re(()=>{"use strict";Zx=require("obsidian");Pr();BK={DESKTOP:{timeGridDay:"settings.viewOptions.day",timeGridWeek:"settings.viewOptions.week",dayGridMonth:"settings.viewOptions.month",listWeek:"settings.viewOptions.list"},MOBILE:{dayGridMonth:"settings.viewOptions.month",timeGrid3Days:"settings.viewOptions.threeDays",timeGridDay:"settings.viewOptions.day",listWeek:"settings.viewOptions.list"}}});var WK={};Wr(WK,{renderAppearanceSettings:()=>r4e});function r4e(t,e,r){new Ka.Setting(t).setName(W("settings.appearance.title")).setHeading(),new Ka.Setting(t).setName(W("settings.appearance.firstDay.label")).setDesc(W("settings.appearance.firstDay.description")).addDropdown(n=>{t4e.forEach((i,a)=>{n.addOption(a.toString(),W(i))}),n.setValue(e.settings.firstDay.toString()),n.onChange(i=>ye(null,null,function*(){e.settings.firstDay=Number(i),yield e.saveSettings()}))}),new Ka.Setting(t).setName(W("settings.appearance.timeFormat24h.label")).setDesc(W("settings.appearance.timeFormat24h.description")).addToggle(n=>{n.setValue(e.settings.timeFormat24h),n.onChange(i=>ye(null,null,function*(){e.settings.timeFormat24h=i,yield e.saveSettings()}))}),new Ka.Setting(t).setName(W("settings.appearance.businessHours.enable.label")).setDesc(W("settings.appearance.businessHours.enable.description")).addToggle(n=>{n.setValue(e.settings.businessHours.enabled),n.onChange(i=>ye(null,null,function*(){e.settings.businessHours.enabled=i,yield e.saveSettings(),r()}))}),e.settings.businessHours.enabled&&(new Ka.Setting(t).setName(W("settings.appearance.businessHours.days.label")).setDesc(W("settings.appearance.businessHours.days.description")).addDropdown(n=>{n.addOption("1,2,3,4,5",W("settings.appearance.businessHours.options.mondayFriday")).addOption("0,1,2,3,4,5,6",W("settings.appearance.businessHours.options.everyDay")).addOption("1,2,3,4",W("settings.appearance.businessHours.options.mondayThursday")).addOption("2,3,4,5,6",W("settings.appearance.businessHours.options.tuesdaySaturday"));let i=e.settings.businessHours.daysOfWeek.join(",");n.setValue(i),n.onChange(a=>ye(null,null,function*(){e.settings.businessHours.daysOfWeek=a.split(",").map(Number),yield e.saveSettings()}))}).settingEl.addClass("fc-indented-setting"),new Ka.Setting(t).setName(W("settings.appearance.businessHours.startTime.label")).setDesc(W("settings.appearance.businessHours.startTime.description")).addText(n=>{n.setValue(e.settings.businessHours.startTime),n.onChange(i=>ye(null,null,function*(){/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(i)&&(e.settings.businessHours.startTime=i,yield e.saveSettings())}))}).settingEl.addClass("fc-indented-setting"),new Ka.Setting(t).setName(W("settings.appearance.businessHours.endTime.label")).setDesc(W("settings.appearance.businessHours.endTime.description")).addText(n=>{n.setValue(e.settings.businessHours.endTime),n.onChange(i=>ye(null,null,function*(){/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(i)&&(e.settings.businessHours.endTime=i,yield e.saveSettings())}))}).settingEl.addClass("fc-indented-setting")),new Ka.Setting(t).setName(W("settings.appearance.viewTimeRange.title")).setHeading(),new Ka.Setting(t).setName(W("settings.appearance.viewTimeRange.slotMinTime.label")).setDesc(W("settings.appearance.viewTimeRange.slotMinTime.description")).addText(n=>{n.setValue(e.settings.slotMinTime||"00:00"),n.onChange(i=>ye(null,null,function*(){/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(i)&&(e.settings.slotMinTime=i,yield e.saveSettings())}))}),new Ka.Setting(t).setName(W("settings.appearance.viewTimeRange.slotMaxTime.label")).setDesc(W("settings.appearance.viewTimeRange.slotMaxTime.description")).addText(n=>{n.setValue(e.settings.slotMaxTime||"24:00"),n.onChange(i=>ye(null,null,function*(){/^([01]?[0-9]|2[0-4]):[0-5][0-9]$/.test(i)&&(e.settings.slotMaxTime=i,yield e.saveSettings())}))}),new Ka.Setting(t).setName(W("settings.appearance.dayVisibility.title")).setHeading(),new Ka.Setting(t).setName(W("settings.appearance.dayVisibility.weekends.label")).setDesc(W("settings.appearance.dayVisibility.weekends.description")).addToggle(n=>{var i;n.setValue((i=e.settings.weekends)!=null?i:!0),n.onChange(a=>ye(null,null,function*(){e.settings.weekends=a,yield e.saveSettings()}))}),new Ka.Setting(t).setName(W("settings.appearance.dayVisibility.hiddenDays.label")).setDesc(W("settings.appearance.dayVisibility.hiddenDays.description")).addDropdown(n=>{n.addOption("[]",W("settings.appearance.dayVisibility.hiddenDays.options.showAll")),n.addOption("[0,6]",W("settings.appearance.dayVisibility.hiddenDays.options.hideWeekends")),n.addOption("[0]",W("settings.appearance.dayVisibility.hiddenDays.options.hideSunday")),n.addOption("[6]",W("settings.appearance.dayVisibility.hiddenDays.options.hideSaturday")),n.addOption("[1]",W("settings.appearance.dayVisibility.hiddenDays.options.hideMonday")),n.addOption("[2]",W("settings.appearance.dayVisibility.hiddenDays.options.hideTuesday")),n.addOption("[3]",W("settings.appearance.dayVisibility.hiddenDays.options.hideWednesday")),n.addOption("[4]",W("settings.appearance.dayVisibility.hiddenDays.options.hideThursday")),n.addOption("[5]",W("settings.appearance.dayVisibility.hiddenDays.options.hideFriday"));let i=JSON.stringify(e.settings.hiddenDays||[]);n.setValue(i),n.onChange(a=>ye(null,null,function*(){try{e.settings.hiddenDays=JSON.parse(a),yield e.saveSettings()}catch(o){}}))}),new Ka.Setting(t).setName(W("settings.appearance.dayMaxEvents.label")).setDesc(W("settings.appearance.dayMaxEvents.description")).addDropdown(n=>{var a;n.addOption("false",W("settings.appearance.dayMaxEvents.options.default")),n.addOption("true",W("settings.appearance.dayMaxEvents.options.unlimited")),n.addOption("1",W("settings.appearance.dayMaxEvents.options.one")),n.addOption("2",W("settings.appearance.dayMaxEvents.options.two")),n.addOption("3",W("settings.appearance.dayMaxEvents.options.three")),n.addOption("4",W("settings.appearance.dayMaxEvents.options.four")),n.addOption("5",W("settings.appearance.dayMaxEvents.options.five")),n.addOption("10",W("settings.appearance.dayMaxEvents.options.ten"));let i=((a=e.settings.dayMaxEvents)!=null?a:!1).toString();n.setValue(i),n.onChange(o=>ye(null,null,function*(){o==="true"?e.settings.dayMaxEvents=!0:o==="false"?e.settings.dayMaxEvents=!1:e.settings.dayMaxEvents=parseInt(o),yield e.saveSettings()}))}),new Ka.Setting(t).setName(W("settings.appearance.enableBackgroundEvents.label")).setDesc(W("settings.appearance.enableBackgroundEvents.description")).addToggle(n=>{n.setValue(e.settings.enableBackgroundEvents),n.onChange(i=>ye(null,null,function*(){e.settings.enableBackgroundEvents=i,yield e.saveSettings()}))}),new Ka.Setting(t).setName(W("settings.appearance.showEventInStatusBar.label")).setDesc(W("settings.appearance.showEventInStatusBar.description")).addToggle(n=>{n.setValue(e.settings.showEventInStatusBar),n.onChange(i=>ye(null,null,function*(){e.settings.showEventInStatusBar=i,yield e.saveSettings()}))})}var Ka,t4e,GK=Re(()=>{"use strict";Ka=require("obsidian");Pr();t4e=["settings.weekdays.sunday","settings.weekdays.monday","settings.weekdays.tuesday","settings.weekdays.wednesday","settings.weekdays.thursday","settings.weekdays.friday","settings.weekdays.saturday"]});function g6(){return"workspace_"+Math.random().toString(36).slice(2,11)}function y6(t){return{id:g6(),name:t,defaultView:void 0,defaultDate:void 0,visibleCalendars:void 0,categoryFilter:void 0,businessHours:void 0,timelineExpanded:void 0}}var v6,mE=Re(()=>{"use strict";v6={calendarSources:[],defaultCalendar:0,firstDay:0,initialView:{desktop:"timeGridWeek",mobile:"timeGrid3Days"},timeFormat24h:!1,clickToCreateEventFromMonthView:!0,displayTimezone:null,lastSystemTimezone:null,enableAdvancedCategorization:!1,chrono_analyser_config:null,categorySettings:[],useCustomGoogleClient:!1,googleClientId:"",googleClientSecret:"",googleAccounts:[],businessHours:{enabled:!1,daysOfWeek:[1,2,3,4,5],startTime:"09:00",endTime:"17:00"},enableBackgroundEvents:!0,enableReminders:!0,workspaces:[],activeWorkspace:null,showEventInStatusBar:!1,slotMinTime:"00:00",slotMaxTime:"24:00",weekends:!0,hiddenDays:[],dayMaxEvents:!1,enableDefaultReminder:!0,defaultReminderMinutes:10,currentVersion:null}});var wi,e0,YK=Re(()=>{"use strict";wi=require("obsidian");mE();Pr();e0=class extends wi.Modal{constructor(e,r,n,i){super(e.app),this.plugin=e,this.workspace=ae({},r),this.isNew=n,this.onSave=i}onOpen(){let{contentEl:e}=this;e.empty(),e.createEl("h2",{text:this.isNew?W("modals.workspace.title.create"):W("modals.workspace.title.edit")}),this.renderGeneralSection(e),this.renderViewSection(e),this.renderCalendarFilterSection(e),this.renderCategoryFilterSection(e),this.renderAppearanceSection(e),this.renderButtons(e)}onClose(){let{contentEl:e}=this;e.empty()}renderGeneralSection(e){let r=e.createEl("div",{cls:"workspace-modal-section"});r.createEl("h3",{text:W("modals.workspace.sections.general")}),new wi.Setting(r).setName(W("modals.workspace.fields.name.label")).setDesc(W("modals.workspace.fields.name.description")).addText(n=>{this.nameInput=n,n.setPlaceholder(W("modals.workspace.fields.name.placeholder")).setValue(this.workspace.name||"").onChange(i=>{this.workspace.name=i})})}renderViewSection(e){let r=e.createEl("div",{cls:"workspace-modal-section"});r.createEl("h3",{text:W("modals.workspace.sections.viewConfiguration")});let n={"":W("modals.workspace.fields.desktopView.label"),timeGridDay:W("settings.viewOptions.day"),timeGridWeek:W("settings.viewOptions.week"),dayGridMonth:W("settings.viewOptions.month"),listWeek:W("settings.viewOptions.list")};this.plugin.settings.enableAdvancedCategorization&&(n.resourceTimelineWeek=W("settings.viewOptions.timelineWeek"),n.resourceTimelineDay=W("settings.viewOptions.timelineDay")),new wi.Setting(r).setName(W("modals.workspace.fields.desktopView.label")).setDesc(W("modals.workspace.fields.desktopView.description")).addDropdown(a=>{var o;this.desktopViewDropdown=a,Object.entries(n).forEach(([s,l])=>{a.addOption(s,l)}),a.setValue(((o=this.workspace.defaultView)==null?void 0:o.desktop)||""),a.onChange(s=>{this.workspace.defaultView||(this.workspace.defaultView={}),this.workspace.defaultView.desktop=s||void 0})});let i={"":W("modals.workspace.fields.desktopView.label"),dayGridMonth:W("settings.viewOptions.month"),timeGrid3Days:W("settings.viewOptions.threeDays"),timeGridDay:W("settings.viewOptions.day"),listWeek:W("settings.viewOptions.list")};new wi.Setting(r).setName(W("modals.workspace.fields.mobileView.label")).setDesc(W("modals.workspace.fields.mobileView.description")).addDropdown(a=>{var o;this.mobileViewDropdown=a,Object.entries(i).forEach(([s,l])=>{a.addOption(s,l)}),a.setValue(((o=this.workspace.defaultView)==null?void 0:o.mobile)||""),a.onChange(s=>{this.workspace.defaultView||(this.workspace.defaultView={}),this.workspace.defaultView.mobile=s||void 0})}),new wi.Setting(r).setName(W("modals.workspace.fields.defaultDate.label")).setDesc(W("modals.workspace.fields.defaultDate.description")).addText(a=>{this.defaultDateInput=a,a.setPlaceholder(W("modals.workspace.fields.defaultDate.placeholder")).setValue(this.workspace.defaultDate||"").onChange(o=>{this.workspace.defaultDate=o||void 0})})}renderCalendarFilterSection(e){let r=e.createEl("div",{cls:"workspace-modal-section"});r.createEl("h3",{text:W("modals.workspace.sections.calendarFilters")});let n=this.plugin.providerRegistry.getAllSources();if(n.length===0){r.createEl("p",{text:W("modals.workspace.fields.visibleCalendars.noCalendars")});return}new wi.Setting(r).setName(W("modals.workspace.fields.visibleCalendars.label")).setDesc(W("modals.workspace.fields.visibleCalendars.description")).setClass("workspace-calendar-filter"),this.visibleCalendarsContainer=r.createEl("div",{cls:"workspace-calendar-checkboxes"}),this.renderCalendarCheckboxes(this.visibleCalendarsContainer,n)}renderCalendarCheckboxes(e,r){let n=new Set((this.workspace.visibleCalendars||[]).map(String));r.forEach(i=>{let a=e.createEl("div",{cls:"workspace-checkbox-item"}),o;switch(i.type){case"local":o=`${W("modals.workspace.calendarTypes.local")} ${i.directory}`;break;case"dailynote":o=`${W("modals.workspace.calendarTypes.dailyNotes")} ${i.heading}`;break;case"ical":try{o=`${W("modals.workspace.calendarTypes.ics")} ${new URL(i.url).hostname}`}catch(s){o=W("modals.workspace.calendarTypes.ics").replace(":","")}break;case"caldav":o=`${W("modals.workspace.calendarTypes.caldav")} ${i.name}`;break;case"google":o=`${W("modals.workspace.calendarTypes.google")} ${i.name}`;break;default:o=W("modals.workspace.calendarTypes.generic",{type:i.type})}new wi.Setting(a).setName(o).addToggle(s=>{let l=String(i.id);s.setValue(n.has(l)),s.onChange(c=>{let u=new Set((this.workspace.visibleCalendars||[]).map(String));c?u.add(l):u.delete(l);let d=Array.from(u);this.workspace.visibleCalendars=d.length>0?d:void 0})})})}renderCategoryFilterSection(e){let r=e.createEl("div",{cls:"workspace-modal-section"});if(r.createEl("h3",{text:W("modals.workspace.sections.categoryFilters")}),!this.plugin.settings.enableAdvancedCategorization){r.createEl("p",{text:W("modals.workspace.fields.categories.requiresAdvanced")});return}this.workspace.categoryFilter||(this.workspace.categoryFilter={mode:"show-only",categories:[]}),new wi.Setting(r).setName(W("modals.workspace.fields.categoryFilterMode.label")).setDesc(W("modals.workspace.fields.categoryFilterMode.description")).addDropdown(n=>{var i,a;n.addOption("show-only",W("modals.workspace.fields.categoryFilterMode.options.showOnly")),n.addOption("hide",W("modals.workspace.fields.categoryFilterMode.options.hide")),n.setValue((a=(i=this.workspace.categoryFilter)==null?void 0:i.mode)!=null?a:"show-only"),n.onChange(o=>{this.workspace.categoryFilter=this.workspace.categoryFilter||{mode:"show-only",categories:[]},this.workspace.categoryFilter.mode=o,this.renderCategoryCheckboxes()})}),new wi.Setting(r).setName(W("modals.workspace.fields.categories.label")).setDesc(W("modals.workspace.fields.categories.description")),this.categoryFilterContainer=r.createEl("div",{cls:"workspace-category-checkboxes"}),this.renderCategoryCheckboxes()}renderCategoryCheckboxes(){this.categoryFilterContainer.empty(),this.workspace.categoryFilter||(this.workspace.categoryFilter={mode:"show-only",categories:[]});let e=this.plugin.settings.categorySettings;if(e.length===0){this.categoryFilterContainer.createEl("p",{text:W("modals.workspace.fields.categories.noCategories")});return}e.forEach(r=>{let n=this.categoryFilterContainer.createEl("div",{cls:"workspace-checkbox-item"});new wi.Setting(n).setName(r.name).addToggle(i=>{var a;i.setValue((((a=this.workspace.categoryFilter)==null?void 0:a.categories)||[]).includes(r.name)),i.onChange(o=>{if(!this.workspace.categoryFilter)return;let s=this.workspace.categoryFilter.categories||[];o?s.includes(r.name)||(this.workspace.categoryFilter.categories=[...s,r.name]):this.workspace.categoryFilter.categories=s.filter(l=>l!==r.name)})})})}renderAppearanceSection(e){let r=e.createEl("div",{cls:"workspace-modal-section"});r.createEl("h3",{text:W("modals.workspace.sections.appearanceOverrides")}),new wi.Setting(r).setName(W("modals.workspace.fields.overrideBusinessHours.label")).setDesc(W("modals.workspace.fields.overrideBusinessHours.description")).addToggle(n=>{this.businessHoursToggle=n;let i=!!this.workspace.businessHours;n.setValue(i),n.onChange(a=>{a?this.workspace.businessHours={enabled:!0,daysOfWeek:[1,2,3,4,5],startTime:"09:00",endTime:"17:00"}:this.workspace.businessHours=void 0,this.renderBusinessHoursDetails()})}),this.businessHoursContainer=r.createEl("div",{cls:"workspace-business-hours-details"}),this.renderBusinessHoursDetails(),this.plugin.settings.enableAdvancedCategorization&&new wi.Setting(r).setName(W("modals.workspace.fields.timelineCategories.label")).setDesc(W("modals.workspace.fields.timelineCategories.description")).addDropdown(n=>{n.addOption("",W("modals.workspace.fields.timelineCategories.options.useDefault")),n.addOption("true",W("modals.workspace.fields.timelineCategories.options.expanded")),n.addOption("false",W("modals.workspace.fields.timelineCategories.options.collapsed"));let i=this.workspace.timelineExpanded;n.setValue(i===void 0?"":i.toString()),n.onChange(a=>{this.workspace.timelineExpanded=a===""?void 0:a==="true"})}),r.createEl("hr",{cls:"workspace-modal-separator"}),r.createEl("h4",{text:W("modals.workspace.sections.viewClipping")}),new wi.Setting(r).setName(W("modals.workspace.fields.slotMinTime.label")).setDesc(W("modals.workspace.fields.slotMinTime.description")).addText(n=>{n.setPlaceholder(W("modals.workspace.fields.slotMinTime.placeholder")).setValue(this.workspace.slotMinTime||"").onChange(i=>{this.workspace.slotMinTime=i.trim()||void 0})}),new wi.Setting(r).setName(W("modals.workspace.fields.slotMaxTime.label")).setDesc(W("modals.workspace.fields.slotMaxTime.description")).addText(n=>{n.setPlaceholder(W("modals.workspace.fields.slotMinTime.placeholder")).setValue(this.workspace.slotMaxTime||"").onChange(i=>{this.workspace.slotMaxTime=i.trim()||void 0})}),new wi.Setting(r).setName(W("modals.workspace.fields.weekendDisplay.label")).setDesc(W("modals.workspace.fields.weekendDisplay.description")).addDropdown(n=>{n.addOption("",W("modals.workspace.fields.slotMinTime.placeholder")),n.addOption("true",W("modals.workspace.fields.weekendDisplay.options.show")),n.addOption("false",W("modals.workspace.fields.weekendDisplay.options.hide"));let i=this.workspace.weekends;n.setValue(i===void 0?"":i.toString()),n.onChange(a=>{this.workspace.weekends=a===""?void 0:a==="true"})}),new wi.Setting(r).setName(W("modals.workspace.fields.hiddenDays.label")).setDesc(W("modals.workspace.fields.hiddenDays.description")).addDropdown(n=>{n.addOption("",W("modals.workspace.fields.slotMinTime.placeholder")),n.addOption("[]",W("modals.workspace.fields.hiddenDays.options.showAll")),n.addOption("[0,6]",W("modals.workspace.fields.hiddenDays.options.hideWeekends")),n.addOption("[0]",W("modals.workspace.fields.hiddenDays.options.hideSunday")),n.addOption("[6]",W("modals.workspace.fields.hiddenDays.options.hideSaturday")),n.addOption("[1]",W("modals.workspace.fields.hiddenDays.options.hideMonday")),n.addOption("[5]",W("modals.workspace.fields.hiddenDays.options.hideFriday"));let i=this.workspace.hiddenDays,a=i===void 0?"":JSON.stringify(i);n.setValue(a),n.onChange(o=>{if(o==="")this.workspace.hiddenDays=void 0;else try{this.workspace.hiddenDays=JSON.parse(o)}catch(s){}})}),new wi.Setting(r).setName(W("modals.workspace.fields.dayMaxEvents.label")).setDesc(W("modals.workspace.fields.dayMaxEvents.description")).addDropdown(n=>{n.addOption("",W("modals.workspace.fields.slotMinTime.placeholder")),n.addOption("false",W("modals.workspace.fields.dayMaxEvents.options.useDefault")),n.addOption("true",W("modals.workspace.fields.dayMaxEvents.options.noLimit")),n.addOption("1",W("modals.workspace.fields.dayMaxEvents.options.one")),n.addOption("2",W("modals.workspace.fields.dayMaxEvents.options.two")),n.addOption("3",W("modals.workspace.fields.dayMaxEvents.options.three")),n.addOption("4",W("modals.workspace.fields.dayMaxEvents.options.four")),n.addOption("5",W("modals.workspace.fields.dayMaxEvents.options.five")),n.addOption("10",W("modals.workspace.fields.dayMaxEvents.options.ten"));let i=this.workspace.dayMaxEvents,a=i===void 0?"":i.toString();n.setValue(a),n.onChange(o=>{o===""?this.workspace.dayMaxEvents=void 0:o==="true"?this.workspace.dayMaxEvents=!0:o==="false"?this.workspace.dayMaxEvents=!1:this.workspace.dayMaxEvents=parseInt(o)})})}renderBusinessHoursDetails(){this.businessHoursContainer.empty(),this.workspace.businessHours&&(new wi.Setting(this.businessHoursContainer).setName(W("modals.workspace.fields.enableBusinessHours.label")).setDesc(W("modals.workspace.fields.enableBusinessHours.description")).addToggle(e=>{var r;e.setValue(((r=this.workspace.businessHours)==null?void 0:r.enabled)||!1),e.onChange(n=>{this.workspace.businessHours&&(this.workspace.businessHours.enabled=n,this.renderBusinessHoursDetails())})}).settingEl.addClass("fc-indented-setting"),this.workspace.businessHours.enabled&&(new wi.Setting(this.businessHoursContainer).setName(W("modals.workspace.fields.businessDays.label")).setDesc(W("modals.workspace.fields.businessDays.description")).addDropdown(e=>{var n;e.addOption("1,2,3,4,5",W("settings.appearance.businessHours.options.mondayFriday")).addOption("0,1,2,3,4,5,6",W("settings.appearance.businessHours.options.everyDay")).addOption("1,2,3,4",W("settings.appearance.businessHours.options.mondayThursday")).addOption("2,3,4,5,6",W("settings.appearance.businessHours.options.tuesdaySaturday"));let r=((n=this.workspace.businessHours)==null?void 0:n.daysOfWeek.join(","))||"1,2,3,4,5";e.setValue(r),e.onChange(i=>{this.workspace.businessHours&&(this.workspace.businessHours.daysOfWeek=i.split(",").map(Number))})}).settingEl.addClass("fc-indented-setting"),new wi.Setting(this.businessHoursContainer).setName(W("modals.workspace.fields.businessHoursStart.label")).setDesc(W("modals.workspace.fields.businessHoursStart.description")).addText(e=>{var r;e.setValue(((r=this.workspace.businessHours)==null?void 0:r.startTime)||"09:00"),e.onChange(n=>{/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(n)&&this.workspace.businessHours&&(this.workspace.businessHours.startTime=n)})}).settingEl.addClass("fc-indented-setting"),new wi.Setting(this.businessHoursContainer).setName(W("modals.workspace.fields.businessHoursEnd.label")).setDesc(W("modals.workspace.fields.businessHoursEnd.description")).addText(e=>{var r;e.setValue(((r=this.workspace.businessHours)==null?void 0:r.endTime)||"17:00"),e.onChange(n=>{/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(n)&&this.workspace.businessHours&&(this.workspace.businessHours.endTime=n)})}).settingEl.addClass("fc-indented-setting")))}renderButtons(e){let r=e.createEl("div",{cls:"workspace-modal-buttons"});r.createEl("button",{text:W("modals.workspace.buttons.cancel")},n=>{n.addEventListener("click",()=>{this.close()})}),r.createEl("button",{text:this.isNew?W("modals.workspace.buttons.create"):W("modals.workspace.buttons.save"),cls:"mod-cta"},n=>{n.addEventListener("click",()=>{if(this.validateWorkspace()){if(this.workspace.categoryFilter){let i=Array.from(new Set(this.workspace.categoryFilter.categories||[]));this.workspace.categoryFilter.categories=i}this.onSave(this.workspace),this.close()}})})}validateWorkspace(){return!this.workspace.name||this.workspace.name.trim()===""?(this.nameInput.inputEl.focus(),!1):(this.workspace.id||(this.workspace.id=g6()),!0)}}});var ZK={};Wr(ZK,{renderWorkspaceSettings:()=>n4e});function n4e(t,e,r){let n=t.createEl("div");if(new vE.Setting(n).setName(W("settings.workspaces.title")).setDesc(W("settings.workspaces.description")).setHeading(),new vE.Setting(n).setName(W("settings.workspaces.addNew.label")).setDesc(W("settings.workspaces.addNew.description")).addButton(i=>{i.setButtonText(W("settings.workspaces.buttons.new")).setIcon("plus").onClick(()=>{let a=y6(W("settings.workspaces.defaultName"));new e0(e,a,!0,o=>{e.settings.workspaces.push(o),e.saveSettings(),r()}).open()})}),e.settings.workspaces.length>0){let i=n.createEl("div",{cls:"workspace-list"});e.settings.workspaces.forEach((a,o)=>{let s=i.createEl("div",{cls:"workspace-item"});new vE.Setting(s).setName(a.name).setDesc(i4e(a)).addButton(l=>{l.setButtonText(W("settings.workspaces.buttons.edit")).setIcon("pencil").onClick(()=>{new e0(e,a,!1,c=>{e.settings.workspaces[o]=c,e.saveSettings(),r()}).open()})}).addButton(l=>{l.setButtonText(W("settings.workspaces.buttons.duplicate")).setIcon("copy").onClick(()=>{let c=y6(W("settings.workspaces.copyName",{name:a.name}));Object.assign(c,We(ae({},a),{id:c.id,name:c.name})),new e0(e,c,!0,u=>{e.settings.workspaces.push(u),e.saveSettings(),r()}).open()})}).addButton(l=>{let c=e.settings.activeWorkspace===a.id;l.setButtonText(c?W("settings.workspaces.buttons.active"):W("settings.workspaces.buttons.activate")).setIcon(c?"check":"play").setDisabled(c).onClick(()=>ye(null,null,function*(){e.settings.activeWorkspace=a.id,yield e.saveSettings(),r()}))}).addButton(l=>{l.setButtonText(W("settings.workspaces.buttons.delete")).setIcon("trash-2").setWarning().onClick(()=>ye(null,null,function*(){e.settings.activeWorkspace===a.id&&(e.settings.activeWorkspace=null),e.settings.workspaces.splice(o,1),yield e.saveSettings(),r()}))})})}}function i4e(t){var r,n,i,a;let e=[];if((r=t.defaultView)!=null&&r.desktop||(n=t.defaultView)!=null&&n.mobile){let o=[];t.defaultView.desktop&&o.push(`Desktop: ${t.defaultView.desktop}`),t.defaultView.mobile&&o.push(`Mobile: ${t.defaultView.mobile}`),e.push(o.join(", "))}if((i=t.visibleCalendars)!=null&&i.length&&e.push(`Shows ${t.visibleCalendars.length} calendar(s)`),(a=t.categoryFilter)!=null&&a.categories.length){let o=t.categoryFilter.mode==="show-only"?"Shows":"Hides";e.push(`${o} ${t.categoryFilter.categories.length} categor${t.categoryFilter.categories.length===1?"y":"ies"}`)}return e.length>0?e.join(" \u2022 "):"Default settings"}var vE,$K=Re(()=>{"use strict";vE=require("obsidian");mE();YK();Pr();});var Dh,gE,b6=Re(()=>{"use strict";Dh=Lt(Lr());gE=({value:t,onChange:e,suggestions:r,id:n,placeholder:i,disabled:a,readOnly:o})=>(0,Dh.jsxs)(Dh.Fragment,{children:[(0,Dh.jsx)("input",{type:"text",list:n,value:t,placeholder:i,onChange:s=>e(s.target.value),disabled:a,readOnly:o}),(0,Dh.jsx)("datalist",{id:n,children:r.map(s=>(0,Dh.jsx)("option",{value:s},s))})]})});var yE,Fa,XK,KK=Re(()=>{"use strict";yE=Lt(zn());b6();f6();Fa=Lt(Lr());XK=({settings:t,suggestions:e,onSave:r})=>{let[n,i]=(0,yE.useState)(t),[a,o]=(0,yE.useState)(""),[s,l]=(0,yE.useState)(!1),c=()=>ye(null,null,function*(){yield r(n),l(!1)}),u=()=>{if(a.trim()===""||n.find(y=>y.name===a))return;let p=n.map(y=>y.color),m=fE(p),v={name:a,color:m};i([...n,v]),o(""),l(!0)},d=(p,m)=>{let v=[...n];v[p].color=m,i(v),l(!0)},f=(p,m)=>{let v=[...n];v[p].name=m,i(v),l(!0)},h=p=>{let m=[...n];m.splice(p,1),i(m),l(!0)};return(0,Fa.jsxs)("div",{className:"u-w-full",children:[n.map((p,m)=>(0,Fa.jsxs)("div",{className:"setting-item",children:[(0,Fa.jsx)("div",{className:"setting-item-control u-flex-1",children:(0,Fa.jsx)("input",{type:"text",value:p.name,onChange:v=>f(m,v.target.value),placeholder:"Category Name"})}),(0,Fa.jsx)("div",{className:"setting-item-control",children:(0,Fa.jsx)("input",{type:"color",value:p.color,onChange:v=>d(m,v.target.value),className:"u-min-w-3rem"})}),(0,Fa.jsx)("div",{className:"setting-item-control",children:(0,Fa.jsx)("button",{onClick:()=>h(m),children:"Delete"})})]},m)),(0,Fa.jsxs)("div",{className:"setting-item",children:[(0,Fa.jsx)("div",{className:"setting-item-control u-flex-1",children:(0,Fa.jsx)(gE,{id:"category-settings-autocomplete",value:a,onChange:o,suggestions:e,placeholder:"Add a new category..."})}),(0,Fa.jsx)("div",{className:"setting-item-control",children:(0,Fa.jsx)("button",{onClick:u,className:"mod-cta",children:"Add"})})]}),s&&(0,Fa.jsx)("div",{className:"setting-item",children:(0,Fa.jsx)("div",{className:"setting-item-control",children:(0,Fa.jsx)("button",{onClick:()=>void c(),className:"mod-cta",children:"Save Category Settings"})})})]})}});function l4e(t){if(typeof t!="object"||t===null)throw new Error("value for parsing was not an object.");let e="startTime"in t&&!!t.startTime,r=ae({type:"single",allDay:!e},t);return ae(ae(ae({},o4e.parse(r)),a4e.parse(r)),s4e.parse(r))}function Fs(t){try{return l4e(t)}catch(e){return e instanceof $a,null}}var wu,QK,a4e,o4e,s4e,w6=Re(()=>{"use strict";u6();wu=Ot.string(),QK=Ot.string(),a4e=Ot.discriminatedUnion("allDay",[Ot.object({allDay:Ot.literal(!0)}),Ot.object({allDay:Ot.literal(!1),startTime:QK,endTime:QK.nullable().default(null)})]),o4e=Ot.object({title:Ot.string(),id:Ot.string().optional(),uid:Ot.string().optional(),timezone:Ot.string().optional(),etag:Ot.string().optional(),category:Ot.string().optional(),subCategory:Ot.string().optional(),recurringEventId:Ot.string().optional(),endReminder:Ot.boolean().optional(),display:Ot.enum(["auto","block","list-item","background","inverse-background","none"]).optional(),description:Ot.string().optional(),url:Ot.string().optional(),notify:Ot.object({value:Ot.number().min(0).max(1440)}).optional()}),s4e=Ot.discriminatedUnion("type",[Ot.object({type:Ot.literal("single"),date:wu,endDate:wu.nullable().default(null),completed:wu.or(Ot.literal(!1)).or(Ot.literal(null)).optional()}),Ot.object({type:Ot.literal("recurring"),endDate:wu.nullable().default(null),daysOfWeek:Ot.array(Ot.enum(["U","M","T","W","R","F","S"])).optional(),month:Ot.number().int().min(1).max(12).optional(),dayOfMonth:Ot.number().int().min(1).max(31).optional(),repeatInterval:Ot.number().int().min(1).optional(),repeatOn:Ot.object({week:Ot.number().int().min(-1).max(4),weekday:Ot.number().int().min(0).max(6)}).optional(),startRecur:wu.optional(),endRecur:wu.optional(),isTask:Ot.boolean().optional(),skipDates:Ot.array(wu).default([])}),Ot.object({type:Ot.literal("rrule"),startDate:wu,endDate:wu.nullable().default(null),rrule:Ot.string(),skipDates:Ot.array(wu).default([]),isTask:Ot.boolean().optional()})]).superRefine((t,e)=>{if(t.type!=="recurring")return;let r=t.daysOfWeek!==void 0&&t.daysOfWeek.length>0,n=t.dayOfMonth!==void 0,i=t.repeatOn!==void 0;r&&n&&e.addIssue({code:Ot.ZodIssueCode.custom,message:"A recurring event cannot be both weekly (daysOfWeek) and monthly/yearly (dayOfMonth).",path:["daysOfWeek"]}),!r&&!n&&!i&&e.addIssue({code:Ot.ZodIssueCode.custom,message:"A recurring event must define a recurrence rule (either daysOfWeek, dayOfMonth, or repeatOn)."}),t.month!==void 0&&t.dayOfMonth===void 0&&e.addIssue({code:Ot.ZodIssueCode.custom,message:"A yearly recurring event (with month) must also have a dayOfMonth.",path:["month"]}),t.dayOfMonth!==void 0&&t.repeatOn!==void 0&&e.addIssue({code:Ot.ZodIssueCode.custom,message:"A monthly recurring event can repeat on a specific day of the month OR on a numbered weekday, but not both.",path:["repeatOn"]})})});var bE,Ah=Re(()=>{"use strict";w6();bE="full-calendar-plugin"});function v4e(t){return Object.fromEntries(Array.from(t.matchAll(d4e)).map(e=>[e[1],f4e(e[2])]))}function tQ(t,e,r){return e.map(n=>{let i=n.position.start.line,a=t.split(`
`)[i],o=t0(a,r);return o?{event:o,lineNumber:i}:null}).flatMap(n=>n?[n]:[])}var c4e,JK,u4e,d4e,f4e,h4e,p4e,$x,m4e,eQ,t0,Xx,x6,T6=Re(()=>{"use strict";da();Ah();c4e=/\s*\[.*?\]\s*/g,JK=/^(\s*)-\s+(\[(.)\]\s+)?/,u4e=/^\s*-\s+\[(.)\]\s+/,d4e=/\[([^\]]+):: ?([^\]]+)\]/g,f4e=t=>t==="true"?!0:t==="false"?!1:t,h4e=t=>{let e=t.match(u4e);return!e||!e[1]?null:e[1]===" "?!1:e[1]},p4e=(t,e,r)=>{if(!e.headings)return null;let n=null,i=null,a=null;for(let o of e.headings)if(!n&&o.heading===t)n=o.level,i=o.position;else if(n&&o.level<=n){a=o.position;break}return!n||!i?null:{start:i.end,end:(a==null?void 0:a.start)||r}},$x=(t,e)=>{var i,a,o;if(!e.listItems)return[];let r=(a=(i=e.sections)==null?void 0:i.last())==null?void 0:a.position.end;if(!r)return[];let n=p4e(t,e,r);return n?(o=e.listItems)==null?void 0:o.filter(s=>n.start.offset<s.position.start.offset&&s.position.end.offset<=n.end.offset):[]},m4e=t=>Object.entries(t).map(([e,r])=>`[${e}:: ${String(r)}]`).join("  "),eQ=(t,e="",r)=>{if(t.type!=="single")throw new Error("Can only pass in single event.");let{completed:n,title:i}=t,a=n!=null?`[${n?"x":" "}]`:null,o=i,s=ae({},t);s.endDate&&s.date===s.endDate&&(s.endDate=null),delete s.completed,delete s.title,delete s.type,delete s.date,delete s.category,delete s.subCategory;for(let l of Object.keys(s))(s[l]===void 0||s[l]===null)&&delete s[l];return s.allDay||delete s.allDay,`${e}- ${a||""} ${o} ${m4e(s)}`};t0=(t,e)=>{let r=v4e(t),n=Object.keys(r).length>0;if(!n)return null;let a=t.replace(JK,"").replace(c4e,"").replace(/\s+/g," ").trim();if(!a&&!n)return null;let o={title:a},s=!("startTime"in r&&r.startTime),l=We(ae(ae(We(ae({},o),{completed:h4e(t)}),e),r),{allDay:s}),c=l.startTime,u=l.endTime;if(!l.endDate&&!s&&typeof c=="string"&&typeof u=="string"&&u<c){let d=l.date;d&&(l.endDate=et.fromISO(d).plus({days:1}).toISODate())}return"date"in l||(l.date="1970-01-01"),Fs(l)};Xx=(t,e,r)=>{let n=t.match(JK);return n?eQ(e,n[1],r):(console.warn("Tried modifying a list item with a position that wasn't a list item",{line:t}),null)},x6=(t,{heading:e,item:r,headingText:n},i)=>{let a=t.split(`
`),o=eQ(r,"",i);if(e){let l=e.position.start.line+1;return a.splice(l,0,o),{page:a.join(`
`),lineNumber:l}}else return a.push(`## ${n}`),a.push(o),{page:a.join(`
`),lineNumber:a.length-1}}});function xu(t,e){let r=t.split(" - ");if(r.length>=3){let n=r[0].trim(),i=r[1].trim(),a=r.slice(2).join(" - ").trim();if(n&&i&&a)return!e||e.has(n)?{category:n,subCategory:i,title:a}:(console.debug(`[Full Calendar] Category "${n}" detected in title but not defined. Showing full title: "${t}"`),{category:void 0,subCategory:void 0,title:t})}if(r.length===2){let n=r[0].trim(),i=r[1].trim();if(n&&i)return!e||e.has(n)?{category:n,subCategory:void 0,title:i}:(console.debug(`[Full Calendar] Category "${n}" detected in title but not defined. Showing full title: "${t}"`),{category:void 0,subCategory:void 0,title:t})}return{category:void 0,subCategory:void 0,title:t}}function rQ(t){let e=t.split(" - ");if(e.length>=2){let r=e[0].trim(),n=e.slice(1).join(" - ").trim();if(r&&n)return{subCategory:r,title:n}}return{subCategory:void 0,title:t}}function is(t,e,r){return t&&e?`${t} - ${e} - ${r}`:t?`${t} - ${r}`:e?`${e} - ${r}`:r}var Pm=Re(()=>{"use strict";});function nQ(t){return ye(this,null,function*(){let e=new Set,r=t.settings.calendarSources.filter(i=>i.type==="local");for(let i of r){let a=t.app.vault.getAbstractFileByPath(i.directory);if(a instanceof Dl.TFolder){let o=s=>{for(let l of s.children)l instanceof Dl.TFile?e.add(l):l instanceof Dl.TFolder&&o(l)};o(a)}}if(t.settings.calendarSources.filter(i=>i.type==="dailynote").length>0){let{folder:i}=(0,S6.getDailyNoteSettings)();if(i){let a=t.app.vault.getAbstractFileByPath(i);if(a instanceof Dl.TFolder)for(let o of a.children)o instanceof Dl.TFile&&e.add(o)}}return Array.from(e)})}function iQ(t,e,r){return ye(this,null,function*(){let n=u=>{if(e==="force_default")return r;if(!(!u.parent||u.parent.isRoot()))return u.parent.name},i=e!=="smart",a=yield nQ(t);if(a.length===0){new Dl.Notice(W("notices.bulkCategorization.noNotesFound"));return}let o=new Set(t.settings.categorySettings.map(u=>u.name)),s=u=>ye(null,null,function*(){yield t.app.fileManager.processFrontMatter(u,d=>{let f=Fs(d);if(!f||!f.title)return;let{category:h,title:p}=xu(f.title,o);if(h&&!i)return;let m=n(u);if(!m)return;let v=i?f.title:p;d.title=is(m,void 0,v)})}),l=u=>ye(null,null,function*(){let d=t.settings.calendarSources.filter(f=>f.type==="dailynote");yield t.app.vault.process(u,f=>{let h=t.app.metadataCache.getFileCache(u);if(!h)return f;let p=f.split(`
`),m=!1;for(let v of d){let y=$x(v.heading,h);if(y.length!==0)for(let b of y){let x=b.position.start.line,w=p[x],S=t0(w,{});if(!S)continue;let{category:_}=xu(S.title,o);if(_&&!i)continue;let C=n(u);if(!C)continue;let E=w.replace(/^(\s*)-\s+(\[(.)\]\s+)?/,"").replace(/\s*\[.*?\]\s*/g,"").trim(),M=i?E:S.title,I=is(C,void 0,M),{category:L,subCategory:O,title:H}=xu(I,o),Y=We(ae({},S),{title:H,category:L,subCategory:O}),K=Xx(w,Y,t.settings);K&&(p[x]=K,m=!0)}}return m?p.join(`
`):f})}),c=u=>ye(null,null,function*(){yield s(u),yield l(u)});yield t.nonBlockingProcess(a,c,"Categorizing event notes"),new Dl.Notice(W("notices.bulkCategorization.complete"))})}function aQ(t){return ye(this,null,function*(){let e=new Set(t.settings.categorySettings.map(o=>o.name)),r=yield nQ(t);if(r.length===0){new Dl.Notice(W("notices.bulkDecategorization.noNotesFound"));return}let n=o=>ye(null,null,function*(){var l;let s=(l=o.parent)==null?void 0:l.name;s&&e.add(s),yield t.app.fileManager.processFrontMatter(o,c=>{if(!c.title||typeof c.title!="string")return;let{category:u,title:d}=xu(c.title,e);u&&e.has(u)&&(c.title=d)})}),i=o=>ye(null,null,function*(){let{folder:s}=(0,S6.getDailyNoteSettings)(),l=s==null?void 0:s.split("/").filter(u=>u).pop();l&&e.add(l);let c=t.settings.calendarSources.filter(u=>u.type==="dailynote");yield t.app.vault.process(o,u=>{let d=t.app.metadataCache.getFileCache(o);if(!d)return u;let f=u.split(`
`),h=!1;for(let p of c){let m=$x(p.heading,d);if(m.length!==0)for(let v of m){let y=v.position.start.line,b=f[y],x=t0(b,{});if(!x)continue;let{category:w,title:S}=xu(x.title,e);if(!w||!e.has(w))continue;let _=We(ae({},x),{title:S,category:void 0}),C=Xx(b,_,t.settings);C&&C!==b&&(f[y]=C,h=!0)}}return h?f.join(`
`):u})}),a=o=>ye(null,null,function*(){yield n(o),yield i(o)});yield t.nonBlockingProcess(r,a,"De-categorizing event notes"),new Dl.Notice(W("notices.bulkDecategorization.complete"))})}var Dl,S6,oQ=Re(()=>{"use strict";Dl=require("obsidian"),S6=Lt(iE());T6();Pm();w6();Pr();});var sQ={};Wr(sQ,{BulkCategorizeModal:()=>_6});var Mh,_6,lQ=Re(()=>{"use strict";Mh=require("obsidian");Pr();_6=class extends Mh.Modal{constructor(e,r){super(e),this.onSubmit=r}onOpen(){let{contentEl:e}=this;e.empty(),e.createEl("h2",{text:W("modals.bulkCategorize.title")}),e.createEl("p",{text:W("modals.bulkCategorize.description")}),new Mh.Setting(e).setName(W("modals.bulkCategorize.smartFolder.name")).setDesc(W("modals.bulkCategorize.smartFolder.description")).addButton(n=>n.setButtonText(W("modals.bulkCategorize.smartFolder.button")).setCta().onClick(()=>{this.onSubmit("smart"),this.close()})),new Mh.Setting(e).setName(W("modals.bulkCategorize.forcedFolder.name")).setDesc(W("modals.bulkCategorize.forcedFolder.description")).addButton(n=>n.setButtonText(W("modals.bulkCategorize.forcedFolder.button")).setWarning().onClick(()=>{this.onSubmit("force_folder"),this.close()}));let r;new Mh.Setting(e).setName(W("modals.bulkCategorize.forcedDefault.name")).setDesc(W("modals.bulkCategorize.forcedDefault.description")).addText(n=>{r=n,n.setPlaceholder(W("modals.bulkCategorize.forcedDefault.placeholder"))}).addButton(n=>n.setButtonText(W("modals.bulkCategorize.forcedDefault.button")).setWarning().onClick(()=>{let i=r.getValue().trim();if(i===""){new Mh.Notice(W("modals.bulkCategorize.forcedDefault.errorEmpty"));return}this.onSubmit("force_default",i),this.close()}))}onClose(){this.contentEl.empty()}}});var dQ={};Wr(dQ,{renderCategorizationSettings:()=>g4e});function g4e(t,e,r){let n=document.createDocumentFragment();if(n.appendText(`${W("settings.categorization.learnMore")} `),n.createEl("a",{text:W("settings.categorization.learnMoreLink"),href:"https://youfoundjk.github.io/plugin-full-calendar/events/categories"}),n.appendText("."),new r0.Setting(t).setName(W("settings.categorization.title")).setHeading().setDesc(n),new r0.Setting(t).setName(W("settings.categorization.enable.label")).setDesc(W("settings.categorization.enable.description")).addToggle(i=>{i.setValue(e.settings.enableAdvancedCategorization).onChange(a=>ye(null,null,function*(){if(a){let{BulkCategorizeModal:o}=yield Promise.resolve().then(()=>(lQ(),sQ));new o(e.app,(s,l)=>{ye(null,null,function*(){e.settings.enableAdvancedCategorization=!0,yield e.saveData(e.settings),yield iQ(e,s,l),r()})}).open()}else{let o=new r0.Modal(e.app);o.modalEl.addClass("full-calendar-confirm-modal");let{contentEl:s}=o;s.createEl("h2",{text:W("settings.categorization.disable.modalTitle")}),s.createEl("p",{text:W("settings.categorization.disable.modalDescription")}),new r0.Setting(s).addButton(l=>l.setButtonText(W("settings.categorization.disable.buttonDisable")).setWarning().onClick(()=>ye(null,null,function*(){e.settings.enableAdvancedCategorization=!1,e.settings.categorySettings=[],yield e.saveData(e.settings),yield aQ(e),o.close(),r()}))).addButton(l=>l.setButtonText(W("settings.categorization.disable.buttonCancel")).onClick(()=>{i.setValue(!0),o.close()})),o.open()}}))}),e.settings.enableAdvancedCategorization){let i=t.createDiv(),a=uQ.createRoot(i),o=e.cache.getAllCategories(),s=new Set(e.settings.categorySettings.map(c=>c.name)),l=o.filter(c=>!s.has(c));a.render((0,cQ.createElement)(XK,{settings:e.settings.categorySettings,suggestions:l,onSave:c=>ye(null,null,function*(){e.settings.categorySettings=c,yield e.saveSettings()})}))}}var cQ,r0,uQ,fQ=Re(()=>{"use strict";cQ=Lt(zn()),r0=require("obsidian"),uQ=Lt(Hy());KK();oQ();Pr();});var xE,C6,k6,wE,hQ=Re(()=>{"use strict";xE=require("obsidian"),C6=Lt(Hy()),k6=Lt(zn());hE();m6();Yx();wE=class extends xE.Modal{constructor(e,r){super(e),this.plugin=r}onOpen(){ye(this,null,function*(){let{contentEl:e}=this;e.empty(),e.addClass("full-calendar-whats-new-modal"),e.createEl("h2",{text:"What's new in full calendar"});let r=e.createDiv("full-calendar-whats-new-react-root"),n=C6.createRoot(r),i=Lm[0];n.render((0,k6.createElement)("div",{},(0,k6.createElement)(pE,{version:i,isInitiallyOpen:!0,embedded:!0})));let a=e.createDiv("full-calendar-whats-new-footer");new xE.Setting(a).addButton(o=>o.setButtonText("See all changelogs").onClick(()=>ye(this,null,function*(){this.close();let s=this.plugin.settingsTab;if(s){s.showChangelog();let l=this.plugin.app.setting;l.open(),l.openTabById(this.plugin.manifest.id)}}))).addButton(o=>o.setButtonText("Close").setCta().onClick(()=>{this.close()}))})}onClose(){let{contentEl:e}=this;C6.createRoot(e).unmount(),e.empty()}}});var E6={};Wr(E6,{checkAndShowWhatsNew:()=>y4e,renderWhatsNew:()=>b4e});function y4e(t){let e=Lm[0].version;t.app.workspace.onLayoutReady(()=>ye(null,null,function*(){(t.settings.currentVersion===null||t.settings.currentVersion!==e)&&(new wE(t.app,t).open(),t.settings.currentVersion=e,yield t.saveSettings())}))}function b4e(t,e){let r=t.createDiv("full-calendar-whats-new-container"),n=Lm[0],i=r.createDiv("full-calendar-whats-new-header");new TE.Setting(i).setName(W("settings.changelog.whatsNew")).setHeading().setDesc(`Version ${n.version}`),new TE.Setting(i).addExtraButton(o=>{o.setIcon("ellipsis").setTooltip(W("settings.changelog.viewFull")).onClick(e)}),r.createEl("hr",{cls:"settings-view-new-divider"});let a=r.createDiv("full-calendar-whats-new-list");n.changes.forEach(o=>{let s=new TE.Setting(a).setName(o.title).setDesc(o.description),l=document.createElement("span");l.className=`change-icon-settings change-type-${o.type}`,o.type==="new"?l.setText("+"):o.type==="improvement"?l.setText("\u{1F527}"):o.type==="fix"&&l.setText("\u{1F41B}"),s.nameEl.prepend(l),s.settingEl.addClass("full-calendar-whats-new-item"),s.controlEl.empty()})}var TE,D6=Re(()=>{"use strict";TE=require("obsidian");hE();Yx();Pr();hQ();});var pQ,mQ,ma,A6,SE,w4e,vQ=Re(()=>{"use strict";pQ=require("obsidian"),mQ=Lt(zn());Pr();ma=Lt(Lr());A6=({children:t,setting:e,onColorChange:r,onNameChange:n,deleteCalendar:i})=>(0,ma.jsxs)("div",{className:"setting-item",children:[(0,ma.jsx)("button",{type:"button",onClick:i,className:"fc-setting-delete-btn",children:"\u2715"}),(0,ma.jsx)("div",{className:"setting-item-control u-flex-1",children:(0,ma.jsx)("input",{type:"text",value:e.name||"",className:"fc-setting-input",onChange:a=>n(a.target.value)})}),t,(0,ma.jsx)("input",{type:"color",value:e.color,className:"fc-setting-color-input",onChange:a=>r(a.target.value)})]}),SE=class extends mQ.Component{constructor(r){super(r);this.addSource=r=>{this.setState(n=>({sources:[...n.sources,r],dirty:!0}))};this.getUsedDirectories=()=>this.state.sources.map(r=>r.type==="local"&&r.directory).filter(r=>!!r);this.updateSourceName=(r,n)=>{this.setState(i=>{let a=[...i.sources];return a[r]=We(ae({},a[r]),{name:n}),{sources:a,dirty:!0}})};this.state={sources:r.sources,dirty:!1}}render(){return(0,ma.jsxs)("div",{className:"u-w-full",children:[this.state.sources.map((r,n)=>(0,ma.jsx)(w4e,{setting:r,plugin:this.props.plugin,onNameChange:i=>this.updateSourceName(n,i),onColorChange:i=>this.setState(a=>({sources:[...a.sources.slice(0,n),We(ae({},a.sources[n]),{color:i}),...a.sources.slice(n+1)],dirty:!0})),deleteCalendar:()=>this.setState(i=>({sources:[...i.sources.slice(0,n),...i.sources.slice(n+1)],dirty:!0}))},n)),(0,ma.jsx)("div",{className:"setting-item-control",children:this.state.dirty&&(0,ma.jsx)("button",{className:"mod-cta",onClick:()=>{if(this.state.sources.filter(r=>r.type==="dailynote").length>1){new pQ.Notice(W("settings.warnings.oneDailyNote"));return}this.props.submit(this.state.sources.map(r=>r)),this.setState({dirty:!1})},children:"Save"})})]})}},w4e=({setting:t,onColorChange:e,onNameChange:r,deleteCalendar:n,plugin:i})=>{let a=i.providerRegistry,o=t.id?a.getInstance(t.id):null,s={setting:t,onColorChange:e,onNameChange:r,deleteCalendar:n};if(o){if(typeof o.getSettingsRowComponent!="function"){console.warn("Full Calendar: Provider instance missing getSettingsRowComponent method. Using fallback display. Please reload the plugin.");let c=t.name||t.type||"Unknown";return(0,ma.jsx)(A6,We(ae({},s),{children:(0,ma.jsx)("div",{className:"setting-item-control",children:(0,ma.jsxs)("span",{children:[c," calendar"]})})}))}let l=o.getSettingsRowComponent();return(0,ma.jsx)(A6,We(ae({},s),{children:(0,ma.jsx)(l,{source:t})}))}return(0,ma.jsx)(A6,We(ae({},s),{children:(0,ma.jsx)("div",{className:"setting-item-control",children:(0,ma.jsx)("span",{children:"Provider not found"})})}))}});var wQ={};Wr(wQ,{renderCalendarManagement:()=>x4e});function x4e(t,e,r){new gQ.Setting(t).setName(W("settings.calendars.title")).setHeading(),t.createEl("hr",{cls:"settings-view-new-divider"});let n=t.createDiv();yQ.createRoot(n).render((0,bQ.createElement)(SE,{ref:r,sources:e.providerRegistry.getAllSources(),plugin:e,submit:a=>{ye(null,null,function*(){e.settings.calendarSources=a,yield e.saveSettings()})}})),Kx(e,t,a=>{var o;(o=r.current)==null||o.addSource(a)},()=>{var a,o;return(o=(a=r.current)==null?void 0:a.getUsedDirectories())!=null?o:[]})}var gQ,yQ,bQ,xQ=Re(()=>{"use strict";gQ=require("obsidian"),yQ=Lt(Hy()),bQ=Lt(zn());_E();vQ();Pr();});var n0,T4e,S4e,_4e,C4e,Tu,Qx=Re(()=>{"use strict";n0=require("obsidian");Pr();T4e="https://oauth2.googleapis.com/token",S4e="https://gcal-proxy-server.vercel.app/api/google/refresh",_4e="272284435724-ltjbog78np5lnbjhgecudaqhsfba9voi.apps.googleusercontent.com",C4e="https://www.googleapis.com/calendar/v3/users/me/calendarList/primary",Tu=class{constructor(e){this.plugin=e}refreshAccessToken(e,r){return ye(this,null,function*(){let{settings:n}=this.plugin;if(!e.refreshToken){let l="email"in e?e.email:"unknown",c="id"in e?e.id:"unknown";return console.error(`No refresh token available. Account: ${l} (ID: ${c})`),null}let i=n.useCustomGoogleClient?n.googleClientId:_4e,a,o,s;if(n.useCustomGoogleClient)a=T4e,o=new URLSearchParams({grant_type:"refresh_token",client_id:i,refresh_token:e.refreshToken,client_secret:n.googleClientSecret}).toString(),s={"Content-Type":"application/x-www-form-urlencoded"};else{a=S4e;let l={client_id:i,refresh_token:e.refreshToken};o=JSON.stringify(l),s={"Content-Type":"application/json"}}try{let l=yield(0,n0.requestUrl)({method:"POST",url:a,headers:s,body:o,throw:!1});if(l.status>=200&&l.status<300){let c=l.json;return e.accessToken=c.access_token,e.expiryDate=Date.now()+c.expires_in*1e3,yield this.plugin.saveSettings(),c.access_token}if(console.error(`Failed to refresh Google access token. Status: ${l.status} Body: ${l.text}`),l.status===400||l.status===401){if(!r&&"id"in e){let c=this.plugin.settings.googleAccounts.find(u=>u.id===e.id);c&&(c.accessToken=null,c.refreshToken=null,c.expiryDate=null)}yield this.plugin.saveSettings(),new n0.Notice(W("google.auth.expired"))}return null}catch(l){return console.error("Network error during Google token refresh:",l),null}})}getTokenForSource(e){return ye(this,null,function*(){if(!e.googleAccountId)return console.error("Google source is missing a googleAccountId. It may need to be re-added.",e),new n0.Notice(W("google.auth.authFailed")),null;let r=this.plugin.settings.googleAccounts.find(n=>n.id===e.googleAccountId);return r?r.accessToken&&r.expiryDate&&Date.now()<r.expiryDate-6e4?r.accessToken:this.refreshAccessToken(r,!1):(console.error(`Could not find Google account with ID: ${e.googleAccountId}`),null)})}getPrimaryCalendarId(e){return ye(this,null,function*(){return(yield(0,n0.requestUrl)({url:C4e,headers:{Authorization:`Bearer ${e}`}})).json.id})}addAccount(e){return ye(this,null,function*(){let r=yield this.getPrimaryCalendarId(e.accessToken),n=ae({id:`gcal_${r}`,email:r},e),i=this.plugin.settings.googleAccounts||[],a=i.findIndex(o=>o.id===n.id);return a!==-1?i[a]=n:i.push(n),this.plugin.settings.googleAccounts=i,yield this.plugin.saveSettings(),this.plugin.app.workspace.trigger("full-calendar:google-account-added"),n})}removeAccount(e){return ye(this,null,function*(){this.plugin.settings.googleAccounts=(this.plugin.settings.googleAccounts||[]).filter(r=>r.id!==e),this.plugin.settings.calendarSources=this.plugin.settings.calendarSources.filter(r=>!(r.type==="google"&&r.googleAccountId===e)),yield this.plugin.saveSettings()})}}});var TQ={};Wr(TQ,{renderGoogleSettings:()=>k4e});function k4e(t,e,r){let n=new Tu(e);new i0.Setting(t).setName(W("google.title")).setHeading(),new i0.Setting(t).setName(W("google.customCredentials.enable.label")).setDesc(W("google.customCredentials.enable.description")).addToggle(a=>{a.setValue(e.settings.useCustomGoogleClient).onChange(o=>ye(null,null,function*(){e.settings.useCustomGoogleClient=o,yield e.saveSettings(),r()}))}),e.settings.useCustomGoogleClient&&(new i0.Setting(t).setName(W("google.customCredentials.clientId.label")).setDesc(W("google.customCredentials.clientId.description")).addText(a=>{a.setValue(e.settings.googleClientId).onChange(o=>ye(null,null,function*(){e.settings.googleClientId=o,yield e.saveSettings()}))}),new i0.Setting(t).setName(W("google.customCredentials.clientSecret.label")).setDesc(W("google.customCredentials.clientSecret.description")).addText(a=>{a.inputEl.type="password",a.setValue(e.settings.googleClientSecret).onChange(o=>ye(null,null,function*(){e.settings.googleClientSecret=o,yield e.saveSettings()}))}));let i=e.settings.googleAccounts||[];i.length===0&&t.createEl("p",{text:W("google.noAccounts")}),i.forEach(a=>{new i0.Setting(t).setName(a.email).setDesc(W("google.accountDescription",{id:a.id})).addButton(o=>{o.setButtonText(W("google.buttons.disconnect")).setWarning().onClick(()=>ye(null,null,function*(){yield n.removeAccount(a.id),r()}))})})}var i0,SQ=Re(()=>{"use strict";i0=require("obsidian");Qx();Pr();});var _Q={};Wr(_Q,{renderRemindersSettings:()=>E4e});function E4e(t,e,r){new CE.Setting(t).setName(W("settings.reminders.title")).setHeading(),new CE.Setting(t).setName(W("settings.reminders.enableDefault.label")).setDesc(W("settings.reminders.enableDefault.description")).addToggle(n=>{n.setValue(e.settings.enableDefaultReminder),n.onChange(i=>ye(null,null,function*(){e.settings.enableDefaultReminder=i,yield e.saveSettings(),r()}))}),e.settings.enableDefaultReminder&&new CE.Setting(t).setName(W("settings.reminders.defaultTime.label")).setDesc(W("settings.reminders.defaultTime.description")).addText(n=>{n.inputEl.type="number",n.setValue(String(e.settings.defaultReminderMinutes)),n.onChange(i=>ye(null,null,function*(){let a=parseInt(i,10);!isNaN(a)&&a>=0&&(e.settings.defaultReminderMinutes=a,yield e.saveSettings())}))})}var CE,CQ=Re(()=>{"use strict";CE=require("obsidian");Pr();});var DQ={};Wr(DQ,{FullCalendarSettingTab:()=>M6,addCalendarButton:()=>Kx});function Kx(t,e,r,n){let i;return new Al.Setting(e).setName(W("settings.calendars.title")).setDesc(W("settings.calendars.addCalendar")).addDropdown(a=>i=a.addOptions({local:W("settings.calendars.types.local"),dailynote:W("settings.calendars.types.dailynote"),icloud:W("settings.calendars.types.icloud"),caldav:W("settings.calendars.types.caldav"),ical:W("settings.calendars.types.ical"),google:W("settings.calendars.types.google"),tasks:W("settings.calendars.types.tasks"),bases:W("settings.calendars.types.bases")})).addExtraButton(a=>{a.setTooltip(W("settings.calendars.addCalendarTooltip")),a.setIcon("plus-with-circle"),a.onClick(()=>ye(null,null,function*(){var d,f;let o=i.getValue();if(o==="bases"){let h=t.app;if(!(((d=h.internalPlugins)==null?void 0:d.getPluginById("bases"))||((f=h.plugins)==null?void 0:f.getPlugin("bases")))){new Al.Notice(W("settings.calendars.notices.enableBases"));return}}let s=o==="icloud"?"caldav":o,l=yield t.providerRegistry.getProviderForType(s);if(!l){new Al.Notice(W("notices.providerNotRegistered",{providerType:s}));return}let c=l.getConfigurationComponent(),u=new xc(t.app,()=>ye(null,null,function*(){var w,S;yield t.loadSettings();let h=n?n():[],p=t.app.vault.getAllLoadedFiles().filter(_=>_ instanceof Al.TFolder).map(_=>_.path),m=[],{template:v}=(0,EQ.getDailyNoteSettings)();if(v){v.endsWith(".md")||(v+=".md");let _=t.app.vault.getAbstractFileByPath(v);_ instanceof Al.TFile&&(m=((S=(w=t.app.metadataCache.getFileCache(_))==null?void 0:w.headings)==null?void 0:S.map(C=>C.heading))||[])}let y=t.settings.calendarSources.map(_=>_.color),x={plugin:t,config:o==="icloud"?{url:"https://caldav.icloud.com"}:{},context:{allDirectories:p.filter(_=>h.indexOf(_)===-1),usedDirectories:h,headings:m},onClose:()=>u.close(),onConfigChange:()=>{},onSave:(_,C)=>{ye(null,null,function*(){let E=Array.isArray(_)?_:[_],M=t.settings.calendarSources.map(I=>I.id);for(let I of E){let L=Jy(s,M);M.push(L);let O=zK(s,y),H=ae(ae(We(ae(ae({},O),I),{id:L}),C&&{googleAccountId:C}),s==="google"&&{calendarId:I.id});yield t.providerRegistry.addInstance(H),r(H),y.push(H.color)}u.close()})}};return(0,Jx.createElement)(c,x)}));u.open()}))})}var Al,kQ,Jx,EQ,M6,_E=Re(()=>{"use strict";Al=require("obsidian");eE();kQ=Lt(Hy()),Jx=Lt(zn()),EQ=Lt(iE());Gx();Gx();Pr();Yx();M6=class extends Al.PluginSettingTab{constructor(r,n,i){super(r,n);this.showFullChangelog=!1;this.calendarSettingsRef=(0,Jx.createRef)();this.plugin=n,this.registry=i}display(){ye(this,null,function*(){this.containerEl.empty(),this.showFullChangelog?yield this._renderFullChangelog():yield this._renderMainSettings()})}showChangelog(){this.showFullChangelog=!0,this.display()}_renderFullChangelog(){return ye(this,null,function*(){let r=kQ.createRoot(this.containerEl),{Changelog:n}=yield Promise.resolve().then(()=>(m6(),UK));r.render((0,Jx.createElement)(n,{onBack:()=>{this.showFullChangelog=!1,this.display()}}))})}_renderMainSettings(){return ye(this,null,function*(){let[r,n,i,a,o,s,l,c,u]=yield Promise.all([Promise.resolve().then(()=>(VK(),jK)).then(d=>d.renderGeneralSettings),Promise.resolve().then(()=>(GK(),WK)).then(d=>d.renderAppearanceSettings),Promise.resolve().then(()=>($K(),ZK)).then(d=>d.renderWorkspaceSettings),Promise.resolve().then(()=>(fQ(),dQ)).then(d=>d.renderCategorizationSettings),Promise.resolve().then(()=>(D6(),E6)).then(d=>d.renderWhatsNew),Promise.resolve().then(()=>(xQ(),wQ)).then(d=>d.renderCalendarManagement),Promise.resolve().then(()=>(SQ(),TQ)).then(d=>d.renderGoogleSettings),Promise.resolve().then(()=>(CQ(),_Q)).then(d=>d.renderRemindersSettings),Promise.resolve().then(()=>(p6(),FK)).then(d=>d.renderFooter)]);r(this.containerEl,this.plugin,()=>{this.display()}),n(this.containerEl,this.plugin,()=>{this.display()}),c(this.containerEl,this.plugin,()=>{this.display()}),i(this.containerEl,this.plugin,()=>{this.display()}),a(this.containerEl,this.plugin,()=>{this.display()}),o(this.containerEl,()=>{this.showFullChangelog=!0,this.display()}),s(this.containerEl,this.plugin,this.calendarSettingsRef),l(this.containerEl,this.plugin,()=>{this.display()}),this._renderInitialSetupNotice(),u(this.containerEl)})}_renderInitialSetupNotice(){if(this.plugin.settings.calendarSources.length===0){let r=this.containerEl.createDiv("full-calendar-initial-setup-notice");new Al.Setting(r).setName("").setHeading(),r.createEl("p",{text:W("settings.quickStart.description")})}}}});var tT,ea,zm=Re(()=>{tT=["MO","TU","WE","TH","FR","SA","SU"],ea=function(){function t(e,r){if(r===0)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=r}return t.fromStr=function(e){return new t(tT.indexOf(e))},t.prototype.nth=function(e){return this.n===e?this:new t(this.weekday,e)},t.prototype.equals=function(e){return this.weekday===e.weekday&&this.n===e.n},t.prototype.toString=function(){var e=tT[this.weekday];return this.n&&(e=(this.n>0?"+":"")+String(this.n)+e),e},t.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},t}()});function Fm(t,e,r){r===void 0&&(r=" ");var n=String(t);return e=e>>0,n.length>e?String(n):(e=e-n.length,e>r.length&&(r+=sn(r,e/r.length)),r.slice(0,e)+String(n))}var Yn,Hs,N6,Qa,Ml,sn,OQ,PQ,bo,AE,qs,Bi,fn,Uo=Re(()=>{zm();Yn=function(t){return t!=null},Hs=function(t){return typeof t=="number"},N6=function(t){return typeof t=="string"&&tT.includes(t)},Qa=Array.isArray,Ml=function(t,e){e===void 0&&(e=t),arguments.length===1&&(e=t,t=0);for(var r=[],n=t;n<e;n++)r.push(n);return r},sn=function(t,e){var r=0,n=[];if(Qa(t))for(;r<e;r++)n[r]=[].concat(t);else for(;r<e;r++)n[r]=t;return n},OQ=function(t){return Qa(t)?t:[t]};PQ=function(t,e,r){var n=t.split(e);return r?n.slice(0,r).concat([n.slice(r).join(e)]):n},bo=function(t,e){var r=t%e;return r*e<0?r+e:r},AE=function(t,e){return{div:Math.floor(t/e),mod:bo(t,e)}},qs=function(t){return!Yn(t)||t.length===0},Bi=function(t){return!qs(t)},fn=function(t,e){return Bi(t)&&t.indexOf(e)!==-1}});var Su,A4e,FQ,ME,HQ,M4e,s0,L6,Hm,R4e,rT,RE,I4e,Hd,O6,IE,NE,P6,qd,l0,nT,zQ,qQ,wo=Re(()=>{Uo();Su=function(t,e,r,n,i,a){return n===void 0&&(n=0),i===void 0&&(i=0),a===void 0&&(a=0),new Date(Date.UTC(t,e-1,r,n,i,a))},A4e=[31,28,31,30,31,30,31,31,30,31,30,31],FQ=1e3*60*60*24,ME=9999,HQ=Su(1970,1,1),M4e=[6,0,1,2,3,4,5],s0=function(t){return t%4===0&&t%100!==0||t%400===0},L6=function(t){return t instanceof Date},Hm=function(t){return L6(t)&&!isNaN(t.getTime())},R4e=function(t,e){var r=t.getTime(),n=e.getTime(),i=r-n;return Math.round(i/FQ)},rT=function(t){return R4e(t,HQ)},RE=function(t){return new Date(HQ.getTime()+t*FQ)},I4e=function(t){var e=t.getUTCMonth();return e===1&&s0(t.getUTCFullYear())?29:A4e[e]},Hd=function(t){return M4e[t.getUTCDay()]},O6=function(t,e){var r=Su(t,e+1,1);return[Hd(r),I4e(r)]},IE=function(t,e){return e=e||t,new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))},NE=function(t){var e=new Date(t.getTime());return e},P6=function(t){for(var e=[],r=0;r<t.length;r++)e.push(NE(t[r]));return e},qd=function(t){t.sort(function(e,r){return e.getTime()-r.getTime()})},l0=function(t,e){e===void 0&&(e=!0);var r=new Date(t);return[Fm(r.getUTCFullYear().toString(),4,"0"),Fm(r.getUTCMonth()+1,2,"0"),Fm(r.getUTCDate(),2,"0"),"T",Fm(r.getUTCHours(),2,"0"),Fm(r.getUTCMinutes(),2,"0"),Fm(r.getUTCSeconds(),2,"0"),e?"Z":""].join("")},nT=function(t){var e=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,r=e.exec(t);if(!r)throw new Error("Invalid UNTIL value: ".concat(t));return new Date(Date.UTC(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10),parseInt(r[5],10)||0,parseInt(r[6],10)||0,parseInt(r[7],10)||0))},zQ=function(t,e){var r=t.toLocaleString("sv-SE",{timeZone:e});return r.replace(" ","T")+"Z"},qQ=function(t,e){var r=Intl.DateTimeFormat().resolvedOptions().timeZone,n=new Date(zQ(t,r)),i=new Date(zQ(t,e!=null?e:"UTC")),a=i.getTime()-n.getTime();return new Date(t.getTime()-a)}});var N4e,Ud,LE=Re(()=>{N4e=function(){function t(e,r){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=e,this.args=r,e==="between"?(this.maxDate=r.inc?r.before:new Date(r.before.getTime()-1),this.minDate=r.inc?r.after:new Date(r.after.getTime()+1)):e==="before"?this.maxDate=r.inc?r.dt:new Date(r.dt.getTime()-1):e==="after"&&(this.minDate=r.inc?r.dt:new Date(r.dt.getTime()+1))}return t.prototype.accept=function(e){++this.total;var r=this.minDate&&e<this.minDate,n=this.maxDate&&e>this.maxDate;if(this.method==="between"){if(r)return!0;if(n)return!1}else if(this.method==="before"){if(n)return!1}else if(this.method==="after")return r?!0:(this.add(e),!1);return this.add(e)},t.prototype.add=function(e){return this._result.push(e),!0},t.prototype.getValue=function(){var e=this._result;switch(this.method){case"all":case"between":return e;case"before":case"after":default:return e.length?e[e.length-1]:null}},t.prototype.clone=function(){return new t(this.method,this.args)},t}(),Ud=N4e});function c0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");z6(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Ht(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var z6,Ja,Bd=Re(()=>{z6=function(t,e){return z6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},z6(t,e)};Ja=function(){return Ja=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ja.apply(this,arguments)}});var L4e,F6,UQ=Re(()=>{Bd();LE();L4e=function(t){c0(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.iterator=i,a}return e.prototype.add=function(r){return this.iterator(r,this._result.length)?(this._result.push(r),!0):!1},e}(Ud),F6=L4e});var O4e,qm,OE=Re(()=>{O4e={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},qm=O4e});var BQ,P4e,z4e,F4e,_u,jQ=Re(()=>{OE();Rl();Uo();BQ=function(t,e){return t.indexOf(e)!==-1},P4e=function(t){return t.toString()},z4e=function(t,e,r){return"".concat(e," ").concat(r,", ").concat(t)},F4e=function(){function t(e,r,n,i){if(r===void 0&&(r=P4e),n===void 0&&(n=qm),i===void 0&&(i=z4e),this.text=[],this.language=n||qm,this.gettext=r,this.dateFormatter=i,this.rrule=e,this.options=e.options,this.origOptions=e.origOptions,this.origOptions.bymonthday){var a=[].concat(this.options.bymonthday),o=[].concat(this.options.bynmonthday);a.sort(function(u,d){return u-d}),o.sort(function(u,d){return d-u}),this.bymonthday=a.concat(o),this.bymonthday.length||(this.bymonthday=null)}if(Yn(this.origOptions.byweekday)){var s=Qa(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],l=String(s);this.byweekday={allWeeks:s.filter(function(u){return!u.n}),someWeeks:s.filter(function(u){return!!u.n}),isWeekdays:l.indexOf("MO")!==-1&&l.indexOf("TU")!==-1&&l.indexOf("WE")!==-1&&l.indexOf("TH")!==-1&&l.indexOf("FR")!==-1&&l.indexOf("SA")===-1&&l.indexOf("SU")===-1,isEveryDay:l.indexOf("MO")!==-1&&l.indexOf("TU")!==-1&&l.indexOf("WE")!==-1&&l.indexOf("TH")!==-1&&l.indexOf("FR")!==-1&&l.indexOf("SA")!==-1&&l.indexOf("SU")!==-1};var c=function(u,d){return u.weekday-d.weekday};this.byweekday.allWeeks.sort(c),this.byweekday.someWeeks.sort(c),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return t.isFullyConvertible=function(e){var r=!0;if(!(e.options.freq in t.IMPLEMENTED)||e.origOptions.until&&e.origOptions.count)return!1;for(var n in e.origOptions){if(BQ(["dtstart","tzid","wkst","freq"],n))return!0;if(!BQ(t.IMPLEMENTED[e.options.freq],n))return!1}return r},t.prototype.isFullyConvertible=function(){return t.isFullyConvertible(this.rrule)},t.prototype.toString=function(){var e=this.gettext;if(!(this.options.freq in t.IMPLEMENTED))return e("RRule error: Unable to fully convert this rrule to text");if(this.text=[e("every")],this[Gt.FREQUENCIES[this.options.freq]](),this.options.until){this.add(e("until"));var r=this.options.until;this.add(this.dateFormatter(r.getUTCFullYear(),this.language.monthNames[r.getUTCMonth()],r.getUTCDate()))}else this.options.count&&this.add(e("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?e("times"):e("time"));return this.isFullyConvertible()||this.add(e("(~ approximate)")),this.text.join("")},t.prototype.HOURLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("hours"):e("hour"))},t.prototype.MINUTELY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("minutes"):e("minute"))},t.prototype.DAILY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(this.plural(this.options.interval)?e("days"):e("day")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},t.prototype.WEEKLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?e("weeks"):e("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(e("on")).add(e("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?e("days"):e("day")):(this.options.interval===1&&this.add(e("week")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.origOptions.byhour&&this._byhour())},t.prototype.MONTHLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(e("months")),this.plural(this.options.interval)&&this.add(e("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("months"):e("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(e("on")).add(e("weekdays")):this.byweekday&&this._byweekday()},t.prototype.YEARLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(e("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("years"):e("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(e("on the")).add(this.list(this.options.byyearday,this.nth,e("and"))).add(e("day")),this.options.byweekno&&this.add(e("in")).add(this.plural(this.options.byweekno.length)?e("weeks"):e("week")).add(this.list(this.options.byweekno,void 0,e("and")))},t.prototype._bymonthday=function(){var e=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,e("or"))).add(e("the")).add(this.list(this.bymonthday,this.nth,e("or"))):this.add(e("on the")).add(this.list(this.bymonthday,this.nth,e("and")))},t.prototype._byweekday=function(){var e=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(e("and")),this.add(e("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,e("and"))))},t.prototype._byhour=function(){var e=this.gettext;this.add(e("at")).add(this.list(this.origOptions.byhour,void 0,e("and")))},t.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},t.prototype.nth=function(e){e=parseInt(e.toString(),10);var r,n=this.gettext;if(e===-1)return n("last");var i=Math.abs(e);switch(i){case 1:case 21:case 31:r=i+n("st");break;case 2:case 22:r=i+n("nd");break;case 3:case 23:r=i+n("rd");break;default:r=i+n("th")}return e<0?r+" "+n("last"):r},t.prototype.monthtext=function(e){return this.language.monthNames[e-1]},t.prototype.weekdaytext=function(e){var r=Hs(e)?(e+1)%7:e.getJsWeekday();return(e.n?this.nth(e.n)+" ":"")+this.language.dayNames[r]},t.prototype.plural=function(e){return e%100!==1},t.prototype.add=function(e){return this.text.push(" "),this.text.push(e),this},t.prototype.list=function(e,r,n,i){var a=this;i===void 0&&(i=","),Qa(e)||(e=[e]);var o=function(l,c,u){for(var d="",f=0;f<l.length;f++)f!==0&&(f===l.length-1?d+=" "+u+" ":d+=c+" "),d+=l[f];return d};r=r||function(l){return l.toString()};var s=function(l){return r&&r.call(a,l)};return n?o(e.map(s),i,n):e.map(s).join(i+" ")},t}(),_u=F4e});function iT(t,e){e===void 0&&(e=qm);var r={},n=new H4e(e.tokens);if(!n.start(t))return null;return i(),r;function i(){n.expect("every");var f=n.acceptNumber();if(f&&(r.interval=parseInt(f[0],10)),n.isDone())throw new Error("Unexpected end");switch(n.symbol){case"day(s)":r.freq=Gt.DAILY,n.nextSymbol()&&(o(),d());break;case"weekday(s)":r.freq=Gt.WEEKLY,r.byweekday=[Gt.MO,Gt.TU,Gt.WE,Gt.TH,Gt.FR],n.nextSymbol(),o(),d();break;case"week(s)":r.freq=Gt.WEEKLY,n.nextSymbol()&&(a(),o(),d());break;case"hour(s)":r.freq=Gt.HOURLY,n.nextSymbol()&&(a(),d());break;case"minute(s)":r.freq=Gt.MINUTELY,n.nextSymbol()&&(a(),d());break;case"month(s)":r.freq=Gt.MONTHLY,n.nextSymbol()&&(a(),d());break;case"year(s)":r.freq=Gt.YEARLY,n.nextSymbol()&&(a(),d());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":r.freq=Gt.WEEKLY;var h=n.symbol.substr(0,2).toUpperCase();if(r.byweekday=[Gt[h]],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var p=l();if(!p)throw new Error("Unexpected symbol "+n.symbol+", expected weekday");r.byweekday.push(Gt[p]),n.nextSymbol()}o(),u(),d();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(r.freq=Gt.YEARLY,r.bymonth=[s()],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var m=s();if(!m)throw new Error("Unexpected symbol "+n.symbol+", expected month");r.bymonth.push(m),n.nextSymbol()}a(),d();break;default:throw new Error("Unknown symbol")}}function a(){var f=n.accept("on"),h=n.accept("the");if(f||h)do{var p=c(),m=l(),v=s();if(p)m?(n.nextSymbol(),r.byweekday||(r.byweekday=[]),r.byweekday.push(Gt[m].nth(p))):(r.bymonthday||(r.bymonthday=[]),r.bymonthday.push(p),n.accept("day(s)"));else if(m)n.nextSymbol(),r.byweekday||(r.byweekday=[]),r.byweekday.push(Gt[m]);else if(n.symbol==="weekday(s)")n.nextSymbol(),r.byweekday||(r.byweekday=[Gt.MO,Gt.TU,Gt.WE,Gt.TH,Gt.FR]);else if(n.symbol==="week(s)"){n.nextSymbol();var y=n.acceptNumber();if(!y)throw new Error("Unexpected symbol "+n.symbol+", expected week number");for(r.byweekno=[parseInt(y[0],10)];n.accept("comma");){if(y=n.acceptNumber(),!y)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");r.byweekno.push(parseInt(y[0],10))}}else if(v)n.nextSymbol(),r.bymonth||(r.bymonth=[]),r.bymonth.push(v);else return}while(n.accept("comma")||n.accept("the")||n.accept("on"))}function o(){var f=n.accept("at");if(f)do{var h=n.acceptNumber();if(!h)throw new Error("Unexpected symbol "+n.symbol+", expected hour");for(r.byhour=[parseInt(h[0],10)];n.accept("comma");){if(h=n.acceptNumber(),!h)throw new Error("Unexpected symbol "+n.symbol+"; expected hour");r.byhour.push(parseInt(h[0],10))}}while(n.accept("comma")||n.accept("at"))}function s(){switch(n.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function l(){switch(n.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return n.symbol.substr(0,2).toUpperCase();default:return!1}}function c(){switch(n.symbol){case"last":return n.nextSymbol(),-1;case"first":return n.nextSymbol(),1;case"second":return n.nextSymbol(),n.accept("last")?-2:2;case"third":return n.nextSymbol(),n.accept("last")?-3:3;case"nth":var f=parseInt(n.value[1],10);if(f<-366||f>366)throw new Error("Nth out of range: "+f);return n.nextSymbol(),n.accept("last")?-f:f;default:return!1}}function u(){n.accept("on"),n.accept("the");var f=c();if(f)for(r.bymonthday=[f],n.nextSymbol();n.accept("comma");){if(f=c(),!f)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");r.bymonthday.push(f),n.nextSymbol()}}function d(){if(n.symbol==="until"){var f=Date.parse(n.text);if(!f)throw new Error("Cannot parse until date:"+n.text);r.until=new Date(f)}else n.accept("for")&&(r.count=parseInt(n.value[0],10),n.expect("number"))}}var H4e,VQ=Re(()=>{OE();Rl();H4e=function(){function t(e){this.done=!0,this.rules=e}return t.prototype.start=function(e){return this.text=e,this.done=!1,this.nextSymbol()},t.prototype.isDone=function(){return this.done&&this.symbol===null},t.prototype.nextSymbol=function(){var e,r;this.symbol=null,this.value=null;do{if(this.done)return!1;var n=void 0;e=null;for(var i in this.rules){n=this.rules[i];var a=n.exec(this.text);a&&(e===null||a[0].length>e[0].length)&&(e=a,r=i)}if(e!=null&&(this.text=this.text.substr(e[0].length),this.text===""&&(this.done=!0)),e==null){this.done=!0,this.symbol=null,this.value=null;return}}while(r==="SKIP");return this.symbol=r,this.value=e,!0},t.prototype.accept=function(e){if(this.symbol===e){if(this.value){var r=this.value;return this.nextSymbol(),r}return this.nextSymbol(),!0}return!1},t.prototype.acceptNumber=function(){return this.accept("number")},t.prototype.expect=function(e){if(this.accept(e))return!0;throw new Error("expected "+e+" but found "+this.symbol)},t}()});function aT(t){return t<Xr.HOURLY}var Xr,jd=Re(()=>{(function(t){t[t.YEARLY=0]="YEARLY",t[t.MONTHLY=1]="MONTHLY",t[t.WEEKLY=2]="WEEKLY",t[t.DAILY=3]="DAILY",t[t.HOURLY=4]="HOURLY",t[t.MINUTELY=5]="MINUTELY",t[t.SECONDLY=6]="SECONDLY"})(Xr||(Xr={}))});var WQ,u0,GQ,YQ,ZQ=Re(()=>{jQ();VQ();Rl();jd();OE();WQ=function(t,e){return e===void 0&&(e=qm),new Gt(iT(t,e)||void 0)},u0=["count","until","interval","byweekday","bymonthday","bymonth"];_u.IMPLEMENTED=[];_u.IMPLEMENTED[Xr.HOURLY]=u0;_u.IMPLEMENTED[Xr.MINUTELY]=u0;_u.IMPLEMENTED[Xr.DAILY]=["byhour"].concat(u0);_u.IMPLEMENTED[Xr.WEEKLY]=u0;_u.IMPLEMENTED[Xr.MONTHLY]=u0;_u.IMPLEMENTED[Xr.YEARLY]=["byweekno","byyearday"].concat(u0);GQ=function(t,e,r,n){return new _u(t,e,r,n).toString()},YQ=_u.isFullyConvertible});var d0,$Q,PE=Re(()=>{Bd();jd();Uo();wo();d0=function(){function t(e,r,n,i){this.hour=e,this.minute=r,this.second=n,this.millisecond=i||0}return t.prototype.getHours=function(){return this.hour},t.prototype.getMinutes=function(){return this.minute},t.prototype.getSeconds=function(){return this.second},t.prototype.getMilliseconds=function(){return this.millisecond},t.prototype.getTime=function(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond},t}(),$Q=function(t){c0(e,t);function e(r,n,i,a,o,s,l){var c=t.call(this,a,o,s,l)||this;return c.year=r,c.month=n,c.day=i,c}return e.fromDate=function(r){return new this(r.getUTCFullYear(),r.getUTCMonth()+1,r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.valueOf()%1e3)},e.prototype.getWeekday=function(){return Hd(new Date(this.getTime()))},e.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},e.prototype.getDay=function(){return this.day},e.prototype.getMonth=function(){return this.month},e.prototype.getYear=function(){return this.year},e.prototype.addYears=function(r){this.year+=r},e.prototype.addMonths=function(r){if(this.month+=r,this.month>12){var n=Math.floor(this.month/12),i=bo(this.month,12);this.month=i,this.year+=n,this.month===0&&(this.month=12,--this.year)}},e.prototype.addWeekly=function(r,n){n>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-n))+r*7:this.day+=-(this.getWeekday()-n)+r*7,this.fixDay()},e.prototype.addDaily=function(r){this.day+=r,this.fixDay()},e.prototype.addHours=function(r,n,i){for(n&&(this.hour+=Math.floor((23-this.hour)/r)*r);;){this.hour+=r;var a=AE(this.hour,24),o=a.div,s=a.mod;if(o&&(this.hour=s,this.addDaily(o)),qs(i)||fn(i,this.hour))break}},e.prototype.addMinutes=function(r,n,i,a){for(n&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/r)*r);;){this.minute+=r;var o=AE(this.minute,60),s=o.div,l=o.mod;if(s&&(this.minute=l,this.addHours(s,!1,i)),(qs(i)||fn(i,this.hour))&&(qs(a)||fn(a,this.minute)))break}},e.prototype.addSeconds=function(r,n,i,a,o){for(n&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/r)*r);;){this.second+=r;var s=AE(this.second,60),l=s.div,c=s.mod;if(l&&(this.second=c,this.addMinutes(l,!1,i,a)),(qs(i)||fn(i,this.hour))&&(qs(a)||fn(a,this.minute))&&(qs(o)||fn(o,this.second)))break}},e.prototype.fixDay=function(){if(!(this.day<=28)){var r=O6(this.year,this.month-1)[1];if(!(this.day<=r))for(;this.day>r;){if(this.day-=r,++this.month,this.month===13&&(this.month=1,++this.year,this.year>ME))return;r=O6(this.year,this.month-1)[1]}}},e.prototype.add=function(r,n){var i=r.freq,a=r.interval,o=r.wkst,s=r.byhour,l=r.byminute,c=r.bysecond;switch(i){case Xr.YEARLY:return this.addYears(a);case Xr.MONTHLY:return this.addMonths(a);case Xr.WEEKLY:return this.addWeekly(a,o);case Xr.DAILY:return this.addDaily(a);case Xr.HOURLY:return this.addHours(a,n,s);case Xr.MINUTELY:return this.addMinutes(a,n,s,l);case Xr.SECONDLY:return this.addSeconds(a,n,s,l,c)}},e}(d0)});function H6(t){for(var e=[],r=Object.keys(t),n=0,i=r;n<i.length;n++){var a=i[n];fn(QQ,a)||e.push(a),L6(t[a])&&!Hm(t[a])&&e.push(a)}if(e.length)throw new Error("Invalid options: "+e.join(", "));return Ja({},t)}function XQ(t){var e=Ja(Ja({},oT),H6(t));if(Yn(e.byeaster)&&(e.freq=Gt.YEARLY),!(Yn(e.freq)&&Gt.FREQUENCIES[e.freq]))throw new Error("Invalid frequency: ".concat(e.freq," ").concat(t.freq));if(e.dtstart||(e.dtstart=new Date(new Date().setMilliseconds(0))),Yn(e.wkst)?Hs(e.wkst)||(e.wkst=e.wkst.weekday):e.wkst=Gt.MO.weekday,Yn(e.bysetpos)){Hs(e.bysetpos)&&(e.bysetpos=[e.bysetpos]);for(var r=0;r<e.bysetpos.length;r++){var n=e.bysetpos[r];if(n===0||!(n>=-366&&n<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(e.byweekno||Bi(e.byweekno)||Bi(e.byyearday)||e.bymonthday||Bi(e.bymonthday)||Yn(e.byweekday)||Yn(e.byeaster)))switch(e.freq){case Gt.YEARLY:e.bymonth||(e.bymonth=e.dtstart.getUTCMonth()+1),e.bymonthday=e.dtstart.getUTCDate();break;case Gt.MONTHLY:e.bymonthday=e.dtstart.getUTCDate();break;case Gt.WEEKLY:e.byweekday=[Hd(e.dtstart)];break}if(Yn(e.bymonth)&&!Qa(e.bymonth)&&(e.bymonth=[e.bymonth]),Yn(e.byyearday)&&!Qa(e.byyearday)&&Hs(e.byyearday)&&(e.byyearday=[e.byyearday]),!Yn(e.bymonthday))e.bymonthday=[],e.bynmonthday=[];else if(Qa(e.bymonthday)){for(var i=[],a=[],r=0;r<e.bymonthday.length;r++){var n=e.bymonthday[r];n>0?i.push(n):n<0&&a.push(n)}e.bymonthday=i,e.bynmonthday=a}else e.bymonthday<0?(e.bynmonthday=[e.bymonthday],e.bymonthday=[]):(e.bynmonthday=[],e.bymonthday=[e.bymonthday]);if(Yn(e.byweekno)&&!Qa(e.byweekno)&&(e.byweekno=[e.byweekno]),!Yn(e.byweekday))e.bynweekday=null;else if(Hs(e.byweekday))e.byweekday=[e.byweekday],e.bynweekday=null;else if(N6(e.byweekday))e.byweekday=[ea.fromStr(e.byweekday).weekday],e.bynweekday=null;else if(e.byweekday instanceof ea)!e.byweekday.n||e.freq>Gt.MONTHLY?(e.byweekday=[e.byweekday.weekday],e.bynweekday=null):(e.bynweekday=[[e.byweekday.weekday,e.byweekday.n]],e.byweekday=null);else{for(var o=[],s=[],r=0;r<e.byweekday.length;r++){var l=e.byweekday[r];if(Hs(l)){o.push(l);continue}else if(N6(l)){o.push(ea.fromStr(l).weekday);continue}!l.n||e.freq>Gt.MONTHLY?o.push(l.weekday):s.push([l.weekday,l.n])}e.byweekday=Bi(o)?o:null,e.bynweekday=Bi(s)?s:null}return Yn(e.byhour)?Hs(e.byhour)&&(e.byhour=[e.byhour]):e.byhour=e.freq<Gt.HOURLY?[e.dtstart.getUTCHours()]:null,Yn(e.byminute)?Hs(e.byminute)&&(e.byminute=[e.byminute]):e.byminute=e.freq<Gt.MINUTELY?[e.dtstart.getUTCMinutes()]:null,Yn(e.bysecond)?Hs(e.bysecond)&&(e.bysecond=[e.bysecond]):e.bysecond=e.freq<Gt.SECONDLY?[e.dtstart.getUTCSeconds()]:null,{parsedOptions:e}}function KQ(t){var e=t.dtstart.getTime()%1e3;if(!aT(t.freq))return[];var r=[];return t.byhour.forEach(function(n){t.byminute.forEach(function(i){t.bysecond.forEach(function(a){r.push(new d0(n,i,a,e))})})}),r}var q6=Re(()=>{Bd();jd();Uo();Rl();wo();zm();PE()});function lT(t){var e=t.split(`
`).map(q4e).filter(function(r){return r!==null});return Ja(Ja({},e[0]),e[1])}function sT(t){var e={},r=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(t);if(!r)return e;var n=r[1],i=r[2];return n&&(e.tzid=n),e.dtstart=nT(i),e}function q4e(t){if(t=t.replace(/^\s+|\s+$/,""),!t.length)return null;var e=/^([A-Z]+?)[:;]/.exec(t.toUpperCase());if(!e)return JQ(t);var r=e[1];switch(r.toUpperCase()){case"RRULE":case"EXRULE":return JQ(t);case"DTSTART":return sT(t);default:throw new Error("Unsupported RFC prop ".concat(r," in ").concat(t))}}function JQ(t){var e=t.replace(/^RRULE:/i,""),r=sT(e),n=t.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return n.forEach(function(i){var a=i.split("="),o=a[0],s=a[1];switch(o.toUpperCase()){case"FREQ":r.freq=Xr[s.toUpperCase()];break;case"WKST":r.wkst=Il[s.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var l=U4e(s),c=o.toLowerCase();r[c]=l;break;case"BYWEEKDAY":case"BYDAY":r.byweekday=B4e(s);break;case"DTSTART":case"TZID":var u=sT(t);r.tzid=u.tzid,r.dtstart=u.dtstart;break;case"UNTIL":r.until=nT(s);break;case"BYEASTER":r.byeaster=Number(s);break;default:throw new Error("Unknown RRULE property '"+o+"'")}}),r}function U4e(t){if(t.indexOf(",")!==-1){var e=t.split(",");return e.map(eJ)}return eJ(t)}function eJ(t){return/^[+-]?\d+$/.test(t)?Number(t):t}function B4e(t){var e=t.split(",");return e.map(function(r){if(r.length===2)return Il[r];var n=r.match(/^([+-]?\d{1,2})([A-Z]{2})$/);if(!n||n.length<3)throw new SyntaxError("Invalid weekday string: ".concat(r));var i=Number(n[1]),a=n[2],o=Il[a].weekday;return new ea(o,i)})}var U6=Re(()=>{Bd();jd();zm();wo();Rl()});var Um,zE=Re(()=>{wo();Um=function(){function t(e,r){if(isNaN(e.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=e,this.tzid=r}return Object.defineProperty(t.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var e=l0(this.date.getTime(),this.isUTC);return this.isUTC?":".concat(e):";TZID=".concat(this.tzid,":").concat(e)},t.prototype.getTime=function(){return this.date.getTime()},t.prototype.rezonedDate=function(){return this.isUTC?this.date:qQ(this.date,this.tzid)},t}()});function cT(t){for(var e=[],r="",n=Object.keys(t),i=Object.keys(oT),a=0;a<n.length;a++)if(n[a]!=="tzid"&&fn(i,n[a])){var o=n[a].toUpperCase(),s=t[n[a]],l="";if(!(!Yn(s)||Qa(s)&&!s.length)){switch(o){case"FREQ":l=Gt.FREQUENCIES[t.freq];break;case"WKST":Hs(s)?l=new ea(s).toString():l=s.toString();break;case"BYWEEKDAY":o="BYDAY",l=OQ(s).map(function(h){return h instanceof ea?h:Qa(h)?new ea(h[0],h[1]):new ea(h)}).toString();break;case"DTSTART":r=j4e(s,t.tzid);break;case"UNTIL":l=l0(s,!t.tzid);break;default:if(Qa(s)){for(var c=[],u=0;u<s.length;u++)c[u]=String(s[u]);l=c.toString()}else l=String(s)}l&&e.push([o,l])}}var d=e.map(function(h){var p=h[0],m=h[1];return"".concat(p,"=").concat(m.toString())}).join(";"),f="";return d!==""&&(f="RRULE:".concat(d)),[r,f].filter(function(h){return!!h}).join(`
`)}function j4e(t,e){return t?"DTSTART"+new Um(new Date(t),e).toString():""}var B6=Re(()=>{Rl();Uo();zm();wo();zE()});function V4e(t,e){return Array.isArray(t)?!Array.isArray(e)||t.length!==e.length?!1:t.every(function(r,n){return r.getTime()===e[n].getTime()}):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():t===e}var tJ,rJ=Re(()=>{LE();wo();Uo();tJ=function(){function t(){this.all=!1,this.before=[],this.after=[],this.between=[]}return t.prototype._cacheAdd=function(e,r,n){r&&(r=r instanceof Date?NE(r):P6(r)),e==="all"?this.all=r:(n._value=r,this[e].push(n))},t.prototype._cacheGet=function(e,r){var n=!1,i=r?Object.keys(r):[],a=function(u){for(var d=0;d<i.length;d++){var f=i[d];if(!V4e(r[f],u[f]))return!0}return!1},o=this[e];if(e==="all")n=this.all;else if(Qa(o))for(var s=0;s<o.length;s++){var l=o[s];if(!(i.length&&a(l))){n=l._value;break}}if(!n&&this.all){for(var c=new Ud(e,r),s=0;s<this.all.length&&c.accept(this.all[s]);s++);n=c.getValue(),this._cacheAdd(e,n,r)}return Qa(n)?P6(n):n instanceof Date?NE(n):n},t}()});var nJ,iJ,W4e,G4e,Rh,xo,aJ,oJ,Y4e,Z4e,Ih,To,sJ,lJ,cJ,uJ,j6,dJ=Re(()=>{Bd();Uo();nJ=Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht([],sn(1,31),!0),sn(2,28),!0),sn(3,31),!0),sn(4,30),!0),sn(5,31),!0),sn(6,30),!0),sn(7,31),!0),sn(8,31),!0),sn(9,30),!0),sn(10,31),!0),sn(11,30),!0),sn(12,31),!0),sn(1,7),!0),iJ=Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht([],sn(1,31),!0),sn(2,29),!0),sn(3,31),!0),sn(4,30),!0),sn(5,31),!0),sn(6,30),!0),sn(7,31),!0),sn(8,31),!0),sn(9,30),!0),sn(10,31),!0),sn(11,30),!0),sn(12,31),!0),sn(1,7),!0),W4e=Ml(1,29),G4e=Ml(1,30),Rh=Ml(1,31),xo=Ml(1,32),aJ=Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht([],xo,!0),G4e,!0),xo,!0),Rh,!0),xo,!0),Rh,!0),xo,!0),xo,!0),Rh,!0),xo,!0),Rh,!0),xo,!0),xo.slice(0,7),!0),oJ=Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht([],xo,!0),W4e,!0),xo,!0),Rh,!0),xo,!0),Rh,!0),xo,!0),xo,!0),Rh,!0),xo,!0),Rh,!0),xo,!0),xo.slice(0,7),!0),Y4e=Ml(-28,0),Z4e=Ml(-29,0),Ih=Ml(-30,0),To=Ml(-31,0),sJ=Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht([],To,!0),Z4e,!0),To,!0),Ih,!0),To,!0),Ih,!0),To,!0),To,!0),Ih,!0),To,!0),Ih,!0),To,!0),To.slice(0,7),!0),lJ=Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht(Ht([],To,!0),Y4e,!0),To,!0),Ih,!0),To,!0),Ih,!0),To,!0),To,!0),Ih,!0),To,!0),Ih,!0),To,!0),To.slice(0,7),!0),cJ=[0,31,60,91,121,152,182,213,244,274,305,335,366],uJ=[0,31,59,90,120,151,181,212,243,273,304,334,365],j6=function(){for(var t=[],e=0;e<55;e++)t=t.concat(Ml(7));return t}()});function fJ(t,e){var r=Su(t,1,1),n=s0(t)?366:365,i=s0(t+1)?366:365,a=rT(r),o=Hd(r),s=Ja(Ja({yearlen:n,nextyearlen:i,yearordinal:a,yearweekday:o},$4e(t)),{wnomask:null});if(qs(e.byweekno))return s;s.wnomask=sn(0,n+7);var l,c,u=l=bo(7-o+e.wkst,7);u>=4?(u=0,c=s.yearlen+bo(o-e.wkst,7)):c=n-u;for(var d=Math.floor(c/7),f=bo(c,7),h=Math.floor(d+f/4),p=0;p<e.byweekno.length;p++){var m=e.byweekno[p];if(m<0&&(m+=h+1),m>0&&m<=h){var v=void 0;m>1?(v=u+(m-1)*7,u!==l&&(v-=7-l)):v=u;for(var y=0;y<7&&(s.wnomask[v]=1,v++,s.wdaymask[v]!==e.wkst);y++);}}if(fn(e.byweekno,1)){var v=u+h*7;if(u!==l&&(v-=7-l),v<n)for(var p=0;p<7&&(s.wnomask[v]=1,v+=1,s.wdaymask[v]!==e.wkst);p++);}if(u){var b=void 0;if(fn(e.byweekno,-1))b=-1;else{var x=Hd(Su(t-1,1,1)),w=bo(7-x.valueOf()+e.wkst,7),S=s0(t-1)?366:365,_=void 0;w>=4?(w=0,_=S+bo(x-e.wkst,7)):_=n-u,b=Math.floor(52+bo(_,7)/4)}if(fn(e.byweekno,b))for(var v=0;v<u;v++)s.wnomask[v]=1}return s}function $4e(t){var e=s0(t)?366:365,r=Su(t,1,1),n=Hd(r);return e===365?{mmask:nJ,mdaymask:oJ,nmdaymask:lJ,wdaymask:j6.slice(n),mrange:uJ}:{mmask:iJ,mdaymask:aJ,nmdaymask:sJ,wdaymask:j6.slice(n),mrange:cJ}}var hJ=Re(()=>{Bd();wo();Uo();dJ()});function pJ(t,e,r,n,i,a){var o={lastyear:t,lastmonth:e,nwdaymask:[]},s=[];if(a.freq===Gt.YEARLY)if(qs(a.bymonth))s=[[0,r]];else for(var l=0;l<a.bymonth.length;l++)e=a.bymonth[l],s.push(n.slice(e-1,e+1));else a.freq===Gt.MONTHLY&&(s=[n.slice(e-1,e+1)]);if(qs(s))return o;o.nwdaymask=sn(0,r);for(var l=0;l<s.length;l++)for(var c=s[l],u=c[0],d=c[1]-1,f=0;f<a.bynweekday.length;f++){var h=void 0,p=a.bynweekday[f],m=p[0],v=p[1];v<0?(h=d+(v+1)*7,h-=bo(i[h]-m,7)):(h=u+(v-1)*7,h+=bo(7-i[h]+m,7)),u<=h&&h<=d&&(o.nwdaymask[h]=1)}return o}var mJ=Re(()=>{Rl();Uo()});function vJ(t,e){e===void 0&&(e=0);var r=t%19,n=Math.floor(t/100),i=t%100,a=Math.floor(n/4),o=n%4,s=Math.floor((n+8)/25),l=Math.floor((n-s+1)/3),c=Math.floor(19*r+n-a-l+15)%30,u=Math.floor(i/4),d=i%4,f=Math.floor(32+2*o+2*u-c-d)%7,h=Math.floor((r+11*c+22*f)/451),p=Math.floor((c+f-7*h+114)/31),m=(c+f-7*h+114)%31+1,v=Date.UTC(t,p-1,m+e),y=Date.UTC(t,0,1);return[Math.ceil((v-y)/(1e3*60*60*24))]}var gJ=Re(()=>{});var X4e,yJ,bJ=Re(()=>{Uo();jd();hJ();mJ();gJ();PE();wo();X4e=function(){function t(e){this.options=e}return t.prototype.rebuild=function(e,r){var n=this.options;if(e!==this.lastyear&&(this.yearinfo=fJ(e,n)),Bi(n.bynweekday)&&(r!==this.lastmonth||e!==this.lastyear)){var i=this.yearinfo,a=i.yearlen,o=i.mrange,s=i.wdaymask;this.monthinfo=pJ(e,r,a,o,s,n)}Yn(n.byeaster)&&(this.eastermask=vJ(e,n.byeaster))},Object.defineProperty(t.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!1,configurable:!0}),t.prototype.ydayset=function(){return[Ml(this.yearlen),0,this.yearlen]},t.prototype.mdayset=function(e,r){for(var n=this.mrange[r-1],i=this.mrange[r],a=sn(null,this.yearlen),o=n;o<i;o++)a[o]=o;return[a,n,i]},t.prototype.wdayset=function(e,r,n){for(var i=sn(null,this.yearlen+7),a=rT(Su(e,r,n))-this.yearordinal,o=a,s=0;s<7&&(i[a]=a,++a,this.wdaymask[a]!==this.options.wkst);s++);return[i,o,a]},t.prototype.ddayset=function(e,r,n){var i=sn(null,this.yearlen),a=rT(Su(e,r,n))-this.yearordinal;return i[a]=a,[i,a,a+1]},t.prototype.htimeset=function(e,r,n,i){var a=this,o=[];return this.options.byminute.forEach(function(s){o=o.concat(a.mtimeset(e,s,n,i))}),qd(o),o},t.prototype.mtimeset=function(e,r,n,i){var a=this.options.bysecond.map(function(o){return new d0(e,r,o,i)});return qd(a),a},t.prototype.stimeset=function(e,r,n,i){return[new d0(e,r,n,i)]},t.prototype.getdayset=function(e){switch(e){case Xr.YEARLY:return this.ydayset.bind(this);case Xr.MONTHLY:return this.mdayset.bind(this);case Xr.WEEKLY:return this.wdayset.bind(this);case Xr.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},t.prototype.gettimeset=function(e){switch(e){case Xr.HOURLY:return this.htimeset.bind(this);case Xr.MINUTELY:return this.mtimeset.bind(this);case Xr.SECONDLY:return this.stimeset.bind(this)}},t}(),yJ=X4e});function wJ(t,e,r,n,i,a){for(var o=[],s=0;s<t.length;s++){var l=void 0,c=void 0,u=t[s];u<0?(l=Math.floor(u/e.length),c=bo(u,e.length)):(l=Math.floor((u-1)/e.length),c=bo(u-1,e.length));for(var d=[],f=r;f<n;f++){var h=a[f];Yn(h)&&d.push(h)}var p=void 0;l<0?p=d.slice(l)[0]:p=d[l];var m=e[c],v=RE(i.yearordinal+p),y=IE(v,m);fn(o,y)||o.push(y)}return qd(o),o}var xJ=Re(()=>{wo();Uo()});function FE(t,e){var r=e.dtstart,n=e.freq,i=e.interval,a=e.until,o=e.bysetpos,s=e.count;if(s===0||i===0)return Vd(t);var l=$Q.fromDate(r),c=new yJ(e);c.rebuild(l.year,l.month);for(var u=J4e(c,l,e);;){var d=c.getdayset(n)(l.year,l.month,l.day),f=d[0],h=d[1],p=d[2],m=Q4e(f,h,p,c,e);if(Bi(o))for(var v=wJ(o,u,h,p,c,f),y=0;y<v.length;y++){var b=v[y];if(a&&b>a)return Vd(t);if(b>=r){var x=TJ(b,e);if(!t.accept(x)||s&&(--s,!s))return Vd(t)}}else for(var y=h;y<p;y++){var w=f[y];if(Yn(w))for(var S=RE(c.yearordinal+w),_=0;_<u.length;_++){var C=u[_],b=IE(S,C);if(a&&b>a)return Vd(t);if(b>=r){var x=TJ(b,e);if(!t.accept(x)||s&&(--s,!s))return Vd(t)}}}if(e.interval===0||(l.add(e,m),l.year>ME))return Vd(t);aT(n)||(u=c.gettimeset(n)(l.hour,l.minute,l.second,0)),c.rebuild(l.year,l.month)}}function K4e(t,e,r){var n=r.bymonth,i=r.byweekno,a=r.byweekday,o=r.byeaster,s=r.bymonthday,l=r.bynmonthday,c=r.byyearday;return Bi(n)&&!fn(n,t.mmask[e])||Bi(i)&&!t.wnomask[e]||Bi(a)&&!fn(a,t.wdaymask[e])||Bi(t.nwdaymask)&&!t.nwdaymask[e]||o!==null&&!fn(t.eastermask,e)||(Bi(s)||Bi(l))&&!fn(s,t.mdaymask[e])&&!fn(l,t.nmdaymask[e])||Bi(c)&&(e<t.yearlen&&!fn(c,e+1)&&!fn(c,-t.yearlen+e)||e>=t.yearlen&&!fn(c,e+1-t.yearlen)&&!fn(c,-t.nextyearlen+e-t.yearlen))}function TJ(t,e){return new Um(t,e.tzid).rezonedDate()}function Vd(t){return t.getValue()}function Q4e(t,e,r,n,i){for(var a=!1,o=e;o<r;o++){var s=t[o];a=K4e(n,s,i),a&&(t[s]=null)}return a}function J4e(t,e,r){var n=r.freq,i=r.byhour,a=r.byminute,o=r.bysecond;return aT(n)?KQ(r):n>=Gt.HOURLY&&Bi(i)&&!fn(i,e.hour)||n>=Gt.MINUTELY&&Bi(a)&&!fn(a,e.minute)||n>=Gt.SECONDLY&&Bi(o)&&!fn(o,e.second)?[]:t.gettimeset(n)(e.hour,e.minute,e.second,e.millisecond)}var V6=Re(()=>{jd();wo();bJ();Rl();q6();Uo();zE();xJ();PE()});var Il,oT,QQ,Gt,Rl=Re(()=>{wo();LE();UQ();ZQ();jd();q6();U6();B6();rJ();zm();V6();Il={MO:new ea(0),TU:new ea(1),WE:new ea(2),TH:new ea(3),FR:new ea(4),SA:new ea(5),SU:new ea(6)},oT={freq:Xr.YEARLY,dtstart:null,interval:1,wkst:Il.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},QQ=Object.keys(oT),Gt=function(){function t(e,r){e===void 0&&(e={}),r===void 0&&(r=!1),this._cache=r?null:new tJ,this.origOptions=H6(e);var n=XQ(e).parsedOptions;this.options=n}return t.parseText=function(e,r){return iT(e,r)},t.fromText=function(e,r){return WQ(e,r)},t.fromString=function(e){return new t(t.parseString(e)||void 0)},t.prototype._iter=function(e){return FE(e,this.options)},t.prototype._cacheGet=function(e,r){return this._cache?this._cache._cacheGet(e,r):!1},t.prototype._cacheAdd=function(e,r,n){if(this._cache)return this._cache._cacheAdd(e,r,n)},t.prototype.all=function(e){if(e)return this._iter(new F6("all",{},e));var r=this._cacheGet("all");return r===!1&&(r=this._iter(new Ud("all",{})),this._cacheAdd("all",r)),r},t.prototype.between=function(e,r,n,i){if(n===void 0&&(n=!1),!Hm(e)||!Hm(r))throw new Error("Invalid date passed in to RRule.between");var a={before:r,after:e,inc:n};if(i)return this._iter(new F6("between",a,i));var o=this._cacheGet("between",a);return o===!1&&(o=this._iter(new Ud("between",a)),this._cacheAdd("between",o,a)),o},t.prototype.before=function(e,r){if(r===void 0&&(r=!1),!Hm(e))throw new Error("Invalid date passed in to RRule.before");var n={dt:e,inc:r},i=this._cacheGet("before",n);return i===!1&&(i=this._iter(new Ud("before",n)),this._cacheAdd("before",i,n)),i},t.prototype.after=function(e,r){if(r===void 0&&(r=!1),!Hm(e))throw new Error("Invalid date passed in to RRule.after");var n={dt:e,inc:r},i=this._cacheGet("after",n);return i===!1&&(i=this._iter(new Ud("after",n)),this._cacheAdd("after",i,n)),i},t.prototype.count=function(){return this.all().length},t.prototype.toString=function(){return cT(this.origOptions)},t.prototype.toText=function(e,r,n){return GQ(this,e,r,n)},t.prototype.isFullyConvertibleToText=function(){return YQ(this)},t.prototype.clone=function(){return new t(this.origOptions)},t.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],t.YEARLY=Xr.YEARLY,t.MONTHLY=Xr.MONTHLY,t.WEEKLY=Xr.WEEKLY,t.DAILY=Xr.DAILY,t.HOURLY=Xr.HOURLY,t.MINUTELY=Xr.MINUTELY,t.SECONDLY=Xr.SECONDLY,t.MO=Il.MO,t.TU=Il.TU,t.WE=Il.WE,t.TH=Il.TH,t.FR=Il.FR,t.SA=Il.SA,t.SU=Il.SU,t.parseString=lT,t.optionsToString=cT,t}()});function SJ(t,e,r,n,i,a){var o={},s=t.accept;function l(f,h){r.forEach(function(p){p.between(f,h,!0).forEach(function(m){o[Number(m)]=!0})})}i.forEach(function(f){var h=new Um(f,a).rezonedDate();o[Number(h)]=!0}),t.accept=function(f){var h=Number(f);return isNaN(h)?s.call(this,f):!o[h]&&(l(new Date(h-1),new Date(h+1)),!o[h])?(o[h]=!0,s.call(this,f)):!0},t.method==="between"&&(l(t.args.after,t.args.before),t.accept=function(f){var h=Number(f);return o[h]?!0:(o[h]=!0,s.call(this,f))});for(var c=0;c<n.length;c++){var u=new Um(n[c],a).rezonedDate();if(!t.accept(new Date(u.getTime())))break}e.forEach(function(f){FE(t,f.options)});var d=t._result;switch(qd(d),t.method){case"all":case"between":return d;case"before":return d.length&&d[d.length-1]||null;case"after":default:return d.length&&d[0]||null}}var _J=Re(()=>{zE();V6();wo()});function eNe(t,e){var r=[],n=[],i=[],a=[],o=sT(t),s=o.dtstart,l=o.tzid,c=aNe(t,e.unfold);return c.forEach(function(u){var d;if(u){var f=iNe(u),h=f.name,p=f.parms,m=f.value;switch(h.toUpperCase()){case"RRULE":if(p.length)throw new Error("unsupported RRULE parm: ".concat(p.join(",")));r.push(lT(u));break;case"RDATE":var v=(d=/RDATE(?:;TZID=([^:=]+))?/i.exec(u))!==null&&d!==void 0?d:[],y=v[1];y&&!l&&(l=y),n=n.concat(kJ(m,p));break;case"EXRULE":if(p.length)throw new Error("unsupported EXRULE parm: ".concat(p.join(",")));i.push(lT(m));break;case"EXDATE":a=a.concat(kJ(m,p));break;case"DTSTART":break;default:throw new Error("unsupported property: "+h)}}}),{dtstart:s,tzid:l,rrulevals:r,rdatevals:n,exrulevals:i,exdatevals:a}}function tNe(t,e){var r=eNe(t,e),n=r.rrulevals,i=r.rdatevals,a=r.exrulevals,o=r.exdatevals,s=r.dtstart,l=r.tzid,c=e.cache===!1;if(e.compatible&&(e.forceset=!0,e.unfold=!0),e.forceset||n.length>1||i.length||a.length||o.length){var u=new uT(c);return u.dtstart(s),u.tzid(l||void 0),n.forEach(function(f){u.rrule(new Gt(W6(f,s,l),c))}),i.forEach(function(f){u.rdate(f)}),a.forEach(function(f){u.exrule(new Gt(W6(f,s,l),c))}),o.forEach(function(f){u.exdate(f)}),e.compatible&&e.dtstart&&u.rdate(s),u}var d=n[0]||{};return new Gt(W6(d,d.dtstart||e.dtstart||s,d.tzid||e.tzid||l),c)}function ji(t,e){return e===void 0&&(e={}),tNe(t,rNe(e))}function W6(t,e,r){return Ja(Ja({},t),{dtstart:e,tzid:r})}function rNe(t){var e=[],r=Object.keys(t),n=Object.keys(CJ);if(r.forEach(function(i){fn(n,i)||e.push(i)}),e.length)throw new Error("Invalid options: "+e.join(", "));return Ja(Ja({},CJ),t)}function nNe(t){if(t.indexOf(":")===-1)return{name:"RRULE",value:t};var e=PQ(t,":",1),r=e[0],n=e[1];return{name:r,value:n}}function iNe(t){var e=nNe(t),r=e.name,n=e.value,i=r.split(";");if(!i)throw new Error("empty property name");return{name:i[0].toUpperCase(),parms:i.slice(1),value:n}}function aNe(t,e){if(e===void 0&&(e=!1),t=t&&t.trim(),!t)throw new Error("Invalid empty string");if(!e)return t.split(/\s/);for(var r=t.split(`
`),n=0;n<r.length;){var i=r[n]=r[n].replace(/\s+$/g,"");i?n>0&&i[0]===" "?(r[n-1]+=i.slice(1),r.splice(n,1)):n+=1:r.splice(n,1)}return r}function oNe(t){t.forEach(function(e){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(e))throw new Error("unsupported RDATE/EXDATE parm: "+e)})}function kJ(t,e){return oNe(e),t.split(",").map(function(r){return nT(r)})}var CJ,G6=Re(()=>{Bd();Rl();Y6();wo();Uo();U6();CJ={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null}});function EJ(t){var e=this;return function(r){if(r!==void 0&&(e["_".concat(t)]=r),e["_".concat(t)]!==void 0)return e["_".concat(t)];for(var n=0;n<e._rrule.length;n++){var i=e._rrule[n].origOptions[t];if(i)return i}}}function DJ(t,e){if(!(t instanceof Gt))throw new TypeError(String(t)+" is not RRule instance");fn(e.map(String),String(t))||e.push(t)}function AJ(t,e){if(!(t instanceof Date))throw new TypeError(String(t)+" is not Date instance");fn(e.map(Number),Number(t))||(e.push(t),qd(e))}function MJ(t,e,r){var n=!r||r.toUpperCase()==="UTC",i=n?"".concat(t,":"):"".concat(t,";TZID=").concat(r,":"),a=e.map(function(o){return l0(o.valueOf(),n)}).join(",");return"".concat(i).concat(a)}var uT,Y6=Re(()=>{Bd();Rl();wo();Uo();_J();G6();B6();uT=function(t){c0(e,t);function e(r){r===void 0&&(r=!1);var n=t.call(this,{},r)||this;return n.dtstart=EJ.apply(n,["dtstart"]),n.tzid=EJ.apply(n,["tzid"]),n._rrule=[],n._rdate=[],n._exrule=[],n._exdate=[],n}return e.prototype._iter=function(r){return SJ(r,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},e.prototype.rrule=function(r){DJ(r,this._rrule)},e.prototype.exrule=function(r){DJ(r,this._exrule)},e.prototype.rdate=function(r){AJ(r,this._rdate)},e.prototype.exdate=function(r){AJ(r,this._exdate)},e.prototype.rrules=function(){return this._rrule.map(function(r){return ji(r.toString())})},e.prototype.exrules=function(){return this._exrule.map(function(r){return ji(r.toString())})},e.prototype.rdates=function(){return this._rdate.map(function(r){return new Date(r.getTime())})},e.prototype.exdates=function(){return this._exdate.map(function(r){return new Date(r.getTime())})},e.prototype.valueOf=function(){var r=[];return!this._rrule.length&&this._dtstart&&(r=r.concat(cT({dtstart:this._dtstart}))),this._rrule.forEach(function(n){r=r.concat(n.toString().split(`
`))}),this._exrule.forEach(function(n){r=r.concat(n.toString().split(`
`).map(function(i){return i.replace(/^RRULE:/,"EXRULE:")}).filter(function(i){return!/^DTSTART/.test(i)}))}),this._rdate.length&&r.push(MJ("RDATE",this._rdate,this.tzid())),this._exdate.length&&r.push(MJ("EXDATE",this._exdate,this.tzid())),r},e.prototype.toString=function(){return this.valueOf().join(`
`)},e.prototype.clone=function(){var r=new e(!!this._cache);return this._rrule.forEach(function(n){return r.rrule(n.clone())}),this._exrule.forEach(function(n){return r.exrule(n.clone())}),this._rdate.forEach(function(n){return r.rdate(new Date(n.getTime()))}),this._exdate.forEach(function(n){return r.exdate(new Date(n.getTime()))}),r},e}(Gt)});var Wd=Re(()=>{Rl();Y6();G6();jd();zm();wo()});var Z6={};Wr(Z6,{isTask:()=>uNe,toggleTask:()=>dT,unmakeTask:()=>dNe});var uNe,dNe,dT,qE=Re(()=>{"use strict";da();uNe=t=>t.type==="single"?t.completed!==void 0&&t.completed!==null:t.type==="recurring"||t.type==="rrule"?!!t.isTask:!1,dNe=t=>t.type==="single"?We(ae({},t),{completed:null}):t.type==="recurring"||t.type==="rrule"?We(ae({},t),{isTask:!1}):t,dT=(t,e)=>t.type==="single"?e?We(ae({},t),{completed:et.now().toISO()}):We(ae({},t),{completed:!1}):t.type==="recurring"||t.type==="rrule"?We(ae({},t),{isTask:!0}):t});var IJ={};Wr(IJ,{DeleteRecurringModal:()=>$6});var Bm,$6,NJ=Re(()=>{"use strict";Bm=require("obsidian");Pr();$6=class extends Bm.Modal{constructor(r,n,i,a,o,s=!1){super(r);this.onPromote=n;this.onDeleteAll=i;this.onDeleteInstance=a;this.instanceDate=o;this.isGoogle=s}onOpen(){this.modalEl.addClass("full-calendar-confirm-modal");let{contentEl:r}=this;r.createEl("h2",{text:W("modals.deleteRecurring.title")}),r.createEl("p",{text:W("modals.deleteRecurring.description")}),this.onDeleteInstance&&this.instanceDate&&new Bm.Setting(r).setName(W("modals.deleteRecurring.deleteInstance.name")).setDesc(W("modals.deleteRecurring.deleteInstance.description",{date:this.instanceDate})).addButton(n=>n.setButtonText(W("modals.deleteRecurring.deleteInstance.button")).setCta().onClick(()=>{this.close(),this.onDeleteInstance&&this.onDeleteInstance()})),this.isGoogle||new Bm.Setting(r).setName(W("modals.deleteRecurring.promoteChildren.name")).setDesc(W("modals.deleteRecurring.promoteChildren.description")).addButton(n=>n.setButtonText(W("modals.deleteRecurring.promoteChildren.button")).setCta().onClick(()=>{this.close(),this.onPromote()})),new Bm.Setting(r).setName(W("modals.deleteRecurring.deleteAll.name")).setDesc(W("modals.deleteRecurring.deleteAll.description")).addButton(n=>n.setButtonText(W("modals.deleteRecurring.deleteAll.button")).setCta().onClick(()=>{this.close(),this.onDeleteAll()})),new Bm.Setting(r).addButton(n=>n.setButtonText(W("modals.deleteRecurring.cancel")).onClick(()=>this.close()))}onClose(){this.contentEl.empty()}}});var K6={};Wr(K6,{RecurringEventManager:()=>X6});var Cu,X6,Q6=Re(()=>{"use strict";Cu=require("obsidian");qE();Pr();X6=class{_sanitizeTitleForFilename(e){return e.replace(/[\\/:"*?<>|]/g," ").replace(/\s+/g," ").trim()}constructor(e,r){this.cache=e,this.plugin=r}getProviderAndConfig(e){let r=this.plugin.providerRegistry.getSource(e);if(!r)return null;let n=this.plugin.providerRegistry.getInstance(e);return n?{provider:n,config:r}:null}hasModifiedTiming(e,r,n){if(e.type!=="single"||r.type!=="recurring"&&r.type!=="rrule")return!1;if(e.allDay!==r.allDay||e.endDate&&e.endDate!==e.date)return!0;if(!r.allDay&&"startTime"in r&&"endTime"in r){let i=r.startTime,a=r.endTime;if(!e.allDay&&"startTime"in e&&"endTime"in e){let o=e.startTime,s=e.endTime;if(o!==i||s!==a)return!0}}return!1}findRecurringChildren(e){var s;let r=this.cache.store.getEventDetails(e);if(!r)return[];let{calendarId:n,event:i}=r,a=this.cache.getGlobalIdentifier(i,n);if(!a)return[];let o=(s=a.split("::").pop())==null?void 0:s.split("/").pop();return o?this.cache.store.getAllEvents().filter(l=>l.calendarId===n&&l.event.recurringEventId===o):[]}promoteRecurringChildren(e){return ye(this,null,function*(){let r=this.findRecurringChildren(e);if(r.length===0){yield this.cache.deleteEvent(e,{force:!0});return}new Cu.Notice(W("notices.recurEvents.promotingChildren",{count:r.length}));for(let n of r)yield this.cache.processEvent(n.id,i=>We(ae({},i),{recurringEventId:void 0}),{silent:!0});yield this.cache.deleteEvent(e,{force:!0,silent:!0}),this.cache.flushUpdateQueue([],[]),new Cu.Notice(W("notices.recurEvents.deletedAndPromoted"))})}deleteAllRecurring(e){return ye(this,null,function*(){let r=this.findRecurringChildren(e);new Cu.Notice(W("notices.recurEvents.deletingWithChildren",{count:r.length}));for(let n of r)yield this.cache.deleteEvent(n.id,{force:!0,silent:!0});yield this.cache.deleteEvent(e,{force:!0,silent:!0}),this.cache.flushUpdateQueue([],[]),new Cu.Notice(W("notices.recurEvents.deletedAll"))})}handleDelete(e,r,n){return ye(this,null,function*(){if(r.type==="single"&&r.recurringEventId){let u=this.cache.store.getEventDetails(e);if(!u)return!1;let{calendarId:d}=u,f=r.recurringEventId,h=this.getProviderAndConfig(d);if(!h)return console.warn(`Could not find provider for calendar ID ${d}. Deleting orphan override.`),yield this.cache.deleteEvent(e,{silent:!0,force:!0}),this.cache.flushUpdateQueue([],[]),!0;let{config:p}=h;if(p.type!=="local")return console.warn("Expected local calendar for recurring override cleanup."),yield this.cache.deleteEvent(e,{silent:!0,force:!0}),this.cache.flushUpdateQueue([],[]),!0;let m=`${p.directory}/${f}`,v=`${d}::${m}`,y=yield this.cache.getSessionId(v);return y?yield this.cache.processEvent(y,b=>{if(b.type!=="recurring"&&b.type!=="rrule")return b;let x=r.date;return We(ae({},b),{skipDates:b.skipDates.filter(w=>w!==x)})},{silent:!0}):console.warn(`Master recurring event with identifier "${v}" not found. Deleting orphan override.`),yield this.cache.deleteEvent(e,{silent:!0,force:!0}),this.cache.flushUpdateQueue([],[]),!0}if(!(r.type==="recurring"||r.type==="rrule"))return!1;let a=this.cache.store.getEventDetails(e);if(!a)return!1;let{calendarId:o}=a,s=this.getProviderAndConfig(o);if(!s)return!1;let l=s.provider.type==="google";if(this.findRecurringChildren(e).length>0||n!=null&&n.instanceDate){let{DeleteRecurringModal:u}=yield Promise.resolve().then(()=>(NJ(),IJ));return new u(this.cache.plugin.app,()=>void this.promoteRecurringChildren(e),()=>void this.deleteAllRecurring(e),n!=null&&n.instanceDate?()=>{ye(this,null,function*(){if(yield this.cache.processEvent(e,f=>{var p;if(f.type!=="recurring"&&f.type!=="rrule")return f;let h=(p=f.skipDates)!=null&&p.includes(n.instanceDate)?f.skipDates:[...f.skipDates||[],n.instanceDate];return We(ae({},f),{skipDates:h})})){let f=this.cache.store.getEventDetails(e);if(f){let h=this.cache.getAllEvents().find(p=>p.id===f.calendarId);h&&this.cache.updateCalendar(h)}}})}:void 0,n==null?void 0:n.instanceDate,l).open(),!0}return!1})}_createRecurringOverride(e,r,n){return ye(this,null,function*(){let i=this.cache.store.getEventDetails(e);if(!i)throw new Error("Master event not found");let{calendarId:a,event:o}=i,s=this.plugin.providerRegistry.getSource(a);if(!s)throw new Error(`Could not find calendar info for ${a}`);let l=this.cache.getGlobalIdentifier(o,a);if(!l)throw new Error("Could not generate global identifier for master event.");let c=l.substring(a.length+2),u=c.split("/").pop();if(!u)throw new Error(`Could not extract filename from master event path: ${c}`);let d=We(ae({},n),{recurringEventId:u});yield this.cache.addEvent(s.id,d,{silent:!0}),yield this.cache.processEvent(e,f=>{if(f.type!=="recurring"&&f.type!=="rrule")return f;let h=f.skipDates.includes(r)?f.skipDates:[...f.skipDates,r];return We(ae({},f),{skipDates:h})},{silent:!0})})}modifyRecurringInstance(e,r,n){return ye(this,null,function*(){if(n.type!=="single")throw new Error("Cannot create a recurring override from a non-single event.");let i=this.cache.store.getEventDetails(e);if(!i)throw new Error("Master event not found for instance modification.");let{calendarId:a,event:o}=i,[s,l]=yield this.plugin.providerRegistry.createInstanceOverrideInProvider(a,o,r,n),c=this.cache.enhancer.enhance(s),u=this.cache.generateId();this.cache.store.add({calendarId:a,location:l,id:u,event:c}),this.cache.updateQueue.toAdd.set(u,{id:u,calendarId:a,event:c}),this.cache.isBulkUpdating=!0,yield this.cache.processEvent(e,d=>{if(d.type!=="recurring"&&d.type!=="rrule")return d;let f=d.skipDates.includes(r)?d.skipDates:[...d.skipDates,r];return We(ae({},d),{skipDates:f})},{silent:!0}),this.cache.flushUpdateQueue([],[])})}toggleRecurringInstance(e,r,n){return ye(this,null,function*(){let i=this.cache.store.getEventDetails(e);if(!i)return;let{event:a,calendarId:o}=i;if(n)if(a.type==="single")yield this.cache.updateEventWithId(e,dT(a,!0));else{let s;a.allDay===!1?s={title:a.title,category:a.category,subCategory:a.subCategory,timezone:a.timezone,allDay:!1,startTime:a.startTime,endTime:a.endTime,type:"single",date:r,endDate:null,completed:null}:s={title:a.title,category:a.category,subCategory:a.subCategory,timezone:a.timezone,allDay:!0,type:"single",date:r,endDate:null,completed:null};let l=dT(s,!0);yield this._createRecurringOverride(e,r,l)}else{if(a.type==="single"&&a.recurringEventId){let s=a.recurringEventId,l=this.getProviderAndConfig(o);if(!l){console.warn(`Could not find provider for calendar ID ${o}. Deleting orphan override.`),yield this.cache.deleteEvent(e);return}let{config:c}=l,u=c.type==="local"&&"directory"in c?`${c.directory}/${s}`:s,d=`${o}::${u}`,f=yield this.cache.getSessionId(d);if(f){let h=this.cache.getEventById(f);if(h&&this.hasModifiedTiming(i.event,h,r)){new Cu.Notice(W("notices.recurEvents.preservingTiming")),yield this.cache.updateEventWithId(e,dT(i.event,!1));return}}}new Cu.Notice(W("notices.recurEvents.revertingControl")),yield this.cache.deleteEvent(e)}})}updateRecurringChildren(e,r,n,i){return ye(this,null,function*(){if(n.type!=="recurring"&&n.type!=="rrule")return;let a=this.getProviderAndConfig(e);if(!a)return;let{provider:o,config:s}=a;if(s.type!=="local")return;let l=s.directory;if(!l)return;let c=this.plugin.cache.enhancer.prepareForStorage(i).title,u=this._sanitizeTitleForFilename(c),d=(n.skipDates||[]).flatMap(f=>{let h=`${f} ${u}.md`,p=`${l}/${h}`;return this.cache.store.getEventsInFile({path:p})});if(d.length!==0){new Cu.Notice(W("notices.recurEvents.updatingChildren",{count:d.length}));for(let f of d){let h=this.cache.store.getEventDetails(f.id);if(!h)continue;let{calendarId:p,event:m}=h,v=We(ae({},m),{title:this.cache.enhancer.prepareForStorage(n).title,recurringEventId:r});delete v.category,delete v.subCategory;let y=We(ae({},m),{title:n.title,category:n.category,subCategory:n.subCategory,recurringEventId:r}),b=o.getEventHandle(m);if(!b)continue;let x=yield o.updateEvent(b,m,v);this.cache.store.delete(f.id),this.cache.store.add({calendarId:p,location:x,id:f.id,event:y}),this.cache.isBulkUpdating=!0,this.cache.updateQueue.toRemove.add(f.id),this.cache.updateQueue.toAdd.set(f.id,{id:f.id,calendarId:p,event:y})}}})}handleUpdate(e,r,n){return ye(this,null,function*(){if(e.type!=="recurring"&&e.type!=="rrule")return!1;let i=this.getProviderAndConfig(n);if(!i)return!1;let{provider:a}=i,o=a.getEventHandle(e),s=a.getEventHandle(r),l=o==null?void 0:o.persistentId,c=s==null?void 0:s.persistentId;return l&&c&&l!==c?(yield this._handleRecurringRename(e,r,n,o,s),!0):!1})}_handleRecurringRename(e,r,n,i,a){return ye(this,null,function*(){this.cache.isBulkUpdating=!0;try{let o=this.getProviderAndConfig(n);if(!o)throw new Error(`Provider for calendar ${n} not found during rename.`);let{provider:s}=o,l=this.cache.getGlobalIdentifier(e,n),c=l?yield this.cache.getSessionId(l):null;if(!c)throw new Error("Could not find original parent event in cache to update.");let u=i.persistentId.split("/").pop(),d=a.persistentId.split("/").pop();u&&d&&(yield this.updateRecurringChildren(n,d,r,e));let f=this.cache.enhancer.prepareForStorage(e),h=this.cache.enhancer.prepareForStorage(r);yield s.updateEvent(i,f,h),this.cache.store.delete(c),this.cache.store.add({calendarId:n,location:{file:{path:a.persistentId},lineNumber:void 0},id:c,event:r}),this.cache.updateQueue.toRemove.add(c),this.cache.updateQueue.toAdd.set(c,{id:c,calendarId:n,event:r})}catch(o){console.error("Error during recurring parent rename operation:",o),new Cu.Notice(W("notices.recurEvents.updateError"))}finally{this.cache.isBulkUpdating=!1,this.cache.flushUpdateQueue([],[])}})}moveRecurringEvent(e,r,n){return ye(this,null,function*(){let i=this.cache.store.getEventDetails(e);if(!i)return!1;let{event:a}=i,o=n||a;if(a.type==="single"&&a.recurringEventId){let s=ae({},o);return delete s.recurringEventId,yield this.cache.addEvent(r,s),yield this.cache.deleteEvent(e),!0}if(a.type==="recurring"||a.type==="rrule"){let s=this.findRecurringChildren(e);if(!(yield this.cache.addEvent(r,o)))throw new Error("Failed to create new master event in destination.");let[c,u]=yield this.plugin.providerRegistry.createEventInProvider(r,o),d=this.cache.generateId(),f=this.cache.enhancer.enhance(c);this.cache.store.add({calendarId:r,location:u,id:d,event:f}),this.cache.flushUpdateQueue([],[{id:d,event:f,calendarId:r}]);let h,p=this.plugin.providerRegistry.getSource(r);if(p&&p.type==="local"&&u&&u.file?h=u.file.path.split("/").pop():h=c.id,s.length>0&&h){new Cu.Notice(W("notices.recurEvents.movingChildren",{count:s.length}));for(let m of s){let v=m.event,y=We(ae({},v),{recurringEventId:h});yield this.cache.addEvent(r,y)}}return yield this.deleteAllRecurring(e),!0}return!1})}}});var LJ=Re(()=>{});function OJ(t,e){let n=e.createDiv("full-calendar-onboarding-container").createDiv();n.createEl("h1").textContent="No calendars available",n.createEl("p").textContent="Thanks for downloading full calendar. Create a calendar below to begin.";let i=n.createDiv();Kx(t,i,a=>{ye(null,null,function*(){let{calendarSources:o}=t.settings;o.push(a),yield t.saveSettings(),yield t.activateView()})})}var PJ=Re(()=>{"use strict";_E();});function Lh(t,e){for(var r in e)t[r]=e[r];return t}function WJ(t){var e=t.parentNode;e&&e.removeChild(t)}function se(t,e,r){var n,i,a,o={};for(a in e)a=="key"?n=e[a]:a=="ref"?i=e[a]:o[a]=e[a];if(arguments.length>2&&(o.children=arguments.length>3?WE.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)o[a]===void 0&&(o[a]=t.defaultProps[a]);return UE(t,o,n,i,null)}function UE(t,e,r,n,i){var a={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++UJ:i};return i==null&&lr.vnode!=null&&lr.vnode(a),a}function nn(){return{current:null}}function sr(t){return t.children}function hNe(t,e,r,n,i){var a;for(a in r)a==="children"||a==="key"||a in e||jE(t,a,null,r[a],n);for(a in e)i&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||r[a]===e[a]||jE(t,a,e[a],r[a],n)}function FJ(t,e,r){e[0]==="-"?t.setProperty(e,r==null?"":r):t[e]=r==null?"":typeof r!="number"||fNe.test(e)?r:r+"px"}function jE(t,e,r,n,i){var a;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||FJ(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||FJ(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=r,r?n||t.addEventListener(e,a?qJ:HJ,a):t.removeEventListener(e,a?qJ:HJ,a);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r==null?"":r;break e}catch(o){}typeof r=="function"||(r==null||r===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,r))}}function HJ(t){f0=!0;try{return this.l[t.type+!1](lr.event?lr.event(t):t)}finally{f0=!1}}function qJ(t){f0=!0;try{return this.l[t.type+!0](lr.event?lr.event(t):t)}finally{f0=!1}}function eo(t,e){this.props=t,this.context=e}function hT(t,e){if(e==null)return t.__?hT(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?hT(t):null}function GJ(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return GJ(t)}}function pNe(t){f0?setTimeout(t):BJ(t)}function J6(t){(!t.__d&&(t.__d=!0)&&jm.push(t)&&!VE.__r++||zJ!==lr.debounceRendering)&&((zJ=lr.debounceRendering)||pNe)(VE)}function VE(){var t,e,r,n,i,a,o,s;for(jm.sort(function(l,c){return l.__v.__b-c.__v.__b});t=jm.shift();)t.__d&&(e=jm.length,n=void 0,i=void 0,o=(a=(r=t).__v).__e,(s=r.__P)&&(n=[],(i=Lh({},a)).__v=a.__v+1,tP(s,a,i,r.__n,s.ownerSVGElement!==void 0,a.__h!=null?[o]:null,n,o==null?hT(a):o,a.__h),KJ(n,a),a.__e!=o&&GJ(a)),jm.length>e&&jm.sort(function(l,c){return l.__v.__b-c.__v.__b}));VE.__r=0}function YJ(t,e,r,n,i,a,o,s,l,c){var u,d,f,h,p,m,v,y=n&&n.__k||VJ,b=y.length;for(r.__k=[],u=0;u<e.length;u++)if((h=r.__k[u]=(h=e[u])==null||typeof h=="boolean"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?UE(null,h,null,null,h):Array.isArray(h)?UE(sr,{children:h},null,null,null):h.__b>0?UE(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)!=null){if(h.__=r,h.__b=r.__b+1,(f=y[u])===null||f&&h.key==f.key&&h.type===f.type)y[u]=void 0;else for(d=0;d<b;d++){if((f=y[d])&&h.key==f.key&&h.type===f.type){y[d]=void 0;break}f=null}tP(t,h,f=f||BE,i,a,o,s,l,c),p=h.__e,(d=h.ref)&&f.ref!=d&&(v||(v=[]),f.ref&&v.push(f.ref,null,h),v.push(d,h.__c||p,h)),p!=null?(m==null&&(m=p),typeof h.type=="function"&&h.__k===f.__k?h.__d=l=ZJ(h,l,t):l=$J(t,h,f,y,p,l),typeof r.type=="function"&&(r.__d=l)):l&&f.__e==l&&l.parentNode!=t&&(l=hT(f))}for(r.__e=m,u=b;u--;)y[u]!=null&&(typeof r.type=="function"&&y[u].__e!=null&&y[u].__e==r.__d&&(r.__d=XJ(n).nextSibling),JJ(y[u],y[u]));if(v)for(u=0;u<v.length;u++)QJ(v[u],v[++u],v[++u])}function ZJ(t,e,r){for(var n,i=t.__k,a=0;i&&a<i.length;a++)(n=i[a])&&(n.__=t,e=typeof n.type=="function"?ZJ(n,e,r):$J(r,n,n,i,n.__e,e));return e}function pT(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){pT(r,e)}):e.push(t)),e}function $J(t,e,r,n,i,a){var o,s,l;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(r==null||i!=a||i.parentNode==null)e:if(a==null||a.parentNode!==t)t.appendChild(i),o=null;else{for(s=a,l=0;(s=s.nextSibling)&&l<n.length;l+=1)if(s==i)break e;t.insertBefore(i,a),o=a}return o!==void 0?o:i.nextSibling}function XJ(t){var e,r,n;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((r=t.__k[e])&&(n=XJ(r)))return n}return null}function tP(t,e,r,n,i,a,o,s,l){var c,u,d,f,h,p,m,v,y,b,x,w,S,_,C,E=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(l=r.__h,s=e.__e=r.__e,e.__h=null,a=[s]),(c=lr.__b)&&c(e);try{e:if(typeof E=="function"){if(v=e.props,y=(c=E.contextType)&&n[c.__c],b=c?y?y.props.value:c.__:n,r.__c?m=(u=e.__c=r.__c).__=u.__E:("prototype"in E&&E.prototype.render?e.__c=u=new E(v,b):(e.__c=u=new eo(v,b),u.constructor=E,u.render=vNe),y&&y.sub(u),u.props=v,u.state||(u.state={}),u.context=b,u.__n=n,d=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),E.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=Lh({},u.__s)),Lh(u.__s,E.getDerivedStateFromProps(v,u.__s))),f=u.props,h=u.state,u.__v=e,d)E.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(E.getDerivedStateFromProps==null&&v!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(v,b),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(v,u.__s,b)===!1||e.__v===r.__v){for(e.__v!==r.__v&&(u.props=v,u.state=u.__s,u.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(M){M&&(M.__=e)}),x=0;x<u._sb.length;x++)u.__h.push(u._sb[x]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(v,u.__s,b),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,h,p)})}if(u.context=b,u.props=v,u.__P=t,w=lr.__r,S=0,"prototype"in E&&E.prototype.render){for(u.state=u.__s,u.__d=!1,w&&w(e),c=u.render(u.props,u.state,u.context),_=0;_<u._sb.length;_++)u.__h.push(u._sb[_]);u._sb=[]}else do u.__d=!1,w&&w(e),c=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++S<25);u.state=u.__s,u.getChildContext!=null&&(n=Lh(Lh({},n),u.getChildContext())),d||u.getSnapshotBeforeUpdate==null||(p=u.getSnapshotBeforeUpdate(f,h)),C=c!=null&&c.type===sr&&c.key==null?c.props.children:c,YJ(t,Array.isArray(C)?C:[C],e,r,n,i,a,o,s,l),u.base=e.__e,e.__h=null,u.__h.length&&o.push(u),m&&(u.__E=u.__=null),u.__e=!1}else a==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=mNe(r.__e,e,r,n,i,a,o,l);(c=lr.diffed)&&c(e)}catch(M){e.__v=null,(l||a!=null)&&(e.__e=s,e.__h=!!l,a[a.indexOf(s)]=null),lr.__e(M,e,r)}}function KJ(t,e){lr.__c&&lr.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){lr.__e(n,r.__v)}})}function mNe(t,e,r,n,i,a,o,s){var l,c,u,d=r.props,f=e.props,h=e.type,p=0;if(h==="svg"&&(i=!0),a!=null){for(;p<a.length;p++)if((l=a[p])&&"setAttribute"in l==!!h&&(h?l.localName===h:l.nodeType===3)){t=l,a[p]=null;break}}if(t==null){if(h===null)return document.createTextNode(f);t=i?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,f.is&&f),a=null,s=!1}if(h===null)d===f||s&&t.data===f||(t.data=f);else{if(a=a&&WE.call(t.childNodes),c=(d=r.props||BE).dangerouslySetInnerHTML,u=f.dangerouslySetInnerHTML,!s){if(a!=null)for(d={},p=0;p<t.attributes.length;p++)d[t.attributes[p].name]=t.attributes[p].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(hNe(t,f,d,i,s),u)e.__k=[];else if(p=e.props.children,YJ(t,Array.isArray(p)?p:[p],e,r,n,i&&h!=="foreignObject",a,o,a?a[0]:r.__k&&hT(r,0),s),a!=null)for(p=a.length;p--;)a[p]!=null&&WJ(a[p]);s||("value"in f&&(p=f.value)!==void 0&&(p!==t.value||h==="progress"&&!p||h==="option"&&p!==d.value)&&jE(t,"value",p,d.value,!1),"checked"in f&&(p=f.checked)!==void 0&&p!==t.checked&&jE(t,"checked",p,d.checked,!1))}return t}function QJ(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){lr.__e(n,r)}}function JJ(t,e,r){var n,i;if(lr.unmount&&lr.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||QJ(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){lr.__e(a,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&JJ(n[i],e,r||typeof t.type!="function");r||t.__e==null||WJ(t.__e),t.__=t.__e=t.__d=void 0}function vNe(t,e,r){return this.constructor(t,r)}function Oh(t,e,r){var n,i,a;lr.__&&lr.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,a=[],tP(e,t=(!n&&r||e).__k=se(sr,null,[t]),i||BE,BE,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?WE.call(e.childNodes):null,a,!n&&r?r:i?i.__e:e.firstChild,n),KJ(a,t)}function GE(t,e){var r={__c:e="__cC"+jJ++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,a;return this.getChildContext||(i=[],(a={})[e]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(s){s.__e=!0,J6(s)})},this.sub=function(o){i.push(o);var s=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),s&&s.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}var WE,lr,UJ,eP,f0,jm,zJ,BJ,jJ,BE,VJ,fNe,Gd=Re(()=>{BE={},VJ=[],fNe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;WE=VJ.slice,lr={__e:function(t,e,r,n){for(var i,a,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(s){t=s}throw t}},UJ=0,eP=function(t){return t!=null&&t.constructor===void 0},f0=!1,eo.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Lh({},this.state),typeof t=="function"&&(t=t(Lh({},r),this.props)),t&&Lh(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),J6(this))},eo.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),J6(this))},eo.prototype.render=sr,jm=[],BJ=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,VE.__r=0,jJ=0});function bNe(){for(var t;t=see.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(YE),t.__H.__h.forEach(iP),t.__H.__h=[]}catch(e){t.__H.__h=[],lr.__e(e,t.__v)}}function wNe(t){var e,r=function(){clearTimeout(n),oee&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);oee&&(e=requestAnimationFrame(r))}function YE(t){var e=ku,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),ku=e}function iP(t){var e=ku;t.__c=t.__(),ku=e}var yNe,ku,rP,eee,see,nP,tee,ree,nee,iee,aee,oee,aP=Re(()=>{Gd();see=[],nP=[],tee=lr.__b,ree=lr.__r,nee=lr.diffed,iee=lr.__c,aee=lr.unmount;lr.__b=function(t){ku=null,tee&&tee(t)},lr.__r=function(t){ree&&ree(t),yNe=0;var e=(ku=t.__c).__H;e&&(rP===ku?(e.__h=[],ku.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=nP,r.__N=r.i=void 0})):(e.__h.forEach(YE),e.__h.forEach(iP),e.__h=[])),rP=ku},lr.diffed=function(t){nee&&nee(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(see.push(e)!==1&&eee===lr.requestAnimationFrame||((eee=lr.requestAnimationFrame)||wNe)(bNe)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==nP&&(r.__=r.__V),r.i=void 0,r.__V=nP})),rP=ku=null},lr.__c=function(t,e){e.some(function(r){try{r.__h.forEach(YE),r.__h=r.__h.filter(function(n){return!n.__||iP(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],lr.__e(n,r.__v)}}),iee&&iee(t,e)},lr.unmount=function(t){aee&&aee(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{YE(n)}catch(i){e=i}}),r.__H=void 0,e&&lr.__e(e,r.__v))};oee=typeof requestAnimationFrame=="function"});function xNe(t,e){for(var r in e)t[r]=e[r];return t}function lee(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function cee(t){this.props=t}function gee(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=xNe({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return gee(n,e,r)})),t}function yee(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return yee(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}function oP(){this.__u=0,this.t=null,this.__b=null}function bee(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function ZE(){this.u=null,this.o=null}function SNe(t){return this.getChildContext=function(){return t.context},t.children}function _Ne(t){var e=this,r=t.i;e.componentWillUnmount=function(){Oh(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),t.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,i){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),Oh(se(SNe,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function sP(t,e){var r=se(_Ne,{__v:t,i:e});return r.containerInfo=e,r}function ANe(){}function MNe(){return this.cancelBubble}function RNe(){return this.defaultPrevented}var uee,tmt,TNe,dee,fee,CNe,kNe,ENe,DNe,hee,INe,pee,mee,vee,mT=Re(()=>{Gd();Gd();aP();aP();(cee.prototype=new eo).isPureReactComponent=!0,cee.prototype.shouldComponentUpdate=function(t,e){return lee(this.props,t)||lee(this.state,e)};uee=lr.__b;lr.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),uee&&uee(t)};tmt=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911,TNe=lr.__e;lr.__e=function(t,e,r,n){if(t.then){for(var i,a=e;a=a.__;)if((i=a.__c)&&i.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),i.__c(t,e)}TNe(t,e,r,n)};dee=lr.unmount;lr.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),dee&&dee(t)},(oP.prototype=new eo).__c=function(t,e){var r=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(r);var i=bee(n.__v),a=!1,o=function(){a||(a=!0,r.__R=null,i?i(s):s())};r.__R=o;var s=function(){if(!--n.__u){if(n.state.__a){var c=n.state.__a;n.__v.__k[0]=yee(c,c.__c.__P,c.__c.__O)}var u;for(n.setState({__a:n.__b=null});u=n.t.pop();)u.forceUpdate()}},l=e.__h===!0;n.__u++||l||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(o,o)},oP.prototype.componentWillUnmount=function(){this.t=[]},oP.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=gee(this.__b,r,n.__O=n.__P)}this.__b=null}var i=e.__a&&se(sr,null,t.fallback);return i&&(i.__h=null),[se(sr,null,e.__a?null:t.children),i]};fee=function(t,e,r){if(++r[1]===r[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};(ZE.prototype=new eo).__a=function(t){var e=this,r=bee(e.__v),n=e.o.get(t);return n[0]++,function(i){var a=function(){e.props.revealOrder?(n.push(i),fee(e,t,n)):i()};r?r(a):a()}},ZE.prototype.render=function(t){this.u=null,this.o=new Map;var e=pT(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return t.children},ZE.prototype.componentDidUpdate=ZE.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,r){fee(t,r,e)})};CNe=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,kNe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ENe=typeof document!="undefined",DNe=function(t){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};eo.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(eo.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});hee=lr.event;lr.event=function(t){return hee&&(t=hee(t)),t.persist=ANe,t.isPropagationStopped=MNe,t.isDefaultPrevented=RNe,t.nativeEvent=t};pee={configurable:!0,get:function(){return this.class}},mee=lr.vnode;lr.vnode=function(t){var e=t.type,r=t.props,n=r;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var a in n={},r){var o=r[a];ENe&&a==="children"&&e==="noscript"||a==="value"&&"defaultValue"in r&&o==null||(a==="defaultValue"&&"value"in r&&r.value==null?a="value":a==="download"&&o===!0?o="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+e)&&!DNe(r.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():i&&kNe.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),n[a]&&(a="oninputCapture")),n[a]=o)}e=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=pT(r.children).forEach(function(s){s.props.selected=n.value.indexOf(s.props.value)!=-1})),e=="select"&&n.defaultValue!=null&&(n.value=pT(r.children).forEach(function(s){s.props.selected=n.multiple?n.defaultValue.indexOf(s.props.value)!=-1:n.defaultValue==s.props.value})),t.props=n,r.class!=r.className&&(pee.enumerable="className"in r,r.className!=null&&(n.class=r.className),Object.defineProperty(n,"className",pee))}t.$$typeof=CNe,mee&&mee(t)};vee=lr.__r;lr.__r=function(t){vee&&vee(t),INe=t.__c}});function Pl(t){Nee.push(t),yP.forEach(e=>{Pee(e,t)})}function Lee(t){t.isConnected&&t.getRootNode&&Oee(t.getRootNode())}function Oee(t){let e=yP.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");let r=LNe();r&&(e.nonce=r);let n=t===document?document.head:t,i=t===document?n.querySelector("script,link[rel=stylesheet],link[as=style],style"):n.firstChild;n.insertBefore(e,i)}yP.set(t,e),NNe(e)}}function NNe(t){for(let e of Nee)Pee(t,e)}function Pee(t,e){let{sheet:r}=t,n=r.cssRules.length;e.split("}").forEach((i,a)=>{i=i.trim(),i&&r.insertRule(i+"}",n+a)})}function LNe(){return lP===void 0&&(lP=ONe()),lP}function ONe(){let t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");let e=document.querySelector("script[nonce]");return e&&e.nonce||""}function ev(t){t.parentNode&&t.parentNode.removeChild(t)}function Mi(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(DT(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function DT(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function Ru(t,e){let r=t instanceof HTMLElement?[t]:t,n=[];for(let i=0;i<r.length;i+=1){let a=r[i].querySelectorAll(e);for(let o=0;o<a.length;o+=1)n.push(a[o])}return n}function EP(t,e){let r=t instanceof HTMLElement?[t]:t,n=[];for(let i=0;i<r.length;i+=1){let a=r[i].children;for(let o=0;o<a.length;o+=1){let s=a[o];(!e||DT(s,e))&&n.push(s)}}return n}function ef(t,e){for(let r in e)DP(t,r,e[r])}function DP(t,e,r){r==null?t.style[e]="":typeof r=="number"&&zNe.test(e)?t.style[e]=`${r}px`:t.style[e]=r}function sD(t){var e,r;return(r=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&r!==void 0?r:t.target}function zl(){return wee+=1,"fc-dom-"+wee}function AT(t){t.preventDefault()}function FNe(t,e){return r=>{let n=Mi(r.target,t);n&&e.call(n,r,n)}}function AP(t,e,r,n){let i=FNe(r,n);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function zee(t,e,r,n){let i;return AP(t,"mouseover",e,(a,o)=>{if(o!==i){i=o,r(a,o);let s=l=>{i=null,n(l,o),o.removeEventListener("mouseleave",s)};o.addEventListener("mouseleave",s)}})}function MP(t,e){let r=n=>{e(n),xee.forEach(i=>{t.removeEventListener(i,r)})};xee.forEach(n=>{t.addEventListener(n,r)})}function Fee(t){return Object.assign({onClick:t},Hee(t))}function Hee(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}function ss(){return Tee+=1,String(Tee)}function b0(){document.body.classList.add("fc-not-allowed")}function w0(){document.body.classList.remove("fc-not-allowed")}function RP(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",AT)}function IP(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",AT)}function NP(t){t.addEventListener("contextmenu",AT)}function LP(t){t.removeEventListener("contextmenu",AT)}function x0(t){let e=[],r=[],n,i;for(typeof t=="string"?r=t.split(/\s*,\s*/):typeof t=="function"?r=[t]:Array.isArray(t)&&(r=t),n=0;n<r.length;n+=1)i=r[n],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function lD(t,e,r){let n,i;for(n=0;n<r.length;n+=1)if(i=HNe(t,e,r[n]),i)return i;return 0}function HNe(t,e,r){return r.func?r.func(t,e):cD(t[r.field],e[r.field])*(r.order||1)}function cD(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function Cc(t,e){let r=String(t);return"000".substr(0,e-r.length)+r}function T0(t,e,r){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((n,i,a)=>n.replace("$"+a,i||""),t):r}function OP(t,e){return t-e}function Yd(t){return t%1===0}function qNe(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),r=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!r)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+r.getBoundingClientRect().width}function Dr(t,e){return typeof t=="string"?BNe(t):typeof t=="object"&&t?_ee(t):typeof t=="number"?_ee({[e||"milliseconds"]:t}):null}function BNe(t){let e=UNe.exec(t);if(e){let r=e[1]?-1:1;return{years:0,months:0,days:r*(e[2]?parseInt(e[2],10):0),milliseconds:r*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function _ee(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},r=t.weeks||t.week;return r&&(e.days+=r*7,e.specifiedWeeks=!0),e}function jNe(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function uD(t){return!t.years&&!t.months&&!t.milliseconds?t.days:0}function MT(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function qee(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function RT(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function VNe(t){return h0(t)/365}function WNe(t){return h0(t)/30}function h0(t){return va(t)/864e5}function PP(t){return va(t)/(1e3*60)}function zP(t){return va(t)/1e3}function va(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function Ac(t,e){let r=null;for(let n=0;n<See.length;n+=1){let i=See[n];if(e[i]){let a=t[i]/e[i];if(!Yd(a)||r!==null&&r!==a)return null;r=a}else if(t[i])return null}return r}function Nl(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function to(t,e,r){if(t===e)return!0;let n=t.length,i;if(n!==e.length)return!1;for(i=0;i<n;i+=1)if(!(r?r(t[i],e[i]):t[i]===e[i]))return!1;return!0}function dD(t,e){let r=zh(t);return r[2]+=e*7,as(r)}function Ln(t,e){let r=zh(t);return r[2]+=e,as(r)}function Ll(t,e){let r=zh(t);return r[6]+=e,as(r)}function FP(t,e){return Iu(t,e)/7}function Iu(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function GNe(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function YNe(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function ZNe(t,e){return(e.valueOf()-t.valueOf())/1e3}function Bee(t,e){let r=cn(t),n=cn(e);return{years:0,months:0,days:Math.round(Iu(r,n)),milliseconds:e.valueOf()-n.valueOf()-(t.valueOf()-r.valueOf())}}function jee(t,e){let r=qh(t,e);return r!==null&&r%7===0?r/7:null}function qh(t,e){return Fh(t)===Fh(e)?Math.round(Iu(t,e)):null}function cn(t){return as([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function $Ne(t){return as([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function XNe(t){return as([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function KNe(t){return as([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function QNe(t,e,r){let n=t.getUTCFullYear(),i=cP(t,n,e,r);if(i<1)return cP(t,n-1,e,r);let a=cP(t,n+1,e,r);return a>=1?Math.min(i,a):i}function cP(t,e,r,n){let i=as([e,0,1+JNe(e,r,n)]),a=cn(t),o=Math.round(Iu(i,a));return Math.floor(o/7)+1}function JNe(t,e,r){let n=7+e-r;return-((7+as([t,0,n]).getUTCDay()-e)%7)+n-1}function Cee(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function kee(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function zh(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function as(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function IT(t){return!isNaN(t.valueOf())}function Fh(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function tv(t,e,r=!1){let n=t.toISOString();return n=n.replace(".000",""),r&&(n=n.replace("T00:00:00Z","")),n.length>10&&(e==null?n=n.replace("Z",""):e!==0&&(n=n.replace("Z",UP(e,!0)))),n}function tf(t){return t.toISOString().replace(/T.*$/,"")}function HP(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function qP(t){return Cc(t.getUTCHours(),2)+":"+Cc(t.getUTCMinutes(),2)+":"+Cc(t.getUTCSeconds(),2)}function UP(t,e=!1){let r=t<0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),a=Math.round(n%60);return e?`${r+Cc(i,2)}:${Cc(a,2)}`:`GMT${r}${i}${a?`:${Cc(a,2)}`:""}`}function jt(t,e,r){let n,i;return function(...a){if(!n)i=t.apply(this,a);else if(!to(n,a)){r&&r(i);let o=t.apply(this,a);(!e||!e(o,i))&&(i=o)}return n=a,i}}function Fl(t,e,r){let n,i;return a=>{if(!n)i=t.call(this,a);else if(!xi(n,a)){r&&r(i);let o=t.call(this,a);(!e||!e(o,i))&&(i=o)}return n=a,i}}function NT(t,e,r){let n=[],i=[];return a=>{let o=n.length,s=a.length,l=0;for(;l<o;l+=1)if(!a[l])r&&r(i[l]);else if(!to(n[l],a[l])){r&&r(i[l]);let c=t.apply(this,a[l]);(!e||!e(c,i[l]))&&(i[l]=c)}for(;l<s;l+=1)i[l]=t.apply(this,a[l]);return n=a,i.splice(s),i}}function fD(t,e,r){let n={},i={};return a=>{let o={};for(let s in a)if(!i[s])o[s]=t.apply(this,a[s]);else if(to(n[s],a[s]))o[s]=i[s];else{r&&r(i[s]);let l=t.apply(this,a[s]);o[s]=e&&e(l,i[s])?i[s]:l}return n=a,i=o,o}}function Eee(t,e,r){let n=Object.keys(t).length;return n===1&&t.timeZoneName==="short"?i=>UP(i.timeZoneOffset):n===0&&e.week?i=>lLe(r.computeWeekNumber(i.marker),r.weekText,r.weekTextLong,r.locale,e.week):iLe(t,e,r)}function iLe(t,e,r){t=Object.assign({},t),e=Object.assign({},e),aLe(t,e),t.timeZone="UTC";let n=new Intl.DateTimeFormat(r.locale.codes,t),i;if(e.omitZeroMinute){let a=Object.assign({},t);delete a.minute,i=new Intl.DateTimeFormat(r.locale.codes,a)}return a=>{let{marker:o}=a,s;i&&!o.getUTCMinutes()?s=i:s=n;let l=s.format(o);return oLe(l,a,t,e,r)}}function aLe(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function oLe(t,e,r,n,i){return t=t.replace(rLe,""),r.timeZoneName==="short"&&(t=sLe(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":UP(e.timeZoneOffset))),n.omitCommas&&(t=t.replace(eLe,"").trim()),n.omitZeroMinute&&(t=t.replace(":00","")),n.meridiem===!1?t=t.replace($E,"").trim():n.meridiem==="narrow"?t=t.replace($E,(a,o)=>o.toLocaleLowerCase()):n.meridiem==="short"?t=t.replace($E,(a,o)=>`${o.toLocaleLowerCase()}m`):n.meridiem==="lowercase"&&(t=t.replace($E,a=>a.toLocaleLowerCase())),t=t.replace(tLe," "),t=t.trim(),t}function sLe(t,e){let r=!1;return t=t.replace(nLe,()=>(r=!0,e)),r||(t+=` ${e}`),t}function lLe(t,e,r,n,i){let a=[];return i==="long"?a.push(r):(i==="short"||i==="narrow")&&a.push(e),(i==="long"||i==="short")&&a.push(" "),a.push(n.simpleNumberFormat.format(t)),n.options.direction==="rtl"&&a.reverse(),a.join("")}function cLe(t,e,r){return r.getMarkerYear(t)!==r.getMarkerYear(e)?5:r.getMarkerMonth(t)!==r.getMarkerMonth(e)?4:r.getMarkerDay(t)!==r.getMarkerDay(e)?2:Fh(t)!==Fh(e)?1:0}function uLe(t,e){let r={};for(let n in t)(!(n in tD)||tD[n]<=e)&&(r[n]=t[n]);return r}function dLe(t,e,r,n){let i=0;for(;i<t.length;){let a=t.indexOf(e,i);if(a===-1)break;let o=t.substr(0,a);i=a+e.length;let s=t.substr(i),l=0;for(;l<r.length;){let c=r.indexOf(n,l);if(c===-1)break;let u=r.substr(0,c);l=c+n.length;let d=r.substr(l);if(o===u&&s===d)return{before:o,after:s}}}return null}function Dee(t,e){let r=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:r,year:r[0],month:r[1],day:r[2],hour:r[3],minute:r[4],second:r[5],millisecond:r[6]}}function rD(t,e,r,n){let i=Dee(t,r.calendarSystem),a=e?Dee(e,r.calendarSystem):null;return{date:i,start:i,end:a,timeZone:r.timeZone,localeCodes:r.locale.codes,defaultSeparator:n||r.defaultSeparator}}function ln(t){return typeof t=="object"&&t?new bP(t):typeof t=="string"?new wP(t):typeof t=="function"?new xP(t):null}function Vm(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?xi(t,e):t===e}function XE(t,e){return Array.isArray(t)&&Array.isArray(e)?to(t,e):t===e}function hD(t){return pD(t,Vh)}function rf(t,e){let r={},n={};for(let i in e)i in t&&(r[i]=e[i](t[i]));for(let i in t)i in e||(n[i]=t[i]);return{refined:r,extra:n}}function Be(t){return t}function pD(t,e){let r={};if(e){for(let n in e)if(e[n]===Vm){let i=[];for(let a=t.length-1;a>=0;a-=1){let o=t[a][n];if(typeof o=="object"&&o)i.unshift(o);else if(o!==void 0){r[n]=o;break}}i.length&&(r[n]=pD(i))}}for(let n=t.length-1;n>=0;n-=1){let i=t[n];for(let a in i)a in r||(r[a]=i[a])}return r}function Ol(t,e){let r={};for(let n in t)e(t[n],n)&&(r[n]=t[n]);return r}function Ri(t,e){let r={};for(let n in t)r[n]=e(t[n],n);return r}function WP(t){let e={};for(let r of t)e[r]=!0;return e}function mD(t){let e=[];for(let r in t)e.push(t[r]);return e}function xi(t,e){if(t===e)return!0;for(let r in t)if(nD.call(t,r)&&!(r in e))return!1;for(let r in e)if(nD.call(e,r)&&t[r]!==e[r])return!1;return!0}function hLe(t,e){let r=pLe(t,e);for(let n of r)if(!fLe.test(n))return!1;return!0}function pLe(t,e){let r=[];for(let n in t)nD.call(t,n)&&(n in e||r.push(n));for(let n in e)nD.call(e,n)&&t[n]!==e[n]&&r.push(n);return r}function p0(t,e,r={}){if(t===e)return!0;for(let n in e)if(!(n in t&&mLe(t[n],e[n],r[n])))return!1;for(let n in t)if(!(n in e))return!1;return!0}function mLe(t,e,r){return t===e||r===!0?!0:r?r(t,e):!1}function vD(t,e=0,r,n=1){let i=[];r==null&&(r=Object.keys(t).length);for(let a=e;a<r;a+=n){let o=t[a];o!==void 0&&i.push(o)}return i}function vLe(t,e){Wee[t]=e}function gLe(t){return new Wee[t]}function S0(t){let e=yLe.exec(t);if(e){let r=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(IT(r)){let n=null;return e[13]&&(n=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:r,isTimeUnspecified:!e[6],timeZoneOffset:n}}}return null}function vT(t){t();let e=lr.debounceRendering,r=[];function n(i){r.push(i)}for(lr.debounceRendering=n,Oh(se(SP,{}),document.createElement("div"));r.length;)r.shift()();lr.debounceRendering=e}function Gee(t){let e=GE(t),r=e.Provider;return e.Provider=function(){let n=!this.getChildContext,i=r.apply(this,arguments);if(n){let a=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&a.forEach(s=>{s.context=o.value,s.forceUpdate()})},this.sub=o=>{a.push(o);let s=o.componentWillUnmount;o.componentWillUnmount=()=>{a.splice(a.indexOf(o),1),s&&s.call(o)}}}return i},e}function Yee(t,e,r,n,i,a,o,s,l,c,u,d,f,h){return{dateEnv:i,nowManager:a,options:r,pluginHooks:s,emitter:u,dispatch:l,getCurrentData:c,calendarApi:d,viewSpec:t,viewApi:e,dateProfileGenerator:n,theme:o,isRtl:r.direction==="rtl",addResizeHandler(p){u.on("_resize",p)},removeResizeHandler(p){u.off("_resize",p)},createScrollResponder(p){return new iD(p,u,Dr(r.scrollTime),r.scrollTimeReset)},registerInteractiveComponent:f,unregisterInteractiveComponent:h}}function bLe(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function wLe(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function ro(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function _P(t,e){var r;return!!(e.handleCustomRendering&&t&&(!((r=e.customRenderingMetaMap)===null||r===void 0)&&r[t]))}function GP(t,e,r){let n=Object.assign(Object.assign({},t.elAttrs),{ref:r});return(t.elClasses||e)&&(n.className=(t.elClasses||[]).concat(e||[]).concat(n.className||[]).filter(Boolean).join(" ")),t.elStyle&&(n.style=t.elStyle),n}function xLe(t){return!!t}function TLe(t,e){let r=t.props;return se(gT,Object.assign({renderProps:r.renderProps,generatorName:r.generatorName,customGenerator:r.customGenerator,defaultGenerator:r.defaultGenerator,renderId:t.context},e))}function SLe(t,e){let r=typeof t=="function"?t(e):t||[];return typeof r=="string"?[r]:r}function ZP(t){return[`fc-${t.type}-view`,"fc-view"]}function _Le(t,e){let r=null,n=null;return t.start&&(r=e.createMarker(t.start)),t.end&&(n=e.createMarker(t.end)),!r&&!n||r&&n&&n<r?null:{start:r,end:n}}function Aee(t,e){let r=[],{start:n}=e,i,a;for(t.sort(CLe),i=0;i<t.length;i+=1)a=t[i],a.start>n&&r.push({start:n,end:a.start}),a.end>n&&(n=a.end);return n<e.end&&r.push({start:n,end:e.end}),r}function CLe(t,e){return t.start.valueOf()-e.start.valueOf()}function jo(t,e){let{start:r,end:n}=t,i=null;return e.start!==null&&(r===null?r=e.start:r=new Date(Math.max(r.valueOf(),e.start.valueOf()))),e.end!=null&&(n===null?n=e.end:n=new Date(Math.min(n.valueOf(),e.end.valueOf()))),(r===null||n===null||r<n)&&(i={start:r,end:n}),i}function gD(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function _0(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function C0(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function os(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function kLe(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function Zee(t){let e=Math.floor(Iu(t.start,t.end))||1,r=cn(t.start),n=Ln(r,e);return{start:r,end:n}}function k0(t,e=Dr(0)){let r=null,n=null;if(t.end){n=cn(t.end);let i=t.end.valueOf()-n.valueOf();i&&i>=va(e)&&(n=Ln(n,1))}return t.start&&(r=cn(t.start),n&&n<=r&&(n=Ln(r,1))),{start:r,end:n}}function $P(t){let e=k0(t);return Iu(e.start,e.end)>1}function Hh(t,e,r,n){return n==="year"?Dr(r.diffWholeYears(t,e),"year"):n==="month"?Dr(r.diffWholeMonths(t,e),"month"):Bee(t,e)}function E0(t,e,r,n){return{instanceId:ss(),defId:t,range:e,forcedStartTzo:r==null?null:r,forcedEndTzo:n==null?null:n}}function ELe(t,e,r,n){for(let i=0;i<n.length;i+=1){let a=n[i].parse(t,r);if(a){let{allDay:o}=t;return o==null&&(o=e,o==null&&(o=a.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:a.duration,typeData:a.typeData,typeId:i}}}return null}function Gm(t,e,r){let{dateEnv:n,pluginHooks:i,options:a}=r,{defs:o,instances:s}=t;s=Ol(s,l=>!o[l.defId].recurringDef);for(let l in o){let c=o[l];if(c.recurringDef){let{duration:u}=c.recurringDef;u||(u=c.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);let d=DLe(c,u,e,n,i.recurringTypes);for(let f of d){let h=E0(l,{start:f,end:n.add(f,u)});s[h.instanceId]=h}}}return{defs:o,instances:s}}function DLe(t,e,r,n,i){let o=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:n.subtract(r.start,e),end:r.end},n);return t.allDay&&(o=o.map(cn)),o}function Xee(t,e,r,n,i=XP(r),a,o){let{refined:s,extra:l}=LT(t,r,i),c=RLe(e,r),u=ELe(s,c,r.dateEnv,r.pluginHooks.recurringTypes);if(u){let f=v0(s,l,e?e.sourceId:"",u.allDay,!!u.duration,r,a);return f.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:f,instance:null}}let d=MLe(s,c,r,n);if(d){let f=v0(s,l,e?e.sourceId:"",d.allDay,d.hasEnd,r,a),h=E0(f.defId,d.range,d.forcedStartTzo,d.forcedEndTzo);return o&&f.publicId&&o[f.publicId]&&(h.instanceId=o[f.publicId]),{def:f,instance:h}}return null}function LT(t,e,r=XP(e)){return rf(t,r)}function XP(t){return Object.assign(Object.assign(Object.assign({},aD),ALe),t.pluginHooks.eventRefiners)}function v0(t,e,r,n,i,a,o){let s={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||ss(),sourceId:r,allDay:n,hasEnd:i,interactive:t.interactive,ui:Wh(t,a),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of a.pluginHooks.eventDefMemberAdders)Object.assign(s,l(t));return Object.freeze(s.ui.classNames),Object.freeze(s.extendedProps),s}function MLe(t,e,r,n){let{allDay:i}=t,a,o=null,s=!1,l,c=null,u=t.start!=null?t.start:t.date;if(a=r.dateEnv.createMarkerMeta(u),a)o=a.marker;else if(!n)return null;return t.end!=null&&(l=r.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!a||a.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),i&&o&&(o=cn(o)),l&&(c=l.marker,i&&(c=cn(c)),o&&c<=o&&(c=null)),c?s=!0:n||(s=r.options.forceEventDuration||!1,c=r.dateEnv.add(o,i?r.options.defaultAllDayEventDuration:r.options.defaultTimedEventDuration)),{allDay:i,hasEnd:s,range:{start:o,end:c},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function RLe(t,e){let r=null;return t&&(r=t.defaultAllDay),r==null&&(r=e.options.defaultAllDay),r}function yT(t,e,r,n,i,a){let o=ga(),s=XP(r);for(let l of t){let c=Xee(l,e,r,n,s,i,a);c&&Ym(c,o)}return o}function Ym(t,e=ga()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function OT(t,e){let r=t.instances[e];if(r){let n=t.defs[r.defId],i=yD(t,a=>ILe(n,a));return i.defs[n.defId]=n,i.instances[r.instanceId]=r,i}return ga()}function ILe(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function ga(){return{defs:{},instances:{}}}function D0(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function yD(t,e){let r=Ol(t.defs,e),n=Ol(t.instances,i=>r[i.defId]);return{defs:r,instances:n}}function NLe(t,e){let{defs:r,instances:n}=t,i={},a={};for(let o in r)e.defs[o]||(i[o]=r[o]);for(let o in n)!e.instances[o]&&i[n[o].defId]&&(a[o]=n[o]);return{defs:i,instances:a}}function LLe(t,e){return Array.isArray(t)?yT(t,null,e,!0):typeof t=="object"&&t?yT([t],null,e,!0):t!=null?String(t):null}function bT(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}function Wh(t,e){let r=LLe(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:r!=null?[r]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function PT(t){return t.reduce(PLe,OLe)}function PLe(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}function KP(t,e,r=QP(e)){let n;if(typeof t=="string"?n={url:t}:typeof t=="function"||Array.isArray(t)?n={events:t}:typeof t=="object"&&t&&(n=t),n){let{refined:i,extra:a}=rf(n,r),o=FLe(i,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:ss(),sourceDefId:o.sourceDefId,meta:o.meta,ui:Wh(i,e),extendedProps:a}}return null}function QP(t){return Object.assign(Object.assign(Object.assign({},aD),zLe),t.pluginHooks.eventSourceRefiners)}function FLe(t,e){let r=e.pluginHooks.eventSourceDefs;for(let n=r.length-1;n>=0;n-=1){let a=r[n].parseMeta(t);if(a)return{sourceDefId:n,meta:a}}return null}function Kee(t,e,r,n,i){switch(e.type){case"RECEIVE_EVENTS":return HLe(t,r[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return qLe(t,r[e.sourceId],e.rawEvents,n.activeRange,i);case"ADD_EVENTS":return ULe(t,e.eventStore,n?n.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return D0(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?Gm(t,n.activeRange,i):t;case"REMOVE_EVENTS":return NLe(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return Jee(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return yD(t,a=>!a.sourceId);case"REMOVE_ALL_EVENTS":return ga();default:return t}}function HLe(t,e,r,n,i,a){if(e&&r===e.latestFetchId){let o=yT(Qee(i,e,a),e,a);return n&&(o=Gm(o,n,a)),D0(Jee(t,e.sourceId),o)}return t}function qLe(t,e,r,n,i){let{defIdMap:a,instanceIdMap:o}=jLe(t),s=yT(Qee(r,e,i),e,i,!1,a,o);return Gm(s,n,i)}function Qee(t,e,r){let n=r.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=Mee(t,i)),n&&(t=Mee(t,n)),t}function Mee(t,e){let r;if(!e)r=t;else{r=[];for(let n of t){let i=e(n);i?r.push(i):i==null&&r.push(n)}}return r}function ULe(t,e,r,n){return r&&(e=Gm(e,r,n)),D0(t,e)}function JP(t,e,r){let{defs:n}=t,i=Ri(t.instances,a=>n[a.defId].allDay?a:Object.assign(Object.assign({},a),{range:{start:r.createMarker(e.toDate(a.range.start,a.forcedStartTzo)),end:r.createMarker(e.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:r.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:r.canComputeOffset?null:a.forcedEndTzo}));return{defs:n,instances:i}}function Jee(t,e){return yD(t,r=>r.sourceId!==e)}function BLe(t,e){return{defs:t.defs,instances:Ol(t.instances,r=>!e[r.instanceId])}}function jLe(t){let{defs:e,instances:r}=t,n={},i={};for(let a in e){let o=e[a],{publicId:s}=o;s&&(n[s]=a)}for(let a in r){let o=r[a],s=e[o.defId],{publicId:l}=s;l&&(i[l]=a)}return{defIdMap:n,instanceIdMap:i}}function VLe(t,e,r){(t[e]||(t[e]=[])).push(r)}function WLe(t,e,r){r?t[e]&&(t[e]=t[e].filter(n=>n!==r)):delete t[e]}function zT(t,e){return yT(YLe(t),null,e)}function YLe(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(r=>r.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(r=>Object.assign(Object.assign({},GLe),r)),e}function bD(t,e,r){r.emitter.trigger("select",Object.assign(Object.assign({},ez(t,r)),{jsEvent:e?e.origEvent:null,view:r.viewApi||r.calendarApi.view}))}function ZLe(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function ez(t,e){let r={};for(let n of e.pluginHooks.dateSpanTransforms)Object.assign(r,n(t,e));return Object.assign(r,oOe(t,e.dateEnv)),r}function wT(t,e,r){let{dateEnv:n,options:i}=r,a=e;return t?(a=cn(a),a=n.add(a,i.defaultAllDayEventDuration)):a=n.add(a,i.defaultTimedEventDuration),a}function FT(t,e,r,n){let i=oD(t.defs,e),a=ga();for(let o in t.defs){let s=t.defs[o];a.defs[o]=$Le(s,i[o],r,n)}for(let o in t.instances){let s=t.instances[o],l=a.defs[s.defId];a.instances[o]=XLe(s,l,i[s.defId],r,n)}return a}function $Le(t,e,r,n){let i=r.standardProps||{};i.hasEnd==null&&e.durationEditable&&(r.startDelta||r.endDelta)&&(i.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});r.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),r.extendedProps));for(let o of n.pluginHooks.eventDefMutationAppliers)o(a,r,n);return!a.hasEnd&&n.options.forceEventDuration&&(a.hasEnd=!0),a}function XLe(t,e,r,n,i){let{dateEnv:a}=i,o=n.standardProps&&n.standardProps.allDay===!0,s=n.standardProps&&n.standardProps.hasEnd===!1,l=Object.assign({},t);return o&&(l.range=Zee(l.range)),n.datesDelta&&r.startEditable&&(l.range={start:a.add(l.range.start,n.datesDelta),end:a.add(l.range.end,n.datesDelta)}),n.startDelta&&r.durationEditable&&(l.range={start:a.add(l.range.start,n.startDelta),end:l.range.end}),n.endDelta&&r.durationEditable&&(l.range={start:l.range.start,end:a.add(l.range.end,n.endDelta)}),s&&(l.range={start:l.range.start,end:wT(e.allDay,l.range.start,i)}),e.allDay&&(l.range={start:cn(l.range.start),end:cn(l.range.end)}),l.range.end<l.range.start&&(l.range.end=wT(e.allDay,l.range.start,i)),l}function ete(t){let e=t._def,r=t._instance;return{defs:{[e.defId]:e},instances:r?{[r.instanceId]:r}:{}}}function Nu(t,e,r){let{defs:n,instances:i}=t,a=[],o=r?r.instanceId:"";for(let s in i){let l=i[s],c=n[l.defId];l.instanceId!==o&&a.push(new yn(e,c,l))}return a}function Zm(t,e,r,n){let i={},a={},o={},s=[],l=[],c=oD(t.defs,e);for(let u in t.defs){let d=t.defs[u];c[d.defId].display==="inverse-background"&&(d.groupId?(i[d.groupId]=[],o[d.groupId]||(o[d.groupId]=d)):a[u]=[])}for(let u in t.instances){let d=t.instances[u],f=t.defs[d.defId],h=c[f.defId],p=d.range,m=!f.allDay&&n?k0(p,n):p,v=jo(m,r);v&&(h.display==="inverse-background"?f.groupId?i[f.groupId].push(v):a[d.defId].push(v):h.display!=="none"&&(h.display==="background"?s:l).push({def:f,ui:h,instance:d,range:v,isStart:m.start&&m.start.valueOf()===v.start.valueOf(),isEnd:m.end&&m.end.valueOf()===v.end.valueOf()}))}for(let u in i){let d=i[u],f=Aee(d,r);for(let h of f){let p=o[u],m=c[p.defId];s.push({def:p,ui:m,instance:null,range:h,isStart:!1,isEnd:!1})}}for(let u in a){let d=a[u],f=Aee(d,r);for(let h of f)s.push({def:t.defs[u],ui:c[u],instance:null,range:h,isStart:!1,isEnd:!1})}return{bg:s,fg:l}}function tz(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function Ree(t,e){t.fcSeg=e}function nf(t){return t.fcSeg||t.parentNode.fcSeg||null}function oD(t,e){return Ri(t,r=>tte(r,e))}function tte(t,e){let r=[];return e[""]&&r.push(e[""]),e[t.defId]&&r.push(e[t.defId]),r.push(t.ui),PT(r)}function af(t,e){let r=t.map(KLe);return r.sort((n,i)=>lD(n,i,e)),r.map(n=>n._seg)}function KLe(t){let{eventRange:e}=t,r=e.def,n=e.instance?e.instance.range:e.range,i=n.start?n.start.valueOf():0,a=n.end?n.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},r.extendedProps),r),{id:r.publicId,start:i,end:a,duration:a-i,allDay:Number(r.allDay),_seg:t})}function QLe(t,e){let{pluginHooks:r}=e,n=r.isDraggableTransformers,{def:i,ui:a}=t.eventRange,o=a.startEditable;for(let s of n)o=s(o,i,a,e);return o}function JLe(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function eOe(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function Gh(t,e,r,n,i,a,o){let{dateEnv:s,options:l}=r,{displayEventTime:c,displayEventEnd:u}=l,d=t.eventRange.def,f=t.eventRange.instance;c==null&&(c=n!==!1),u==null&&(u=i!==!1);let h=f.range.start,p=f.range.end,m=a||t.start||t.eventRange.range.start,v=o||t.end||t.eventRange.range.end,y=cn(h).valueOf()===cn(m).valueOf(),b=cn(Ll(p,-1)).valueOf()===cn(Ll(v,-1)).valueOf();return c&&!d.allDay&&(y||b)?(m=y?h:m,v=b?p:v,u&&d.hasEnd?s.formatRange(m,v,e,{forcedStartTzo:a?null:f.forcedStartTzo,forcedEndTzo:o?null:f.forcedEndTzo}):s.format(m,e,{forcedTzo:a?null:f.forcedStartTzo})):""}function no(t,e,r){let n=t.eventRange.range;return{isPast:n.end<=(r||e.start),isFuture:n.start>=(r||e.end),isToday:e&&os(e,n.start)}}function tOe(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function rv(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function A0(t,e){let{def:r,instance:n}=t.eventRange,{url:i}=r;if(i)return{href:i};let{emitter:a,options:o}=e,{eventInteractive:s}=o;return s==null&&(s=r.interactive,s==null&&(s=!!a.hasHandlers("eventClick"))),s?Hee(l=>{a.trigger("eventClick",{el:l.target,event:new yn(e,r,n),jsEvent:l,view:e.viewApi})}):{}}function nOe(t,e,r){let n=iOe(t,e),{range:i}=n;if(!i.start)return null;if(!i.end){if(r==null)return null;i.end=e.add(i.start,r)}return n}function iOe(t,e){let{refined:r,extra:n}=rf(t,rOe),i=r.start?e.createMarkerMeta(r.start):null,a=r.end?e.createMarkerMeta(r.end):null,{allDay:o}=r;return o==null&&(o=i&&i.isTimeUnspecified&&(!a||a.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:a?a.marker:null},allDay:o},n)}function rz(t,e){return gD(t.range,e.range)&&t.allDay===e.allDay&&aOe(t,e)}function aOe(t,e){for(let r in e)if(r!=="range"&&r!=="allDay"&&t[r]!==e[r])return!1;for(let r in t)if(!(r in e))return!1;return!0}function oOe(t,e){return Object.assign(Object.assign({},rte(t.range,e,t.allDay)),{allDay:t.allDay})}function nz(t,e,r){return Object.assign(Object.assign({},rte(t,e,r)),{timeZone:e.timeZone})}function rte(t,e,r){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:r}),endStr:e.formatIso(t.end,{omitTime:r})}}function sOe(t,e,r){let n=LT({editable:!1},r),i=v0(n.refined,n.extra,"",t.allDay,!0,r);return{def:i,ui:tte(i,e),instance:E0(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function HT(t,e,r){let n=!1,i=function(s){n||(n=!0,e(s))},a=function(s){n||(n=!0,r(s))},o=t(i,a);o&&typeof o.then=="function"&&o.then(i,a)}function qT(t,e,r){t=t.toUpperCase();let n={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(r):(n.body=new URLSearchParams(r),n.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,n).then(i=>{if(i.ok)return i.json().then(a=>[a,i],()=>{throw new g0("Failure parsing JSON",i)});throw new g0("Request failed",i)})}function UT(){return dP==null&&(dP=lOe()),dP}function lOe(){if(typeof document=="undefined")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let r=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),r}function nte(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function BT(t){return{[t.component.uid]:t}}function cOe(t){let e=cn(t),r=Ln(e,1);return{start:e,end:r}}function iz(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function wD(t,e){let r={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return r.left<r.right&&r.top<r.bottom?r:!1}function xD(t,e,r){return{left:t.left+e,right:t.right+e,top:t.top+r,bottom:t.bottom+r}}function az(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function oz(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function sz(t,e){return{left:t.left-e.left,top:t.top-e.top}}function uOe(t,e,r){let n=[];t&&n.push(t),e&&n.push(e);let i={"":PT(n)};return r&&Object.assign(i,r),i}function Yh(t,e,r,n){return{dow:t.getUTCDay(),isDisabled:!!(n&&(!n.activeRange||!os(n.activeRange,t))),isOther:!!(n&&!os(n.currentRange,t)),isToday:!!(e&&os(e,t)),isPast:!!(r?t<r:e&&t<e.start),isFuture:!!(r?t>r:e&&t>=e.end)}}function of(t,e){let r=["fc-day",`fc-day-${Uee[t.dow]}`];return t.isDisabled?r.push("fc-day-disabled"):(t.isToday&&(r.push("fc-day-today"),r.push(e.getClass("today"))),t.isPast&&r.push("fc-day-past"),t.isFuture&&r.push("fc-day-future"),t.isOther&&r.push("fc-day-other")),r}function TD(t,e){let r=["fc-slot",`fc-slot-${Uee[t.dow]}`];return t.isDisabled?r.push("fc-slot-disabled"):(t.isToday&&(r.push("fc-slot-today"),r.push(e.getClass("today"))),t.isPast&&r.push("fc-slot-past"),t.isFuture&&r.push("fc-slot-future")),r}function ql(t,e,r="day",n=!0){let{dateEnv:i,options:a,calendarApi:o}=t,s=i.format(e,r==="week"?fOe:dOe);if(a.navLinks){let l=i.toDate(e),c=u=>{let d=r==="day"?a.navLinkDayClick:r==="week"?a.navLinkWeekClick:null;typeof d=="function"?d.call(o,i.toDate(e),u):(typeof d=="string"&&(r=d),o.zoomTo(e,r))};return Object.assign({title:T0(a.navLinkHint,[s,l],s),"data-navlink":""},n?Fee(c):{onClick:c})}return{"aria-label":s}}function M0(){return hP===null&&(hP=hOe()),hP}function hOe(){let t=document.createElement("div");ef(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let r=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return ev(t),r}function SD(){return pP||(pP=pOe()),pP}function pOe(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=ite(t);return document.body.removeChild(t),e}function ite(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function _D(t,e=!1){let r=window.getComputedStyle(t),n=parseInt(r.borderLeftWidth,10)||0,i=parseInt(r.borderRightWidth,10)||0,a=parseInt(r.borderTopWidth,10)||0,o=parseInt(r.borderBottomWidth,10)||0,s=ite(t),l=s.y-n-i,c=s.x-a-o,u={borderLeft:n,borderRight:i,borderTop:a,borderBottom:o,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return M0()&&r.direction==="rtl"?u.scrollbarLeft=l:u.scrollbarRight=l,e&&(u.paddingLeft=parseInt(r.paddingLeft,10)||0,u.paddingRight=parseInt(r.paddingRight,10)||0,u.paddingTop=parseInt(r.paddingTop,10)||0,u.paddingBottom=parseInt(r.paddingBottom,10)||0),u}function jT(t,e=!1,r){let n=r?t.getBoundingClientRect():VT(t),i=_D(t,e),a={left:n.left+i.borderLeft+i.scrollbarLeft,right:n.right-i.borderRight-i.scrollbarRight,top:n.top+i.borderTop,bottom:n.bottom-i.borderBottom-i.scrollbarBottom};return e&&(a.left+=i.paddingLeft,a.right-=i.paddingRight,a.top+=i.paddingTop,a.bottom-=i.paddingBottom),a}function VT(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function mOe(t){let e=CD(t),r=t.getBoundingClientRect();for(let n of e){let i=wD(r,n.getBoundingClientRect());if(i)r=i;else return null}return r}function CD(t){let e=[];for(;t instanceof HTMLElement;){let r=window.getComputedStyle(t);if(r.position==="fixed")break;/(auto|scroll)/.test(r.overflow+r.overflowY+r.overflowX)&&e.push(t),t=t.parentNode}return e}function KE(t,e){let r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(Math.round(t[n])!==Math.round(e[n]))return!1;return!0}function _T(t){return t.span.end}function Au(t){return t.index+":"+t.span.start}function WT(t){let e=[];for(let r of t){let n=[],i={span:r.span,entries:[r]};for(let a of e)GT(a.span,i.span)?i={entries:a.entries.concat(i.entries),span:vOe(a.span,i.span)}:n.push(a);n.push(i),e=n}return e}function vOe(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function GT(t,e){let r=Math.max(t.start,e.start),n=Math.min(t.end,e.end);return r<n?{start:r,end:n}:null}function mP(t,e,r){t.splice(e,0,r)}function CT(t,e,r){let n=0,i=t.length;if(!i||e<r(t[n]))return[0,0];if(e>r(t[i-1]))return[i,0];for(;n<i;){let a=Math.floor(n+(i-n)/2),o=r(t[a]);if(e<o)i=a;else if(e>o)n=a+1;else return[a,1]}return[n,0]}function YT(t){let{refined:e,extra:r}=rf(t,gOe);return{startTime:e.startTime||null,duration:e.duration||null,create:e.create!=null?e.create:!0,sourceId:e.sourceId,leftoverProps:r}}function lz(t,e){return!t||e>10?ln({weekday:"short"}):e>1?ln({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):ln({weekday:"long"})}function ote(t){return t.text}function bOe(t,e,r){return t||lz(e,r)}function QE(t,e){let r=t.activeRange;return e?r:{start:Ll(r.start,t.slotMinTime.milliseconds),end:Ll(r.end,t.slotMaxTime.milliseconds-864e5)}}function ZT(t,e,r){let{instances:n}=t.mutatedEvents;for(let i in n)if(!C0(e.validRange,n[i].range))return!1;return ste({eventDrag:t},r)}function cz(t,e,r){return C0(e.validRange,t.range)?ste({dateSelection:t},r):!1}function ste(t,e){let r=e.getCurrentData(),n=Object.assign({businessHours:r.businessHours,dateSelection:"",eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||kD)(n,e)}function kD(t,e,r={},n){return!(t.eventDrag&&!wOe(t,e,r,n)||t.dateSelection&&!xOe(t,e,r,n))}function wOe(t,e,r,n){let i=e.getCurrentData(),a=t.eventDrag,o=a.mutatedEvents,s=o.defs,l=o.instances,c=oD(s,a.isEvent?t.eventUiBases:{"":i.selectionConfig});n&&(c=Ri(c,n));let u=BLe(t.eventStore,a.affectedEvents.instances),d=u.defs,f=u.instances,h=oD(d,t.eventUiBases);for(let p in l){let m=l[p],v=m.range,y=c[m.defId],b=s[m.defId];if(!lte(y.constraints,v,u,t.businessHours,e))return!1;let{eventOverlap:x}=e.options,w=typeof x=="function"?x:null;for(let _ in f){let C=f[_];if(_0(v,C.range)&&(h[C.defId].overlap===!1&&a.isEvent||y.overlap===!1||w&&!w(new yn(e,d[C.defId],C),new yn(e,b,m))))return!1}let S=i.eventStore;for(let _ of y.allows){let C=Object.assign(Object.assign({},r),{range:m.range,allDay:b.allDay}),E=S.defs[b.defId],M=S.instances[p],I;if(E?I=new yn(e,E,M):I=new yn(e,b),!_(ez(C,e),I))return!1}}return!0}function xOe(t,e,r,n){let i=t.eventStore,a=i.defs,o=i.instances,s=t.dateSelection,l=s.range,{selectionConfig:c}=e.getCurrentData();if(n&&(c=n(c)),!lte(c.constraints,l,i,t.businessHours,e))return!1;let{selectOverlap:u}=e.options,d=typeof u=="function"?u:null;for(let f in o){let h=o[f];if(_0(l,h.range)&&(c.overlap===!1||d&&!d(new yn(e,a[h.defId],h),null)))return!1}for(let f of c.allows){let h=Object.assign(Object.assign({},r),s);if(!f(ez(h,e),null))return!1}return!0}function lte(t,e,r,n,i){for(let a of t)if(!SOe(TOe(a,e,r,n,i),e))return!1;return!0}function TOe(t,e,r,n,i){return t==="businessHours"?vP(Gm(n,e,i)):typeof t=="string"?vP(yD(r,a=>a.groupId===t)):typeof t=="object"&&t?vP(Gm(t,e,i)):[]}function vP(t){let{instances:e}=t,r=[];for(let n in e)r.push(e[n].range);return r}function SOe(t,e){for(let r of t)if(C0(r,e))return!0;return!1}function ED(t){let e=Ru(t,".fc-scrollgrid-shrink"),r=0;for(let n of e)r=Math.max(r,qNe(n));return Math.ceil(r)}function $T(t,e){return t.liquid&&e.liquid}function DD(t,e){return e.maxHeight!=null||$T(t,e)}function AD(t,e,r,n){let{expandRows:i}=r;return typeof e.content=="function"?e.content(r):se("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:r.tableMinWidth,width:r.clientWidth,height:i?r.clientHeight:""}},r.tableColGroupNode,se(n?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(r):e.rowContent))}function MD(t,e){return to(t,e,xi)}function RD(t,e){let r=[];for(let n of t){let i=n.span||1;for(let a=0;a<i;a+=1)r.push(se("col",{style:{width:n.width==="shrink"?ID(e):n.width||"",minWidth:n.minWidth||""}}))}return se("colgroup",{},...r)}function ID(t){return t==null?4:t}function ND(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function LD(t,e){let r=["fc-scrollgrid",e.theme.getClass("table")];return t&&r.push("fc-scrollgrid-liquid"),r}function OD(t,e){let r=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&r.push("fc-scrollgrid-section-liquid"),t.isSticky&&r.push("fc-scrollgrid-section-sticky"),r}function Mc(t){return se("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function Rc(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function sf(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function _Oe(t,e){for(let r of t)if(r.key===e)return r;return null}function COe(t){return se("div",{className:"fc-event-main-frame"},t.timeText&&se("div",{className:"fc-event-time"},t.timeText),se("div",{className:"fc-event-title-container"},se("div",{className:"fc-event-title fc-sticky"},t.event.title||se(sr,null,"\xA0"))))}function R0(t){return!!(t.dayCellContent||_P("dayCellContent",t))}function EOe(t){let{date:e,dateEnv:r,dateProfile:n,isMonthStart:i}=t,a=Yh(e,t.todayRange,null,n),o=t.showDayNumber?r.format(e,i?t.monthStartFormat:kOe):"";return Object.assign(Object.assign(Object.assign({date:r.toDate(e),view:t.viewApi},a),{isMonthStart:i,dayNumberText:o}),t.extraRenderProps)}function DOe(t){let{title:e}=t.event;return e&&se("div",{className:"fc-event-title"},t.event.title)}function iv(t){return se("div",{className:`fc-${t}`})}function AOe(t){return t.text}function MOe(t){return t.text}function Iee(t){if(t.allDayDate)return{start:t.allDayDate,end:Ln(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:av(e),end:IOe(e)}}function av(t){return t.reduce(ROe).eventRange.range.start}function ROe(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function IOe(t){return t.reduce(NOe).eventRange.range.end}function NOe(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}var Nee,yP,lP,PNe,Eu,zNe,wee,xee,Tee,See,UNe,Uee,uP,tD,$E,eLe,tLe,rLe,nLe,bP,wP,xP,BP,Hl,jP,VP,Vh,Vee,nD,fLe,Wee,TP,yLe,m0,Zd,SP,iD,Us,Du,Kt,gT,YP,vn,Bo,Wm,eD,$ee,ALe,aD,OLe,zLe,kc,GLe,Ph,yn,rOe,g0,dP,xT,Ec,nv,ta,Dc,fP,$m,dOe,fOe,hP,pP,So,Xm,TT,ST,Ii,$d,y0,io,gOe,ate,kT,yOe,ET,Km,Qm,Jm,Xd,JE,Uh,Qn,Bh,Kd,Mu,Lu,kOe,jh,Qd,XT,gP,CP,kP,Jd,PD=Re(()=>{Gd();Gd();mT();Nee=[],yP=new Map;typeof document!="undefined"&&Oee(document);PNe=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';Pl(PNe);Eu=class{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:r}=this;r[e]=(r[e]||0)+1,this.clearTimeout()}resume(e="",r){let{pauseDepths:n}=this;e in n&&(r?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}};zNe=/(top|left|right|bottom|width|height)$/i;wee=0;xee=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];Tee=0;See=["years","months","days","milliseconds"],UNe=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;Uee=["sun","mon","tue","wed","thu","fri","sat"];uP={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},tD={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},$E=/\s*([ap])\.?m\.?/i,eLe=/,/g,tLe=/\s+/g,rLe=/\u200e/g,nLe=/UTC|GMT/,bP=class{constructor(e){let r={},n={},i=9;for(let a in e)a in uP?(n[a]=e[a],uP[a]<9&&(i=Math.min(uP[a],i))):(r[a]=e[a],a in tD&&(i=Math.min(tD[a],i)));this.standardDateProps=r,this.extendedSettings=n,this.smallestUnitNum=i,this.buildFormattingFunc=jt(Eee)}format(e,r){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,r)(e)}formatRange(e,r,n,i){let{standardDateProps:a,extendedSettings:o}=this,s=cLe(e.marker,r.marker,n.calendarSystem);if(!s)return this.format(e,n);let l=s;l>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(l=1);let c=this.format(e,n),u=this.format(r,n);if(c===u)return c;let d=uLe(a,l),f=Eee(d,o,n),h=f(e),p=f(r),m=dLe(c,h,u,p),v=o.separator||i||n.defaultSeparator||"";return m?m.before+h+v+p+m.after:c+v+u}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}};wP=class{constructor(e){this.cmdStr=e}format(e,r,n){return r.cmdFormatter(this.cmdStr,rD(e,null,r,n))}formatRange(e,r,n,i){return n.cmdFormatter(this.cmdStr,rD(e,r,n,i))}},xP=class{constructor(e){this.func=e}format(e,r,n){return this.func(rD(e,null,r,n))}formatRange(e,r,n,i){return this.func(rD(e,r,n,i))}};BP={navLinkDayClick:Be,navLinkWeekClick:Be,duration:Dr,bootstrapFontAwesome:Be,buttonIcons:Be,customButtons:Be,defaultAllDayEventDuration:Dr,defaultTimedEventDuration:Dr,nextDayThreshold:Dr,scrollTime:Dr,scrollTimeReset:Boolean,slotMinTime:Dr,slotMaxTime:Dr,dayPopoverFormat:ln,slotDuration:Dr,snapDuration:Dr,headerToolbar:Be,footerToolbar:Be,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:ln,dayHeaderClassNames:Be,dayHeaderContent:Be,dayHeaderDidMount:Be,dayHeaderWillUnmount:Be,dayCellClassNames:Be,dayCellContent:Be,dayCellDidMount:Be,dayCellWillUnmount:Be,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Be,weekNumbers:Boolean,weekNumberClassNames:Be,weekNumberContent:Be,weekNumberDidMount:Be,weekNumberWillUnmount:Be,editable:Boolean,viewClassNames:Be,viewDidMount:Be,viewWillUnmount:Be,nowIndicator:Boolean,nowIndicatorClassNames:Be,nowIndicatorContent:Be,nowIndicatorDidMount:Be,nowIndicatorWillUnmount:Be,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Be,locale:Be,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Be,eventOrder:x0,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Be,contentHeight:Be,direction:String,weekNumberFormat:ln,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Be,initialDate:Be,now:Be,eventDataTransform:Be,stickyHeaderDates:Be,stickyFooterScrollbar:Be,viewHeight:Be,defaultAllDay:Boolean,eventSourceFailure:Be,eventSourceSuccess:Be,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Be,eventConstraint:Be,eventAllow:Be,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Be,eventContent:Be,eventDidMount:Be,eventWillUnmount:Be,selectConstraint:Be,selectOverlap:Be,selectAllow:Be,droppable:Boolean,unselectCancel:String,slotLabelFormat:Be,slotLaneClassNames:Be,slotLaneContent:Be,slotLaneDidMount:Be,slotLaneWillUnmount:Be,slotLabelClassNames:Be,slotLabelContent:Be,slotLabelDidMount:Be,slotLabelWillUnmount:Be,dayMaxEvents:Be,dayMaxEventRows:Be,dayMinWidth:Number,slotLabelInterval:Dr,allDayText:String,allDayClassNames:Be,allDayContent:Be,allDayDidMount:Be,allDayWillUnmount:Be,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:ln,rerenderDelay:Number,moreLinkText:Be,moreLinkHint:Be,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Be,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Dr,hiddenDays:Be,fixedWeekCount:Boolean,validRange:Be,visibleRange:Be,titleFormat:Be,eventInteractive:Boolean,noEventsText:String,viewHint:Be,navLinkHint:Be,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Be,moreLinkClassNames:Be,moreLinkContent:Be,moreLinkDidMount:Be,moreLinkWillUnmount:Be,monthStartFormat:ln,handleCustomRendering:Be,customRenderingMetaMap:Be,customRenderingReplaces:Boolean},Hl={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},jP={datesSet:Be,eventsSet:Be,eventAdd:Be,eventChange:Be,eventRemove:Be,windowResize:Be,eventClick:Be,eventMouseEnter:Be,eventMouseLeave:Be,select:Be,unselect:Be,loading:Be,_unmount:Be,_beforeprint:Be,_afterprint:Be,_noEventDrop:Be,_noEventResize:Be,_resize:Be,_scrollRequest:Be},VP={buttonText:Be,buttonHints:Be,views:Be,plugins:Be,initialEvents:Be,events:Be,eventSources:Be},Vh={headerToolbar:Vm,footerToolbar:Vm,buttonText:Vm,buttonHints:Vm,buttonIcons:Vm,dateIncrement:Vm,plugins:XE,events:XE,eventSources:XE,resources:XE};Vee={type:String,component:Be,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Be,usesMinMaxTime:Boolean,classNames:Be,content:Be,didMount:Be,willUnmount:Be};({hasOwnProperty:nD}=Object.prototype);fLe=/^on[A-Z]/;Wee={};TP=class{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return as(e)}markerToArray(e){return zh(e)}};vLe("gregory",TP);yLe=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;m0=class{constructor(e){let r=this.timeZone=e.timeZone,n=r!=="local"&&r!=="UTC";e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(r)),this.canComputeOffset=!!(!n||this.namedTimeZoneImpl),this.calendarSystem=gLe(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let r=this.createMarkerMeta(e);return r===null?null:r.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):as(Cee(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let r=null;return typeof e=="number"?r=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(r=this.timestampToMarker(e))):Array.isArray(e)&&(r=as(e)),r===null||!IT(r)?null:{marker:r,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let r=S0(e);if(r===null)return null;let{marker:n}=r,i=null;return r.timeZoneOffset!==null&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-r.timeZoneOffset*60*1e3):i=r.timeZoneOffset),{marker:n,isTimeUnspecified:r.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]+=r.years,n[1]+=r.months,n[2]+=r.days,n[6]+=r.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]-=r.years,n[1]-=r.months,n[2]-=r.days,n[6]-=r.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]+=r,this.calendarSystem.arrayToMarker(n)}addMonths(e,r){let n=this.calendarSystem.markerToArray(e);return n[1]+=r,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,r){let{calendarSystem:n}=this;return Fh(e)===Fh(r)&&n.getMarkerDay(e)===n.getMarkerDay(r)&&n.getMarkerMonth(e)===n.getMarkerMonth(r)?n.getMarkerYear(r)-n.getMarkerYear(e):null}diffWholeMonths(e,r){let{calendarSystem:n}=this;return Fh(e)===Fh(r)&&n.getMarkerDay(e)===n.getMarkerDay(r)?n.getMarkerMonth(r)-n.getMarkerMonth(e)+(n.getMarkerYear(r)-n.getMarkerYear(e))*12:null}greatestWholeUnit(e,r){let n=this.diffWholeYears(e,r);return n!==null?{unit:"year",value:n}:(n=this.diffWholeMonths(e,r),n!==null?{unit:"month",value:n}:(n=jee(e,r),n!==null?{unit:"week",value:n}:(n=qh(e,r),n!==null?{unit:"day",value:n}:(n=GNe(e,r),Yd(n)?{unit:"hour",value:n}:(n=YNe(e,r),Yd(n)?{unit:"minute",value:n}:(n=ZNe(e,r),Yd(n)?{unit:"second",value:n}:{unit:"millisecond",value:r.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,r,n){let i;return n.years&&(i=this.diffWholeYears(e,r),i!==null)?i/VNe(n):n.months&&(i=this.diffWholeMonths(e,r),i!==null)?i/WNe(n):n.days&&(i=qh(e,r),i!==null)?i/h0(n):(r.valueOf()-e.valueOf())/va(n)}startOf(e,r){return r==="year"?this.startOfYear(e):r==="month"?this.startOfMonth(e):r==="week"?this.startOfWeek(e):r==="day"?cn(e):r==="hour"?$Ne(e):r==="minute"?XNe(e):r==="second"?KNe(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):QNe(e,this.weekDow,this.weekDoy)}format(e,r,n={}){return r.format({marker:e,timeZoneOffset:n.forcedTzo!=null?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,r,n,i={}){return i.isEndExclusive&&(r=Ll(r,-1)),n.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:r,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(r)},this,i.defaultSeparator)}formatIso(e,r={}){let n=null;return r.omitTimeZoneOffset||(r.forcedTzo!=null?n=r.forcedTzo:n=this.offsetForMarker(e)),tv(e,n,r.omitTime)}timestampToMarker(e){return this.timeZone==="local"?as(Cee(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):as(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-kee(zh(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(zh(e)):null}toDate(e,r){return this.timeZone==="local"?kee(zh(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(zh(e))*1e3*60):new Date(e.valueOf()-(r||0))}},Zd=class{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let r,n;if(typeof e=="object"&&e){r=Object.assign({},this.iconClasses);for(n in e)r[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=r}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let r=this.iconOverridePrefix;return r&&e.indexOf(r)!==0&&(e=r+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,r){let n;return r&&this.rtlIconClasses?n=this.rtlIconClasses[e]||this.iconClasses[e]:n=this.iconClasses[e],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let r;return this.iconOverrideCustomButtonOption&&(r=e[this.iconOverrideCustomButtonOption],r)?`${this.baseIconClass} ${this.applyIconOverridePrefix(r)}`:""}};Zd.prototype.classes={};Zd.prototype.iconClasses={};Zd.prototype.baseIconClass="";Zd.prototype.iconOverridePrefix="";SP=class extends eo{render(){return se("div",{})}componentDidMount(){this.setState({})}};iD=class{constructor(e,r,n,i){this.execFunc=e,this.emitter=r,this.scrollTime=n,this.scrollTimeReset=i,this.handleScrollRequest=a=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},a),this.drain()},r.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}},Us=Gee({});Du=class extends eo{shouldComponentUpdate(e,r){return!p0(this.props,e,this.propEquality)||!p0(this.state,r,this.stateEquality)}safeSetState(e){p0(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}};Du.addPropsEquality=bLe;Du.addStateEquality=wLe;Du.contextType=Us;Du.prototype.propEquality={};Du.prototype.stateEquality={};Kt=class extends Du{};Kt.contextType=Us;gT=class extends Kt{constructor(){super(...arguments),this.id=ss(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{let{options:r}=this.context,{generatorName:n}=this.props;(!r.customRenderingReplaces||!_P(n,r))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&ro(this.props.elRef,e)}}render(){let{props:e,context:r}=this,{options:n}=r,{customGenerator:i,defaultGenerator:a,renderProps:o}=e,s=GP(e,[],this.handleEl),l=!1,c,u=[],d;if(i!=null){let f=typeof i=="function"?i(o,se):i;if(f===!0)l=!0;else{let h=f&&typeof f=="object";h&&"html"in f?s.dangerouslySetInnerHTML={__html:f.html}:h&&"domNodes"in f?u=Array.prototype.slice.call(f.domNodes):(h?eP(f):typeof f!="function")?c=f:d=f}}else l=!_P(e.generatorName,n);return l&&a&&(c=a(o)),this.queuedDomNodes=u,this.currentGeneratorMeta=d,se(e.elTag,s,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var r;let{props:n,context:i}=this,{handleCustomRendering:a,customRenderingMetaMap:o}=i.options;if(a){let s=(r=this.currentGeneratorMeta)!==null&&r!==void 0?r:o==null?void 0:o[n.generatorName];s&&a(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:s},n),{elClasses:(n.elClasses||[]).filter(xLe)}))}}applyQueueudDomNodes(){let{queuedDomNodes:e,currentDomNodes:r}=this,n=this.base;if(!to(e,r)){r.forEach(ev);for(let i of e)n.appendChild(i);this.currentDomNodes=e}}};gT.addPropsEquality({elClasses:to,elStyle:xi,elAttrs:hLe,renderProps:xi});YP=Gee(0),vn=class extends eo{constructor(){super(...arguments),this.InnerContent=TLe.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(ro(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){let{props:e}=this,r=SLe(e.classNameGenerator,e.renderProps);if(e.children){let n=GP(e,r,this.handleEl),i=e.children(this.InnerContent,e.renderProps,n);return e.elTag?se(e.elTag,n,i):i}else return se(gT,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(r),renderId:this.context}))}componentDidMount(){var e,r;this.el?(r=(e=this.props).didMount)===null||r===void 0||r.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,r;(r=(e=this.props).willUnmount)===null||r===void 0||r.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}};vn.contextType=YP;Bo=class extends Kt{render(){let{props:e,context:r}=this,{options:n}=r,i={view:r.viewApi};return se(vn,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...ZP(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount},()=>e.children)}};Wm=class{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,r,n){let{dateEnv:i}=this.props,a=i.subtract(i.startOf(r,e.currentRangeUnit),e.dateIncrement);return this.build(a,-1,n)}buildNext(e,r,n){let{dateEnv:i}=this.props,a=i.add(i.startOf(r,e.currentRangeUnit),e.dateIncrement);return this.build(a,1,n)}build(e,r,n=!0){let{props:i}=this,a,o,s,l,c,u;return a=this.buildValidRange(),a=this.trimHiddenDays(a),n&&(e=kLe(e,a)),o=this.buildCurrentRangeInfo(e,r),s=/^(year|month|week|day)$/.test(o.unit),l=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,s),l=this.trimHiddenDays(l),c=l,i.showNonCurrentDates||(c=jo(c,o.range)),c=this.adjustActiveRange(c),c=jo(c,a),u=_0(o.range,a),os(l,e)||(e=l.start),{currentDate:e,validRange:a,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:s,activeRange:c,renderRange:l,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:u,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,r=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(r)||{start:null,end:null}}buildCurrentRangeInfo(e,r){let{props:n}=this,i=null,a=null,o=null,s;return n.duration?(i=n.duration,a=n.durationUnit,o=this.buildRangeFromDuration(e,r,i,a)):(s=this.props.dayCount)?(a="day",o=this.buildRangeFromDayCount(e,r,s)):(o=this.buildCustomVisibleRange(e))?a=n.dateEnv.greatestWholeUnit(o.start,o.end).unit:(i=this.getFallbackDuration(),a=Nl(i).unit,o=this.buildRangeFromDuration(e,r,i,a)),{duration:i,unit:a,range:o}}getFallbackDuration(){return Dr({day:1})}adjustActiveRange(e){let{dateEnv:r,usesMinMaxTime:n,slotMinTime:i,slotMaxTime:a}=this.props,{start:o,end:s}=e;return n&&(h0(i)<0&&(o=cn(o),o=r.add(o,i)),h0(a)>1&&(s=cn(s),s=Ln(s,-1),s=r.add(s,a))),{start:o,end:s}}buildRangeFromDuration(e,r,n,i){let{dateEnv:a,dateAlignment:o}=this.props,s,l,c;if(!o){let{dateIncrement:d}=this.props;d&&va(d)<va(n)?o=Nl(d).unit:o=i}h0(n)<=1&&this.isHiddenDay(s)&&(s=this.skipHiddenDays(s,r),s=cn(s));function u(){s=a.startOf(e,o),l=a.add(s,n),c={start:s,end:l}}return u(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,r),u()),c}buildRangeFromDayCount(e,r,n){let{dateEnv:i,dateAlignment:a}=this.props,o=0,s=e,l;a&&(s=i.startOf(s,a)),s=cn(s),s=this.skipHiddenDays(s,r),l=s;do l=Ln(l,1),this.isHiddenDay(l)||(o+=1);while(o<n);return{start:s,end:l}}buildCustomVisibleRange(e){let{props:r}=this,n=r.visibleRangeInput,i=typeof n=="function"?n.call(r.calendarApi,r.dateEnv.toDate(e)):n,a=this.refineRange(i);return a&&(a.start==null||a.end==null)?null:a}buildRenderRange(e,r,n){return e}buildDateIncrement(e){let{dateIncrement:r}=this.props,n;return r||((n=this.props.dateAlignment)?Dr(1,n):e||Dr({days:1}))}refineRange(e){if(e){let r=_Le(e,this.props.dateEnv);return r&&(r=k0(r)),r}return null}initHiddenDays(){let e=this.props.hiddenDays||[],r=[],n=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(r[i]=e.indexOf(i)!==-1)||(n+=1);if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=r}trimHiddenDays(e){let{start:r,end:n}=e;return r&&(r=this.skipHiddenDays(r)),n&&(n=this.skipHiddenDays(n,-1,!0)),r==null||n==null||r<n?{start:r,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,r=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?r:0)+7)%7];)e=Ln(e,r);return e}};eD={id:String,groupId:String,title:String,url:String,interactive:Boolean},$ee={start:Be,end:Be,date:Be,allDay:Boolean},ALe=Object.assign(Object.assign(Object.assign({},eD),$ee),{extendedProps:Be});aD={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Be,overlap:Be,allow:Be,className:bT,classNames:bT,color:String,backgroundColor:String,borderColor:String,textColor:String},OLe={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};zLe={id:String,defaultAllDay:Boolean,url:String,format:String,events:Be,eventDataTransform:Be,success:Be,failure:Be};kc=class{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,r){VLe(this.handlers,e,r)}off(e,r){WLe(this.handlers,e,r)}trigger(e,...r){let n=this.handlers[e]||[],i=this.options&&this.options[e],a=[].concat(i||[],n);for(let o of a)o.apply(this.thisContext,r)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}};GLe={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};Ph=class{constructor(e,r){this.context=e,this.internalEventSource=r}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}},yn=class t{constructor(e,r,n){this._context=e,this._def=r,this._instance=n||null}setProp(e,r){if(e in $ee)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")r=eD[e](r),this.mutate({standardProps:{publicId:r}});else if(e in eD)r=eD[e](r),this.mutate({standardProps:{[e]:r}});else if(e in aD){let n=aD[e](r);e==="color"?n={backgroundColor:r,borderColor:r}:e==="editable"?n={startEditable:r,durationEditable:r}:n={[e]:r},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,r){this.mutate({extendedProps:{[e]:r}})}setStart(e,r={}){let{dateEnv:n}=this._context,i=n.createMarker(e);if(i&&this._instance){let a=this._instance.range,o=Hh(a.start,i,n,r.granularity);r.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,r={}){let{dateEnv:n}=this._context,i;if(!(e!=null&&(i=n.createMarker(e),!i))&&this._instance)if(i){let a=Hh(this._instance.range.end,i,n,r.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,r,n={}){let{dateEnv:i}=this._context,a={allDay:n.allDay},o=i.createMarker(e),s;if(o&&!(r!=null&&(s=i.createMarker(r),!s))&&this._instance){let l=this._instance.range;n.allDay===!0&&(l=Zee(l));let c=Hh(l.start,o,i,n.granularity);if(s){let u=Hh(l.end,s,i,n.granularity);jNe(c,u)?this.mutate({datesDelta:c,standardProps:a}):this.mutate({startDelta:c,endDelta:u,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:c,standardProps:a})}}moveStart(e){let r=Dr(e);r&&this.mutate({startDelta:r})}moveEnd(e){let r=Dr(e);r&&this.mutate({endDelta:r})}moveDates(e){let r=Dr(e);r&&this.mutate({datesDelta:r})}setAllDay(e,r={}){let n={allDay:e},{maintainDuration:i}=r;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=i),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:r}=this._context,n=this._instance,i=ln(e);return this._def.hasEnd?r.formatRange(n.range.start,n.range.end,i,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):r.format(n.range.start,i,{forcedTzo:n.forcedStartTzo})}mutate(e){let r=this._instance;if(r){let n=this._def,i=this._context,{eventStore:a}=i.getCurrentData(),o=OT(a,r.instanceId);o=FT(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let l=new t(i,n,r);this._def=o.defs[n.defId],this._instance=o.instances[r.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:o}),i.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:Nu(o,i,r),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:a})}})}}remove(){let e=this._context,r=ete(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:r}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:r})}})}get source(){let{sourceId:e}=this._def;return e?new Ph(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let r=this._def,{ui:n}=r,{startStr:i,endStr:a}=this,o={allDay:r.allDay};return r.title&&(o.title=r.title),i&&(o.start=i),a&&(o.end=a),r.publicId&&(o.id=r.publicId),r.groupId&&(o.groupId=r.groupId),r.url&&(o.url=r.url),n.display&&n.display!=="auto"&&(o.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?o.color=n.backgroundColor:(n.backgroundColor&&(o.backgroundColor=n.backgroundColor),n.borderColor&&(o.borderColor=n.borderColor)),n.textColor&&(o.textColor=n.textColor),n.classNames.length&&(o.classNames=n.classNames),Object.keys(r.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,r.extendedProps):o.extendedProps=r.extendedProps),o}toJSON(){return this.toPlainObject()}};rOe={start:Be,end:Be,allDay:Boolean};g0=class extends Error{constructor(e,r){super(e),this.response=r}};xT=class extends Kt{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{vT(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{vT(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:r}=e,{forPrint:n}=this.state,i=n||r.height==="auto"||r.contentHeight==="auto",a=!i&&r.height!=null?r.height:"",o=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${r.direction}`,e.theme.getClass("root")];return UT()||o.push("fc-liquid-hack"),e.children(o,a,i,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}},Ec=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};nv={},ta=class extends eo{constructor(e,r){super(e,r),this.handleRefresh=()=>{let n=this.computeTiming();n.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(n.state),this.clearTimeout(),this.setTimeout(n.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:r}=this;return e.children(r.nowDate,r.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:r}=this,n=r.nowManager.getDateMarker(),i=r.dateEnv.startOf(n,e.unit),o=r.dateEnv.add(i,Dr(1,e.unit)).valueOf()-n.valueOf();return o=Math.min(1e3*60*60*24,o),{state:{nowDate:i,todayRange:cOe(i)},waitMs:o}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{let r=this.computeTiming();this.setState(r.state,()=>{this.setTimeout(r.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}};ta.contextType=Us;Dc=class{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,r){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:r})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,r){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,r):console.warn(`Unknown listener name '${e}'`)}off(e,r){this.currentDataManager.emitter.off(e,r)}trigger(e,...r){this.currentDataManager.emitter.trigger(e,...r)}changeView(e,r){this.batchRendering(()=>{if(this.unselect(),r)if(r.start&&r.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:r});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(r)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,r){let n=this.getCurrentData(),i;r=r||"day",i=n.viewSpecs[r]||this.getUnitViewSpec(r),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:r,toolbarConfig:n}=this.getCurrentData(),i=[].concat(n.header?n.header.viewsWithButtons:[],n.footer?n.footer.viewsWithButtons:[]),a,o;for(let s in r)i.push(s);for(a=0;a<i.length;a+=1)if(o=r[i[a]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let r=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:r.dateEnv.createMarker(e)})}incrementDate(e){let r=this.getCurrentData(),n=Dr(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:r.dateEnv.add(r.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,r){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),ln(r))}formatRange(e,r,n){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(r),ln(n),n)}formatIso(e,r){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:r})}select(e,r){let n;r==null?e.start!=null?n=e:n={start:e,end:null}:n={start:e,end:r};let i=this.getCurrentData(),a=nOe(n,i.dateEnv,Dr({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),bD(a,null,i))}unselect(e){let r=this.getCurrentData();r.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),ZLe(e,r))}addEvent(e,r){if(e instanceof yn){let o=e._def,s=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Ym({def:o,instance:s})}),this.triggerEventAdd(e)),e}let n=this.getCurrentData(),i;if(r instanceof Ph)i=r.internalEventSource;else if(typeof r=="boolean")r&&([i]=mD(n.eventSources));else if(r!=null){let o=this.getEventSourceById(r);if(!o)return console.warn(`Could not find an event source with ID "${r}"`),null;i=o.internalEventSource}let a=Xee(e,i,n,!1);if(a){let o=new yn(n,a.def,a.def.recurringDef?null:a.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Ym(a)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:r}=this.getCurrentData();r.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:ete(e)})}})}getEventById(e){let r=this.getCurrentData(),{defs:n,instances:i}=r.eventStore;e=String(e);for(let a in n){let o=n[a];if(o.publicId===e){if(o.recurringDef)return new yn(r,o,null);for(let s in i){let l=i[s];if(l.defId===o.defId)return new yn(r,o,l)}}}return null}getEvents(){let e=this.getCurrentData();return Nu(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),r=e.eventSources,n=[];for(let i in r)n.push(new Ph(e,r[i]));return n}getEventSourceById(e){let r=this.getCurrentData(),n=r.eventSources;e=String(e);for(let i in n)if(n[i].publicId===e)return new Ph(r,n[i]);return null}addEventSource(e){let r=this.getCurrentData();if(e instanceof Ph)return r.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=KP(e,r);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new Ph(r,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let r=Dr(e);r&&this.trigger("_scrollRequest",{time:r})}};fP=ga(),$m=class{constructor(){this.getKeysForEventDefs=jt(this._getKeysForEventDefs),this.splitDateSelection=jt(this._splitDateSpan),this.splitEventStore=jt(this._splitEventStore),this.splitIndividualUi=jt(this._splitIndividualUi),this.splitEventDrag=jt(this._splitInteraction),this.splitEventResize=jt(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let r=this.getKeyInfo(e),n=this.getKeysForEventDefs(e.eventStore),i=this.splitDateSelection(e.dateSelection),a=this.splitIndividualUi(e.eventUiBases,n),o=this.splitEventStore(e.eventStore,n),s=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),c={};this.eventUiBuilders=Ri(r,(u,d)=>this.eventUiBuilders[d]||jt(uOe));for(let u in r){let d=r[u],f=o[u]||fP,h=this.eventUiBuilders[u];c[u]={businessHours:d.businessHours||e.businessHours,dateSelection:i[u]||null,eventStore:f,eventUiBases:h(e.eventUiBases[""],d.ui,a[u]),eventSelection:f.instances[e.eventSelection]?e.eventSelection:"",eventDrag:s[u]||null,eventResize:l[u]||null}}return c}_splitDateSpan(e){let r={};if(e){let n=this.getKeysForDateSpan(e);for(let i of n)r[i]=e}return r}_getKeysForEventDefs(e){return Ri(e.defs,r=>this.getKeysForEventDef(r))}_splitEventStore(e,r){let{defs:n,instances:i}=e,a={};for(let o in n)for(let s of r[o])a[s]||(a[s]=ga()),a[s].defs[o]=n[o];for(let o in i){let s=i[o];for(let l of r[s.defId])a[l]&&(a[l].instances[o]=s)}return a}_splitIndividualUi(e,r){let n={};for(let i in e)if(i)for(let a of r[i])n[a]||(n[a]={}),n[a][i]=e[i];return n}_splitInteraction(e){let r={};if(e){let n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),a=this._splitEventStore(e.mutatedEvents,i),o=s=>{r[s]||(r[s]={affectedEvents:n[s]||fP,mutatedEvents:a[s]||fP,isEvent:e.isEvent})};for(let s in n)o(s);for(let s in a)o(s)}return r}};dOe=ln({year:"numeric",month:"long",day:"numeric"}),fOe=ln({week:"long"});hP=null;So=class{constructor(e,r,n,i){this.els=r;let a=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(a.left),i&&this.buildElVerticals(a.top)}buildElHorizontals(e){let r=[],n=[];for(let i of this.els){let a=i.getBoundingClientRect();r.push(a.left-e),n.push(a.right-e)}this.lefts=r,this.rights=n}buildElVerticals(e){let r=[],n=[];for(let i of this.els){let a=i.getBoundingClientRect();r.push(a.top-e),n.push(a.bottom-e)}this.tops=r,this.bottoms=n}leftToIndex(e){let{lefts:r,rights:n}=this,i=r.length,a;for(a=0;a<i;a+=1)if(e>=r[a]&&e<n[a])return a}topToIndex(e){let{tops:r,bottoms:n}=this,i=r.length,a;for(a=0;a<i;a+=1)if(e>=r[a]&&e<n[a])return a}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return KE(this.tops||[],e.tops||[])&&KE(this.bottoms||[],e.bottoms||[])&&KE(this.lefts||[],e.lefts||[])&&KE(this.rights||[],e.rights||[])}};Xm=class{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}},TT=class extends Xm{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}},ST=class extends Xm{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}},Ii=class extends Kt{constructor(){super(...arguments),this.uid=ss()}prepareHits(){}queryHit(e,r,n,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!Mi(e,".fc-event-mirror")}isValidDateDownEl(e){return!Mi(e,".fc-event:not(.fc-bg-event)")&&!Mi(e,".fc-more-link")&&!Mi(e,"a[data-navlink]")&&!Mi(e,".fc-popover")}},$d=class{constructor(e=r=>r.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let r=[];for(let n of e)this.insertEntry(n,r);return r}insertEntry(e,r){let n=this.findInsertion(e);this.isInsertionValid(n,e)?this.insertEntryAt(e,n):this.handleInvalidInsertion(n,e,r)}isInsertionValid(e,r){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(r)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,r,n){if(this.allowReslicing&&e.touchingEntry){let i=Object.assign(Object.assign({},r),{span:GT(r.span,e.touchingEntry.span)});n.push(i),this.splitEntry(r,e.touchingEntry,n)}else n.push(r)}splitEntry(e,r,n){let i=e.span,a=r.span;i.start<a.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:a.start}},n),i.end>a.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.end,end:i.end}},n)}insertEntryAt(e,r){let{entriesByLevel:n,levelCoords:i}=this;r.lateral===-1?(mP(i,r.level,r.levelCoord),mP(n,r.level,[e])):mP(n[r.level],r.lateral,e),this.stackCnts[Au(e)]=r.stackCnt}findInsertion(e){let{levelCoords:r,entriesByLevel:n,strictOrder:i,stackCnts:a}=this,o=r.length,s=0,l=-1,c=-1,u=null,d=0;for(let p=0;p<o;p+=1){let m=r[p];if(!i&&m>=s+this.getEntryThickness(e))break;let v=n[p],y,b=CT(v,e.span.start,_T),x=b[0]+b[1];for(;(y=v[x])&&y.span.start<e.span.end;){let w=m+this.getEntryThickness(y);w>s&&(s=w,u=y,l=p,c=x),w===s&&(d=Math.max(d,a[Au(y)]+1)),x+=1}}let f=0;if(u)for(f=l+1;f<o&&r[f]<s;)f+=1;let h=-1;return f<o&&r[f]===s&&(h=CT(n[f],e.span.end,_T)[0]),{touchingLevel:l,touchingLateral:c,touchingEntry:u,stackCnt:d,levelCoord:s,level:f,lateral:h}}toRects(){let{entriesByLevel:e,levelCoords:r}=this,n=e.length,i=[];for(let a=0;a<n;a+=1){let o=e[a],s=r[a];for(let l of o)i.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:s}))}return i}};y0=class{constructor(e,r){this.emitter=new kc}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}},io={},gOe={startTime:Dr,duration:Dr,create:Boolean,sourceId:String};ate="fc-col-header-cell";kT=class extends Kt{render(){let{dateEnv:e,options:r,theme:n,viewApi:i}=this.context,{props:a}=this,{date:o,dateProfile:s}=a,l=Yh(o,a.todayRange,null,s),c=[ate].concat(of(l,n)),u=e.format(o,a.dayHeaderFormat),d=!l.isDisabled&&a.colCnt>1?ql(this.context,o):{},f=e.toDate(o);e.namedTimeZoneImpl&&(f=Ll(f,36e5));let h=Object.assign(Object.assign(Object.assign({date:f,view:i},a.extraRenderProps),{text:u}),l);return se(vn,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:a.colSpan,"data-date":l.isDisabled?void 0:tf(o)},a.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:ote,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},p=>se("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&se(p,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",a.isSticky&&"fc-sticky"]})))}},yOe=ln({weekday:"long"}),ET=class extends Kt{render(){let{props:e}=this,{dateEnv:r,theme:n,viewApi:i,options:a}=this.context,o=Ln(new Date(2592e5),e.dow),s={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=r.format(o,e.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:o},s),{view:i}),e.extraRenderProps),{text:l});return se(vn,{elTag:"th",elClasses:[ate,...of(s,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:ote,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},u=>se("div",{className:"fc-scrollgrid-sync-inner"},se(u,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":r.format(o,yOe)}})))}},Km=class extends Kt{constructor(){super(...arguments),this.createDayHeaderFormatter=jt(bOe)}render(){let{context:e}=this,{dates:r,dateProfile:n,datesRepDistinctDays:i,renderIntro:a}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,r.length);return se(ta,{unit:"day"},(s,l)=>se("tr",{role:"row"},a&&a("day"),r.map(c=>i?se(kT,{key:c.toISOString(),date:c,dateProfile:n,todayRange:l,colCnt:r.length,dayHeaderFormat:o}):se(ET,{key:c.getUTCDay(),dow:c.getUTCDay(),dayHeaderFormat:o}))))}};Qm=class{constructor(e,r){let n=e.start,{end:i}=e,a=[],o=[],s=-1;for(;n<i;)r.isHiddenDay(n)?a.push(s+.5):(s+=1,a.push(s),o.push(n)),n=Ln(n,1);this.dates=o,this.indices=a,this.cnt=o.length}sliceRange(e){let r=this.getDateDayIndex(e.start),n=this.getDateDayIndex(Ln(e.end,-1)),i=Math.max(0,r),a=Math.min(this.cnt-1,n);return i=Math.ceil(i),a=Math.floor(a),i<=a?{firstIndex:i,lastIndex:a,isStart:r===i,isEnd:n===a}:null}getDateDayIndex(e){let{indices:r}=this,n=Math.floor(Iu(this.dates[0],e));return n<0?r[0]-1:n>=r.length?r[r.length-1]+1:r[n]}},Jm=class{constructor(e,r){let{dates:n}=e,i,a,o;if(r){for(a=n[0].getUTCDay(),i=1;i<n.length&&n[i].getUTCDay()!==a;i+=1);o=Math.ceil(n.length/i)}else o=1,i=n.length;this.rowCnt=o,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let r=0;r<this.rowCnt;r+=1){let n=[];for(let i=0;i<this.colCnt;i+=1)n.push(this.buildCell(r,i));e.push(n)}return e}buildCell(e,r){let n=this.daySeries.dates[e*this.colCnt+r];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let r=0;r<this.colCnt;r+=1)e.push(this.cells[0][r].date);return e}sliceRange(e){let{colCnt:r}=this,n=this.daySeries.sliceRange(e),i=[];if(n){let{firstIndex:a,lastIndex:o}=n,s=a;for(;s<=o;){let l=Math.floor(s/r),c=Math.min((l+1)*r,o+1);i.push({row:l,firstCol:s%r,lastCol:(c-1)%r,isStart:n.isStart&&s===a,isEnd:n.isEnd&&c-1===o}),s=c}}return i}},Xd=class{constructor(){this.sliceBusinessHours=jt(this._sliceBusinessHours),this.sliceDateSelection=jt(this._sliceDateSpan),this.sliceEventStore=jt(this._sliceEventStore),this.sliceEventDrag=jt(this._sliceInteraction),this.sliceEventResize=jt(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,r,n,i,...a){let{eventUiBases:o}=e,s=this.sliceEventStore(e.eventStore,o,r,n,...a);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,r,n,o,i,...a),businessHourSegs:this.sliceBusinessHours(e.businessHours,r,n,i,...a),fgEventSegs:s.fg,bgEventSegs:s.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,r,n,...a),eventResize:this.sliceEventResize(e.eventResize,o,r,n,...a),eventSelection:e.eventSelection}}sliceNowDate(e,r,n,i,...a){return this._sliceDateSpan({range:{start:e,end:Ll(e,1)},allDay:!1},r,n,{},i,...a)}_sliceBusinessHours(e,r,n,i,...a){return e?this._sliceEventStore(Gm(e,QE(r,!!n),i),{},r,n,...a).bg:[]}_sliceEventStore(e,r,n,i,...a){if(e){let o=Zm(e,r,QE(n,!!i),i);return{bg:this.sliceEventRanges(o.bg,a),fg:this.sliceEventRanges(o.fg,a)}}return{bg:[],fg:[]}}_sliceInteraction(e,r,n,i,...a){if(!e)return null;let o=Zm(e.mutatedEvents,r,QE(n,!!i),i);return{segs:this.sliceEventRanges(o.fg,a),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,r,n,i,a,...o){if(!e)return[];let s=QE(r,!!n),l=jo(e.range,s);if(l){e=Object.assign(Object.assign({},e),{range:l});let c=sOe(e,i,a),u=this.sliceRange(e.range,...o);for(let d of u)d.eventRange=c;return u}return[]}sliceEventRanges(e,r){let n=[];for(let i of e)n.push(...this.sliceEventRange(i,r));return n}sliceEventRange(e,r){let n=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(n={start:n.start,end:Ln(n.start,1)});let i=this.sliceRange(n,...r);for(let a of i)a.eventRange=e,a.isStart=e.isStart&&a.isStart,a.isEnd=e.isEnd&&a.isEnd;return i}};JE=/^(visible|hidden)$/,Uh=class extends Kt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,ro(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:r,liquidIsAbsolute:n}=e,i=r&&n,a=["fc-scroller"];return r&&(n?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),se("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(JE.test(this.props.overflowX))return!1;let{el:e}=this,r=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let i=0;i<n.length;i+=1)if(n[i].getBoundingClientRect().width>r)return!0;return!1}needsYScrolling(){if(JE.test(this.props.overflowY))return!1;let{el:e}=this,r=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let i=0;i<n.length;i+=1)if(n[i].getBoundingClientRect().height>r)return!0;return!1}getXScrollbarWidth(){return JE.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return JE.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}},Qn=class{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(r,n)=>{let{depths:i,currentMap:a}=this,o=!1,s=!1;r!==null?(o=n in a,a[n]=r,i[n]=(i[n]||0)+1,s=!0):(i[n]-=1,i[n]||(delete a[n],delete this.callbackMap[n],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(n)),s&&this.masterCallback(r,String(n)))}}createRef(e){let r=this.callbackMap[e];return r||(r=this.callbackMap[e]=n=>{this.handleValue(n,String(e))}),r}collect(e,r,n){return vD(this.currentMap,e,r,n)}getAll(){return mD(this.currentMap)}};Bh=class extends Kt{constructor(){super(...arguments),this.processCols=jt(e=>e,MD),this.renderMicroColGroup=jt(RD),this.scrollerRefs=new Qn,this.scrollerElRefs=new Qn(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:r,context:n}=this,i=e.sections||[],a=this.processCols(e.cols),o=this.renderMicroColGroup(a,r.shrinkWidth),s=LD(e.liquid,n);e.collapsibleWidth&&s.push("fc-scrollgrid-collapsible");let l=i.length,c=0,u,d=[],f=[],h=[];for(;c<l&&(u=i[c]).type==="header";)d.push(this.renderSection(u,o,!0)),c+=1;for(;c<l&&(u=i[c]).type==="body";)f.push(this.renderSection(u,o,!1)),c+=1;for(;c<l&&(u=i[c]).type==="footer";)h.push(this.renderSection(u,o,!0)),c+=1;let p=!UT(),m={role:"rowgroup"};return se("table",{role:"grid",className:s.join(" "),style:{height:e.height}},!!(!p&&d.length)&&se("thead",m,...d),!!(!p&&f.length)&&se("tbody",m,...f),!!(!p&&h.length)&&se("tfoot",m,...h),p&&se("tbody",m,...d,...f,...h))}renderSection(e,r,n){return"outerContent"in e?se(sr,{key:e.key},e.outerContent):se("tr",{key:e.key,role:"presentation",className:OD(e,this.props.liquid).join(" ")},this.renderChunkTd(e,r,e.chunk,n))}renderChunkTd(e,r,n,i){if("outerContent"in n)return n.outerContent;let{props:a}=this,{forceYScrollbars:o,scrollerClientWidths:s,scrollerClientHeights:l}=this.state,c=DD(a,e),u=$T(a,e),d=a.liquid?o?"scroll":c?"auto":"hidden":"visible",f=e.key,h=AD(e,n,{tableColGroupNode:r,tableMinWidth:"",clientWidth:!a.collapsibleWidth&&s[f]!==void 0?s[f]:null,clientHeight:l[f]!==void 0?l[f]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return se(i?"th":"td",{ref:n.elRef,role:"presentation"},se("div",{className:`fc-scroller-harness${u?" fc-scroller-harness-liquid":""}`},se(Uh,{ref:this.scrollerRefs.createRef(f),elRef:this.scrollerElRefs.createRef(f),overflowY:d,overflowX:a.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:u,liquidIsAbsolute:!0},h)))}_handleScrollerEl(e,r){let n=_Oe(this.props.sections,r);n&&ro(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return ND(this.props.cols)?ED(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=SD(),{scrollerRefs:r,scrollerElRefs:n}=this,i=!1,a={},o={};for(let s in r.currentMap){let l=r.currentMap[s];if(l&&l.needsYScrolling()){i=!0;break}}for(let s of this.props.sections){let l=s.key,c=n.currentMap[l];if(c){let u=c.parentNode;a[l]=Math.floor(u.getBoundingClientRect().width-(i?e.y:0)),o[l]=Math.floor(u.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:a,scrollerClientHeights:o}}};Bh.addStateEquality({scrollerClientWidths:xi,scrollerClientHeights:xi});Kd=class extends Kt{constructor(){super(...arguments),this.buildPublicEvent=jt((e,r,n)=>new yn(e,r,n)),this.handleEl=e=>{this.el=e,ro(this.props.elRef,e),e&&Ree(e,this.props.seg)}}render(){let{props:e,context:r}=this,{options:n}=r,{seg:i}=e,{eventRange:a}=i,{ui:o}=a,s={event:this.buildPublicEvent(r,a.def,a.instance),view:r.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&QLe(i,r),isStartResizable:!e.disableResizing&&JLe(i,r),isEndResizable:!e.disableResizing&&eOe(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return se(vn,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...tOe(s),...i.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:s,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&Ree(this.el,this.props.seg)}},Mu=class extends Kt{render(){let{props:e,context:r}=this,{options:n}=r,{seg:i}=e,{ui:a}=i.eventRange,o=n.eventTimeFormat||e.defaultTimeFormat,s=Gh(i,o,r,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return se(Kd,Object.assign({},e,{elTag:"a",elStyle:{borderColor:a.borderColor,backgroundColor:a.backgroundColor},elAttrs:A0(i,r),defaultGenerator:COe,timeText:s}),(l,c)=>se(sr,null,se(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:c.textColor}}),!!c.isStartResizable&&se("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!c.isEndResizable&&se("div",{className:"fc-event-resizer fc-event-resizer-end"})))}};Mu.addPropsEquality({seg:xi});Lu=t=>se(Us.Consumer,null,e=>{let{options:r}=e,n={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return se(vn,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:n,generatorName:"nowIndicatorContent",customGenerator:r.nowIndicatorContent,classNameGenerator:r.nowIndicatorClassNames,didMount:r.nowIndicatorDidMount,willUnmount:r.nowIndicatorWillUnmount},t.children)}),kOe=ln({day:"numeric"}),jh=class extends Kt{constructor(){super(...arguments),this.refineRenderProps=Fl(EOe)}render(){let{props:e,context:r}=this,{options:n}=r,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:r.viewApi,dateEnv:r.dateEnv,monthStartFormat:n.monthStartFormat});return se(vn,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":tf(e.date)}),elClasses:[...of(i,r.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount},e.children)}};Qd=class extends Kt{render(){let{props:e}=this,{seg:r}=e;return se(Kd,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:r.eventRange.ui.backgroundColor},defaultGenerator:DOe,seg:r,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}};XT=t=>se(Us.Consumer,null,e=>{let{dateEnv:r,options:n}=e,{date:i}=t,a=n.weekNumberFormat||t.defaultFormat,o=r.computeWeekNumber(i),s=r.format(i,a),l={num:o,text:s,date:i};return se(vn,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:l,generatorName:"weekNumberContent",customGenerator:n.weekNumberContent,defaultGenerator:AOe,classNameGenerator:n.weekNumberClassNames,didMount:n.weekNumberDidMount,willUnmount:n.weekNumberWillUnmount},t.children)});gP=10,CP=class extends Kt{constructor(){super(...arguments),this.state={titleId:zl()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&ro(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{let r=sD(e);this.rootEl.contains(r)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:r}=this.context,{props:n,state:i}=this,a=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]);return sP(se("div",Object.assign({},n.extraAttrs,{id:n.id,className:a.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),se("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},se("span",{className:"fc-popover-title",id:i.titleId},n.title),se("span",{className:"fc-popover-close "+e.getIconClass("close"),title:r.closeHint,onClick:this.handleCloseClick})),se("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:r,alignGridTop:n}=this.props,{rootEl:i}=this,a=mOe(r);if(a){let o=i.getBoundingClientRect(),s=n?Mi(r,".fc-scrollgrid").getBoundingClientRect().top:a.top,l=e?a.right-o.width:a.left;s=Math.max(s,gP),l=Math.min(l,document.documentElement.clientWidth-gP-o.width),l=Math.max(l,gP);let c=i.offsetParent.getBoundingClientRect();ef(i,{top:s-c.top,left:l-c.left})}}},kP=class extends Ii{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:r}=this.context,{props:n}=this,{startDate:i,todayRange:a,dateProfile:o}=n,s=r.format(i,e.dayPopoverFormat);return se(jh,{elRef:this.handleRootEl,date:i,dateProfile:o,todayRange:a},(l,c,u)=>se(CP,{elRef:u.ref,id:n.id,title:s,extraClassNames:["fc-more-popover"].concat(u.className||[]),extraAttrs:u,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},R0(e)&&se(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(e,r,n,i){let{rootEl:a,props:o}=this;return e>=0&&e<n&&r>=0&&r<i?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:a,rect:{left:0,top:0,right:n,bottom:i},layer:1}:null}},Jd=class extends Kt{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:zl()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&ro(this.props.elRef,e)},this.handleClick=e=>{let{props:r,context:n}=this,{moreLinkClick:i}=n.options,a=Iee(r).start;function o(s){let{def:l,instance:c,range:u}=s.eventRange;return{event:new yn(n,l,c),start:n.dateEnv.toDate(u.start),end:n.dateEnv.toDate(u.end),isStart:s.isStart,isEnd:s.isEnd}}typeof i=="function"&&(i=i({date:a,allDay:!!r.allDayDate,allSegs:r.allSegs.map(o),hiddenSegs:r.hiddenSegs.map(o),jsEvent:e,view:n.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&n.calendarApi.zoomTo(a,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:r}=this;return se(Us.Consumer,null,n=>{let{viewApi:i,options:a,calendarApi:o}=n,{moreLinkText:s}=a,{moreCnt:l}=e,c=Iee(e),u=typeof s=="function"?s.call(o,l):`+${l} ${s}`,d=T0(a.moreLinkHint,[l],u),f={num:l,shortText:`+${l}`,text:u,view:i};return se(sr,null,!!e.moreCnt&&se(vn,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),Fee(this.handleClick)),{title:d,"aria-expanded":r.isPopoverOpen,"aria-controls":r.isPopoverOpen?r.popoverId:""}),renderProps:f,generatorName:"moreLinkContent",customGenerator:a.moreLinkContent,defaultGenerator:e.defaultGenerator||MOe,classNameGenerator:a.moreLinkClassNames,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},e.children),r.isPopoverOpen&&se(kP,{id:r.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Mi(this.linkEl,".fc-view-harness"))}}});var Ete={};Wr(Ete,{Calendar:()=>wz,JsonRequestError:()=>g0,createPlugin:()=>Jn,formatDate:()=>F6e,formatRange:()=>H6e,globalLocales:()=>mte,globalPlugins:()=>Cte,sliceEvents:()=>q6e,version:()=>U6e});function yte(t){let e=t.length>0?t[0].code:"en",r=mte.concat(t),n={en:gte};for(let i of r)n[i.code]=i;return{map:n,defaultCode:e}}function xz(t,e){return typeof t=="object"&&!Array.isArray(t)?bte(t.code,[t.code],t):LOe(t,e)}function LOe(t,e){let r=[].concat(t||[]),n=OOe(r,e)||gte;return bte(t,r,n)}function OOe(t,e){for(let r=0;r<t.length;r+=1){let n=t[r].toLocaleLowerCase().split("-");for(let i=n.length;i>0;i-=1){let a=n.slice(0,i).join("-");if(e[a])return e[a]}}return null}function bte(t,e,r){let n=pD([vte,r],["buttonText"]);delete n.code;let{week:i}=n;return delete n.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:n}}function Jn(t){return{id:ss(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function POe(t,e){let r={},n={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(a){for(let o of a){let s=o.name,l=r[s];l===void 0?(r[s]=o.id,i(o.deps),n=FOe(n,o)):l!==o.id&&console.warn(`Duplicate plugin '${s}'`)}}return t&&i(t),i(e),n}function zOe(){let t=[],e=[],r;return(n,i)=>((!r||!to(n,t)||!to(i,e))&&(r=POe(n,i)),t=n,e=i,r)}function FOe(t,e){return{premiumReleaseDate:HOe(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function HOe(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}function qOe(t,e){let r={},n;for(n in t)dz(n,r,t,e);for(n in e)dz(n,r,t,e);return r}function dz(t,e,r,n){if(e[t])return e[t];let i=UOe(t,e,r,n);return i&&(e[t]=i),i}function UOe(t,e,r,n){let i=r[t],a=n[t],o=u=>i&&i[u]!==null?i[u]:a&&a[u]!==null?a[u]:null,s=o("component"),l=o("superType"),c=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");c=dz(l,e,r,n)}return!s&&c&&(s=c.component),s?{type:t,component:s,defaults:Object.assign(Object.assign({},c?c.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),a?a.rawOptions:{})}:null}function cte(t){return Ri(t,BOe)}function BOe(t){let e=typeof t=="function"?{component:t}:t,{component:r}=e;return e.content?r=ute(e):r&&!(r.prototype instanceof Kt)&&(r=ute(Object.assign(Object.assign({},e),{content:r}))),{superType:e.type,component:r,rawOptions:e}}function ute(t){return e=>se(Us.Consumer,null,r=>se(vn,{elTag:"div",elClasses:ZP(r.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:r.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function jOe(t,e,r,n){let i=cte(t),a=cte(e.views),o=qOe(i,a);return Ri(o,s=>VOe(s,a,e,r,n))}function VOe(t,e,r,n,i){let a=t.overrides.duration||t.defaults.duration||n.duration||r.duration,o=null,s="",l="",c={};if(a&&(o=WOe(a),o)){let f=Nl(o);s=f.unit,f.value===1&&(l=s,c=e[s]?e[s].rawOptions:{})}let u=f=>{let h=f.buttonText||{},p=t.defaults.buttonTextKey;return p!=null&&h[p]!=null?h[p]:h[t.type]!=null?h[t.type]:h[l]!=null?h[l]:null},d=f=>{let h=f.buttonHints||{},p=t.defaults.buttonTextKey;return p!=null&&h[p]!=null?h[p]:h[t.type]!=null?h[t.type]:h[l]!=null?h[l]:null};return{type:t.type,component:t.component,duration:o,durationUnit:s,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},c),t.overrides),buttonTextOverride:u(n)||u(r)||t.overrides.buttonText,buttonTextDefault:u(i)||t.defaults.buttonText||u(Hl)||t.type,buttonTitleOverride:d(n)||d(r)||t.overrides.buttonHint,buttonTitleDefault:d(i)||t.defaults.buttonHint||d(Hl)}}function WOe(t){let e=JSON.stringify(t),r=dte[e];return r===void 0&&(r=Dr(t),dte[e]=r),r}function GOe(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function YOe(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function ZOe(t,e,r){let n=t.initialDate;return n!=null?e.createMarker(n):r.getDateMarker()}function $Oe(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function XOe(t,e,r,n){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return n.build(e.dateMarker||r);case"CHANGE_DATE":return n.build(e.dateMarker);case"PREV":if(i=n.buildPrev(t,r),i.isValid)return i;break;case"NEXT":if(i=n.buildNext(t,r),i.isValid)return i;break}return t}function KOe(t,e,r){let n=e?e.activeRange:null;return xte({},i6e(t,r),n,r)}function QOe(t,e,r,n){let i=r?r.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return xte(t,e.sources,i,n);case"REMOVE_EVENT_SOURCE":return e6e(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Tte(t,i,n):t;case"FETCH_EVENT_SOURCES":return Tz(t,e.sourceIds?WP(e.sourceIds):Ste(t,n),i,e.isRefetch||!1,n);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return n6e(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function JOe(t,e,r){let n=e?e.activeRange:null;return Tz(t,Ste(t,r),n,!0,r)}function wte(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function xte(t,e,r,n){let i={};for(let a of e)i[a.sourceId]=a;return r&&(i=Tte(i,r,n)),Object.assign(Object.assign({},t),i)}function e6e(t,e){return Ol(t,r=>r.sourceId!==e)}function Tte(t,e,r){return Tz(t,Ol(t,n=>t6e(n,e,r)),e,!1,r)}function t6e(t,e,r){return _te(t,r)?!r.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function Tz(t,e,r,n,i){let a={};for(let o in t){let s=t[o];e[o]?a[o]=r6e(s,r,n,i):a[o]=s}return a}function r6e(t,e,r,n){let{options:i,calendarApi:a}=n,o=n.pluginHooks.eventSourceDefs[t.sourceDefId],s=ss();return o.fetch({eventSource:t,range:e,isRefetch:r,context:n},l=>{let{rawEvents:c}=l;i.eventSourceSuccess&&(c=i.eventSourceSuccess.call(a,c,l.response)||c),t.success&&(c=t.success.call(a,c,l.response)||c),n.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:s,fetchRange:e,rawEvents:c})},l=>{let c=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(a,l),c=!0),t.failure&&(t.failure(l),c=!0),c||console.warn(l.message,l),n.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:s,fetchRange:e,error:l})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:s})}function n6e(t,e,r,n){let i=t[e];return i&&r===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:n})}):t}function Ste(t,e){return Ol(t,r=>_te(r,e))}function i6e(t,e){let r=QP(e),n=[].concat(t.eventSources||[]),i=[];t.initialEvents&&n.unshift(t.initialEvents),t.events&&n.unshift(t.events);for(let a of n){let o=KP(a,e,r);o&&i.push(o)}return i}function _te(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function a6e(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function o6e(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function s6e(t,e){let r;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return r=e.state,{affectedEvents:r.affectedEvents,mutatedEvents:r.mutatedEvents,isEvent:r.isEvent};default:return t}}function l6e(t,e){let r;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return r=e.state,{affectedEvents:r.affectedEvents,mutatedEvents:r.mutatedEvents,isEvent:r.isEvent};default:return t}}function c6e(t,e,r,n,i){let a=t.headerToolbar?fte(t.headerToolbar,t,e,r,n,i):null,o=t.footerToolbar?fte(t.footerToolbar,t,e,r,n,i):null;return{header:a,footer:o}}function fte(t,e,r,n,i,a){let o={},s=[],l=!1;for(let c in t){let u=t[c],d=u6e(u,e,r,n,i,a);o[c]=d.widgets,s.push(...d.viewsWithButtons),l=l||d.hasTitle}return{sectionWidgets:o,viewsWithButtons:s,hasTitle:l}}function u6e(t,e,r,n,i,a){let o=e.direction==="rtl",s=e.customButtons||{},l=r.buttonText||{},c=e.buttonText||{},u=r.buttonHints||{},d=e.buttonHints||{},f=t?t.split(" "):[],h=[],p=!1;return{widgets:f.map(v=>v.split(",").map(y=>{if(y==="title")return p=!0,{buttonName:y};let b,x,w,S,_,C;if(b=s[y])w=E=>{b.click&&b.click.call(E.target,E,E.target)},(S=n.getCustomButtonIconClass(b))||(S=n.getIconClass(y,o))||(_=b.text),C=b.hint||b.text;else if(x=i[y]){h.push(y),w=()=>{a.changeView(y)},(_=x.buttonTextOverride)||(S=n.getIconClass(y,o))||(_=x.buttonTextDefault);let E=x.buttonTextOverride||x.buttonTextDefault;C=T0(x.buttonTitleOverride||x.buttonTitleDefault||e.viewHint,[E,y],E)}else if(a[y])if(w=()=>{a[y]()},(_=l[y])||(S=n.getIconClass(y,o))||(_=c[y]),y==="prevYear"||y==="nextYear"){let E=y==="prevYear"?"prev":"next";C=T0(u[E]||d[E],[c.year||"year","year"],c[y])}else C=E=>T0(u[y]||d[y],[c[E]||E,E],c[y]);return{buttonName:y,buttonClick:w,buttonIcon:S,buttonText:_,buttonHint:C}})),viewsWithButtons:h,hasTitle:p}}function y6e(t,e,r){let{dateEnv:n,options:i}=r,a,o,s,l,c={};return a=t.startParam,a==null&&(a=i.startParam),o=t.endParam,o==null&&(o=i.endParam),s=t.timeZoneParam,s==null&&(s=i.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(c,l),c[a]=n.formatIso(e.start),c[o]=n.formatIso(e.end),n.timeZone!=="local"&&(c[s]=n.timeZone),c}function T6e(t,e,r,n,i){let a=t?WP(t):null,o=cn(i.start),s=i.end,l=[];for(;o<s;){let c;(!a||a[o.getUTCDay()])&&(e?c=n.add(o,e):c=o,l.push(n.createMarker(r.toDate(c)))),o=Ln(o,1)}return l}function hte(t,e){let r=mD(e.getCurrentData().eventSources);if(r.length===1&&t.length===1&&Array.isArray(r[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:r[0].sourceId,rawEvents:t[0]});return}let n=[];for(let i of t){let a=!1;for(let o=0;o<r.length;o+=1)if(r[o]._raw===i){r.splice(o,1),a=!0;break}a||n.push(i)}for(let i of r)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of n)e.calendarApi.addEventSource(i)}function _6e(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},nz(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function C6e(t,e){let{emitter:r}=e;r.hasHandlers("eventsSet")&&r.trigger("eventsSet",Nu(t,e))}function k6e(t,e,r){let n;return/^(year|month)$/.test(t.currentRangeUnit)?n=t.currentRange:n=t.activeRange,r.formatRange(n.start,n.end,ln(e.titleFormat||E6e(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function E6e(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let r=qh(t.currentRange.start,t.currentRange.end);return r!==null&&r>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}function D6e(t,e,r,n,i,a,o,s){let l=xz(e||o.defaultCode,o.map);return new m0({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:l,weekNumberCalculation:r,firstDay:n,weekText:i,cmdFormatter:a.cmdFormatter,defaultSeparator:s})}function A6e(t,e){let r=e.themeClasses[t.themeSystem]||Ou;return new r(t)}function M6e(t){let e=t.dateProfileGeneratorClass||Wm;return new e(t)}function R6e(t,e,r){return new fz(t,e,r)}function I6e(t){return Ri(t,e=>e.ui)}function N6e(t,e,r){let n={"":e};for(let i in t){let a=t[i];a.sourceId&&r[a.sourceId]&&(n[i]=r[a.sourceId])}return n}function L6e(t){let{options:e}=t;return{eventUiSingleBase:Wh({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:Wh({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function uz(t,e){for(let r of e.pluginHooks.isLoadingFuncs)if(r(t))return!0;return!1}function O6e(t){return zT(t.options.businessHours,t)}function pte(t,e){for(let r in t)console.warn(`Unknown option '${r}'`+(e?` for view '${e}'`:""))}function P6e(t,e,r,n,i,a){let o=r.build(i,void 0,!1),s=r.buildPrev(e,n,!1),l=r.buildNext(e,n,!1);return{title:a,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!os(e.currentRange,i),isPrevEnabled:s.isValid,isNextEnabled:l.isValid}}function z6e(t){return t.map(e=>new e)}function F6e(t,e={}){let r=kte(e),n=ln(e),i=r.createMarkerMeta(t);return i?r.format(i.marker,n,{forcedTzo:i.forcedTzo}):""}function H6e(t,e,r){let n=kte(typeof r=="object"&&r?r:{}),i=ln(r),a=n.createMarkerMeta(t),o=n.createMarkerMeta(e);return!a||!o?"":n.formatRange(a.marker,o.marker,i,{forcedStartTzo:a.forcedTzo,forcedEndTzo:o.forcedTzo,isEndExclusive:r.isEndExclusive,defaultSeparator:Hl.defaultRangeSeparator})}function kte(t){let e=xz(t.locale||"en",yte([]).map);return new m0(Object.assign(Object.assign({timeZone:Hl.timeZone,calendarSystem:"gregory"},t),{locale:e}))}function q6e(t,e){return Zm(t.eventStore,t.eventUiBases,t.dateProfile.activeRange,e?t.nextDayThreshold:null).fg}var mte,vte,gte,Ou,dte,fz,d6e,f6e,h6e,p6e,m6e,v6e,g6e,b6e,w6e,x6e,S6e,Cte,hz,zD,pz,mz,FD,vz,gz,yz,bz,wz,U6e,Ic=Re(()=>{PD();PD();Gd();mT();mte=[],vte={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},gte=Object.assign(Object.assign({},vte),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});Ou=class extends Zd{};Ou.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Ou.prototype.baseIconClass="fc-icon";Ou.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Ou.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Ou.prototype.iconOverrideOption="buttonIcons";Ou.prototype.iconOverrideCustomButtonOption="icon";Ou.prototype.iconOverridePrefix="fc-icon-";dte={};fz=class{constructor(e,r,n){this.type=e,this.getCurrentData=r,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}},d6e={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}},f6e=Jn({name:"array-event-source",eventSourceDefs:[d6e]}),h6e={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,r){let{dateEnv:n}=t.context,i=t.eventSource.meta;HT(i.bind(null,nz(t.range,n)),a=>e({rawEvents:a}),r)}},p6e=Jn({name:"func-event-source",eventSourceDefs:[h6e]}),m6e={method:String,extraParams:Be,startParam:String,endParam:String,timeZoneParam:String},v6e={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,r){let{meta:n}=t.eventSource,i=y6e(n,t.range,t.context);qT(n.method,n.url,i).then(([a,o])=>{e({rawEvents:a,response:o})},r)}},g6e=Jn({name:"json-event-source",eventSourceRefiners:m6e,eventSourceDefs:[v6e]});b6e={daysOfWeek:Be,startTime:Dr,endTime:Dr,duration:Dr,startRecur:Be,endRecur:Be},w6e={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let r={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},n;return t.duration&&(n=t.duration),!n&&t.startTime&&t.endTime&&(n=qee(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:n,typeData:r}}return null},expand(t,e,r){let n=jo(e,{start:t.startRecur,end:t.endRecur});return n?T6e(t.daysOfWeek,t.startTime,t.dateEnv,r,n):[]}},x6e=Jn({name:"simple-recurring-event",recurringTypes:[w6e],eventRefiners:b6e});S6e=Jn({name:"change-handler",optionChangeHandlers:{events(t,e){hte([t],e)},eventSources:hte}});Cte=[f6e,p6e,g6e,x6e,S6e,Jn({name:"misc",isLoadingFuncs:[t=>wte(t.eventSources)],propSetHandlers:{dateProfile:_6e,eventStore:C6e}})],hz=class{constructor(e,r){this.runTaskOption=e,this.drainedOption=r,this.queue=[],this.delayedRunner=new Eu(this.drain.bind(this))}request(e,r){this.queue.push(e),this.delayedRunner.request(r)}pause(e){this.delayedRunner.pause(e)}resume(e,r){this.delayedRunner.resume(e,r)}drain(){let{queue:e}=this;for(;e.length;){let r=[],n;for(;n=e.shift();)this.runTask(n),r.push(n);this.drained(r)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}};zD=class{constructor(){this.resetListeners=new Set}handleInput(e,r){let n=this.dateEnv;if(e!==n&&(typeof r=="function"?this.nowFn=r:n||(this.nowAnchorDate=e.toDate(r?e.createMarker(r):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,n))for(let i of this.resetListeners.values())i()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}},pz=class{constructor(e){this.computeCurrentViewData=jt(this._computeCurrentViewData),this.organizeRawLocales=jt(yte),this.buildLocale=jt(xz),this.buildPluginHooks=zOe(),this.buildDateEnv=jt(D6e),this.buildTheme=jt(A6e),this.parseToolbars=jt(c6e),this.buildViewSpecs=jt(jOe),this.buildDateProfileGenerator=Fl(M6e),this.buildViewApi=jt(R6e),this.buildViewUiProps=Fl(L6e),this.buildEventUiBySource=jt(I6e,xi),this.buildEventUiBases=jt(N6e),this.parseContextBusinessHours=Fl(O6e),this.buildTitle=jt(k6e),this.nowManager=new zD,this.emitter=new kc,this.actionRunner=new hz(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=f=>{this.actionRunner.request(f)},this.props=e,this.actionRunner.pause(),this.nowManager=new zD;let r={},n=this.computeOptionsData(e.optionOverrides,r,e.calendarApi),i=n.calendarOptions.initialView||n.pluginHooks.initialView,a=this.computeCurrentViewData(i,n,e.optionOverrides,r);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);let o={nowManager:this.nowManager,dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s=ZOe(n.calendarOptions,n.dateEnv,this.nowManager),l=a.dateProfileGenerator.build(s);os(l.activeRange,s)||(s=l.currentRange.start);for(let f of n.pluginHooks.contextInit)f(o);let c=KOe(n.calendarOptions,l,o),u={dynamicOptionOverrides:r,currentViewType:i,currentDate:s,dateProfile:l,businessHours:this.parseContextBusinessHours(o),eventSources:c,eventUiBases:{},eventStore:ga(),renderableEventStore:ga(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig},d=Object.assign(Object.assign({},o),u);for(let f of n.pluginHooks.reducers)Object.assign(u,f(null,null,d));uz(u,o)&&this.emitter.trigger("loading",!0),this.state=u,this.updateData(),this.actionRunner.resume()}resetOptions(e,r){let{props:n}=this;r===void 0?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...r)),(r===void 0||r.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:r,state:n,emitter:i}=this,a=$Oe(n.dynamicOptionOverrides,e),o=this.computeOptionsData(r.optionOverrides,a,r.calendarApi),s=GOe(n.currentViewType,e),l=this.computeCurrentViewData(s,o,r.optionOverrides,a);r.calendarApi.currentDataManager=this,i.setThisContext(r.calendarApi),i.setOptions(l.options);let c={nowManager:this.nowManager,dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:r.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:u,dateProfile:d}=n;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(d=l.dateProfileGenerator.build(u)),u=YOe(u,e),d=XOe(d,e,u,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!os(d.currentRange,u))&&(u=d.currentRange.start);let f=QOe(n.eventSources,e,d,c),h=Kee(n.eventStore,e,f,d,c),m=wte(f)&&!l.options.progressiveEventRendering&&n.renderableEventStore||h,{eventUiSingleBase:v,selectionConfig:y}=this.buildViewUiProps(c),b=this.buildEventUiBySource(f),x=this.buildEventUiBases(m.defs,v,b),w={dynamicOptionOverrides:a,currentViewType:s,currentDate:u,dateProfile:d,eventSources:f,eventStore:h,renderableEventStore:m,selectionConfig:y,eventUiBases:x,businessHours:this.parseContextBusinessHours(c),dateSelection:a6e(n.dateSelection,e),eventSelection:o6e(n.eventSelection,e),eventDrag:s6e(n.eventDrag,e),eventResize:l6e(n.eventResize,e)},S=Object.assign(Object.assign({},c),w);for(let E of o.pluginHooks.reducers)Object.assign(w,E(n,e,S));let _=uz(n,c),C=uz(w,c);!_&&C?i.trigger("loading",!0):_&&!C&&i.trigger("loading",!1),this.state=w,r.onAction&&r.onAction(e)}updateData(){let{props:e,state:r}=this,n=this.data,i=this.computeOptionsData(e.optionOverrides,r.dynamicOptionOverrides,e.calendarApi),a=this.computeCurrentViewData(r.currentViewType,i,e.optionOverrides,r.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(r.dateProfile,a.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),a),r),s=i.pluginHooks.optionChangeHandlers,l=n&&n.calendarOptions,c=i.calendarOptions;if(l&&l!==c){l.timeZone!==c.timeZone&&(r.eventSources=o.eventSources=JOe(o.eventSources,r.dateProfile,o),r.eventStore=o.eventStore=JP(o.eventStore,n.dateEnv,o.dateEnv),r.renderableEventStore=o.renderableEventStore=JP(o.renderableEventStore,n.dateEnv,o.dateEnv));for(let u in s)(this.optionsForHandling.indexOf(u)!==-1||l[u]!==c[u])&&s[u](c[u],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,r,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&r===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:a,localeDefaults:o,availableLocaleData:s,extra:l}=this.processRawCalendarOptions(e,r);pte(l);let c=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,a,s,i.defaultRangeSeparator),u=this.buildViewSpecs(a.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),d=this.buildTheme(i,a),f=this.parseToolbars(i,this.stableOptionOverrides,d,u,n);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:a,dateEnv:c,viewSpecs:u,theme:d,toolbarConfig:f,localeDefaults:o,availableRawLocales:s.map}}processRawCalendarOptions(e,r){let{locales:n,locale:i}=hD([Hl,e,r]),a=this.organizeRawLocales(n),o=a.map,s=this.buildLocale(i||a.defaultCode,o).options,l=this.buildPluginHooks(e.plugins||[],Cte),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},BP),jP),VP),l.listenerRefiners),l.optionRefiners),u={},d=hD([Hl,s,e,r]),f={},h=this.currentCalendarOptionsInput,p=this.currentCalendarOptionsRefined,m=!1;for(let v in d)this.optionsForRefining.indexOf(v)===-1&&(d[v]===h[v]||Vh[v]&&v in h&&Vh[v](h[v],d[v]))?f[v]=p[v]:c[v]?(f[v]=c[v](d[v]),m=!0):u[v]=h[v];return m&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=f,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=r),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:a,localeDefaults:s,extra:u}}_computeCurrentViewData(e,r,n,i){let a=r.viewSpecs[e];if(!a)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:s}=this.processRawViewOptions(a,r.pluginHooks,r.localeDefaults,n,i);pte(s),this.nowManager.handleInput(r.dateEnv,o.now);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:r.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),c=this.buildViewApi(e,this.getCurrentData,r.dateEnv);return{viewSpec:a,options:o,dateProfileGenerator:l,viewApi:c}}processRawViewOptions(e,r,n,i,a){let o=hD([Hl,e.optionDefaults,n,i,e.optionOverrides,a]),s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},BP),jP),VP),Vee),r.listenerRefiners),r.optionRefiners),l={},c=this.currentViewOptionsInput,u=this.currentViewOptionsRefined,d=!1,f={};for(let h in o)o[h]===c[h]||Vh[h]&&Vh[h](o[h],c[h])?l[h]=u[h]:(o[h]===this.currentCalendarOptionsInput[h]||Vh[h]&&Vh[h](o[h],this.currentCalendarOptionsInput[h])?h in this.currentCalendarOptionsRefined&&(l[h]=this.currentCalendarOptionsRefined[h]):s[h]?l[h]=s[h](o[h]):f[h]=o[h],d=!0);return d&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:f}}};mz=class extends Kt{render(){let e=this.props.widgetGroups.map(r=>this.renderWidgetGroup(r));return se("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:r}=this,{theme:n}=this.context,i=[],a=!0;for(let o of e){let{buttonName:s,buttonClick:l,buttonText:c,buttonIcon:u,buttonHint:d}=o;if(s==="title")a=!1,i.push(se("h2",{className:"fc-toolbar-title",id:r.titleId},r.title));else{let f=s===r.activeButton,h=!r.isTodayEnabled&&s==="today"||!r.isPrevEnabled&&s==="prev"||!r.isNextEnabled&&s==="next",p=[`fc-${s}-button`,n.getClass("button")];f&&p.push(n.getClass("buttonActive")),i.push(se("button",{type:"button",title:typeof d=="function"?d(r.navUnit):d,disabled:h,"aria-pressed":f,className:p.join(" "),onClick:l},c||(u?se("span",{className:u,role:"img"}):"")))}}if(i.length>1){let o=a&&n.getClass("buttonGroup")||"";return se("div",{className:o},...i)}return i[0]}},FD=class extends Kt{render(){let{model:e,extraClassName:r}=this.props,n=!1,i,a,o=e.sectionWidgets,s=o.center;return o.left?(n=!0,i=o.left):i=o.start,o.right?(n=!0,a=o.right):a=o.end,se("div",{className:[r||"","fc-toolbar",n?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",s||[]),this.renderSection("end",a||[]))}renderSection(e,r){let{props:n}=this;return se(mz,{key:e,widgetGroups:r,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}},vz=class extends Kt{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,ro(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:r}=this,{aspectRatio:n}=e,i=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],a="",o="";return n?r.availableWidth!==null?a=r.availableWidth/n:o=`${1/n*100}%`:a=e.height||"",se("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:a,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}},gz=class extends Ec{constructor(e){super(e),this.handleSegClick=(r,n)=>{let{component:i}=this,{context:a}=i,o=nf(n);if(o&&i.isValidSegDownEl(r.target)){let s=Mi(r.target,".fc-event-forced-url"),l=s?s.querySelector("a[href]").href:"";a.emitter.trigger("eventClick",{el:n,event:new yn(i.context,o.eventRange.def,o.eventRange.instance),jsEvent:r,view:a.viewApi}),l&&!r.defaultPrevented&&(window.location.href=l)}},this.destroy=AP(e.el,"click",".fc-event",this.handleSegClick)}},yz=class extends Ec{constructor(e){super(e),this.handleEventElRemove=r=>{r===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(r,n)=>{nf(n)&&(this.currentSegEl=n,this.triggerEvent("eventMouseEnter",r,n))},this.handleSegLeave=(r,n)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",r,n))},this.removeHoverListeners=zee(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,r,n){let{component:i}=this,{context:a}=i,o=nf(n);(!r||i.isValidSegDownEl(r.target))&&a.emitter.trigger(e,{el:n,event:new yn(a,o.eventRange.def,o.eventRange.instance),jsEvent:r,view:a.viewApi})}},bz=class extends Du{constructor(){super(...arguments),this.buildViewContext=jt(Yee),this.buildViewPropTransformers=jt(z6e),this.buildToolbarProps=jt(P6e),this.headerRef=nn(),this.footerRef=nn(),this.interactionsStore={},this.state={viewLabelId:zl()},this.registerInteractiveComponent=(e,r)=>{let n=nte(e,r),o=[gz,yz].concat(this.props.pluginHooks.componentInteractions).map(s=>new s(n));this.interactionsStore[e.uid]=o,nv[e.uid]=n},this.unregisterInteractiveComponent=e=>{let r=this.interactionsStore[e.uid];if(r){for(let n of r)n.destroy();delete this.interactionsStore[e.uid]}delete nv[e.uid]},this.resizeRunner=new Eu(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:r}=this.props;r.handleWindowResize&&e.target===window&&this.resizeRunner.request(r.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:r,options:n}=e,i=!1,a="",o;e.isHeightAuto||e.forPrint?a="":n.height!=null?i=!0:n.contentHeight!=null?a=n.contentHeight:o=Math.max(n.aspectRatio,.5);let s=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=r.header&&r.header.hasTitle?this.state.viewLabelId:void 0;return se(Us.Provider,{value:s},se(ta,{unit:"day"},c=>{let u=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,c,e.viewTitle);return se(sr,null,r.header&&se(FD,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:r.header,titleId:l},u)),se(vz,{liquid:i,height:a,aspectRatio:o,labeledById:l},this.renderView(e),this.buildAppendContent()),r.footer&&se(FD,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:r.footer,titleId:""},u)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(n=>new n(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:r}=e.pluginHooks;for(let n in r)r[n](e[n],e)}componentDidUpdate(e){let{props:r}=this,{propSetHandlers:n}=r.pluginHooks;for(let i in n)r[i]!==e[i]&&n[i](r[i],r)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,r=e.pluginHooks.viewContainerAppends.map(n=>n(e));return se(sr,{},...r)}renderView(e){let{pluginHooks:r}=e,{viewSpec:n}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},a=this.buildViewPropTransformers(r.viewPropsTransformers);for(let s of a)Object.assign(i,s.transform(i,e));let o=n.component;return se(o,Object.assign({},i))}};wz=class extends Dc{constructor(e,r={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=n=>{switch(n.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=n=>{this.currentData=n,this.renderRunner.request(n.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:n}=this;vT(()=>{Oh(se(xT,{options:n.calendarOptions,theme:n.theme,emitter:n.emitter},(i,a,o,s)=>(this.setClassNames(i),this.setHeight(a),se(YP.Provider,{value:this.customContentRenderId},se(bz,Object.assign({isHeightAuto:o,forPrint:s},n))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Oh(null,this.el),this.setClassNames([]),this.setHeight(""))},Lee(e),this.el=e,this.renderRunner=new Eu(this.handleRenderRequest),new pz({optionOverrides:r,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){vT(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,r){this.currentDataManager.resetOptions(e,r)}setClassNames(e){if(!to(e,this.currentClassNames)){let{classList:r}=this.el;for(let n of this.currentClassNames)r.remove(n);for(let n of e)r.add(n);this.currentClassNames=e}}setHeight(e){DP(this.el,"height",e)}};U6e="6.1.18"});var Bs=Re(()=>{PD();Gd();mT()});var Mte={};Wr(Mte,{Draggable:()=>JT,ThirdPartyDraggable:()=>Lz,default:()=>iPe});function B6e(t){return t.button===0&&!t.ctrlKey}function j6e(){Sz+=1,setTimeout(()=>{Sz-=1},io.touchMouseIgnoreWait)}function V6e(){HD+=1,HD===1&&window.addEventListener("touchmove",Ate,{passive:!1})}function W6e(){HD-=1,HD||window.removeEventListener("touchmove",Ate,{passive:!1})}function Ate(t){_z&&t.preventDefault()}function G6e(t){let e=t.tagName;return e==="HTML"||e==="BODY"}function jD(t,e){return!t&&!e?!0:!!t!=!!e?!1:rz(t.dateSpan,e.dateSpan)}function Oz(t,e){let r={};for(let n of e.pluginHooks.datePointTransforms)Object.assign(r,n(t,e));return Object.assign(r,Y6e(t,e.dateEnv)),r}function Y6e(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}function Z6e(t){let{options:e}=t.context,r=e.selectLongPressDelay;return r==null&&(r=e.longPressDelay),r}function $6e(t,e,r){let n=t.dateSpan,i=e.dateSpan,a=[n.range.start,n.range.end,i.range.start,i.range.end];a.sort(OP);let o={};for(let s of r){let l=s(t,e);if(l===!1)return null;l&&Object.assign(o,l)}return o.range={start:a[0],end:a[3]},o.allDay=n.allDay,o}function X6e(t,e,r,n){let i=t.dateSpan,a=e.dateSpan,o=i.range.start,s=a.range.start,l={};i.allDay!==a.allDay&&(l.allDay=a.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,a.allDay?o=cn(r):o=r);let c=Hh(o,s,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);c.milliseconds&&(l.allDay=!1);let u={datesDelta:c,standardProps:l};for(let d of n)d(u,t,e);return u}function K6e(t){let{options:e}=t.context,r=e.eventLongPressDelay;return r==null&&(r=e.longPressDelay),r}function Q6e(t,e,r,n){let i=t.context.dateEnv,a=t.dateSpan.range.start,o=e.dateSpan.range.start,s=Hh(a,o,i,t.largeUnit);if(r){if(i.add(n.start,s)<n.end)return{startDelta:s}}else if(i.add(n.end,s)>n.start)return{endDelta:s};return null}function tPe(t,e,r){let n=Object.assign({},e.leftoverProps);for(let u of r.pluginHooks.externalDefTransforms)Object.assign(n,u(t,e));let{refined:i,extra:a}=LT(n,r),o=v0(i,a,e.sourceId,t.allDay,r.options.forceEventDuration||!!e.duration,r),s=t.range.start;t.allDay&&e.startTime&&(s=r.dateEnv.add(s,e.startTime));let l=e.duration?r.dateEnv.add(s,e.duration):wT(t.allDay,s,r),c=E0(o.defId,{start:s,end:l});return{def:o,instance:c}}function rPe(t){let e=nPe(t,"event"),r=e?JSON.parse(e):{create:!1};return YT(r)}function nPe(t,e){let r=io.dataAttrPrefix,n=(r?r+"-":"")+e;return t.getAttribute("data-"+n)||""}var Sz,HD,_z,KT,Cz,qD,UD,kz,Dte,Ez,Zh,Dz,ov,Az,Mz,QT,Rz,Iz,J6e,ePe,BD,JT,Nz,Lz,iPe,Pz=Re(()=>{Ic();Bs();io.touchMouseIgnoreWait=500;Sz=0,HD=0,_z=!1,KT=class{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=r=>{if(!this.shouldIgnoreMouse()&&B6e(r)&&this.tryStart(r)){let n=this.createEventFromMouse(r,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=r=>{let n=this.createEventFromMouse(r);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleMouseUp=r=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(r)),this.cleanup()},this.handleTouchStart=r=>{if(this.tryStart(r)){this.isTouchDragging=!0;let n=this.createEventFromTouch(r,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n);let i=r.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=r=>{let n=this.createEventFromTouch(r);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleTouchEnd=r=>{if(this.isDragging){let n=r.target;n.removeEventListener("touchmove",this.handleTouchMove),n.removeEventListener("touchend",this.handleTouchEnd),n.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(r)),this.cleanup(),this.isTouchDragging=!1,j6e()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=r=>{if(!this.shouldIgnoreMove){let n=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:r,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:n,pageY:i,deltaX:n-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new kc,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),V6e()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),W6e()}tryStart(e){let r=this.querySubjectEl(e),n=e.target;return r&&(!this.handleSelector||Mi(n,this.handleSelector))?(this.subjectEl=r,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){_z=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?Mi(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Sz||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(_z=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,r){let n=0,i=0;return r?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:i}}createEventFromTouch(e,r){let n=e.touches,i,a,o=0,s=0;return n&&n.length?(i=n[0].pageX,a=n[0].pageY):(i=e.pageX,a=e.pageY),r?(this.origPageX=i,this.origPageY=a):(o=i-this.origPageX,s=a-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:a,deltaX:o,deltaY:s}}};Cz=class{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,r,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=r-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,r){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=r-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,r){let n=()=>{this.cleanup(),r()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,r){let n=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();n.style.transition="top "+r+"ms,left "+r+"ms",ef(n,{left:i.left,top:i.top}),MP(n,()=>{n.style.transition="",e()})}cleanup(){this.mirrorEl&&(ev(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&ef(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,r=this.mirrorEl;return r||(r=this.mirrorEl=this.sourceEl.cloneNode(!0),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.pointerEvents="none",r.classList.add("fc-event-dragging"),ef(r,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(r)),r}},qD=class extends Xm{constructor(e,r){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=r,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}},UD=class extends qD{constructor(e,r){super(new TT(e),r)}getEventTarget(){return this.scrollController.el}computeClientRect(){return jT(this.scrollController.el)}},kz=class extends qD{constructor(e){super(new ST,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}},Dte=typeof performance=="function"?performance.now:Date.now,Ez=class{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let r=Dte();this.handleSide(e,(r-this.msSinceRequest)/1e3),this.requestAnimation(r)}else this.isAnimating=!1}}}start(e,r,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,r))}handleMove(e,r){if(this.isEnabled){let n=e-window.scrollX,i=r-window.scrollY,a=this.pointerScreenY===null?0:i-this.pointerScreenY,o=this.pointerScreenX===null?0:n-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Dte()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,r){let{scrollCache:n}=e,{edgeThreshold:i}=this,a=i-e.distance,o=a*a/(i*i)*this.maxVelocity*r,s=1;switch(e.name){case"left":s=-1;case"right":n.setScrollLeft(n.getScrollLeft()+o*s);break;case"top":s=-1;case"bottom":n.setScrollTop(n.getScrollTop()+o*s);break}}computeBestEdge(e,r){let{edgeThreshold:n}=this,i=null,a=this.scrollCaches||[];for(let o of a){let s=o.clientRect,l=e-s.left,c=s.right-e,u=r-s.top,d=s.bottom-r;l>=0&&c>=0&&u>=0&&d>=0&&(u<=n&&this.everMovedUp&&o.canScrollUp()&&(!i||i.distance>u)&&(i={scrollCache:o,name:"top",distance:u}),d<=n&&this.everMovedDown&&o.canScrollDown()&&(!i||i.distance>d)&&(i={scrollCache:o,name:"bottom",distance:d}),l<=n&&this.everMovedLeft&&o.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:o,name:"left",distance:l}),c<=n&&this.everMovedRight&&o.canScrollRight()&&(!i||i.distance>c)&&(i={scrollCache:o,name:"right",distance:c}))}return i}buildCaches(e){return this.queryScrollEls(e).map(r=>r===window?new kz(!1):new UD(r,!1))}queryScrollEls(e){let r=[];for(let n of this.scrollQuery)typeof n=="object"?r.push(n):r.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(n)));return r}},Zh=class extends y0{constructor(e,r){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,RP(document.body),NP(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let a=this.minDistance,o,{deltaX:s,deltaY:l}=i;o=s*s+l*l,o>=a*a&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,IP(document.body),LP(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new KT(e);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),r&&(n.selector=r),this.mirror=new Cz,this.autoScroller=new Ez}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}},Dz=class{constructor(e){this.el=e,this.origRect=VT(e),this.scrollCaches=CD(e).map(r=>new UD(r,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let r of this.scrollCaches)e+=r.origScrollLeft-r.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let r of this.scrollCaches)e+=r.origScrollTop-r.getScrollTop();return e}isWithinClipping(e,r){let n={left:e,top:r};for(let i of this.scrollCaches)if(!G6e(i.getEventTarget())&&!iz(n,i.clientRect))return!1;return!0}};ov=class{constructor(e,r){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=n=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(n),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",n)):i.setIgnoreMove(!0)},this.handleDragStart=n=>{this.emitter.trigger("dragstart",n),this.handleMove(n,!0)},this.handleDragMove=n=>{this.emitter.trigger("dragmove",n),this.handleMove(n)},this.handlePointerUp=n=>{this.releaseHits(),this.emitter.trigger("pointerup",n)},this.handleDragEnd=n=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,n),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",n)},this.droppableStore=r,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new kc}processFirstCoord(e){let r={left:e.pageX,top:e.pageY},n=r,i=e.subjectEl,a;i instanceof HTMLElement&&(a=VT(i),n=az(n,a));let o=this.initialHit=this.queryHitForOffset(n.left,n.top);if(o){if(this.useSubjectCenter&&a){let s=wD(a,o.rect);s&&(n=oz(s))}this.coordAdjust=sz(n,r)}else this.coordAdjust={left:0,top:0}}handleMove(e,r){let n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(r||!jD(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}prepareHits(){this.offsetTrackers=Ri(this.droppableStore,e=>(e.component.prepareHits(),new Dz(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let r in e)e[r].destroy();this.offsetTrackers={}}queryHitForOffset(e,r){let{droppableStore:n,offsetTrackers:i}=this,a=null;for(let o in n){let s=n[o].component,l=i[o];if(l&&l.isWithinClipping(e,r)){let c=l.computeLeft(),u=l.computeTop(),d=e-c,f=r-u,{origRect:h}=l,p=h.right-h.left,m=h.bottom-h.top;if(d>=0&&d<p&&f>=0&&f<m){let v=s.queryHit(d,f,p,m);v&&C0(v.dateProfile.activeRange,v.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(d+c-window.scrollX,f+u-window.scrollY)))&&(!a||v.layer>a.layer)&&(v.componentId=o,v.context=s.context,v.rect.left+=c,v.rect.right+=c,v.rect.top+=u,v.rect.bottom+=u,a=v)}}}return a}};Az=class extends Ec{constructor(e){super(e),this.handlePointerDown=n=>{let{dragging:i}=this,a=n.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(a))},this.handleDragEnd=n=>{let{component:i}=this,{pointer:a}=this.dragging;if(!a.wasTouchScroll){let{initialHit:o,finalHit:s}=this.hitDragging;if(o&&s&&jD(o,s)){let{context:l}=i,c=Object.assign(Object.assign({},Oz(o.dateSpan,l)),{dayEl:o.dayEl,jsEvent:n.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",c)}}},this.dragging=new Zh(e.el),this.dragging.autoScroller.isEnabled=!1;let r=this.hitDragging=new ov(this.dragging,BT(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},Mz=class extends Ec{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:s,dragging:l}=this,{options:c}=s.context,u=c.selectable&&s.isValidDateDownEl(o.origEvent.target);l.setIgnoreMove(!u),l.delay=o.isTouch?Z6e(s):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,s)=>{let{context:l}=this.component,c=null,u=!1;if(o){let d=this.hitDragging.initialHit;o.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,o)||(c=$6e(d,o,l.pluginHooks.dateSelectionTransformers)),(!c||!cz(c,o.dateProfile,l))&&(u=!0,c=null)}c?l.dispatch({type:"SELECT_DATES",selection:c}):s||l.dispatch({type:"UNSELECT_DATES"}),u?b0():w0(),s||(this.dragSelection=c)},this.handlePointerUp=o=>{this.dragSelection&&(bD(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:r}=e,{options:n}=r.context,i=this.dragging=new Zh(e.el);i.touchScrollAllowed=!1,i.minDistance=n.selectMinDistance||0,i.autoScroller.isEnabled=n.dragScroll;let a=this.hitDragging=new ov(this.dragging,BT(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}};QT=class t extends Ec{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let s=o.origEvent.target,{component:l,dragging:c}=this,{mirror:u}=c,{options:d}=l.context,f=l.context;this.subjectEl=o.subjectEl;let h=this.subjectSeg=nf(o.subjectEl),m=(this.eventRange=h.eventRange).instance.instanceId;this.relevantEvents=OT(f.getCurrentData().eventStore,m),c.minDistance=o.isTouch?0:d.eventDragMinDistance,c.delay=o.isTouch&&m!==l.props.eventSelection?K6e(l):null,d.fixedMirrorParent?u.parentNode=d.fixedMirrorParent:u.parentNode=Mi(s,".fc"),u.revertDuration=d.dragRevertDuration;let v=l.isValidSegDownEl(s)&&!Mi(s,".fc-event-resizer");c.setIgnoreMove(!v),this.isDragging=v&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let s=this.component.context,l=this.eventRange,c=l.instance.instanceId;o.isTouch?c!==this.component.props.eventSelection&&s.dispatch({type:"SELECT_EVENT",eventInstanceId:c}):s.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(s.calendarApi.unselect(o),s.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new yn(s,l.def,l.instance),jsEvent:o.origEvent,view:s.viewApi}))},this.handleHitUpdate=(o,s)=>{if(!this.isDragging)return;let l=this.relevantEvents,c=this.hitDragging.initialHit,u=this.component.context,d=null,f=null,h=null,p=!1,m={affectedEvents:l,mutatedEvents:ga(),isEvent:!0};if(o){d=o.context;let v=d.options;u===d||v.editable&&v.droppable?(f=X6e(c,o,this.eventRange.instance.range.start,d.getCurrentData().pluginHooks.eventDragMutationMassagers),f&&(h=FT(l,d.getCurrentData().eventUiBases,f,d),m.mutatedEvents=h,ZT(m,o.dateProfile,d)||(p=!0,f=null,h=null,m.mutatedEvents=ga()))):d=null}this.displayDrag(d,m),p?b0():w0(),s||(u===d&&jD(c,o)&&(f=null),this.dragging.setMirrorNeedsRevert(!f),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=d,this.validMutation=f,this.mutatedRelevantEvents=h)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let s=this.component.context,l=s.viewApi,{receivingContext:c,validMutation:u}=this,d=this.eventRange.def,f=this.eventRange.instance,h=new yn(s,d,f),p=this.relevantEvents,m=this.mutatedRelevantEvents,{finalHit:v}=this.hitDragging;if(this.clearDrag(),s.emitter.trigger("eventDragStop",{el:this.subjectEl,event:h,jsEvent:o.origEvent,view:l}),u){if(c===s){let y=new yn(s,m.defs[d.defId],f?m.instances[f.instanceId]:null);s.dispatch({type:"MERGE_EVENTS",eventStore:m});let b={oldEvent:h,event:y,relatedEvents:Nu(m,s,f),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:p})}},x={};for(let w of s.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(x,w(u,s));s.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},b),x),{el:o.subjectEl,delta:u.datesDelta,jsEvent:o.origEvent,view:l})),s.emitter.trigger("eventChange",b)}else if(c){let y={event:h,relatedEvents:Nu(p,s,f),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:p})}};s.emitter.trigger("eventLeave",Object.assign(Object.assign({},y),{draggedEl:o.subjectEl,view:l})),s.dispatch({type:"REMOVE_EVENTS",eventStore:p}),s.emitter.trigger("eventRemove",y);let b=m.defs[d.defId],x=m.instances[f.instanceId],w=new yn(c,b,x);c.dispatch({type:"MERGE_EVENTS",eventStore:m});let S={event:w,relatedEvents:Nu(m,c,x),revert(){c.dispatch({type:"REMOVE_EVENTS",eventStore:m})}};c.emitter.trigger("eventAdd",S),o.isTouch&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:f.instanceId}),c.emitter.trigger("drop",Object.assign(Object.assign({},Oz(v.dateSpan,c)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:v.context.viewApi})),c.emitter.trigger("eventReceive",Object.assign(Object.assign({},S),{draggedEl:o.subjectEl,view:v.context.viewApi}))}}else s.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:r}=this,{options:n}=r.context,i=this.dragging=new Zh(e.el);i.pointer.selector=t.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=n.dragScroll;let a=this.hitDragging=new ov(this.dragging,nv);a.useSubjectCenter=e.useEventCenter,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,r){let n=this.component.context,i=this.receivingContext;i&&i!==e&&(i===n?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:ga(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:r})}clearDrag(){let e=this.component.context,{receivingContext:r}=this;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),e!==r&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}};QT.SELECTOR=".fc-event-draggable, .fc-event-resizable";Rz=class extends Ec{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let{component:o}=this,s=this.querySegEl(a),l=nf(s),c=this.eventRange=l.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&this.component.props.eventSelection!==c.instance.instanceId)},this.handleDragStart=a=>{let{context:o}=this.component,s=this.eventRange;this.relevantEvents=OT(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(a);this.draggingSegEl=l,this.draggingSeg=nf(l),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:l,event:new yn(o,s.def,s.instance),jsEvent:a.origEvent,view:o.viewApi})},this.handleHitUpdate=(a,o,s)=>{let{context:l}=this.component,c=this.relevantEvents,u=this.hitDragging.initialHit,d=this.eventRange.instance,f=null,h=null,p=!1,m={affectedEvents:c,mutatedEvents:ga(),isEvent:!0};a&&(a.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,a)||(f=Q6e(u,a,s.subjectEl.classList.contains("fc-event-resizer-start"),d.range))),f&&(h=FT(c,l.getCurrentData().eventUiBases,f,l),m.mutatedEvents=h,ZT(m,a.dateProfile,l)||(p=!0,f=null,h=null,m.mutatedEvents=null)),h?l.dispatch({type:"SET_EVENT_RESIZE",state:m}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),p?b0():w0(),o||(f&&jD(u,a)&&(f=null),this.validMutation=f,this.mutatedRelevantEvents=h)},this.handleDragEnd=a=>{let{context:o}=this.component,s=this.eventRange.def,l=this.eventRange.instance,c=new yn(o,s,l),u=this.relevantEvents,d=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:a.origEvent,view:o.viewApi}),this.validMutation){let f=new yn(o,d.defs[s.defId],l?d.instances[l.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:d});let h={oldEvent:c,event:f,relatedEvents:Nu(d,o,l),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:u})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},h),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Dr(0),endDelta:this.validMutation.endDelta||Dr(0),jsEvent:a.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",h)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:r}=e,n=this.dragging=new Zh(e.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=r.context.options.dragScroll;let i=this.hitDragging=new ov(this.dragging,BT(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return Mi(e.subjectEl,".fc-event")}};Iz=class{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=n=>{n.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=n=>{let i=this.context.options.unselectCancel,a=sD(n.origEvent);this.matchesCancel=!!Mi(a,i),this.matchesEvent=!!Mi(a,QT.SELECTOR)},this.onDocumentPointerUp=n=>{let{context:i}=this,{documentPointer:a}=this,o=i.getCurrentData();if(!a.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let s=i.options.unselectAuto;s&&(!s||!this.matchesCancel)&&i.calendarApi.unselect(n)}o.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let r=this.documentPointer=new KT(document);r.shouldIgnoreMove=!0,r.shouldWatchScroll=!1,r.emitter.on("pointerdown",this.onDocumentPointerDown),r.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}},J6e={fixedMirrorParent:Be},ePe={dateClick:Be,eventDragStart:Be,eventDragStop:Be,eventDrop:Be,eventResizeStart:Be,eventResizeStop:Be,eventResize:Be,drop:Be,eventReceive:Be,eventLeave:Be},BD=class{constructor(e,r){this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=i=>{this.dragMeta=this.buildDragMeta(i.subjectEl)},this.handleHitUpdate=(i,a,o)=>{let{dragging:s}=this.hitDragging,l=null,c=null,u=!1,d={affectedEvents:ga(),mutatedEvents:ga(),isEvent:this.dragMeta.create};i&&(l=i.context,this.canDropElOnCalendar(o.subjectEl,l)&&(c=tPe(i.dateSpan,this.dragMeta,l),d.mutatedEvents=Ym(c),u=!ZT(d,i.dateProfile,l),u&&(d.mutatedEvents=ga(),c=null))),this.displayDrag(l,d),s.setMirrorIsVisible(a||!c||!document.querySelector(".fc-event-mirror")),u?b0():w0(),a||(s.setMirrorNeedsRevert(!c),this.receivingContext=l,this.droppableEvent=c)},this.handleDragEnd=i=>{let{receivingContext:a,droppableEvent:o}=this;if(this.clearDrag(),a&&o){let s=this.hitDragging.finalHit,l=s.context.viewApi,c=this.dragMeta;if(a.emitter.trigger("drop",Object.assign(Object.assign({},Oz(s.dateSpan,a)),{draggedEl:i.subjectEl,jsEvent:i.origEvent,view:l})),c.create){let u=Ym(o);a.dispatch({type:"MERGE_EVENTS",eventStore:u}),i.isTouch&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:o.instance.instanceId}),a.emitter.trigger("eventReceive",{event:new yn(a,o.def,o.instance),relatedEvents:[],revert(){a.dispatch({type:"REMOVE_EVENTS",eventStore:u})},draggedEl:i.subjectEl,view:l})}}this.receivingContext=null,this.droppableEvent=null};let n=this.hitDragging=new ov(e,nv);n.requireInitial=!1,n.emitter.on("dragstart",this.handleDragStart),n.emitter.on("hitupdate",this.handleHitUpdate),n.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=r}buildDragMeta(e){return typeof this.suppliedDragMeta=="object"?YT(this.suppliedDragMeta):typeof this.suppliedDragMeta=="function"?YT(this.suppliedDragMeta(e)):rPe(e)}displayDrag(e,r){let n=this.receivingContext;n&&n!==e&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:r})}clearDrag(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})}canDropElOnCalendar(e,r){let n=r.options.dropAccept;return typeof n=="function"?n.call(r.calendarApi,e):typeof n=="string"&&n?!!DT(e,n):!0}};io.dataAttrPrefix="";JT=class{constructor(e,r={}){this.handlePointerDown=i=>{let{dragging:a}=this,{minDistance:o,longPressDelay:s}=this.settings;a.minDistance=o!=null?o:i.isTouch?0:Hl.eventDragMinDistance,a.delay=i.isTouch?s!=null?s:Hl.longPressDelay:0},this.handleDragStart=i=>{i.isTouch&&this.dragging.delay&&i.subjectEl.classList.contains("fc-event")&&this.dragging.mirror.getMirrorEl().classList.add("fc-event-selected")},this.settings=r;let n=this.dragging=new Zh(e);n.touchScrollAllowed=!1,r.itemSelector!=null&&(n.pointer.selector=r.itemSelector),r.appendTo!=null&&(n.mirror.parentNode=r.appendTo),n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragstart",this.handleDragStart),new BD(n,r.eventData)}destroy(){this.dragging.destroy()}},Nz=class extends y0{constructor(e){super(e),this.shouldIgnoreMove=!1,this.mirrorSelector="",this.currentMirrorEl=null,this.handlePointerDown=n=>{this.emitter.trigger("pointerdown",n),this.shouldIgnoreMove||this.emitter.trigger("dragstart",n)},this.handlePointerMove=n=>{this.shouldIgnoreMove||this.emitter.trigger("dragmove",n)},this.handlePointerUp=n=>{this.emitter.trigger("pointerup",n),this.shouldIgnoreMove||this.emitter.trigger("dragend",n)};let r=this.pointer=new KT(e);r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("pointermove",this.handlePointerMove),r.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.pointer.destroy()}setIgnoreMove(e){this.shouldIgnoreMove=e}setMirrorIsVisible(e){if(e)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{let r=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;r&&(this.currentMirrorEl=r,r.style.visibility="hidden")}}},Lz=class{constructor(e,r){let n=document;e===document||e instanceof Element?(n=e,r=r||{}):r=e||{};let i=this.dragging=new Nz(n);typeof r.itemSelector=="string"?i.pointer.selector=r.itemSelector:n===document&&(i.pointer.selector="[data-event]"),typeof r.mirrorSelector=="string"&&(i.mirrorSelector=r.mirrorSelector);let a=new BD(i,r.eventData);a.hitDragging.disablePointCheck=!0}destroy(){this.dragging.destroy()}},iPe=Jn({name:"@fullcalendar/interaction",componentInteractions:[Az,Mz,QT,Rz],calendarInteractions:[Iz],elementDraggingImpl:Zh,optionRefiners:J6e,listenerRefiners:ePe})});var Rte=Re(()=>{});var Ite,lf,sv,zz=Re(()=>{"use strict";Ite=require("obsidian");Pz();Rte();lf="tasks-backlog-view",sv=class extends Ite.ItemView{constructor(r,n){super(r);this.tasksProvider=null;this.undatedTasks=[];this.displayedTasks=[];this.TASKS_PER_PAGE=200;this.currentPage=1;this.draggable=null;this.plugin=n}getViewType(){return lf}getDisplayText(){return"Tasks backlog"}getIcon(){return"list-todo"}onOpen(){return ye(this,null,function*(){if(this.tasksProvider=this.findTasksProvider(),!this.tasksProvider){this.renderNoTasksProvider();return}yield this.loadTasks(),this.render()})}onClose(){return this.draggable&&this.draggable.destroy(),Promise.resolve()}findTasksProvider(){for(let r of this.plugin.providerRegistry.getActiveProviders())if(r.type==="tasks")return r;return null}loadTasks(){return ye(this,null,function*(){if(this.tasksProvider)try{this.undatedTasks=yield this.tasksProvider.getUndatedTasks(),this.updateDisplayedTasks()}catch(r){console.error("Failed to load undated tasks:",r),this.undatedTasks=[],this.displayedTasks=[]}})}updateDisplayedTasks(){let r=(this.currentPage-1)*this.TASKS_PER_PAGE,n=r+this.TASKS_PER_PAGE;this.displayedTasks=this.undatedTasks.slice(r,n)}renderNoTasksProvider(){let r=this.containerEl;r.empty(),r.createEl("div",{text:"No tasks calendar configured.",attr:{class:"tasks-backlog-empty"}}),r.createEl("div",{text:"Add a tasks calendar source to use the backlog view.",attr:{class:"tasks-backlog-help"}})}render(){let r=this.containerEl;r.empty(),r.addClass("tasks-backlog-view");let n=r.createEl("div",{cls:"tasks-backlog-header"});n.createEl("h3",{text:"Tasks backlog"}),this.undatedTasks.length>0&&n.createEl("div",{text:`${this.undatedTasks.length} undated tasks`,cls:"tasks-backlog-count"}),this.displayedTasks.length===0?this.renderEmptyState(r):(this.renderTasksList(r),this.renderPaginationControls(r))}renderEmptyState(r){let n=r.createEl("div",{cls:"tasks-backlog-empty"});n.createEl("div",{text:"No undated tasks found."}),n.createEl("div",{text:"Tasks without due dates will appear here.",cls:"tasks-backlog-help"})}renderTasksList(r){let n=r.createEl("div",{cls:"tasks-backlog-list"});for(let i of this.displayedTasks){let a=n.createEl("div",{cls:"tasks-backlog-item",attr:{draggable:"true","data-task-id":`${i.location.path}::${i.location.lineNumber}`}}),o=a.createEl("input",{cls:"tasks-backlog-checkbox",attr:{type:"checkbox"}});o.checked=i.isDone,o.disabled=!0;let s=a.createEl("span",{text:i.title,cls:"tasks-backlog-title"});i.isDone&&s.addClass("tasks-backlog-done"),a.createEl("div",{text:`${i.location.path}:${i.location.lineNumber}`,cls:"tasks-backlog-location"})}this.draggable&&this.draggable.destroy(),this.draggable=new JT(n,{itemSelector:".tasks-backlog-item"})}renderPaginationControls(r){let n=Math.ceil(this.undatedTasks.length/this.TASKS_PER_PAGE);if(n<=1)return;let i=r.createEl("div",{cls:"tasks-backlog-pagination"}),a=i.createEl("button",{text:"\u2190 previous",cls:"tasks-backlog-nav-btn"});a.disabled=this.currentPage===1,a.addEventListener("click",()=>this.goToPreviousPage()),i.createEl("span",{text:`Page ${this.currentPage} of ${n}`,cls:"tasks-backlog-page-info"});let o=i.createEl("button",{text:"Next \u2192",cls:"tasks-backlog-nav-btn"});o.disabled=this.currentPage===n,o.addEventListener("click",()=>this.goToNextPage()),this.currentPage<n&&i.createEl("button",{text:`Load More (${Math.min(this.TASKS_PER_PAGE,this.undatedTasks.length-this.currentPage*this.TASKS_PER_PAGE)} more)`,cls:"tasks-backlog-load-more"}).addEventListener("click",()=>this.loadMore())}goToPreviousPage(){this.currentPage>1&&(this.currentPage--,this.updateDisplayedTasks(),this.render())}goToNextPage(){let r=Math.ceil(this.undatedTasks.length/this.TASKS_PER_PAGE);this.currentPage<r&&(this.currentPage++,this.updateDisplayedTasks(),this.render())}loadMore(){let r=this.currentPage*this.TASKS_PER_PAGE+this.TASKS_PER_PAGE;this.displayedTasks=this.undatedTasks.slice(0,r),this.render()}refresh(){return ye(this,null,function*(){yield this.loadTasks(),this.render()})}}});function aPe(t){let e=getComputedStyle(document.body).getPropertyValue("--text-on-accent");if(t){let r=t.slice(1).match(t.length==7?/(\S{2})/g:/(\S{1})/g);if(r){let n=parseInt(r[0],16),i=parseInt(r[1],16),a=parseInt(r[2],16);(n*299+i*587+a*114)/1e3>150&&(e="black")}}return{color:t||getComputedStyle(document.body).getPropertyValue("--interactive-accent"),textColor:e}}var Nte,VD,Lte=Re(()=>{"use strict";WD();Nte=require("obsidian");VD=class{constructor(e){this.settings=e}updateSettings(e){this.settings=e}getActiveWorkspace(){return this.settings.activeWorkspace&&this.settings.workspaces.find(e=>e.id===this.settings.activeWorkspace)||null}getCalendarConfig(){var n,i,a,o;let e=this.getActiveWorkspace();if(!e)return this.settings;let r=ae({},this.settings);return((n=e.defaultView)!=null&&n.desktop||(i=e.defaultView)!=null&&i.mobile)&&(r.initialView={desktop:e.defaultView.desktop||((a=this.settings.initialView)==null?void 0:a.desktop),mobile:e.defaultView.mobile||((o=this.settings.initialView)==null?void 0:o.mobile)}),e.businessHours!==void 0&&(r.businessHours=e.businessHours),e.slotMinTime!==void 0&&(r.slotMinTime=e.slotMinTime),e.slotMaxTime!==void 0&&(r.slotMaxTime=e.slotMaxTime),e.weekends!==void 0&&(r.weekends=e.weekends),e.hiddenDays!==void 0&&(r.hiddenDays=e.hiddenDays),e.dayMaxEvents!==void 0&&(r.dayMaxEvents=e.dayMaxEvents),r}filterCalendarSources(e){var o;let r=this.getActiveWorkspace();if(!r)return e;let n=((o=r.visibleCalendars)!=null?o:[]).map(String);if(n.length===0)return e;let i=new Set(n),a=e.filter(s=>i.has(String(s.id)));return a.length===0&&n.length>0&&new Nte.Notice("The active workspace is filtering for calendars that are not available. Check workspace settings.",5e3),a}filterEventsByCategory(e){var o,s;if(!this.settings.enableAdvancedCategorization)return e;let r=this.getActiveWorkspace();if(!(r!=null&&r.categoryFilter))return e;let{mode:n,categories:i}=r.categoryFilter;if(n==="show-only"&&i.length===0)return e;let a=new Set((s=(o=this.settings.categorySettings)==null?void 0:o.map(l=>l.name))!=null?s:[]);return e.filter(l=>{var h;let c=l.extendedProps,d=(c==null?void 0:c.category)||((h=c==null?void 0:c.originalEvent)==null?void 0:h.category);if(!d&&typeof l.resourceId=="string"){let p=l.resourceId;(p.includes("::")||a.has(p))&&(d=p)}if(!d)return n==="hide";let f=d.includes("::")?d.split("::")[0]:d;return n==="show-only"?i.includes(f):!i.includes(f)})}getFilteredEventSources(e){return this.filterCalendarSources(e).map(({events:i,editable:a,color:o,id:s})=>{let l=i.map(u=>I0(u.id,u.event,this.settings)).filter(u=>!!u),c=this.filterEventsByCategory(l);return ae({id:s,events:c,editable:a},aPe(o))})}}});var GD,Ote=Re(()=>{"use strict";Lte();GD=class{constructor(e){this.settings=e,this.workspaceManager=new VD(e)}updateSettings(e){this.settings=e,this.workspaceManager.updateSettings(e)}getEnhancedData(e){let r=this.workspaceManager.getFilteredEventSources(e),n=this.workspaceManager.getCalendarConfig();return{sources:r,config:n}}getFilteredSources(e){return this.workspaceManager.filterCalendarSources(e)}getActiveWorkspace(){return this.workspaceManager.getActiveWorkspace()}}});var YD,$h,Fz=Re(()=>{YD=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],$h={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(t){return typeof console!="undefined"&&console.warn(t)},getWeek:function(t){var e=new Date(t.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var r=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-r.getTime())/864e5-3+(r.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1}});var ZD,$D,Hz=Re(()=>{ZD={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(t){var e=t%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},$D=ZD});function qz(t,e){var r;return function(){var n=this,i=arguments;clearTimeout(r),r=setTimeout(function(){return t.apply(n,i)},e)}}var _o,ls,XD,Uz=Re(()=>{_o=function(t,e){return e===void 0&&(e=2),("000"+t).slice(e*-1)},ls=function(t){return t===!0?1:0};XD=function(t){return t instanceof Array?t:[t]}});function Co(t,e,r){if(r===!0)return t.classList.add(e);t.classList.remove(e)}function Sn(t,e,r){var n=window.document.createElement(t);return e=e||"",r=r||"",n.className=e,r!==void 0&&(n.textContent=r),n}function eS(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Bz(t,e){if(e(t))return t;if(t.parentNode)return Bz(t.parentNode,e)}function tS(t,e){var r=Sn("div","numInputWrapper"),n=Sn("input","numInput "+t),i=Sn("span","arrowUp"),a=Sn("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?n.type="number":(n.type="text",n.pattern="\\d*"),e!==void 0)for(var o in e)n.setAttribute(o,e[o]);return r.appendChild(n),r.appendChild(i),r.appendChild(a),r}function cs(t){try{if(typeof t.composedPath=="function"){var e=t.composedPath();return e[0]}return t.target}catch(r){return t.target}}var Pte=Re(()=>{});var jz,rS,zte,cf,N0,Vz=Re(()=>{Uz();jz=function(){},rS=function(t,e,r){return r.months[e?"shorthand":"longhand"][t]},zte={D:jz,F:function(t,e,r){t.setMonth(r.months.longhand.indexOf(e))},G:function(t,e){t.setHours((t.getHours()>=12?12:0)+parseFloat(e))},H:function(t,e){t.setHours(parseFloat(e))},J:function(t,e){t.setDate(parseFloat(e))},K:function(t,e,r){t.setHours(t.getHours()%12+12*ls(new RegExp(r.amPM[1],"i").test(e)))},M:function(t,e,r){t.setMonth(r.months.shorthand.indexOf(e))},S:function(t,e){t.setSeconds(parseFloat(e))},U:function(t,e){return new Date(parseFloat(e)*1e3)},W:function(t,e,r){var n=parseInt(e),i=new Date(t.getFullYear(),0,2+(n-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+r.firstDayOfWeek),i},Y:function(t,e){t.setFullYear(parseFloat(e))},Z:function(t,e){return new Date(e)},d:function(t,e){t.setDate(parseFloat(e))},h:function(t,e){t.setHours((t.getHours()>=12?12:0)+parseFloat(e))},i:function(t,e){t.setMinutes(parseFloat(e))},j:function(t,e){t.setDate(parseFloat(e))},l:jz,m:function(t,e){t.setMonth(parseFloat(e)-1)},n:function(t,e){t.setMonth(parseFloat(e)-1)},s:function(t,e){t.setSeconds(parseFloat(e))},u:function(t,e){return new Date(parseFloat(e))},w:jz,y:function(t,e){t.setFullYear(2e3+parseFloat(e))}},cf={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},N0={Z:function(t){return t.toISOString()},D:function(t,e,r){return e.weekdays.shorthand[N0.w(t,e,r)]},F:function(t,e,r){return rS(N0.n(t,e,r)-1,!1,e)},G:function(t,e,r){return _o(N0.h(t,e,r))},H:function(t){return _o(t.getHours())},J:function(t,e){return e.ordinal!==void 0?t.getDate()+e.ordinal(t.getDate()):t.getDate()},K:function(t,e){return e.amPM[ls(t.getHours()>11)]},M:function(t,e){return rS(t.getMonth(),!0,e)},S:function(t){return _o(t.getSeconds())},U:function(t){return t.getTime()/1e3},W:function(t,e,r){return r.getWeek(t)},Y:function(t){return _o(t.getFullYear(),4)},d:function(t){return _o(t.getDate())},h:function(t){return t.getHours()%12?t.getHours()%12:12},i:function(t){return _o(t.getMinutes())},j:function(t){return t.getDate()},l:function(t,e){return e.weekdays.longhand[t.getDay()]},m:function(t){return _o(t.getMonth()+1)},n:function(t){return t.getMonth()+1},s:function(t){return t.getSeconds()},u:function(t){return t.getTime()},w:function(t){return t.getDay()},y:function(t){return String(t.getFullYear()).substring(2)}}});function us(t,e,r){return r===void 0&&(r=!0),r!==!1?new Date(t.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):t.getTime()-e.getTime()}function JD(t){var e=t.defaultHour,r=t.defaultMinute,n=t.defaultSeconds;if(t.minDate!==void 0){var i=t.minDate.getHours(),a=t.minDate.getMinutes(),o=t.minDate.getSeconds();e<i&&(e=i),e===i&&r<a&&(r=a),e===i&&r===a&&n<o&&(n=t.minDate.getSeconds())}if(t.maxDate!==void 0){var s=t.maxDate.getHours(),l=t.maxDate.getMinutes();e=Math.min(e,s),e===s&&(r=Math.min(l,r)),e===s&&r===l&&(n=t.maxDate.getSeconds())}return{hours:e,minutes:r,seconds:n}}var Wz,KD,Fte,QD,Hte,qte,Ute=Re(()=>{Vz();Fz();Hz();Wz=function(t){var e=t.config,r=e===void 0?$h:e,n=t.l10n,i=n===void 0?ZD:n,a=t.isMobile,o=a===void 0?!1:a;return function(s,l,c){var u=c||i;return r.formatDate!==void 0&&!o?r.formatDate(s,l,u):l.split("").map(function(d,f,h){return N0[d]&&h[f-1]!=="\\"?N0[d](s,u,r):d!=="\\"?d:""}).join("")}},KD=function(t){var e=t.config,r=e===void 0?$h:e,n=t.l10n,i=n===void 0?ZD:n;return function(a,o,s,l){if(!(a!==0&&!a)){var c=l||i,u,d=a;if(a instanceof Date)u=new Date(a.getTime());else if(typeof a!="string"&&a.toFixed!==void 0)u=new Date(a);else if(typeof a=="string"){var f=o||(r||$h).dateFormat,h=String(a).trim();if(h==="today")u=new Date,s=!0;else if(r&&r.parseDate)u=r.parseDate(a,f);else if(/Z$/.test(h)||/GMT$/.test(h))u=new Date(a);else{for(var p=void 0,m=[],v=0,y=0,b="";v<f.length;v++){var x=f[v],w=x==="\\",S=f[v-1]==="\\"||w;if(cf[x]&&!S){b+=cf[x];var _=new RegExp(b).exec(a);_&&(p=!0)&&m[x!=="Y"?"push":"unshift"]({fn:zte[x],val:_[++y]})}else w||(b+=".")}u=!r||!r.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),m.forEach(function(C){var E=C.fn,M=C.val;return u=E(u,M,c)||u}),u=p?u:void 0}}if(!(u instanceof Date&&!isNaN(u.getTime()))){r.errorHandler(new Error("Invalid date provided: "+d));return}return s===!0&&u.setHours(0,0,0,0),u}}};Fte=function(t,e,r){return t>Math.min(e,r)&&t<Math.max(e,r)},QD=function(t,e,r){return t*3600+e*60+r},Hte=function(t){var e=Math.floor(t/3600),r=(t-e*3600)/60;return[e,r,t-e*3600-r*60]},qte={DAY:864e5}});var Bte=Re(()=>{"use strict";typeof Object.assign!="function"&&(Object.assign=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(!t)throw TypeError("Cannot convert undefined or null to object");for(var n=function(s){s&&Object.keys(s).forEach(function(l){return t[l]=s[l]})},i=0,a=e;i<a.length;i++){var o=a[i];n(o)}return t})});function sPe(t,e){var r={config:ko(ko({},$h),ra.defaultConfig),l10n:$D};r.parseDate=KD({config:r.config,l10n:r.l10n}),r._handlers=[],r.pluginElements=[],r.loadedPlugins=[],r._bind=m,r._setHoursFromDate=f,r._positionCalendar=$e,r.changeMonth=te,r.changeYear=X,r.clear=he,r.close=we,r.onMouseOver=_e,r._createElement=Sn,r.createDay=_,r.destroy=Te,r.isEnabled=G,r.jumpToDate=b,r.updateValue=Ye,r.open=Ce,r.redraw=nt,r.set=at,r.setDate=Ne,r.toggle=ct;function n(){r.utils={getDaysInMonth:function(P,z){return P===void 0&&(P=r.currentMonth),z===void 0&&(z=r.currentYear),P===1&&(z%4===0&&z%100!==0||z%400===0)?29:r.l10n.daysInMonth[P]}}}function i(){r.element=r.input=t,r.isOpen=!1,qe(),ot(),ht(),St(),n(),r.isMobile||S(),y(),(r.selectedDates.length||r.config.noCalendar)&&(r.config.enableTime&&f(r.config.noCalendar?r.latestSelectedDateObj:void 0),Ye(!1)),s();var P=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!r.isMobile&&P&&$e(),rt("onReady")}function a(){var P;return((P=r.calendarContainer)===null||P===void 0?void 0:P.getRootNode()).activeElement||document.activeElement}function o(P){return P.bind(r)}function s(){var P=r.config;P.weekNumbers===!1&&P.showMonths===1||P.noCalendar!==!0&&window.requestAnimationFrame(function(){if(r.calendarContainer!==void 0&&(r.calendarContainer.style.visibility="hidden",r.calendarContainer.style.display="block"),r.daysContainer!==void 0){var z=(r.days.offsetWidth+1)*P.showMonths;r.daysContainer.style.width=z+"px",r.calendarContainer.style.width=z+(r.weekWrapper!==void 0?r.weekWrapper.offsetWidth:0)+"px",r.calendarContainer.style.removeProperty("visibility"),r.calendarContainer.style.removeProperty("display")}})}function l(P){if(r.selectedDates.length===0){var z=r.config.minDate===void 0||us(new Date,r.config.minDate)>=0?new Date:new Date(r.config.minDate.getTime()),Q=JD(r.config);z.setHours(Q.hours,Q.minutes,Q.seconds,z.getMilliseconds()),r.selectedDates=[z],r.latestSelectedDateObj=z}P!==void 0&&P.type!=="blur"&&ut(P);var le=r._input.value;d(),Ye(),r._input.value!==le&&r._debouncedChange()}function c(P,z){return P%12+12*ls(z===r.l10n.amPM[1])}function u(P){switch(P%24){case 0:case 12:return 12;default:return P%12}}function d(){if(!(r.hourElement===void 0||r.minuteElement===void 0)){var P=(parseInt(r.hourElement.value.slice(-2),10)||0)%24,z=(parseInt(r.minuteElement.value,10)||0)%60,Q=r.secondElement!==void 0?(parseInt(r.secondElement.value,10)||0)%60:0;r.amPM!==void 0&&(P=c(P,r.amPM.textContent));var le=r.config.minTime!==void 0||r.config.minDate&&r.minDateHasTime&&r.latestSelectedDateObj&&us(r.latestSelectedDateObj,r.config.minDate,!0)===0,V=r.config.maxTime!==void 0||r.config.maxDate&&r.maxDateHasTime&&r.latestSelectedDateObj&&us(r.latestSelectedDateObj,r.config.maxDate,!0)===0;if(r.config.maxTime!==void 0&&r.config.minTime!==void 0&&r.config.minTime>r.config.maxTime){var oe=QD(r.config.minTime.getHours(),r.config.minTime.getMinutes(),r.config.minTime.getSeconds()),be=QD(r.config.maxTime.getHours(),r.config.maxTime.getMinutes(),r.config.maxTime.getSeconds()),xe=QD(P,z,Q);if(xe>be&&xe<oe){var Ge=Hte(oe);P=Ge[0],z=Ge[1],Q=Ge[2]}}else{if(V){var Ie=r.config.maxTime!==void 0?r.config.maxTime:r.config.maxDate;P=Math.min(P,Ie.getHours()),P===Ie.getHours()&&(z=Math.min(z,Ie.getMinutes())),z===Ie.getMinutes()&&(Q=Math.min(Q,Ie.getSeconds()))}if(le){var tt=r.config.minTime!==void 0?r.config.minTime:r.config.minDate;P=Math.max(P,tt.getHours()),P===tt.getHours()&&z<tt.getMinutes()&&(z=tt.getMinutes()),z===tt.getMinutes()&&(Q=Math.max(Q,tt.getSeconds()))}}h(P,z,Q)}}function f(P){var z=P||r.latestSelectedDateObj;z&&z instanceof Date&&h(z.getHours(),z.getMinutes(),z.getSeconds())}function h(P,z,Q){r.latestSelectedDateObj!==void 0&&r.latestSelectedDateObj.setHours(P%24,z,Q||0,0),!(!r.hourElement||!r.minuteElement||r.isMobile)&&(r.hourElement.value=_o(r.config.time_24hr?P:(12+P)%12+12*ls(P%12===0)),r.minuteElement.value=_o(z),r.amPM!==void 0&&(r.amPM.textContent=r.l10n.amPM[ls(P>=12)]),r.secondElement!==void 0&&(r.secondElement.value=_o(Q)))}function p(P){var z=cs(P),Q=parseInt(z.value)+(P.delta||0);(Q/1e3>1||P.key==="Enter"&&!/[^\d]/.test(Q.toString()))&&X(Q)}function m(P,z,Q,le){if(z instanceof Array)return z.forEach(function(V){return m(P,V,Q,le)});if(P instanceof Array)return P.forEach(function(V){return m(V,z,Q,le)});P.addEventListener(z,Q,le),r._handlers.push({remove:function(){return P.removeEventListener(z,Q,le)}})}function v(){rt("onChange")}function y(){if(r.config.wrap&&["open","close","toggle","clear"].forEach(function(Q){Array.prototype.forEach.call(r.element.querySelectorAll("[data-"+Q+"]"),function(le){return m(le,"click",r[Q])})}),r.isMobile){Ue();return}var P=qz(Oe,50);if(r._debouncedChange=qz(v,oPe),r.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&m(r.daysContainer,"mouseover",function(Q){r.config.mode==="range"&&_e(cs(Q))}),m(r._input,"keydown",fe),r.calendarContainer!==void 0&&m(r.calendarContainer,"keydown",fe),!r.config.inline&&!r.config.static&&m(window,"resize",P),window.ontouchstart!==void 0?m(window.document,"touchstart",q):m(window.document,"mousedown",q),m(window.document,"focus",q,{capture:!0}),r.config.clickOpens===!0&&(m(r._input,"focus",r.open),m(r._input,"click",r.open)),r.daysContainer!==void 0&&(m(r.monthNav,"click",bt),m(r.monthNav,["keyup","increment"],p),m(r.daysContainer,"click",Ae)),r.timeContainer!==void 0&&r.minuteElement!==void 0&&r.hourElement!==void 0){var z=function(Q){return cs(Q).select()};m(r.timeContainer,["increment"],l),m(r.timeContainer,"blur",l,{capture:!0}),m(r.timeContainer,"click",x),m([r.hourElement,r.minuteElement],["focus","click"],z),r.secondElement!==void 0&&m(r.secondElement,"focus",function(){return r.secondElement&&r.secondElement.select()}),r.amPM!==void 0&&m(r.amPM,"click",function(Q){l(Q)})}r.config.allowInput&&m(r._input,"blur",ue)}function b(P,z){var Q=P!==void 0?r.parseDate(P):r.latestSelectedDateObj||(r.config.minDate&&r.config.minDate>r.now?r.config.minDate:r.config.maxDate&&r.config.maxDate<r.now?r.config.maxDate:r.now),le=r.currentYear,V=r.currentMonth;try{Q!==void 0&&(r.currentYear=Q.getFullYear(),r.currentMonth=Q.getMonth())}catch(oe){oe.message="Invalid date supplied: "+Q,r.config.errorHandler(oe)}z&&r.currentYear!==le&&(rt("onYearChange"),H()),z&&(r.currentYear!==le||r.currentMonth!==V)&&rt("onMonthChange"),r.redraw()}function x(P){var z=cs(P);~z.className.indexOf("arrow")&&w(P,z.classList.contains("arrowUp")?1:-1)}function w(P,z,Q){var le=P&&cs(P),V=Q||le&&le.parentNode&&le.parentNode.firstChild,oe=lt("increment");oe.delta=z,V&&V.dispatchEvent(oe)}function S(){var P=window.document.createDocumentFragment();if(r.calendarContainer=Sn("div","flatpickr-calendar"),r.calendarContainer.tabIndex=-1,!r.config.noCalendar){if(P.appendChild(N()),r.innerContainer=Sn("div","flatpickr-innerContainer"),r.config.weekNumbers){var z=ee(),Q=z.weekWrapper,le=z.weekNumbers;r.innerContainer.appendChild(Q),r.weekNumbers=le,r.weekWrapper=Q}r.rContainer=Sn("div","flatpickr-rContainer"),r.rContainer.appendChild(B()),r.daysContainer||(r.daysContainer=Sn("div","flatpickr-days"),r.daysContainer.tabIndex=-1),O(),r.rContainer.appendChild(r.daysContainer),r.innerContainer.appendChild(r.rContainer),P.appendChild(r.innerContainer)}r.config.enableTime&&P.appendChild(U()),Co(r.calendarContainer,"rangeMode",r.config.mode==="range"),Co(r.calendarContainer,"animate",r.config.animate===!0),Co(r.calendarContainer,"multiMonth",r.config.showMonths>1),r.calendarContainer.appendChild(P);var V=r.config.appendTo!==void 0&&r.config.appendTo.nodeType!==void 0;if((r.config.inline||r.config.static)&&(r.calendarContainer.classList.add(r.config.inline?"inline":"static"),r.config.inline&&(!V&&r.element.parentNode?r.element.parentNode.insertBefore(r.calendarContainer,r._input.nextSibling):r.config.appendTo!==void 0&&r.config.appendTo.appendChild(r.calendarContainer)),r.config.static)){var oe=Sn("div","flatpickr-wrapper");r.element.parentNode&&r.element.parentNode.insertBefore(oe,r.element),oe.appendChild(r.element),r.altInput&&oe.appendChild(r.altInput),oe.appendChild(r.calendarContainer)}!r.config.static&&!r.config.inline&&(r.config.appendTo!==void 0?r.config.appendTo:window.document.body).appendChild(r.calendarContainer)}function _(P,z,Q,le){var V=G(z,!0),oe=Sn("span",P,z.getDate().toString());return oe.dateObj=z,oe.$i=le,oe.setAttribute("aria-label",r.formatDate(z,r.config.ariaDateFormat)),P.indexOf("hidden")===-1&&us(z,r.now)===0&&(r.todayDateElem=oe,oe.classList.add("today"),oe.setAttribute("aria-current","date")),V?(oe.tabIndex=-1,st(z)&&(oe.classList.add("selected"),r.selectedDateElem=oe,r.config.mode==="range"&&(Co(oe,"startRange",r.selectedDates[0]&&us(z,r.selectedDates[0],!0)===0),Co(oe,"endRange",r.selectedDates[1]&&us(z,r.selectedDates[1],!0)===0),P==="nextMonthDay"&&oe.classList.add("inRange")))):oe.classList.add("flatpickr-disabled"),r.config.mode==="range"&&mt(z)&&!st(z)&&oe.classList.add("inRange"),r.weekNumbers&&r.config.showMonths===1&&P!=="prevMonthDay"&&le%7===6&&r.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+r.config.getWeek(z)+"</span>"),rt("onDayCreate",oe),oe}function C(P){P.focus(),r.config.mode==="range"&&_e(P)}function E(P){for(var z=P>0?0:r.config.showMonths-1,Q=P>0?r.config.showMonths:-1,le=z;le!=Q;le+=P)for(var V=r.daysContainer.children[le],oe=P>0?0:V.children.length-1,be=P>0?V.children.length:-1,xe=oe;xe!=be;xe+=P){var Ge=V.children[xe];if(Ge.className.indexOf("hidden")===-1&&G(Ge.dateObj))return Ge}}function M(P,z){for(var Q=P.className.indexOf("Month")===-1?P.dateObj.getMonth():r.currentMonth,le=z>0?r.config.showMonths:-1,V=z>0?1:-1,oe=Q-r.currentMonth;oe!=le;oe+=V)for(var be=r.daysContainer.children[oe],xe=Q-r.currentMonth===oe?P.$i+z:z<0?be.children.length-1:0,Ge=be.children.length,Ie=xe;Ie>=0&&Ie<Ge&&Ie!=(z>0?Ge:-1);Ie+=V){var tt=be.children[Ie];if(tt.className.indexOf("hidden")===-1&&G(tt.dateObj)&&Math.abs(P.$i-Ie)>=Math.abs(z))return C(tt)}r.changeMonth(V),I(E(V),0)}function I(P,z){var Q=a(),le=de(Q||document.body),V=P!==void 0?P:le?Q:r.selectedDateElem!==void 0&&de(r.selectedDateElem)?r.selectedDateElem:r.todayDateElem!==void 0&&de(r.todayDateElem)?r.todayDateElem:E(z>0?1:-1);V===void 0?r._input.focus():le?M(V,z):C(V)}function L(P,z){for(var Q=(new Date(P,z,1).getDay()-r.l10n.firstDayOfWeek+7)%7,le=r.utils.getDaysInMonth((z-1+12)%12,P),V=r.utils.getDaysInMonth(z,P),oe=window.document.createDocumentFragment(),be=r.config.showMonths>1,xe=be?"prevMonthDay hidden":"prevMonthDay",Ge=be?"nextMonthDay hidden":"nextMonthDay",Ie=le+1-Q,tt=0;Ie<=le;Ie++,tt++)oe.appendChild(_("flatpickr-day "+xe,new Date(P,z-1,Ie),Ie,tt));for(Ie=1;Ie<=V;Ie++,tt++)oe.appendChild(_("flatpickr-day",new Date(P,z,Ie),Ie,tt));for(var vt=V+1;vt<=42-Q&&(r.config.showMonths===1||tt%7!==0);vt++,tt++)oe.appendChild(_("flatpickr-day "+Ge,new Date(P,z+1,vt%V),vt,tt));var Ze=Sn("div","dayContainer");return Ze.appendChild(oe),Ze}function O(){if(r.daysContainer!==void 0){eS(r.daysContainer),r.weekNumbers&&eS(r.weekNumbers);for(var P=document.createDocumentFragment(),z=0;z<r.config.showMonths;z++){var Q=new Date(r.currentYear,r.currentMonth,1);Q.setMonth(r.currentMonth+z),P.appendChild(L(Q.getFullYear(),Q.getMonth()))}r.daysContainer.appendChild(P),r.days=r.daysContainer.firstChild,r.config.mode==="range"&&r.selectedDates.length===1&&_e()}}function H(){if(!(r.config.showMonths>1||r.config.monthSelectorType!=="dropdown")){var P=function(le){return r.config.minDate!==void 0&&r.currentYear===r.config.minDate.getFullYear()&&le<r.config.minDate.getMonth()?!1:!(r.config.maxDate!==void 0&&r.currentYear===r.config.maxDate.getFullYear()&&le>r.config.maxDate.getMonth())};r.monthsDropdownContainer.tabIndex=-1,r.monthsDropdownContainer.innerHTML="";for(var z=0;z<12;z++)if(P(z)){var Q=Sn("option","flatpickr-monthDropdown-month");Q.value=new Date(r.currentYear,z).getMonth().toString(),Q.textContent=rS(z,r.config.shorthandCurrentMonth,r.l10n),Q.tabIndex=-1,r.currentMonth===z&&(Q.selected=!0),r.monthsDropdownContainer.appendChild(Q)}}}function Y(){var P=Sn("div","flatpickr-month"),z=window.document.createDocumentFragment(),Q;r.config.showMonths>1||r.config.monthSelectorType==="static"?Q=Sn("span","cur-month"):(r.monthsDropdownContainer=Sn("select","flatpickr-monthDropdown-months"),r.monthsDropdownContainer.setAttribute("aria-label",r.l10n.monthAriaLabel),m(r.monthsDropdownContainer,"change",function(be){var xe=cs(be),Ge=parseInt(xe.value,10);r.changeMonth(Ge-r.currentMonth),rt("onMonthChange")}),H(),Q=r.monthsDropdownContainer);var le=tS("cur-year",{tabindex:"-1"}),V=le.getElementsByTagName("input")[0];V.setAttribute("aria-label",r.l10n.yearAriaLabel),r.config.minDate&&V.setAttribute("min",r.config.minDate.getFullYear().toString()),r.config.maxDate&&(V.setAttribute("max",r.config.maxDate.getFullYear().toString()),V.disabled=!!r.config.minDate&&r.config.minDate.getFullYear()===r.config.maxDate.getFullYear());var oe=Sn("div","flatpickr-current-month");return oe.appendChild(Q),oe.appendChild(le),z.appendChild(oe),P.appendChild(z),{container:P,yearElement:V,monthElement:Q}}function K(){eS(r.monthNav),r.monthNav.appendChild(r.prevMonthNav),r.config.showMonths&&(r.yearElements=[],r.monthElements=[]);for(var P=r.config.showMonths;P--;){var z=Y();r.yearElements.push(z.yearElement),r.monthElements.push(z.monthElement),r.monthNav.appendChild(z.container)}r.monthNav.appendChild(r.nextMonthNav)}function N(){return r.monthNav=Sn("div","flatpickr-months"),r.yearElements=[],r.monthElements=[],r.prevMonthNav=Sn("span","flatpickr-prev-month"),r.prevMonthNav.innerHTML=r.config.prevArrow,r.nextMonthNav=Sn("span","flatpickr-next-month"),r.nextMonthNav.innerHTML=r.config.nextArrow,K(),Object.defineProperty(r,"_hidePrevMonthArrow",{get:function(){return r.__hidePrevMonthArrow},set:function(P){r.__hidePrevMonthArrow!==P&&(Co(r.prevMonthNav,"flatpickr-disabled",P),r.__hidePrevMonthArrow=P)}}),Object.defineProperty(r,"_hideNextMonthArrow",{get:function(){return r.__hideNextMonthArrow},set:function(P){r.__hideNextMonthArrow!==P&&(Co(r.nextMonthNav,"flatpickr-disabled",P),r.__hideNextMonthArrow=P)}}),r.currentYearElement=r.yearElements[0],kt(),r.monthNav}function U(){r.calendarContainer.classList.add("hasTime"),r.config.noCalendar&&r.calendarContainer.classList.add("noCalendar");var P=JD(r.config);r.timeContainer=Sn("div","flatpickr-time"),r.timeContainer.tabIndex=-1;var z=Sn("span","flatpickr-time-separator",":"),Q=tS("flatpickr-hour",{"aria-label":r.l10n.hourAriaLabel});r.hourElement=Q.getElementsByTagName("input")[0];var le=tS("flatpickr-minute",{"aria-label":r.l10n.minuteAriaLabel});if(r.minuteElement=le.getElementsByTagName("input")[0],r.hourElement.tabIndex=r.minuteElement.tabIndex=-1,r.hourElement.value=_o(r.latestSelectedDateObj?r.latestSelectedDateObj.getHours():r.config.time_24hr?P.hours:u(P.hours)),r.minuteElement.value=_o(r.latestSelectedDateObj?r.latestSelectedDateObj.getMinutes():P.minutes),r.hourElement.setAttribute("step",r.config.hourIncrement.toString()),r.minuteElement.setAttribute("step",r.config.minuteIncrement.toString()),r.hourElement.setAttribute("min",r.config.time_24hr?"0":"1"),r.hourElement.setAttribute("max",r.config.time_24hr?"23":"12"),r.hourElement.setAttribute("maxlength","2"),r.minuteElement.setAttribute("min","0"),r.minuteElement.setAttribute("max","59"),r.minuteElement.setAttribute("maxlength","2"),r.timeContainer.appendChild(Q),r.timeContainer.appendChild(z),r.timeContainer.appendChild(le),r.config.time_24hr&&r.timeContainer.classList.add("time24hr"),r.config.enableSeconds){r.timeContainer.classList.add("hasSeconds");var V=tS("flatpickr-second");r.secondElement=V.getElementsByTagName("input")[0],r.secondElement.value=_o(r.latestSelectedDateObj?r.latestSelectedDateObj.getSeconds():P.seconds),r.secondElement.setAttribute("step",r.minuteElement.getAttribute("step")),r.secondElement.setAttribute("min","0"),r.secondElement.setAttribute("max","59"),r.secondElement.setAttribute("maxlength","2"),r.timeContainer.appendChild(Sn("span","flatpickr-time-separator",":")),r.timeContainer.appendChild(V)}return r.config.time_24hr||(r.amPM=Sn("span","flatpickr-am-pm",r.l10n.amPM[ls((r.latestSelectedDateObj?r.hourElement.value:r.config.defaultHour)>11)]),r.amPM.title=r.l10n.toggleTitle,r.amPM.tabIndex=-1,r.timeContainer.appendChild(r.amPM)),r.timeContainer}function B(){r.weekdayContainer?eS(r.weekdayContainer):r.weekdayContainer=Sn("div","flatpickr-weekdays");for(var P=r.config.showMonths;P--;){var z=Sn("div","flatpickr-weekdaycontainer");r.weekdayContainer.appendChild(z)}return $(),r.weekdayContainer}function $(){if(r.weekdayContainer){var P=r.l10n.firstDayOfWeek,z=jte(r.l10n.weekdays.shorthand);P>0&&P<z.length&&(z=jte(z.splice(P,z.length),z.splice(0,P)));for(var Q=r.config.showMonths;Q--;)r.weekdayContainer.children[Q].innerHTML=`
      <span class='flatpickr-weekday'>
        `+z.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function ee(){r.calendarContainer.classList.add("hasWeeks");var P=Sn("div","flatpickr-weekwrapper");P.appendChild(Sn("span","flatpickr-weekday",r.l10n.weekAbbreviation));var z=Sn("div","flatpickr-weeks");return P.appendChild(z),{weekWrapper:P,weekNumbers:z}}function te(P,z){z===void 0&&(z=!0);var Q=z?P:P-r.currentMonth;Q<0&&r._hidePrevMonthArrow===!0||Q>0&&r._hideNextMonthArrow===!0||(r.currentMonth+=Q,(r.currentMonth<0||r.currentMonth>11)&&(r.currentYear+=r.currentMonth>11?1:-1,r.currentMonth=(r.currentMonth+12)%12,rt("onYearChange"),H()),O(),rt("onMonthChange"),kt())}function he(P,z){if(P===void 0&&(P=!0),z===void 0&&(z=!0),r.input.value="",r.altInput!==void 0&&(r.altInput.value=""),r.mobileInput!==void 0&&(r.mobileInput.value=""),r.selectedDates=[],r.latestSelectedDateObj=void 0,z===!0&&(r.currentYear=r._initialDate.getFullYear(),r.currentMonth=r._initialDate.getMonth()),r.config.enableTime===!0){var Q=JD(r.config),le=Q.hours,V=Q.minutes,oe=Q.seconds;h(le,V,oe)}r.redraw(),P&&rt("onChange")}function we(){r.isOpen=!1,r.isMobile||(r.calendarContainer!==void 0&&r.calendarContainer.classList.remove("open"),r._input!==void 0&&r._input.classList.remove("active")),rt("onClose")}function Te(){r.config!==void 0&&rt("onDestroy");for(var P=r._handlers.length;P--;)r._handlers[P].remove();if(r._handlers=[],r.mobileInput)r.mobileInput.parentNode&&r.mobileInput.parentNode.removeChild(r.mobileInput),r.mobileInput=void 0;else if(r.calendarContainer&&r.calendarContainer.parentNode)if(r.config.static&&r.calendarContainer.parentNode){var z=r.calendarContainer.parentNode;if(z.lastChild&&z.removeChild(z.lastChild),z.parentNode){for(;z.firstChild;)z.parentNode.insertBefore(z.firstChild,z);z.parentNode.removeChild(z)}}else r.calendarContainer.parentNode.removeChild(r.calendarContainer);r.altInput&&(r.input.type="text",r.altInput.parentNode&&r.altInput.parentNode.removeChild(r.altInput),delete r.altInput),r.input&&(r.input.type=r.input._type,r.input.classList.remove("flatpickr-input"),r.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(Q){try{delete r[Q]}catch(le){}})}function ce(P){return r.calendarContainer.contains(P)}function q(P){if(r.isOpen&&!r.config.inline){var z=cs(P),Q=ce(z),le=z===r.input||z===r.altInput||r.element.contains(z)||P.path&&P.path.indexOf&&(~P.path.indexOf(r.input)||~P.path.indexOf(r.altInput)),V=!le&&!Q&&!ce(P.relatedTarget),oe=!r.config.ignoredFocusElements.some(function(be){return be.contains(z)});V&&oe&&(r.config.allowInput&&r.setDate(r._input.value,!1,r.config.altInput?r.config.altFormat:r.config.dateFormat),r.timeContainer!==void 0&&r.minuteElement!==void 0&&r.hourElement!==void 0&&r.input.value!==""&&r.input.value!==void 0&&l(),r.close(),r.config&&r.config.mode==="range"&&r.selectedDates.length===1&&r.clear(!1))}}function X(P){if(!(!P||r.config.minDate&&P<r.config.minDate.getFullYear()||r.config.maxDate&&P>r.config.maxDate.getFullYear())){var z=P,Q=r.currentYear!==z;r.currentYear=z||r.currentYear,r.config.maxDate&&r.currentYear===r.config.maxDate.getFullYear()?r.currentMonth=Math.min(r.config.maxDate.getMonth(),r.currentMonth):r.config.minDate&&r.currentYear===r.config.minDate.getFullYear()&&(r.currentMonth=Math.max(r.config.minDate.getMonth(),r.currentMonth)),Q&&(r.redraw(),rt("onYearChange"),H())}}function G(P,z){var Q;z===void 0&&(z=!0);var le=r.parseDate(P,void 0,z);if(r.config.minDate&&le&&us(le,r.config.minDate,z!==void 0?z:!r.minDateHasTime)<0||r.config.maxDate&&le&&us(le,r.config.maxDate,z!==void 0?z:!r.maxDateHasTime)>0)return!1;if(!r.config.enable&&r.config.disable.length===0)return!0;if(le===void 0)return!1;for(var V=!!r.config.enable,oe=(Q=r.config.enable)!==null&&Q!==void 0?Q:r.config.disable,be=0,xe=void 0;be<oe.length;be++){if(xe=oe[be],typeof xe=="function"&&xe(le))return V;if(xe instanceof Date&&le!==void 0&&xe.getTime()===le.getTime())return V;if(typeof xe=="string"){var Ge=r.parseDate(xe,void 0,!0);return Ge&&Ge.getTime()===le.getTime()?V:!V}else if(typeof xe=="object"&&le!==void 0&&xe.from&&xe.to&&le.getTime()>=xe.from.getTime()&&le.getTime()<=xe.to.getTime())return V}return!V}function de(P){return r.daysContainer!==void 0?P.className.indexOf("hidden")===-1&&P.className.indexOf("flatpickr-disabled")===-1&&r.daysContainer.contains(P):!1}function ue(P){var z=P.target===r._input,Q=r._input.value.trimEnd()!==_t();z&&Q&&!(P.relatedTarget&&ce(P.relatedTarget))&&r.setDate(r._input.value,!0,P.target===r.altInput?r.config.altFormat:r.config.dateFormat)}function fe(P){var z=cs(P),Q=r.config.wrap?t.contains(z):z===r._input,le=r.config.allowInput,V=r.isOpen&&(!le||!Q),oe=r.config.inline&&Q&&!le;if(P.keyCode===13&&Q){if(le)return r.setDate(r._input.value,!0,z===r.altInput?r.config.altFormat:r.config.dateFormat),r.close(),z.blur();r.open()}else if(ce(z)||V||oe){var be=!!r.timeContainer&&r.timeContainer.contains(z);switch(P.keyCode){case 13:be?(P.preventDefault(),l(),Ke()):Ae(P);break;case 27:P.preventDefault(),Ke();break;case 8:case 46:Q&&!r.config.allowInput&&(P.preventDefault(),r.clear());break;case 37:case 39:if(!be&&!Q){P.preventDefault();var xe=a();if(r.daysContainer!==void 0&&(le===!1||xe&&de(xe))){var Ge=P.keyCode===39?1:-1;P.ctrlKey?(P.stopPropagation(),te(Ge),I(E(1),0)):I(void 0,Ge)}}else r.hourElement&&r.hourElement.focus();break;case 38:case 40:P.preventDefault();var Ie=P.keyCode===40?1:-1;r.daysContainer&&z.$i!==void 0||z===r.input||z===r.altInput?P.ctrlKey?(P.stopPropagation(),X(r.currentYear-Ie),I(E(1),0)):be||I(void 0,Ie*7):z===r.currentYearElement?X(r.currentYear-Ie):r.config.enableTime&&(!be&&r.hourElement&&r.hourElement.focus(),l(P),r._debouncedChange());break;case 9:if(be){var tt=[r.hourElement,r.minuteElement,r.secondElement,r.amPM].concat(r.pluginElements).filter(function(Pt){return Pt}),vt=tt.indexOf(z);if(vt!==-1){var Ze=tt[vt+(P.shiftKey?-1:1)];P.preventDefault(),(Ze||r._input).focus()}}else!r.config.noCalendar&&r.daysContainer&&r.daysContainer.contains(z)&&P.shiftKey&&(P.preventDefault(),r._input.focus());break;default:break}}if(r.amPM!==void 0&&z===r.amPM)switch(P.key){case r.l10n.amPM[0].charAt(0):case r.l10n.amPM[0].charAt(0).toLowerCase():r.amPM.textContent=r.l10n.amPM[0],d(),Ye();break;case r.l10n.amPM[1].charAt(0):case r.l10n.amPM[1].charAt(0).toLowerCase():r.amPM.textContent=r.l10n.amPM[1],d(),Ye();break}(Q||ce(z))&&rt("onKeyDown",P)}function _e(P,z){if(z===void 0&&(z="flatpickr-day"),!(r.selectedDates.length!==1||P&&(!P.classList.contains(z)||P.classList.contains("flatpickr-disabled")))){for(var Q=P?P.dateObj.getTime():r.days.firstElementChild.dateObj.getTime(),le=r.parseDate(r.selectedDates[0],void 0,!0).getTime(),V=Math.min(Q,r.selectedDates[0].getTime()),oe=Math.max(Q,r.selectedDates[0].getTime()),be=!1,xe=0,Ge=0,Ie=V;Ie<oe;Ie+=qte.DAY)G(new Date(Ie),!0)||(be=be||Ie>V&&Ie<oe,Ie<le&&(!xe||Ie>xe)?xe=Ie:Ie>le&&(!Ge||Ie<Ge)&&(Ge=Ie));var tt=Array.from(r.rContainer.querySelectorAll("*:nth-child(-n+"+r.config.showMonths+") > ."+z));tt.forEach(function(vt){var Ze=vt.dateObj,Pt=Ze.getTime(),Wt=xe>0&&Pt<xe||Ge>0&&Pt>Ge;if(Wt){vt.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Vt){vt.classList.remove(Vt)});return}else if(be&&!Wt)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Vt){vt.classList.remove(Vt)}),P!==void 0&&(P.classList.add(Q<=r.selectedDates[0].getTime()?"startRange":"endRange"),le<Q&&Pt===le?vt.classList.add("startRange"):le>Q&&Pt===le&&vt.classList.add("endRange"),Pt>=xe&&(Ge===0||Pt<=Ge)&&Fte(Pt,le,Q)&&vt.classList.add("inRange"))})}}function Oe(){r.isOpen&&!r.config.static&&!r.config.inline&&$e()}function Ce(P,z){if(z===void 0&&(z=r._positionElement),r.isMobile===!0){if(P){P.preventDefault();var Q=cs(P);Q&&Q.blur()}r.mobileInput!==void 0&&(r.mobileInput.focus(),r.mobileInput.click()),rt("onOpen");return}else if(r._input.disabled||r.config.inline)return;var le=r.isOpen;r.isOpen=!0,le||(r.calendarContainer.classList.add("open"),r._input.classList.add("active"),rt("onOpen"),$e(z)),r.config.enableTime===!0&&r.config.noCalendar===!0&&r.config.allowInput===!1&&(P===void 0||!r.timeContainer.contains(P.relatedTarget))&&setTimeout(function(){return r.hourElement.select()},50)}function je(P){return function(z){var Q=r.config["_"+P+"Date"]=r.parseDate(z,r.config.dateFormat),le=r.config["_"+(P==="min"?"max":"min")+"Date"];Q!==void 0&&(r[P==="min"?"minDateHasTime":"maxDateHasTime"]=Q.getHours()>0||Q.getMinutes()>0||Q.getSeconds()>0),r.selectedDates&&(r.selectedDates=r.selectedDates.filter(function(V){return G(V)}),!r.selectedDates.length&&P==="min"&&f(Q),Ye()),r.daysContainer&&(nt(),Q!==void 0?r.currentYearElement[P]=Q.getFullYear().toString():r.currentYearElement.removeAttribute(P),r.currentYearElement.disabled=!!le&&Q!==void 0&&le.getFullYear()===Q.getFullYear())}}function qe(){var P=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],z=ko(ko({},JSON.parse(JSON.stringify(t.dataset||{}))),e),Q={};r.config.parseDate=z.parseDate,r.config.formatDate=z.formatDate,Object.defineProperty(r.config,"enable",{get:function(){return r.config._enable},set:function(tt){r.config._enable=Le(tt)}}),Object.defineProperty(r.config,"disable",{get:function(){return r.config._disable},set:function(tt){r.config._disable=Le(tt)}});var le=z.mode==="time";if(!z.dateFormat&&(z.enableTime||le)){var V=ra.defaultConfig.dateFormat||$h.dateFormat;Q.dateFormat=z.noCalendar||le?"H:i"+(z.enableSeconds?":S":""):V+" H:i"+(z.enableSeconds?":S":"")}if(z.altInput&&(z.enableTime||le)&&!z.altFormat){var oe=ra.defaultConfig.altFormat||$h.altFormat;Q.altFormat=z.noCalendar||le?"h:i"+(z.enableSeconds?":S K":" K"):oe+(" h:i"+(z.enableSeconds?":S":"")+" K")}Object.defineProperty(r.config,"minDate",{get:function(){return r.config._minDate},set:je("min")}),Object.defineProperty(r.config,"maxDate",{get:function(){return r.config._maxDate},set:je("max")});var be=function(tt){return function(vt){r.config[tt==="min"?"_minTime":"_maxTime"]=r.parseDate(vt,"H:i:S")}};Object.defineProperty(r.config,"minTime",{get:function(){return r.config._minTime},set:be("min")}),Object.defineProperty(r.config,"maxTime",{get:function(){return r.config._maxTime},set:be("max")}),z.mode==="time"&&(r.config.noCalendar=!0,r.config.enableTime=!0),Object.assign(r.config,Q,z);for(var xe=0;xe<P.length;xe++)r.config[P[xe]]=r.config[P[xe]]===!0||r.config[P[xe]]==="true";YD.filter(function(tt){return r.config[tt]!==void 0}).forEach(function(tt){r.config[tt]=XD(r.config[tt]||[]).map(o)}),r.isMobile=!r.config.disableMobile&&!r.config.inline&&r.config.mode==="single"&&!r.config.disable.length&&!r.config.enable&&!r.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var xe=0;xe<r.config.plugins.length;xe++){var Ge=r.config.plugins[xe](r)||{};for(var Ie in Ge)YD.indexOf(Ie)>-1?r.config[Ie]=XD(Ge[Ie]).map(o).concat(r.config[Ie]):typeof z[Ie]=="undefined"&&(r.config[Ie]=Ge[Ie])}z.altInputClass||(r.config.altInputClass=Ve().className+" "+r.config.altInputClass),rt("onParseConfig")}function Ve(){return r.config.wrap?t.querySelector("[data-input]"):t}function ot(){typeof r.config.locale!="object"&&typeof ra.l10ns[r.config.locale]=="undefined"&&r.config.errorHandler(new Error("flatpickr: invalid locale "+r.config.locale)),r.l10n=ko(ko({},ra.l10ns.default),typeof r.config.locale=="object"?r.config.locale:r.config.locale!=="default"?ra.l10ns[r.config.locale]:void 0),cf.D="("+r.l10n.weekdays.shorthand.join("|")+")",cf.l="("+r.l10n.weekdays.longhand.join("|")+")",cf.M="("+r.l10n.months.shorthand.join("|")+")",cf.F="("+r.l10n.months.longhand.join("|")+")",cf.K="("+r.l10n.amPM[0]+"|"+r.l10n.amPM[1]+"|"+r.l10n.amPM[0].toLowerCase()+"|"+r.l10n.amPM[1].toLowerCase()+")";var P=ko(ko({},e),JSON.parse(JSON.stringify(t.dataset||{})));P.time_24hr===void 0&&ra.defaultConfig.time_24hr===void 0&&(r.config.time_24hr=r.l10n.time_24hr),r.formatDate=Wz(r),r.parseDate=KD({config:r.config,l10n:r.l10n})}function $e(P){if(typeof r.config.position=="function")return void r.config.position(r,P);if(r.calendarContainer!==void 0){rt("onPreCalendarPosition");var z=P||r._positionElement,Q=Array.prototype.reduce.call(r.calendarContainer.children,function(Vr,un){return Vr+un.offsetHeight},0),le=r.calendarContainer.offsetWidth,V=r.config.position.split(" "),oe=V[0],be=V.length>1?V[1]:null,xe=z.getBoundingClientRect(),Ge=window.innerHeight-xe.bottom,Ie=oe==="above"||oe!=="below"&&Ge<Q&&xe.top>Q,tt=window.pageYOffset+xe.top+(Ie?-Q-2:z.offsetHeight+2);if(Co(r.calendarContainer,"arrowTop",!Ie),Co(r.calendarContainer,"arrowBottom",Ie),!r.config.inline){var vt=window.pageXOffset+xe.left,Ze=!1,Pt=!1;be==="center"?(vt-=(le-xe.width)/2,Ze=!0):be==="right"&&(vt-=le-xe.width,Pt=!0),Co(r.calendarContainer,"arrowLeft",!Ze&&!Pt),Co(r.calendarContainer,"arrowCenter",Ze),Co(r.calendarContainer,"arrowRight",Pt);var Wt=window.document.body.offsetWidth-(window.pageXOffset+xe.right),Vt=vt+le>window.document.body.offsetWidth,Jt=Wt+le>window.document.body.offsetWidth;if(Co(r.calendarContainer,"rightMost",Vt),!r.config.static)if(r.calendarContainer.style.top=tt+"px",!Vt)r.calendarContainer.style.left=vt+"px",r.calendarContainer.style.right="auto";else if(!Jt)r.calendarContainer.style.left="auto",r.calendarContainer.style.right=Wt+"px";else{var At=Xe();if(At===void 0)return;var ir=window.document.body.offsetWidth,Qt=Math.max(0,ir/2-le/2),kr=".flatpickr-calendar.centerMost:before",br=".flatpickr-calendar.centerMost:after",mr=At.cssRules.length,vr="{left:"+xe.left+"px;right:auto;}";Co(r.calendarContainer,"rightMost",!1),Co(r.calendarContainer,"centerMost",!0),At.insertRule(kr+","+br+vr,mr),r.calendarContainer.style.left=Qt+"px",r.calendarContainer.style.right="auto"}}}}function Xe(){for(var P=null,z=0;z<document.styleSheets.length;z++){var Q=document.styleSheets[z];if(Q.cssRules){try{Q.cssRules}catch(le){continue}P=Q;break}}return P!=null?P:Je()}function Je(){var P=document.createElement("style");return document.head.appendChild(P),P.sheet}function nt(){r.config.noCalendar||r.isMobile||(H(),kt(),O())}function Ke(){r._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(r.close,0):r.close()}function Ae(P){P.preventDefault(),P.stopPropagation();var z=function(tt){return tt.classList&&tt.classList.contains("flatpickr-day")&&!tt.classList.contains("flatpickr-disabled")&&!tt.classList.contains("notAllowed")},Q=Bz(cs(P),z);if(Q!==void 0){var le=Q,V=r.latestSelectedDateObj=new Date(le.dateObj.getTime()),oe=(V.getMonth()<r.currentMonth||V.getMonth()>r.currentMonth+r.config.showMonths-1)&&r.config.mode!=="range";if(r.selectedDateElem=le,r.config.mode==="single")r.selectedDates=[V];else if(r.config.mode==="multiple"){var be=st(V);be?r.selectedDates.splice(parseInt(be),1):r.selectedDates.push(V)}else r.config.mode==="range"&&(r.selectedDates.length===2&&r.clear(!1,!1),r.latestSelectedDateObj=V,r.selectedDates.push(V),us(V,r.selectedDates[0],!0)!==0&&r.selectedDates.sort(function(tt,vt){return tt.getTime()-vt.getTime()}));if(d(),oe){var xe=r.currentYear!==V.getFullYear();r.currentYear=V.getFullYear(),r.currentMonth=V.getMonth(),xe&&(rt("onYearChange"),H()),rt("onMonthChange")}if(kt(),O(),Ye(),!oe&&r.config.mode!=="range"&&r.config.showMonths===1?C(le):r.selectedDateElem!==void 0&&r.hourElement===void 0&&r.selectedDateElem&&r.selectedDateElem.focus(),r.hourElement!==void 0&&r.hourElement!==void 0&&r.hourElement.focus(),r.config.closeOnSelect){var Ge=r.config.mode==="single"&&!r.config.enableTime,Ie=r.config.mode==="range"&&r.selectedDates.length===2&&!r.config.enableTime;(Ge||Ie)&&Ke()}v()}}var it={locale:[ot,$],showMonths:[K,s,B],minDate:[b],maxDate:[b],positionElement:[He],clickOpens:[function(){r.config.clickOpens===!0?(m(r._input,"focus",r.open),m(r._input,"click",r.open)):(r._input.removeEventListener("focus",r.open),r._input.removeEventListener("click",r.open))}]};function at(P,z){if(P!==null&&typeof P=="object"){Object.assign(r.config,P);for(var Q in P)it[Q]!==void 0&&it[Q].forEach(function(le){return le()})}else r.config[P]=z,it[P]!==void 0?it[P].forEach(function(le){return le()}):YD.indexOf(P)>-1&&(r.config[P]=XD(z));r.redraw(),Ye(!0)}function ge(P,z){var Q=[];if(P instanceof Array)Q=P.map(function(le){return r.parseDate(le,z)});else if(P instanceof Date||typeof P=="number")Q=[r.parseDate(P,z)];else if(typeof P=="string")switch(r.config.mode){case"single":case"time":Q=[r.parseDate(P,z)];break;case"multiple":Q=P.split(r.config.conjunction).map(function(le){return r.parseDate(le,z)});break;case"range":Q=P.split(r.l10n.rangeSeparator).map(function(le){return r.parseDate(le,z)});break;default:break}else r.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(P)));r.selectedDates=r.config.allowInvalidPreload?Q:Q.filter(function(le){return le instanceof Date&&G(le,!1)}),r.config.mode==="range"&&r.selectedDates.sort(function(le,V){return le.getTime()-V.getTime()})}function Ne(P,z,Q){if(z===void 0&&(z=!1),Q===void 0&&(Q=r.config.dateFormat),P!==0&&!P||P instanceof Array&&P.length===0)return r.clear(z);ge(P,Q),r.latestSelectedDateObj=r.selectedDates[r.selectedDates.length-1],r.redraw(),b(void 0,z),f(),r.selectedDates.length===0&&r.clear(!1),Ye(z),z&&rt("onChange")}function Le(P){return P.slice().map(function(z){return typeof z=="string"||typeof z=="number"||z instanceof Date?r.parseDate(z,void 0,!0):z&&typeof z=="object"&&z.from&&z.to?{from:r.parseDate(z.from,void 0),to:r.parseDate(z.to,void 0)}:z}).filter(function(z){return z})}function St(){r.selectedDates=[],r.now=r.parseDate(r.config.now)||new Date;var P=r.config.defaultDate||((r.input.nodeName==="INPUT"||r.input.nodeName==="TEXTAREA")&&r.input.placeholder&&r.input.value===r.input.placeholder?null:r.input.value);P&&ge(P,r.config.dateFormat),r._initialDate=r.selectedDates.length>0?r.selectedDates[0]:r.config.minDate&&r.config.minDate.getTime()>r.now.getTime()?r.config.minDate:r.config.maxDate&&r.config.maxDate.getTime()<r.now.getTime()?r.config.maxDate:r.now,r.currentYear=r._initialDate.getFullYear(),r.currentMonth=r._initialDate.getMonth(),r.selectedDates.length>0&&(r.latestSelectedDateObj=r.selectedDates[0]),r.config.minTime!==void 0&&(r.config.minTime=r.parseDate(r.config.minTime,"H:i")),r.config.maxTime!==void 0&&(r.config.maxTime=r.parseDate(r.config.maxTime,"H:i")),r.minDateHasTime=!!r.config.minDate&&(r.config.minDate.getHours()>0||r.config.minDate.getMinutes()>0||r.config.minDate.getSeconds()>0),r.maxDateHasTime=!!r.config.maxDate&&(r.config.maxDate.getHours()>0||r.config.maxDate.getMinutes()>0||r.config.maxDate.getSeconds()>0)}function ht(){if(r.input=Ve(),!r.input){r.config.errorHandler(new Error("Invalid input element specified"));return}r.input._type=r.input.type,r.input.type="text",r.input.classList.add("flatpickr-input"),r._input=r.input,r.config.altInput&&(r.altInput=Sn(r.input.nodeName,r.config.altInputClass),r._input=r.altInput,r.altInput.placeholder=r.input.placeholder,r.altInput.disabled=r.input.disabled,r.altInput.required=r.input.required,r.altInput.tabIndex=r.input.tabIndex,r.altInput.type="text",r.input.setAttribute("type","hidden"),!r.config.static&&r.input.parentNode&&r.input.parentNode.insertBefore(r.altInput,r.input.nextSibling)),r.config.allowInput||r._input.setAttribute("readonly","readonly"),He()}function He(){r._positionElement=r.config.positionElement||r._input}function Ue(){var P=r.config.enableTime?r.config.noCalendar?"time":"datetime-local":"date";r.mobileInput=Sn("input",r.input.className+" flatpickr-mobile"),r.mobileInput.tabIndex=1,r.mobileInput.type=P,r.mobileInput.disabled=r.input.disabled,r.mobileInput.required=r.input.required,r.mobileInput.placeholder=r.input.placeholder,r.mobileFormatStr=P==="datetime-local"?"Y-m-d\\TH:i:S":P==="date"?"Y-m-d":"H:i:S",r.selectedDates.length>0&&(r.mobileInput.defaultValue=r.mobileInput.value=r.formatDate(r.selectedDates[0],r.mobileFormatStr)),r.config.minDate&&(r.mobileInput.min=r.formatDate(r.config.minDate,"Y-m-d")),r.config.maxDate&&(r.mobileInput.max=r.formatDate(r.config.maxDate,"Y-m-d")),r.input.getAttribute("step")&&(r.mobileInput.step=String(r.input.getAttribute("step"))),r.input.type="hidden",r.altInput!==void 0&&(r.altInput.type="hidden");try{r.input.parentNode&&r.input.parentNode.insertBefore(r.mobileInput,r.input.nextSibling)}catch(z){}m(r.mobileInput,"change",function(z){r.setDate(cs(z).value,!1,r.mobileFormatStr),rt("onChange"),rt("onClose")})}function ct(P){if(r.isOpen===!0)return r.close();r.open(P)}function rt(P,z){if(r.config!==void 0){var Q=r.config[P];if(Q!==void 0&&Q.length>0)for(var le=0;Q[le]&&le<Q.length;le++)Q[le](r.selectedDates,r.input.value,r,z);P==="onChange"&&(r.input.dispatchEvent(lt("change")),r.input.dispatchEvent(lt("input")))}}function lt(P){var z=document.createEvent("Event");return z.initEvent(P,!0,!0),z}function st(P){for(var z=0;z<r.selectedDates.length;z++){var Q=r.selectedDates[z];if(Q instanceof Date&&us(Q,P)===0)return""+z}return!1}function mt(P){return r.config.mode!=="range"||r.selectedDates.length<2?!1:us(P,r.selectedDates[0])>=0&&us(P,r.selectedDates[1])<=0}function kt(){r.config.noCalendar||r.isMobile||!r.monthNav||(r.yearElements.forEach(function(P,z){var Q=new Date(r.currentYear,r.currentMonth,1);Q.setMonth(r.currentMonth+z),r.config.showMonths>1||r.config.monthSelectorType==="static"?r.monthElements[z].textContent=rS(Q.getMonth(),r.config.shorthandCurrentMonth,r.l10n)+" ":r.monthsDropdownContainer.value=Q.getMonth().toString(),P.value=Q.getFullYear().toString()}),r._hidePrevMonthArrow=r.config.minDate!==void 0&&(r.currentYear===r.config.minDate.getFullYear()?r.currentMonth<=r.config.minDate.getMonth():r.currentYear<r.config.minDate.getFullYear()),r._hideNextMonthArrow=r.config.maxDate!==void 0&&(r.currentYear===r.config.maxDate.getFullYear()?r.currentMonth+1>r.config.maxDate.getMonth():r.currentYear>r.config.maxDate.getFullYear()))}function _t(P){var z=P||(r.config.altInput?r.config.altFormat:r.config.dateFormat);return r.selectedDates.map(function(Q){return r.formatDate(Q,z)}).filter(function(Q,le,V){return r.config.mode!=="range"||r.config.enableTime||V.indexOf(Q)===le}).join(r.config.mode!=="range"?r.config.conjunction:r.l10n.rangeSeparator)}function Ye(P){P===void 0&&(P=!0),r.mobileInput!==void 0&&r.mobileFormatStr&&(r.mobileInput.value=r.latestSelectedDateObj!==void 0?r.formatDate(r.latestSelectedDateObj,r.mobileFormatStr):""),r.input.value=_t(r.config.dateFormat),r.altInput!==void 0&&(r.altInput.value=_t(r.config.altFormat)),P!==!1&&rt("onValueUpdate")}function bt(P){var z=cs(P),Q=r.prevMonthNav.contains(z),le=r.nextMonthNav.contains(z);Q||le?te(Q?-1:1):r.yearElements.indexOf(z)>=0?z.select():z.classList.contains("arrowUp")?r.changeYear(r.currentYear+1):z.classList.contains("arrowDown")&&r.changeYear(r.currentYear-1)}function ut(P){P.preventDefault();var z=P.type==="keydown",Q=cs(P),le=Q;r.amPM!==void 0&&Q===r.amPM&&(r.amPM.textContent=r.l10n.amPM[ls(r.amPM.textContent===r.l10n.amPM[0])]);var V=parseFloat(le.getAttribute("min")),oe=parseFloat(le.getAttribute("max")),be=parseFloat(le.getAttribute("step")),xe=parseInt(le.value,10),Ge=P.delta||(z?P.which===38?1:-1:0),Ie=xe+be*Ge;if(typeof le.value!="undefined"&&le.value.length===2){var tt=le===r.hourElement,vt=le===r.minuteElement;Ie<V?(Ie=oe+Ie+ls(!tt)+(ls(tt)&&ls(!r.amPM)),vt&&w(void 0,-1,r.hourElement)):Ie>oe&&(Ie=le===r.hourElement?Ie-oe-ls(!r.amPM):V,vt&&w(void 0,1,r.hourElement)),r.amPM&&tt&&(be===1?Ie+xe===23:Math.abs(Ie-xe)>be)&&(r.amPM.textContent=r.l10n.amPM[ls(r.amPM.textContent===r.l10n.amPM[0])]),le.value=_o(Ie)}}return i(),r}function L0(t,e){for(var r=Array.prototype.slice.call(t).filter(function(o){return o instanceof HTMLElement}),n=[],i=0;i<r.length;i++){var a=r[i];try{if(a.getAttribute("data-fp-omit")!==null)continue;a._flatpickr!==void 0&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=sPe(a,e||{}),n.push(a._flatpickr)}catch(o){console.error(o)}}return n.length===1?n[0]:n}var ko,jte,oPe,ra,eA,Gz=Re(()=>{Fz();Hz();Uz();Pte();Ute();Vz();Bte();ko=function(){return ko=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ko.apply(this,arguments)},jte=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n},oPe=300;typeof HTMLElement!="undefined"&&typeof HTMLCollection!="undefined"&&typeof NodeList!="undefined"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return L0(this,t)},HTMLElement.prototype.flatpickr=function(t){return L0([this],t)});ra=function(t,e){return typeof t=="string"?L0(window.document.querySelectorAll(t),e):t instanceof Node?L0([t],e):L0(t,e)};ra.defaultConfig={};ra.l10ns={en:ko({},$D),default:ko({},$D)};ra.localize=function(t){ra.l10ns.default=ko(ko({},ra.l10ns.default),t)};ra.setDefaults=function(t){ra.defaultConfig=ko(ko({},ra.defaultConfig),t)};ra.parseDate=KD({});ra.formatDate=Wz({});ra.compareDates=us;typeof jQuery!="undefined"&&typeof jQuery.fn!="undefined"&&(jQuery.fn.flatpickr=function(t){return L0(this,t)});Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof t=="string"?parseInt(t,10):t))};typeof window!="undefined"&&(window.flatpickr=ra);eA=ra});function Vte(t,e={}){let r=t.createEl("input",{cls:"hidden-date-picker-input",attr:{type:"text"}});return lPe(r,{display:"none"}),new Yz(r,e)}var lPe,Yz,Wte=Re(()=>{"use strict";Gz();lPe=(t,e)=>{Object.entries(e).forEach(([r,n])=>{t.style.setProperty(r,n)})},Yz=class{constructor(e,r={}){this.instance=null;this.element=e,this.options=ae({mode:"single",dateFormat:"Y-m-d",altInput:!0,altFormat:"M j, Y",enableTime:!1},r),this.initialize()}initialize(){this.instance=eA(this.element,{mode:this.options.mode,dateFormat:this.options.dateFormat,altInput:this.options.altInput,altFormat:this.options.altFormat,enableTime:this.options.enableTime,defaultDate:this.options.defaultDate,onChange:this.options.onChange}),this.options.placeholder&&(this.element.placeholder=this.options.placeholder)}setDate(e,r=!0){this.instance&&this.instance.setDate(e,r)}getSelectedDates(){var e;return((e=this.instance)==null?void 0:e.selectedDates)||[]}clear(e=!0){this.instance&&this.instance.clear(e)}open(){this.instance&&this.instance.open()}close(){this.instance&&this.instance.close()}destroy(){this.instance&&(this.instance.destroy(),this.instance=null)}isOpen(){var e;return((e=this.instance)==null?void 0:e.isOpen)||!1}updateOptions(e){this.options=ae(ae({},this.options),e),this.instance&&(this.destroy(),this.initialize())}}});function cPe(t){let e=[];return(t.currentView.includes("Day")||t.currentView.includes("Week"))&&e.push("thisMonth"),t.currentView.includes("Day")&&e.push("thisWeek"),e.push("customDate"),e}function uPe(t){switch(t){case"thisMonth":return W("ui.navigation.thisMonth");case"thisWeek":return W("ui.navigation.thisWeek");case"customDate":return W("ui.navigation.customDate");default:return"Unknown"}}function Zz(t,e){switch(t){case"thisMonth":return e?"timeGridWeek":"dayGridMonth";case"thisWeek":return e?"timeGrid3Days":"timeGridWeek";case"customDate":return"timeGridDay";default:return e?"timeGrid3Days":"timeGridWeek"}}function O0(t,e){return new $z(t,e)}var tA,$z,Xz=Re(()=>{"use strict";tA=require("obsidian");Wte();Pr();$z=class{constructor(e,r){this.datePicker=null;this.calendar=e,this.container=r}showNavigationMenu(e){let r=this.getCurrentContext(),n=cPe(r),i=new tA.Menu;n.forEach(a=>{i.addItem(o=>{o.setTitle(uPe(a)).onClick(()=>{this.handleNavigationOption(a,r)})})}),i.showAtMouseEvent(e)}showDateContextMenu(e,r){let n=this.getCurrentContext(),i=new tA.Menu;[{view:n.isNarrow?"timeGrid3Days":"dayGridMonth",label:W("ui.navigation.viewMonth")},{view:n.isNarrow?"timeGrid3Days":"timeGridWeek",label:W("ui.navigation.viewWeek")},{view:"timeGridDay",label:W("ui.navigation.viewDay")}].forEach(({view:o,label:s})=>{i.addItem(l=>{l.setTitle(s).onClick(()=>{this.navigateToDate(r,o)})})}),i.showAtMouseEvent(e)}showViewContextMenu(e,r){let n=this.getCurrentContext(),i=n.currentDate;try{let s=this.getDateFromPosition(e,r);s&&(i=s)}catch(s){console.debug("Could not determine date from position, using current view date:",s)}let a=new tA.Menu;[{view:n.isNarrow?"timeGrid3Days":"dayGridMonth",label:W("ui.navigation.viewMonth")},{view:n.isNarrow?"timeGrid3Days":"timeGridWeek",label:W("ui.navigation.viewWeek")},{view:"timeGridDay",label:W("ui.navigation.viewDay")}].forEach(({view:s,label:l})=>{a.addItem(c=>{c.setTitle(l).onClick(()=>{this.navigateToDate(i,s)})})}),a.showAtMouseEvent(e)}getDateFromPosition(e,r){try{let n=r.el.querySelector(".fc-view");if(!n)return null;let i=n.getBoundingClientRect(),a=e.clientX-i.left,o=e.clientY-i.top,s=r.view,l=s.type;return l.includes("dayGrid")?this.getDateFromMonthGrid(a,o,i,s):l.includes("timeGrid")?this.getDateFromTimeGrid(a,o,i,s):s.currentStart}catch(n){return null}}getDateFromMonthGrid(e,r,n,i){let a=new Date(i.currentStart),o=n.width/7,s=30,l=(n.height-s)/6,c=Math.floor(e/o),d=Math.floor((r-s)/l)*7+c,f=new Date(a);return f.setDate(a.getDate()+d),f}getDateFromTimeGrid(e,r,n,i){let a=new Date(i.currentStart),o=new Date(i.currentEnd),s=Math.ceil((o.getTime()-a.getTime())/(1e3*60*60*24)),l=e,c=0;if(s>1){let d=n.width/s;c=Math.floor(l/d),c=Math.max(0,Math.min(c,s-1))}let u=new Date(a);return u.setDate(a.getDate()+c),u}getCurrentContext(){let e=this.calendar.view;return{currentView:e.type,currentDate:e.currentStart,isNarrow:this.container.clientWidth<768}}handleNavigationOption(e,r){let n=new Date;switch(e){case"thisMonth":this.navigateToDate(n,Zz(e,r.isNarrow));break;case"thisWeek":this.navigateToDate(n,Zz(e,r.isNarrow));break;case"customDate":this.showCustomDatePicker(r);break}}showCustomDatePicker(e){this.datePicker&&this.datePicker.destroy(),this.datePicker=Vte(this.container,{mode:"single",defaultDate:e.currentDate,onChange:r=>{var n;if(r.length>0){let i=Zz("customDate",e.isNarrow);this.navigateToDate(r[0],i),(n=this.datePicker)==null||n.close()}}}),this.datePicker.open()}navigateToDate(e,r){r&&r!==this.calendar.view.type&&this.calendar.changeView(r),this.calendar.gotoDate(e)}destroy(){this.datePicker&&(this.datePicker.destroy(),this.datePicker=null)}}});var Xh=Re(()=>{Gd();mT()});function dPe(t){return se(sr,null,t.text&&se("a",Object.assign({id:t.textId,className:"fc-list-day-text"},t.navLinkAttrs),t.text),t.sideText&&se("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},t.sideNavLinkAttrs),t.sideText))}function hPe(t,e){let r=A0(t,e);return se("a",Object.assign({},r),t.eventRange.def.title)}function pPe(t,e,r,n,i){let{options:a}=r;if(a.displayEventTime!==!1){let o=t.eventRange.def,s=t.eventRange.instance,l=!1,c;if(o.allDay?l=!0:$P(t.eventRange.range)?t.isStart?c=Gh(t,e,r,null,null,s.range.start,t.end):t.isEnd?c=Gh(t,e,r,null,null,t.start,s.range.end):l=!0:c=Gh(t,e,r),l){let u={text:r.options.allDayText,view:r.viewApi};return se(vn,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${n} ${i}`},renderProps:u,generatorName:"allDayContent",customGenerator:a.allDayContent,defaultGenerator:mPe,classNameGenerator:a.allDayClassNames,didMount:a.allDayDidMount,willUnmount:a.allDayWillUnmount})}return se("td",{className:"fc-list-event-time"},c)}return null}function mPe(t){return t.text}function vPe(t){return t.text}function gPe(t){let e=cn(t.renderRange.start),r=t.renderRange.end,n=[],i=[];for(;e<r;)n.push(e),i.push({start:e,end:Ln(e,1)}),e=Ln(e,1);return{dayDates:n,dayRanges:i}}function yPe(t){let e=[],r,n;for(r=0;r<t.length;r+=1)n=t[r],(e[n.dayIndex]||(e[n.dayIndex]=[])).push(n);return e}var Kz,fPe,Qz,rA,bPe,Gte=Re(()=>{Bs();Xh();Kz=class extends Kt{constructor(){super(...arguments),this.state={textId:zl()}}render(){let{theme:e,dateEnv:r,options:n,viewApi:i}=this.context,{cellId:a,dayDate:o,todayRange:s}=this.props,{textId:l}=this.state,c=Yh(o,s),u=n.listDayFormat?r.format(o,n.listDayFormat):"",d=n.listDaySideFormat?r.format(o,n.listDaySideFormat):"",f=Object.assign({date:r.toDate(o),view:i,textId:l,text:u,sideText:d,navLinkAttrs:ql(this.context,o),sideNavLinkAttrs:ql(this.context,o,"day",!1)},c);return se(vn,{elTag:"tr",elClasses:["fc-list-day",...of(c,e)],elAttrs:{"data-date":tf(o)},renderProps:f,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:dPe,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},h=>se("th",{scope:"colgroup",colSpan:3,id:a,"aria-labelledby":l},se(h,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}};fPe=ln({hour:"numeric",minute:"2-digit",meridiem:"short"}),Qz=class extends Kt{render(){let{props:e,context:r}=this,{options:n}=r,{seg:i,timeHeaderId:a,eventHeaderId:o,dateHeaderId:s}=e,l=n.eventTimeFormat||fPe;return se(Kd,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",i.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>hPe(i,r),seg:i,timeText:"",disableDragging:!0,disableResizing:!0}),(c,u)=>se(sr,null,pPe(i,l,r,a,s),se("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},se("span",{className:"fc-list-event-dot",style:{borderColor:u.borderColor||u.backgroundColor}})),se(c,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${o} ${s}`}})))}};rA=class extends Ii{constructor(){super(...arguments),this.computeDateVars=jt(gPe),this.eventStoreToSegs=jt(this._eventStoreToSegs),this.state={timeHeaderId:zl(),eventHeaderId:zl(),dateHeaderIdRoot:zl()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:r}=this,{dayDates:n,dayRanges:i}=this.computeDateVars(e.dateProfile),a=this.eventStoreToSegs(e.eventStore,e.eventUiBases,i);return se(Bo,{elRef:this.setRootEl,elClasses:["fc-list",r.theme.getClass("table"),r.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:r.viewSpec},se(Uh,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},a.length>0?this.renderSegList(a,n):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:r}=this.context,n={text:e.noEventsText,view:r};return se(vn,{elTag:"div",elClasses:["fc-list-empty"],renderProps:n,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:vPe,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},i=>se(i,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,r){let{theme:n,options:i}=this.context,{timeHeaderId:a,eventHeaderId:o,dateHeaderIdRoot:s}=this.state,l=yPe(e);return se(ta,{unit:"day"},(c,u)=>{let d=[];for(let f=0;f<l.length;f+=1){let h=l[f];if(h){let p=tf(r[f]),m=s+"-"+p;d.push(se(Kz,{key:p,cellId:m,dayDate:r[f],todayRange:u})),h=af(h,i.eventOrder);for(let v of h)d.push(se(Qz,Object.assign({key:p+":"+v.eventRange.instance.instanceId,seg:v,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:a,eventHeaderId:o,dateHeaderId:m},no(v,u,c))))}}return se("table",{className:"fc-list-table "+n.getClass("table")},se("thead",null,se("tr",null,se("th",{scope:"col",id:a},i.timeHint),se("th",{scope:"col","aria-hidden":!0}),se("th",{scope:"col",id:o},i.eventHint))),se("tbody",null,d))})}_eventStoreToSegs(e,r,n){return this.eventRangesToSegs(Zm(e,r,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,n)}eventRangesToSegs(e,r){let n=[];for(let i of e)n.push(...this.eventRangeToSegs(i,r));return n}eventRangeToSegs(e,r){let{dateEnv:n}=this.context,{nextDayThreshold:i}=this.context.options,a=e.range,o=e.def.allDay,s,l,c,u=[];for(s=0;s<r.length;s+=1)if(l=jo(a,r[s]),l&&(c={component:this,eventRange:e,start:l.start,end:l.end,isStart:e.isStart&&l.start.valueOf()===a.start.valueOf(),isEnd:e.isEnd&&l.end.valueOf()===a.end.valueOf(),dayIndex:s},u.push(c),!c.isEnd&&!o&&s+1<r.length&&a.end<n.add(r[s+1].start,i))){c.end=a.end,c.isEnd=!0;break}return u}};bPe=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';Pl(bPe)});var Zte={};Wr(Zte,{default:()=>xPe});function Yte(t){return t===!1?null:ln(t)}var wPe,xPe,$te=Re(()=>{Ic();Gte();Bs();wPe={listDayFormat:Yte,listDaySideFormat:Yte,noEventsClassNames:Be,noEventsContent:Be,noEventsDidMount:Be,noEventsWillUnmount:Be};xPe=Jn({name:"@fullcalendar/list",optionRefiners:wPe,views:{list:{component:rA,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}})});var Kte={};Wr(Kte,{default:()=>DPe});function SPe(t,e){let r,n=!1,i=!1;if(typeof t.rrule=="string"){let s=_Pe(t.rrule);r=s.rruleSet,n=s.isTimeSpecified,i=s.isTimeZoneSpecified}if(typeof t.rrule=="object"&&t.rrule){let s=Xte(t.rrule,e);r=new uT,r.rrule(s.rrule),n=s.isTimeSpecified,i=s.isTimeZoneSpecified}let a=[].concat(t.exdate||[]),o=[].concat(t.exrule||[]);for(let s of a){let l=S0(s);n=n||!l.isTimeUnspecified,i=i||l.timeZoneOffset!==null,r.exdate(new Date(l.marker.valueOf()-(l.timeZoneOffset||0)*60*1e3))}for(let s of o){let l=Xte(s,e);n=n||l.isTimeSpecified,i=i||l.isTimeZoneSpecified,r.exrule(l.rrule)}return{rruleSet:r,isTimeSpecified:n,isTimeZoneSpecified:i}}function Xte(t,e){let r=!1,n=!1;function i(o){if(typeof o=="string"){let s=S0(o);return s?(r=r||!s.isTimeUnspecified,n=n||s.timeZoneOffset!==null,new Date(s.marker.valueOf()-(s.timeZoneOffset||0)*60*1e3)):null}return o}let a=Object.assign(Object.assign({},t),{dtstart:i(t.dtstart),until:i(t.until),freq:nA(t.freq),wkst:t.wkst==null?(e.weekDow-1+7)%7:nA(t.wkst),byweekday:kPe(t.byweekday)});return{rrule:new Gt(a),isTimeSpecified:r,isTimeZoneSpecified:n}}function _Pe(t){let e=ji(t,{forceset:!0}),r=CPe(t);return Object.assign({rruleSet:e},r)}function CPe(t){let e=!1,r=!1;function n(i,a,o){let s=S0(o);e=e||!s.isTimeUnspecified,r=r||s.timeZoneOffset!==null}return t.replace(/\b(DTSTART:)([^\n]*)/,n),t.replace(/\b(EXDATE:)([^\n]*)/,n),t.replace(/\b(UNTIL=)([^;\n]*)/,n),{isTimeSpecified:e,isTimeZoneSpecified:r}}function kPe(t){return Array.isArray(t)?t.map(nA):nA(t)}function nA(t){return typeof t=="string"?Gt[t.toUpperCase()]:t}var TPe,EPe,DPe,Qte=Re(()=>{Ic();Wd();Bs();TPe={parse(t,e){if(t.rrule!=null){let r=SPe(t,e);if(r)return{typeData:{rruleSet:r.rruleSet,dateEnv:r.isTimeZoneSpecified?void 0:e},allDayGuess:!r.isTimeSpecified,duration:t.duration}}return null},expand(t,e,r){return t.rruleSet.between(Ln(e.start,-1),Ln(e.end,1)).map(n=>r.createMarker(t.dateEnv?t.dateEnv.toDate(n):n))}};EPe={rrule:Be,exrule:Be,exdate:Be,duration:Dr},DPe=Jn({name:"@fullcalendar/rrule",recurringTypes:[TPe],eventRefiners:EPe})});function aA(t,e){let r=[];for(let n=0;n<e;n+=1)r[n]=[];for(let n of t)r[n.row].push(n);return r}function iA(t,e){let r=[];for(let n=0;n<e;n+=1)r[n]=[];for(let n of t)r[n.firstCol].push(n);return r}function Jte(t,e){let r=[];if(t){for(let n=0;n<e;n+=1)r[n]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let n of t.segs)r[n.row].segs.push(n)}else for(let n=0;n<e;n+=1)r[n]=null;return r}function tre(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}function APe(t){return se(sr,null,se("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&se("div",{className:"fc-event-time"},t.timeText),se("div",{className:"fc-event-title"},t.event.title||se(sr,null,"\xA0")))}function MPe(t){let e=[],r=[];for(let n of t)e.push(n.seg),n.isVisible||r.push(n.seg);return{allSegs:e,invisibleSegs:r}}function IPe(t){return t.dayNumberText||se(sr,null,"\xA0")}function NPe(t,e,r){let{start:n,end:i}=e,a=Ll(i,-1),o=r.getYear(n),s=r.getMonth(n),l=r.getYear(a),c=r.getMonth(a);return!(o===l&&s===c)&&(t.valueOf()===n.valueOf()||r.getDay(t)===1&&t.valueOf()<i.valueOf())}function rre(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function nre(t){return rre(t)+":"+t.lastCol}function LPe(t,e,r,n,i,a,o){let s=new rF(y=>{let b=t[y.index].eventRange.instance.instanceId+":"+y.span.start+":"+(y.span.end-1);return i[b]||1});s.allowReslicing=!0,s.strictOrder=n,e===!0||r===!0?(s.maxCoord=a,s.hiddenConsumes=!0):typeof e=="number"?s.maxStackCnt=e:typeof r=="number"&&(s.maxStackCnt=r,s.hiddenConsumes=!0);let l=[],c=[];for(let y=0;y<t.length;y+=1){let b=t[y],x=nre(b);i[x]!=null?l.push({index:y,span:{start:b.firstCol,end:b.lastCol+1}}):c.push(b)}let u=s.addSegs(l),d=s.toRects(),{singleColPlacements:f,multiColPlacements:h,leftoverMargins:p}=OPe(d,t,o),m=[],v=[];for(let y of c){h[y.firstCol].push({seg:y,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let b=y.firstCol;b<=y.lastCol;b+=1)f[b].push({seg:P0(y,b,b+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let y=0;y<o.length;y+=1)m.push(0);for(let y of u){let b=t[y.index],x=y.span;h[x.start].push({seg:P0(b,x.start,x.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let w=x.start;w<x.end;w+=1)m[w]+=1,f[w].push({seg:P0(b,w,w+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let y=0;y<o.length;y+=1)v.push(p[y]);return{singleColPlacements:f,multiColPlacements:h,moreCnts:m,moreMarginTops:v}}function OPe(t,e,r){let n=PPe(t,r.length),i=[],a=[],o=[];for(let s=0;s<r.length;s+=1){let l=n[s],c=[],u=0,d=0;for(let h of l){let p=e[h.index];c.push({seg:P0(p,s,s+1,r),isVisible:!0,isAbsolute:!1,absoluteTop:h.levelCoord,marginTop:h.levelCoord-u}),u=h.levelCoord+h.thickness}let f=[];u=0,d=0;for(let h of l){let p=e[h.index],m=h.span.end-h.span.start>1,v=h.span.start===s;d+=h.levelCoord-u,u=h.levelCoord+h.thickness,m?(d+=h.thickness,v&&f.push({seg:P0(p,h.span.start,h.span.end,r),isVisible:!0,isAbsolute:!0,absoluteTop:h.levelCoord,marginTop:0})):v&&(f.push({seg:P0(p,h.span.start,h.span.end,r),isVisible:!0,isAbsolute:!1,absoluteTop:h.levelCoord,marginTop:d}),d=0)}i.push(c),a.push(f),o.push(d)}return{singleColPlacements:i,multiColPlacements:a,leftoverMargins:o}}function PPe(t,e){let r=[];for(let n=0;n<e;n+=1)r.push([]);for(let n of t)for(let i=n.span.start;i<n.span.end;i+=1)r[i].push(n);return r}function P0(t,e,r,n){if(t.firstCol===e&&t.lastCol===r-1)return t;let i=t.eventRange,a=i.range,o=jo(a,{start:n[e].date,end:Ln(n[r-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:r-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:o},isStart:t.isStart&&o.start.valueOf()===a.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===a.end.valueOf()})}function zPe(t,e){if(!t.length)return[];let r=FPe(e);return t.map(n=>({seg:n,isVisible:!0,isAbsolute:!0,absoluteTop:r[n.eventRange.instance.instanceId],marginTop:0}))}function FPe(t){let e={};for(let r of t)for(let n of r)e[n.seg.eventRange.instance.instanceId]=n.absoluteTop;return e}function HPe(t,e){return aA(t.filter(qPe),e)}function qPe(t){return t.eventRange.def.allDay}function UPe(t,e){let r;return e.currentRangeUnit.match(/year|month/)&&(r=t.querySelector(`[data-date="${HP(e.currentDate)}-01"]`)),r||(r=t.querySelector(`[data-date="${tf(e.currentDate)}"]`)),r}function BPe(t,e){let r=new Qm(t.renderRange,e);return new Jm(r,/year|month|week/.test(t.currentRangeUnit))}function jPe(t){let{dateEnv:e,currentRange:r}=t,{start:n,end:i}=r,a;if(t.snapToWeek&&(n=e.startOfWeek(n),a=e.startOfWeek(i),a.valueOf()!==i.valueOf()&&(i=dD(a,1))),t.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(Ln(r.end,-1))),s=Math.ceil(FP(o,i));i=dD(i,6-s)}return{start:n,end:i}}var Jz,ere,oA,sA,eF,RPe,tF,rF,lA,nF,iF,aF,nS,cA,uA,VPe,oF=Re(()=>{Bs();Xh();Jz=class extends Ii{constructor(){super(...arguments),this.headerElRef=nn()}renderSimpleLayout(e,r){let{props:n,context:i}=this,a=[],o=Rc(i.options);return e&&a.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),a.push({type:"body",key:"body",liquid:!0,chunk:{content:r}}),se(Bo,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},se(Bh,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:a}))}renderHScrollLayout(e,r,n,i){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{props:o,context:s}=this,l=!o.forPrint&&Rc(s.options),c=!o.forPrint&&sf(s.options),u=[];return e&&u.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:r}]}),c&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Mc}]}),se(Bo,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},se(a,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:n,minWidth:i}]}],sections:u}))}};ere=ln({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});oA=class extends Kt{render(){let{props:e}=this;return se(Mu,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:ere,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}},sA=class extends Kt{render(){let{props:e,context:r}=this,{options:n}=r,{seg:i}=e,a=n.eventTimeFormat||ere,o=Gh(i,a,r,!0,e.defaultDisplayEventEnd);return se(Kd,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:A0(e.seg,r),defaultGenerator:APe,timeText:o,isResizing:!1,isDateSelecting:!1}))}};eF=class extends Kt{constructor(){super(...arguments),this.compileSegs=jt(MPe)}render(){let{props:e}=this,{allSegs:r,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return se(Jd,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:r,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return se(sr,null,r.map(a=>{let o=a.eventRange.instance.instanceId;return se("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:i[o]?"hidden":""}},tre(a)?se(sA,Object.assign({seg:a,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},no(a,e.todayRange))):se(oA,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},no(a,e.todayRange))))}))}})}};RPe=ln({week:"narrow"}),tF=class extends Ii{constructor(){super(...arguments),this.rootElRef=nn(),this.state={dayNumberId:zl()},this.handleRootEl=e=>{ro(this.rootElRef,e),ro(this.props.elRef,e)}}render(){let{context:e,props:r,state:n,rootElRef:i}=this,{options:a,dateEnv:o}=e,{date:s,dateProfile:l}=r,c=r.showDayNumber&&NPe(s,l.currentRange,o);return se(jh,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...r.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},r.extraDataAttrs),r.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:IPe,date:s,dateProfile:l,todayRange:r.todayRange,showDayNumber:r.showDayNumber,isMonthStart:c,extraRenderProps:r.extraRenderProps},(u,d)=>se("div",{ref:r.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:r.minHeight}},r.showWeekNumber&&se(XT,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:ql(e,s,"week"),date:s,defaultFormat:RPe}),!d.isDisabled&&(r.showDayNumber||R0(a)||r.forceDayTop)?se("div",{className:"fc-daygrid-day-top"},se(u,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},ql(e,s)),{id:n.dayNumberId})})):r.showDayNumber?se("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},se("a",{className:"fc-daygrid-day-number"},"\xA0")):void 0,se("div",{className:"fc-daygrid-day-events",ref:r.fgContentElRef},r.fgContent,se("div",{className:"fc-daygrid-day-bottom",style:{marginTop:r.moreMarginTop}},se(eF,{allDayDate:s,singlePlacements:r.singlePlacements,moreCnt:r.moreCnt,alignmentElRef:i,alignGridTop:!r.showDayNumber,extraDateSpan:r.extraDateSpan,dateProfile:r.dateProfile,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,todayRange:r.todayRange}))),se("div",{className:"fc-daygrid-day-bg"},r.bgContent)))}};rF=class extends $d{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){let r=super.addSegs(e),{entriesByLevel:n}=this,i=a=>!this.forceHidden[Au(a)];for(let a=0;a<n.length;a+=1)n[a]=n[a].filter(i);return r}handleInvalidInsertion(e,r,n){let{entriesByLevel:i,forceHidden:a}=this,{touchingEntry:o,touchingLevel:s,touchingLateral:l}=e;if(this.hiddenConsumes&&o){let c=Au(o);if(!a[c])if(this.allowReslicing){let u=Object.assign(Object.assign({},o),{span:GT(o.span,r.span)}),d=Au(u);a[d]=!0,i[s][l]=u,n.push(u),this.splitEntry(o,r,n)}else a[c]=!0,n.push(o)}super.handleInvalidInsertion(e,r,n)}},lA=class extends Ii{constructor(){super(...arguments),this.cellElRefs=new Qn,this.frameElRefs=new Qn,this.fgElRefs=new Qn,this.segHarnessRefs=new Qn,this.rootElRef=nn(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:r,context:n}=this,{options:i}=n,a=e.cells.length,o=iA(e.businessHourSegs,a),s=iA(e.bgEventSegs,a),l=iA(this.getHighlightSegs(),a),c=iA(this.getMirrorSegs(),a),{singleColPlacements:u,multiColPlacements:d,moreCnts:f,moreMarginTops:h}=LPe(af(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,r.segHeights,r.maxContentHeight,e.cells),p=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return se("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((m,v)=>{let y=this.renderFgSegs(v,e.forPrint?u[v]:d[v],e.todayRange,p),b=this.renderFgSegs(v,zPe(c[v],d),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return se(tF,{key:m.key,elRef:this.cellElRefs.createRef(m.key),innerElRef:this.frameElRefs.createRef(m.key),dateProfile:e.dateProfile,date:m.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&v===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:m.extraRenderProps,extraDataAttrs:m.extraDataAttrs,extraClassNames:m.extraClassNames,extraDateSpan:m.extraDateSpan,moreCnt:f[v],moreMarginTop:h[v],singlePlacements:u[v],fgContentElRef:this.fgElRefs.createRef(m.key),fgContent:se(sr,null,se(sr,null,y),se(sr,null,b)),bgContent:se(sr,null,this.renderFillSegs(l[v],"highlight"),this.renderFillSegs(o[v],"non-business"),this.renderFillSegs(s[v],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,r){let n=this.props;this.updateSizing(!xi(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,r,n,i,a,o,s){let{context:l}=this,{eventSelection:c}=this.props,{framePositions:u}=this.state,d=this.props.cells.length===1,f=a||o||s,h=[];if(u)for(let p of r){let{seg:m}=p,{instanceId:v}=m.eventRange.instance,y=p.isVisible&&!i[v],b=p.isAbsolute,x="",w="";b&&(l.isRtl?(w=0,x=u.lefts[m.lastCol]-u.lefts[m.firstCol]):(x=0,w=u.rights[m.firstCol]-u.rights[m.lastCol])),h.push(se("div",{className:"fc-daygrid-event-harness"+(b?" fc-daygrid-event-harness-abs":""),key:rre(m),ref:f?null:this.segHarnessRefs.createRef(nre(m)),style:{visibility:y?"":"hidden",marginTop:b?"":p.marginTop,top:b?p.absoluteTop:"",left:x,right:w}},tre(m)?se(sA,Object.assign({seg:m,isDragging:a,isSelected:v===c,defaultDisplayEventEnd:d},no(m,n))):se(oA,Object.assign({seg:m,isDragging:a,isResizing:o,isDateSelecting:s,isSelected:v===c,defaultDisplayEventEnd:d},no(m,n)))))}return h}renderFillSegs(e,r){let{isRtl:n}=this.context,{todayRange:i}=this.props,{framePositions:a}=this.state,o=[];if(a)for(let s of e){let l=n?{right:0,left:a.lefts[s.lastCol]-a.lefts[s.firstCol]}:{left:0,right:a.rights[s.firstCol]-a.rights[s.lastCol]};o.push(se("div",{key:rv(s.eventRange),className:"fc-daygrid-bg-harness",style:l},r==="bg-event"?se(Qd,Object.assign({seg:s},no(s,i))):iv(r)))}return se(sr,{},...o)}updateSizing(e){let{props:r,state:n,frameElRefs:i}=this;if(!r.forPrint&&r.clientWidth!==null){if(e){let l=r.cells.map(c=>i.currentMap[c.key]);if(l.length){let c=this.rootElRef.current,u=new So(c,l,!0,!1);(!n.framePositions||!n.framePositions.similarTo(u))&&this.setState({framePositions:new So(c,l,!0,!1)})}}let a=this.state.segHeights,o=this.querySegHeights(),s=r.dayMaxEvents===!0||r.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},a),o),maxContentHeight:s?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,r={};for(let n in e){let i=Math.round(e[n].getBoundingClientRect().height);r[n]=Math.max(r[n]||0,i)}return r}computeMaxContentHeight(){let e=this.props.cells[0].key,r=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return r.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(r=>e[r.key])}};lA.addStateEquality({segHeights:xi});nF=class extends Ii{constructor(){super(...arguments),this.splitBusinessHourSegs=jt(aA),this.splitBgEventSegs=jt(HPe),this.splitFgEventSegs=jt(aA),this.splitDateSelectionSegs=jt(aA),this.splitEventDrag=jt(Jte),this.splitEventResize=jt(Jte),this.rowRefs=new Qn}render(){let{props:e,context:r}=this,n=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,n),a=this.splitBgEventSegs(e.bgEventSegs,n),o=this.splitFgEventSegs(e.fgEventSegs,n),s=this.splitDateSelectionSegs(e.dateSelectionSegs,n),l=this.splitEventDrag(e.eventDrag,n),c=this.splitEventResize(e.eventResize,n),u=n>=7&&e.clientWidth?e.clientWidth/r.options.aspectRatio/6:null;return se(ta,{unit:"day"},(d,f)=>se(sr,null,e.cells.map((h,p)=>se(lA,{ref:this.rowRefs.createRef(p),key:h.length?h[0].date.toISOString():p,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:f,dateProfile:e.dateProfile,cells:h,renderIntro:e.renderRowIntro,businessHourSegs:i[p],eventSelection:e.eventSelection,bgEventSegs:a[p],fgEventSegs:o[p],dateSelectionSegs:s[p],eventDrag:l[p],eventResize:c[p],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:u,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){let e=this.rowRefs.currentMap[0].getCellEls()[0],r=e?e.closest(".fc-daygrid-body"):null;r&&(this.rootEl=r,this.context.registerInteractiveComponent(this,{el:r,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new So(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new So(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,r){let{colPositions:n,rowPositions:i}=this,a=n.leftToIndex(e),o=i.topToIndex(r);if(o!=null&&a!=null){let s=this.props.cells[o][a];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,a),allDay:!0},s.extraDateSpan),dayEl:this.getCellEl(o,a),rect:{left:n.lefts[a],right:n.rights[a],top:i.tops[o],bottom:i.bottoms[o]},layer:0}}return null}getCellEl(e,r){return this.rowRefs.currentMap[e].getCellEls()[r]}getCellRange(e,r){let n=this.props.cells[e][r].date,i=Ln(n,1);return{start:n,end:i}}};iF=class extends Ii{constructor(){super(...arguments),this.elRef=nn(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:r,dayMaxEvents:n,expandRows:i}=e,a=n===!0||r===!0;a&&!i&&(a=!1,r=null,n=null);let o=["fc-daygrid-body",a?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return se("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},se("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,se("tbody",{role:"presentation"},se(nF,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:r,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){let e=UPe(this.elRef.current,this.props.dateProfile);if(e){let r=e.closest(".fc-daygrid-body"),n=r.closest(".fc-scroller"),i=e.getBoundingClientRect().top-r.getBoundingClientRect().top;n.scrollTop=i?i+1:0}this.needsScrollReset=!1}}};aF=class extends Xd{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,r){return r.sliceRange(e)}},nS=class extends Ii{constructor(){super(...arguments),this.slicer=new aF,this.tableRef=nn()}render(){let{props:e,context:r}=this;return se(iF,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,r,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}},cA=class extends Jz{constructor(){super(...arguments),this.buildDayTableModel=jt(BPe),this.headerRef=nn(),this.tableRef=nn()}render(){let{options:e,dateProfileGenerator:r}=this.context,{props:n}=this,i=this.buildDayTableModel(n.dateProfile,r),a=e.dayHeaders&&se(Km,{ref:this.headerRef,dateProfile:n.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),o=s=>se(nS,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:i,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:s.tableColGroupNode,tableMinWidth:s.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:s.clientWidth,clientHeight:s.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(a,o,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(a,o)}};uA=class extends Wm{buildRenderRange(e,r,n){let i=super.buildRenderRange(e,r,n),{props:a}=this;return jPe({currentRange:i,snapToWeek:/^(year|month)$/.test(r),fixedWeekCount:a.fixedWeekCount,dateEnv:a.dateEnv})}};VPe=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';Pl(VPe)});var ire={};Wr(ire,{default:()=>WPe});var WPe,are=Re(()=>{Ic();oF();WPe=Jn({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:cA,dateProfileGeneratorClass:uA},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}})});function ure(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return se(Us.Consumer,null,r=>{if(!t.isLabeled)return se("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:n,options:i,viewApi:a}=r,o=i.slotLabelFormat==null?GPe:Array.isArray(i.slotLabelFormat)?ln(i.slotLabelFormat[0]):ln(i.slotLabelFormat),s={level:0,time:t.time,date:n.toDate(t.date),view:a,text:n.format(t.date,o)};return se(vn,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:s,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:YPe,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},l=>se("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},se(l,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function YPe(t){return t.text}function XPe(t){return t.text}function KPe(t,e){return e.map(r=>t[r.key])}function iS(t,e){let r=[],n;for(n=0;n<e;n+=1)r.push([]);if(t)for(n=0;n<t.length;n+=1)r[t[n].col].push(t[n]);return r}function ore(t,e){let r=[];if(t){for(let n=0;n<e;n+=1)r[n]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let n of t.segs)r[n.col].segs.push(n)}else for(let n=0;n<e;n+=1)r[n]=null;return r}function QPe(t){return t.shortText}function JPe(t,e,r){let n=new $d;e!=null&&(n.strictOrder=e),r!=null&&(n.maxStackCnt=r);let i=n.addSegs(t),a=WT(i),o=eze(n);return o=ize(o,1),{segRects:aze(o),hiddenGroups:a}}function eze(t){let{entriesByLevel:e}=t,r=wF((n,i)=>n+":"+i,(n,i)=>{let a=nze(t,n,i),o=sre(a,r),s=e[n][i];return[Object.assign(Object.assign({},s),{nextLevelNodes:o[0]}),s.thickness+o[1]]});return sre(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,r)[0]}function sre(t,e){if(!t)return[[],0];let{level:r,lateralStart:n,lateralEnd:i}=t,a=n,o=[];for(;a<i;)o.push(e(r,a)),a+=1;return o.sort(tze),[o.map(rze),o[0][1]]}function tze(t,e){return e[1]-t[1]}function rze(t){return t[0]}function nze(t,e,r){let{levelCoords:n,entriesByLevel:i}=t,a=i[e][r],o=n[e]+a.thickness,s=n.length,l=e;for(;l<s&&n[l]<o;l+=1);for(;l<s;l+=1){let c=i[l],u,d=CT(c,a.span.start,_T),f=d[0]+d[1],h=f;for(;(u=c[h])&&u.span.start<a.span.end;)h+=1;if(f<h)return{level:l,lateralStart:f,lateralEnd:h}}return null}function ize(t,e){let r=wF((n,i,a)=>Au(n),(n,i,a)=>{let{nextLevelNodes:o,thickness:s}=n,l=s+a,c=s/l,u,d=[];if(!o.length)u=e;else for(let h of o)if(u===void 0){let p=r(h,i,l);u=p[0],d.push(p[1])}else{let p=r(h,u,0);d.push(p[1])}let f=(u-i)*c;return[u-f,Object.assign(Object.assign({},n),{thickness:f,nextLevelNodes:d})]});return t.map(n=>r(n,0,0)[1])}function aze(t){let e=[],r=wF((i,a,o)=>Au(i),(i,a,o)=>{let s=Object.assign(Object.assign({},i),{levelCoord:a,stackDepth:o,stackForward:0});return e.push(s),s.stackForward=n(i.nextLevelNodes,a+i.thickness,o+1)+1});function n(i,a,o){let s=0;for(let l of i)s=Math.max(r(l,a,o),s);return s}return n(t,0,0),e}function wF(t,e){let r={};return(...n)=>{let i=t(...n);return i in r?r[i]:r[i]=e(...n)}}function lre(t,e,r=null,n=0){let i=[];if(r)for(let a=0;a<t.length;a+=1){let o=t[a],s=r.computeDateTop(o.start,e),l=Math.max(s+(n||0),r.computeDateTop(o.end,e));i.push({start:Math.round(s),end:Math.round(l)})}return i}function oze(t,e,r,n){let i=[],a=[];for(let c=0;c<t.length;c+=1){let u=e[c];u?i.push({index:c,thickness:1,span:u}):a.push(t[c])}let{segRects:o,hiddenGroups:s}=JPe(i,r,n),l=[];for(let c of o)l.push({seg:t[c.index],rect:c});for(let c of a)l.push({seg:c,rect:null});return{segPlacements:l,hiddenGroups:s}}function dre(t,{todayRange:e,nowDate:r,eventSelection:n,eventDrag:i,eventResize:a}){let o=(i?i.affectedInstances:null)||(a?a.affectedInstances:null)||{};return se(sr,null,t.map(s=>{let l=s.eventRange.instance.instanceId;return se("div",{key:l,style:{visibility:o[l]?"hidden":""}},se(dA,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===n,isShort:!1},no(s,e,r))))}))}function sF(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function lze(t,e){return t.map(r=>e[r.index])}function cze(t,e){return e.map(r=>t[r.key])}function uze(t,e){let r=e||t,n=Ac(t,r);return n===null&&(r=t,n=1),{snapDuration:r,snapsPerSlot:n}}function dze(t,e,r){let n=[];for(let i of t.headerDates)n.push({start:r.add(i,e.slotMinTime),end:r.add(i,e.slotMaxTime)});return n}function fze(t,e,r,n,i){let a=new Date(0),o=t,s=Dr(0),l=r||hze(n),c=[];for(;va(o)<va(e);){let u=i.add(a,o),d=Ac(s,l)!==null;c.push({date:u,time:o,key:u.toISOString(),isoTimeStr:qP(u),isLabeled:d}),o=MT(o,n),s=MT(s,n)}return c}function hze(t){let e,r,n;for(e=cre.length-1;e>=0;e-=1)if(r=Dr(cre[e]),n=Ac(r,t),n!==null&&n>1)return r;return t}function pze(t,e){let r=new Qm(t.renderRange,e);return new Jm(r,!1)}var lF,GPe,cF,ZPe,$Pe,uF,dF,fF,hF,pF,sze,dA,mF,vF,gF,yF,bF,cre,fA,mze,fre=Re(()=>{Bs();Xh();oF();lF=class extends $m{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?tz(e)?["timed","allDay"]:["allDay"]:["timed"]}},GPe=ln({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});cF=class extends Kt{render(){return this.props.slatMetas.map(e=>se("tr",{key:e.key},se(ure,Object.assign({},e))))}},ZPe=ln({week:"short"}),$Pe=5,uF=class extends Ii{constructor(){super(...arguments),this.allDaySplitter=new lF,this.headerElRef=nn(),this.rootElRef=nn(),this.scrollerElRef=nn(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let r=this.scrollerElRef.current;r&&(r.scrollTop=e)},this.renderHeadAxis=(e,r="")=>{let{options:n}=this.context,{dateProfile:i}=this.props,a=i.renderRange,s=Iu(a.start,a.end)===1?ql(this.context,a.start,"week"):{};return n.weekNumbers&&e==="day"?se(XT,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:a.start,defaultFormat:ZPe},l=>se("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:r}},se(l,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:s}))):se("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},se("div",{className:"fc-timegrid-axis-frame",style:{height:r}}))},this.renderTableRowAxis=e=>{let{options:r,viewApi:n}=this.context,i={text:r.allDayText,view:n};return se(vn,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:r.allDayContent,defaultGenerator:XPe,classNameGenerator:r.allDayClassNames,didMount:r.allDayDidMount,willUnmount:r.allDayWillUnmount},a=>se("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},se(a,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,r,n){let{context:i,props:a}=this,o=[],s=Rc(i.options);return e&&o.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),r&&(o.push({type:"body",key:"all-day",chunk:{content:r}}),o.push({type:"body",key:"all-day-divider",outerContent:se("tr",{role:"presentation",className:"fc-scrollgrid-section"},se("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),o.push({type:"body",key:"body",liquid:!0,expandRows:!!i.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:n}}),se(Bo,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},se(Bh,{liquid:!a.isHeightAuto&&!a.forPrint,collapsibleWidth:a.forPrint,cols:[{width:"shrink"}],sections:o}))}renderHScrollLayout(e,r,n,i,a,o,s){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{context:c,props:u}=this,d=!u.forPrint&&Rc(c.options),f=!u.forPrint&&sf(c.options),h=[];e&&h.push({type:"header",key:"header",isSticky:d,syncRowHeights:!0,chunks:[{key:"axis",rowContent:m=>se("tr",{role:"presentation"},this.renderHeadAxis("day",m.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),r&&(h.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:m=>se("tr",{role:"presentation"},this.renderTableRowAxis(m.rowSyncHeights[0]))},{key:"cols",content:r}]}),h.push({key:"all-day-divider",type:"body",outerContent:se("tr",{role:"presentation",className:"fc-scrollgrid-section"},se("td",{colSpan:2,className:"fc-timegrid-divider "+c.theme.getClass("tableCellShaded")}))}));let p=c.options.nowIndicator;return h.push({type:"body",key:"body",liquid:!0,expandRows:!!c.options.expandRows,chunks:[{key:"axis",content:m=>se("div",{className:"fc-timegrid-axis-chunk"},se("table",{"aria-hidden":!0,style:{height:m.expandRows?m.clientHeight:""}},m.tableColGroupNode,se("tbody",null,se(cF,{slatMetas:o}))),se("div",{className:"fc-timegrid-now-indicator-container"},se(ta,{unit:p?"minute":"day"},v=>{let y=p&&s&&s.safeComputeTop(v);return typeof y=="number"?se(Lu,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:y},isAxis:!0,date:v}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),f&&h.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Mc},{key:"cols",content:Mc}]}),se(Bo,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:c.viewSpec},se(l,{liquid:!u.isHeightAuto&&!u.forPrint,forPrint:u.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:a}]}],sections:h}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:r}=this.context.options;return(e===!0||r===!0)&&(e=void 0,r=$Pe),{dayMaxEvents:e,dayMaxEventRows:r}}};dF=class{constructor(e,r,n){this.positions=e,this.dateProfile=r,this.slotDuration=n}safeComputeTop(e){let{dateProfile:r}=this;if(os(r.currentRange,e)){let n=cn(e),i=e.valueOf()-n.valueOf();if(i>=va(r.slotMinTime)&&i<va(r.slotMaxTime))return this.computeTimeTop(Dr(i))}return null}computeDateTop(e,r){return r||(r=cn(e)),this.computeTimeTop(Dr(e.valueOf()-r.valueOf()))}computeTimeTop(e){let{positions:r,dateProfile:n}=this,i=r.els.length,a=(e.milliseconds-va(n.slotMinTime))/va(this.slotDuration),o,s;return a=Math.max(0,a),a=Math.min(i,a),o=Math.floor(a),o=Math.min(o,i-1),s=a-o,r.tops[o]+r.getHeight(o)*s}},fF=class extends Kt{render(){let{props:e,context:r}=this,{options:n}=r,{slatElRefs:i}=e;return se("tbody",null,e.slatMetas.map((a,o)=>{let s={time:a.time,date:r.dateEnv.toDate(a.date),view:r.viewApi};return se("tr",{key:a.key,ref:i.createRef(a.key)},e.axis&&se(ure,Object.assign({},a)),se(vn,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!a.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":a.isoTimeStr},renderProps:s,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))}))}},hF=class extends Kt{constructor(){super(...arguments),this.rootElRef=nn(),this.slatElRefs=new Qn}render(){let{props:e,context:r}=this;return se("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},se("table",{"aria-hidden":!0,className:r.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,se(fF,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:r}=this;r.onCoords&&r.clientWidth!==null&&this.rootElRef.current.offsetHeight&&r.onCoords(new dF(new So(this.rootElRef.current,KPe(this.slatElRefs.currentMap,r.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}};pF=class extends Kt{render(){let{props:e}=this;return se(Jd,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>dre(e.hiddenSegs,e),defaultGenerator:QPe,forceTimed:!0},r=>se(r,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}};sze=ln({hour:"numeric",minute:"2-digit",meridiem:!1}),dA=class extends Kt{render(){return se(Mu,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:sze}))}},mF=class extends Kt{constructor(){super(...arguments),this.sortEventSegs=jt(af)}render(){let{props:e,context:r}=this,{options:n}=r,i=n.selectMirror,a=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],o=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},s=this.sortEventSegs(e.fgEventSegs,n.eventOrder);return se(jh,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},l=>se("div",{className:"fc-timegrid-col-frame"},se("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),se("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,o,!1,!1,!1)),se("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,{},!!e.eventDrag,!!e.eventResize,!!i,"mirror")),se("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),R0(n)&&se(l,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,r,n,i,a,o){let{props:s}=this;return s.forPrint?dre(e,s):this.renderPositionedFgSegs(e,r,n,i,a,o)}renderPositionedFgSegs(e,r,n,i,a,o){let{eventMaxStack:s,eventShortHeight:l,eventOrderStrict:c,eventMinHeight:u}=this.context.options,{date:d,slatCoords:f,eventSelection:h,todayRange:p,nowDate:m}=this.props,v=n||i||a,y=lre(e,d,f,u),{segPlacements:b,hiddenGroups:x}=oze(e,y,c,s);return se(sr,null,this.renderHiddenGroups(x,e),b.map(w=>{let{seg:S,rect:_}=w,C=S.eventRange.instance.instanceId,E=v||!!(!r[C]&&_),M=sF(_&&_.span),I=!v&&_?this.computeSegHStyle(_):{left:0,right:0},L=!!_&&_.stackForward>0,O=!!_&&_.span.end-_.span.start<l;return se("div",{className:"fc-timegrid-event-harness"+(L?" fc-timegrid-event-harness-inset":""),key:o||C,style:Object.assign(Object.assign({visibility:E?"":"hidden"},M),I)},se(dA,Object.assign({seg:S,isDragging:n,isResizing:i,isDateSelecting:a,isSelected:C===h,isShort:O},no(S,p,m))))}))}renderHiddenGroups(e,r){let{extraDateSpan:n,dateProfile:i,todayRange:a,nowDate:o,eventSelection:s,eventDrag:l,eventResize:c}=this.props;return se(sr,null,e.map(u=>{let d=sF(u.span),f=lze(u.entries,r);return se(pF,{key:tv(av(f)),hiddenSegs:f,top:d.top,bottom:d.bottom,extraDateSpan:n,dateProfile:i,todayRange:a,nowDate:o,eventSelection:s,eventDrag:l,eventResize:c})}))}renderFillSegs(e,r){let{props:n,context:i}=this,o=lre(e,n.date,n.slatCoords,i.options.eventMinHeight).map((s,l)=>{let c=e[l];return se("div",{key:rv(c.eventRange),className:"fc-timegrid-bg-harness",style:sF(s)},r==="bg-event"?se(Qd,Object.assign({seg:c},no(c,n.todayRange,n.nowDate))):iv(r))});return se(sr,null,o)}renderNowIndicator(e){let{slatCoords:r,date:n}=this.props;return r?e.map((i,a)=>se(Lu,{key:a,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:r.computeDateTop(i.start,n)},isAxis:!1,date:n})):null}computeSegHStyle(e){let{isRtl:r,options:n}=this.context,i=n.slotEventOverlap,a=e.levelCoord,o=e.levelCoord+e.thickness,s,l;i&&(o=Math.min(1,a+(o-a)*2)),r?(s=1-o,l=a):(s=a,l=1-o);let c={zIndex:e.stackDepth+1,left:s*100+"%",right:l*100+"%"};return i&&!e.stackForward&&(c[r?"marginLeft":"marginRight"]=10*2),c}};vF=class extends Kt{constructor(){super(...arguments),this.splitFgEventSegs=jt(iS),this.splitBgEventSegs=jt(iS),this.splitBusinessHourSegs=jt(iS),this.splitNowIndicatorSegs=jt(iS),this.splitDateSelectionSegs=jt(iS),this.splitEventDrag=jt(ore),this.splitEventResize=jt(ore),this.rootElRef=nn(),this.cellElRefs=new Qn}render(){let{props:e,context:r}=this,n=r.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),i=e.cells.length,a=this.splitFgEventSegs(e.fgEventSegs,i),o=this.splitBgEventSegs(e.bgEventSegs,i),s=this.splitBusinessHourSegs(e.businessHourSegs,i),l=this.splitNowIndicatorSegs(e.nowIndicatorSegs,i),c=this.splitDateSelectionSegs(e.dateSelectionSegs,i),u=this.splitEventDrag(e.eventDrag,i),d=this.splitEventResize(e.eventResize,i);return se("div",{className:"fc-timegrid-cols",ref:this.rootElRef},se("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,se("tbody",{role:"presentation"},se("tr",{role:"row"},e.axis&&se("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},se("div",{className:"fc-timegrid-col-frame"},se("div",{className:"fc-timegrid-now-indicator-container"},typeof n=="number"&&se(Lu,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:n},isAxis:!0,date:e.nowDate})))),e.cells.map((f,h)=>se(mF,{key:f.key,elRef:this.cellElRefs.createRef(f.key),dateProfile:e.dateProfile,date:f.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:f.extraRenderProps,extraDataAttrs:f.extraDataAttrs,extraClassNames:f.extraClassNames,extraDateSpan:f.extraDateSpan,fgEventSegs:a[h],bgEventSegs:o[h],businessHourSegs:s[h],nowIndicatorSegs:l[h],dateSelectionSegs:c[h],eventDrag:u[h],eventResize:d[h],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new So(this.rootElRef.current,cze(this.cellElRefs.currentMap,e.cells),!0,!1))}};gF=class extends Ii{constructor(){super(...arguments),this.processSlotOptions=jt(uze),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:r}=this.props,{slatCoords:n}=this.state;if(r&&n){if(e.time){let i=n.computeTimeTop(e.time);i=Math.ceil(i),i&&(i+=1),r(i)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:r}=this;return se("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},se(hF,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),se(vF,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:r.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,r){let{dateEnv:n,options:i}=this.context,{colCoords:a}=this,{dateProfile:o}=this.props,{slatCoords:s}=this.state,{snapDuration:l,snapsPerSlot:c}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),u=a.leftToIndex(e),d=s.positions.topToIndex(r);if(u!=null&&d!=null){let f=this.props.cells[u],h=s.positions.tops[d],p=s.positions.getHeight(d),m=(r-h)/p,v=Math.floor(m*c),y=d*c+v,b=this.props.cells[u].date,x=MT(o.slotMinTime,RT(l,y)),w=n.add(b,x),S=n.add(w,l);return{dateProfile:o,dateSpan:Object.assign({range:{start:w,end:S},allDay:!1},f.extraDateSpan),dayEl:a.els[u],rect:{left:a.lefts[u],right:a.rights[u],top:h,bottom:h+p},layer:0}}return null}};yF=class extends Xd{sliceRange(e,r){let n=[];for(let i=0;i<r.length;i+=1){let a=jo(e,r[i]);a&&n.push({start:a.start,end:a.end,isStart:a.start.valueOf()===e.start.valueOf(),isEnd:a.end.valueOf()===e.end.valueOf(),col:i})}return n}},bF=class extends Ii{constructor(){super(...arguments),this.buildDayRanges=jt(dze),this.slicer=new yF,this.timeColsRef=nn()}render(){let{props:e,context:r}=this,{dateProfile:n,dayTableModel:i}=e,{nowIndicator:a,nextDayThreshold:o}=r.options,s=this.buildDayRanges(i,n,r.dateEnv);return se(ta,{unit:a?"minute":"day"},(l,c)=>se(gF,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,n,null,r,s),{forPrint:e.forPrint,axis:e.axis,dateProfile:n,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:l,nowIndicatorSegs:a&&this.slicer.sliceNowDate(l,n,o,r,s),todayRange:c,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}};cre=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];fA=class extends uF{constructor(){super(...arguments),this.buildTimeColsModel=jt(pze),this.buildSlatMetas=jt(fze)}render(){let{options:e,dateEnv:r,dateProfileGenerator:n}=this.context,{props:i}=this,{dateProfile:a}=i,o=this.buildTimeColsModel(a,n),s=this.allDaySplitter.splitProps(i),l=this.buildSlatMetas(a.slotMinTime,a.slotMaxTime,e.slotLabelInterval,e.slotDuration,r),{dayMinWidth:c}=e,u=!c,d=c,f=e.dayHeaders&&se(Km,{dates:o.headerDates,dateProfile:a,datesRepDistinctDays:!0,renderIntro:u?this.renderHeadAxis:null}),h=e.allDaySlot!==!1&&(m=>se(nS,Object.assign({},s.allDay,{dateProfile:a,dayTableModel:o,nextDayThreshold:e.nextDayThreshold,tableMinWidth:m.tableMinWidth,colGroupNode:m.tableColGroupNode,renderRowIntro:u?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:m.clientWidth,clientHeight:m.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),p=m=>se(bF,Object.assign({},s.timed,{dayTableModel:o,dateProfile:a,axis:u,slotDuration:e.slotDuration,slatMetas:l,forPrint:i.forPrint,tableColGroupNode:m.tableColGroupNode,tableMinWidth:m.tableMinWidth,clientWidth:m.clientWidth,clientHeight:m.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:m.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return d?this.renderHScrollLayout(f,h,p,o.colCnt,c,l,this.state.slatCoords):this.renderSimpleLayout(f,h,p)}};mze='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';Pl(mze)});var hre={};Wr(hre,{default:()=>gze});var vze,gze,pre=Re(()=>{Ic();fre();vze={allDaySlot:Boolean},gze=Jn({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:vze,views:{timeGrid:{component:fA,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}})});function Sze(t){let e=t.options.schedulerLicenseKey,r=typeof window!="undefined"?window.location.href:"";if(!Cze(r)){let n=_ze(e,t.pluginHooks.premiumReleaseDate);if(n!=="valid")return se("div",{className:"fc-license-message",style:Tze},n==="outdated"?se(sr,null,"Your license key is too old to work with this version. ",se("a",{href:wze},"More Info")):se(sr,null,"Your license key is invalid. ",se("a",{href:bze},"More Info")))}return null}function _ze(t,e){if(xze.indexOf(t)!==-1)return"valid";let r=(t||"").match(/^(\d+)-fcs-(\d+)$/);if(r&&r[1].length===10){let n=new Date(parseInt(r[2],10)*1e3),i=io.mockSchedulerReleaseDate||e;if(IT(i))return Ln(i,-yze)<n?"valid":"outdated"}return"invalid"}function Cze(t){return/\w+:\/\/fullcalendar\.io\/|\/examples\/[\w-]+\.html$/.test(t)}var yze,bze,wze,xze,Tze,kze,z0,hA=Re(()=>{Ic();Bs();Xh();yze=372,bze="https://fullcalendar.io/docs/schedulerLicenseKey#invalid",wze="https://fullcalendar.io/docs/schedulerLicenseKey#outdated",xze=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],Tze={position:"absolute",zIndex:99999,bottom:"1px",left:"1px",background:"#eee",borderColor:"#ddd",borderStyle:"solid",borderWidth:"1px 1px 0 0",padding:"2px 4px",fontSize:"12px",borderTopRightRadius:"3px"};kze={schedulerLicenseKey:String},z0=Jn({name:"@fullcalendar/premium-common",premiumReleaseDate:"2025-06-30",optionRefiners:kze,viewContainerAppends:[Sze]})});function Eze(t){let e=t.getBoundingClientRect(),r=_D(t);return{left:e.left+r.borderLeft+r.scrollbarLeft-Dze(t),top:e.top+r.borderTop-t.scrollTop}}function Dze(t){let e=t.scrollLeft;if(window.getComputedStyle(t).direction==="rtl")switch(wre()){case"negative":e*=-1;case"reverse":e=t.scrollWidth-e-t.clientWidth}return e}function Aze(t,e){if(window.getComputedStyle(t).direction==="rtl")switch(wre()){case"reverse":e=t.scrollWidth-e;break;case"negative":e=-(t.scrollWidth-e);break}t.scrollLeft=e}function wre(){return mre||(mre=Mze())}function Mze(){let t=document.createElement("div");t.style.position="absolute",t.style.top="-1000px",t.style.width="100px",t.style.height="100px",t.style.overflow="scroll",t.style.direction="rtl";let e=document.createElement("div");e.style.width="200px",e.style.height="200px",t.appendChild(e),document.body.appendChild(t);let r;return t.scrollLeft>0?r="positive":(t.scrollLeft=1,t.scrollLeft>0?r="reverse":r="negative"),ev(t),r}function Ize(t,e,r){t.forEach((n,i)=>{let{textAlign:a,elWidth:o,parentBound:s}=e[i],l=s.right-s.left,c;a==="center"&&l>r?c=(r-o)/2:c="",ef(n,{left:c,right:c,top:0})})}function Nze(t){let e=0;for(let r of t)e+=r;return e}function gre(t){let e=Ru(t,".fc-scrollgrid-sync-inner").map(Lze);return e.length?Math.max(...e):0}function Lze(t){return t.offsetHeight}function Oze(t,e){let r=t.map((n,i)=>{let a=n.width;return a==="shrink"&&(a=n.totalColWidth+ID(e[i])+1),se("col",{style:{width:a}})});return se("colgroup",{},...r)}function Pze(t){let e=yre(t.cols,"width"),r=yre(t.cols,"minWidth"),n=ND(t.cols),i=t.width!=="shrink"&&!!(e||r||n);return{hasShrinkCol:n,totalColWidth:e,totalColMinWidth:r,allowXScrolling:i,cols:t.cols,width:t.width}}function yre(t,e){let r=0;for(let n of t){let i=n[e];typeof i=="number"&&(r+=i*(n.span||1))}return r}function Fze(t,e){return p0(t,e,zze)}function bre(t,...e){return new _F(t,e)}function pA(t){t.destroy()}function Hze(t,e){return new xF(t,e)}var mre,Rze,xF,TF,vre,SF,_F,lv,zze,CF=Re(()=>{Bs();Xh();Rze=".fc-sticky",xF=class{constructor(e,r){this.scrollEl=e,this.isRtl=r,this.updateSize=()=>{let{scrollEl:n}=this,i=Ru(n,Rze),a=this.queryElGeoms(i),o=n.clientWidth;Ize(i,a,o)}}queryElGeoms(e){let{scrollEl:r,isRtl:n}=this,i=Eze(r),a=[];for(let o of e){let s=xD(jT(o.parentNode,!0,!0),-i.left,-i.top),l=o.getBoundingClientRect(),c=window.getComputedStyle(o),u=window.getComputedStyle(o.parentNode).textAlign,d=null;u==="start"?u=n?"right":"left":u==="end"&&(u=n?"left":"right"),c.position!=="sticky"&&(d=xD(l,-i.left-(parseFloat(c.left)||0),-i.top-(parseFloat(c.top)||0))),a.push({parentBound:s,naturalBound:d,elWidth:l.width,elHeight:l.height,textAlign:u})}return a}};TF=class extends Kt{constructor(){super(...arguments),this.elRef=nn(),this.state={xScrollbarWidth:0,yScrollbarWidth:0},this.handleScroller=e=>{this.scroller=e,ro(this.props.scrollerRef,e)},this.handleSizing=()=>{let{props:e}=this;e.overflowY==="scroll-hidden"&&this.setState({yScrollbarWidth:this.scroller.getYScrollbarWidth()}),e.overflowX==="scroll-hidden"&&this.setState({xScrollbarWidth:this.scroller.getXScrollbarWidth()})}}render(){let{props:e,state:r,context:n}=this,i=n.isRtl&&M0(),a=0,o=0,s=0,{overflowX:l,overflowY:c}=e;return e.forPrint&&(l="visible",c="visible"),l==="scroll-hidden"&&(s=r.xScrollbarWidth),c==="scroll-hidden"&&r.yScrollbarWidth!=null&&(i?a=r.yScrollbarWidth:o=r.yScrollbarWidth),se("div",{ref:this.elRef,className:"fc-scroller-harness"+(e.liquid?" fc-scroller-harness-liquid":"")},se(Uh,{ref:this.handleScroller,elRef:this.props.scrollerElRef,overflowX:l==="scroll-hidden"?"scroll":l,overflowY:c==="scroll-hidden"?"scroll":c,overcomeLeft:a,overcomeRight:o,overcomeBottom:s,maxHeight:typeof e.maxHeight=="number"?e.maxHeight+(l==="scroll-hidden"?r.xScrollbarWidth:0):"",liquid:e.liquid,liquidIsAbsolute:!0},e.children))}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}getSnapshotBeforeUpdate(e){return this.props.forPrint&&!e.forPrint?{simulateScrollLeft:this.scroller.el.scrollLeft}:{}}componentDidUpdate(e,r,n){let{props:i,scroller:{el:a}}=this;if(xi(e,i)||this.handleSizing(),n.simulateScrollLeft!==void 0)a.style.left=-n.simulateScrollLeft+"px";else if(!i.forPrint&&e.forPrint){let o=-parseInt(a.style.left);a.style.left="",a.scrollLeft=o}}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}needsXScrolling(){return this.scroller.needsXScrolling()}needsYScrolling(){return this.scroller.needsYScrolling()}},vre="wheel mousewheel DomMouseScroll MozMousePixelScroll".split(" "),SF=class{constructor(e){this.el=e,this.emitter=new kc,this.isScrolling=!1,this.isTouching=!1,this.isRecentlyWheeled=!1,this.isRecentlyScrolled=!1,this.wheelWaiter=new Eu(this._handleWheelWaited.bind(this)),this.scrollWaiter=new Eu(this._handleScrollWaited.bind(this)),this.handleScroll=()=>{this.startScroll(),this.emitter.trigger("scroll",this.isRecentlyWheeled,this.isTouching),this.isRecentlyScrolled=!0,this.scrollWaiter.request(500)},this.handleWheel=()=>{this.isRecentlyWheeled=!0,this.wheelWaiter.request(500)},this.handleTouchStart=()=>{this.isTouching=!0},this.handleTouchEnd=()=>{this.isTouching=!1,this.isRecentlyScrolled||this.endScroll()},e.addEventListener("scroll",this.handleScroll),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.addEventListener("touchend",this.handleTouchEnd);for(let r of vre)e.addEventListener(r,this.handleWheel)}destroy(){let{el:e}=this;e.removeEventListener("scroll",this.handleScroll),e.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.removeEventListener("touchend",this.handleTouchEnd);for(let r of vre)e.removeEventListener(r,this.handleWheel)}startScroll(){this.isScrolling||(this.isScrolling=!0,this.emitter.trigger("scrollStart",this.isRecentlyWheeled,this.isTouching))}endScroll(){this.isScrolling&&(this.emitter.trigger("scrollEnd"),this.isScrolling=!1,this.isRecentlyScrolled=!0,this.isRecentlyWheeled=!1,this.scrollWaiter.clear(),this.wheelWaiter.clear())}_handleScrollWaited(){this.isRecentlyScrolled=!1,this.isTouching||this.endScroll()}_handleWheelWaited(){this.isRecentlyWheeled=!1}},_F=class{constructor(e,r){this.isVertical=e,this.scrollEls=r,this.isPaused=!1,this.scrollListeners=r.map(n=>this.bindScroller(n))}destroy(){for(let e of this.scrollListeners)e.destroy()}bindScroller(e){let{scrollEls:r,isVertical:n}=this,i=new SF(e),a=(s,l)=>{if(!this.isPaused&&((!this.masterEl||this.masterEl!==e&&(s||l))&&this.assignMaster(e),this.masterEl===e))for(let c of r)c!==e&&(n?c.scrollTop=e.scrollTop:c.scrollLeft=e.scrollLeft)},o=()=>{this.masterEl===e&&(this.masterEl=null)};return i.emitter.on("scroll",a),i.emitter.on("scrollEnd",o),i}assignMaster(e){this.masterEl=e;for(let r of this.scrollListeners)r.el!==e&&r.endScroll()}forceScrollLeft(e){this.isPaused=!0;for(let r of this.scrollListeners)Aze(r.el,e);this.isPaused=!1}forceScrollTop(e){this.isPaused=!0;for(let r of this.scrollListeners)r.el.scrollTop=e;this.isPaused=!1}};io.SCROLLGRID_RESIZE_INTERVAL=500;lv=class extends Kt{constructor(){super(...arguments),this.compileColGroupStats=NT(Pze,Fze),this.renderMicroColGroups=NT(RD),this.clippedScrollerRefs=new Qn,this.scrollerElRefs=new Qn(this._handleScrollerEl.bind(this)),this.chunkElRefs=new Qn(this._handleChunkEl.bind(this)),this.scrollSyncersBySection={},this.scrollSyncersByColumn={},this.rowUnstableMap=new Map,this.rowInnerMaxHeightMap=new Map,this.anyRowHeightsChanged=!1,this.recentSizingCnt=0,this.state={shrinkWidths:[],forceYScrollbars:!1,forceXScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{},sectionRowMaxHeights:[]},this.handleSizing=(e,r)=>{if(!this.allowSizing())return;r||(this.anyRowHeightsChanged=!0);let n={};(e||!r&&!this.rowUnstableMap.size)&&(n.sectionRowMaxHeights=this.computeSectionRowMaxHeights()),this.setState(Object.assign(Object.assign({shrinkWidths:this.computeShrinkWidths()},this.computeScrollerDims()),n),()=>{this.rowUnstableMap.size||this.updateStickyScrolling()})},this.handleRowHeightChange=(e,r)=>{let{rowUnstableMap:n,rowInnerMaxHeightMap:i}=this;if(!r)n.set(e,!0);else{n.delete(e);let a=gre(e);(!i.has(e)||i.get(e)!==a)&&(i.set(e,a),this.anyRowHeightsChanged=!0),!n.size&&this.anyRowHeightsChanged&&(this.anyRowHeightsChanged=!1,this.setState({sectionRowMaxHeights:this.computeSectionRowMaxHeights()}))}}}render(){let{props:e,state:r,context:n}=this,{shrinkWidths:i}=r,a=this.compileColGroupStats(e.colGroups.map(y=>[y])),o=this.renderMicroColGroups(a.map((y,b)=>[y.cols,i[b]])),s=LD(e.liquid,n);this.getDims();let l=e.sections,c=l.length,u=0,d,f=[],h=[],p=[];for(;u<c&&(d=l[u]).type==="header";)f.push(this.renderSection(d,u,a,o,r.sectionRowMaxHeights,!0)),u+=1;for(;u<c&&(d=l[u]).type==="body";)h.push(this.renderSection(d,u,a,o,r.sectionRowMaxHeights,!1)),u+=1;for(;u<c&&(d=l[u]).type==="footer";)p.push(this.renderSection(d,u,a,o,r.sectionRowMaxHeights,!0)),u+=1;let m=!UT(),v={role:"rowgroup"};return se("table",{ref:e.elRef,role:"grid",className:s.join(" ")},Oze(a,i),!!(!m&&f.length)&&se("thead",v,...f),!!(!m&&h.length)&&se("tbody",v,...h),!!(!m&&p.length)&&se("tfoot",v,...p),m&&se("tbody",v,...f,...h,...p))}renderSection(e,r,n,i,a,o){return"outerContent"in e?se(sr,{key:e.key},e.outerContent):se("tr",{key:e.key,role:"presentation",className:OD(e,this.props.liquid).join(" ")},e.chunks.map((s,l)=>this.renderChunk(e,r,n[l],i[l],s,l,(a[r]||[])[l]||[],o)))}renderChunk(e,r,n,i,a,o,s,l){if("outerContent"in a)return se(sr,{key:a.key},a.outerContent);let{state:c}=this,{scrollerClientWidths:u,scrollerClientHeights:d}=c,[f,h]=this.getDims(),p=r*h+o,m=!this.context.isRtl||M0()?h-1:0,v=o===m,y=r===f-1,b=y&&c.forceXScrollbars,x=v&&c.forceYScrollbars,w=n&&n.allowXScrolling,S=DD(this.props,e),_=$T(this.props,e),C=e.expandRows&&_,E=n&&n.totalColMinWidth||"",M=AD(e,a,{tableColGroupNode:i,tableMinWidth:E,clientWidth:u[p]!==void 0?u[p]:null,clientHeight:d[p]!==void 0?d[p]:null,expandRows:C,syncRowHeights:!!e.syncRowHeights,rowSyncHeights:s,reportRowHeightChange:this.handleRowHeightChange},l),I=b?y?"scroll":"scroll-hidden":w?y?"auto":"scroll-hidden":"hidden",L=x?v?"scroll":"scroll-hidden":S?v?"auto":"scroll-hidden":"hidden";return M=se(TF,{ref:this.clippedScrollerRefs.createRef(p),scrollerElRef:this.scrollerElRefs.createRef(p),overflowX:I,overflowY:L,forPrint:this.props.forPrint,liquid:_,maxHeight:e.maxHeight},M),se(l?"th":"td",{key:a.key,ref:this.chunkElRefs.createRef(p),role:"presentation"},M)}componentDidMount(){this.getStickyScrolling=NT(Hze),this.getScrollSyncersBySection=fD(bre.bind(this,!0),null,pA),this.getScrollSyncersByColumn=fD(bre.bind(this,!1),null,pA),this.updateScrollSyncers(),this.handleSizing(!1),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(e,r){this.updateScrollSyncers(),this.handleSizing(!1,r.sectionRowMaxHeights!==this.state.sectionRowMaxHeights)}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing),this.destroyScrollSyncers()}allowSizing(){let e=new Date;return!this.lastSizingDate||e.valueOf()>this.lastSizingDate.valueOf()+io.SCROLLGRID_RESIZE_INTERVAL?(this.lastSizingDate=e,this.recentSizingCnt=0,!0):(this.recentSizingCnt+=1)<=10}computeShrinkWidths(){let e=this.compileColGroupStats(this.props.colGroups.map(o=>[o])),[r,n]=this.getDims(),i=r*n,a=[];return e.forEach((o,s)=>{if(o.hasShrinkCol){let l=this.chunkElRefs.collect(s,i,n);a[s]=ED(l)}}),a}computeSectionRowMaxHeights(){let e=new Map,[r,n]=this.getDims(),i=[];for(let a=0;a<r;a+=1){let o=this.props.sections[a],s=[];if(o&&o.syncRowHeights){let l=[];for(let d=0;d<n;d+=1){let f=a*n+d,h=[],p=this.chunkElRefs.currentMap[f];p?h=Ru(p,".fc-scrollgrid-sync-table tr").map(m=>{let v=gre(m);return e.set(m,v),v}):h=[],l.push(h)}let c=l[0].length,u=!0;for(let d=1;d<n;d+=1)if(!(o.chunks[d]&&o.chunks[d].outerContent!==void 0)&&l[d].length!==c){u=!1;break}if(u){for(let d=0;d<n;d+=1)s.push([]);for(let d=0;d<c;d+=1){let f=[];for(let p=0;p<n;p+=1){let m=l[p][d];m!=null&&f.push(m)}let h=Math.max(...f);for(let p=0;p<n;p+=1)s[p].push(h)}}else{let d=[];for(let h=0;h<n;h+=1)d.push(Nze(l[h])+l[h].length);let f=Math.max(...d);for(let h=0;h<n;h+=1){let p=l[h].length,m=f-p,v=Math.floor(m/p),y=m-v*(p-1),b=[],x=0;for(x<p&&(b.push(y),x+=1);x<p;)b.push(v),x+=1;s.push(b)}}}i.push(s)}return this.rowInnerMaxHeightMap=e,i}computeScrollerDims(){let e=SD(),[r,n]=this.getDims(),i=!this.context.isRtl||M0()?n-1:0,a=r-1,o=this.clippedScrollerRefs.currentMap,s=this.scrollerElRefs.currentMap,l=!1,c=!1,u={},d={};for(let f=0;f<r;f+=1){let h=f*n+i,p=o[h];if(p&&p.needsYScrolling()){l=!0;break}}for(let f=0;f<n;f+=1){let h=a*n+f,p=o[h];if(p&&p.needsXScrolling()){c=!0;break}}for(let f=0;f<r;f+=1)for(let h=0;h<n;h+=1){let p=f*n+h,m=s[p];if(m){let v=m.parentNode;u[p]=Math.floor(v.getBoundingClientRect().width-(h===i&&l?e.y:0)),d[p]=Math.floor(v.getBoundingClientRect().height-(f===a&&c?e.x:0))}}return{forceYScrollbars:l,forceXScrollbars:c,scrollerClientWidths:u,scrollerClientHeights:d}}updateStickyScrolling(){let{isRtl:e}=this.context,r=this.scrollerElRefs.getAll().map(n=>[n,e]);this.getStickyScrolling(r).forEach(n=>n.updateSize())}updateScrollSyncers(){let[e,r]=this.getDims(),n=e*r,i={},a={},o=this.scrollerElRefs.currentMap;for(let s=0;s<e;s+=1){let l=s*r,c=l+r;i[s]=vD(o,l,c,1)}for(let s=0;s<r;s+=1)a[s]=this.scrollerElRefs.collect(s,n,r);this.scrollSyncersBySection=this.getScrollSyncersBySection(i),this.scrollSyncersByColumn=this.getScrollSyncersByColumn(a)}destroyScrollSyncers(){Ri(this.scrollSyncersBySection,pA),Ri(this.scrollSyncersByColumn,pA)}getChunkConfigByIndex(e){let r=this.getDims()[1],n=Math.floor(e/r),i=e%r,a=this.props.sections[n];return a&&a.chunks[i]}forceScrollLeft(e,r){let n=this.scrollSyncersByColumn[e];n&&n.forceScrollLeft(r)}forceScrollTop(e,r){let n=this.scrollSyncersBySection[e];n&&n.forceScrollTop(r)}_handleChunkEl(e,r){let n=this.getChunkConfigByIndex(parseInt(r,10));n&&ro(n.elRef,e)}_handleScrollerEl(e,r){let n=this.getChunkConfigByIndex(parseInt(r,10));n&&ro(n.scrollerElRef,e)}getDims(){let e=this.props.sections.length,r=e?this.props.sections[0].chunks.length:0;return[e,r]}};lv.addStateEquality({shrinkWidths:to,scrollerClientWidths:xi,scrollerClientHeights:xi});zze={cols:MD}});function OF(t,e,r,n){let i={labelInterval:r.slotLabelInterval,slotDuration:r.slotDuration};jze(i,t,e),Sre(i,t,e),Vze(i,t,e);let a=r.slotLabelFormat,o=Array.isArray(a)?a:a!=null?[a]:Wze(i,t,e,r);i.headerFormats=o.map(w=>ln(w)),i.isTimeScale=!!i.slotDuration.milliseconds;let s=null;if(!i.isTimeScale){let w=Nl(i.slotDuration).unit;/year|month|week/.test(w)&&(s=w)}i.largeUnit=s,i.emphasizeWeeks=uD(i.slotDuration)===1&&F0("weeks",t,e)>=2&&!r.businessHours;let l=r.snapDuration,c,u;l&&(c=Dr(l),u=Ac(i.slotDuration,c)),u==null&&(c=i.slotDuration,u=1),i.snapDuration=c,i.snapsPerSlot=u;let d=va(t.slotMaxTime)-va(t.slotMinTime),f=xre(t.renderRange.start,i,e),h=xre(t.renderRange.end,i,e);i.isTimeScale&&(f=e.add(f,t.slotMinTime),h=e.add(Ln(h,-1),t.slotMaxTime)),i.timeWindowMs=d,i.normalizedRange={start:f,end:h};let p=[],m=f;for(;m<h;)vA(m,i,t,n)&&p.push(m),m=e.add(m,i.slotDuration);i.slotDates=p;let v=-1,y=0,b=[],x=[];for(m=f;m<h;)vA(m,i,t,n)?(v+=1,b.push(v),x.push(y)):b.push(v+.5),m=e.add(m,i.snapDuration),y+=1;return i.snapDiffToIndex=b,i.snapIndexToDiff=x,i.snapCnt=v+1,i.slotCnt=i.snapCnt/i.snapsPerSlot,i.isWeekStarts=Gze(i,e),i.cellRows=Yze(i,e),i.slotsPerLabel=Ac(i.labelInterval,i.slotDuration),i}function xre(t,e,r){let n=t;return e.isTimeScale||(n=cn(n),e.largeUnit&&(n=r.startOf(n,e.largeUnit))),n}function Bze(t,e,r){if(!e.isTimeScale&&(t=k0(t),e.largeUnit)){let n=t;t={start:r.startOf(t.start,e.largeUnit),end:r.startOf(t.end,e.largeUnit)},(t.end.valueOf()!==n.end.valueOf()||t.end<=t.start)&&(t={start:t.start,end:r.add(t.end,e.slotDuration)})}return t}function vA(t,e,r,n){if(n.isHiddenDay(t))return!1;if(e.isTimeScale){let i=cn(t),o=t.valueOf()-i.valueOf()-va(r.slotMinTime);return o=(o%864e5+864e5)%864e5,o<e.timeWindowMs}return!0}function jze(t,e,r){let{currentRange:n}=e;if(t.labelInterval&&r.countDurationsBetween(n.start,n.end,t.labelInterval)>io.MAX_TIMELINE_SLOTS&&(console.warn("slotLabelInterval results in too many cells"),t.labelInterval=null),t.slotDuration&&r.countDurationsBetween(n.start,n.end,t.slotDuration)>io.MAX_TIMELINE_SLOTS&&(console.warn("slotDuration results in too many cells"),t.slotDuration=null),t.labelInterval&&t.slotDuration){let i=Ac(t.labelInterval,t.slotDuration);(i===null||i<1)&&(console.warn("slotLabelInterval must be a multiple of slotDuration"),t.slotDuration=null)}}function Sre(t,e,r){let{currentRange:n}=e,{labelInterval:i}=t;if(!i){let a;if(t.slotDuration){for(a of kF){let o=Dr(a),s=Ac(o,t.slotDuration);if(s!==null&&s<=mA){i=o;break}}i||(i=t.slotDuration)}else for(a of kF)if(i=Dr(a),r.countDurationsBetween(n.start,n.end,i)>=qze)break;t.labelInterval=i}return i}function Vze(t,e,r){let{currentRange:n}=e,{slotDuration:i}=t;if(!i){let a=Sre(t,e,r);for(let o of kF){let s=Dr(o),l=Ac(a,s);if(l!==null&&l>1&&l<=mA){i=s;break}}i&&r.countDurationsBetween(n.start,n.end,i)>Uze&&(i=null),i||(i=a),t.slotDuration=i}return i}function Wze(t,e,r,n){let i,a,{labelInterval:o}=t,s=Nl(o).unit,l=n.weekNumbers,c=i=a=null;switch(s==="week"&&!l&&(s="day"),s){case"year":c={year:"numeric"};break;case"month":F0("years",e,r)>1&&(c={year:"numeric"}),i={month:"short"};break;case"week":F0("years",e,r)>1&&(c={year:"numeric"}),i={week:"narrow"};break;case"day":F0("years",e,r)>1?c={year:"numeric",month:"long"}:F0("months",e,r)>1&&(c={month:"long"}),l&&(i={week:"short"}),a={weekday:"narrow",day:"numeric"};break;case"hour":l&&(c={week:"short"}),F0("days",e,r)>1&&(i={weekday:"short",day:"numeric",month:"numeric",omitCommas:!0}),a={hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"};break;case"minute":PP(o)/60>=mA?(c={hour:"numeric",meridiem:"short"},i=u=>":"+Cc(u.date.minute,2)):c={hour:"numeric",minute:"numeric",meridiem:"short"};break;case"second":zP(o)/60>=mA?(c={hour:"numeric",minute:"2-digit",meridiem:"lowercase"},i=u=>":"+Cc(u.date.second,2)):c={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"};break;case"millisecond":c={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"},i=u=>"."+Cc(u.millisecond,3);break}return[].concat(c||[],i||[],a||[])}function F0(t,e,r){let n=e.currentRange,i=null;return t==="years"?i=r.diffWholeYears(n.start,n.end):t==="months"||t==="weeks"?i=r.diffWholeMonths(n.start,n.end):t==="days"&&(i=qh(n.start,n.end)),i||0}function Gze(t,e){let{slotDates:r,emphasizeWeeks:n}=t,i=null,a=[];for(let o of r){let s=e.computeWeekNumber(o),l=n&&i!==null&&i!==s;i=s,a.push(l)}return a}function Yze(t,e){let r=t.slotDates,n=t.headerFormats,i=n.map(()=>[]),a=uD(t.slotDuration),o=a===7?"week":a===1?"day":null,s=n.map(l=>l.getSmallestUnit?l.getSmallestUnit():null);for(let l=0;l<r.length;l+=1){let c=r[l],u=t.isWeekStarts[l];for(let d=0;d<n.length;d+=1){let f=n[d],h=i[d],p=h[h.length-1],m=d===n.length-1,v=n.length>1&&!m,y=null,b=s[d]||(m?o:null);if(v){let x=e.format(c,f);!p||p.text!==x?y=Tre(c,x,b):p.colspan+=1}else if(!p||Yd(e.countDurationsBetween(t.normalizedRange.start,c,t.labelInterval))){let x=e.format(c,f);y=Tre(c,x,b)}else p.colspan+=1;y&&(y.weekStart=u,h.push(y))}}return i}function Tre(t,e,r){return{date:t,text:e,rowUnit:r,colspan:1,isWeekStart:!1}}function Zze(t,e,r){return r&&r!=="time"?ql(t,e,r):{}}function $ze(t){return t.text}function Xze(t){return{level:t.level,date:t.dateEnv.toDate(t.dateMarker),view:t.viewApi,text:t.text}}function MF(t,e,r){let n=r.countDurationsBetween(e.normalizedRange.start,t,e.snapDuration);if(n<0)return 0;if(n>=e.snapDiffToIndex.length)return e.snapCnt;let i=Math.floor(n),a=e.snapDiffToIndex[i];return Yd(a)?a+=n-i:a=Math.ceil(a),a}function bA(t,e){return t===null?{left:"",right:""}:e?{right:t,left:""}:{left:t,right:""}}function PF(t,e){return t?e?{right:t.start,left:-t.end}:{left:t.start,right:-t.end}:{left:"",right:""}}function Kze(t,e){return e.map(r=>{let n=r.toISOString();return t[n]})}function _re(t,e,r){let n=[];if(r)for(let i of t){let a=r.rangeToCoords(i),o=Math.round(a.start),s=Math.round(a.end);s-o<e&&(s=o+e),n.push({start:o,end:s})}return n}function Qze(t,e,r,n,i,a){let o=[],s=[];for(let b=0;b<t.length;b+=1){let x=t[b],w=x.eventRange.instance.instanceId,S=r[w],_=e[b];S&&_?o.push({index:b,span:_,thickness:S}):s.push({seg:x,hcoords:_,top:null})}let l=new $d;i!=null&&(l.strictOrder=i),a!=null&&(l.maxStackCnt=a);let c=l.addSegs(o),u=c.map(b=>({seg:t[b.index],hcoords:b.span,top:null})),d=WT(c),f=[],h=[],p=b=>t[b.index];for(let b=0;b<d.length;b+=1){let x=d[b],w=x.entries.map(p),S=n[tv(av(w))];S!=null?f.push({index:t.length+b,thickness:S,span:x.span}):h.push({seg:w,hcoords:x.span,top:null})}l.maxStackCnt=-1,l.addSegs(f);let m=l.toRects(),v=[],y=0;for(let b of m){let x=b.index;v.push({seg:x<t.length?t[x]:d[x-t.length].entries.map(p),hcoords:b.span,top:b.levelCoord}),y=Math.max(y,b.levelCoord+b.thickness)}return[v.concat(s,u,h),y]}function eFe(t,e,r){if(!t.length||!e)return[];let n=tFe(r);return t.map(i=>({seg:i,hcoords:e.rangeToCoords(i),top:n[i.eventRange.instance.instanceId]}))}function tFe(t){let e={};for(let r of t){let{seg:n}=r;Array.isArray(n)||(e[n.eventRange.instance.instanceId]=r.top)}return e}function zF(t,e){return[{span:t.slotCnt,minWidth:e||1}]}var qze,mA,Uze,kF,EF,DF,AF,aS,RF,IF,oS,sS,lS,Jze,gA,NF,H0,LF,yA,rFe,FF=Re(()=>{Bs();Xh();CF();qze=18,mA=6,Uze=200;io.MAX_TIMELINE_SLOTS=1e3;kF=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}];EF=class extends Kt{constructor(){super(...arguments),this.refineRenderProps=Fl(Xze),this.buildCellNavLinkAttrs=jt(Zze)}render(){let{props:e,context:r}=this,{dateEnv:n,options:i}=r,{cell:a,dateProfile:o,tDateProfile:s}=e,l=Yh(a.date,e.todayRange,e.nowDate,o),c=this.refineRenderProps({level:e.rowLevel,dateMarker:a.date,text:a.text,dateEnv:r.dateEnv,viewApi:r.viewApi});return se(vn,{elTag:"th",elClasses:["fc-timeline-slot","fc-timeline-slot-label",a.isWeekStart&&"fc-timeline-slot-em",...a.rowUnit==="time"?TD(l,r.theme):of(l,r.theme)],elAttrs:{colSpan:a.colspan,"data-date":n.formatIso(a.date,{omitTime:!s.isTimeScale,omitTimeZoneOffset:!0})},renderProps:c,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:$ze,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},u=>se("div",{className:"fc-timeline-slot-frame",style:{height:e.rowInnerHeight}},se(u,{elTag:"a",elClasses:["fc-timeline-slot-cushion","fc-scrollgrid-sync-inner",e.isSticky&&"fc-sticky"],elAttrs:this.buildCellNavLinkAttrs(r,a.date,a.rowUnit)})))}};DF=class extends Kt{render(){let{dateProfile:e,tDateProfile:r,rowInnerHeights:n,todayRange:i,nowDate:a}=this.props,{cellRows:o}=r;return se(sr,null,o.map((s,l)=>{let c=l===o.length-1,d=["fc-timeline-header-row",r.isTimeScale&&c?"fc-timeline-header-row-chrono":""];return se("tr",{key:l,className:d.join(" ")},s.map(f=>se(EF,{key:f.date.toISOString(),cell:f,rowLevel:l,dateProfile:e,tDateProfile:r,todayRange:i,nowDate:a,rowInnerHeight:n&&n[l],isSticky:!c})))}))}},AF=class{constructor(e,r,n,i,a,o){this.slatRootEl=e,this.dateProfile=n,this.tDateProfile=i,this.dateEnv=a,this.isRtl=o,this.outerCoordCache=new So(e,r,!0,!1),this.innerCoordCache=new So(e,EP(r,"div"),!0,!1)}isDateInRange(e){return os(this.dateProfile.currentRange,e)}dateToCoord(e){let{tDateProfile:r}=this,i=this.computeDateSnapCoverage(e)/r.snapsPerSlot,a=Math.floor(i);a=Math.min(a,r.slotCnt-1);let o=i-a,{innerCoordCache:s,outerCoordCache:l}=this;return this.isRtl?l.originClientRect.width-(l.rights[a]-s.getWidth(a)*o):l.lefts[a]+s.getWidth(a)*o}rangeToCoords(e){return{start:this.dateToCoord(e.start),end:this.dateToCoord(e.end)}}durationToCoord(e){let{dateProfile:r,tDateProfile:n,dateEnv:i,isRtl:a}=this,o=0;if(r){let s=i.add(r.activeRange.start,e);n.isTimeScale||(s=cn(s)),o=this.dateToCoord(s),!a&&o&&(o+=1)}return o}coordFromLeft(e){return this.isRtl?this.outerCoordCache.originClientRect.width-e:e}computeDateSnapCoverage(e){return MF(e,this.tDateProfile,this.dateEnv)}};aS=class extends Kt{constructor(){super(...arguments),this.rootElRef=nn()}render(){let{props:e,context:r}=this,n=Nl(e.tDateProfile.slotDuration).unit,i=e.slatCoords&&e.slatCoords.dateProfile===e.dateProfile?e.slatCoords:null;return se(ta,{unit:n},(a,o)=>se("div",{className:"fc-timeline-header",ref:this.rootElRef},se("table",{"aria-hidden":!0,className:"fc-scrollgrid-sync-table",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,se("tbody",null,se(DF,{dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:a,todayRange:o,rowInnerHeights:e.rowInnerHeights}))),r.options.nowIndicator&&se("div",{className:"fc-timeline-now-indicator-container"},i&&i.isDateInRange(a)&&se(Lu,{elClasses:["fc-timeline-now-indicator-arrow"],elStyle:bA(i.dateToCoord(a),r.isRtl),isAxis:!0,date:a}))))}componentDidMount(){this.updateSize()}componentDidUpdate(){this.updateSize()}updateSize(){this.props.onMaxCushionWidth&&this.props.onMaxCushionWidth(this.computeMaxCushionWidth())}computeMaxCushionWidth(){return Math.max(...Ru(this.rootElRef.current,".fc-timeline-header-row:last-child .fc-timeline-slot-cushion").map(e=>e.getBoundingClientRect().width))}},RF=class extends Kt{render(){let{props:e,context:r}=this,{dateEnv:n,options:i,theme:a}=r,{date:o,tDateProfile:s,isEm:l}=e,c=Yh(e.date,e.todayRange,e.nowDate,e.dateProfile),u=Object.assign(Object.assign({date:n.toDate(e.date)},c),{view:r.viewApi});return se(vn,{elTag:"td",elRef:e.elRef,elClasses:["fc-timeline-slot","fc-timeline-slot-lane",l&&"fc-timeline-slot-em",s.isTimeScale?Yd(n.countDurationsBetween(s.normalizedRange.start,e.date,s.labelInterval))?"fc-timeline-slot-major":"fc-timeline-slot-minor":"",...e.isDay?of(c,a):TD(c,a)],elAttrs:{"data-date":n.formatIso(o,{omitTimeZoneOffset:!0,omitTime:!s.isTimeScale})},renderProps:u,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount},d=>se(d,{elTag:"div"}))}},IF=class extends Kt{render(){let{props:e}=this,{tDateProfile:r,cellElRefs:n}=e,{slotDates:i,isWeekStarts:a}=r,o=!r.isTimeScale&&!r.largeUnit;return se("tbody",null,se("tr",null,i.map((s,l)=>{let c=s.toISOString();return se(RF,{key:c,elRef:n.createRef(c),date:s,dateProfile:e.dateProfile,tDateProfile:r,nowDate:e.nowDate,todayRange:e.todayRange,isEm:a[l],isDay:o})})))}},oS=class extends Kt{constructor(){super(...arguments),this.rootElRef=nn(),this.cellElRefs=new Qn,this.handleScrollRequest=e=>{let{onScrollLeftRequest:r}=this.props,{coords:n}=this;if(r&&n){if(e.time){let i=n.coordFromLeft(n.durationToCoord(e.time));r(i)}return!0}return null}}render(){let{props:e,context:r}=this;return se("div",{className:"fc-timeline-slots",ref:this.rootElRef},se("table",{"aria-hidden":!0,className:r.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,se(IF,{cellElRefs:this.cellElRefs,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange})))}componentDidMount(){this.updateSizing(),this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.updateSizing(),this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach(),this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{props:e,context:r}=this;e.clientWidth!==null&&this.scrollResponder&&this.rootElRef.current.offsetWidth&&(this.coords=new AF(this.rootElRef.current,Kze(this.cellElRefs.currentMap,e.tDateProfile.slotDates),e.dateProfile,e.tDateProfile,r.dateEnv,r.isRtl),e.onCoords&&e.onCoords(this.coords),this.scrollResponder.update(!1))}positionToHit(e){let{outerCoordCache:r}=this.coords,{dateEnv:n,isRtl:i}=this.context,{tDateProfile:a}=this.props,o=r.leftToIndex(e);if(o!=null){let s=r.getWidth(o),l=i?(r.rights[o]-e)/s:(e-r.lefts[o])/s,c=Math.floor(l*a.snapsPerSlot),u=n.add(a.slotDates[o],RT(a.snapDuration,c)),d=n.add(u,a.snapDuration);return{dateSpan:{range:{start:u,end:d},allDay:!this.props.tDateProfile.isTimeScale},dayEl:this.cellElRefs.currentMap[o],left:r.lefts[o],right:r.rights[o]}}return null}};sS=class extends Kt{render(){let{props:e}=this,r=[].concat(e.eventResizeSegs,e.dateSelectionSegs);return e.timelineCoords&&se("div",{className:"fc-timeline-bg"},this.renderSegs(e.businessHourSegs||[],e.timelineCoords,"non-business"),this.renderSegs(e.bgEventSegs||[],e.timelineCoords,"bg-event"),this.renderSegs(r,e.timelineCoords,"highlight"))}renderSegs(e,r,n){let{todayRange:i,nowDate:a}=this.props,{isRtl:o}=this.context,s=_re(e,0,r),l=e.map((c,u)=>{let d=s[u],f=PF(d,o);return se("div",{key:rv(c.eventRange),className:"fc-timeline-bg-harness",style:f},n==="bg-event"?se(Qd,Object.assign({seg:c},no(c,i,a))):iv(n))});return se(sr,null,l)}},lS=class extends Xd{sliceRange(e,r,n,i,a){let o=Bze(e,i,a),s=[];if(MF(o.start,i,a)<MF(o.end,i,a)){let l=jo(o,i.normalizedRange);l&&s.push({start:l.start,end:l.end,isStart:l.start.valueOf()===o.start.valueOf()&&vA(l.start,i,r,n),isEnd:l.end.valueOf()===o.end.valueOf()&&vA(Ll(l.end,-1),i,r,n)})}return s}},Jze=ln({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"}),gA=class extends Kt{render(){let{props:e}=this;return se(Mu,Object.assign({},e,{elClasses:["fc-timeline-event","fc-h-event"],defaultTimeFormat:Jze,defaultDisplayEventTime:!e.isTimeScale}))}},NF=class extends Kt{render(){let{props:e,context:r}=this,{hiddenSegs:n,placement:i,resourceId:a}=e,{top:o,hcoords:s}=i,l=s&&o!==null,c=PF(s,r.isRtl),u=a?{resourceId:a}:{};return se(Jd,{elRef:e.elRef,elClasses:["fc-timeline-more-link"],elStyle:Object.assign({visibility:l?"":"hidden",top:o||0},c),allDayDate:null,moreCnt:n.length,allSegs:n,hiddenSegs:n,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:u,popoverContent:()=>se(sr,null,n.map(d=>{let f=d.eventRange.instance.instanceId;return se("div",{key:f,style:{visibility:e.isForcedInvisible[f]?"hidden":""}},se(gA,Object.assign({isTimeScale:e.isTimeScale,seg:d,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:f===e.eventSelection},no(d,e.todayRange,e.nowDate))))}))},d=>se(d,{elTag:"div",elClasses:["fc-timeline-more-link-inner","fc-sticky"]}))}},H0=class extends Kt{constructor(){super(...arguments),this.slicer=new lS,this.sortEventSegs=jt(af),this.harnessElRefs=new Qn,this.moreElRefs=new Qn,this.innerElRef=nn(),this.state={eventInstanceHeights:{},moreLinkHeights:{}},this.handleResize=e=>{e&&this.updateSize()}}render(){let{props:e,state:r,context:n}=this,{options:i}=n,{dateProfile:a,tDateProfile:o}=e,s=this.slicer.sliceProps(e,a,o.isTimeScale?null:e.nextDayThreshold,n,a,n.dateProfileGenerator,o,n.dateEnv),l=(s.eventDrag?s.eventDrag.segs:null)||(s.eventResize?s.eventResize.segs:null)||[],c=this.sortEventSegs(s.fgEventSegs,i.eventOrder),u=_re(c,i.eventMinWidth,e.timelineCoords),[d,f]=Qze(c,u,r.eventInstanceHeights,r.moreLinkHeights,i.eventOrderStrict,i.eventMaxStack),h=(s.eventDrag?s.eventDrag.affectedInstances:null)||(s.eventResize?s.eventResize.affectedInstances:null)||{};return se(sr,null,se(sS,{businessHourSegs:s.businessHourSegs,bgEventSegs:s.bgEventSegs,timelineCoords:e.timelineCoords,eventResizeSegs:s.eventResize?s.eventResize.segs:[],dateSelectionSegs:s.dateSelectionSegs,nowDate:e.nowDate,todayRange:e.todayRange}),se("div",{className:"fc-timeline-events fc-scrollgrid-sync-inner",ref:this.innerElRef,style:{height:f}},this.renderFgSegs(d,h,!1,!1,!1),this.renderFgSegs(eFe(l,e.timelineCoords,d),{},!!s.eventDrag,!!s.eventResize,!1)))}componentDidMount(){this.updateSize(),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,r){(e.eventStore!==this.props.eventStore||e.timelineCoords!==this.props.timelineCoords||r.moreLinkHeights!==this.state.moreLinkHeights)&&this.updateSize()}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateSize(){let{props:e}=this,{timelineCoords:r}=e,n=this.innerElRef.current;e.onHeightChange&&e.onHeightChange(n,!1),r&&this.setState({eventInstanceHeights:Ri(this.harnessElRefs.currentMap,i=>Math.round(i.getBoundingClientRect().height)),moreLinkHeights:Ri(this.moreElRefs.currentMap,i=>Math.round(i.getBoundingClientRect().height))},()=>{e.onHeightChange&&e.onHeightChange(n,!0)}),e.syncParentMinHeight&&(n.parentElement.style.minHeight=n.style.height)}renderFgSegs(e,r,n,i,a){let{harnessElRefs:o,moreElRefs:s,props:l,context:c}=this,u=n||i||a;return se(sr,null,e.map(d=>{let{seg:f,hcoords:h,top:p}=d;if(Array.isArray(f)){let b=tv(av(f));return se(NF,{key:"m:"+b,elRef:s.createRef(b),hiddenSegs:f,placement:d,dateProfile:l.dateProfile,nowDate:l.nowDate,todayRange:l.todayRange,isTimeScale:l.tDateProfile.isTimeScale,eventSelection:l.eventSelection,resourceId:l.resourceId,isForcedInvisible:r})}let m=f.eventRange.instance.instanceId,v=u||!!(!r[m]&&h&&p!==null),y=PF(h,c.isRtl);return se("div",{key:"e:"+m,ref:u?null:o.createRef(m),className:"fc-timeline-event-harness",style:Object.assign({visibility:v?"":"hidden",top:p||0},y)},se(gA,Object.assign({isTimeScale:l.tDateProfile.isTimeScale,seg:f,isDragging:n,isResizing:i,isDateSelecting:a,isSelected:m===l.eventSelection},no(f,l.todayRange,l.nowDate))))}))}};H0.addStateEquality({eventInstanceHeights:xi,moreLinkHeights:xi});LF=class extends Ii{constructor(){super(...arguments),this.slatsRef=nn(),this.state={coords:null},this.handeEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)},this.handleCoords=e=>{this.setState({coords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:r,context:n}=this,{options:i}=n,{dateProfile:a,tDateProfile:o}=e,s=Nl(o.slotDuration).unit;return se("div",{className:"fc-timeline-body",ref:this.handeEl,style:{minWidth:e.tableMinWidth,height:e.clientHeight,width:e.clientWidth}},se(ta,{unit:s},(l,c)=>se(sr,null,se(oS,{ref:this.slatsRef,dateProfile:a,tDateProfile:o,nowDate:l,todayRange:c,clientWidth:e.clientWidth,tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,onCoords:this.handleCoords,onScrollLeftRequest:e.onScrollLeftRequest}),se(H0,{dateProfile:a,tDateProfile:e.tDateProfile,nowDate:l,todayRange:c,nextDayThreshold:i.nextDayThreshold,businessHours:e.businessHours,eventStore:e.eventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,timelineCoords:r.coords,syncParentMinHeight:!0}),i.nowIndicator&&r.coords&&r.coords.isDateInRange(l)&&se("div",{className:"fc-timeline-now-indicator-container"},se(Lu,{elClasses:["fc-timeline-now-indicator-line"],elStyle:bA(r.coords.dateToCoord(l),n.isRtl),isAxis:!1,date:l})))))}queryHit(e,r,n,i){let o=this.slatsRef.current.positionToHit(e);return o?{dateProfile:this.props.dateProfile,dateSpan:o.dateSpan,rect:{left:o.left,right:o.right,top:0,bottom:i},dayEl:o.dayEl,layer:0}:null}},yA=class extends Ii{constructor(){super(...arguments),this.buildTimelineDateProfile=jt(OF),this.scrollGridRef=nn(),this.state={slatCoords:null,slotCushionMaxWidth:null},this.handleSlatCoords=e=>{this.setState({slatCoords:e})},this.handleScrollLeftRequest=e=>{this.scrollGridRef.current.forceScrollLeft(0,e)},this.handleMaxCushionWidth=e=>{this.setState({slotCushionMaxWidth:Math.ceil(e)})}}render(){let{props:e,state:r,context:n}=this,{options:i}=n,a=!e.forPrint&&Rc(i),o=!e.forPrint&&sf(i),s=this.buildTimelineDateProfile(e.dateProfile,n.dateEnv,i,n.dateProfileGenerator),{slotMinWidth:l}=i,c=zF(s,l||this.computeFallbackSlotMinWidth(s)),u=[{type:"header",key:"header",isSticky:a,chunks:[{key:"timeline",content:d=>se(aS,{dateProfile:e.dateProfile,clientWidth:d.clientWidth,clientHeight:d.clientHeight,tableMinWidth:d.tableMinWidth,tableColGroupNode:d.tableColGroupNode,tDateProfile:s,slatCoords:r.slatCoords,onMaxCushionWidth:l?null:this.handleMaxCushionWidth})}]},{type:"body",key:"body",liquid:!0,chunks:[{key:"timeline",content:d=>se(LF,Object.assign({},e,{clientWidth:d.clientWidth,clientHeight:d.clientHeight,tableMinWidth:d.tableMinWidth,tableColGroupNode:d.tableColGroupNode,tDateProfile:s,onSlatCoords:this.handleSlatCoords,onScrollLeftRequest:this.handleScrollLeftRequest}))}]}];return o&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"timeline",content:Mc}]}),se(Bo,{elClasses:["fc-timeline",i.eventOverlap===!1?"fc-timeline-overlap-disabled":""],viewSpec:n.viewSpec},se(lv,{ref:this.scrollGridRef,liquid:!e.isHeightAuto&&!e.forPrint,forPrint:e.forPrint,collapsibleWidth:!1,colGroups:[{cols:c}],sections:u}))}computeFallbackSlotMinWidth(e){return Math.max(30,(this.state.slotCushionMaxWidth||0)/e.slotsPerLabel)}};rFe='.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{bottom:0;position:absolute;top:0;z-index:1}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{align-items:center;display:flex;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-header-row:last-child .fc-timeline-slot-frame{overflow:hidden}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:4}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;pointer-events:none;position:absolute;top:0}.fc .fc-timeline-now-indicator-arrow{border-left-color:transparent;border-right-color:transparent;border-width:6px 5px 0;margin:0 -6px}.fc .fc-timeline-now-indicator-line{border-width:0 0 0 1px;bottom:0;margin:0 -1px}.fc .fc-timeline-events{position:relative;width:0;z-index:3}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{align-items:center;border-radius:0;display:flex;font-size:var(--fc-small-font-size);margin-bottom:1px;padding:2px 1px;position:relative}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{padding:0 2px;white-space:nowrap}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{margin-bottom:0;padding-bottom:5px;padding-top:5px}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{border-color:transparent #000;border-style:solid;border-width:5px;content:"";flex-grow:0;flex-shrink:0;height:0;margin:0 1px;opacity:.5;width:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;font-size:var(--fc-small-font-size);padding:1px}.fc-timeline-more-link-inner{display:inline-block;left:0;padding:2px;right:0}.fc .fc-timeline-bg{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:2}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{bottom:0;position:absolute;top:0}';Pl(rFe)});var Cre,kre=Re(()=>{Ic();hA();FF();Cre=Jn({name:"@fullcalendar/timeline",premiumReleaseDate:"2025-06-30",deps:[z0],initialView:"timelineDay",views:{timeline:{component:yA,usesMinMaxTime:!0,eventResizableFromStart:!0},timelineDay:{type:"timeline",duration:{days:1}},timelineWeek:{type:"timeline",duration:{weeks:1}},timelineMonth:{type:"timeline",duration:{months:1}},timelineYear:{type:"timeline",duration:{years:1}}}})});function xA(t,e="",r,n){let{refined:i,extra:a}=rf(t,nFe),o={id:i.id||Ere+ss(),parentId:i.parentId||e,title:i.title||"",businessHours:i.businessHours?zT(i.businessHours,n):null,ui:Wh({editable:i.eventEditable,startEditable:i.eventStartEditable,durationEditable:i.eventDurationEditable,constraint:i.eventConstraint,overlap:i.eventOverlap,allow:i.eventAllow,classNames:i.eventClassNames,backgroundColor:i.eventBackgroundColor,borderColor:i.eventBorderColor,textColor:i.eventTextColor,color:i.eventColor},n),extendedProps:Object.assign(Object.assign({},a),i.extendedProps)};if(Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),!r[o.id]){if(r[o.id]=o,i.children)for(let s of i.children)xA(s,o.id,r,n)}return o}function TA(t){return t.indexOf(Ere)===0?"":t}function iFe(t,e){let r=[];for(let n in t)r.push(new ds(e,t[n]));return r}function Dre(t,e){let{emitter:r}=e;r.hasHandlers("resourcesSet")&&r.trigger("resourcesSet",iFe(t,e))}function qF(t){return{resource:new ds(t.context,t.resource)}}function UF(t,e,r,n,i,a){let o=aFe(t,n?-1:1,e,r),s=[];return wA(o,s,n,[],0,i,a),s}function wA(t,e,r,n,i,a,o){for(let s=0;s<t.length;s+=1){let l=t[s],c=l.group;if(c)if(r){let u=e.length,d=n.length;if(wA(l.children,e,r,n.concat(0),i,a,o),u<e.length){let f=e[u],h=f.rowSpans=f.rowSpans.slice();h[d]=e.length-u}}else{let u=c.spec.field+":"+c.value,d=a[u]!=null?a[u]:o;e.push({id:u,group:c,isExpanded:d}),d&&wA(l.children,e,r,n,i+1,a,o)}else if(l.resource){let u=l.resource.id,d=a[u]!=null?a[u]:o;e.push({id:u,rowSpans:n,depth:i,isExpanded:d,hasChildren:!!l.children.length,resource:l.resource,resourceFields:l.resourceFields}),d&&wA(l.children,e,r,n,i+1,a,o)}}}function aFe(t,e,r,n){let i=oFe(t,n),a=[];for(let o in i){let s=i[o];s.resource.parentId||Are(s,a,r,0,e,n)}return a}function oFe(t,e){let r={};for(let n in t){let i=t[n];r[n]={resource:i,resourceFields:SA(i),children:[]}}for(let n in t){let i=t[n];if(i.parentId){let a=r[i.parentId];a&&Mre(r[n],a.children,e)}}return r}function Are(t,e,r,n,i,a){if(r.length&&(i===-1||n<=i)){let o=sFe(t,e,r[0]);Are(t,o.children,r.slice(1),n+1,i,a)}else Mre(t,e,a)}function sFe(t,e,r){let n=t.resourceFields[r.field],i,a;if(r.order)for(a=0;a<e.length;a+=1){let o=e[a];if(o.group){let s=cD(n,o.group.value)*r.order;if(s===0){i=o;break}else if(s<0)break}}else for(a=0;a<e.length;a+=1){let o=e[a];if(o.group&&n===o.group.value){i=o;break}}return i||(i={group:{value:n,spec:r},children:[]},e.splice(a,0,i)),i}function Mre(t,e,r){let n;for(n=0;n<e.length&&!(lD(e[n].resourceFields,t.resourceFields,r)>0);n+=1);e.splice(n,0,t)}function SA(t){let e=Object.assign(Object.assign(Object.assign({},t.extendedProps),t.ui),t);return delete e.ui,delete e.extendedProps,e}function BF(t,e){return t.spec===e.spec&&t.value===e.value}var Ere,nFe,ds,cv,HF,_A=Re(()=>{Bs();Ere="_fc:",nFe={id:String,parentId:String,children:Be,title:String,businessHours:Be,extendedProps:Be,eventEditable:Boolean,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventConstraint:Be,eventOverlap:Boolean,eventAllow:Be,eventClassNames:bT,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String};ds=class t{constructor(e,r){this._context=e,this._resource=r}setProp(e,r){let n=this._resource;this._context.dispatch({type:"SET_RESOURCE_PROP",resourceId:n.id,propName:e,propValue:r}),this.sync(n)}setExtendedProp(e,r){let n=this._resource;this._context.dispatch({type:"SET_RESOURCE_EXTENDED_PROP",resourceId:n.id,propName:e,propValue:r}),this.sync(n)}sync(e){let r=this._context,n=e.id;this._resource=r.getCurrentData().resourceStore[n],r.emitter.trigger("resourceChange",{oldResource:new t(r,e),resource:this,revert(){r.dispatch({type:"ADD_RESOURCE",resourceHash:{[n]:e}})}})}remove(){let e=this._context,r=this._resource,n=r.id;e.dispatch({type:"REMOVE_RESOURCE",resourceId:n}),e.emitter.trigger("resourceRemove",{resource:this,revert(){e.dispatch({type:"ADD_RESOURCE",resourceHash:{[n]:r}})}})}getParent(){let e=this._context,r=this._resource.parentId;return r?new t(e,e.getCurrentData().resourceStore[r]):null}getChildren(){let e=this._resource.id,r=this._context,{resourceStore:n}=r.getCurrentData(),i=[];for(let a in n)n[a].parentId===e&&i.push(new t(r,n[a]));return i}getEvents(){let e=this._resource.id,r=this._context,{defs:n,instances:i}=r.getCurrentData().eventStore,a=[];for(let o in i){let s=i[o],l=n[s.defId];l.resourceIds.indexOf(e)!==-1&&a.push(new yn(r,l,s))}return a}get id(){return TA(this._resource.id)}get title(){return this._resource.title}get eventConstraint(){return this._resource.ui.constraints[0]||null}get eventOverlap(){return this._resource.ui.overlap}get eventAllow(){return this._resource.ui.allows[0]||null}get eventBackgroundColor(){return this._resource.ui.backgroundColor}get eventBorderColor(){return this._resource.ui.borderColor}get eventTextColor(){return this._resource.ui.textColor}get eventClassNames(){return this._resource.ui.classNames}get extendedProps(){return this._resource.extendedProps}toPlainObject(e={}){let r=this._resource,{ui:n}=r,i=this.id,a={};return i&&(a.id=i),r.title&&(a.title=r.title),e.collapseEventColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?a.eventColor=n.backgroundColor:(n.backgroundColor&&(a.eventBackgroundColor=n.backgroundColor),n.borderColor&&(a.eventBorderColor=n.borderColor)),n.textColor&&(a.eventTextColor=n.textColor),n.classNames.length&&(a.eventClassNames=n.classNames),Object.keys(r.extendedProps).length&&(e.collapseExtendedProps?Object.assign(a,r.extendedProps):a.extendedProps=r.extendedProps),a}toJSON(){return this.toPlainObject()}};cv=class extends $m{getKeyInfo(e){return Object.assign({"":{}},e.resourceStore)}getKeysForDateSpan(e){return[e.resourceId||""]}getKeysForEventDef(e){let r=e.resourceIds;return r.length?r:[""]}},HF=x0("id,title")});function lFe(t,e,r){let n=e.dateSpan.resourceId,i=r.dateSpan.resourceId;n&&i&&n!==i&&(t.resourceMutation={matchResourceId:n,setResourceId:i})}function cFe(t,e,r){let n=e.resourceMutation;if(n&&Ire(t,r)){let i=t.resourceIds.indexOf(n.matchResourceId);if(i!==-1){let a=t.resourceIds.slice();a.splice(i,1),a.indexOf(n.setResourceId)===-1&&a.push(n.setResourceId),t.resourceIds=a}}}function Ire(t,e){let{resourceEditable:r}=t;if(r==null){let n=t.sourceId&&e.getCurrentData().eventSources[t.sourceId];n&&(r=n.extendedProps.resourceEditable),r==null&&(r=e.options.eventResourceEditable,r==null&&(r=e.options.editable))}return r}function uFe(t,e){let{resourceMutation:r}=t;if(r){let{calendarApi:n}=e;return{oldResource:n.getResourceById(r.matchResourceId),newResource:n.getResourceById(r.setResourceId)}}return{oldResource:null,newResource:null}}function dFe(t,e,r,n){if(e){let i=fFe(r.instances,n),a=hFe(i,r.defs);return Object.assign(a,pFe(a,t)),Ol(t,(o,s)=>a[s])}return t}function fFe(t,e){return Ol(t,r=>_0(r.range,e))}function hFe(t,e){let r={};for(let n in t){let i=t[n];for(let a of e[i.defId].resourceIds)r[a]=!0}return r}function pFe(t,e){let r={};for(let n in t){let i;for(;(i=e[n])&&(n=i.parentId,n);)r[n]=!0}return r}function mFe(t,e,r,n){if(!t){let i=n.getCurrentData();if(i.viewSpecs[i.currentViewType].optionDefaults.needsResourceData&&Ire(e,n))return!0}return t}function vFe(t){return Ri(t,e=>e.ui)}function gFe(t,e,r){return Ri(t,(n,i)=>i?yFe(n,e[i],r):n)}function yFe(t,e,r){let n=[];for(let i of e.resourceIds)r[i]&&n.unshift(r[i]);return n.unshift(t),PT(n)}function GF(t){WF.push(t)}function Nre(t){return WF[t]}function bFe(){return WF}function xFe(t){let e;if(typeof t=="string"?e={url:t}:typeof t=="function"||Array.isArray(t)?e={resources:t}:typeof t=="object"&&t&&(e=t),e){let{refined:r,extra:n}=rf(e,wFe);SFe(n);let i=TFe(r);if(i)return{_raw:t,sourceId:ss(),sourceDefId:i.sourceDefId,meta:i.meta,publicId:r.id||"",isFetching:!1,latestFetchId:"",fetchRange:null}}return null}function TFe(t){let e=bFe();for(let r=e.length-1;r>=0;r-=1){let i=e[r].parseMeta(t);if(i)return{meta:i,sourceDefId:r}}return null}function SFe(t){for(let e in t)console.warn(`Unknown resource prop '${e}'`)}function _Fe(t,e,r){let{options:n,dateProfile:i}=r;if(!t||!e)return Rre(n.initialResources||n.resources,i.activeRange,n.refetchResourcesOnNavigate,r);switch(e.type){case"RESET_RESOURCE_SOURCE":return Rre(e.resourceSourceInput,i.activeRange,n.refetchResourcesOnNavigate,r);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return CFe(t,i.activeRange,n.refetchResourcesOnNavigate,r);case"RECEIVE_RESOURCES":case"RECEIVE_RESOURCE_ERROR":return EFe(t,e.fetchId,e.fetchRange);case"REFETCH_RESOURCES":return YF(t,i.activeRange,r);default:return t}}function Rre(t,e,r,n){if(t){let i=xFe(t);return i=YF(i,r?e:null,n),i}return null}function CFe(t,e,r,n){return r&&!kFe(t)&&(!t.fetchRange||!gD(t.fetchRange,e))?YF(t,e,n):t}function kFe(t){return!!Nre(t.sourceDefId).ignoreRange}function YF(t,e,r){let n=Nre(t.sourceDefId),i=ss();return n.fetch({resourceSource:t,range:e,context:r},a=>{r.dispatch({type:"RECEIVE_RESOURCES",fetchId:i,fetchRange:e,rawResources:a.rawResources})},a=>{r.dispatch({type:"RECEIVE_RESOURCE_ERROR",fetchId:i,fetchRange:e,error:a})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:i})}function EFe(t,e,r){return e===t.latestFetchId?Object.assign(Object.assign({},t),{isFetching:!1,fetchRange:r}):t}function DFe(t,e,r,n){if(!t||!e)return{};switch(e.type){case"RECEIVE_RESOURCES":return AFe(t,e.rawResources,e.fetchId,r,n);case"ADD_RESOURCE":return MFe(t,e.resourceHash);case"REMOVE_RESOURCE":return RFe(t,e.resourceId);case"SET_RESOURCE_PROP":return IFe(t,e.resourceId,e.propName,e.propValue);case"SET_RESOURCE_EXTENDED_PROP":return NFe(t,e.resourceId,e.propName,e.propValue);default:return t}}function AFe(t,e,r,n,i){if(n.latestFetchId===r){let a={};for(let o of e)xA(o,"",a,i);return a}return t}function MFe(t,e){return Object.assign(Object.assign({},t),e)}function RFe(t,e){let r=Object.assign({},t);delete r[e];for(let n in r)r[n].parentId===e&&(r[n]=Object.assign(Object.assign({},r[n]),{parentId:""}));return r}function IFe(t,e,r,n){let i=t[e];return i?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{[r]:n})}):t}function NFe(t,e,r,n){let i=t[e];return i?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{extendedProps:Object.assign(Object.assign({},i.extendedProps),{[r]:n})})}):t}function LFe(t,e){if(!t||!e)return{};switch(e.type){case"SET_RESOURCE_ENTITY_EXPANDED":return Object.assign(Object.assign({},t),{[e.id]:e.isExpanded});default:return t}}function OFe(t,e,r){let n=_Fe(t&&t.resourceSource,e,r),i=DFe(t&&t.resourceStore,e,n,r),a=LFe(t&&t.resourceEntityExpansions,e);return{resourceSource:n,resourceStore:i,resourceEntityExpansions:a}}function zFe(t){return{resourceIds:FFe(t.resourceIds).concat(t.resourceId?[t.resourceId]:[]),resourceEditable:t.resourceEditable}}function FFe(t){return(t||[]).map(e=>String(e))}function HFe(t,e){let r=t.dateSpan.resourceId,n=e.dateSpan.resourceId;return r&&n?{resourceId:r}:null}function qFe(t,e){return t.resourceId?{resource:e.calendarApi.getResourceById(t.resourceId)}:{}}function UFe(t,e){return t.resourceId?{resource:e.calendarApi.getResourceById(t.resourceId)}:{}}function BFe(t,e){let n=new cv().splitProps(Object.assign(Object.assign({},t),{resourceStore:e.getCurrentData().resourceStore}));for(let i in n){let a=n[i];if(i&&n[""]&&(a=Object.assign(Object.assign({},a),{eventStore:D0(n[""].eventStore,a.eventStore),eventUiBases:Object.assign(Object.assign({},n[""].eventUiBases),a.eventUiBases)})),!kD(a,e,{resourceId:i},jFe.bind(null,i)))return!1}return!0}function jFe(t,e){return Object.assign(Object.assign({},e),{constraints:VFe(t,e.constraints)})}function VFe(t,e){return e.map(r=>{let n=r.defs;if(n)for(let i in n){let a=n[i].resourceIds;if(a.length&&a.indexOf(t)===-1)return!1}return r})}function WFe(t){return t.resourceId?{resourceId:t.resourceId}:{}}function YFe(t,e){e.getCurrentData().resourceSource._raw!==t&&e.dispatch({type:"RESET_RESOURCE_SOURCE",resourceSourceInput:t})}function XFe(t,e,r){let{dateEnv:n,options:i}=r,a,o,s,l,c={};return e&&(a=t.startParam,a==null&&(a=i.startParam),o=t.endParam,o==null&&(o=i.endParam),s=t.timeZoneParam,s==null&&(s=i.timeZoneParam),c[a]=n.formatIso(e.start),c[o]=n.formatIso(e.end),n.timeZone!=="local"&&(c[s]=n.timeZone)),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(c,l),c}var jF,VF,WF,wFe,PFe,GFe,ZFe,$Fe,Lre,ZF=Re(()=>{Ic();hA();Bs();_A();_A();jF=class{constructor(){this.filterResources=jt(dFe)}transform(e,r){return r.viewSpec.optionDefaults.needsResourceData?{resourceStore:this.filterResources(r.resourceStore,r.options.filterResourcesWithEvents,r.eventStore,r.dateProfile.activeRange),resourceEntityExpansions:r.resourceEntityExpansions}:null}};VF=class{constructor(){this.buildResourceEventUis=jt(vFe,xi),this.injectResourceEventUis=jt(gFe)}transform(e,r){return r.viewSpec.optionDefaults.needsResourceData?null:{eventUiBases:this.injectResourceEventUis(e.eventUiBases,e.eventStore.defs,this.buildResourceEventUis(r.resourceStore))}}};WF=[];wFe={id:String,resources:Be,url:String,method:String,startParam:String,endParam:String,timeZoneParam:String,extraParams:Be};PFe={resourceId:String,resourceIds:Be,resourceEditable:Boolean};Dc.prototype.addResource=function(t,e=!0){let r=this.getCurrentData(),n,i;t instanceof ds?(i=t._resource,n={[i.id]:i}):(n={},i=xA(t,"",n,r)),this.dispatch({type:"ADD_RESOURCE",resourceHash:n}),e&&this.trigger("_scrollRequest",{resourceId:i.id});let a=new ds(r,i);return r.emitter.trigger("resourceAdd",{resource:a,revert:()=>{this.dispatch({type:"REMOVE_RESOURCE",resourceId:i.id})}}),a};Dc.prototype.getResourceById=function(t){t=String(t);let e=this.getCurrentData();if(e.resourceStore){let r=e.resourceStore[t];if(r)return new ds(e,r)}return null};Dc.prototype.getResources=function(){let t=this.getCurrentData(),{resourceStore:e}=t,r=[];if(e)for(let n in e)r.push(new ds(t,e[n]));return r};Dc.prototype.getTopLevelResources=function(){let t=this.getCurrentData(),{resourceStore:e}=t,r=[];if(e)for(let n in e)e[n].parentId||r.push(new ds(t,e[n]));return r};Dc.prototype.refetchResources=function(){this.dispatch({type:"REFETCH_RESOURCES"})};GFe={resources:YFe};ZFe={initialResources:Be,resources:Be,eventResourceEditable:Boolean,refetchResourcesOnNavigate:Boolean,resourceOrder:x0,filterResourcesWithEvents:Boolean,resourceGroupField:String,resourceAreaWidth:Be,resourceAreaColumns:Be,resourcesInitiallyExpanded:Boolean,datesAboveResources:Boolean,needsResourceData:Boolean,resourceAreaHeaderClassNames:Be,resourceAreaHeaderContent:Be,resourceAreaHeaderDidMount:Be,resourceAreaHeaderWillUnmount:Be,resourceGroupLabelClassNames:Be,resourceGroupLabelContent:Be,resourceGroupLabelDidMount:Be,resourceGroupLabelWillUnmount:Be,resourceLabelClassNames:Be,resourceLabelContent:Be,resourceLabelDidMount:Be,resourceLabelWillUnmount:Be,resourceLaneClassNames:Be,resourceLaneContent:Be,resourceLaneDidMount:Be,resourceLaneWillUnmount:Be,resourceGroupLaneClassNames:Be,resourceGroupLaneContent:Be,resourceGroupLaneDidMount:Be,resourceGroupLaneWillUnmount:Be},$Fe={resourcesSet:Be,resourceAdd:Be,resourceChange:Be,resourceRemove:Be};yn.prototype.getResources=function(){let{calendarApi:t}=this._context;return this._def.resourceIds.map(e=>t.getResourceById(e))};yn.prototype.setResources=function(t){let e=[];for(let r of t){let n=null;typeof r=="string"?n=r:typeof r=="number"?n=String(r):r instanceof ds?n=r.id:console.warn("unknown resource type: "+r),n&&e.push(n)}this.mutate({standardProps:{resourceIds:e}})};GF({ignoreRange:!0,parseMeta(t){return Array.isArray(t.resources)?t.resources:null},fetch(t,e){e({rawResources:t.resourceSource.meta})}});GF({parseMeta(t){return typeof t.resources=="function"?t.resources:null},fetch(t,e,r){let n=t.context.dateEnv,i=t.resourceSource.meta,a=t.range?{start:n.toDate(t.range.start),end:n.toDate(t.range.end),startStr:n.formatIso(t.range.start),endStr:n.formatIso(t.range.end),timeZone:n.timeZone}:{};HT(i.bind(null,a),o=>e({rawResources:o}),r)}});GF({parseMeta(t){return t.url?{url:t.url,method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams}:null},fetch(t,e,r){let n=t.resourceSource.meta,i=XFe(n,t.range,t.context);qT(n.method,n.url,i).then(([a,o])=>{e({rawResources:a,response:o})},r)}});Lre=Jn({name:"@fullcalendar/resource",premiumReleaseDate:"2025-06-30",deps:[z0],reducers:[OFe],isLoadingFuncs:[t=>t.resourceSource&&t.resourceSource.isFetching],eventRefiners:PFe,eventDefMemberAdders:[zFe],isDraggableTransformers:[mFe],eventDragMutationMassagers:[lFe],eventDefMutationAppliers:[cFe],dateSelectionTransformers:[HFe],datePointTransforms:[qFe],dateSpanTransforms:[UFe],viewPropsTransformers:[jF,VF],isPropsValid:BFe,externalDefTransforms:[WFe],eventDropTransformers:[uFe],optionChangeHandlers:GFe,optionRefiners:ZFe,listenerRefiners:$Fe,propSetHandlers:{resourceStore:Dre}})});var $F=Re(()=>{_A()});function Pre({depth:t,hasChildren:e,isExpanded:r,onExpanderClick:n}){let i=[];for(let o=0;o<t;o+=1)i.push(se("span",{className:"fc-icon"}));let a=["fc-icon"];return e&&(r?a.push("fc-icon-minus-square"):a.push("fc-icon-plus-square")),i.push(se("span",{className:"fc-datagrid-expander"+(e?"":" fc-datagrid-expander-placeholder"),onClick:n},se("span",{className:a.join(" ")}))),se(sr,{},...i)}function KFe(t){return t.fieldValue||se(sr,null,"\xA0")}function QFe(t){return{resource:new ds(t.context,t.resource),fieldValue:t.fieldValue,view:t.context.viewApi}}function JFe(t){return t.groupValue||se(sr,null,"\xA0")}function e8e(t){return t.groupValue||se(sr,null,"\xA0")}function r8e(t,e){return e.map(r=>t[r.id])}function n8e(t){for(let e of t){let r=e.resource;if(r&&r.businessHours)return!0}return!1}function i8e(t){let e={};for(let r=0;r<t.length;r+=1)e[t[r].id]=r;return e}function a8e(t,e,r=""){return t.map((n,i)=>({className:n.isMain?"fc-main-col":"",width:e[i]||n.width||r}))}function o8e(t){for(let e of t)if(e.group||e.resource&&e.hasChildren)return!0;return!1}function s8e(t){let e=t.resourceAreaColumns||[],r=null;e.length?t.resourceAreaHeaderContent&&(r={headerClassNames:t.resourceAreaHeaderClassNames,headerContent:t.resourceAreaHeaderContent,headerDidMount:t.resourceAreaHeaderDidMount,headerWillUnmount:t.resourceAreaHeaderWillUnmount}):e.push({headerClassNames:t.resourceAreaHeaderClassNames,headerContent:t.resourceAreaHeaderContent,headerDefault:()=>"Resources",headerDidMount:t.resourceAreaHeaderDidMount,headerWillUnmount:t.resourceAreaHeaderWillUnmount});let n=[],i=[],a=[],o=!1;for(let u of e)u.group?i.push(Object.assign(Object.assign({},u),{cellClassNames:u.cellClassNames||t.resourceGroupLabelClassNames,cellContent:u.cellContent||t.resourceGroupLabelContent,cellDidMount:u.cellDidMount||t.resourceGroupLabelDidMount,cellWillUnmount:u.cellWillUnmount||t.resourceGroupLaneWillUnmount})):n.push(u);let s=n[0];if(s.isMain=!0,s.cellClassNames=s.cellClassNames||t.resourceLabelClassNames,s.cellContent=s.cellContent||t.resourceLabelContent,s.cellDidMount=s.cellDidMount||t.resourceLabelDidMount,s.cellWillUnmount=s.cellWillUnmount||t.resourceLabelWillUnmount,i.length)a=i,o=!0;else{let u=t.resourceGroupField;u&&a.push({field:u,labelClassNames:t.resourceGroupLabelClassNames,labelContent:t.resourceGroupLabelContent,labelDidMount:t.resourceGroupLabelDidMount,labelWillUnmount:t.resourceGroupLabelWillUnmount,laneClassNames:t.resourceGroupLaneClassNames,laneContent:t.resourceGroupLaneContent,laneDidMount:t.resourceGroupLaneDidMount,laneWillUnmount:t.resourceGroupLaneWillUnmount})}let l=t.resourceOrder||HF,c=[];for(let u of l){let d=!1;for(let f of a)if(f.field===u.field){f.order=u.order,d=!0;break}d||c.push(u)}return{superHeaderRendering:r,isVGrouping:o,groupSpecs:a,colSpecs:i.concat(n),orderSpecs:c}}var XF,KF,CA,kA,t8e,QF,JF,e8,t8,r8,n8,Ore,i8,cS,l8e,zre=Re(()=>{Bs();Xh();FF();$F();ZF();CF();XF=class extends Kt{constructor(){super(...arguments),this.refineRenderProps=Fl(QFe),this.onExpanderClick=e=>{let{props:r}=this;r.hasChildren&&this.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:r.resource.id,isExpanded:!r.isExpanded})}}render(){let{props:e,context:r}=this,{colSpec:n}=e,i=this.refineRenderProps({resource:e.resource,fieldValue:e.fieldValue,context:r});return se(vn,{elTag:"td",elClasses:["fc-datagrid-cell","fc-resource"],elAttrs:{role:"gridcell","data-resource-id":e.resource.id},renderProps:i,generatorName:n.isMain?"resourceLabelContent":void 0,customGenerator:n.cellContent,defaultGenerator:KFe,classNameGenerator:n.cellClassNames,didMount:n.cellDidMount,willUnmount:n.cellWillUnmount},a=>se("div",{className:"fc-datagrid-cell-frame",style:{height:e.innerHeight}},se("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},n.isMain&&se(Pre,{depth:e.depth,hasChildren:e.hasChildren,isExpanded:e.isExpanded,onExpanderClick:this.onExpanderClick}),se(a,{elTag:"span",elClasses:["fc-datagrid-cell-main"]}))))}};KF=class extends Kt{render(){let{props:e,context:r}=this,{colSpec:n}=e,i={groupValue:e.fieldValue,view:r.viewApi};return se(vn,{elTag:"td",elClasses:["fc-datagrid-cell","fc-resource-group"],elAttrs:{role:"gridcell",rowSpan:e.rowSpan},renderProps:i,generatorName:"resourceGroupLabelContent",customGenerator:n.cellContent,defaultGenerator:JFe,classNameGenerator:n.cellClassNames,didMount:n.cellDidMount,willUnmount:n.cellWillUnmount},a=>se("div",{className:"fc-datagrid-cell-frame fc-datagrid-cell-frame-liquid"},se(a,{elTag:"div",elClasses:["fc-datagrid-cell-cushion","fc-sticky"]})))}};CA=class extends Kt{render(){let{props:e}=this,{resource:r,rowSpans:n,depth:i}=e,a=SA(r);return se("tr",{role:"row"},e.colSpecs.map((o,s)=>{let l=n[s];if(l===0)return null;l==null&&(l=1);let c=o.field?a[o.field]:r.title||TA(r.id);return l>1?se(KF,{key:s,colSpec:o,fieldValue:c,rowSpan:l}):se(XF,{key:s,colSpec:o,resource:r,fieldValue:c,depth:i,hasChildren:e.hasChildren,isExpanded:e.isExpanded,innerHeight:e.innerHeight})}))}};CA.addPropsEquality({rowSpans:to});kA=class extends Kt{constructor(){super(...arguments),this.innerInnerRef=nn(),this.onExpanderClick=()=>{let{props:e}=this;this.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:e.id,isExpanded:!e.isExpanded})}}render(){let{props:e,context:r}=this,n={groupValue:e.group.value,view:r.viewApi},i=e.group.spec;return se("tr",{role:"row"},se(vn,{elTag:"th",elClasses:["fc-datagrid-cell","fc-resource-group",r.theme.getClass("tableCellShaded")],elAttrs:{role:"columnheader",scope:"colgroup",colSpan:e.spreadsheetColCnt},renderProps:n,generatorName:"resourceGroupLabelContent",customGenerator:i.labelContent,defaultGenerator:e8e,classNameGenerator:i.labelClassNames,didMount:i.labelDidMount,willUnmount:i.labelWillUnmount},a=>se("div",{className:"fc-datagrid-cell-frame",style:{height:e.innerHeight}},se("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner",ref:this.innerInnerRef},se(Pre,{depth:0,hasChildren:!0,isExpanded:e.isExpanded,onExpanderClick:this.onExpanderClick}),se(a,{elTag:"span",elClasses:["fc-datagrid-cell-main"]})))))}};kA.addPropsEquality({group:BF});t8e=20,QF=class extends Kt{constructor(){super(...arguments),this.resizerElRefs=new Qn(this._handleColResizerEl.bind(this)),this.colDraggings={}}render(){let{colSpecs:e,superHeaderRendering:r,rowInnerHeights:n}=this.props,i={view:this.context.viewApi},a=[];if(n=n.slice(),r){let s=n.shift();a.push(se("tr",{key:"row-super",role:"row"},se(vn,{elTag:"th",elClasses:["fc-datagrid-cell","fc-datagrid-cell-super"],elAttrs:{role:"columnheader",scope:"colgroup",colSpan:e.length},renderProps:i,generatorName:"resourceAreaHeaderContent",customGenerator:r.headerContent,defaultGenerator:r.headerDefault,classNameGenerator:r.headerClassNames,didMount:r.headerDidMount,willUnmount:r.headerWillUnmount},l=>se("div",{className:"fc-datagrid-cell-frame",style:{height:s}},se(l,{elTag:"div",elClasses:["fc-datagrid-cell-cushion","fc-scrollgrid-sync-inner"]})))))}let o=n.shift();return a.push(se("tr",{key:"row",role:"row"},e.map((s,l)=>{let c=l===e.length-1;return se(vn,{key:l,elTag:"th",elClasses:["fc-datagrid-cell"],elAttrs:{role:"columnheader"},renderProps:i,generatorName:"resourceAreaHeaderContent",customGenerator:s.headerContent,defaultGenerator:s.headerDefault,classNameGenerator:s.headerClassNames,didMount:s.headerDidMount,willUnmount:s.headerWillUnmount},u=>se("div",{className:"fc-datagrid-cell-frame",style:{height:o}},se("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},s.isMain&&se("span",{className:"fc-datagrid-expander fc-datagrid-expander-placeholder"},se("span",{className:"fc-icon"})),se(u,{elTag:"span",elClasses:["fc-datagrid-cell-main"]})),!c&&se("div",{className:"fc-datagrid-cell-resizer",ref:this.resizerElRefs.createRef(l)})))}))),se(sr,null,a)}_handleColResizerEl(e,r){let{colDraggings:n}=this;if(e){let i=this.initColResizing(e,parseInt(r,10));i&&(n[r]=i)}else{let i=n[r];i&&(i.destroy(),delete n[r])}}initColResizing(e,r){let{pluginHooks:n,isRtl:i}=this.context,{onColWidthChange:a}=this.props,o=n.elementDraggingImpl;if(o){let s=new o(e),l,c;return s.emitter.on("dragstart",()=>{c=Ru(Mi(e,"tr"),"th").map(d=>d.getBoundingClientRect().width),l=c[r]}),s.emitter.on("dragmove",u=>{c[r]=Math.max(l+u.deltaX*(i?-1:1),t8e),a&&a(c.slice())}),s.setAutoScrollEnabled(!1),s}return null}},JF=class extends Kt{constructor(){super(...arguments),this.refineRenderProps=Fl(qF),this.handleHeightChange=(e,r)=>{this.props.onHeightChange&&this.props.onHeightChange(Mi(e,"tr"),r)}}render(){let{props:e,context:r}=this,{options:n}=r,i=this.refineRenderProps({resource:e.resource,context:r});return se("tr",{ref:e.elRef},se(vn,{elTag:"td",elClasses:["fc-timeline-lane","fc-resource"],elAttrs:{"data-resource-id":e.resource.id},renderProps:i,generatorName:"resourceLaneContent",customGenerator:n.resourceLaneContent,classNameGenerator:n.resourceLaneClassNames,didMount:n.resourceLaneDidMount,willUnmount:n.resourceLaneWillUnmount},a=>se("div",{className:"fc-timeline-lane-frame",style:{height:e.innerHeight}},se(a,{elTag:"div",elClasses:["fc-timeline-lane-misc"]}),se(H0,{dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange,nextDayThreshold:e.nextDayThreshold,businessHours:e.businessHours,eventStore:e.eventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,timelineCoords:e.timelineCoords,onHeightChange:this.handleHeightChange,resourceId:e.resource.id}))))}},e8=class extends Kt{render(){let{props:e,context:r}=this,{renderHooks:n}=e,i={groupValue:e.groupValue,view:r.viewApi};return se("tr",{ref:e.elRef},se(vn,{elTag:"td",elRef:e.elRef,elClasses:["fc-timeline-lane","fc-resource-group",r.theme.getClass("tableCellShaded")],renderProps:i,generatorName:"resourceGroupLaneContent",customGenerator:n.laneContent,classNameGenerator:n.laneClassNames,didMount:n.laneDidMount,willUnmount:n.laneWillUnmount},a=>se(a,{elTag:"div",elStyle:{height:e.innerHeight}})))}},t8=class extends Kt{render(){let{props:e,context:r}=this,{rowElRefs:n,innerHeights:i}=e;return se("tbody",null,e.rowNodes.map((a,o)=>{if(a.group)return se(e8,{key:a.id,elRef:n.createRef(a.id),groupValue:a.group.value,renderHooks:a.group.spec,innerHeight:i[o]||""});if(a.resource){let s=a.resource;return se(JF,Object.assign({key:a.id,elRef:n.createRef(a.id)},e.splitProps[s.id],{resource:s,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange,nextDayThreshold:r.options.nextDayThreshold,businessHours:s.businessHours||e.fallbackBusinessHours,innerHeight:i[o]||"",timelineCoords:e.slatCoords,onHeightChange:e.onRowHeightChange}))}return null}))}},r8=class extends Kt{constructor(){super(...arguments),this.rootElRef=nn(),this.rowElRefs=new Qn}render(){let{props:e,context:r}=this;return se("table",{ref:this.rootElRef,"aria-hidden":!0,className:"fc-scrollgrid-sync-table "+r.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},se(t8,{rowElRefs:this.rowElRefs,rowNodes:e.rowNodes,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange,splitProps:e.splitProps,fallbackBusinessHours:e.fallbackBusinessHours,slatCoords:e.slatCoords,innerHeights:e.innerHeights,onRowHeightChange:e.onRowHeightChange}))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}componentWillUnmount(){this.props.onRowCoords&&this.props.onRowCoords(null)}updateCoords(){let{props:e}=this;e.onRowCoords&&e.clientWidth!==null&&this.props.onRowCoords(new So(this.rootElRef.current,r8e(this.rowElRefs.currentMap,e.rowNodes),!1,!0))}};n8=class extends Ii{constructor(){super(...arguments),this.computeHasResourceBusinessHours=jt(n8e),this.resourceSplitter=new cv,this.bgSlicer=new lS,this.slatsRef=nn(),this.state={slatCoords:null},this.handleEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)},this.handleRowCoords=e=>{this.rowCoords=e,this.props.onRowCoords&&this.props.onRowCoords(e)}}render(){let{props:e,state:r,context:n}=this,{dateProfile:i,tDateProfile:a}=e,o=Nl(a.slotDuration).unit,s=this.computeHasResourceBusinessHours(e.rowNodes),l=this.resourceSplitter.splitProps(e),c=l[""],u=this.bgSlicer.sliceProps(c,i,a.isTimeScale?null:e.nextDayThreshold,n,i,n.dateProfileGenerator,a,n.dateEnv),d=r.slatCoords&&r.slatCoords.dateProfile===e.dateProfile?r.slatCoords:null;return se("div",{ref:this.handleEl,className:["fc-timeline-body",e.expandRows?"fc-timeline-body-expandrows":""].join(" "),style:{minWidth:e.tableMinWidth}},se(ta,{unit:o},(f,h)=>se(sr,null,se(oS,{ref:this.slatsRef,dateProfile:i,tDateProfile:a,nowDate:f,todayRange:h,clientWidth:e.clientWidth,tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,onCoords:this.handleSlatCoords,onScrollLeftRequest:e.onScrollLeftRequest}),se(sS,{businessHourSegs:s?null:u.businessHourSegs,bgEventSegs:u.bgEventSegs,timelineCoords:d,eventResizeSegs:u.eventResize?u.eventResize.segs:[],dateSelectionSegs:u.dateSelectionSegs,nowDate:f,todayRange:h}),se(r8,{rowNodes:e.rowNodes,dateProfile:i,tDateProfile:e.tDateProfile,nowDate:f,todayRange:h,splitProps:l,fallbackBusinessHours:s?e.businessHours:null,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,innerHeights:e.rowInnerHeights,slatCoords:d,onRowCoords:this.handleRowCoords,onRowHeightChange:e.onRowHeightChange}),n.options.nowIndicator&&d&&d.isDateInRange(f)&&se("div",{className:"fc-timeline-now-indicator-container"},se(Lu,{elClasses:["fc-timeline-now-indicator-line"],elStyle:bA(d.dateToCoord(f),n.isRtl),isAxis:!1,date:f})))))}queryHit(e,r){let n=this.rowCoords,i=n.topToIndex(r);if(i!=null){let a=this.props.rowNodes[i].resource;if(a){let o=this.slatsRef.current.positionToHit(e);if(o)return{dateProfile:this.props.dateProfile,dateSpan:{range:o.dateSpan.range,allDay:o.dateSpan.allDay,resourceId:a.id},rect:{left:o.left,right:o.right,top:n.tops[i],bottom:n.bottoms[i]},dayEl:o.dayEl,layer:0}}}return null}};Ore=30,i8=class extends Kt{constructor(){super(...arguments),this.scrollGridRef=nn(),this.timeBodyScrollerElRef=nn(),this.spreadsheetHeaderChunkElRef=nn(),this.rootElRef=nn(),this.ensureScrollGridResizeId=0,this.state={resourceAreaWidthOverride:null},this.ensureScrollGridResize=()=>{this.ensureScrollGridResizeId&&clearTimeout(this.ensureScrollGridResizeId),this.ensureScrollGridResizeId=setTimeout(()=>{this.scrollGridRef.current.handleSizing(!1)},io.SCROLLGRID_RESIZE_INTERVAL+1)}}render(){let{props:e,state:r,context:n}=this,{options:i}=n,a=!e.forPrint&&Rc(i),o=!e.forPrint&&sf(i),s=[{type:"header",key:"header",syncRowHeights:!0,isSticky:a,chunks:[{key:"datagrid",elRef:this.spreadsheetHeaderChunkElRef,tableClassName:"fc-datagrid-header",rowContent:e.spreadsheetHeaderRows},{key:"divider",outerContent:se("td",{role:"presentation",className:"fc-resource-timeline-divider "+n.theme.getClass("tableCellShaded")})},{key:"timeline",content:e.timeHeaderContent}]},{type:"body",key:"body",syncRowHeights:!0,liquid:!0,expandRows:!!i.expandRows,chunks:[{key:"datagrid",tableClassName:"fc-datagrid-body",rowContent:e.spreadsheetBodyRows},{key:"divider",outerContent:se("td",{role:"presentation",className:"fc-resource-timeline-divider "+n.theme.getClass("tableCellShaded")})},{key:"timeline",scrollerElRef:this.timeBodyScrollerElRef,content:e.timeBodyContent}]}];o&&s.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"datagrid",content:Mc},{key:"divider",outerContent:se("td",{role:"presentation",className:"fc-resource-timeline-divider "+n.theme.getClass("tableCellShaded")})},{key:"timeline",content:Mc}]});let l=r.resourceAreaWidthOverride!=null?r.resourceAreaWidthOverride:i.resourceAreaWidth;return se(lv,{ref:this.scrollGridRef,elRef:this.rootElRef,liquid:!e.isHeightAuto&&!e.forPrint,forPrint:e.forPrint,collapsibleWidth:!1,colGroups:[{cols:e.spreadsheetCols,width:l},{cols:[]},{cols:e.timeCols}],sections:s})}forceTimeScroll(e){this.scrollGridRef.current.forceScrollLeft(2,e)}forceResourceScroll(e){this.scrollGridRef.current.forceScrollTop(1,e)}getResourceScroll(){return this.timeBodyScrollerElRef.current.scrollTop}componentDidMount(){this.initSpreadsheetResizing()}componentWillUnmount(){this.destroySpreadsheetResizing()}initSpreadsheetResizing(){let{isRtl:e,pluginHooks:r}=this.context,n=r.elementDraggingImpl,i=this.spreadsheetHeaderChunkElRef.current;if(n){let a=this.rootElRef.current,o=this.spreadsheetResizerDragging=new n(a,".fc-resource-timeline-divider"),s,l;o.emitter.on("dragstart",()=>{s=i.getBoundingClientRect().width,l=a.getBoundingClientRect().width}),o.emitter.on("dragmove",c=>{let u=s+c.deltaX*(e?-1:1);u=Math.max(u,Ore),u=Math.min(u,l-Ore),this.setState({resourceAreaWidthOverride:u},this.ensureScrollGridResize)}),o.setAutoScrollEnabled(!1)}}destroySpreadsheetResizing(){this.spreadsheetResizerDragging&&this.spreadsheetResizerDragging.destroy()}},cS=class extends Kt{constructor(e,r){super(e,r),this.processColOptions=jt(s8e),this.buildTimelineDateProfile=jt(OF),this.hasNesting=jt(o8e),this.buildRowNodes=jt(UF),this.layoutRef=nn(),this.rowNodes=[],this.renderedRowNodes=[],this.buildRowIndex=jt(i8e),this.handleSlatCoords=n=>{this.setState({slatCoords:n})},this.handleRowCoords=n=>{this.rowCoords=n,this.scrollResponder.update(!1)},this.handleMaxCushionWidth=n=>{this.setState({slotCushionMaxWidth:Math.ceil(n)})},this.handleScrollLeftRequest=n=>{this.layoutRef.current.forceTimeScroll(n)},this.handleScrollRequest=n=>{let{rowCoords:i}=this,a=this.layoutRef.current,o=n.rowId||n.resourceId;if(i){if(o){let l=this.buildRowIndex(this.renderedRowNodes)[o];if(l!=null){let c=n.fromBottom!=null?i.bottoms[l]-n.fromBottom:i.tops[l];a.forceResourceScroll(c)}}return!0}return null},this.handleColWidthChange=n=>{this.setState({spreadsheetColWidths:n})},this.state={resourceAreaWidth:r.options.resourceAreaWidth,spreadsheetColWidths:[]}}render(){let{props:e,state:r,context:n}=this,{options:i,viewSpec:a}=n,{superHeaderRendering:o,groupSpecs:s,orderSpecs:l,isVGrouping:c,colSpecs:u}=this.processColOptions(n.options),d=this.buildTimelineDateProfile(e.dateProfile,n.dateEnv,i,n.dateProfileGenerator),f=this.rowNodes=this.buildRowNodes(e.resourceStore,s,l,c,e.resourceEntityExpansions,i.resourcesInitiallyExpanded),{slotMinWidth:h}=i,p=zF(d,h||this.computeFallbackSlotMinWidth(d));return se(Bo,{elClasses:["fc-resource-timeline",!this.hasNesting(f)&&"fc-resource-timeline-flat","fc-timeline",i.eventOverlap===!1?"fc-timeline-overlap-disabled":"fc-timeline-overlap-enabled"],viewSpec:a},se(i8,{ref:this.layoutRef,forPrint:e.forPrint,isHeightAuto:e.isHeightAuto,spreadsheetCols:a8e(u,r.spreadsheetColWidths,""),spreadsheetHeaderRows:m=>se(QF,{superHeaderRendering:o,colSpecs:u,onColWidthChange:this.handleColWidthChange,rowInnerHeights:m.rowSyncHeights}),spreadsheetBodyRows:m=>se(sr,null,this.renderSpreadsheetRows(f,u,m.rowSyncHeights)),timeCols:p,timeHeaderContent:m=>se(aS,{clientWidth:m.clientWidth,clientHeight:m.clientHeight,tableMinWidth:m.tableMinWidth,tableColGroupNode:m.tableColGroupNode,dateProfile:e.dateProfile,tDateProfile:d,slatCoords:r.slatCoords,rowInnerHeights:m.rowSyncHeights,onMaxCushionWidth:h?null:this.handleMaxCushionWidth}),timeBodyContent:m=>se(n8,{dateProfile:e.dateProfile,clientWidth:m.clientWidth,clientHeight:m.clientHeight,tableMinWidth:m.tableMinWidth,tableColGroupNode:m.tableColGroupNode,expandRows:m.expandRows,tDateProfile:d,rowNodes:f,businessHours:e.businessHours,dateSelection:e.dateSelection,eventStore:e.eventStore,eventUiBases:e.eventUiBases,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,resourceStore:e.resourceStore,nextDayThreshold:n.options.nextDayThreshold,rowInnerHeights:m.rowSyncHeights,onSlatCoords:this.handleSlatCoords,onRowCoords:this.handleRowCoords,onScrollLeftRequest:this.handleScrollLeftRequest,onRowHeightChange:m.reportRowHeightChange})}))}renderSpreadsheetRows(e,r,n){return e.map((i,a)=>i.group?se(kA,{key:i.id,id:i.id,spreadsheetColCnt:r.length,isExpanded:i.isExpanded,group:i.group,innerHeight:n[a]||""}):i.resource?se(CA,{key:i.id,colSpecs:r,rowSpans:i.rowSpans,depth:i.depth,isExpanded:i.isExpanded,hasChildren:i.hasChildren,resource:i.resource,innerHeight:n[a]||""}):null)}componentDidMount(){this.renderedRowNodes=this.rowNodes,this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}getSnapshotBeforeUpdate(){return this.props.forPrint?{}:{resourceScroll:this.queryResourceScroll()}}componentDidUpdate(e,r,n){this.renderedRowNodes=this.rowNodes,this.scrollResponder.update(e.dateProfile!==this.props.dateProfile),n.resourceScroll&&this.handleScrollRequest(n.resourceScroll)}componentWillUnmount(){this.scrollResponder.detach()}computeFallbackSlotMinWidth(e){return Math.max(30,(this.state.slotCushionMaxWidth||0)/e.slotsPerLabel)}queryResourceScroll(){let{rowCoords:e,renderedRowNodes:r}=this;if(e){let n=this.layoutRef.current,i=e.bottoms,a=n.getResourceScroll(),o={};for(let s=0;s<i.length;s+=1){let l=r[s],c=i[s]-a;if(c>0){o.rowId=l.id,o.fromBottom=c;break}}return o}return null}};cS.addStateEquality({spreadsheetColWidths:to});l8e=".fc .fc-resource-timeline-divider{cursor:col-resize;width:3px}.fc .fc-resource-group{font-weight:inherit;text-align:inherit}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:var(--fc-neutral-bg-color)}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{align-items:center;display:flex;justify-content:flex-start;position:relative}.fc .fc-datagrid-cell-resizer{bottom:0;cursor:col-resize;position:absolute;top:0;width:5px;z-index:1}.fc .fc-datagrid-cell-cushion{overflow:hidden;padding:8px;white-space:nowrap}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}";Pl(l8e)});var Fre={};Wr(Fre,{default:()=>c8e});var c8e,Hre=Re(()=>{Ic();hA();kre();ZF();zre();$F();c8e=Jn({name:"@fullcalendar/resource-timeline",premiumReleaseDate:"2025-06-30",deps:[z0,Lre,Cre],initialView:"resourceTimelineDay",views:{resourceTimeline:{type:"timeline",component:cS,needsResourceData:!0,resourceAreaWidth:"30%",resourcesInitiallyExpanded:!0,eventResizableFromStart:!0},resourceTimelineDay:{type:"resourceTimeline",duration:{days:1}},resourceTimelineWeek:{type:"resourceTimeline",duration:{weeks:1}},resourceTimelineMonth:{type:"resourceTimeline",duration:{months:1}},resourceTimelineYear:{type:"resourceTimeline",duration:{years:1}}}})});var Ure={};Wr(Ure,{renderCalendar:()=>u8e});function u8e(t,e,r){return ye(this,null,function*(){var de;let[n,i,a,o,s,l]=yield Promise.all([Promise.resolve().then(()=>(Ic(),Ete)),Promise.resolve().then(()=>($te(),Zte)),Promise.resolve().then(()=>(Qte(),Kte)),Promise.resolve().then(()=>(are(),ire)),Promise.resolve().then(()=>(pre(),hre)),Promise.resolve().then(()=>(Pz(),Mte))]),c=!!(r!=null&&r.enableAdvancedCategorization),u=c?yield Promise.resolve().then(()=>(Hre(),Fre)):null;if(!qre){let ue=a.default||a,fe=ue.recurringTypes[0].expand;ue.recurringTypes[0].expand=function(_e,Oe,Ce){let je=_e.rruleSet.tzid(),qe=_e.rruleSet._dtstart;if(je){let Xe=qe?qe.getUTCHours():0,Je=qe?qe.getUTCMinutes():0;return fe.call(this,_e,Oe,Ce).map(Ae=>new Date(Date.UTC(Ae.getUTCFullYear(),Ae.getUTCMonth(),Ae.getUTCDate(),Xe,Je)))}let Ve=qe?qe.getHours():Ce.toDate(Oe.start).getUTCHours();return _e.rruleSet.between(Ce.toDate(Oe.start),Ce.toDate(Oe.end),!0).map(Xe=>new Date(Date.UTC(Xe.getFullYear(),Xe.getMonth(),Xe.getDate(),Ve,Xe.getMinutes())))},qre=!0}let d=window.innerWidth<500,f=(r==null?void 0:r.forceNarrow)||d,{eventClick:h,select:p,modifyEvent:m,eventMouseEnter:v,openContextMenuForEvent:y,toggleTask:b,dateRightClick:x,viewRightClick:w,customButtons:S,resources:_,onViewChange:C,businessHours:E,drop:M}=r||{},I=h&&(ue=>{if(!ue.event.extendedProps.isShadow)return h(ue)}),L=m&&(({event:ue,oldEvent:fe,revert:_e,newResource:Oe})=>{ye(null,null,function*(){(yield m(ue,fe,Oe==null?void 0:Oe.id))||_e()})}),O=["views",c?"timeline":null].filter(Boolean).join(","),H=f?"prev,next today,navigate":"workspace prev,next today,navigate",Y=[f?null:"analysis",O].filter(Boolean).join(" "),K=f?!1:{left:H,center:"title",right:Y},N=f?{left:"workspace,today,navigate,prev,next",right:Y}:!1,U={timeGridDay:{type:"timeGrid",duration:{days:1},buttonText:f?"1":"day"},timeGrid3Days:{type:"timeGrid",duration:{days:3},buttonText:"3"}};c&&(U.resourceTimelineDay={type:"resourceTimeline",duration:{days:1},buttonText:"Timeline day"},U.resourceTimelineWeek={type:"resourceTimeline",duration:{weeks:1},buttonText:"Timeline week",slotMinWidth:100});let B=Object.assign({},S);B.views={text:"View \u25BE",click:ue=>{let fe=new a8.Menu,_e=f?{dayGridMonth:"Month",timeGrid3Days:"3 Days",timeGridDay:"Day",listWeek:"List"}:{dayGridMonth:"Month",timeGridWeek:"Week",timeGridDay:"Day",listWeek:"List"};for(let[Oe,Ce]of Object.entries(_e))fe.addItem(je=>je.setTitle(Ce).onClick(()=>{q.changeView(Oe)}));fe.showAtMouseEvent(ue)}},B.navigate={text:"\u25BE",click:ue=>{}},c&&(B.timeline={text:"Timeline \u25BE",click:ue=>{let fe=new a8.Menu;fe.addItem(_e=>_e.setTitle("Timeline week").onClick(()=>{q.changeView("resourceTimelineWeek")})),fe.addItem(_e=>_e.setTitle("Timeline day").onClick(()=>{q.changeView("resourceTimelineDay")})),fe.showAtMouseEvent(ue)}});let $=n.Calendar,ee=o.default,te=s.default,he=i.default,we=a.default,Te=l.default,ce=u?u.default:null,q=new $(t,We(ae(ae(ae(ae(ae(We(ae(ae(We(ae({},c&&ce?{schedulerLicenseKey:"GPL-My-Project-Is-Open-Source"}:{}),{customButtons:B,plugins:[ee,te,he,...c&&ce?[ce]:[],Te,we],initialView:((de=r==null?void 0:r.initialView)==null?void 0:de[f?"mobile":"desktop"])||(f?"timeGrid3Days":"timeGridWeek"),nowIndicator:!0,scrollTimeReset:!1,dayMaxEvents:(r==null?void 0:r.dayMaxEvents)!==void 0?r.dayMaxEvents:!0,headerToolbar:K,footerToolbar:N,views:U}),c&&{resourceAreaHeaderContent:"Categories",resources:_,resourcesInitiallyExpanded:!1}),E&&{businessHours:E}),{eventAllow:(ue,fe)=>{var _e,Oe;return!((Oe=(_e=ue.resource)==null?void 0:_e.extendedProps)!=null&&Oe.isParent)},firstDay:r==null?void 0:r.firstDay}),(r==null?void 0:r.slotMinTime)!==void 0&&{slotMinTime:r.slotMinTime}),(r==null?void 0:r.slotMaxTime)!==void 0&&{slotMaxTime:r.slotMaxTime}),(r==null?void 0:r.weekends)!==void 0&&{weekends:r.weekends}),(r==null?void 0:r.hiddenDays)!==void 0&&{hiddenDays:r.hiddenDays}),(r==null?void 0:r.timeFormat24h)&&{eventTimeFormat:{hour:"numeric",minute:"2-digit",hour12:!1},slotLabelFormat:{hour:"numeric",minute:"2-digit",hour12:!1}}),{eventSources:e,eventClick:I,selectable:p&&!0,selectMirror:p&&!0,select:p&&(ue=>{ye(null,null,function*(){yield p(ue.start,ue.end,ue.allDay,ue.view.type),ue.view.calendar.unselect()})}),dateClick:ue=>{ue.jsEvent.button===2&&x&&(ue.jsEvent.preventDefault(),x(ue.date,ue.jsEvent))},editable:m&&!0,eventDrop:L,eventResize:L,eventMouseEnter:v,eventDidMount:({event:ue,el:fe,textColor:_e})=>{if(ue.extendedProps.isShadow){fe.addClass("fc-event-shadow");return}if(fe.addEventListener("contextmenu",Oe=>{Oe.preventDefault(),y&&y(ue,Oe)}),b&&ue.extendedProps.isTask){let Oe=document.createElement("input");Oe.type="checkbox",Oe.checked=!!ue.extendedProps.taskCompleted,Oe.onclick=je=>ye(null,null,function*(){je.stopPropagation(),je.target&&((yield b(ue,je.target.checked))||(je.target.checked=!je.target.checked))}),_e=="black"?Oe.addClass("ofc-checkbox-black"):Oe.addClass("ofc-checkbox-white"),Oe.checked&&fe.addClass("ofc-task-completed");let Ce=fe.querySelector(".fc-event-time")||fe.querySelector(".fc-event-title")||fe.querySelector(".fc-list-event-title");Ce==null||Ce.addClass("ofc-has-checkbox"),Ce==null||Ce.prepend(Oe)}},viewDidMount:C,droppable:M&&!0,drop:M&&(ue=>{let fe=ue.draggedEl.getAttribute("data-task-id");fe&&M(fe,ue.date)}),longPressDelay:250}));q.render();let X=O0(q,t),G=t.querySelector(".fc-navigate-button");return G&&G.addEventListener("click",ue=>{X.showNavigationMenu(ue)}),w&&t.addEventListener("contextmenu",ue=>{ue.defaultPrevented||(ue.preventDefault(),w(ue,q))}),q})}var a8,qre,Bre=Re(()=>{"use strict";a8=require("obsidian");Xz();qre=!1});function Vre(t){t.empty(),t.createDiv({attr:{id:"toastContainer"}});let e=t.createDiv({cls:"container"}),r=e.createDiv({cls:"header"});r.createEl("h1",{text:"\u{1F4CA} ChronoAnalyser"}),r.createEl("p",{text:"Interactive analysis of your time tracking data"});let n=e.createDiv({cls:"insights-panel",attr:{id:"insightsPanel"}}),i=n.createDiv({cls:"pro-tips-panel",attr:{id:"proTipsPanel",title:"Click to see the next tip"}}),a=i.createDiv({cls:"pro-tips-content"});a.createEl("span",{cls:"pro-tips-title",text:"PRO TIP"}),a.createEl("p",{attr:{id:"proTipText"}}),i.createDiv({cls:"pro-tips-nav",text:"\u203A"});let o=n.createDiv({cls:"insights-header"});o.createDiv({cls:"insights-title",text:"\u{1F4A1} Insights"});let s=o.createDiv({cls:"insights-actions"});s.createEl("button",{cls:"mod-cta",attr:{id:"generateInsightsBtn"},text:"Generate Insights"});let l=s.createEl("button",{cls:"clickable-icon",attr:{id:"configureInsightsBtn","aria-label":"Configure Insights"}});(0,jre.setIcon)(l,"settings"),n.createDiv({cls:"insights-body",attr:{id:"insightsResultContainer"}}).createDiv({cls:"insights-placeholder",text:'Click "Generate Insights" to analyze your data.'});let u=e.createDiv({cls:"controls"}),d=u.createDiv({cls:"control-group"}),f=d.createDiv({cls:"control-item"});f.createEl("label",{attr:{for:"hierarchyFilterInput"},text:"\u{1F4C2} Filter by Hierarchy (Calendar Source)"}),f.createDiv({cls:"autocomplete-wrapper"}).createEl("input",{attr:{id:"hierarchyFilterInput",type:"text",placeholder:"All Hierarchies (type to filter...)"}});let p=d.createDiv({cls:"control-item"});p.createEl("label",{attr:{for:"projectFilterInput"},text:"\u{1F4CB} Filter by Project"}),p.createDiv({cls:"autocomplete-wrapper"}).createEl("input",{attr:{id:"projectFilterInput",type:"text",placeholder:"All Projects (type to filter...)"}});let v=d.createDiv({cls:"control-item",attr:{id:"categoryFilterContainer"}});v.createEl("label",{attr:{for:"patternInput"},text:"\u{1F50D} Filter by Category (e.g., keyword -exclude)"}),v.createEl("input",{attr:{id:"patternInput",type:"text",placeholder:"e.g., Task.* -review"}});let b=u.createDiv({cls:"control-group"}).createDiv({cls:"control-item"});b.createEl("label",{attr:{for:"dateRangePicker"},text:"\u{1F4C5} Date Range"}),b.createEl("input",{attr:{id:"dateRangePicker",type:"text",placeholder:"Select Date Range (YYYY-MM-DD to YYYY-MM-DD)"}});let x=b.createDiv({cls:"date-preset-buttons"});d8e(x,{marginTop:"10px"}),x.createEl("button",{attr:{id:"setTodayBtn"},text:"Today"}),x.createEl("button",{attr:{id:"setYesterdayBtn"},text:"Yesterday"}),x.createEl("button",{attr:{id:"setThisWeekBtn"},text:"This Week"}),x.createEl("button",{attr:{id:"setThisMonthBtn"},text:"This Month"}),x.createEl("button",{cls:"clear-dates-btn",attr:{id:"clearDatesBtn",title:"Clear date filters"},text:"\u{1F5D1}\uFE0F Clear Dates"});let w=u.createDiv({cls:"control-group analysis-config-group"}),S=w.createDiv({cls:"control-item"});S.createEl("label",{attr:{for:"metricSelect"},text:"\u{1F4CF} Metric"});let _=S.createEl("select",{attr:{id:"metricSelect"}});_.createEl("option",{attr:{value:"duration"},text:"Duration (Hours)"}),_.createEl("option",{attr:{value:"count"},text:"Event Count"});let C=w.createDiv({cls:"control-item"});C.createEl("label",{attr:{for:"analysisTypeSelect"},text:"\u{1F3AF} Analysis Type"});let E=C.createEl("select",{attr:{id:"analysisTypeSelect"}});E.createEl("option",{attr:{value:"pie",title:"Visualize how time is distributed across different categories."},text:"Categorywise (Pie)"}),E.createEl("option",{attr:{value:"sunburst",title:"Visualize how time is distributed across different categories."},text:"Categorywise (Sunburst)"}),E.createEl("option",{attr:{value:"time-series",title:"Visualize how time spent changes over a period."},text:"Time-Series Trend"}),E.createEl("option",{attr:{value:"activity",title:"Identify patterns in when tasks are typically performed."},text:"Activity Patterns"});let M=w.createDiv({cls:"control-item hidden-controls",attr:{id:"pieBreakdownLevelContainer"}});M.createEl("label",{attr:{for:"levelSelect_pie"},text:"\u{1F4C8} Breakdown Level"});let I=M.createEl("select",{attr:{id:"levelSelect_pie"}});I.createEl("option",{attr:{value:"hierarchy"},text:"Hierarchy"}),I.createEl("option",{attr:{value:"project"},text:"Project"}),I.createEl("option",{attr:{value:"subproject"},text:"Sub-project"});let L=w.createDiv({cls:"control-item hidden-controls",attr:{id:"sunburstBreakdownLevelContainer"}});L.createEl("label",{attr:{for:"levelSelect"},text:"\u{1F4C8} Breakdown Level"});let O=L.createEl("select",{attr:{id:"levelSelect"}});O.createEl("option",{attr:{value:"project"},text:"Projects by Hierarchy"}),O.createEl("option",{attr:{value:"subproject"},text:"Sub-projects by Project"});let H=w.createDiv({cls:"control-item hidden-controls",attr:{id:"timeSeriesGranularityContainer"}});H.createEl("label",{attr:{for:"timeSeriesGranularitySelect"},text:"\u{1F552} Granularity"});let Y=H.createEl("select",{attr:{id:"timeSeriesGranularitySelect"}});Y.createEl("option",{attr:{value:"daily"},text:"Daily"}),Y.createEl("option",{attr:{value:"weekly"},text:"Weekly"}),Y.createEl("option",{attr:{value:"monthly"},text:"Monthly"});let K=w.createDiv({cls:"control-item hidden-controls",attr:{id:"timeSeriesTypeContainer"}});K.createEl("label",{attr:{for:"timeSeriesTypeSelect"},text:"\u{1F4CA} Chart Type"});let N=K.createEl("select",{attr:{id:"timeSeriesTypeSelect"}});N.createEl("option",{attr:{value:"line"},text:"Overall Trend"}),N.createEl("option",{attr:{value:"stackedArea"},text:"Stacked by Category"});let U=w.createDiv({cls:"control-item hidden-controls",attr:{id:"timeSeriesStackingLevelContainer"}});U.createEl("label",{attr:{for:"timeSeriesStackingLevelSelect"},text:"\u{1F4DA} Stack By"});let B=U.createEl("select",{attr:{id:"timeSeriesStackingLevelSelect"}});B.createEl("option",{attr:{value:"hierarchy"},text:"Hierarchy"}),B.createEl("option",{attr:{value:"project"},text:"Project"}),B.createEl("option",{attr:{value:"subproject"},text:"Sub-project"});let $=w.createDiv({cls:"control-item hidden-controls",attr:{id:"activityPatternTypeContainer"}});$.createEl("label",{attr:{for:"activityPatternTypeSelect"},text:"\u{1F4C5} Analyze by"});let ee=$.createEl("select",{attr:{id:"activityPatternTypeSelect"}});ee.createEl("option",{attr:{value:"dayOfWeek",title:"Displays a bar chart showing the total hours spent on each day of the week."},text:"Day of Week"}),ee.createEl("option",{attr:{value:"hourOfDay",title:"Displays a bar chart showing the total hours associated with tasks that start in each hour of the day."},text:"Hour of Day (Task Start)"}),ee.createEl("option",{attr:{value:"heatmapDOWvsHOD",title:"Displays a heatmap where rows are days of the week, columns are hours of the day, and the color intensity of each cell represents the total hours for tasks starting at that specific day/hour combination."},text:"Heatmap (Day vs Hour)"});let te=e.createDiv({cls:"dashboard-layout-container"}),he=te.createDiv({cls:"stats-grid hidden-controls",attr:{id:"statsGrid"}}),we=he.createDiv({cls:"stat-card"});we.createDiv({cls:"stat-value",attr:{id:"totalHours"},text:"0"}),we.createDiv({cls:"stat-label",text:"Total Hours (Filtered)"});let Te=he.createDiv({cls:"stat-card"});Te.createDiv({cls:"stat-value",attr:{id:"totalFiles"},text:"0"}),Te.createDiv({cls:"stat-label",text:"Files in Filter"});let ce=he.createDiv({cls:"stat-card"});ce.createDiv({cls:"stat-value small-text",attr:{id:"currentAnalysisTypeStat"},text:"N/A"}),ce.createDiv({cls:"stat-label",text:"Active Analysis"}),te.createDiv({cls:"main-chart-container hidden-controls",attr:{id:"mainChartContainer"}}).createDiv({attr:{id:"mainChart"}});let X=e.createDiv({cls:"log-container hidden-controls",attr:{id:"errorLogContainer"}});X.createEl("h2",{text:"\u{1F4CB} Processing Log & Issues"}),X.createDiv({cls:"log-summary hidden-controls",attr:{id:"cacheStatusDisplay"}}),X.createDiv({cls:"log-summary",attr:{id:"errorLogSummary"},text:"No issues found."}),X.createDiv({attr:{id:"errorLogEntries"}}),e.createDiv({cls:"overlay",attr:{id:"detailOverlay"}});let G=e.createDiv({cls:"detail-popup",attr:{id:"detailPopup"}}),de=G.createDiv({cls:"popup-header"});de.createEl("h2",{cls:"popup-title",attr:{id:"popupTitle"},text:"Category Details"}),de.createEl("button",{cls:"close-btn",attr:{id:"popupCloseBtn",title:"Close"},text:"\xD7"});let ue=G.createDiv({cls:"popup-body"});ue.createDiv({cls:"summary-stats",attr:{id:"popupSummaryStats"}});let _e=ue.createDiv({cls:"detail-table-container"}).createEl("table",{cls:"detail-table",attr:{id:"popupDetailTable"}}),Ce=_e.createEl("thead").createEl("tr");Ce.createEl("th",{text:"Project"}),Ce.createEl("th",{text:"Sub-project (Full)"}),Ce.createEl("th",{text:"Duration (hrs)"}),Ce.createEl("th",{text:"Date"}),Ce.createEl("th",{text:"File Path"}),_e.createEl("tbody",{attr:{id:"popupTableBody"}})}var jre,d8e,Wre=Re(()=>{"use strict";jre=require("obsidian"),d8e=(t,e)=>{Object.entries(e).forEach(([r,n])=>{t.style.setProperty(r,n)})}});var EA=J(Gre=>{"use strict";Gre.version="3.0.3"});var Zre=J((Yre,DA)=>{(function(e,r,n){r[e]=r[e]||n(),typeof DA!="undefined"&&DA.exports?DA.exports=r[e]:typeof define=="function"&&define.amd&&define(function(){return r[e]})})("Promise",typeof global!="undefined"?global:Yre,function(){"use strict";var e,r,n,i=Object.prototype.toString,a=typeof setImmediate!="undefined"?function(b){return setImmediate(b)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(b,x,w,S){return Object.defineProperty(b,x,{value:w,writable:!0,configurable:S!==!1})}}catch(y){e=function(x,w,S){return x[w]=S,x}}n=function(){var b,x,w;function S(_,C){this.fn=_,this.self=C,this.next=void 0}return{add:function(C,E){w=new S(C,E),x?x.next=w:b=w,x=w,w=void 0},drain:function(){var C=b;for(b=x=r=void 0;C;)C.fn.call(C.self),C=C.next}}}();function o(y,b){n.add(y,b),r||(r=a(n.drain))}function s(y){var b,x=typeof y;return y!=null&&(x=="object"||x=="function")&&(b=y.then),typeof b=="function"?b:!1}function l(){for(var y=0;y<this.chain.length;y++)c(this,this.state===1?this.chain[y].success:this.chain[y].failure,this.chain[y]);this.chain.length=0}function c(y,b,x){var w,S;try{b===!1?x.reject(y.msg):(b===!0?w=y.msg:w=b.call(void 0,y.msg),w===x.promise?x.reject(TypeError("Promise-chain cycle")):(S=s(w))?S.call(w,x.resolve,x.reject):x.resolve(w))}catch(_){x.reject(_)}}function u(y){var b,x=this;if(!x.triggered){x.triggered=!0,x.def&&(x=x.def);try{(b=s(y))?o(function(){var w=new h(x);try{b.call(y,function(){u.apply(w,arguments)},function(){d.apply(w,arguments)})}catch(S){d.call(w,S)}}):(x.msg=y,x.state=1,x.chain.length>0&&o(l,x))}catch(w){d.call(new h(x),w)}}}function d(y){var b=this;b.triggered||(b.triggered=!0,b.def&&(b=b.def),b.msg=y,b.state=2,b.chain.length>0&&o(l,b))}function f(y,b,x,w){for(var S=0;S<b.length;S++)(function(C){y.resolve(b[C]).then(function(M){x(C,M)},w)})(S)}function h(y){this.def=y,this.triggered=!1}function p(y){this.promise=y,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function m(y){if(typeof y!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var b=new p(this);this.then=function(w,S){var _={success:typeof w=="function"?w:!0,failure:typeof S=="function"?S:!1};return _.promise=new this.constructor(function(E,M){if(typeof E!="function"||typeof M!="function")throw TypeError("Not a function");_.resolve=E,_.reject=M}),b.chain.push(_),b.state!==0&&o(l,b),_.promise},this.catch=function(w){return this.then(void 0,w)};try{y.call(void 0,function(w){u.call(b,w)},function(w){d.call(b,w)})}catch(x){d.call(b,x)}}var v=e({},"constructor",m,!1);return m.prototype=v,e(v,"__NPO__",0,!1),e(m,"resolve",function(b){var x=this;return b&&typeof b=="object"&&b.__NPO__===1?b:new x(function(S,_){if(typeof S!="function"||typeof _!="function")throw TypeError("Not a function");S(b)})}),e(m,"reject",function(b){return new this(function(w,S){if(typeof w!="function"||typeof S!="function")throw TypeError("Not a function");S(b)})}),e(m,"all",function(b){var x=this;return i.call(b)!="[object Array]"?x.reject(TypeError("Not an array")):b.length===0?x.resolve([]):new x(function(S,_){if(typeof S!="function"||typeof _!="function")throw TypeError("Not a function");var C=b.length,E=Array(C),M=0;f(x,b,function(L,O){E[L]=O,++M===C&&S(E)},_)})}),e(m,"race",function(b){var x=this;return i.call(b)!="[object Array]"?x.reject(TypeError("Not an array")):new x(function(S,_){if(typeof S!="function"||typeof _!="function")throw TypeError("Not a function");f(x,b,function(E,M){S(M)},_)})}),m})});var Sr=J((Tgt,AA)=>{(function(){var t={version:"3.8.2"},e=[].slice,r=function(g){return e.call(g)},n=self.document;function i(g){return g&&(g.ownerDocument||g.document||g).documentElement}function a(g){return g&&(g.ownerDocument&&g.ownerDocument.defaultView||g.document&&g||g.defaultView)}if(n)try{r(n.documentElement.childNodes)[0].nodeType}catch(g){r=function(T){for(var k=T.length,D=new Array(k);k--;)D[k]=T[k];return D}}if(Date.now||(Date.now=function(){return+new Date}),n)try{n.createElement("DIV").style.setProperty("opacity",0,"")}catch(g){var o=this.Element.prototype,s=o.setAttribute,l=o.setAttributeNS,c=this.CSSStyleDeclaration.prototype,u=c.setProperty;o.setAttribute=function(T,k){s.call(this,T,k+"")},o.setAttributeNS=function(T,k,D){l.call(this,T,k,D+"")},c.setProperty=function(T,k,D){u.call(this,T,k+"",D)}}t.ascending=d;function d(g,T){return g<T?-1:g>T?1:g>=T?0:NaN}t.descending=function(g,T){return T<g?-1:T>g?1:T>=g?0:NaN},t.min=function(g,T){var k=-1,D=g.length,A,R;if(arguments.length===1){for(;++k<D;)if((R=g[k])!=null&&R>=R){A=R;break}for(;++k<D;)(R=g[k])!=null&&A>R&&(A=R)}else{for(;++k<D;)if((R=T.call(g,g[k],k))!=null&&R>=R){A=R;break}for(;++k<D;)(R=T.call(g,g[k],k))!=null&&A>R&&(A=R)}return A},t.max=function(g,T){var k=-1,D=g.length,A,R;if(arguments.length===1){for(;++k<D;)if((R=g[k])!=null&&R>=R){A=R;break}for(;++k<D;)(R=g[k])!=null&&R>A&&(A=R)}else{for(;++k<D;)if((R=T.call(g,g[k],k))!=null&&R>=R){A=R;break}for(;++k<D;)(R=T.call(g,g[k],k))!=null&&R>A&&(A=R)}return A},t.extent=function(g,T){var k=-1,D=g.length,A,R,j;if(arguments.length===1){for(;++k<D;)if((R=g[k])!=null&&R>=R){A=j=R;break}for(;++k<D;)(R=g[k])!=null&&(A>R&&(A=R),j<R&&(j=R))}else{for(;++k<D;)if((R=T.call(g,g[k],k))!=null&&R>=R){A=j=R;break}for(;++k<D;)(R=T.call(g,g[k],k))!=null&&(A>R&&(A=R),j<R&&(j=R))}return[A,j]};function f(g){return g===null?NaN:+g}function h(g){return!isNaN(g)}t.sum=function(g,T){var k=0,D=g.length,A,R=-1;if(arguments.length===1)for(;++R<D;)h(A=+g[R])&&(k+=A);else for(;++R<D;)h(A=+T.call(g,g[R],R))&&(k+=A);return k},t.mean=function(g,T){var k=0,D=g.length,A,R=-1,j=D;if(arguments.length===1)for(;++R<D;)h(A=f(g[R]))?k+=A:--j;else for(;++R<D;)h(A=f(T.call(g,g[R],R)))?k+=A:--j;if(j)return k/j},t.quantile=function(g,T){var k=(g.length-1)*T+1,D=Math.floor(k),A=+g[D-1],R=k-D;return R?A+R*(g[D]-A):A},t.median=function(g,T){var k=[],D=g.length,A,R=-1;if(arguments.length===1)for(;++R<D;)h(A=f(g[R]))&&k.push(A);else for(;++R<D;)h(A=f(T.call(g,g[R],R)))&&k.push(A);if(k.length)return t.quantile(k.sort(d),.5)},t.variance=function(g,T){var k=g.length,D=0,A,R,j=0,F=-1,Z=0;if(arguments.length===1)for(;++F<k;)h(A=f(g[F]))&&(R=A-D,D+=R/++Z,j+=R*(A-D));else for(;++F<k;)h(A=f(T.call(g,g[F],F)))&&(R=A-D,D+=R/++Z,j+=R*(A-D));if(Z>1)return j/(Z-1)},t.deviation=function(){var g=t.variance.apply(this,arguments);return g&&Math.sqrt(g)};function p(g){return{left:function(T,k,D,A){for(arguments.length<3&&(D=0),arguments.length<4&&(A=T.length);D<A;){var R=D+A>>>1;g(T[R],k)<0?D=R+1:A=R}return D},right:function(T,k,D,A){for(arguments.length<3&&(D=0),arguments.length<4&&(A=T.length);D<A;){var R=D+A>>>1;g(T[R],k)>0?A=R:D=R+1}return D}}}var m=p(d);t.bisectLeft=m.left,t.bisect=t.bisectRight=m.right,t.bisector=function(g){return p(g.length===1?function(T,k){return d(g(T),k)}:g)},t.shuffle=function(g,T,k){(D=arguments.length)<3&&(k=g.length,D<2&&(T=0));for(var D=k-T,A,R;D;)R=Math.random()*D--|0,A=g[D+T],g[D+T]=g[R+T],g[R+T]=A;return g},t.permute=function(g,T){for(var k=T.length,D=new Array(k);k--;)D[k]=g[T[k]];return D},t.pairs=function(g){for(var T=0,k=g.length-1,D,A=g[0],R=new Array(k<0?0:k);T<k;)R[T]=[D=A,A=g[++T]];return R},t.transpose=function(g){if(!(R=g.length))return[];for(var T=-1,k=t.min(g,v),D=new Array(k);++T<k;)for(var A=-1,R,j=D[T]=new Array(R);++A<R;)j[A]=g[A][T];return D};function v(g){return g.length}t.zip=function(){return t.transpose(arguments)},t.keys=function(g){var T=[];for(var k in g)T.push(k);return T},t.values=function(g){var T=[];for(var k in g)T.push(g[k]);return T},t.entries=function(g){var T=[];for(var k in g)T.push({key:k,value:g[k]});return T},t.merge=function(g){for(var T=g.length,k,D=-1,A=0,R,j;++D<T;)A+=g[D].length;for(R=new Array(A);--T>=0;)for(j=g[T],k=j.length;--k>=0;)R[--A]=j[k];return R};var y=Math.abs;t.range=function(g,T,k){if(arguments.length<3&&(k=1,arguments.length<2&&(T=g,g=0)),(T-g)/k===1/0)throw new Error("infinite range");var D=[],A=b(y(k)),R=-1,j;if(g*=A,T*=A,k*=A,k<0)for(;(j=g+k*++R)>T;)D.push(j/A);else for(;(j=g+k*++R)<T;)D.push(j/A);return D};function b(g){for(var T=1;g*T%1;)T*=10;return T}function x(g,T){for(var k in T)Object.defineProperty(g.prototype,k,{value:T[k],enumerable:!1})}t.map=function(g,T){var k=new w;if(g instanceof w)g.forEach(function(F,Z){k.set(F,Z)});else if(Array.isArray(g)){var D=-1,A=g.length,R;if(arguments.length===1)for(;++D<A;)k.set(D,g[D]);else for(;++D<A;)k.set(T.call(g,R=g[D],D),R)}else for(var j in g)k.set(j,g[j]);return k};function w(){this._=Object.create(null)}var S="__proto__",_="\0";x(w,{has:M,get:function(g){return this._[C(g)]},set:function(g,T){return this._[C(g)]=T},remove:I,keys:L,values:function(){var g=[];for(var T in this._)g.push(this._[T]);return g},entries:function(){var g=[];for(var T in this._)g.push({key:E(T),value:this._[T]});return g},size:O,empty:H,forEach:function(g){for(var T in this._)g.call(this,E(T),this._[T])}});function C(g){return(g+="")===S||g[0]===_?_+g:g}function E(g){return(g+="")[0]===_?g.slice(1):g}function M(g){return C(g)in this._}function I(g){return(g=C(g))in this._&&delete this._[g]}function L(){var g=[];for(var T in this._)g.push(E(T));return g}function O(){var g=0;for(var T in this._)++g;return g}function H(){for(var g in this._)return!1;return!0}t.nest=function(){var g={},T=[],k=[],D,A;function R(F,Z,re){if(re>=T.length)return A?A.call(g,Z):D?Z.sort(D):Z;for(var ie=-1,pe=Z.length,me=T[re++],Me,ze,ve,Se=new w,ke;++ie<pe;)(ke=Se.get(Me=me(ze=Z[ie])))?ke.push(ze):Se.set(Me,[ze]);return F?(ze=F(),ve=function(Pe,Fe){ze.set(Pe,R(F,Fe,re))}):(ze={},ve=function(Pe,Fe){ze[Pe]=R(F,Fe,re)}),Se.forEach(ve),ze}function j(F,Z){if(Z>=T.length)return F;var re=[],ie=k[Z++];return F.forEach(function(pe,me){re.push({key:pe,values:j(me,Z)})}),ie?re.sort(function(pe,me){return ie(pe.key,me.key)}):re}return g.map=function(F,Z){return R(Z,F,0)},g.entries=function(F){return j(R(t.map,F,0),0)},g.key=function(F){return T.push(F),g},g.sortKeys=function(F){return k[T.length-1]=F,g},g.sortValues=function(F){return D=F,g},g.rollup=function(F){return A=F,g},g},t.set=function(g){var T=new Y;if(g)for(var k=0,D=g.length;k<D;++k)T.add(g[k]);return T};function Y(){this._=Object.create(null)}x(Y,{has:M,add:function(g){return this._[C(g+="")]=!0,g},remove:I,values:L,size:O,empty:H,forEach:function(g){for(var T in this._)g.call(this,E(T))}}),t.behavior={};function K(g){return g}t.rebind=function(g,T){for(var k=1,D=arguments.length,A;++k<D;)g[A=arguments[k]]=N(g,T,T[A]);return g};function N(g,T,k){return function(){var D=k.apply(T,arguments);return D===T?g:D}}function U(g,T){if(T in g)return T;T=T.charAt(0).toUpperCase()+T.slice(1);for(var k=0,D=B.length;k<D;++k){var A=B[k]+T;if(A in g)return A}}var B=["webkit","ms","moz","Moz","o","O"];function $(){}t.dispatch=function(){for(var g=new ee,T=-1,k=arguments.length;++T<k;)g[arguments[T]]=te(g);return g};function ee(){}ee.prototype.on=function(g,T){var k=g.indexOf("."),D="";if(k>=0&&(D=g.slice(k+1),g=g.slice(0,k)),g)return arguments.length<2?this[g].on(D):this[g].on(D,T);if(arguments.length===2){if(T==null)for(g in this)this.hasOwnProperty(g)&&this[g].on(D,null);return this}};function te(g){var T=[],k=new w;function D(){for(var A=T,R=-1,j=A.length,F;++R<j;)(F=A[R].on)&&F.apply(this,arguments);return g}return D.on=function(A,R){var j=k.get(A),F;return arguments.length<2?j&&j.on:(j&&(j.on=null,T=T.slice(0,F=T.indexOf(j)).concat(T.slice(F+1)),k.remove(A)),R&&T.push(k.set(A,{on:R})),g)},D}t.event=null;function he(){t.event.preventDefault()}function we(){for(var g=t.event,T;T=g.sourceEvent;)g=T;return g}function Te(g){for(var T=new ee,k=0,D=arguments.length;++k<D;)T[arguments[k]]=te(T);return T.of=function(A,R){return function(j){try{var F=j.sourceEvent=t.event;j.target=g,t.event=j,T[j.type].apply(A,R)}finally{t.event=F}}},T}t.requote=function(g){return g.replace(ce,"\\$&")};var ce=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,q={}.__proto__?function(g,T){g.__proto__=T}:function(g,T){for(var k in T)g[k]=T[k]};function X(g){return q(g,fe),g}var G=function(g,T){return T.querySelector(g)},de=function(g,T){return T.querySelectorAll(g)},ue=function(g,T){var k=g.matches||g[U(g,"matchesSelector")];return ue=function(D,A){return k.call(D,A)},ue(g,T)};typeof Sizzle=="function"&&(G=function(g,T){return Sizzle(g,T)[0]||null},de=Sizzle,ue=Sizzle.matchesSelector),t.selection=function(){return t.select(n.documentElement)};var fe=t.selection.prototype=[];fe.select=function(g){var T=[],k,D,A,R;g=_e(g);for(var j=-1,F=this.length;++j<F;){T.push(k=[]),k.parentNode=(A=this[j]).parentNode;for(var Z=-1,re=A.length;++Z<re;)(R=A[Z])?(k.push(D=g.call(R,R.__data__,Z,j)),D&&"__data__"in R&&(D.__data__=R.__data__)):k.push(null)}return X(T)};function _e(g){return typeof g=="function"?g:function(){return G(g,this)}}fe.selectAll=function(g){var T=[],k,D;g=Oe(g);for(var A=-1,R=this.length;++A<R;)for(var j=this[A],F=-1,Z=j.length;++F<Z;)(D=j[F])&&(T.push(k=r(g.call(D,D.__data__,F,A))),k.parentNode=D);return X(T)};function Oe(g){return typeof g=="function"?g:function(){return de(g,this)}}var Ce="http://www.w3.org/1999/xhtml",je={svg:"http://www.w3.org/2000/svg",xhtml:Ce,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};t.ns={prefix:je,qualify:function(g){var T=g.indexOf(":"),k=g;return T>=0&&(k=g.slice(0,T))!=="xmlns"&&(g=g.slice(T+1)),je.hasOwnProperty(k)?{space:je[k],local:g}:g}},fe.attr=function(g,T){if(arguments.length<2){if(typeof g=="string"){var k=this.node();return g=t.ns.qualify(g),g.local?k.getAttributeNS(g.space,g.local):k.getAttribute(g)}for(T in g)this.each(qe(T,g[T]));return this}return this.each(qe(g,T))};function qe(g,T){g=t.ns.qualify(g);function k(){this.removeAttribute(g)}function D(){this.removeAttributeNS(g.space,g.local)}function A(){this.setAttribute(g,T)}function R(){this.setAttributeNS(g.space,g.local,T)}function j(){var Z=T.apply(this,arguments);Z==null?this.removeAttribute(g):this.setAttribute(g,Z)}function F(){var Z=T.apply(this,arguments);Z==null?this.removeAttributeNS(g.space,g.local):this.setAttributeNS(g.space,g.local,Z)}return T==null?g.local?D:k:typeof T=="function"?g.local?F:j:g.local?R:A}function Ve(g){return g.trim().replace(/\s+/g," ")}fe.classed=function(g,T){if(arguments.length<2){if(typeof g=="string"){var k=this.node(),D=(g=$e(g)).length,A=-1;if(T=k.classList){for(;++A<D;)if(!T.contains(g[A]))return!1}else for(T=k.getAttribute("class");++A<D;)if(!ot(g[A]).test(T))return!1;return!0}for(T in g)this.each(Xe(T,g[T]));return this}return this.each(Xe(g,T))};function ot(g){return new RegExp("(?:^|\\s+)"+t.requote(g)+"(?:\\s+|$)","g")}function $e(g){return(g+"").trim().split(/^|\s+/)}function Xe(g,T){g=$e(g).map(Je);var k=g.length;function D(){for(var R=-1;++R<k;)g[R](this,T)}function A(){for(var R=-1,j=T.apply(this,arguments);++R<k;)g[R](this,j)}return typeof T=="function"?A:D}function Je(g){var T=ot(g);return function(k,D){if(A=k.classList)return D?A.add(g):A.remove(g);var A=k.getAttribute("class")||"";D?(T.lastIndex=0,T.test(A)||k.setAttribute("class",Ve(A+" "+g))):k.setAttribute("class",Ve(A.replace(T," ")))}}fe.style=function(g,T,k){var D=arguments.length;if(D<3){if(typeof g!="string"){D<2&&(T="");for(k in g)this.each(nt(k,g[k],T));return this}if(D<2){var A=this.node();return a(A).getComputedStyle(A,null).getPropertyValue(g)}k=""}return this.each(nt(g,T,k))};function nt(g,T,k){function D(){this.style.removeProperty(g)}function A(){this.style.setProperty(g,T,k)}function R(){var j=T.apply(this,arguments);j==null?this.style.removeProperty(g):this.style.setProperty(g,j,k)}return T==null?D:typeof T=="function"?R:A}fe.property=function(g,T){if(arguments.length<2){if(typeof g=="string")return this.node()[g];for(T in g)this.each(Ke(T,g[T]));return this}return this.each(Ke(g,T))};function Ke(g,T){function k(){delete this[g]}function D(){this[g]=T}function A(){var R=T.apply(this,arguments);R==null?delete this[g]:this[g]=R}return T==null?k:typeof T=="function"?A:D}fe.text=function(g){return arguments.length?this.each(typeof g=="function"?function(){var T=g.apply(this,arguments);this.textContent=T==null?"":T}:g==null?function(){this.textContent=""}:function(){this.textContent=g}):this.node().textContent},fe.html=function(g){return arguments.length?this.each(typeof g=="function"?function(){var T=g.apply(this,arguments);this.innerHTML=T==null?"":T}:g==null?function(){this.innerHTML=""}:function(){this.innerHTML=g}):this.node().innerHTML},fe.append=function(g){return g=Ae(g),this.select(function(){return this.appendChild(g.apply(this,arguments))})};function Ae(g){function T(){var D=this.ownerDocument,A=this.namespaceURI;return A===Ce&&D.documentElement.namespaceURI===Ce?D.createElement(g):D.createElementNS(A,g)}function k(){return this.ownerDocument.createElementNS(g.space,g.local)}return typeof g=="function"?g:(g=t.ns.qualify(g)).local?k:T}fe.insert=function(g,T){return g=Ae(g),T=_e(T),this.select(function(){return this.insertBefore(g.apply(this,arguments),T.apply(this,arguments)||null)})},fe.remove=function(){return this.each(it)};function it(){var g=this.parentNode;g&&g.removeChild(this)}fe.data=function(g,T){var k=-1,D=this.length,A,R;if(!arguments.length){for(g=new Array(D=(A=this[0]).length);++k<D;)(R=A[k])&&(g[k]=R.__data__);return g}function j(ie,pe){var me,Me=ie.length,ze=pe.length,ve=Math.min(Me,ze),Se=new Array(ze),ke=new Array(ze),Pe=new Array(Me),Fe,De;if(T){var dt=new w,Et=new Array(Me),It;for(me=-1;++me<Me;)(Fe=ie[me])&&(dt.has(It=T.call(Fe,Fe.__data__,me))?Pe[me]=Fe:dt.set(It,Fe),Et[me]=It);for(me=-1;++me<ze;)(Fe=dt.get(It=T.call(pe,De=pe[me],me)))?Fe!==!0&&(Se[me]=Fe,Fe.__data__=De):ke[me]=at(De),dt.set(It,!0);for(me=-1;++me<Me;)me in Et&&dt.get(Et[me])!==!0&&(Pe[me]=ie[me])}else{for(me=-1;++me<ve;)Fe=ie[me],De=pe[me],Fe?(Fe.__data__=De,Se[me]=Fe):ke[me]=at(De);for(;me<ze;++me)ke[me]=at(pe[me]);for(;me<Me;++me)Pe[me]=ie[me]}ke.update=Se,ke.parentNode=Se.parentNode=Pe.parentNode=ie.parentNode,F.push(ke),Z.push(Se),re.push(Pe)}var F=St([]),Z=X([]),re=X([]);if(typeof g=="function")for(;++k<D;)j(A=this[k],g.call(A,A.parentNode.__data__,k));else for(;++k<D;)j(A=this[k],g);return Z.enter=function(){return F},Z.exit=function(){return re},Z};function at(g){return{__data__:g}}fe.datum=function(g){return arguments.length?this.property("__data__",g):this.property("__data__")},fe.filter=function(g){var T=[],k,D,A;typeof g!="function"&&(g=ge(g));for(var R=0,j=this.length;R<j;R++){T.push(k=[]),k.parentNode=(D=this[R]).parentNode;for(var F=0,Z=D.length;F<Z;F++)(A=D[F])&&g.call(A,A.__data__,F,R)&&k.push(A)}return X(T)};function ge(g){return function(){return ue(this,g)}}fe.order=function(){for(var g=-1,T=this.length;++g<T;)for(var k=this[g],D=k.length-1,A=k[D],R;--D>=0;)(R=k[D])&&(A&&A!==R.nextSibling&&A.parentNode.insertBefore(R,A),A=R);return this},fe.sort=function(g){g=Ne.apply(this,arguments);for(var T=-1,k=this.length;++T<k;)this[T].sort(g);return this.order()};function Ne(g){return arguments.length||(g=d),function(T,k){return T&&k?g(T.__data__,k.__data__):!T-!k}}fe.each=function(g){return Le(this,function(T,k,D){g.call(T,T.__data__,k,D)})};function Le(g,T){for(var k=0,D=g.length;k<D;k++)for(var A=g[k],R=0,j=A.length,F;R<j;R++)(F=A[R])&&T(F,R,k);return g}fe.call=function(g){var T=r(arguments);return g.apply(T[0]=this,T),this},fe.empty=function(){return!this.node()},fe.node=function(){for(var g=0,T=this.length;g<T;g++)for(var k=this[g],D=0,A=k.length;D<A;D++){var R=k[D];if(R)return R}return null},fe.size=function(){var g=0;return Le(this,function(){++g}),g};function St(g){return q(g,ht),g}var ht=[];t.selection.enter=St,t.selection.enter.prototype=ht,ht.append=fe.append,ht.empty=fe.empty,ht.node=fe.node,ht.call=fe.call,ht.size=fe.size,ht.select=function(g){for(var T=[],k,D,A,R,j,F=-1,Z=this.length;++F<Z;){A=(R=this[F]).update,T.push(k=[]),k.parentNode=R.parentNode;for(var re=-1,ie=R.length;++re<ie;)(j=R[re])?(k.push(A[re]=D=g.call(R.parentNode,j.__data__,re,F)),D.__data__=j.__data__):k.push(null)}return X(T)},ht.insert=function(g,T){return arguments.length<2&&(T=He(this)),fe.insert.call(this,g,T)};function He(g){var T,k;return function(D,A,R){var j=g[R].update,F=j.length,Z;for(R!=k&&(k=R,T=0),A>=T&&(T=A+1);!(Z=j[T])&&++T<F;);return Z}}t.select=function(g){var T;return typeof g=="string"?(T=[G(g,n)],T.parentNode=n.documentElement):(T=[g],T.parentNode=i(g)),X([T])},t.selectAll=function(g){var T;return typeof g=="string"?(T=r(de(g,n)),T.parentNode=n.documentElement):(T=r(g),T.parentNode=null),X([T])},fe.on=function(g,T,k){var D=arguments.length;if(D<3){if(typeof g!="string"){D<2&&(T=!1);for(k in g)this.each(Ue(k,g[k],T));return this}if(D<2)return(D=this.node()["__on"+g])&&D._;k=!1}return this.each(Ue(g,T,k))};function Ue(g,T,k){var D="__on"+g,A=g.indexOf("."),R=rt;A>0&&(g=g.slice(0,A));var j=ct.get(g);j&&(g=j,R=lt);function F(){var ie=this[D];ie&&(this.removeEventListener(g,ie,ie.$),delete this[D])}function Z(){var ie=R(T,r(arguments));F.call(this),this.addEventListener(g,this[D]=ie,ie.$=k),ie._=T}function re(){var ie=new RegExp("^__on([^.]+)"+t.requote(g)+"$"),pe;for(var me in this)if(pe=me.match(ie)){var Me=this[me];this.removeEventListener(pe[1],Me,Me.$),delete this[me]}}return A?T?Z:F:T?$:re}var ct=t.map({mouseenter:"mouseover",mouseleave:"mouseout"});n&&ct.forEach(function(g){"on"+g in n&&ct.remove(g)});function rt(g,T){return function(k){var D=t.event;t.event=k,T[0]=this.__data__;try{g.apply(this,T)}finally{t.event=D}}}function lt(g,T){var k=rt(g,T);return function(D){var A=this,R=D.relatedTarget;(!R||R!==A&&!(R.compareDocumentPosition(A)&8))&&k.call(A,D)}}var st,mt=0;function kt(g){var T=".dragsuppress-"+ ++mt,k="click"+T,D=t.select(a(g)).on("touchmove"+T,he).on("dragstart"+T,he).on("selectstart"+T,he);if(st==null&&(st="onselectstart"in g?!1:U(g.style,"userSelect")),st){var A=i(g).style,R=A[st];A[st]="none"}return function(j){if(D.on(T,null),st&&(A[st]=R),j){var F=function(){D.on(k,null)};D.on(k,function(){he(),F()},!0),setTimeout(F,0)}}}t.mouse=function(g){return Ye(g,we())};var _t=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Ye(g,T){T.changedTouches&&(T=T.changedTouches[0]);var k=g.ownerSVGElement||g;if(k.createSVGPoint){var D=k.createSVGPoint();if(_t<0){var A=a(g);if(A.scrollX||A.scrollY){k=t.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var R=k[0][0].getScreenCTM();_t=!(R.f||R.e),k.remove()}}return _t?(D.x=T.pageX,D.y=T.pageY):(D.x=T.clientX,D.y=T.clientY),D=D.matrixTransform(g.getScreenCTM().inverse()),[D.x,D.y]}var j=g.getBoundingClientRect();return[T.clientX-j.left-g.clientLeft,T.clientY-j.top-g.clientTop]}t.touch=function(g,T,k){if(arguments.length<3&&(k=T,T=we().changedTouches),T){for(var D=0,A=T.length,R;D<A;++D)if((R=T[D]).identifier===k)return Ye(g,R)}},t.behavior.drag=function(){var g=Te(A,"drag","dragstart","dragend"),T=null,k=R($,t.mouse,a,"mousemove","mouseup"),D=R(bt,t.touch,K,"touchmove","touchend");function A(){this.on("mousedown.drag",k).on("touchstart.drag",D)}function R(j,F,Z,re,ie){return function(){var pe=this,me=t.event.target.correspondingElement||t.event.target,Me=pe.parentNode,ze=g.of(pe,arguments),ve=0,Se=j(),ke=".drag"+(Se==null?"":"-"+Se),Pe,Fe=t.select(Z(me)).on(re+ke,Et).on(ie+ke,It),De=kt(me),dt=F(Me,Se);T?(Pe=T.apply(pe,arguments),Pe=[Pe.x-dt[0],Pe.y-dt[1]]):Pe=[0,0],ze({type:"dragstart"});function Et(){var Rt=F(Me,Se),zt,Ft;Rt&&(zt=Rt[0]-dt[0],Ft=Rt[1]-dt[1],ve|=zt|Ft,dt=Rt,ze({type:"drag",x:Rt[0]+Pe[0],y:Rt[1]+Pe[1],dx:zt,dy:Ft}))}function It(){F(Me,Se)&&(Fe.on(re+ke,null).on(ie+ke,null),De(ve),ze({type:"dragend"}))}}}return A.origin=function(j){return arguments.length?(T=j,A):T},t.rebind(A,g,"on")};function bt(){return t.event.changedTouches[0].identifier}t.touches=function(g,T){return arguments.length<2&&(T=we().touches),T?r(T).map(function(k){var D=Ye(g,k);return D.identifier=k.identifier,D}):[]};var ut=1e-6,P=ut*ut,z=Math.PI,Q=2*z,le=Q-ut,V=z/2,oe=z/180,be=180/z;function xe(g){return g>0?1:g<0?-1:0}function Ge(g,T,k){return(T[0]-g[0])*(k[1]-g[1])-(T[1]-g[1])*(k[0]-g[0])}function Ie(g){return g>1?0:g<-1?z:Math.acos(g)}function tt(g){return g>1?V:g<-1?-V:Math.asin(g)}function vt(g){return((g=Math.exp(g))-1/g)/2}function Ze(g){return((g=Math.exp(g))+1/g)/2}function Pt(g){return((g=Math.exp(2*g))-1)/(g+1)}function Wt(g){return(g=Math.sin(g/2))*g}var Vt=Math.SQRT2,Jt=2,At=4;t.interpolateZoom=function(g,T){var k=g[0],D=g[1],A=g[2],R=T[0],j=T[1],F=T[2],Z=R-k,re=j-D,ie=Z*Z+re*re,pe,me;if(ie<P)me=Math.log(F/A)/Vt,pe=function(Pe){return[k+Pe*Z,D+Pe*re,A*Math.exp(Vt*Pe*me)]};else{var Me=Math.sqrt(ie),ze=(F*F-A*A+At*ie)/(2*A*Jt*Me),ve=(F*F-A*A-At*ie)/(2*F*Jt*Me),Se=Math.log(Math.sqrt(ze*ze+1)-ze),ke=Math.log(Math.sqrt(ve*ve+1)-ve);me=(ke-Se)/Vt,pe=function(Pe){var Fe=Pe*me,De=Ze(Se),dt=A/(Jt*Me)*(De*Pt(Vt*Fe+Se)-vt(Se));return[k+dt*Z,D+dt*re,A*De/Ze(Vt*Fe+Se)]}}return pe.duration=me*1e3,pe},t.behavior.zoom=function(){var g={x:0,y:0,k:1},T,k,D,A=[960,500],R=ir,j=250,F=0,Z="mousedown.zoom",re="mousemove.zoom",ie="mouseup.zoom",pe,me="touchstart.zoom",Me,ze=Te(Fe,"zoomstart","zoom","zoomend"),ve,Se,ke,Pe;kr||(kr="onwheel"in n?(Qt=function(){return-t.event.deltaY*(t.event.deltaMode?120:1)},"wheel"):"onmousewheel"in n?(Qt=function(){return t.event.wheelDelta},"mousewheel"):(Qt=function(){return-t.event.detail},"MozMousePixelScroll"));function Fe(Ct){Ct.on(Z,or).on(kr+".zoom",vi).on("dblclick.zoom",pn).on(me,Qr)}Fe.event=function(Ct){Ct.each(function(){var hr=ze.of(this,arguments),wr=g;Vp?t.select(this).transition().each("start.zoom",function(){g=this.__chart__||{x:0,y:0,k:1},Ft(hr)}).tween("zoom:zoom",function(){var Jr=A[0],$n=A[1],Hi=k?k[0]:Jr/2,Ea=k?k[1]:$n/2,fo=t.interpolateZoom([(Hi-g.x)/g.k,(Ea-g.y)/g.k,Jr/g.k],[(Hi-wr.x)/wr.k,(Ea-wr.y)/wr.k,Jr/wr.k]);return function(Po){var ho=fo(Po),$o=Jr/ho[2];this.__chart__=g={x:Hi-ho[0]*$o,y:Ea-ho[1]*$o,k:$o},fr(hr)}}).each("interrupt.zoom",function(){qt(hr)}).each("end.zoom",function(){qt(hr)}):(this.__chart__=g,Ft(hr),fr(hr),qt(hr))})},Fe.translate=function(Ct){return arguments.length?(g={x:+Ct[0],y:+Ct[1],k:g.k},zt(),Fe):[g.x,g.y]},Fe.scale=function(Ct){return arguments.length?(g={x:g.x,y:g.y,k:null},Et(+Ct),zt(),Fe):g.k},Fe.scaleExtent=function(Ct){return arguments.length?(R=Ct==null?ir:[+Ct[0],+Ct[1]],Fe):R},Fe.center=function(Ct){return arguments.length?(D=Ct&&[+Ct[0],+Ct[1]],Fe):D},Fe.size=function(Ct){return arguments.length?(A=Ct&&[+Ct[0],+Ct[1]],Fe):A},Fe.duration=function(Ct){return arguments.length?(j=+Ct,Fe):j},Fe.x=function(Ct){return arguments.length?(Se=Ct,ve=Ct.copy(),g={x:0,y:0,k:1},Fe):Se},Fe.y=function(Ct){return arguments.length?(Pe=Ct,ke=Ct.copy(),g={x:0,y:0,k:1},Fe):Pe};function De(Ct){return[(Ct[0]-g.x)/g.k,(Ct[1]-g.y)/g.k]}function dt(Ct){return[Ct[0]*g.k+g.x,Ct[1]*g.k+g.y]}function Et(Ct){g.k=Math.max(R[0],Math.min(R[1],Ct))}function It(Ct,hr){hr=dt(hr),g.x+=Ct[0]-hr[0],g.y+=Ct[1]-hr[1]}function Rt(Ct,hr,wr,Jr){Ct.__chart__={x:g.x,y:g.y,k:g.k},Et(Math.pow(2,Jr)),It(k=hr,wr),Ct=t.select(Ct),j>0&&(Ct=Ct.transition().duration(j)),Ct.call(Fe.event)}function zt(){Se&&Se.domain(ve.range().map(function(Ct){return(Ct-g.x)/g.k}).map(ve.invert)),Pe&&Pe.domain(ke.range().map(function(Ct){return(Ct-g.y)/g.k}).map(ke.invert))}function Ft(Ct){F++||Ct({type:"zoomstart"})}function fr(Ct){zt(),Ct({type:"zoom",scale:g.k,translate:[g.x,g.y]})}function qt(Ct){--F||(Ct({type:"zoomend"}),k=null)}function or(){var Ct=this,hr=ze.of(Ct,arguments),wr=0,Jr=t.select(a(Ct)).on(re,Ea).on(ie,fo),$n=De(t.mouse(Ct)),Hi=kt(Ct);X2.call(Ct),Ft(hr);function Ea(){wr=1,It(t.mouse(Ct),$n),fr(hr)}function fo(){Jr.on(re,null).on(ie,null),Hi(wr),qt(hr)}}function Qr(){var Ct=this,hr=ze.of(Ct,arguments),wr={},Jr=0,$n,Hi=".zoom-"+t.event.changedTouches[0].identifier,Ea="touchmove"+Hi,fo="touchend"+Hi,Po=[],ho=t.select(Ct),$o=kt(Ct);Xo(),Ft(hr),ho.on(Z,null).on(me,Xo);function Wa(){var dc=t.touches(Ct);return $n=g.k,dc.forEach(function(Da){Da.identifier in wr&&(wr[Da.identifier]=De(Da))}),dc}function Xo(){var dc=t.event.target;t.select(dc).on(Ea,Wp).on(fo,RDe),Po.push(dc);for(var Da=t.event.changedTouches,ul=0,ou=Da.length;ul<ou;++ul)wr[Da[ul].identifier]=null;var dl=Wa(),kg=Date.now();if(dl.length===1){if(kg-Me<500){var Gp=dl[0];Rt(Ct,Gp,wr[Gp.identifier],Math.floor(Math.log(g.k)/Math.LN2)+1),he()}Me=kg}else if(dl.length>1){var Gp=dl[0],qf=dl[1],J2=Gp[0]-qf[0],EV=Gp[1]-qf[1];Jr=J2*J2+EV*EV}}function Wp(){var dc=t.touches(Ct),Da,ul,ou,dl;X2.call(Ct);for(var kg=0,Gp=dc.length;kg<Gp;++kg,dl=null)if(ou=dc[kg],dl=wr[ou.identifier]){if(ul)break;Da=ou,ul=dl}if(dl){var qf=(qf=ou[0]-Da[0])*qf+(qf=ou[1]-Da[1])*qf,J2=Jr&&Math.sqrt(qf/Jr);Da=[(Da[0]+ou[0])/2,(Da[1]+ou[1])/2],ul=[(ul[0]+dl[0])/2,(ul[1]+dl[1])/2],Et(J2*$n)}Me=null,It(Da,ul),fr(hr)}function RDe(){if(t.event.touches.length){for(var dc=t.event.changedTouches,Da=0,ul=dc.length;Da<ul;++Da)delete wr[dc[Da].identifier];for(var ou in wr)return void Wa()}t.selectAll(Po).on(Hi,null),ho.on(Z,or).on(me,Qr),$o(),qt(hr)}}function vi(){var Ct=ze.of(this,arguments);pe?clearTimeout(pe):(X2.call(this),T=De(k=D||t.mouse(this)),Ft(Ct)),pe=setTimeout(function(){pe=null,qt(Ct)},50),he(),Et(Math.pow(2,Qt()*.002)*g.k),It(k,T),fr(Ct)}function pn(){var Ct=t.mouse(this),hr=Math.log(g.k)/Math.LN2;Rt(this,Ct,De(Ct),t.event.shiftKey?Math.ceil(hr)-1:Math.floor(hr)+1)}return t.rebind(Fe,ze,"on")};var ir=[0,1/0],Qt,kr;t.color=br;function br(){}br.prototype.toString=function(){return this.rgb()+""},t.hsl=mr;function mr(g,T,k){return this instanceof mr?(this.h=+g,this.s=+T,void(this.l=+k)):arguments.length<2?g instanceof mr?new mr(g.h,g.s,g.l):I2(""+g,N2,mr):new mr(g,T,k)}var vr=mr.prototype=new br;vr.brighter=function(g){return g=Math.pow(.7,arguments.length?g:1),new mr(this.h,this.s,this.l/g)},vr.darker=function(g){return g=Math.pow(.7,arguments.length?g:1),new mr(this.h,this.s,g*this.l)},vr.rgb=function(){return Vr(this.h,this.s,this.l)};function Vr(g,T,k){var D,A;g=isNaN(g)?0:(g%=360)<0?g+360:g,T=isNaN(T)||T<0?0:T>1?1:T,k=k<0?0:k>1?1:k,A=k<=.5?k*(1+T):k+T-k*T,D=2*k-A;function R(F){return F>360?F-=360:F<0&&(F+=360),F<60?D+(A-D)*F/60:F<180?A:F<240?D+(A-D)*(240-F)/60:D}function j(F){return Math.round(R(F)*255)}return new ii(j(g+120),j(g),j(g-120))}t.hcl=un;function un(g,T,k){return this instanceof un?(this.h=+g,this.c=+T,void(this.l=+k)):arguments.length<2?g instanceof un?new un(g.h,g.c,g.l):g instanceof Rn?Bn(g.l,g.a,g.b):Bn((g=L2((g=t.rgb(g)).r,g.g,g.b)).l,g.a,g.b):new un(g,T,k)}var Dn=un.prototype=new br;Dn.brighter=function(g){return new un(this.h,this.c,Math.min(100,this.l+qr*(arguments.length?g:1)))},Dn.darker=function(g){return new un(this.h,this.c,Math.max(0,this.l-qr*(arguments.length?g:1)))},Dn.rgb=function(){return mi(this.h,this.c,this.l).rgb()};function mi(g,T,k){return isNaN(g)&&(g=0),isNaN(T)&&(T=0),new Rn(k,Math.cos(g*=oe)*T,Math.sin(g)*T)}t.lab=Rn;function Rn(g,T,k){return this instanceof Rn?(this.l=+g,this.a=+T,void(this.b=+k)):arguments.length<2?g instanceof Rn?new Rn(g.l,g.a,g.b):g instanceof un?mi(g.h,g.c,g.l):L2((g=ii(g)).r,g.g,g.b):new Rn(g,T,k)}var qr=18,Ki=.95047,ld=1,cd=1.08883,dn=Rn.prototype=new br;dn.brighter=function(g){return new Rn(Math.min(100,this.l+qr*(arguments.length?g:1)),this.a,this.b)},dn.darker=function(g){return new Rn(Math.max(0,this.l-qr*(arguments.length?g:1)),this.a,this.b)},dn.rgb=function(){return Zo(this.l,this.a,this.b)};function Zo(g,T,k){var D=(g+16)/116,A=D+T/500,R=D-k/200;return A=qp(A)*Ki,D=qp(D)*ld,R=qp(R)*cd,new ii(lc(3.2404542*A-1.5371385*D-.4985314*R),lc(-.969266*A+1.8760108*D+.041556*R),lc(.0556434*A-.2040259*D+1.0572252*R))}function Bn(g,T,k){return g>0?new un(Math.atan2(k,T)*be,Math.sqrt(T*T+k*k),g):new un(NaN,NaN,g)}function qp(g){return g>.206893034?g*g*g:(g-4/29)/7.787037}function Oo(g){return g>.008856?Math.pow(g,1/3):7.787037*g+4/29}function lc(g){return Math.round(255*(g<=.00304?12.92*g:1.055*Math.pow(g,1/2.4)-.055))}t.rgb=ii;function ii(g,T,k){return this instanceof ii?(this.r=~~g,this.g=~~T,void(this.b=~~k)):arguments.length<2?g instanceof ii?new ii(g.r,g.g,g.b):I2(""+g,ii,Vr):new ii(g,T,k)}function cc(g){return new ii(g>>16,g>>8&255,g&255)}function zf(g){return cc(g)+""}var Ff=ii.prototype=new br;Ff.brighter=function(g){g=Math.pow(.7,arguments.length?g:1);var T=this.r,k=this.g,D=this.b,A=30;return!T&&!k&&!D?new ii(A,A,A):(T&&T<A&&(T=A),k&&k<A&&(k=A),D&&D<A&&(D=A),new ii(Math.min(255,T/g),Math.min(255,k/g),Math.min(255,D/g)))},Ff.darker=function(g){return g=Math.pow(.7,arguments.length?g:1),new ii(g*this.r,g*this.g,g*this.b)},Ff.hsl=function(){return N2(this.r,this.g,this.b)},Ff.toString=function(){return"#"+Va(this.r)+Va(this.g)+Va(this.b)};function Va(g){return g<16?"0"+Math.max(0,g).toString(16):Math.min(255,g).toString(16)}function I2(g,T,k){var D=0,A=0,R=0,j,F,Z;if(j=/([a-z]+)\((.*)\)/.exec(g=g.toLowerCase()),j)switch(F=j[2].split(","),j[1]){case"hsl":return k(parseFloat(F[0]),parseFloat(F[1])/100,parseFloat(F[2])/100);case"rgb":return T(N1(F[0]),N1(F[1]),N1(F[2]))}return(Z=$t.get(g))?T(Z.r,Z.g,Z.b):(g!=null&&g.charAt(0)==="#"&&!isNaN(Z=parseInt(g.slice(1),16))&&(g.length===4?(D=(Z&3840)>>4,D=D>>4|D,A=Z&240,A=A>>4|A,R=Z&15,R=R<<4|R):g.length===7&&(D=(Z&16711680)>>16,A=(Z&65280)>>8,R=Z&255)),T(D,A,R))}function N2(g,T,k){var D=Math.min(g/=255,T/=255,k/=255),A=Math.max(g,T,k),R=A-D,j,F,Z=(A+D)/2;return R?(F=Z<.5?R/(A+D):R/(2-A-D),g==A?j=(T-k)/R+(T<k?6:0):T==A?j=(k-g)/R+2:j=(g-T)/R+4,j*=60):(j=NaN,F=Z>0&&Z<1?0:j),new mr(j,F,Z)}function L2(g,T,k){g=I1(g),T=I1(T),k=I1(k);var D=Oo((.4124564*g+.3575761*T+.1804375*k)/Ki),A=Oo((.2126729*g+.7151522*T+.072175*k)/ld),R=Oo((.0193339*g+.119192*T+.9503041*k)/cd);return Rn(116*A-16,500*(D-A),200*(A-R))}function I1(g){return(g/=255)<=.04045?g/12.92:Math.pow((g+.055)/1.055,2.4)}function N1(g){var T=parseFloat(g);return g.charAt(g.length-1)==="%"?Math.round(T*2.55):T}var $t=t.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});$t.forEach(function(g,T){$t.set(g,cc(T))});function Zt(g){return typeof g=="function"?g:function(){return g}}t.functor=Zt,t.xhr=on(K);function on(g){return function(T,k,D){return arguments.length===2&&typeof k=="function"&&(D=k,k=null),Mt(T,k,g,D)}}function Mt(g,T,k,D){var A={},R=t.dispatch("beforesend","progress","load","error"),j={},F=new XMLHttpRequest,Z=null;self.XDomainRequest&&!("withCredentials"in F)&&/^(http(s)?:)?\/\//.test(g)&&(F=new XDomainRequest),"onload"in F?F.onload=F.onerror=re:F.onreadystatechange=function(){F.readyState>3&&re()};function re(){var ie=F.status,pe;if(!ie&&Pn(F)||ie>=200&&ie<300||ie===304){try{pe=k.call(A,F)}catch(me){R.error.call(A,me);return}R.load.call(A,pe)}else R.error.call(A,F)}return F.onprogress=function(ie){var pe=t.event;t.event=ie;try{R.progress.call(A,F)}finally{t.event=pe}},A.header=function(ie,pe){return ie=(ie+"").toLowerCase(),arguments.length<2?j[ie]:(pe==null?delete j[ie]:j[ie]=pe+"",A)},A.mimeType=function(ie){return arguments.length?(T=ie==null?null:ie+"",A):T},A.responseType=function(ie){return arguments.length?(Z=ie,A):Z},A.response=function(ie){return k=ie,A},["get","post"].forEach(function(ie){A[ie]=function(){return A.send.apply(A,[ie].concat(r(arguments)))}}),A.send=function(ie,pe,me){if(arguments.length===2&&typeof pe=="function"&&(me=pe,pe=null),F.open(ie,g,!0),T!=null&&!("accept"in j)&&(j.accept=T+",*/*"),F.setRequestHeader)for(var Me in j)F.setRequestHeader(Me,j[Me]);return T!=null&&F.overrideMimeType&&F.overrideMimeType(T),Z!=null&&(F.responseType=Z),me!=null&&A.on("error",me).on("load",function(ze){me(null,ze)}),R.beforesend.call(A,F),F.send(pe==null?null:pe),A},A.abort=function(){return F.abort(),A},t.rebind(A,R,"on"),D==null?A:A.get(uo(D))}function uo(g){return g.length===1?function(T,k){g(T==null?k:null)}:g}function Pn(g){var T=g.responseType;return T&&T!=="text"?g.response:g.responseText}t.dsv=function(g,T){var k=new RegExp('["'+g+`
]`),D=g.charCodeAt(0);function A(re,ie,pe){arguments.length<3&&(pe=ie,ie=null);var me=Mt(re,T,ie==null?R:j(ie),pe);return me.row=function(Me){return arguments.length?me.response((ie=Me)==null?R:j(Me)):ie},me}function R(re){return A.parse(re.responseText)}function j(re){return function(ie){return A.parse(ie.responseText,re)}}A.parse=function(re,ie){var pe;return A.parseRows(re,function(me,Me){if(pe)return pe(me,Me-1);var ze=function(ve){for(var Se={},ke=me.length,Pe=0;Pe<ke;++Pe)Se[me[Pe]]=ve[Pe];return Se};pe=ie?function(ve,Se){return ie(ze(ve),Se)}:ze})},A.parseRows=function(re,ie){var pe={},me={},Me=[],ze=re.length,ve=0,Se=0,ke,Pe;function Fe(){if(ve>=ze)return me;if(Pe)return Pe=!1,pe;var dt=ve;if(re.charCodeAt(dt)===34){for(var Et=dt;Et++<ze;)if(re.charCodeAt(Et)===34){if(re.charCodeAt(Et+1)!==34)break;++Et}ve=Et+2;var It=re.charCodeAt(Et+1);return It===13?(Pe=!0,re.charCodeAt(Et+2)===10&&++ve):It===10&&(Pe=!0),re.slice(dt+1,Et).replace(/""/g,'"')}for(;ve<ze;){var It=re.charCodeAt(ve++),Rt=1;if(It===10)Pe=!0;else if(It===13)Pe=!0,re.charCodeAt(ve)===10&&(++ve,++Rt);else if(It!==D)continue;return re.slice(dt,ve-Rt)}return re.slice(dt)}for(;(ke=Fe())!==me;){for(var De=[];ke!==pe&&ke!==me;)De.push(ke),ke=Fe();ie&&(De=ie(De,Se++))==null||Me.push(De)}return Me},A.format=function(re){if(Array.isArray(re[0]))return A.formatRows(re);var ie=new Y,pe=[];return re.forEach(function(me){for(var Me in me)ie.has(Me)||pe.push(ie.add(Me))}),[pe.map(Z).join(g)].concat(re.map(function(me){return pe.map(function(Me){return Z(me[Me])}).join(g)})).join(`
`)},A.formatRows=function(re){return re.map(F).join(`
`)};function F(re){return re.map(Z).join(g)}function Z(re){return k.test(re)?'"'+re.replace(/\"/g,'""')+'"':re}return A},t.csv=t.dsv(",","text/csv"),t.tsv=t.dsv("	","text/tab-separated-values");var Ca,ka,ll,Up,hj=this[U(this,"requestAnimationFrame")]||function(g){setTimeout(g,17)};t.timer=function(){O2.apply(this,arguments)};function O2(g,T,k){var D=arguments.length;D<2&&(T=0),D<3&&(k=Date.now());var A=k+T,R={c:g,t:A,n:null};return ka?ka.n=R:Ca=R,ka=R,ll||(Up=clearTimeout(Up),ll=1,hj(OI)),R}function OI(){var g=pj(),T=mj()-g;T>24?(isFinite(T)&&(clearTimeout(Up),Up=setTimeout(OI,T)),ll=0):(ll=1,hj(OI))}t.timer.flush=function(){pj(),mj()};function pj(){for(var g=Date.now(),T=Ca;T;)g>=T.t&&T.c(g-T.t)&&(T.c=null),T=T.n;return g}function mj(){for(var g,T=Ca,k=1/0;T;)T.c?(T.t<k&&(k=T.t),T=(g=T).n):T=g?g.n=T.n:Ca=T.n;return ka=g,k}t.round=function(g,T){return T?Math.round(g*(T=Math.pow(10,T)))/T:Math.round(g)},t.geom={};function wg(g){return g[0]}function L1(g){return g[1]}t.geom.hull=function(g){var T=wg,k=L1;if(arguments.length)return D(g);function D(A){if(A.length<3)return[];var R=Zt(T),j=Zt(k),F,Z=A.length,re=[],ie=[];for(F=0;F<Z;F++)re.push([+R.call(this,A[F],F),+j.call(this,A[F],F),F]);for(re.sort(Lke),F=0;F<Z;F++)ie.push([re[F][0],-re[F][1]]);var pe=vj(re),me=vj(ie),Me=me[0]===pe[0],ze=me[me.length-1]===pe[pe.length-1],ve=[];for(F=pe.length-1;F>=0;--F)ve.push(A[re[pe[F]][2]]);for(F=+Me;F<me.length-ze;++F)ve.push(A[re[me[F]][2]]);return ve}return D.x=function(A){return arguments.length?(T=A,D):T},D.y=function(A){return arguments.length?(k=A,D):k},D};function vj(g){for(var T=g.length,k=[0,1],D=2,A=2;A<T;A++){for(;D>1&&Ge(g[k[D-2]],g[k[D-1]],g[A])<=0;)--D;k[D++]=A}return k.slice(0,D)}function Lke(g,T){return g[0]-T[0]||g[1]-T[1]}t.geom.polygon=function(g){return q(g,P2),g};var P2=t.geom.polygon.prototype=[];P2.area=function(){for(var g=-1,T=this.length,k,D=this[T-1],A=0;++g<T;)k=D,D=this[g],A+=k[1]*D[0]-k[0]*D[1];return A*.5},P2.centroid=function(g){var T=-1,k=this.length,D=0,A=0,R,j=this[k-1],F;for(arguments.length||(g=-1/(6*this.area()));++T<k;)R=j,j=this[T],F=R[0]*j[1]-j[0]*R[1],D+=(R[0]+j[0])*F,A+=(R[1]+j[1])*F;return[D*g,A*g]},P2.clip=function(g){for(var T,k=gj(g),D=-1,A=this.length-gj(this),R,j,F=this[A-1],Z,re,ie;++D<A;){for(T=g.slice(),g.length=0,Z=this[D],re=T[(j=T.length-k)-1],R=-1;++R<j;)ie=T[R],PI(ie,F,Z)?(PI(re,F,Z)||g.push(zI(re,ie,F,Z)),g.push(ie)):PI(re,F,Z)&&g.push(zI(re,ie,F,Z)),re=ie;k&&g.push(g[0]),F=Z}return g};function PI(g,T,k){return(k[0]-T[0])*(g[1]-T[1])<(k[1]-T[1])*(g[0]-T[0])}function zI(g,T,k,D){var A=g[0],R=k[0],j=T[0]-A,F=D[0]-R,Z=g[1],re=k[1],ie=T[1]-Z,pe=D[1]-re,me=(F*(Z-re)-pe*(A-R))/(pe*j-F*ie);return[A+me*j,Z+me*ie]}function gj(g){var T=g[0],k=g[g.length-1];return!(T[0]-k[0]||T[1]-k[1])}var xg,Bp,Tg,yj=[],FI,O1,bj=[];function Oke(){H2(this),this.edge=this.site=this.circle=null}function wj(g){var T=yj.pop()||new Oke;return T.site=g,T}function HI(g){_g(g),Tg.remove(g),yj.push(g),H2(g)}function Pke(g){var T=g.circle,k=T.x,D=T.cy,A={x:k,y:D},R=g.P,j=g.N,F=[g];HI(g);for(var Z=R;Z.circle&&y(k-Z.circle.x)<ut&&y(D-Z.circle.cy)<ut;)R=Z.P,F.unshift(Z),HI(Z),Z=R;F.unshift(Z),_g(Z);for(var re=j;re.circle&&y(k-re.circle.x)<ut&&y(D-re.circle.cy)<ut;)j=re.N,F.push(re),HI(re),re=j;F.push(re),_g(re);var ie=F.length,pe;for(pe=1;pe<ie;++pe)re=F[pe],Z=F[pe-1],z2(re.edge,Z.site,re.site,A);Z=F[0],re=F[ie-1],re.edge=P1(Z.site,re.site,null,A),Sg(Z),Sg(re)}function zke(g){for(var T=g.x,k=g.y,D,A,R,j,F=Tg._;F;)if(R=xj(F,k)-T,R>ut)F=F.L;else if(j=T-Fke(F,k),j>ut){if(!F.R){D=F;break}F=F.R}else{R>-ut?(D=F.P,A=F):j>-ut?(D=F,A=F.N):D=A=F;break}var Z=wj(g);if(Tg.insert(D,Z),!(!D&&!A)){if(D===A){_g(D),A=wj(D.site),Tg.insert(Z,A),Z.edge=A.edge=P1(D.site,Z.site),Sg(D),Sg(A);return}if(!A){Z.edge=P1(D.site,Z.site);return}_g(D),_g(A);var re=D.site,ie=re.x,pe=re.y,me=g.x-ie,Me=g.y-pe,ze=A.site,ve=ze.x-ie,Se=ze.y-pe,ke=2*(me*Se-Me*ve),Pe=me*me+Me*Me,Fe=ve*ve+Se*Se,De={x:(Se*Pe-Me*Fe)/ke+ie,y:(me*Fe-ve*Pe)/ke+pe};z2(A.edge,re,ze,De),Z.edge=P1(re,g,null,De),A.edge=P1(g,ze,null,De),Sg(D),Sg(A)}}function xj(g,T){var k=g.site,D=k.x,A=k.y,R=A-T;if(!R)return D;var j=g.P;if(!j)return-1/0;k=j.site;var F=k.x,Z=k.y,re=Z-T;if(!re)return F;var ie=F-D,pe=1/R-1/re,me=ie/re;return pe?(-me+Math.sqrt(me*me-2*pe*(ie*ie/(-2*re)-Z+re/2+A-R/2)))/pe+D:(D+F)/2}function Fke(g,T){var k=g.N;if(k)return xj(k,T);var D=g.site;return D.y===T?D.x:1/0}function Tj(g){this.site=g,this.edges=[]}Tj.prototype.prepare=function(){for(var g=this.edges,T=g.length,k;T--;)k=g[T].edge,(!k.b||!k.a)&&g.splice(T,1);return g.sort(Sj),g.length};function Hke(g){for(var T=g[0][0],k=g[1][0],D=g[0][1],A=g[1][1],R,j,F,Z,re=Bp,ie=re.length,pe,me,Me,ze,ve,Se;ie--;)if(pe=re[ie],!(!pe||!pe.prepare()))for(Me=pe.edges,ze=Me.length,me=0;me<ze;)Se=Me[me].end(),F=Se.x,Z=Se.y,ve=Me[++me%ze].start(),R=ve.x,j=ve.y,(y(F-R)>ut||y(Z-j)>ut)&&(Me.splice(me,0,new F2(Vke(pe.site,Se,y(F-T)<ut&&A-Z>ut?{x:T,y:y(R-T)<ut?j:A}:y(Z-A)<ut&&k-F>ut?{x:y(j-A)<ut?R:k,y:A}:y(F-k)<ut&&Z-D>ut?{x:k,y:y(R-k)<ut?j:D}:y(Z-D)<ut&&F-T>ut?{x:y(j-D)<ut?R:T,y:D}:null),pe.site,null)),++ze)}function Sj(g,T){return T.angle-g.angle}function qke(){H2(this),this.x=this.y=this.arc=this.site=this.cy=null}function Sg(g){var T=g.P,k=g.N;if(!(!T||!k)){var D=T.site,A=g.site,R=k.site;if(D!==R){var j=A.x,F=A.y,Z=D.x-j,re=D.y-F,ie=R.x-j,Se=R.y-F,pe=2*(Z*Se-re*ie);if(!(pe>=-P)){var me=Z*Z+re*re,Me=ie*ie+Se*Se,ze=(Se*me-re*Me)/pe,ve=(Z*Me-ie*me)/pe,Se=ve+F,ke=bj.pop()||new qke;ke.arc=g,ke.site=A,ke.x=ze+j,ke.y=Se+Math.sqrt(ze*ze+ve*ve),ke.cy=Se,g.circle=ke;for(var Pe=null,Fe=O1._;Fe;)if(ke.y<Fe.y||ke.y===Fe.y&&ke.x<=Fe.x)if(Fe.L)Fe=Fe.L;else{Pe=Fe.P;break}else if(Fe.R)Fe=Fe.R;else{Pe=Fe;break}O1.insert(Pe,ke),Pe||(FI=ke)}}}}function _g(g){var T=g.circle;T&&(T.P||(FI=T.N),O1.remove(T),bj.push(T),H2(T),g.circle=null)}function Uke(g,T,k,D){return function(A){var R=A.a,j=A.b,F=R.x,Z=R.y,re=j.x,ie=j.y,pe=0,me=1,Me=re-F,ze=ie-Z,ve;if(ve=g-F,!(!Me&&ve>0)){if(ve/=Me,Me<0){if(ve<pe)return;ve<me&&(me=ve)}else if(Me>0){if(ve>me)return;ve>pe&&(pe=ve)}if(ve=k-F,!(!Me&&ve<0)){if(ve/=Me,Me<0){if(ve>me)return;ve>pe&&(pe=ve)}else if(Me>0){if(ve<pe)return;ve<me&&(me=ve)}if(ve=T-Z,!(!ze&&ve>0)){if(ve/=ze,ze<0){if(ve<pe)return;ve<me&&(me=ve)}else if(ze>0){if(ve>me)return;ve>pe&&(pe=ve)}if(ve=D-Z,!(!ze&&ve<0)){if(ve/=ze,ze<0){if(ve>me)return;ve>pe&&(pe=ve)}else if(ze>0){if(ve<pe)return;ve<me&&(me=ve)}return pe>0&&(A.a={x:F+pe*Me,y:Z+pe*ze}),me<1&&(A.b={x:F+me*Me,y:Z+me*ze}),A}}}}}}function Bke(g){for(var T=xg,k=Uke(g[0][0],g[0][1],g[1][0],g[1][1]),D=T.length,A;D--;)A=T[D],(!jke(A,g)||!k(A)||y(A.a.x-A.b.x)<ut&&y(A.a.y-A.b.y)<ut)&&(A.a=A.b=null,T.splice(D,1))}function jke(g,T){var k=g.b;if(k)return!0;var D=g.a,A=T[0][0],R=T[1][0],j=T[0][1],F=T[1][1],Z=g.l,re=g.r,ie=Z.x,pe=Z.y,me=re.x,Me=re.y,ze=(ie+me)/2,ve=(pe+Me)/2,Se,ke;if(Me===pe){if(ze<A||ze>=R)return;if(ie>me){if(!D)D={x:ze,y:j};else if(D.y>=F)return;k={x:ze,y:F}}else{if(!D)D={x:ze,y:F};else if(D.y<j)return;k={x:ze,y:j}}}else if(Se=(ie-me)/(Me-pe),ke=ve-Se*ze,Se<-1||Se>1)if(ie>me){if(!D)D={x:(j-ke)/Se,y:j};else if(D.y>=F)return;k={x:(F-ke)/Se,y:F}}else{if(!D)D={x:(F-ke)/Se,y:F};else if(D.y<j)return;k={x:(j-ke)/Se,y:j}}else if(pe<Me){if(!D)D={x:A,y:Se*A+ke};else if(D.x>=R)return;k={x:R,y:Se*R+ke}}else{if(!D)D={x:R,y:Se*R+ke};else if(D.x<A)return;k={x:A,y:Se*A+ke}}return g.a=D,g.b=k,!0}function _j(g,T){this.l=g,this.r=T,this.a=this.b=null}function P1(g,T,k,D){var A=new _j(g,T);return xg.push(A),k&&z2(A,g,T,k),D&&z2(A,T,g,D),Bp[g.i].edges.push(new F2(A,g,T)),Bp[T.i].edges.push(new F2(A,T,g)),A}function Vke(g,T,k){var D=new _j(g,null);return D.a=T,D.b=k,xg.push(D),D}function z2(g,T,k,D){!g.a&&!g.b?(g.a=D,g.l=T,g.r=k):g.l===k?g.b=D:g.a=D}function F2(g,T,k){var D=g.a,A=g.b;this.edge=g,this.site=T,this.angle=k?Math.atan2(k.y-T.y,k.x-T.x):g.l===T?Math.atan2(A.x-D.x,D.y-A.y):Math.atan2(D.x-A.x,A.y-D.y)}F2.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function qI(){this._=null}function H2(g){g.U=g.C=g.L=g.R=g.P=g.N=null}qI.prototype={insert:function(g,T){var k,D,A;if(g){if(T.P=g,T.N=g.N,g.N&&(g.N.P=T),g.N=T,g.R){for(g=g.R;g.L;)g=g.L;g.L=T}else g.R=T;k=g}else this._?(g=Cj(this._),T.P=null,T.N=g,g.P=g.L=T,k=g):(T.P=T.N=null,this._=T,k=null);for(T.L=T.R=null,T.U=k,T.C=!0,g=T;k&&k.C;)D=k.U,k===D.L?(A=D.R,A&&A.C?(k.C=A.C=!1,D.C=!0,g=D):(g===k.R&&(z1(this,k),g=k,k=g.U),k.C=!1,D.C=!0,F1(this,D))):(A=D.L,A&&A.C?(k.C=A.C=!1,D.C=!0,g=D):(g===k.L&&(F1(this,k),g=k,k=g.U),k.C=!1,D.C=!0,z1(this,D))),k=g.U;this._.C=!1},remove:function(g){g.N&&(g.N.P=g.P),g.P&&(g.P.N=g.N),g.N=g.P=null;var T=g.U,k,D=g.L,A=g.R,R,j;if(D?A?R=Cj(A):R=D:R=A,T?T.L===g?T.L=R:T.R=R:this._=R,D&&A?(j=R.C,R.C=g.C,R.L=D,D.U=R,R!==A?(T=R.U,R.U=g.U,g=R.R,T.L=g,R.R=A,A.U=R):(R.U=T,T=R,g=R.R)):(j=g.C,g=R),g&&(g.U=T),!j){if(g&&g.C){g.C=!1;return}do{if(g===this._)break;if(g===T.L){if(k=T.R,k.C&&(k.C=!1,T.C=!0,z1(this,T),k=T.R),k.L&&k.L.C||k.R&&k.R.C){(!k.R||!k.R.C)&&(k.L.C=!1,k.C=!0,F1(this,k),k=T.R),k.C=T.C,T.C=k.R.C=!1,z1(this,T),g=this._;break}}else if(k=T.L,k.C&&(k.C=!1,T.C=!0,F1(this,T),k=T.L),k.L&&k.L.C||k.R&&k.R.C){(!k.L||!k.L.C)&&(k.R.C=!1,k.C=!0,z1(this,k),k=T.L),k.C=T.C,T.C=k.L.C=!1,F1(this,T),g=this._;break}k.C=!0,g=T,T=T.U}while(!g.C);g&&(g.C=!1)}}};function z1(g,T){var k=T,D=T.R,A=k.U;A?A.L===k?A.L=D:A.R=D:g._=D,D.U=A,k.U=D,k.R=D.L,k.R&&(k.R.U=k),D.L=k}function F1(g,T){var k=T,D=T.L,A=k.U;A?A.L===k?A.L=D:A.R=D:g._=D,D.U=A,k.U=D,k.L=D.R,k.L&&(k.L.U=k),D.R=k}function Cj(g){for(;g.L;)g=g.L;return g}function UI(g,T){var k=g.sort(Wke).pop(),D,A,R;for(xg=[],Bp=new Array(g.length),Tg=new qI,O1=new qI;;)if(R=FI,k&&(!R||k.y<R.y||k.y===R.y&&k.x<R.x))(k.x!==D||k.y!==A)&&(Bp[k.i]=new Tj(k),zke(k),D=k.x,A=k.y),k=g.pop();else if(R)Pke(R.arc);else break;T&&(Bke(T),Hke(T));var j={cells:Bp,edges:xg};return Tg=O1=xg=Bp=null,j}function Wke(g,T){return T.y-g.y||T.x-g.x}t.geom.voronoi=function(g){var T=wg,k=L1,D=T,A=k,R=q2;if(g)return j(g);function j(Z){var re=new Array(Z.length),ie=R[0][0],pe=R[0][1],me=R[1][0],Me=R[1][1];return UI(F(Z),R).cells.forEach(function(ze,ve){var Se=ze.edges,ke=ze.site,Pe=re[ve]=Se.length?Se.map(function(Fe){var De=Fe.start();return[De.x,De.y]}):ke.x>=ie&&ke.x<=me&&ke.y>=pe&&ke.y<=Me?[[ie,Me],[me,Me],[me,pe],[ie,pe]]:[];Pe.point=Z[ve]}),re}function F(Z){return Z.map(function(re,ie){return{x:Math.round(D(re,ie)/ut)*ut,y:Math.round(A(re,ie)/ut)*ut,i:ie}})}return j.links=function(Z){return UI(F(Z)).edges.filter(function(re){return re.l&&re.r}).map(function(re){return{source:Z[re.l.i],target:Z[re.r.i]}})},j.triangles=function(Z){var re=[];return UI(F(Z)).cells.forEach(function(ie,pe){for(var me=ie.site,Me=ie.edges.sort(Sj),ze=-1,ve=Me.length,Se,ke,Pe=Me[ve-1].edge,Fe=Pe.l===me?Pe.r:Pe.l;++ze<ve;)Se=Pe,ke=Fe,Pe=Me[ze].edge,Fe=Pe.l===me?Pe.r:Pe.l,pe<ke.i&&pe<Fe.i&&Gke(me,ke,Fe)<0&&re.push([Z[pe],Z[ke.i],Z[Fe.i]])}),re},j.x=function(Z){return arguments.length?(D=Zt(T=Z),j):T},j.y=function(Z){return arguments.length?(A=Zt(k=Z),j):k},j.clipExtent=function(Z){return arguments.length?(R=Z==null?q2:Z,j):R===q2?null:R},j.size=function(Z){return arguments.length?j.clipExtent(Z&&[[0,0],Z]):R===q2?null:R&&R[1]},j};var q2=[[-1e6,-1e6],[1e6,1e6]];function Gke(g,T,k){return(g.x-k.x)*(T.y-g.y)-(g.x-T.x)*(k.y-g.y)}t.geom.delaunay=function(g){return t.geom.voronoi().triangles(g)},t.geom.quadtree=function(g,T,k,D,A){var R=wg,j=L1,F;if(F=arguments.length)return R=Yke,j=Zke,F===3&&(A=k,D=T,k=T=0),Z(g);function Z(re){var ie,pe=Zt(R),me=Zt(j),Me,ze,ve,Se,ke,Pe,Fe,De;if(T!=null)ke=T,Pe=k,Fe=D,De=A;else if(Fe=De=-(ke=Pe=1/0),Me=[],ze=[],Se=re.length,F)for(ve=0;ve<Se;++ve)ie=re[ve],ie.x<ke&&(ke=ie.x),ie.y<Pe&&(Pe=ie.y),ie.x>Fe&&(Fe=ie.x),ie.y>De&&(De=ie.y),Me.push(ie.x),ze.push(ie.y);else for(ve=0;ve<Se;++ve){var dt=+pe(ie=re[ve],ve),Et=+me(ie,ve);dt<ke&&(ke=dt),Et<Pe&&(Pe=Et),dt>Fe&&(Fe=dt),Et>De&&(De=Et),Me.push(dt),ze.push(Et)}var It=Fe-ke,Rt=De-Pe;It>Rt?De=Pe+It:Fe=ke+Rt;function zt(qt,or,Qr,vi,pn,Ct,hr,wr){if(!(isNaN(Qr)||isNaN(vi)))if(qt.leaf){var Jr=qt.x,$n=qt.y;if(Jr!=null)if(y(Jr-Qr)+y($n-vi)<.01)Ft(qt,or,Qr,vi,pn,Ct,hr,wr);else{var Hi=qt.point;qt.x=qt.y=qt.point=null,Ft(qt,Hi,Jr,$n,pn,Ct,hr,wr),Ft(qt,or,Qr,vi,pn,Ct,hr,wr)}else qt.x=Qr,qt.y=vi,qt.point=or}else Ft(qt,or,Qr,vi,pn,Ct,hr,wr)}function Ft(qt,or,Qr,vi,pn,Ct,hr,wr){var Jr=(pn+hr)*.5,$n=(Ct+wr)*.5,Hi=Qr>=Jr,Ea=vi>=$n,fo=Ea<<1|Hi;qt.leaf=!1,qt=qt.nodes[fo]||(qt.nodes[fo]=kj()),Hi?pn=Jr:hr=Jr,Ea?Ct=$n:wr=$n,zt(qt,or,Qr,vi,pn,Ct,hr,wr)}var fr=kj();if(fr.add=function(qt){zt(fr,qt,+pe(qt,++ve),+me(qt,ve),ke,Pe,Fe,De)},fr.visit=function(qt){H1(qt,fr,ke,Pe,Fe,De)},fr.find=function(qt){return $ke(fr,qt[0],qt[1],ke,Pe,Fe,De)},ve=-1,T==null){for(;++ve<Se;)zt(fr,re[ve],Me[ve],ze[ve],ke,Pe,Fe,De);--ve}else re.forEach(fr.add);return Me=ze=re=ie=null,fr}return Z.x=function(re){return arguments.length?(R=re,Z):R},Z.y=function(re){return arguments.length?(j=re,Z):j},Z.extent=function(re){return arguments.length?(re==null?T=k=D=A=null:(T=+re[0][0],k=+re[0][1],D=+re[1][0],A=+re[1][1]),Z):T==null?null:[[T,k],[D,A]]},Z.size=function(re){return arguments.length?(re==null?T=k=D=A=null:(T=k=0,D=+re[0],A=+re[1]),Z):T==null?null:[D-T,A-k]},Z};function Yke(g){return g.x}function Zke(g){return g.y}function kj(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function H1(g,T,k,D,A,R){if(!g(T,k,D,A,R)){var j=(k+A)*.5,F=(D+R)*.5,Z=T.nodes;Z[0]&&H1(g,Z[0],k,D,j,F),Z[1]&&H1(g,Z[1],j,D,A,F),Z[2]&&H1(g,Z[2],k,F,j,R),Z[3]&&H1(g,Z[3],j,F,A,R)}}function $ke(g,T,k,D,A,R,j){var F=1/0,Z;return function re(ie,pe,me,Me,ze){if(!(pe>R||me>j||Me<D||ze<A)){if(ve=ie.point){var ve,Se=T-ie.x,ke=k-ie.y,Pe=Se*Se+ke*ke;if(Pe<F){var Fe=Math.sqrt(F=Pe);D=T-Fe,A=k-Fe,R=T+Fe,j=k+Fe,Z=ve}}for(var De=ie.nodes,dt=(pe+Me)*.5,Et=(me+ze)*.5,It=T>=dt,Rt=k>=Et,zt=Rt<<1|It,Ft=zt+4;zt<Ft;++zt)if(ie=De[zt&3])switch(zt&3){case 0:re(ie,pe,me,dt,Et);break;case 1:re(ie,dt,me,Me,Et);break;case 2:re(ie,pe,Et,dt,ze);break;case 3:re(ie,dt,Et,Me,ze);break}}}(g,D,A,R,j),Z}t.interpolateRgb=BI;function BI(g,T){g=t.rgb(g),T=t.rgb(T);var k=g.r,D=g.g,A=g.b,R=T.r-k,j=T.g-D,F=T.b-A;return function(Z){return"#"+Va(Math.round(k+R*Z))+Va(Math.round(D+j*Z))+Va(Math.round(A+F*Z))}}t.interpolateObject=Ej;function Ej(g,T){var k={},D={},A;for(A in g)A in T?k[A]=jp(g[A],T[A]):D[A]=g[A];for(A in T)A in g||(D[A]=T[A]);return function(R){for(A in k)D[A]=k[A](R);return D}}t.interpolateNumber=ud;function ud(g,T){return g=+g,T=+T,function(k){return g*(1-k)+T*k}}t.interpolateString=Dj;function Dj(g,T){var k=jI.lastIndex=VI.lastIndex=0,D,A,R,j=-1,F=[],Z=[];for(g=g+"",T=T+"";(D=jI.exec(g))&&(A=VI.exec(T));)(R=A.index)>k&&(R=T.slice(k,R),F[j]?F[j]+=R:F[++j]=R),(D=D[0])===(A=A[0])?F[j]?F[j]+=A:F[++j]=A:(F[++j]=null,Z.push({i:j,x:ud(D,A)})),k=VI.lastIndex;return k<T.length&&(R=T.slice(k),F[j]?F[j]+=R:F[++j]=R),F.length<2?Z[0]?(T=Z[0].x,function(re){return T(re)+""}):function(){return T}:(T=Z.length,function(re){for(var ie=0,pe;ie<T;++ie)F[(pe=Z[ie]).i]=pe.x(re);return F.join("")})}var jI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,VI=new RegExp(jI.source,"g");t.interpolate=jp;function jp(g,T){for(var k=t.interpolators.length,D;--k>=0&&!(D=t.interpolators[k](g,T)););return D}t.interpolators=[function(g,T){var k=typeof T;return(k==="string"?$t.has(T.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(T)?BI:Dj:T instanceof br?BI:Array.isArray(T)?U2:k==="object"&&isNaN(T)?Ej:ud)(g,T)}],t.interpolateArray=U2;function U2(g,T){var k=[],D=[],A=g.length,R=T.length,j=Math.min(g.length,T.length),F;for(F=0;F<j;++F)k.push(jp(g[F],T[F]));for(;F<A;++F)D[F]=g[F];for(;F<R;++F)D[F]=T[F];return function(Z){for(F=0;F<j;++F)D[F]=k[F](Z);return D}}var Aj=function(){return K},Xke=t.map({linear:Aj,poly:rEe,quad:function(){return Jke},cubic:function(){return eEe},sin:function(){return nEe},exp:function(){return iEe},circle:function(){return aEe},elastic:oEe,back:sEe,bounce:function(){return lEe}}),Kke=t.map({in:K,out:Mj,"in-out":Rj,"out-in":function(g){return Rj(Mj(g))}});t.ease=function(g){var T=g.indexOf("-"),k=T>=0?g.slice(0,T):g,D=T>=0?g.slice(T+1):"in";return k=Xke.get(k)||Aj,D=Kke.get(D)||K,Qke(D(k.apply(null,e.call(arguments,1))))};function Qke(g){return function(T){return T<=0?0:T>=1?1:g(T)}}function Mj(g){return function(T){return 1-g(1-T)}}function Rj(g){return function(T){return .5*(T<.5?g(2*T):2-g(2-2*T))}}function Jke(g){return g*g}function eEe(g){return g*g*g}function tEe(g){if(g<=0)return 0;if(g>=1)return 1;var T=g*g,k=T*g;return 4*(g<.5?k:3*(g-T)+k-.75)}function rEe(g){return function(T){return Math.pow(T,g)}}function nEe(g){return 1-Math.cos(g*V)}function iEe(g){return Math.pow(2,10*(g-1))}function aEe(g){return 1-Math.sqrt(1-g*g)}function oEe(g,T){var k;return arguments.length<2&&(T=.45),arguments.length?k=T/Q*Math.asin(1/g):(g=1,k=T/4),function(D){return 1+g*Math.pow(2,-10*D)*Math.sin((D-k)*Q/T)}}function sEe(g){return g||(g=1.70158),function(T){return T*T*((g+1)*T-g)}}function lEe(g){return g<1/2.75?7.5625*g*g:g<2/2.75?7.5625*(g-=1.5/2.75)*g+.75:g<2.5/2.75?7.5625*(g-=2.25/2.75)*g+.9375:7.5625*(g-=2.625/2.75)*g+.984375}t.interpolateHcl=cEe;function cEe(g,T){g=t.hcl(g),T=t.hcl(T);var k=g.h,D=g.c,A=g.l,R=T.h-k,j=T.c-D,F=T.l-A;return isNaN(j)&&(j=0,D=isNaN(D)?T.c:D),isNaN(R)?(R=0,k=isNaN(k)?T.h:k):R>180?R-=360:R<-180&&(R+=360),function(Z){return mi(k+R*Z,D+j*Z,A+F*Z)+""}}t.interpolateHsl=uEe;function uEe(g,T){g=t.hsl(g),T=t.hsl(T);var k=g.h,D=g.s,A=g.l,R=T.h-k,j=T.s-D,F=T.l-A;return isNaN(j)&&(j=0,D=isNaN(D)?T.s:D),isNaN(R)?(R=0,k=isNaN(k)?T.h:k):R>180?R-=360:R<-180&&(R+=360),function(Z){return Vr(k+R*Z,D+j*Z,A+F*Z)+""}}t.interpolateLab=dEe;function dEe(g,T){g=t.lab(g),T=t.lab(T);var k=g.l,D=g.a,A=g.b,R=T.l-k,j=T.a-D,F=T.b-A;return function(Z){return Zo(k+R*Z,D+j*Z,A+F*Z)+""}}t.interpolateRound=Ij;function Ij(g,T){return T-=g,function(k){return Math.round(g+T*k)}}t.transform=function(g){var T=n.createElementNS(t.ns.prefix.svg,"g");return(t.transform=function(k){if(k!=null){T.setAttribute("transform",k);var D=T.transform.baseVal.consolidate()}return new Nj(D?D.matrix:hEe)})(g)};function Nj(g){var T=[g.a,g.b],k=[g.c,g.d],D=Oj(T),A=Lj(T,k),R=Oj(fEe(k,T,-A))||0;T[0]*k[1]<k[0]*T[1]&&(T[0]*=-1,T[1]*=-1,D*=-1,A*=-1),this.rotate=(D?Math.atan2(T[1],T[0]):Math.atan2(-k[0],k[1]))*be,this.translate=[g.e,g.f],this.scale=[D,R],this.skew=R?Math.atan2(A,R)*be:0}Nj.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Lj(g,T){return g[0]*T[0]+g[1]*T[1]}function Oj(g){var T=Math.sqrt(Lj(g,g));return T&&(g[0]/=T,g[1]/=T),T}function fEe(g,T,k){return g[0]+=k*T[0],g[1]+=k*T[1],g}var hEe={a:1,b:0,c:0,d:1,e:0,f:0};t.interpolateTransform=Pj;function Cg(g){return g.length?g.pop()+",":""}function pEe(g,T,k,D){if(g[0]!==T[0]||g[1]!==T[1]){var A=k.push("translate(",null,",",null,")");D.push({i:A-4,x:ud(g[0],T[0])},{i:A-2,x:ud(g[1],T[1])})}else(T[0]||T[1])&&k.push("translate("+T+")")}function mEe(g,T,k,D){g!==T?(g-T>180?T+=360:T-g>180&&(g+=360),D.push({i:k.push(Cg(k)+"rotate(",null,")")-2,x:ud(g,T)})):T&&k.push(Cg(k)+"rotate("+T+")")}function vEe(g,T,k,D){g!==T?D.push({i:k.push(Cg(k)+"skewX(",null,")")-2,x:ud(g,T)}):T&&k.push(Cg(k)+"skewX("+T+")")}function gEe(g,T,k,D){if(g[0]!==T[0]||g[1]!==T[1]){var A=k.push(Cg(k)+"scale(",null,",",null,")");D.push({i:A-4,x:ud(g[0],T[0])},{i:A-2,x:ud(g[1],T[1])})}else(T[0]!==1||T[1]!==1)&&k.push(Cg(k)+"scale("+T+")")}function Pj(g,T){var k=[],D=[];return g=t.transform(g),T=t.transform(T),pEe(g.translate,T.translate,k,D),mEe(g.rotate,T.rotate,k,D),vEe(g.skew,T.skew,k,D),gEe(g.scale,T.scale,k,D),g=T=null,function(A){for(var R=-1,j=D.length,F;++R<j;)k[(F=D[R]).i]=F.x(A);return k.join("")}}function yEe(g,T){return T=(T-=g=+g)||1/T,function(k){return(k-g)/T}}function bEe(g,T){return T=(T-=g=+g)||1/T,function(k){return Math.max(0,Math.min(1,(k-g)/T))}}t.layout={},t.layout.bundle=function(){return function(g){for(var T=[],k=-1,D=g.length;++k<D;)T.push(wEe(g[k]));return T}};function wEe(g){for(var T=g.source,k=g.target,D=xEe(T,k),A=[T];T!==D;)T=T.parent,A.push(T);for(var R=A.length;k!==D;)A.splice(R,0,k),k=k.parent;return A}function zj(g){for(var T=[],k=g.parent;k!=null;)T.push(g),g=k,k=k.parent;return T.push(g),T}function xEe(g,T){if(g===T)return g;for(var k=zj(g),D=zj(T),A=k.pop(),R=D.pop(),j=null;A===R;)j=A,A=k.pop(),R=D.pop();return j}t.layout.chord=function(){var g={},T,k,D,A,R=0,j,F,Z;function re(){var pe={},me=[],Me=t.range(A),ze=[],ve,Se,ke,Pe,Fe;for(T=[],k=[],ve=0,Pe=-1;++Pe<A;){for(Se=0,Fe=-1;++Fe<A;)Se+=D[Pe][Fe];me.push(Se),ze.push(t.range(A)),ve+=Se}for(j&&Me.sort(function(fr,qt){return j(me[fr],me[qt])}),F&&ze.forEach(function(fr,qt){fr.sort(function(or,Qr){return F(D[qt][or],D[qt][Qr])})}),ve=(Q-R*A)/ve,Se=0,Pe=-1;++Pe<A;){for(ke=Se,Fe=-1;++Fe<A;){var De=Me[Pe],dt=ze[De][Fe],Et=D[De][dt],It=Se,Rt=Se+=Et*ve;pe[De+"-"+dt]={index:De,subindex:dt,startAngle:It,endAngle:Rt,value:Et}}k[De]={index:De,startAngle:ke,endAngle:Se,value:me[De]},Se+=R}for(Pe=-1;++Pe<A;)for(Fe=Pe-1;++Fe<A;){var zt=pe[Pe+"-"+Fe],Ft=pe[Fe+"-"+Pe];(zt.value||Ft.value)&&T.push(zt.value<Ft.value?{source:Ft,target:zt}:{source:zt,target:Ft})}Z&&ie()}function ie(){T.sort(function(pe,me){return Z((pe.source.value+pe.target.value)/2,(me.source.value+me.target.value)/2)})}return g.matrix=function(pe){return arguments.length?(A=(D=pe)&&D.length,T=k=null,g):D},g.padding=function(pe){return arguments.length?(R=pe,T=k=null,g):R},g.sortGroups=function(pe){return arguments.length?(j=pe,T=k=null,g):j},g.sortSubgroups=function(pe){return arguments.length?(F=pe,T=null,g):F},g.sortChords=function(pe){return arguments.length?(Z=pe,T&&ie(),g):Z},g.chords=function(){return T||re(),T},g.groups=function(){return k||re(),k},g},t.layout.force=function(){var g={},T=t.dispatch("start","tick","end"),k,D=[1,1],A,R,j=.9,F=kEe,Z=EEe,re=-30,ie=DEe,pe=.1,me=.64,Me=[],ze=[],ve,Se,ke;function Pe(De){return function(dt,Et,It,Rt){if(dt.point!==De){var zt=dt.cx-De.x,Ft=dt.cy-De.y,fr=Rt-Et,qt=zt*zt+Ft*Ft;if(fr*fr/me<qt){if(qt<ie){var or=dt.charge/qt;De.px-=zt*or,De.py-=Ft*or}return!0}if(dt.point&&qt&&qt<ie){var or=dt.pointCharge/qt;De.px-=zt*or,De.py-=Ft*or}}return!dt.charge}}g.tick=function(){if((R*=.99)<.005)return k=null,T.end({type:"end",alpha:R=0}),!0;var De=Me.length,dt=ze.length,Et,It,Rt,zt,Ft,fr,qt,or,Qr;for(It=0;It<dt;++It)Rt=ze[It],zt=Rt.source,Ft=Rt.target,or=Ft.x-zt.x,Qr=Ft.y-zt.y,(fr=or*or+Qr*Qr)&&(fr=R*Se[It]*((fr=Math.sqrt(fr))-ve[It])/fr,or*=fr,Qr*=fr,Ft.x-=or*(qt=zt.weight+Ft.weight?zt.weight/(zt.weight+Ft.weight):.5),Ft.y-=Qr*qt,zt.x+=or*(qt=1-qt),zt.y+=Qr*qt);if((qt=R*pe)&&(or=D[0]/2,Qr=D[1]/2,It=-1,qt))for(;++It<De;)Rt=Me[It],Rt.x+=(or-Rt.x)*qt,Rt.y+=(Qr-Rt.y)*qt;if(re)for(Fj(Et=t.geom.quadtree(Me),R,ke),It=-1;++It<De;)(Rt=Me[It]).fixed||Et.visit(Pe(Rt));for(It=-1;++It<De;)Rt=Me[It],Rt.fixed?(Rt.x=Rt.px,Rt.y=Rt.py):(Rt.x-=(Rt.px-(Rt.px=Rt.x))*j,Rt.y-=(Rt.py-(Rt.py=Rt.y))*j);T.tick({type:"tick",alpha:R})},g.nodes=function(De){return arguments.length?(Me=De,g):Me},g.links=function(De){return arguments.length?(ze=De,g):ze},g.size=function(De){return arguments.length?(D=De,g):D},g.linkDistance=function(De){return arguments.length?(F=typeof De=="function"?De:+De,g):F},g.distance=g.linkDistance,g.linkStrength=function(De){return arguments.length?(Z=typeof De=="function"?De:+De,g):Z},g.friction=function(De){return arguments.length?(j=+De,g):j},g.charge=function(De){return arguments.length?(re=typeof De=="function"?De:+De,g):re},g.chargeDistance=function(De){return arguments.length?(ie=De*De,g):Math.sqrt(ie)},g.gravity=function(De){return arguments.length?(pe=+De,g):pe},g.theta=function(De){return arguments.length?(me=De*De,g):Math.sqrt(me)},g.alpha=function(De){return arguments.length?(De=+De,R?De>0?R=De:(k.c=null,k.t=NaN,k=null,T.end({type:"end",alpha:R=0})):De>0&&(T.start({type:"start",alpha:R=De}),k=O2(g.tick)),g):R},g.start=function(){var De,dt=Me.length,Et=ze.length,It=D[0],Rt=D[1],zt,Ft;for(De=0;De<dt;++De)(Ft=Me[De]).index=De,Ft.weight=0;for(De=0;De<Et;++De)Ft=ze[De],typeof Ft.source=="number"&&(Ft.source=Me[Ft.source]),typeof Ft.target=="number"&&(Ft.target=Me[Ft.target]),++Ft.source.weight,++Ft.target.weight;for(De=0;De<dt;++De)Ft=Me[De],isNaN(Ft.x)&&(Ft.x=fr("x",It)),isNaN(Ft.y)&&(Ft.y=fr("y",Rt)),isNaN(Ft.px)&&(Ft.px=Ft.x),isNaN(Ft.py)&&(Ft.py=Ft.y);if(ve=[],typeof F=="function")for(De=0;De<Et;++De)ve[De]=+F.call(this,ze[De],De);else for(De=0;De<Et;++De)ve[De]=F;if(Se=[],typeof Z=="function")for(De=0;De<Et;++De)Se[De]=+Z.call(this,ze[De],De);else for(De=0;De<Et;++De)Se[De]=Z;if(ke=[],typeof re=="function")for(De=0;De<dt;++De)ke[De]=+re.call(this,Me[De],De);else for(De=0;De<dt;++De)ke[De]=re;function fr(qt,or){if(!zt){for(zt=new Array(dt),pn=0;pn<dt;++pn)zt[pn]=[];for(pn=0;pn<Et;++pn){var Qr=ze[pn];zt[Qr.source.index].push(Qr.target),zt[Qr.target.index].push(Qr.source)}}for(var vi=zt[De],pn=-1,Ct=vi.length,hr;++pn<Ct;)if(!isNaN(hr=vi[pn][qt]))return hr;return Math.random()*or}return g.resume()},g.resume=function(){return g.alpha(.1)},g.stop=function(){return g.alpha(0)},g.drag=function(){if(A||(A=t.behavior.drag().origin(K).on("dragstart.force",TEe).on("drag.force",Fe).on("dragend.force",SEe)),!arguments.length)return A;this.on("mouseover.force",_Ee).on("mouseout.force",CEe).call(A)};function Fe(De){De.px=t.event.x,De.py=t.event.y,g.resume()}return t.rebind(g,T,"on")};function TEe(g){g.fixed|=2}function SEe(g){g.fixed&=-7}function _Ee(g){g.fixed|=4,g.px=g.x,g.py=g.y}function CEe(g){g.fixed&=-5}function Fj(g,T,k){var D=0,A=0;if(g.charge=0,!g.leaf)for(var R=g.nodes,j=R.length,F=-1,Z;++F<j;)Z=R[F],Z!=null&&(Fj(Z,T,k),g.charge+=Z.charge,D+=Z.charge*Z.cx,A+=Z.charge*Z.cy);if(g.point){g.leaf||(g.point.x+=Math.random()-.5,g.point.y+=Math.random()-.5);var re=T*k[g.point.index];g.charge+=g.pointCharge=re,D+=re*g.point.x,A+=re*g.point.y}g.cx=D/g.charge,g.cy=A/g.charge}var kEe=20,EEe=1,DEe=1/0;t.layout.hierarchy=function(){var g=REe,T=AEe,k=MEe;function D(A){var R=[A],j=[],F;for(A.depth=0;(F=R.pop())!=null;)if(j.push(F),(re=T.call(D,F,F.depth))&&(Z=re.length)){for(var Z,re,ie;--Z>=0;)R.push(ie=re[Z]),ie.parent=F,ie.depth=F.depth+1;k&&(F.value=0),F.children=re}else k&&(F.value=+k.call(D,F,F.depth)||0),delete F.children;return au(A,function(pe){var me,Me;g&&(me=pe.children)&&me.sort(g),k&&(Me=pe.parent)&&(Me.value+=pe.value)}),j}return D.sort=function(A){return arguments.length?(g=A,D):g},D.children=function(A){return arguments.length?(T=A,D):T},D.value=function(A){return arguments.length?(k=A,D):k},D.revalue=function(A){return k&&(U1(A,function(R){R.children&&(R.value=0)}),au(A,function(R){var j;R.children||(R.value=+k.call(D,R,R.depth)||0),(j=R.parent)&&(j.value+=R.value)})),A},D};function q1(g,T){return t.rebind(g,T,"sort","children","value"),g.nodes=g,g.links=IEe,g}function U1(g,T){for(var k=[g];(g=k.pop())!=null;)if(T(g),(A=g.children)&&(D=A.length))for(var D,A;--D>=0;)k.push(A[D])}function au(g,T){for(var k=[g],D=[];(g=k.pop())!=null;)if(D.push(g),(j=g.children)&&(R=j.length))for(var A=-1,R,j;++A<R;)k.push(j[A]);for(;(g=D.pop())!=null;)T(g)}function AEe(g){return g.children}function MEe(g){return g.value}function REe(g,T){return T.value-g.value}function IEe(g){return t.merge(g.map(function(T){return(T.children||[]).map(function(k){return{source:T,target:k}})}))}t.layout.partition=function(){var g=t.layout.hierarchy(),T=[1,1];function k(R,j,F,Z){var re=R.children;if(R.x=j,R.y=R.depth*Z,R.dx=F,R.dy=Z,re&&(pe=re.length)){var ie=-1,pe,me,Me;for(F=R.value?F/R.value:0;++ie<pe;)k(me=re[ie],j,Me=me.value*F,Z),j+=Me}}function D(R){var j=R.children,F=0;if(j&&(re=j.length))for(var Z=-1,re;++Z<re;)F=Math.max(F,D(j[Z]));return 1+F}function A(R,j){var F=g.call(this,R,j);return k(F[0],0,T[0],T[1]/D(F[0])),F}return A.size=function(R){return arguments.length?(T=R,A):T},q1(A,g)},t.layout.pie=function(){var g=Number,T=Hj,k=0,D=Q,A=0;function R(j){var F=j.length,Z=j.map(function(Pe,Fe){return+g.call(R,Pe,Fe)}),re=+(typeof k=="function"?k.apply(this,arguments):k),ie=(typeof D=="function"?D.apply(this,arguments):D)-re,pe=Math.min(Math.abs(ie)/F,+(typeof A=="function"?A.apply(this,arguments):A)),me=pe*(ie<0?-1:1),Me=t.sum(Z),ze=Me?(ie-F*me)/Me:0,ve=t.range(F),Se=[],ke;return T!=null&&ve.sort(T===Hj?function(Pe,Fe){return Z[Fe]-Z[Pe]}:function(Pe,Fe){return T(j[Pe],j[Fe])}),ve.forEach(function(Pe){Se[Pe]={data:j[Pe],value:ke=Z[Pe],startAngle:re,endAngle:re+=ke*ze+me,padAngle:pe}}),Se}return R.value=function(j){return arguments.length?(g=j,R):g},R.sort=function(j){return arguments.length?(T=j,R):T},R.startAngle=function(j){return arguments.length?(k=j,R):k},R.endAngle=function(j){return arguments.length?(D=j,R):D},R.padAngle=function(j){return arguments.length?(A=j,R):A},R};var Hj={};t.layout.stack=function(){var g=K,T=WI,k=GI,D=OEe,A=NEe,R=LEe;function j(F,Z){if(!(ze=F.length))return F;var re=F.map(function(Pe,Fe){return g.call(j,Pe,Fe)}),ie=re.map(function(Pe){return Pe.map(function(Fe,De){return[A.call(j,Fe,De),R.call(j,Fe,De)]})}),pe=T.call(j,ie,Z);re=t.permute(re,pe),ie=t.permute(ie,pe);var me=k.call(j,ie,Z),Me=re[0].length,ze,ve,Se,ke;for(Se=0;Se<Me;++Se)for(D.call(j,re[0][Se],ke=me[Se],ie[0][Se][1]),ve=1;ve<ze;++ve)D.call(j,re[ve][Se],ke+=ie[ve-1][Se][1],ie[ve][Se][1]);return F}return j.values=function(F){return arguments.length?(g=F,j):g},j.order=function(F){return arguments.length?(T=typeof F=="function"?F:PEe.get(F)||WI,j):T},j.offset=function(F){return arguments.length?(k=typeof F=="function"?F:zEe.get(F)||GI,j):k},j.x=function(F){return arguments.length?(A=F,j):A},j.y=function(F){return arguments.length?(R=F,j):R},j.out=function(F){return arguments.length?(D=F,j):D},j};function NEe(g){return g.x}function LEe(g){return g.y}function OEe(g,T,k){g.y0=T,g.y=k}var PEe=t.map({"inside-out":function(g){var T=g.length,k,D,A=g.map(FEe),R=g.map(HEe),j=t.range(T).sort(function(pe,me){return A[pe]-A[me]}),F=0,Z=0,re=[],ie=[];for(k=0;k<T;++k)D=j[k],F<Z?(F+=R[D],re.push(D)):(Z+=R[D],ie.push(D));return ie.reverse().concat(re)},reverse:function(g){return t.range(g.length).reverse()},default:WI}),zEe=t.map({silhouette:function(g){var T=g.length,k=g[0].length,D=[],A=0,R,j,F,Z=[];for(j=0;j<k;++j){for(R=0,F=0;R<T;R++)F+=g[R][j][1];F>A&&(A=F),D.push(F)}for(j=0;j<k;++j)Z[j]=(A-D[j])/2;return Z},wiggle:function(g){var T=g.length,k=g[0],D=k.length,A,R,j,F,Z,re,ie,pe,me,Me=[];for(Me[0]=pe=me=0,R=1;R<D;++R){for(A=0,F=0;A<T;++A)F+=g[A][R][1];for(A=0,Z=0,ie=k[R][0]-k[R-1][0];A<T;++A){for(j=0,re=(g[A][R][1]-g[A][R-1][1])/(2*ie);j<A;++j)re+=(g[j][R][1]-g[j][R-1][1])/ie;Z+=re*g[A][R][1]}Me[R]=pe-=F?Z/F*ie:0,pe<me&&(me=pe)}for(R=0;R<D;++R)Me[R]-=me;return Me},expand:function(g){var T=g.length,k=g[0].length,D=1/T,A,R,j,F=[];for(R=0;R<k;++R){for(A=0,j=0;A<T;A++)j+=g[A][R][1];if(j)for(A=0;A<T;A++)g[A][R][1]/=j;else for(A=0;A<T;A++)g[A][R][1]=D}for(R=0;R<k;++R)F[R]=0;return F},zero:GI});function WI(g){return t.range(g.length)}function GI(g){for(var T=-1,k=g[0].length,D=[];++T<k;)D[T]=0;return D}function FEe(g){for(var T=1,k=0,D=g[0][1],A,R=g.length;T<R;++T)(A=g[T][1])>D&&(k=T,D=A);return k}function HEe(g){return g.reduce(qEe,0)}function qEe(g,T){return g+T[1]}t.layout.histogram=function(){var g=!0,T=Number,k=BEe,D=UEe;function A(R,me){for(var F=[],Z=R.map(T,this),re=k.call(this,Z,me),ie=D.call(this,re,Z,me),pe,me=-1,Me=Z.length,ze=ie.length-1,ve=g?1:1/Me,Se;++me<ze;)pe=F[me]=[],pe.dx=ie[me+1]-(pe.x=ie[me]),pe.y=0;if(ze>0)for(me=-1;++me<Me;)Se=Z[me],Se>=re[0]&&Se<=re[1]&&(pe=F[t.bisect(ie,Se,1,ze)-1],pe.y+=ve,pe.push(R[me]));return F}return A.value=function(R){return arguments.length?(T=R,A):T},A.range=function(R){return arguments.length?(k=Zt(R),A):k},A.bins=function(R){return arguments.length?(D=typeof R=="number"?function(j){return qj(j,R)}:Zt(R),A):D},A.frequency=function(R){return arguments.length?(g=!!R,A):g},A};function UEe(g,T){return qj(g,Math.ceil(Math.log(T.length)/Math.LN2+1))}function qj(g,T){for(var k=-1,D=+g[0],A=(g[1]-D)/T,R=[];++k<=T;)R[k]=A*k+D;return R}function BEe(g){return[t.min(g),t.max(g)]}t.layout.pack=function(){var g=t.layout.hierarchy().sort(jEe),T=0,k=[1,1],D;function A(R,j){var F=g.call(this,R,j),Z=F[0],re=k[0],ie=k[1],pe=D==null?Math.sqrt:typeof D=="function"?D:function(){return D};if(Z.x=Z.y=0,au(Z,function(Me){Me.r=+pe(Me.value)}),au(Z,jj),T){var me=T*(D?1:Math.max(2*Z.r/re,2*Z.r/ie))/2;au(Z,function(Me){Me.r+=me}),au(Z,jj),au(Z,function(Me){Me.r-=me})}return Vj(Z,re/2,ie/2,D?1:1/Math.max(2*Z.r/re,2*Z.r/ie)),F}return A.size=function(R){return arguments.length?(k=R,A):k},A.radius=function(R){return arguments.length?(D=R==null||typeof R=="function"?R:+R,A):D},A.padding=function(R){return arguments.length?(T=+R,A):T},q1(A,g)};function jEe(g,T){return g.value-T.value}function YI(g,T){var k=g._pack_next;g._pack_next=T,T._pack_prev=g,T._pack_next=k,k._pack_prev=T}function Uj(g,T){g._pack_next=T,T._pack_prev=g}function Bj(g,T){var k=T.x-g.x,D=T.y-g.y,A=g.r+T.r;return .999*A*A>k*k+D*D}function jj(g){if(!(T=g.children)||!(me=T.length))return;var T,k=1/0,D=-1/0,A=1/0,R=-1/0,j,F,Z,re,ie,pe,me;function Me(De){k=Math.min(De.x-De.r,k),D=Math.max(De.x+De.r,D),A=Math.min(De.y-De.r,A),R=Math.max(De.y+De.r,R)}if(T.forEach(VEe),j=T[0],j.x=-j.r,j.y=0,Me(j),me>1&&(F=T[1],F.x=F.r,F.y=0,Me(F),me>2))for(Z=T[2],Wj(j,F,Z),Me(Z),YI(j,Z),j._pack_prev=Z,YI(Z,F),F=j._pack_next,re=3;re<me;re++){Wj(j,F,Z=T[re]);var ze=0,ve=1,Se=1;for(ie=F._pack_next;ie!==F;ie=ie._pack_next,ve++)if(Bj(ie,Z)){ze=1;break}if(ze==1)for(pe=j._pack_prev;pe!==ie._pack_prev&&!Bj(pe,Z);pe=pe._pack_prev,Se++);ze?(ve<Se||ve==Se&&F.r<j.r?Uj(j,F=ie):Uj(j=pe,F),re--):(YI(j,Z),F=Z,Me(Z))}var ke=(k+D)/2,Pe=(A+R)/2,Fe=0;for(re=0;re<me;re++)Z=T[re],Z.x-=ke,Z.y-=Pe,Fe=Math.max(Fe,Z.r+Math.sqrt(Z.x*Z.x+Z.y*Z.y));g.r=Fe,T.forEach(WEe)}function VEe(g){g._pack_next=g._pack_prev=g}function WEe(g){delete g._pack_next,delete g._pack_prev}function Vj(g,T,k,D){var A=g.children;if(g.x=T+=D*g.x,g.y=k+=D*g.y,g.r*=D,A)for(var R=-1,j=A.length;++R<j;)Vj(A[R],T,k,D)}function Wj(g,T,k){var D=g.r+k.r,A=T.x-g.x,R=T.y-g.y;if(D&&(A||R)){var j=T.r+k.r,F=A*A+R*R;j*=j,D*=D;var Z=.5+(D-j)/(2*F),re=Math.sqrt(Math.max(0,2*j*(D+F)-(D-=F)*D-j*j))/(2*F);k.x=g.x+Z*A+re*R,k.y=g.y+Z*R-re*A}else k.x=g.x+D,k.y=g.y}t.layout.tree=function(){var g=t.layout.hierarchy().sort(null).value(null),T=Gj,k=[1,1],D=null;function A(ie,pe){var me=g.call(this,ie,pe),Me=me[0],ze=R(Me);if(au(ze,j),ze.parent.m=-ze.z,U1(ze,F),D)U1(Me,re);else{var ve=Me,Se=Me,ke=Me;U1(Me,function(dt){dt.x<ve.x&&(ve=dt),dt.x>Se.x&&(Se=dt),dt.depth>ke.depth&&(ke=dt)});var Pe=T(ve,Se)/2-ve.x,Fe=k[0]/(Se.x+T(Se,ve)/2+Pe),De=k[1]/(ke.depth||1);U1(Me,function(dt){dt.x=(dt.x+Pe)*Fe,dt.y=dt.depth*De})}return me}function R(ie){for(var pe={A:null,children:[ie]},me=[pe],Me;(Me=me.pop())!=null;)for(var ze=Me.children,ve,Se=0,ke=ze.length;Se<ke;++Se)me.push((ze[Se]=ve={_:ze[Se],parent:Me,children:(ve=ze[Se].children)&&ve.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Se}).a=ve);return pe.children[0]}function j(ie){var pe=ie.children,me=ie.parent.children,Me=ie.i?me[ie.i-1]:null;if(pe.length){YEe(ie);var ze=(pe[0].z+pe[pe.length-1].z)/2;Me?(ie.z=Me.z+T(ie._,Me._),ie.m=ie.z-ze):ie.z=ze}else Me&&(ie.z=Me.z+T(ie._,Me._));ie.parent.A=Z(ie,Me,ie.parent.A||me[0])}function F(ie){ie._.x=ie.z+ie.parent.m,ie.m+=ie.parent.m}function Z(ie,pe,me){if(pe){for(var Me=ie,ze=ie,ve=pe,Se=Me.parent.children[0],ke=Me.m,Pe=ze.m,Fe=ve.m,De=Se.m,dt;ve=$I(ve),Me=ZI(Me),ve&&Me;)Se=ZI(Se),ze=$I(ze),ze.a=ie,dt=ve.z+Fe-Me.z-ke+T(ve._,Me._),dt>0&&(GEe(ZEe(ve,ie,me),ie,dt),ke+=dt,Pe+=dt),Fe+=ve.m,ke+=Me.m,De+=Se.m,Pe+=ze.m;ve&&!$I(ze)&&(ze.t=ve,ze.m+=Fe-Pe),Me&&!ZI(Se)&&(Se.t=Me,Se.m+=ke-De,me=ie)}return me}function re(ie){ie.x*=k[0],ie.y=ie.depth*k[1]}return A.separation=function(ie){return arguments.length?(T=ie,A):T},A.size=function(ie){return arguments.length?(D=(k=ie)==null?re:null,A):D?null:k},A.nodeSize=function(ie){return arguments.length?(D=(k=ie)==null?null:re,A):D?k:null},q1(A,g)};function Gj(g,T){return g.parent==T.parent?1:2}function ZI(g){var T=g.children;return T.length?T[0]:g.t}function $I(g){var T=g.children,k;return(k=T.length)?T[k-1]:g.t}function GEe(g,T,k){var D=k/(T.i-g.i);T.c-=D,T.s+=k,g.c+=D,T.z+=k,T.m+=k}function YEe(g){for(var T=0,k=0,D=g.children,A=D.length,R;--A>=0;)R=D[A],R.z+=T,R.m+=T,T+=R.s+(k+=R.c)}function ZEe(g,T,k){return g.a.parent===T.parent?g.a:k}t.layout.cluster=function(){var g=t.layout.hierarchy().sort(null).value(null),T=Gj,k=[1,1],D=!1;function A(R,j){var F=g.call(this,R,j),Z=F[0],re,ie=0;au(Z,function(ve){var Se=ve.children;Se&&Se.length?(ve.x=XEe(Se),ve.y=$Ee(Se)):(ve.x=re?ie+=T(ve,re):0,ve.y=0,re=ve)});var pe=Yj(Z),me=Zj(Z),Me=pe.x-T(pe,me)/2,ze=me.x+T(me,pe)/2;return au(Z,D?function(ve){ve.x=(ve.x-Z.x)*k[0],ve.y=(Z.y-ve.y)*k[1]}:function(ve){ve.x=(ve.x-Me)/(ze-Me)*k[0],ve.y=(1-(Z.y?ve.y/Z.y:1))*k[1]}),F}return A.separation=function(R){return arguments.length?(T=R,A):T},A.size=function(R){return arguments.length?(D=(k=R)==null,A):D?null:k},A.nodeSize=function(R){return arguments.length?(D=(k=R)!=null,A):D?k:null},q1(A,g)};function $Ee(g){return 1+t.max(g,function(T){return T.y})}function XEe(g){return g.reduce(function(T,k){return T+k.x},0)/g.length}function Yj(g){var T=g.children;return T&&T.length?Yj(T[0]):g}function Zj(g){var T=g.children,k;return T&&(k=T.length)?Zj(T[k-1]):g}t.layout.treemap=function(){var g=t.layout.hierarchy(),T=Math.round,k=[1,1],D=null,A=XI,R=!1,j,F="squarify",Z=.5*(1+Math.sqrt(5));function re(ve,Se){for(var ke=-1,Pe=ve.length,Fe,De;++ke<Pe;)De=(Fe=ve[ke]).value*(Se<0?0:Se),Fe.area=isNaN(De)||De<=0?0:De}function ie(ve){var Se=ve.children;if(Se&&Se.length){var ke=A(ve),Pe=[],Fe=Se.slice(),De,dt=1/0,Et,It=F==="slice"?ke.dx:F==="dice"?ke.dy:F==="slice-dice"?ve.depth&1?ke.dy:ke.dx:Math.min(ke.dx,ke.dy),Rt;for(re(Fe,ke.dx*ke.dy/ve.value),Pe.area=0;(Rt=Fe.length)>0;)Pe.push(De=Fe[Rt-1]),Pe.area+=De.area,F!=="squarify"||(Et=me(Pe,It))<=dt?(Fe.pop(),dt=Et):(Pe.area-=Pe.pop().area,Me(Pe,It,ke,!1),It=Math.min(ke.dx,ke.dy),Pe.length=Pe.area=0,dt=1/0);Pe.length&&(Me(Pe,It,ke,!0),Pe.length=Pe.area=0),Se.forEach(ie)}}function pe(ve){var Se=ve.children;if(Se&&Se.length){var ke=A(ve),Pe=Se.slice(),Fe,De=[];for(re(Pe,ke.dx*ke.dy/ve.value),De.area=0;Fe=Pe.pop();)De.push(Fe),De.area+=Fe.area,Fe.z!=null&&(Me(De,Fe.z?ke.dx:ke.dy,ke,!Pe.length),De.length=De.area=0);Se.forEach(pe)}}function me(ve,Se){for(var ke=ve.area,Pe,Fe=0,De=1/0,dt=-1,Et=ve.length;++dt<Et;)(Pe=ve[dt].area)&&(Pe<De&&(De=Pe),Pe>Fe&&(Fe=Pe));return ke*=ke,Se*=Se,ke?Math.max(Se*Fe*Z/ke,ke/(Se*De*Z)):1/0}function Me(ve,Se,ke,Pe){var Fe=-1,De=ve.length,dt=ke.x,Et=ke.y,It=Se?T(ve.area/Se):0,Rt;if(Se==ke.dx){for((Pe||It>ke.dy)&&(It=ke.dy);++Fe<De;)Rt=ve[Fe],Rt.x=dt,Rt.y=Et,Rt.dy=It,dt+=Rt.dx=Math.min(ke.x+ke.dx-dt,It?T(Rt.area/It):0);Rt.z=!0,Rt.dx+=ke.x+ke.dx-dt,ke.y+=It,ke.dy-=It}else{for((Pe||It>ke.dx)&&(It=ke.dx);++Fe<De;)Rt=ve[Fe],Rt.x=dt,Rt.y=Et,Rt.dx=It,Et+=Rt.dy=Math.min(ke.y+ke.dy-Et,It?T(Rt.area/It):0);Rt.z=!1,Rt.dy+=ke.y+ke.dy-Et,ke.x+=It,ke.dx-=It}}function ze(ve){var Se=j||g(ve),ke=Se[0];return ke.x=ke.y=0,ke.value?(ke.dx=k[0],ke.dy=k[1]):ke.dx=ke.dy=0,j&&g.revalue(ke),re([ke],ke.dx*ke.dy/ke.value),(j?pe:ie)(ke),R&&(j=Se),Se}return ze.size=function(ve){return arguments.length?(k=ve,ze):k},ze.padding=function(ve){if(!arguments.length)return D;function Se(Fe){var De=ve.call(ze,Fe,Fe.depth);return De==null?XI(Fe):$j(Fe,typeof De=="number"?[De,De,De,De]:De)}function ke(Fe){return $j(Fe,ve)}var Pe;return A=(D=ve)==null?XI:(Pe=typeof ve)=="function"?Se:(Pe==="number"&&(ve=[ve,ve,ve,ve]),ke),ze},ze.round=function(ve){return arguments.length?(T=ve?Math.round:Number,ze):T!=Number},ze.sticky=function(ve){return arguments.length?(R=ve,j=null,ze):R},ze.ratio=function(ve){return arguments.length?(Z=ve,ze):Z},ze.mode=function(ve){return arguments.length?(F=ve+"",ze):F},q1(ze,g)};function XI(g){return{x:g.x,y:g.y,dx:g.dx,dy:g.dy}}function $j(g,T){var k=g.x+T[3],D=g.y+T[0],A=g.dx-T[1]-T[3],R=g.dy-T[0]-T[2];return A<0&&(k+=A/2,A=0),R<0&&(D+=R/2,R=0),{x:k,y:D,dx:A,dy:R}}t.random={normal:function(g,T){var k=arguments.length;return k<2&&(T=1),k<1&&(g=0),function(){var D,A,R;do D=Math.random()*2-1,A=Math.random()*2-1,R=D*D+A*A;while(!R||R>1);return g+T*D*Math.sqrt(-2*Math.log(R)/R)}},logNormal:function(){var g=t.random.normal.apply(t,arguments);return function(){return Math.exp(g())}},bates:function(g){var T=t.random.irwinHall(g);return function(){return T()/g}},irwinHall:function(g){return function(){for(var T=0,k=0;k<g;k++)T+=Math.random();return T}}},t.scale={};function B2(g){var T=g[0],k=g[g.length-1];return T<k?[T,k]:[k,T]}function j2(g){return g.rangeExtent?g.rangeExtent():B2(g.range())}function KEe(g,T,k,D){var A=k(g[0],g[1]),R=D(T[0],T[1]);return function(j){return R(A(j))}}function KI(g,T){var k=0,D=g.length-1,A=g[k],R=g[D],j;return R<A&&(j=k,k=D,D=j,j=A,A=R,R=j),g[k]=T.floor(A),g[D]=T.ceil(R),g}function Xj(g){return g?{floor:function(T){return Math.floor(T/g)*g},ceil:function(T){return Math.ceil(T/g)*g}}:QEe}var QEe={floor:K,ceil:K};function JEe(g,T,k,D){var A=[],R=[],j=0,F=Math.min(g.length,T.length)-1;for(g[F]<g[0]&&(g=g.slice().reverse(),T=T.slice().reverse());++j<=F;)A.push(k(g[j-1],g[j])),R.push(D(T[j-1],T[j]));return function(Z){var re=t.bisect(g,Z,1,F)-1;return R[re](A[re](Z))}}t.scale.linear=function(){return Kj([0,1],[0,1],jp,!1)};function Kj(g,T,k,D){var A,R;function j(){var Z=Math.min(g.length,T.length)>2?JEe:KEe,re=D?bEe:yEe;return A=Z(g,T,re,k),R=Z(T,g,re,jp),F}function F(Z){return A(Z)}return F.invert=function(Z){return R(Z)},F.domain=function(Z){return arguments.length?(g=Z.map(Number),j()):g},F.range=function(Z){return arguments.length?(T=Z,j()):T},F.rangeRound=function(Z){return F.range(Z).interpolate(Ij)},F.clamp=function(Z){return arguments.length?(D=Z,j()):D},F.interpolate=function(Z){return arguments.length?(k=Z,j()):k},F.ticks=function(Z){return JI(g,Z)},F.tickFormat=function(Z,re){return d3_scale_linearTickFormat(g,Z,re)},F.nice=function(Z){return Jj(g,Z),j()},F.copy=function(){return Kj(g,T,k,D)},j()}function Qj(g,T){return t.rebind(g,T,"range","rangeRound","interpolate","clamp")}function Jj(g,T){return KI(g,Xj(QI(g,T)[2])),KI(g,Xj(QI(g,T)[2])),g}function QI(g,T){T==null&&(T=10);var k=B2(g),D=k[1]-k[0],A=Math.pow(10,Math.floor(Math.log(D/T)/Math.LN10)),R=T/D*A;return R<=.15?A*=10:R<=.35?A*=5:R<=.75&&(A*=2),k[0]=Math.ceil(k[0]/A)*A,k[1]=Math.floor(k[1]/A)*A+A*.5,k[2]=A,k}function JI(g,T){return t.range.apply(t,QI(g,T))}var eDe={s:1,g:1,p:1,r:1,e:1};function eV(g){return-Math.floor(Math.log(g)/Math.LN10+.01)}function Hat(g,T){var k=eV(T[2]);return g in eDe?Math.abs(k-eV(Math.max(y(T[0]),y(T[1]))))+ +(g!=="e"):k-(g==="%")*2}t.scale.log=function(){return tV(t.scale.linear().domain([0,1]),10,!0,[1,10])};function tV(g,T,k,D){function A(F){return(k?Math.log(F<0?0:F):-Math.log(F>0?0:-F))/Math.log(T)}function R(F){return k?Math.pow(T,F):-Math.pow(T,-F)}function j(F){return g(A(F))}return j.invert=function(F){return R(g.invert(F))},j.domain=function(F){return arguments.length?(k=F[0]>=0,g.domain((D=F.map(Number)).map(A)),j):D},j.base=function(F){return arguments.length?(T=+F,g.domain(D.map(A)),j):T},j.nice=function(){var F=KI(D.map(A),k?Math:tDe);return g.domain(F),D=F.map(R),j},j.ticks=function(){var F=B2(D),Z=[],re=F[0],ie=F[1],pe=Math.floor(A(re)),me=Math.ceil(A(ie)),Me=T%1?2:T;if(isFinite(me-pe)){if(k){for(;pe<me;pe++)for(var ze=1;ze<Me;ze++)Z.push(R(pe)*ze);Z.push(R(pe))}else for(Z.push(R(pe));pe++<me;)for(var ze=Me-1;ze>0;ze--)Z.push(R(pe)*ze);for(pe=0;Z[pe]<re;pe++);for(me=Z.length;Z[me-1]>ie;me--);Z=Z.slice(pe,me)}return Z},j.copy=function(){return tV(g.copy(),T,k,D)},Qj(j,g)}var tDe={floor:function(g){return-Math.ceil(-g)},ceil:function(g){return-Math.floor(-g)}};t.scale.pow=function(){return rV(t.scale.linear(),1,[0,1])};function rV(g,T,k){var D=V2(T),A=V2(1/T);function R(j){return g(D(j))}return R.invert=function(j){return A(g.invert(j))},R.domain=function(j){return arguments.length?(g.domain((k=j.map(Number)).map(D)),R):k},R.ticks=function(j){return JI(k,j)},R.tickFormat=function(j,F){return d3_scale_linearTickFormat(k,j,F)},R.nice=function(j){return R.domain(Jj(k,j))},R.exponent=function(j){return arguments.length?(D=V2(T=j),A=V2(1/T),g.domain(k.map(D)),R):T},R.copy=function(){return rV(g.copy(),T,k)},Qj(R,g)}function V2(g){return function(T){return T<0?-Math.pow(-T,g):Math.pow(T,g)}}t.scale.sqrt=function(){return t.scale.pow().exponent(.5)},t.scale.ordinal=function(){return nV([],{t:"range",a:[[]]})};function nV(g,T){var k,D,A;function R(F){return D[((k.get(F)||(T.t==="range"?k.set(F,g.push(F)):NaN))-1)%D.length]}function j(F,Z){return t.range(g.length).map(function(re){return F+Z*re})}return R.domain=function(F){if(!arguments.length)return g;g=[],k=new w;for(var Z=-1,re=F.length,ie;++Z<re;)k.has(ie=F[Z])||k.set(ie,g.push(ie));return R[T.t].apply(R,T.a)},R.range=function(F){return arguments.length?(D=F,A=0,T={t:"range",a:arguments},R):D},R.rangePoints=function(F,Z){arguments.length<2&&(Z=0);var re=F[0],ie=F[1],pe=g.length<2?(re=(re+ie)/2,0):(ie-re)/(g.length-1+Z);return D=j(re+pe*Z/2,pe),A=0,T={t:"rangePoints",a:arguments},R},R.rangeRoundPoints=function(F,Z){arguments.length<2&&(Z=0);var re=F[0],ie=F[1],pe=g.length<2?(re=ie=Math.round((re+ie)/2),0):(ie-re)/(g.length-1+Z)|0;return D=j(re+Math.round(pe*Z/2+(ie-re-(g.length-1+Z)*pe)/2),pe),A=0,T={t:"rangeRoundPoints",a:arguments},R},R.rangeBands=function(F,Z,re){arguments.length<2&&(Z=0),arguments.length<3&&(re=Z);var ie=F[1]<F[0],pe=F[ie-0],me=F[1-ie],Me=(me-pe)/(g.length-Z+2*re);return D=j(pe+Me*re,Me),ie&&D.reverse(),A=Me*(1-Z),T={t:"rangeBands",a:arguments},R},R.rangeRoundBands=function(F,Z,re){arguments.length<2&&(Z=0),arguments.length<3&&(re=Z);var ie=F[1]<F[0],pe=F[ie-0],me=F[1-ie],Me=Math.floor((me-pe)/(g.length-Z+2*re));return D=j(pe+Math.round((me-pe-(g.length-Z)*Me)/2),Me),ie&&D.reverse(),A=Math.round(Me*(1-Z)),T={t:"rangeRoundBands",a:arguments},R},R.rangeBand=function(){return A},R.rangeExtent=function(){return B2(T.a[0])},R.copy=function(){return nV(g,T)},R.domain(g)}t.scale.category10=function(){return t.scale.ordinal().range(rDe)},t.scale.category20=function(){return t.scale.ordinal().range(nDe)},t.scale.category20b=function(){return t.scale.ordinal().range(iDe)},t.scale.category20c=function(){return t.scale.ordinal().range(aDe)};var rDe=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(zf),nDe=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(zf),iDe=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(zf),aDe=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(zf);t.scale.quantile=function(){return iV([],[])};function iV(g,T){var k;function D(){var R=0,j=T.length;for(k=[];++R<j;)k[R-1]=t.quantile(g,R/j);return A}function A(R){if(!isNaN(R=+R))return T[t.bisect(k,R)]}return A.domain=function(R){return arguments.length?(g=R.map(f).filter(h).sort(d),D()):g},A.range=function(R){return arguments.length?(T=R,D()):T},A.quantiles=function(){return k},A.invertExtent=function(R){return R=T.indexOf(R),R<0?[NaN,NaN]:[R>0?k[R-1]:g[0],R<k.length?k[R]:g[g.length-1]]},A.copy=function(){return iV(g,T)},D()}t.scale.quantize=function(){return aV(0,1,[0,1])};function aV(g,T,k){var D,A;function R(F){return k[Math.max(0,Math.min(A,Math.floor(D*(F-g))))]}function j(){return D=k.length/(T-g),A=k.length-1,R}return R.domain=function(F){return arguments.length?(g=+F[0],T=+F[F.length-1],j()):[g,T]},R.range=function(F){return arguments.length?(k=F,j()):k},R.invertExtent=function(F){return F=k.indexOf(F),F=F<0?NaN:F/D+g,[F,F+1/D]},R.copy=function(){return aV(g,T,k)},j()}t.scale.threshold=function(){return oV([.5],[0,1])};function oV(g,T){function k(D){if(D<=D)return T[t.bisect(g,D)]}return k.domain=function(D){return arguments.length?(g=D,k):g},k.range=function(D){return arguments.length?(T=D,k):T},k.invertExtent=function(D){return D=T.indexOf(D),[g[D-1],g[D]]},k.copy=function(){return oV(g,T)},k}t.scale.identity=function(){return sV([0,1])};function sV(g){function T(k){return+k}return T.invert=T,T.domain=T.range=function(k){return arguments.length?(g=k.map(T),T):g},T.ticks=function(k){return JI(g,k)},T.tickFormat=function(k,D){return d3_scale_linearTickFormat(g,k,D)},T.copy=function(){return sV(g)},T}t.svg={};function oDe(){return 0}t.svg.arc=function(){var g=sDe,T=lDe,k=oDe,D=W2,A=lV,R=cV,j=cDe;function F(){var re=Math.max(0,+g.apply(this,arguments)),ie=Math.max(0,+T.apply(this,arguments)),pe=A.apply(this,arguments)-V,me=R.apply(this,arguments)-V,Me=Math.abs(me-pe),ze=pe>me?0:1;if(ie<re&&(ve=ie,ie=re,re=ve),Me>=le)return Z(ie,ze)+(re?Z(re,1-ze):"")+"Z";var ve,Se,ke,Pe,Fe=0,De=0,dt,Et,It,Rt,zt,Ft,fr,qt,or=[];if((Pe=(+j.apply(this,arguments)||0)/2)&&(ke=D===W2?Math.sqrt(re*re+ie*ie):+D.apply(this,arguments),ze||(De*=-1),ie&&(De=tt(ke/ie*Math.sin(Pe))),re&&(Fe=tt(ke/re*Math.sin(Pe)))),ie){dt=ie*Math.cos(pe+De),Et=ie*Math.sin(pe+De),It=ie*Math.cos(me-De),Rt=ie*Math.sin(me-De);var Qr=Math.abs(me-pe-2*De)<=z?0:1;if(De&&G2(dt,Et,It,Rt)===ze^Qr){var vi=(pe+me)/2;dt=ie*Math.cos(vi),Et=ie*Math.sin(vi),It=Rt=null}}else dt=Et=0;if(re){zt=re*Math.cos(me-Fe),Ft=re*Math.sin(me-Fe),fr=re*Math.cos(pe+Fe),qt=re*Math.sin(pe+Fe);var pn=Math.abs(pe-me+2*Fe)<=z?0:1;if(Fe&&G2(zt,Ft,fr,qt)===1-ze^pn){var Ct=(pe+me)/2;zt=re*Math.cos(Ct),Ft=re*Math.sin(Ct),fr=qt=null}}else zt=Ft=0;if(Me>ut&&(ve=Math.min(Math.abs(ie-re)/2,+k.apply(this,arguments)))>.001){Se=re<ie^ze?0:1;var hr=ve,wr=ve;if(Me<z){var Jr=fr==null?[zt,Ft]:It==null?[dt,Et]:zI([dt,Et],[fr,qt],[It,Rt],[zt,Ft]),$n=dt-Jr[0],Hi=Et-Jr[1],Ea=It-Jr[0],fo=Rt-Jr[1],Po=1/Math.sin(Math.acos(($n*Ea+Hi*fo)/(Math.sqrt($n*$n+Hi*Hi)*Math.sqrt(Ea*Ea+fo*fo)))/2),ho=Math.sqrt(Jr[0]*Jr[0]+Jr[1]*Jr[1]);wr=Math.min(ve,(re-ho)/(Po-1)),hr=Math.min(ve,(ie-ho)/(Po+1))}if(It!=null){var $o=Y2(fr==null?[zt,Ft]:[fr,qt],[dt,Et],ie,hr,ze),Wa=Y2([It,Rt],[zt,Ft],ie,hr,ze);ve===hr?or.push("M",$o[0],"A",hr,",",hr," 0 0,",Se," ",$o[1],"A",ie,",",ie," 0 ",1-ze^G2($o[1][0],$o[1][1],Wa[1][0],Wa[1][1]),",",ze," ",Wa[1],"A",hr,",",hr," 0 0,",Se," ",Wa[0]):or.push("M",$o[0],"A",hr,",",hr," 0 1,",Se," ",Wa[0])}else or.push("M",dt,",",Et);if(fr!=null){var Xo=Y2([dt,Et],[fr,qt],re,-wr,ze),Wp=Y2([zt,Ft],It==null?[dt,Et]:[It,Rt],re,-wr,ze);ve===wr?or.push("L",Wp[0],"A",wr,",",wr," 0 0,",Se," ",Wp[1],"A",re,",",re," 0 ",ze^G2(Wp[1][0],Wp[1][1],Xo[1][0],Xo[1][1]),",",1-ze," ",Xo[1],"A",wr,",",wr," 0 0,",Se," ",Xo[0]):or.push("L",Wp[0],"A",wr,",",wr," 0 0,",Se," ",Xo[0])}else or.push("L",zt,",",Ft)}else or.push("M",dt,",",Et),It!=null&&or.push("A",ie,",",ie," 0 ",Qr,",",ze," ",It,",",Rt),or.push("L",zt,",",Ft),fr!=null&&or.push("A",re,",",re," 0 ",pn,",",1-ze," ",fr,",",qt);return or.push("Z"),or.join("")}function Z(re,ie){return"M0,"+re+"A"+re+","+re+" 0 1,"+ie+" 0,"+-re+"A"+re+","+re+" 0 1,"+ie+" 0,"+re}return F.innerRadius=function(re){return arguments.length?(g=Zt(re),F):g},F.outerRadius=function(re){return arguments.length?(T=Zt(re),F):T},F.cornerRadius=function(re){return arguments.length?(k=Zt(re),F):k},F.padRadius=function(re){return arguments.length?(D=re==W2?W2:Zt(re),F):D},F.startAngle=function(re){return arguments.length?(A=Zt(re),F):A},F.endAngle=function(re){return arguments.length?(R=Zt(re),F):R},F.padAngle=function(re){return arguments.length?(j=Zt(re),F):j},F.centroid=function(){var re=(+g.apply(this,arguments)+ +T.apply(this,arguments))/2,ie=(+A.apply(this,arguments)+ +R.apply(this,arguments))/2-V;return[Math.cos(ie)*re,Math.sin(ie)*re]},F};var W2="auto";function sDe(g){return g.innerRadius}function lDe(g){return g.outerRadius}function lV(g){return g.startAngle}function cV(g){return g.endAngle}function cDe(g){return g&&g.padAngle}function G2(g,T,k,D){return(g-k)*T-(T-D)*g>0?0:1}function Y2(g,T,k,D,A){var R=g[0]-T[0],j=g[1]-T[1],F=(A?D:-D)/Math.sqrt(R*R+j*j),Z=F*j,re=-F*R,ie=g[0]+Z,pe=g[1]+re,me=T[0]+Z,Me=T[1]+re,ze=(ie+me)/2,ve=(pe+Me)/2,Se=me-ie,ke=Me-pe,Pe=Se*Se+ke*ke,Fe=k-D,De=ie*Me-me*pe,dt=(ke<0?-1:1)*Math.sqrt(Math.max(0,Fe*Fe*Pe-De*De)),Et=(De*ke-Se*dt)/Pe,It=(-De*Se-ke*dt)/Pe,Rt=(De*ke+Se*dt)/Pe,zt=(-De*Se+ke*dt)/Pe,Ft=Et-ze,fr=It-ve,qt=Rt-ze,or=zt-ve;return Ft*Ft+fr*fr>qt*qt+or*or&&(Et=Rt,It=zt),[[Et-Z,It-re],[Et*k/Fe,It*k/Fe]]}function uV(){return!0}function dV(g){var T=wg,k=L1,D=uV,A=uc,R=A.key,j=.7;function F(Z){var re=[],ie=[],pe=-1,me=Z.length,Me,ze=Zt(T),ve=Zt(k);function Se(){re.push("M",A(g(ie),j))}for(;++pe<me;)D.call(this,Me=Z[pe],pe)?ie.push([+ze.call(this,Me,pe),+ve.call(this,Me,pe)]):ie.length&&(Se(),ie=[]);return ie.length&&Se(),re.length?re.join(""):null}return F.x=function(Z){return arguments.length?(T=Z,F):T},F.y=function(Z){return arguments.length?(k=Z,F):k},F.defined=function(Z){return arguments.length?(D=Z,F):D},F.interpolate=function(Z){return arguments.length?(typeof Z=="function"?R=A=Z:R=(A=e4.get(Z)||uc).key,F):R},F.tension=function(Z){return arguments.length?(j=Z,F):j},F}t.svg.line=function(){return dV(K)};var e4=t.map({linear:uc,"linear-closed":fV,step:uDe,"step-before":t4,"step-after":r4,basis:hV,"basis-open":pDe,"basis-closed":mDe,bundle:vDe,cardinal:hDe,"cardinal-open":dDe,"cardinal-closed":fDe,monotone:bDe});e4.forEach(function(g,T){T.key=g,T.closed=/-closed$/.test(g)});function uc(g){return g.length>1?g.join("L"):g+"Z"}function fV(g){return g.join("L")+"Z"}function uDe(g){for(var T=0,k=g.length,D=g[0],A=[D[0],",",D[1]];++T<k;)A.push("H",(D[0]+(D=g[T])[0])/2,"V",D[1]);return k>1&&A.push("H",D[0]),A.join("")}function t4(g){for(var T=0,k=g.length,D=g[0],A=[D[0],",",D[1]];++T<k;)A.push("V",(D=g[T])[1],"H",D[0]);return A.join("")}function r4(g){for(var T=0,k=g.length,D=g[0],A=[D[0],",",D[1]];++T<k;)A.push("H",(D=g[T])[0],"V",D[1]);return A.join("")}function dDe(g,T){return g.length<4?uc(g):g[1]+Z2(g.slice(1,-1),n4(g,T))}function fDe(g,T){return g.length<3?fV(g):g[0]+Z2((g.push(g[0]),g),n4([g[g.length-2]].concat(g,[g[1]]),T))}function hDe(g,T){return g.length<3?uc(g):g[0]+Z2(g,n4(g,T))}function Z2(g,T){if(T.length<1||g.length!=T.length&&g.length!=T.length+2)return uc(g);var k=g.length!=T.length,D="",A=g[0],R=g[1],j=T[0],F=j,Z=1;if(k&&(D+="Q"+(R[0]-j[0]*2/3)+","+(R[1]-j[1]*2/3)+","+R[0]+","+R[1],A=g[1],Z=2),T.length>1){F=T[1],R=g[Z],Z++,D+="C"+(A[0]+j[0])+","+(A[1]+j[1])+","+(R[0]-F[0])+","+(R[1]-F[1])+","+R[0]+","+R[1];for(var re=2;re<T.length;re++,Z++)R=g[Z],F=T[re],D+="S"+(R[0]-F[0])+","+(R[1]-F[1])+","+R[0]+","+R[1]}if(k){var ie=g[Z];D+="Q"+(R[0]+F[0]*2/3)+","+(R[1]+F[1]*2/3)+","+ie[0]+","+ie[1]}return D}function n4(g,T){for(var k=[],D=(1-T)/2,A,R=g[0],j=g[1],F=1,Z=g.length;++F<Z;)A=R,R=j,j=g[F],k.push([D*(j[0]-A[0]),D*(j[1]-A[1])]);return k}function hV(g){if(g.length<3)return uc(g);var T=1,k=g.length,D=g[0],A=D[0],R=D[1],j=[A,A,A,(D=g[1])[0]],F=[R,R,R,D[1]],Z=[A,",",R,"L",cl(Hf,j),",",cl(Hf,F)];for(g.push(g[k-1]);++T<=k;)D=g[T],j.shift(),j.push(D[0]),F.shift(),F.push(D[1]),i4(Z,j,F);return g.pop(),Z.push("L",D),Z.join("")}function pDe(g){if(g.length<4)return uc(g);for(var T=[],k=-1,D=g.length,A,R=[0],j=[0];++k<3;)A=g[k],R.push(A[0]),j.push(A[1]);for(T.push(cl(Hf,R)+","+cl(Hf,j)),--k;++k<D;)A=g[k],R.shift(),R.push(A[0]),j.shift(),j.push(A[1]),i4(T,R,j);return T.join("")}function mDe(g){for(var T,k=-1,D=g.length,A=D+4,R,j=[],F=[];++k<4;)R=g[k%D],j.push(R[0]),F.push(R[1]);for(T=[cl(Hf,j),",",cl(Hf,F)],--k;++k<A;)R=g[k%D],j.shift(),j.push(R[0]),F.shift(),F.push(R[1]),i4(T,j,F);return T.join("")}function vDe(g,T){var k=g.length-1;if(k)for(var D=g[0][0],A=g[0][1],R=g[k][0]-D,j=g[k][1]-A,F=-1,Z,re;++F<=k;)Z=g[F],re=F/k,Z[0]=T*Z[0]+(1-T)*(D+re*R),Z[1]=T*Z[1]+(1-T)*(A+re*j);return hV(g)}function cl(g,T){return g[0]*T[0]+g[1]*T[1]+g[2]*T[2]+g[3]*T[3]}var pV=[0,2/3,1/3,0],mV=[0,1/3,2/3,0],Hf=[0,1/6,2/3,1/6];function i4(g,T,k){g.push("C",cl(pV,T),",",cl(pV,k),",",cl(mV,T),",",cl(mV,k),",",cl(Hf,T),",",cl(Hf,k))}function a4(g,T){return(T[1]-g[1])/(T[0]-g[0])}function gDe(g){for(var T=0,k=g.length-1,D=[],A=g[0],R=g[1],j=D[0]=a4(A,R);++T<k;)D[T]=(j+(j=a4(A=R,R=g[T+1])))/2;return D[T]=j,D}function yDe(g){for(var T=[],k,D,A,R,j=gDe(g),F=-1,Z=g.length-1;++F<Z;)k=a4(g[F],g[F+1]),y(k)<ut?j[F]=j[F+1]=0:(D=j[F]/k,A=j[F+1]/k,R=D*D+A*A,R>9&&(R=k*3/Math.sqrt(R),j[F]=R*D,j[F+1]=R*A));for(F=-1;++F<=Z;)R=(g[Math.min(Z,F+1)][0]-g[Math.max(0,F-1)][0])/(6*(1+j[F]*j[F])),T.push([R||0,j[F]*R||0]);return T}function bDe(g){return g.length<3?uc(g):g[0]+Z2(g,yDe(g))}t.svg.line.radial=function(){var g=dV(vV);return g.radius=g.x,delete g.x,g.angle=g.y,delete g.y,g};function vV(g){for(var T,k=-1,D=g.length,A,R;++k<D;)T=g[k],A=T[0],R=T[1]-V,T[0]=A*Math.cos(R),T[1]=A*Math.sin(R);return g}function gV(g){var T=wg,k=wg,D=0,A=L1,R=uV,j=uc,F=j.key,Z=j,re="L",ie=.7;function pe(me){var Me=[],ze=[],ve=[],Se=-1,ke=me.length,Pe,Fe=Zt(T),De=Zt(D),dt=T===k?function(){return It}:Zt(k),Et=D===A?function(){return Rt}:Zt(A),It,Rt;function zt(){Me.push("M",j(g(ve),ie),re,Z(g(ze.reverse()),ie),"Z")}for(;++Se<ke;)R.call(this,Pe=me[Se],Se)?(ze.push([It=+Fe.call(this,Pe,Se),Rt=+De.call(this,Pe,Se)]),ve.push([+dt.call(this,Pe,Se),+Et.call(this,Pe,Se)])):ze.length&&(zt(),ze=[],ve=[]);return ze.length&&zt(),Me.length?Me.join(""):null}return pe.x=function(me){return arguments.length?(T=k=me,pe):k},pe.x0=function(me){return arguments.length?(T=me,pe):T},pe.x1=function(me){return arguments.length?(k=me,pe):k},pe.y=function(me){return arguments.length?(D=A=me,pe):A},pe.y0=function(me){return arguments.length?(D=me,pe):D},pe.y1=function(me){return arguments.length?(A=me,pe):A},pe.defined=function(me){return arguments.length?(R=me,pe):R},pe.interpolate=function(me){return arguments.length?(typeof me=="function"?F=j=me:F=(j=e4.get(me)||uc).key,Z=j.reverse||j,re=j.closed?"M":"L",pe):F},pe.tension=function(me){return arguments.length?(ie=me,pe):ie},pe}t4.reverse=r4,r4.reverse=t4,t.svg.area=function(){return gV(K)},t.svg.area.radial=function(){var g=gV(vV);return g.radius=g.x,delete g.x,g.innerRadius=g.x0,delete g.x0,g.outerRadius=g.x1,delete g.x1,g.angle=g.y,delete g.y,g.startAngle=g.y0,delete g.y0,g.endAngle=g.y1,delete g.y1,g};function yV(g){return g.source}function bV(g){return g.target}t.svg.chord=function(){var g=yV,T=bV,k=wDe,D=lV,A=cV;function R(ie,pe){var me=j(this,g,ie,pe),Me=j(this,T,ie,pe);return"M"+me.p0+Z(me.r,me.p1,me.a1-me.a0)+(F(me,Me)?re(me.r,me.p1,me.r,me.p0):re(me.r,me.p1,Me.r,Me.p0)+Z(Me.r,Me.p1,Me.a1-Me.a0)+re(Me.r,Me.p1,me.r,me.p0))+"Z"}function j(ie,pe,me,Me){var ze=pe.call(ie,me,Me),ve=k.call(ie,ze,Me),Se=D.call(ie,ze,Me)-V,ke=A.call(ie,ze,Me)-V;return{r:ve,a0:Se,a1:ke,p0:[ve*Math.cos(Se),ve*Math.sin(Se)],p1:[ve*Math.cos(ke),ve*Math.sin(ke)]}}function F(ie,pe){return ie.a0==pe.a0&&ie.a1==pe.a1}function Z(ie,pe,me){return"A"+ie+","+ie+" 0 "+ +(me>z)+",1 "+pe}function re(ie,pe,me,Me){return"Q 0,0 "+Me}return R.radius=function(ie){return arguments.length?(k=Zt(ie),R):k},R.source=function(ie){return arguments.length?(g=Zt(ie),R):g},R.target=function(ie){return arguments.length?(T=Zt(ie),R):T},R.startAngle=function(ie){return arguments.length?(D=Zt(ie),R):D},R.endAngle=function(ie){return arguments.length?(A=Zt(ie),R):A},R};function wDe(g){return g.radius}t.svg.diagonal=function(){var g=yV,T=bV,k=wV;function D(A,R){var j=g.call(this,A,R),F=T.call(this,A,R),Z=(j.y+F.y)/2,re=[j,{x:j.x,y:Z},{x:F.x,y:Z},F];return re=re.map(k),"M"+re[0]+"C"+re[1]+" "+re[2]+" "+re[3]}return D.source=function(A){return arguments.length?(g=Zt(A),D):g},D.target=function(A){return arguments.length?(T=Zt(A),D):T},D.projection=function(A){return arguments.length?(k=A,D):k},D};function wV(g){return[g.x,g.y]}t.svg.diagonal.radial=function(){var g=t.svg.diagonal(),T=wV,k=g.projection;return g.projection=function(D){return arguments.length?k(xDe(T=D)):T},g};function xDe(g){return function(){var T=g.apply(this,arguments),k=T[0],D=T[1]-V;return[k*Math.cos(D),k*Math.sin(D)]}}t.svg.symbol=function(){var g=SDe,T=TDe;function k(D,A){return(TV.get(g.call(this,D,A))||xV)(T.call(this,D,A))}return k.type=function(D){return arguments.length?(g=Zt(D),k):g},k.size=function(D){return arguments.length?(T=Zt(D),k):T},k};function TDe(){return 64}function SDe(){return"circle"}function xV(g){var T=Math.sqrt(g/z);return"M0,"+T+"A"+T+","+T+" 0 1,1 0,"+-T+"A"+T+","+T+" 0 1,1 0,"+T+"Z"}var TV=t.map({circle:xV,cross:function(g){var T=Math.sqrt(g/5)/2;return"M"+-3*T+","+-T+"H"+-T+"V"+-3*T+"H"+T+"V"+-T+"H"+3*T+"V"+T+"H"+T+"V"+3*T+"H"+-T+"V"+T+"H"+-3*T+"Z"},diamond:function(g){var T=Math.sqrt(g/(2*SV)),k=T*SV;return"M0,"+-T+"L"+k+",0 0,"+T+" "+-k+",0Z"},square:function(g){var T=Math.sqrt(g)/2;return"M"+-T+","+-T+"L"+T+","+-T+" "+T+","+T+" "+-T+","+T+"Z"},"triangle-down":function(g){var T=Math.sqrt(g/$2),k=T*$2/2;return"M0,"+k+"L"+T+","+-k+" "+-T+","+-k+"Z"},"triangle-up":function(g){var T=Math.sqrt(g/$2),k=T*$2/2;return"M0,"+-k+"L"+T+","+k+" "+-T+","+k+"Z"}});t.svg.symbolTypes=TV.keys();var $2=Math.sqrt(3),SV=Math.tan(30*oe);fe.transition=function(g){for(var T=Vp||++CV,k=s4(g),D=[],A,R,j=K2||{time:Date.now(),ease:tEe,delay:0,duration:250},F=-1,Z=this.length;++F<Z;){D.push(A=[]);for(var re=this[F],ie=-1,pe=re.length;++ie<pe;)(R=re[ie])&&Q2(R,ie,k,T,j),A.push(R)}return B1(D,k,T)},fe.interrupt=function(g){return this.each(g==null?X2:_V(s4(g)))};var X2=_V(s4());function _V(g){return function(){var T,k,D;(T=this[g])&&(D=T[k=T.active])&&(D.timer.c=null,D.timer.t=NaN,--T.count?delete T[k]:delete this[g],T.active+=.5,D.event&&D.event.interrupt.call(this,this.__data__,D.index))}}function B1(g,T,k){return q(g,Fi),g.namespace=T,g.id=k,g}var Fi=[],CV=0,Vp,K2;Fi.call=fe.call,Fi.empty=fe.empty,Fi.node=fe.node,Fi.size=fe.size,t.transition=function(g,T){return g&&g.transition?Vp?g.transition(T):g:t.selection().transition(g)},t.transition.prototype=Fi,Fi.select=function(g){var T=this.id,k=this.namespace,D=[],A,R,j;g=_e(g);for(var F=-1,Z=this.length;++F<Z;){D.push(A=[]);for(var re=this[F],ie=-1,pe=re.length;++ie<pe;)(j=re[ie])&&(R=g.call(j,j.__data__,ie,F))?("__data__"in j&&(R.__data__=j.__data__),Q2(R,ie,k,T,j[k][T]),A.push(R)):A.push(null)}return B1(D,k,T)},Fi.selectAll=function(g){var T=this.id,k=this.namespace,D=[],A,R,j,F,Z;g=Oe(g);for(var re=-1,ie=this.length;++re<ie;)for(var pe=this[re],me=-1,Me=pe.length;++me<Me;)if(j=pe[me]){Z=j[k][T],R=g.call(j,j.__data__,me,re),D.push(A=[]);for(var ze=-1,ve=R.length;++ze<ve;)(F=R[ze])&&Q2(F,ze,k,T,Z),A.push(F)}return B1(D,k,T)},Fi.filter=function(g){var T=[],k,D,A;typeof g!="function"&&(g=ge(g));for(var R=0,j=this.length;R<j;R++){T.push(k=[]);for(var D=this[R],F=0,Z=D.length;F<Z;F++)(A=D[F])&&g.call(A,A.__data__,F,R)&&k.push(A)}return B1(T,this.namespace,this.id)},Fi.tween=function(g,T){var k=this.id,D=this.namespace;return arguments.length<2?this.node()[D][k].tween.get(g):Le(this,T==null?function(A){A[D][k].tween.remove(g)}:function(A){A[D][k].tween.set(g,T)})};function o4(g,T,k,D){var A=g.id,R=g.namespace;return Le(g,typeof k=="function"?function(j,F,Z){j[R][A].tween.set(T,D(k.call(j,j.__data__,F,Z)))}:(k=D(k),function(j){j[R][A].tween.set(T,k)}))}Fi.attr=function(g,T){if(arguments.length<2){for(T in g)this.attr(T,g[T]);return this}var k=g=="transform"?Pj:jp,D=t.ns.qualify(g);function A(){this.removeAttribute(D)}function R(){this.removeAttributeNS(D.space,D.local)}function j(Z){return Z==null?A:(Z+="",function(){var re=this.getAttribute(D),ie;return re!==Z&&(ie=k(re,Z),function(pe){this.setAttribute(D,ie(pe))})})}function F(Z){return Z==null?R:(Z+="",function(){var re=this.getAttributeNS(D.space,D.local),ie;return re!==Z&&(ie=k(re,Z),function(pe){this.setAttributeNS(D.space,D.local,ie(pe))})})}return o4(this,"attr."+g,T,D.local?F:j)},Fi.attrTween=function(g,T){var k=t.ns.qualify(g);function D(R,j){var F=T.call(this,R,j,this.getAttribute(k));return F&&function(Z){this.setAttribute(k,F(Z))}}function A(R,j){var F=T.call(this,R,j,this.getAttributeNS(k.space,k.local));return F&&function(Z){this.setAttributeNS(k.space,k.local,F(Z))}}return this.tween("attr."+g,k.local?A:D)},Fi.style=function(g,T,k){var D=arguments.length;if(D<3){if(typeof g!="string"){D<2&&(T="");for(k in g)this.style(k,g[k],T);return this}k=""}function A(){this.style.removeProperty(g)}function R(j){return j==null?A:(j+="",function(){var F=a(this).getComputedStyle(this,null).getPropertyValue(g),Z;return F!==j&&(Z=jp(F,j),function(re){this.style.setProperty(g,Z(re),k)})})}return o4(this,"style."+g,T,R)},Fi.styleTween=function(g,T,k){arguments.length<3&&(k="");function D(A,R){var j=T.call(this,A,R,a(this).getComputedStyle(this,null).getPropertyValue(g));return j&&function(F){this.style.setProperty(g,j(F),k)}}return this.tween("style."+g,D)},Fi.text=function(g){return o4(this,"text",g,_De)};function _De(g){return g==null&&(g=""),function(){this.textContent=g}}Fi.remove=function(){var g=this.namespace;return this.each("end.transition",function(){var T;this[g].count<2&&(T=this.parentNode)&&T.removeChild(this)})},Fi.ease=function(g){var T=this.id,k=this.namespace;return arguments.length<1?this.node()[k][T].ease:(typeof g!="function"&&(g=t.ease.apply(t,arguments)),Le(this,function(D){D[k][T].ease=g}))},Fi.delay=function(g){var T=this.id,k=this.namespace;return arguments.length<1?this.node()[k][T].delay:Le(this,typeof g=="function"?function(D,A,R){D[k][T].delay=+g.call(D,D.__data__,A,R)}:(g=+g,function(D){D[k][T].delay=g}))},Fi.duration=function(g){var T=this.id,k=this.namespace;return arguments.length<1?this.node()[k][T].duration:Le(this,typeof g=="function"?function(D,A,R){D[k][T].duration=Math.max(1,g.call(D,D.__data__,A,R))}:(g=Math.max(1,g),function(D){D[k][T].duration=g}))},Fi.each=function(g,T){var k=this.id,D=this.namespace;if(arguments.length<2){var A=K2,R=Vp;try{Vp=k,Le(this,function(j,F,Z){K2=j[D][k],g.call(j,j.__data__,F,Z)})}finally{K2=A,Vp=R}}else Le(this,function(j){var F=j[D][k];(F.event||(F.event=t.dispatch("start","end","interrupt"))).on(g,T)});return this},Fi.transition=function(){for(var g=this.id,T=++CV,k=this.namespace,D=[],A,R,j,F,Z=0,re=this.length;Z<re;Z++){D.push(A=[]);for(var R=this[Z],ie=0,pe=R.length;ie<pe;ie++)(j=R[ie])&&(F=j[k][g],Q2(j,ie,k,T,{time:F.time,ease:F.ease,delay:F.delay+F.duration,duration:F.duration})),A.push(j)}return B1(D,k,T)};function s4(g){return g==null?"__transition__":"__transition_"+g+"__"}function Q2(g,T,k,D,A){var R=g[k]||(g[k]={active:0,count:0}),j=R[D],F,Z,re,ie,pe;function me(ve){var Se=j.delay;if(Z.t=Se+F,Se<=ve)return Me(ve-Se);Z.c=Me}function Me(ve){var Se=R.active,ke=R[Se];ke&&(ke.timer.c=null,ke.timer.t=NaN,--R.count,delete R[Se],ke.event&&ke.event.interrupt.call(g,g.__data__,ke.index));for(var Pe in R)if(+Pe<D){var Fe=R[Pe];Fe.timer.c=null,Fe.timer.t=NaN,--R.count,delete R[Pe]}Z.c=ze,O2(function(){return Z.c&&ze(ve||1)&&(Z.c=null,Z.t=NaN),1},0,F),R.active=D,j.event&&j.event.start.call(g,g.__data__,T),pe=[],j.tween.forEach(function(De,dt){(dt=dt.call(g,g.__data__,T))&&pe.push(dt)}),ie=j.ease,re=j.duration}function ze(ve){for(var Se=ve/re,ke=ie(Se),Pe=pe.length;Pe>0;)pe[--Pe].call(g,ke);if(Se>=1)return j.event&&j.event.end.call(g,g.__data__,T),--R.count?delete R[D]:delete g[k],1}j||(F=A.time,Z=O2(me,0,F),j=R[D]={tween:new w,time:F,timer:Z,delay:A.delay,duration:A.duration,ease:A.ease,index:T},A=null,++R.count)}t.svg.axis=function(){var g=t.scale.linear(),T=kV,k=6,D=6,A=3,R=[10],j=null,F;function Z(re){re.each(function(){var ie=t.select(this),pe=this.__chart__||g,me=this.__chart__=g.copy(),Me=j==null?me.ticks?me.ticks.apply(me,R):me.domain():j,ze=F==null?me.tickFormat?me.tickFormat.apply(me,R):K:F,ve=ie.selectAll(".tick").data(Me,me),Se=ve.enter().insert("g",".domain").attr("class","tick").style("opacity",ut),ke=t.transition(ve.exit()).style("opacity",ut).remove(),Pe=t.transition(ve.order()).style("opacity",1),Fe=Math.max(k,0)+A,De,dt=j2(me),Et=ie.selectAll(".domain").data([0]),It=(Et.enter().append("path").attr("class","domain"),t.transition(Et));Se.append("line"),Se.append("text");var Rt=Se.select("line"),zt=Pe.select("line"),Ft=ve.select("text").text(ze),fr=Se.select("text"),qt=Pe.select("text"),or=T==="top"||T==="left"?-1:1,Qr,vi,pn,Ct;if(T==="bottom"||T==="top"?(De=kDe,Qr="x",pn="y",vi="x2",Ct="y2",Ft.attr("dy",or<0?"0em":".71em").style("text-anchor","middle"),It.attr("d","M"+dt[0]+","+or*D+"V0H"+dt[1]+"V"+or*D)):(De=EDe,Qr="y",pn="x",vi="y2",Ct="x2",Ft.attr("dy",".32em").style("text-anchor",or<0?"end":"start"),It.attr("d","M"+or*D+","+dt[0]+"H0V"+dt[1]+"H"+or*D)),Rt.attr(Ct,or*k),fr.attr(pn,or*Fe),zt.attr(vi,0).attr(Ct,or*k),qt.attr(Qr,0).attr(pn,or*Fe),me.rangeBand){var hr=me,wr=hr.rangeBand()/2;pe=me=function(Jr){return hr(Jr)+wr}}else pe.rangeBand?pe=me:ke.call(De,me,pe);Se.call(De,pe,me),Pe.call(De,me,me)})}return Z.scale=function(re){return arguments.length?(g=re,Z):g},Z.orient=function(re){return arguments.length?(T=re in CDe?re+"":kV,Z):T},Z.ticks=function(){return arguments.length?(R=r(arguments),Z):R},Z.tickValues=function(re){return arguments.length?(j=re,Z):j},Z.tickFormat=function(re){return arguments.length?(F=re,Z):F},Z.tickSize=function(re){var ie=arguments.length;return ie?(k=+re,D=+arguments[ie-1],Z):k},Z.innerTickSize=function(re){return arguments.length?(k=+re,Z):k},Z.outerTickSize=function(re){return arguments.length?(D=+re,Z):D},Z.tickPadding=function(re){return arguments.length?(A=+re,Z):A},Z.tickSubdivide=function(){return arguments.length&&Z},Z};var kV="bottom",CDe={top:1,right:1,bottom:1,left:1};function kDe(g,T,k){g.attr("transform",function(D){var A=T(D);return"translate("+(isFinite(A)?A:k(D))+",0)"})}function EDe(g,T,k){g.attr("transform",function(D){var A=T(D);return"translate(0,"+(isFinite(A)?A:k(D))+")"})}t.svg.brush=function(){var g=Te(ie,"brushstart","brush","brushend"),T=null,k=null,D=[0,0],A=[0,0],R,j,F=!0,Z=!0,re=l4[0];function ie(ve){ve.each(function(){var Se=t.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",ze).on("touchstart.brush",ze),ke=Se.selectAll(".background").data([0]);ke.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Se.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Pe=Se.selectAll(".resize").data(re,K);Pe.exit().remove(),Pe.enter().append("g").attr("class",function(Et){return"resize "+Et}).style("cursor",function(Et){return DDe[Et]}).append("rect").attr("x",function(Et){return/[ew]$/.test(Et)?-3:null}).attr("y",function(Et){return/^[ns]/.test(Et)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Pe.style("display",ie.empty()?"none":null);var Fe=t.transition(Se),De=t.transition(ke),dt;T&&(dt=j2(T),De.attr("x",dt[0]).attr("width",dt[1]-dt[0]),me(Fe)),k&&(dt=j2(k),De.attr("y",dt[0]).attr("height",dt[1]-dt[0]),Me(Fe)),pe(Fe)})}ie.event=function(ve){ve.each(function(){var Se=g.of(this,arguments),ke={x:D,y:A,i:R,j},Pe=this.__chart__||ke;this.__chart__=ke,Vp?t.select(this).transition().each("start.brush",function(){R=Pe.i,j=Pe.j,D=Pe.x,A=Pe.y,Se({type:"brushstart"})}).tween("brush:brush",function(){var Fe=U2(D,ke.x),De=U2(A,ke.y);return R=j=null,function(dt){D=ke.x=Fe(dt),A=ke.y=De(dt),Se({type:"brush",mode:"resize"})}}).each("end.brush",function(){R=ke.i,j=ke.j,Se({type:"brush",mode:"resize"}),Se({type:"brushend"})}):(Se({type:"brushstart"}),Se({type:"brush",mode:"resize"}),Se({type:"brushend"}))})};function pe(ve){ve.selectAll(".resize").attr("transform",function(Se){return"translate("+D[+/e$/.test(Se)]+","+A[+/^s/.test(Se)]+")"})}function me(ve){ve.select(".extent").attr("x",D[0]),ve.selectAll(".extent,.n>rect,.s>rect").attr("width",D[1]-D[0])}function Me(ve){ve.select(".extent").attr("y",A[0]),ve.selectAll(".extent,.e>rect,.w>rect").attr("height",A[1]-A[0])}function ze(){var ve=this,Se=t.select(t.event.target),ke=g.of(ve,arguments),Pe=t.select(ve),Fe=Se.datum(),De=!/^(n|s)$/.test(Fe)&&T,dt=!/^(e|w)$/.test(Fe)&&k,Et=Se.classed("extent"),It=kt(ve),Rt,zt=t.mouse(ve),Ft,fr=t.select(a(ve)).on("keydown.brush",Qr).on("keyup.brush",vi);if(t.event.changedTouches?fr.on("touchmove.brush",pn).on("touchend.brush",hr):fr.on("mousemove.brush",pn).on("mouseup.brush",hr),Pe.interrupt().selectAll("*").interrupt(),Et)zt[0]=D[0]-zt[0],zt[1]=A[0]-zt[1];else if(Fe){var qt=+/w$/.test(Fe),or=+/^n/.test(Fe);Ft=[D[1-qt]-zt[0],A[1-or]-zt[1]],zt[0]=D[qt],zt[1]=A[or]}else t.event.altKey&&(Rt=zt.slice());Pe.style("pointer-events","none").selectAll(".resize").style("display",null),t.select("body").style("cursor",Se.style("cursor")),ke({type:"brushstart"}),pn();function Qr(){t.event.keyCode==32&&(Et||(Rt=null,zt[0]-=D[1],zt[1]-=A[1],Et=2),he())}function vi(){t.event.keyCode==32&&Et==2&&(zt[0]+=D[1],zt[1]+=A[1],Et=0,he())}function pn(){var wr=t.mouse(ve),Jr=!1;Ft&&(wr[0]+=Ft[0],wr[1]+=Ft[1]),Et||(t.event.altKey?(Rt||(Rt=[(D[0]+D[1])/2,(A[0]+A[1])/2]),zt[0]=D[+(wr[0]<Rt[0])],zt[1]=A[+(wr[1]<Rt[1])]):Rt=null),De&&Ct(wr,T,0)&&(me(Pe),Jr=!0),dt&&Ct(wr,k,1)&&(Me(Pe),Jr=!0),Jr&&(pe(Pe),ke({type:"brush",mode:Et?"move":"resize"}))}function Ct(wr,Jr,$n){var Hi=j2(Jr),Ea=Hi[0],fo=Hi[1],Po=zt[$n],ho=$n?A:D,$o=ho[1]-ho[0],Wa,Xo;if(Et&&(Ea-=Po,fo-=$o+Po),Wa=($n?Z:F)?Math.max(Ea,Math.min(fo,wr[$n])):wr[$n],Et?Xo=(Wa+=Po)+$o:(Rt&&(Po=Math.max(Ea,Math.min(fo,2*Rt[$n]-Wa))),Po<Wa?(Xo=Wa,Wa=Po):Xo=Po),ho[0]!=Wa||ho[1]!=Xo)return $n?j=null:R=null,ho[0]=Wa,ho[1]=Xo,!0}function hr(){pn(),Pe.style("pointer-events","all").selectAll(".resize").style("display",ie.empty()?"none":null),t.select("body").style("cursor",null),fr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),It(),ke({type:"brushend"})}}return ie.x=function(ve){return arguments.length?(T=ve,re=l4[!T<<1|!k],ie):T},ie.y=function(ve){return arguments.length?(k=ve,re=l4[!T<<1|!k],ie):k},ie.clamp=function(ve){return arguments.length?(T&&k?(F=!!ve[0],Z=!!ve[1]):T?F=!!ve:k&&(Z=!!ve),ie):T&&k?[F,Z]:T?F:k?Z:null},ie.extent=function(ve){var Se,ke,Pe,Fe,De;return arguments.length?(T&&(Se=ve[0],ke=ve[1],k&&(Se=Se[0],ke=ke[0]),R=[Se,ke],T.invert&&(Se=T(Se),ke=T(ke)),ke<Se&&(De=Se,Se=ke,ke=De),(Se!=D[0]||ke!=D[1])&&(D=[Se,ke])),k&&(Pe=ve[0],Fe=ve[1],T&&(Pe=Pe[1],Fe=Fe[1]),j=[Pe,Fe],k.invert&&(Pe=k(Pe),Fe=k(Fe)),Fe<Pe&&(De=Pe,Pe=Fe,Fe=De),(Pe!=A[0]||Fe!=A[1])&&(A=[Pe,Fe])),ie):(T&&(R?(Se=R[0],ke=R[1]):(Se=D[0],ke=D[1],T.invert&&(Se=T.invert(Se),ke=T.invert(ke)),ke<Se&&(De=Se,Se=ke,ke=De))),k&&(j?(Pe=j[0],Fe=j[1]):(Pe=A[0],Fe=A[1],k.invert&&(Pe=k.invert(Pe),Fe=k.invert(Fe)),Fe<Pe&&(De=Pe,Pe=Fe,Fe=De))),T&&k?[[Se,Pe],[ke,Fe]]:T?[Se,ke]:k&&[Pe,Fe])},ie.clear=function(){return ie.empty()||(D=[0,0],A=[0,0],R=j=null),ie},ie.empty=function(){return!!T&&D[0]==D[1]||!!k&&A[0]==A[1]},t.rebind(ie,g,"on")};var DDe={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},l4=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];t.text=on(function(g){return g.responseText}),t.json=function(g,T){return Mt(g,"application/json",ADe,T)};function ADe(g){return JSON.parse(g.responseText)}t.html=function(g,T){return Mt(g,"text/html",MDe,T)};function MDe(g){var T=n.createRange();return T.selectNode(n.body),T.createContextualFragment(g.responseText)}t.xml=on(function(g){return g.responseXML}),typeof define=="function"&&define.amd?define(t):typeof AA=="object"&&AA.exports?AA.exports=t:this.d3=t}).apply(self)});var o8=J((MA,$re)=>{(function(t,e){typeof MA=="object"&&typeof $re!="undefined"?e(MA):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.d3=t.d3||{}))})(MA,function(t){"use strict";var e=new Date,r=new Date;function n(ge,Ne,Le,St){function ht(He){return ge(He=arguments.length===0?new Date:new Date(+He)),He}return ht.floor=function(He){return ge(He=new Date(+He)),He},ht.ceil=function(He){return ge(He=new Date(He-1)),Ne(He,1),ge(He),He},ht.round=function(He){var Ue=ht(He),ct=ht.ceil(He);return He-Ue<ct-He?Ue:ct},ht.offset=function(He,Ue){return Ne(He=new Date(+He),Ue==null?1:Math.floor(Ue)),He},ht.range=function(He,Ue,ct){var rt=[],lt;if(He=ht.ceil(He),ct=ct==null?1:Math.floor(ct),!(He<Ue)||!(ct>0))return rt;do rt.push(lt=new Date(+He)),Ne(He,ct),ge(He);while(lt<He&&He<Ue);return rt},ht.filter=function(He){return n(function(Ue){if(Ue>=Ue)for(;ge(Ue),!He(Ue);)Ue.setTime(Ue-1)},function(Ue,ct){if(Ue>=Ue)if(ct<0)for(;++ct<=0;)for(;Ne(Ue,-1),!He(Ue););else for(;--ct>=0;)for(;Ne(Ue,1),!He(Ue););})},Le&&(ht.count=function(He,Ue){return e.setTime(+He),r.setTime(+Ue),ge(e),ge(r),Math.floor(Le(e,r))},ht.every=function(He){return He=Math.floor(He),!isFinite(He)||!(He>0)?null:He>1?ht.filter(St?function(Ue){return St(Ue)%He===0}:function(Ue){return ht.count(0,Ue)%He===0}):ht}),ht}var i=n(function(){},function(ge,Ne){ge.setTime(+ge+Ne)},function(ge,Ne){return Ne-ge});i.every=function(ge){return ge=Math.floor(ge),!isFinite(ge)||!(ge>0)?null:ge>1?n(function(Ne){Ne.setTime(Math.floor(Ne/ge)*ge)},function(Ne,Le){Ne.setTime(+Ne+Le*ge)},function(Ne,Le){return(Le-Ne)/ge}):i};var a=i.range,o=1e3,s=6e4,l=36e5,c=864e5,u=6048e5,d=n(function(ge){ge.setTime(ge-ge.getMilliseconds())},function(ge,Ne){ge.setTime(+ge+Ne*o)},function(ge,Ne){return(Ne-ge)/o},function(ge){return ge.getUTCSeconds()}),f=d.range,h=n(function(ge){ge.setTime(ge-ge.getMilliseconds()-ge.getSeconds()*o)},function(ge,Ne){ge.setTime(+ge+Ne*s)},function(ge,Ne){return(Ne-ge)/s},function(ge){return ge.getMinutes()}),p=h.range,m=n(function(ge){ge.setTime(ge-ge.getMilliseconds()-ge.getSeconds()*o-ge.getMinutes()*s)},function(ge,Ne){ge.setTime(+ge+Ne*l)},function(ge,Ne){return(Ne-ge)/l},function(ge){return ge.getHours()}),v=m.range,y=n(function(ge){ge.setHours(0,0,0,0)},function(ge,Ne){ge.setDate(ge.getDate()+Ne)},function(ge,Ne){return(Ne-ge-(Ne.getTimezoneOffset()-ge.getTimezoneOffset())*s)/c},function(ge){return ge.getDate()-1}),b=y.range;function x(ge){return n(function(Ne){Ne.setDate(Ne.getDate()-(Ne.getDay()+7-ge)%7),Ne.setHours(0,0,0,0)},function(Ne,Le){Ne.setDate(Ne.getDate()+Le*7)},function(Ne,Le){return(Le-Ne-(Le.getTimezoneOffset()-Ne.getTimezoneOffset())*s)/u})}var w=x(0),S=x(1),_=x(2),C=x(3),E=x(4),M=x(5),I=x(6),L=w.range,O=S.range,H=_.range,Y=C.range,K=E.range,N=M.range,U=I.range,B=n(function(ge){ge.setDate(1),ge.setHours(0,0,0,0)},function(ge,Ne){ge.setMonth(ge.getMonth()+Ne)},function(ge,Ne){return Ne.getMonth()-ge.getMonth()+(Ne.getFullYear()-ge.getFullYear())*12},function(ge){return ge.getMonth()}),$=B.range,ee=n(function(ge){ge.setMonth(0,1),ge.setHours(0,0,0,0)},function(ge,Ne){ge.setFullYear(ge.getFullYear()+Ne)},function(ge,Ne){return Ne.getFullYear()-ge.getFullYear()},function(ge){return ge.getFullYear()});ee.every=function(ge){return!isFinite(ge=Math.floor(ge))||!(ge>0)?null:n(function(Ne){Ne.setFullYear(Math.floor(Ne.getFullYear()/ge)*ge),Ne.setMonth(0,1),Ne.setHours(0,0,0,0)},function(Ne,Le){Ne.setFullYear(Ne.getFullYear()+Le*ge)})};var te=ee.range,he=n(function(ge){ge.setUTCSeconds(0,0)},function(ge,Ne){ge.setTime(+ge+Ne*s)},function(ge,Ne){return(Ne-ge)/s},function(ge){return ge.getUTCMinutes()}),we=he.range,Te=n(function(ge){ge.setUTCMinutes(0,0,0)},function(ge,Ne){ge.setTime(+ge+Ne*l)},function(ge,Ne){return(Ne-ge)/l},function(ge){return ge.getUTCHours()}),ce=Te.range,q=n(function(ge){ge.setUTCHours(0,0,0,0)},function(ge,Ne){ge.setUTCDate(ge.getUTCDate()+Ne)},function(ge,Ne){return(Ne-ge)/c},function(ge){return ge.getUTCDate()-1}),X=q.range;function G(ge){return n(function(Ne){Ne.setUTCDate(Ne.getUTCDate()-(Ne.getUTCDay()+7-ge)%7),Ne.setUTCHours(0,0,0,0)},function(Ne,Le){Ne.setUTCDate(Ne.getUTCDate()+Le*7)},function(Ne,Le){return(Le-Ne)/u})}var de=G(0),ue=G(1),fe=G(2),_e=G(3),Oe=G(4),Ce=G(5),je=G(6),qe=de.range,Ve=ue.range,ot=fe.range,$e=_e.range,Xe=Oe.range,Je=Ce.range,nt=je.range,Ke=n(function(ge){ge.setUTCDate(1),ge.setUTCHours(0,0,0,0)},function(ge,Ne){ge.setUTCMonth(ge.getUTCMonth()+Ne)},function(ge,Ne){return Ne.getUTCMonth()-ge.getUTCMonth()+(Ne.getUTCFullYear()-ge.getUTCFullYear())*12},function(ge){return ge.getUTCMonth()}),Ae=Ke.range,it=n(function(ge){ge.setUTCMonth(0,1),ge.setUTCHours(0,0,0,0)},function(ge,Ne){ge.setUTCFullYear(ge.getUTCFullYear()+Ne)},function(ge,Ne){return Ne.getUTCFullYear()-ge.getUTCFullYear()},function(ge){return ge.getUTCFullYear()});it.every=function(ge){return!isFinite(ge=Math.floor(ge))||!(ge>0)?null:n(function(Ne){Ne.setUTCFullYear(Math.floor(Ne.getUTCFullYear()/ge)*ge),Ne.setUTCMonth(0,1),Ne.setUTCHours(0,0,0,0)},function(Ne,Le){Ne.setUTCFullYear(Ne.getUTCFullYear()+Le*ge)})};var at=it.range;t.timeDay=y,t.timeDays=b,t.timeFriday=M,t.timeFridays=N,t.timeHour=m,t.timeHours=v,t.timeInterval=n,t.timeMillisecond=i,t.timeMilliseconds=a,t.timeMinute=h,t.timeMinutes=p,t.timeMonday=S,t.timeMondays=O,t.timeMonth=B,t.timeMonths=$,t.timeSaturday=I,t.timeSaturdays=U,t.timeSecond=d,t.timeSeconds=f,t.timeSunday=w,t.timeSundays=L,t.timeThursday=E,t.timeThursdays=K,t.timeTuesday=_,t.timeTuesdays=H,t.timeWednesday=C,t.timeWednesdays=Y,t.timeWeek=w,t.timeWeeks=L,t.timeYear=ee,t.timeYears=te,t.utcDay=q,t.utcDays=X,t.utcFriday=Ce,t.utcFridays=Je,t.utcHour=Te,t.utcHours=ce,t.utcMillisecond=i,t.utcMilliseconds=a,t.utcMinute=he,t.utcMinutes=we,t.utcMonday=ue,t.utcMondays=Ve,t.utcMonth=Ke,t.utcMonths=Ae,t.utcSaturday=je,t.utcSaturdays=nt,t.utcSecond=d,t.utcSeconds=f,t.utcSunday=de,t.utcSundays=qe,t.utcThursday=Oe,t.utcThursdays=Xe,t.utcTuesday=fe,t.utcTuesdays=ot,t.utcWednesday=_e,t.utcWednesdays=$e,t.utcWeek=de,t.utcWeeks=qe,t.utcYear=it,t.utcYears=at,Object.defineProperty(t,"__esModule",{value:!0})})});var q0=J((RA,Xre)=>{(function(t,e){typeof RA=="object"&&typeof Xre!="undefined"?e(RA,o8()):typeof define=="function"&&define.amd?define(["exports","d3-time"],e):(t=t||self,e(t.d3=t.d3||{},t.d3))})(RA,function(t,e){"use strict";function r(V){if(0<=V.y&&V.y<100){var oe=new Date(-1,V.m,V.d,V.H,V.M,V.S,V.L);return oe.setFullYear(V.y),oe}return new Date(V.y,V.m,V.d,V.H,V.M,V.S,V.L)}function n(V){if(0<=V.y&&V.y<100){var oe=new Date(Date.UTC(-1,V.m,V.d,V.H,V.M,V.S,V.L));return oe.setUTCFullYear(V.y),oe}return new Date(Date.UTC(V.y,V.m,V.d,V.H,V.M,V.S,V.L))}function i(V,oe,be){return{y:V,m:oe,d:be,H:0,M:0,S:0,L:0}}function a(V){var oe=V.dateTime,be=V.date,xe=V.time,Ge=V.periods,Ie=V.days,tt=V.shortDays,vt=V.months,Ze=V.shortMonths,Pt=f(Ge),Wt=h(Ge),Vt=f(Ie),Jt=h(Ie),At=f(tt),ir=h(tt),Qt=f(vt),kr=h(vt),br=f(Ze),mr=h(Ze),vr={a:Oo,A:lc,b:ii,B:cc,c:null,d:B,e:B,f:we,g:Ce,G:qe,H:$,I:ee,j:te,L:he,m:Te,M:ce,p:zf,q:Ff,Q:kt,s:_t,S:q,u:X,U:G,V:ue,w:fe,W:_e,x:null,X:null,y:Oe,Y:je,Z:Ve,"%":mt},Vr={a:Va,A:I2,b:N2,B:L2,c:null,d:ot,e:ot,f:Ke,g:ct,G:lt,H:$e,I:Xe,j:Je,L:nt,m:Ae,M:it,p:I1,q:N1,Q:kt,s:_t,S:at,u:ge,U:Ne,V:St,w:ht,W:He,x:null,X:null,y:Ue,Y:rt,Z:st,"%":mt},un={a:Ki,A:ld,b:cd,B:dn,c:Zo,d:E,e:E,f:Y,g:w,G:x,H:I,I,j:M,L:H,m:C,M:L,p:qr,q:_,Q:N,s:U,S:O,u:m,U:v,V:y,w:p,W:b,x:Bn,X:qp,y:w,Y:x,Z:S,"%":K};vr.x=Dn(be,vr),vr.X=Dn(xe,vr),vr.c=Dn(oe,vr),Vr.x=Dn(be,Vr),Vr.X=Dn(xe,Vr),Vr.c=Dn(oe,Vr);function Dn($t,Zt){return function(on){var Mt=[],uo=-1,Pn=0,Ca=$t.length,ka,ll,Up;for(on instanceof Date||(on=new Date(+on));++uo<Ca;)$t.charCodeAt(uo)===37&&(Mt.push($t.slice(Pn,uo)),(ll=o[ka=$t.charAt(++uo)])!=null?ka=$t.charAt(++uo):ll=ka==="e"?" ":"0",(Up=Zt[ka])&&(ka=Up(on,ll)),Mt.push(ka),Pn=uo+1);return Mt.push($t.slice(Pn,uo)),Mt.join("")}}function mi($t,Zt){return function(on){var Mt=i(1900,void 0,1),uo=Rn(Mt,$t,on+="",0),Pn,Ca;if(uo!=on.length)return null;if("Q"in Mt)return new Date(Mt.Q);if("s"in Mt)return new Date(Mt.s*1e3+("L"in Mt?Mt.L:0));if(Zt&&!("Z"in Mt)&&(Mt.Z=0),"p"in Mt&&(Mt.H=Mt.H%12+Mt.p*12),Mt.m===void 0&&(Mt.m="q"in Mt?Mt.q:0),"V"in Mt){if(Mt.V<1||Mt.V>53)return null;"w"in Mt||(Mt.w=1),"Z"in Mt?(Pn=n(i(Mt.y,0,1)),Ca=Pn.getUTCDay(),Pn=Ca>4||Ca===0?e.utcMonday.ceil(Pn):e.utcMonday(Pn),Pn=e.utcDay.offset(Pn,(Mt.V-1)*7),Mt.y=Pn.getUTCFullYear(),Mt.m=Pn.getUTCMonth(),Mt.d=Pn.getUTCDate()+(Mt.w+6)%7):(Pn=r(i(Mt.y,0,1)),Ca=Pn.getDay(),Pn=Ca>4||Ca===0?e.timeMonday.ceil(Pn):e.timeMonday(Pn),Pn=e.timeDay.offset(Pn,(Mt.V-1)*7),Mt.y=Pn.getFullYear(),Mt.m=Pn.getMonth(),Mt.d=Pn.getDate()+(Mt.w+6)%7)}else("W"in Mt||"U"in Mt)&&("w"in Mt||(Mt.w="u"in Mt?Mt.u%7:"W"in Mt?1:0),Ca="Z"in Mt?n(i(Mt.y,0,1)).getUTCDay():r(i(Mt.y,0,1)).getDay(),Mt.m=0,Mt.d="W"in Mt?(Mt.w+6)%7+Mt.W*7-(Ca+5)%7:Mt.w+Mt.U*7-(Ca+6)%7);return"Z"in Mt?(Mt.H+=Mt.Z/100|0,Mt.M+=Mt.Z%100,n(Mt)):r(Mt)}}function Rn($t,Zt,on,Mt){for(var uo=0,Pn=Zt.length,Ca=on.length,ka,ll;uo<Pn;){if(Mt>=Ca)return-1;if(ka=Zt.charCodeAt(uo++),ka===37){if(ka=Zt.charAt(uo++),ll=un[ka in o?Zt.charAt(uo++):ka],!ll||(Mt=ll($t,on,Mt))<0)return-1}else if(ka!=on.charCodeAt(Mt++))return-1}return Mt}function qr($t,Zt,on){var Mt=Pt.exec(Zt.slice(on));return Mt?($t.p=Wt[Mt[0].toLowerCase()],on+Mt[0].length):-1}function Ki($t,Zt,on){var Mt=At.exec(Zt.slice(on));return Mt?($t.w=ir[Mt[0].toLowerCase()],on+Mt[0].length):-1}function ld($t,Zt,on){var Mt=Vt.exec(Zt.slice(on));return Mt?($t.w=Jt[Mt[0].toLowerCase()],on+Mt[0].length):-1}function cd($t,Zt,on){var Mt=br.exec(Zt.slice(on));return Mt?($t.m=mr[Mt[0].toLowerCase()],on+Mt[0].length):-1}function dn($t,Zt,on){var Mt=Qt.exec(Zt.slice(on));return Mt?($t.m=kr[Mt[0].toLowerCase()],on+Mt[0].length):-1}function Zo($t,Zt,on){return Rn($t,oe,Zt,on)}function Bn($t,Zt,on){return Rn($t,be,Zt,on)}function qp($t,Zt,on){return Rn($t,xe,Zt,on)}function Oo($t){return tt[$t.getDay()]}function lc($t){return Ie[$t.getDay()]}function ii($t){return Ze[$t.getMonth()]}function cc($t){return vt[$t.getMonth()]}function zf($t){return Ge[+($t.getHours()>=12)]}function Ff($t){return 1+~~($t.getMonth()/3)}function Va($t){return tt[$t.getUTCDay()]}function I2($t){return Ie[$t.getUTCDay()]}function N2($t){return Ze[$t.getUTCMonth()]}function L2($t){return vt[$t.getUTCMonth()]}function I1($t){return Ge[+($t.getUTCHours()>=12)]}function N1($t){return 1+~~($t.getUTCMonth()/3)}return{format:function($t){var Zt=Dn($t+="",vr);return Zt.toString=function(){return $t},Zt},parse:function($t){var Zt=mi($t+="",!1);return Zt.toString=function(){return $t},Zt},utcFormat:function($t){var Zt=Dn($t+="",Vr);return Zt.toString=function(){return $t},Zt},utcParse:function($t){var Zt=mi($t+="",!0);return Zt.toString=function(){return $t},Zt}}}var o={"-":"",_:" ",0:"0"},s=/^\s*\d+/,l=/^%/,c=/[\\^$*+?|[\]().{}]/g;function u(V,oe,be){var xe=V<0?"-":"",Ge=(xe?-V:V)+"",Ie=Ge.length;return xe+(Ie<be?new Array(be-Ie+1).join(oe)+Ge:Ge)}function d(V){return V.replace(c,"\\$&")}function f(V){return new RegExp("^(?:"+V.map(d).join("|")+")","i")}function h(V){for(var oe={},be=-1,xe=V.length;++be<xe;)oe[V[be].toLowerCase()]=be;return oe}function p(V,oe,be){var xe=s.exec(oe.slice(be,be+1));return xe?(V.w=+xe[0],be+xe[0].length):-1}function m(V,oe,be){var xe=s.exec(oe.slice(be,be+1));return xe?(V.u=+xe[0],be+xe[0].length):-1}function v(V,oe,be){var xe=s.exec(oe.slice(be,be+2));return xe?(V.U=+xe[0],be+xe[0].length):-1}function y(V,oe,be){var xe=s.exec(oe.slice(be,be+2));return xe?(V.V=+xe[0],be+xe[0].length):-1}function b(V,oe,be){var xe=s.exec(oe.slice(be,be+2));return xe?(V.W=+xe[0],be+xe[0].length):-1}function x(V,oe,be){var xe=s.exec(oe.slice(be,be+4));return xe?(V.y=+xe[0],be+xe[0].length):-1}function w(V,oe,be){var xe=s.exec(oe.slice(be,be+2));return xe?(V.y=+xe[0]+(+xe[0]>68?1900:2e3),be+xe[0].length):-1}function S(V,oe,be){var xe=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(oe.slice(be,be+6));return xe?(V.Z=xe[1]?0:-(xe[2]+(xe[3]||"00")),be+xe[0].length):-1}function _(V,oe,be){var xe=s.exec(oe.slice(be,be+1));return xe?(V.q=xe[0]*3-3,be+xe[0].length):-1}function C(V,oe,be){var xe=s.exec(oe.slice(be,be+2));return xe?(V.m=xe[0]-1,be+xe[0].length):-1}function E(V,oe,be){var xe=s.exec(oe.slice(be,be+2));return xe?(V.d=+xe[0],be+xe[0].length):-1}function M(V,oe,be){var xe=s.exec(oe.slice(be,be+3));return xe?(V.m=0,V.d=+xe[0],be+xe[0].length):-1}function I(V,oe,be){var xe=s.exec(oe.slice(be,be+2));return xe?(V.H=+xe[0],be+xe[0].length):-1}function L(V,oe,be){var xe=s.exec(oe.slice(be,be+2));return xe?(V.M=+xe[0],be+xe[0].length):-1}function O(V,oe,be){var xe=s.exec(oe.slice(be,be+2));return xe?(V.S=+xe[0],be+xe[0].length):-1}function H(V,oe,be){var xe=s.exec(oe.slice(be,be+3));return xe?(V.L=+xe[0],be+xe[0].length):-1}function Y(V,oe,be){var xe=s.exec(oe.slice(be,be+6));return xe?(V.L=Math.floor(xe[0]/1e3),be+xe[0].length):-1}function K(V,oe,be){var xe=l.exec(oe.slice(be,be+1));return xe?be+xe[0].length:-1}function N(V,oe,be){var xe=s.exec(oe.slice(be));return xe?(V.Q=+xe[0],be+xe[0].length):-1}function U(V,oe,be){var xe=s.exec(oe.slice(be));return xe?(V.s=+xe[0],be+xe[0].length):-1}function B(V,oe){return u(V.getDate(),oe,2)}function $(V,oe){return u(V.getHours(),oe,2)}function ee(V,oe){return u(V.getHours()%12||12,oe,2)}function te(V,oe){return u(1+e.timeDay.count(e.timeYear(V),V),oe,3)}function he(V,oe){return u(V.getMilliseconds(),oe,3)}function we(V,oe){return he(V,oe)+"000"}function Te(V,oe){return u(V.getMonth()+1,oe,2)}function ce(V,oe){return u(V.getMinutes(),oe,2)}function q(V,oe){return u(V.getSeconds(),oe,2)}function X(V){var oe=V.getDay();return oe===0?7:oe}function G(V,oe){return u(e.timeSunday.count(e.timeYear(V)-1,V),oe,2)}function de(V){var oe=V.getDay();return oe>=4||oe===0?e.timeThursday(V):e.timeThursday.ceil(V)}function ue(V,oe){return V=de(V),u(e.timeThursday.count(e.timeYear(V),V)+(e.timeYear(V).getDay()===4),oe,2)}function fe(V){return V.getDay()}function _e(V,oe){return u(e.timeMonday.count(e.timeYear(V)-1,V),oe,2)}function Oe(V,oe){return u(V.getFullYear()%100,oe,2)}function Ce(V,oe){return V=de(V),u(V.getFullYear()%100,oe,2)}function je(V,oe){return u(V.getFullYear()%1e4,oe,4)}function qe(V,oe){var be=V.getDay();return V=be>=4||be===0?e.timeThursday(V):e.timeThursday.ceil(V),u(V.getFullYear()%1e4,oe,4)}function Ve(V){var oe=V.getTimezoneOffset();return(oe>0?"-":(oe*=-1,"+"))+u(oe/60|0,"0",2)+u(oe%60,"0",2)}function ot(V,oe){return u(V.getUTCDate(),oe,2)}function $e(V,oe){return u(V.getUTCHours(),oe,2)}function Xe(V,oe){return u(V.getUTCHours()%12||12,oe,2)}function Je(V,oe){return u(1+e.utcDay.count(e.utcYear(V),V),oe,3)}function nt(V,oe){return u(V.getUTCMilliseconds(),oe,3)}function Ke(V,oe){return nt(V,oe)+"000"}function Ae(V,oe){return u(V.getUTCMonth()+1,oe,2)}function it(V,oe){return u(V.getUTCMinutes(),oe,2)}function at(V,oe){return u(V.getUTCSeconds(),oe,2)}function ge(V){var oe=V.getUTCDay();return oe===0?7:oe}function Ne(V,oe){return u(e.utcSunday.count(e.utcYear(V)-1,V),oe,2)}function Le(V){var oe=V.getUTCDay();return oe>=4||oe===0?e.utcThursday(V):e.utcThursday.ceil(V)}function St(V,oe){return V=Le(V),u(e.utcThursday.count(e.utcYear(V),V)+(e.utcYear(V).getUTCDay()===4),oe,2)}function ht(V){return V.getUTCDay()}function He(V,oe){return u(e.utcMonday.count(e.utcYear(V)-1,V),oe,2)}function Ue(V,oe){return u(V.getUTCFullYear()%100,oe,2)}function ct(V,oe){return V=Le(V),u(V.getUTCFullYear()%100,oe,2)}function rt(V,oe){return u(V.getUTCFullYear()%1e4,oe,4)}function lt(V,oe){var be=V.getUTCDay();return V=be>=4||be===0?e.utcThursday(V):e.utcThursday.ceil(V),u(V.getUTCFullYear()%1e4,oe,4)}function st(){return"+0000"}function mt(){return"%"}function kt(V){return+V}function _t(V){return Math.floor(+V/1e3)}var Ye;bt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bt(V){return Ye=a(V),t.timeFormat=Ye.format,t.timeParse=Ye.parse,t.utcFormat=Ye.utcFormat,t.utcParse=Ye.utcParse,Ye}var ut="%Y-%m-%dT%H:%M:%S.%LZ";function P(V){return V.toISOString()}var z=Date.prototype.toISOString?P:t.utcFormat(ut);function Q(V){var oe=new Date(V);return isNaN(oe)?null:oe}var le=+new Date("2000-01-01T00:00:00.000Z")?Q:t.utcParse(ut);t.isoFormat=z,t.isoParse=le,t.timeFormatDefaultLocale=bt,t.timeFormatLocale=a,Object.defineProperty(t,"__esModule",{value:!0})})});var s8=J((IA,Kre)=>{(function(t,e){typeof IA=="object"&&typeof Kre!="undefined"?e(IA):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis!="undefined"?globalThis:t||self,e(t.d3=t.d3||{}))})(IA,function(t){"use strict";function e(C){return Math.abs(C=Math.round(C))>=1e21?C.toLocaleString("en").replace(/,/g,""):C.toString(10)}function r(C,E){if((M=(C=E?C.toExponential(E-1):C.toExponential()).indexOf("e"))<0)return null;var M,I=C.slice(0,M);return[I.length>1?I[0]+I.slice(2):I,+C.slice(M+1)]}function n(C){return C=r(Math.abs(C)),C?C[1]:NaN}function i(C,E){return function(M,I){for(var L=M.length,O=[],H=0,Y=C[0],K=0;L>0&&Y>0&&(K+Y+1>I&&(Y=Math.max(1,I-K)),O.push(M.substring(L-=Y,L+Y)),!((K+=Y+1)>I));)Y=C[H=(H+1)%C.length];return O.reverse().join(E)}}function a(C){return function(E){return E.replace(/[0-9]/g,function(M){return C[+M]})}}var o=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s(C){if(!(E=o.exec(C)))throw new Error("invalid format: "+C);var E;return new l({fill:E[1],align:E[2],sign:E[3],symbol:E[4],zero:E[5],width:E[6],comma:E[7],precision:E[8]&&E[8].slice(1),trim:E[9],type:E[10]})}s.prototype=l.prototype;function l(C){this.fill=C.fill===void 0?" ":C.fill+"",this.align=C.align===void 0?">":C.align+"",this.sign=C.sign===void 0?"-":C.sign+"",this.symbol=C.symbol===void 0?"":C.symbol+"",this.zero=!!C.zero,this.width=C.width===void 0?void 0:+C.width,this.comma=!!C.comma,this.precision=C.precision===void 0?void 0:+C.precision,this.trim=!!C.trim,this.type=C.type===void 0?"":C.type+""}l.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function c(C){e:for(var E=C.length,M=1,I=-1,L;M<E;++M)switch(C[M]){case".":I=L=M;break;case"0":I===0&&(I=M),L=M;break;default:if(!+C[M])break e;I>0&&(I=0);break}return I>0?C.slice(0,I)+C.slice(L+1):C}var u;function d(C,E){var M=r(C,E);if(!M)return C+"";var I=M[0],L=M[1],O=L-(u=Math.max(-8,Math.min(8,Math.floor(L/3)))*3)+1,H=I.length;return O===H?I:O>H?I+new Array(O-H+1).join("0"):O>0?I.slice(0,O)+"."+I.slice(O):"0."+new Array(1-O).join("0")+r(C,Math.max(0,E+O-1))[0]}function f(C,E){var M=r(C,E);if(!M)return C+"";var I=M[0],L=M[1];return L<0?"0."+new Array(-L).join("0")+I:I.length>L+1?I.slice(0,L+1)+"."+I.slice(L+1):I+new Array(L-I.length+2).join("0")}var h={"%":function(C,E){return(C*100).toFixed(E)},b:function(C){return Math.round(C).toString(2)},c:function(C){return C+""},d:e,e:function(C,E){return C.toExponential(E)},f:function(C,E){return C.toFixed(E)},g:function(C,E){return C.toPrecision(E)},o:function(C){return Math.round(C).toString(8)},p:function(C,E){return f(C*100,E)},r:f,s:d,X:function(C){return Math.round(C).toString(16).toUpperCase()},x:function(C){return Math.round(C).toString(16)}};function p(C){return C}var m=Array.prototype.map,v=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function y(C){var E=C.grouping===void 0||C.thousands===void 0?p:i(m.call(C.grouping,Number),C.thousands+""),M=C.currency===void 0?"":C.currency[0]+"",I=C.currency===void 0?"":C.currency[1]+"",L=C.decimal===void 0?".":C.decimal+"",O=C.numerals===void 0?p:a(m.call(C.numerals,String)),H=C.percent===void 0?"%":C.percent+"",Y=C.minus===void 0?"-":C.minus+"",K=C.nan===void 0?"NaN":C.nan+"";function N(B){B=s(B);var $=B.fill,ee=B.align,te=B.sign,he=B.symbol,we=B.zero,Te=B.width,ce=B.comma,q=B.precision,X=B.trim,G=B.type;G==="n"?(ce=!0,G="g"):h[G]||(q===void 0&&(q=12),X=!0,G="g"),(we||$==="0"&&ee==="=")&&(we=!0,$="0",ee="=");var de=he==="$"?M:he==="#"&&/[boxX]/.test(G)?"0"+G.toLowerCase():"",ue=he==="$"?I:/[%p]/.test(G)?H:"",fe=h[G],_e=/[defgprs%]/.test(G);q=q===void 0?6:/[gprs]/.test(G)?Math.max(1,Math.min(21,q)):Math.max(0,Math.min(20,q));function Oe(Ce){var je=de,qe=ue,Ve,ot,$e;if(G==="c")qe=fe(Ce)+qe,Ce="";else{Ce=+Ce;var Xe=Ce<0||1/Ce<0;if(Ce=isNaN(Ce)?K:fe(Math.abs(Ce),q),X&&(Ce=c(Ce)),Xe&&+Ce==0&&te!=="+"&&(Xe=!1),je=(Xe?te==="("?te:Y:te==="-"||te==="("?"":te)+je,qe=(G==="s"?v[8+u/3]:"")+qe+(Xe&&te==="("?")":""),_e){for(Ve=-1,ot=Ce.length;++Ve<ot;)if($e=Ce.charCodeAt(Ve),48>$e||$e>57){qe=($e===46?L+Ce.slice(Ve+1):Ce.slice(Ve))+qe,Ce=Ce.slice(0,Ve);break}}}ce&&!we&&(Ce=E(Ce,1/0));var Je=je.length+Ce.length+qe.length,nt=Je<Te?new Array(Te-Je+1).join($):"";switch(ce&&we&&(Ce=E(nt+Ce,nt.length?Te-qe.length:1/0),nt=""),ee){case"<":Ce=je+Ce+qe+nt;break;case"=":Ce=je+nt+Ce+qe;break;case"^":Ce=nt.slice(0,Je=nt.length>>1)+je+Ce+qe+nt.slice(Je);break;default:Ce=nt+je+Ce+qe;break}return O(Ce)}return Oe.toString=function(){return B+""},Oe}function U(B,$){var ee=N((B=s(B),B.type="f",B)),te=Math.max(-8,Math.min(8,Math.floor(n($)/3)))*3,he=Math.pow(10,-te),we=v[8+te/3];return function(Te){return ee(he*Te)+we}}return{format:N,formatPrefix:U}}var b;x({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function x(C){return b=y(C),t.format=b.format,t.formatPrefix=b.formatPrefix,b}function w(C){return Math.max(0,-n(Math.abs(C)))}function S(C,E){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(n(E)/3)))*3-n(Math.abs(C)))}function _(C,E){return C=Math.abs(C),E=Math.abs(E)-C,Math.max(0,n(E)-n(C))+1}t.FormatSpecifier=l,t.formatDefaultLocale=x,t.formatLocale=y,t.formatSpecifier=s,t.precisionFixed=w,t.precisionPrefix=S,t.precisionRound=_,Object.defineProperty(t,"__esModule",{value:!0})})});var Jre=J((Sgt,Qre)=>{"use strict";Qre.exports=function(t){for(var e=t.length,r,n=0;n<e;n++)if(r=t.charCodeAt(n),(r<9||r>13)&&r!==32&&r!==133&&r!==160&&r!==5760&&r!==6158&&(r<8192||r>8205)&&r!==8232&&r!==8233&&r!==8239&&r!==8287&&r!==8288&&r!==12288&&r!==65279)return!1;return!0}});var _r=J((_gt,ene)=>{"use strict";var f8e=Jre();ene.exports=function(t){var e=typeof t;if(e==="string"){var r=t;if(t=+t,t===0&&f8e(r))return!1}else if(e!=="number")return!1;return t-t<1}});var ei=J((Cgt,tne)=>{"use strict";tne.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:"\u2212"}});var l8=J((NA,rne)=>{(function(t,e){typeof NA=="object"&&typeof rne!="undefined"?e(NA):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis!="undefined"?globalThis:t||self,e(t["base64-arraybuffer"]={}))})(NA,function(t){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),n=0;n<e.length;n++)r[e.charCodeAt(n)]=n;var i=function(o){var s=new Uint8Array(o),l,c=s.length,u="";for(l=0;l<c;l+=3)u+=e[s[l]>>2],u+=e[(s[l]&3)<<4|s[l+1]>>4],u+=e[(s[l+1]&15)<<2|s[l+2]>>6],u+=e[s[l+2]&63];return c%3===2?u=u.substring(0,u.length-1)+"=":c%3===1&&(u=u.substring(0,u.length-2)+"=="),u},a=function(o){var s=o.length*.75,l=o.length,c,u=0,d,f,h,p;o[o.length-1]==="="&&(s--,o[o.length-2]==="="&&s--);var m=new ArrayBuffer(s),v=new Uint8Array(m);for(c=0;c<l;c+=4)d=r[o.charCodeAt(c)],f=r[o.charCodeAt(c+1)],h=r[o.charCodeAt(c+2)],p=r[o.charCodeAt(c+3)],v[u++]=d<<2|f>>4,v[u++]=(f&15)<<4|h>>2,v[u++]=(h&3)<<6|p&63;return m};t.decode=a,t.encode=i,Object.defineProperty(t,"__esModule",{value:!0})})});var Kh=J((kgt,nne)=>{"use strict";nne.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}});var js=J(Nc=>{"use strict";var h8e=l8().decode,p8e=Kh(),c8=Array.isArray,m8e=ArrayBuffer,v8e=DataView;function ine(t){return m8e.isView(t)&&!(t instanceof v8e)}Nc.isTypedArray=ine;function LA(t){return c8(t)||ine(t)}Nc.isArrayOrTypedArray=LA;function g8e(t){return!LA(t[0])}Nc.isArray1D=g8e;Nc.ensureArray=function(t,e){return c8(t)||(t=[]),t.length=e,t};var ya={u1c:typeof Uint8ClampedArray=="undefined"?void 0:Uint8ClampedArray,i1:typeof Int8Array=="undefined"?void 0:Int8Array,u1:typeof Uint8Array=="undefined"?void 0:Uint8Array,i2:typeof Int16Array=="undefined"?void 0:Int16Array,u2:typeof Uint16Array=="undefined"?void 0:Uint16Array,i4:typeof Int32Array=="undefined"?void 0:Int32Array,u4:typeof Uint32Array=="undefined"?void 0:Uint32Array,f4:typeof Float32Array=="undefined"?void 0:Float32Array,f8:typeof Float64Array=="undefined"?void 0:Float64Array};ya.uint8c=ya.u1c;ya.uint8=ya.u1;ya.int8=ya.i1;ya.uint16=ya.u2;ya.int16=ya.i2;ya.uint32=ya.u4;ya.int32=ya.i4;ya.float32=ya.f4;ya.float64=ya.f8;function u8(t){return t.constructor===ArrayBuffer}Nc.isArrayBuffer=u8;Nc.decodeTypedArraySpec=function(t){var e=[],r=y8e(t),n=r.dtype,i=ya[n];if(!i)throw new Error('Error in dtype: "'+n+'"');var a=i.BYTES_PER_ELEMENT,o=r.bdata;u8(o)||(o=h8e(o));var s=r.shape===void 0?[o.byteLength/a]:(""+r.shape).split(",");s.reverse();var l=s.length,c,u,d=+s[0],f=a*d,h=0;if(l===1)e=new i(o);else if(l===2)for(c=+s[1],u=0;u<c;u++)e[u]=new i(o,h,d),h+=f;else if(l===3){c=+s[1];for(var p=+s[2],m=0;m<p;m++)for(e[m]=[],u=0;u<c;u++)e[m][u]=new i(o,h,d),h+=f}else throw new Error("ndim: "+l+'is not supported with the shape:"'+r.shape+'"');return e.bdata=r.bdata,e.dtype=r.dtype,e.shape=s.reverse().join(","),t._inputArray=e,e};Nc.isTypedArraySpec=function(t){return p8e(t)&&t.hasOwnProperty("dtype")&&typeof t.dtype=="string"&&t.hasOwnProperty("bdata")&&(typeof t.bdata=="string"||u8(t.bdata))&&(t.shape===void 0||t.hasOwnProperty("shape")&&(typeof t.shape=="string"||typeof t.shape=="number"))};function y8e(t){return{bdata:t.bdata,dtype:t.dtype,shape:t.shape}}Nc.concat=function(){var t=[],e=!0,r=0,n,i,a,o,s,l,c,u;for(a=0;a<arguments.length;a++)o=arguments[a],l=o.length,l&&(i?t.push(o):(i=o,s=l),c8(o)?n=!1:(e=!1,r?n!==o.constructor&&(n=!1):n=o.constructor),r+=l);if(!r)return[];if(!t.length)return i;if(e)return i.concat.apply(i,t);if(n){for(c=new n(r),c.set(i),a=0;a<t.length;a++)o=t[a],c.set(o,s),s+=o.length;return c}for(c=new Array(r),u=0;u<i.length;u++)c[u]=i[u];for(a=0;a<t.length;a++){for(o=t[a],u=0;u<o.length;u++)c[s+u]=o[u];s+=u}return c};Nc.maxRowLength=function(t){return ane(t,Math.max,0)};Nc.minRowLength=function(t){return ane(t,Math.min,1/0)};function ane(t,e,r){if(LA(t))if(LA(t[0])){for(var n=r,i=0;i<t.length;i++)n=e(n,t[i].length);return n}else return t.length;return 0}});var OA=J((Dgt,une)=>{"use strict";var one=_r(),f8=js().isArrayOrTypedArray;une.exports=function(e,r){if(one(r))r=String(r);else if(typeof r!="string"||r.substr(r.length-4)==="[-1]")throw"bad property string";var n=r.split("."),i,a,o,s;for(s=0;s<n.length;s++)if(String(n[s]).slice(0,2)==="__")throw"bad property string";for(s=0;s<n.length;){if(i=String(n[s]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),i){if(i[1])n[s]=i[1];else if(s===0)n.splice(0,1);else throw"bad property string";for(a=i[2].substr(1,i[2].length-2).split("]["),o=0;o<a.length;o++)s++,n.splice(s,0,Number(a[o]))}s++}return typeof e!="object"?T8e(e,r,n):{set:lne(e,n,r),get:sne(e,n),astr:r,parts:n,obj:e}};function sne(t,e){return function(r){var n=t,i,a,o,s,l;for(s=0;s<e.length-1;s++){if(i=e[s],i===-1){for(a=!0,o=[],l=0;l<n.length;l++)o[l]=sne(n[l],e.slice(s+1))(r),o[l]!==o[0]&&(a=!1);return a?o[0]:o}if(typeof i=="number"&&!f8(n)||(n=n[i],typeof n!="object"||n===null))return}if(!(typeof n!="object"||n===null)&&(o=n[e[s]],!(!r&&o===null)))return o}}var b8e=/(^|\.)args\[/;function d8(t,e){return t===void 0||t===null&&!e.match(b8e)}function lne(t,e,r){return function(n){var i=t,a="",o=[[t,a]],s=d8(n,r),l,c;for(c=0;c<e.length-1;c++){if(l=e[c],typeof l=="number"&&!f8(i))throw"array index but container is not an array";if(l===-1){if(s=!x8e(i,e.slice(c+1),n,r),s)break;return}if(!cne(i,l,e[c+1],s))break;if(i=i[l],typeof i!="object"||i===null)throw"container is not an object";a=w8e(a,l),o.push([i,a])}if(s){if(c===e.length-1&&(delete i[e[c]],Array.isArray(i)&&+e[c]===i.length-1))for(;i.length&&i[i.length-1]===void 0;)i.pop()}else i[e[c]]=n}}function w8e(t,e){var r=e;return one(e)?r="["+e+"]":t&&(r="."+e),t+r}function x8e(t,e,r,n){var i=f8(r),a=!0,o=r,s=n.replace("-1",0),l=i?!1:d8(r,s),c=e[0],u;for(u=0;u<t.length;u++)s=n.replace("-1",u),i&&(o=r[u%r.length],l=d8(o,s)),l&&(a=!1),cne(t,u,c,l)&&lne(t[u],e,n.replace("-1",u))(o);return a}function cne(t,e,r,n){if(t[e]===void 0){if(n)return!1;typeof r=="number"?t[e]=[]:t[e]={}}return!0}function T8e(t,e,r){return{set:function(){throw"bad container"},get:function(){},astr:e,parts:r,obj:t}}});var pne=J((Agt,hne)=>{"use strict";var U0=OA(),S8e=/^\w*$/,_8e=0,dne=1,PA=2,fne=3,uv=4;hne.exports=function(e,r,n,i){n=n||"name",i=i||"value";var a,o,s,l={};r&&r.length?(s=U0(e,r),o=s.get()):o=e,r=r||"";var c={};if(o)for(a=0;a<o.length;a++)c[o[a][n]]=a;var u=S8e.test(i),d={set:function(f,h){var p=h===null?uv:_8e;if(!o){if(!s||p===uv)return;o=[],s.set(o)}var m=c[f];if(m===void 0){if(p===uv)return;p=p|fne,m=o.length,c[f]=m}else h!==(u?o[m][i]:U0(o[m],i).get())&&(p=p|PA);var v=o[m]=o[m]||{};return v[n]=f,u?v[i]=h:U0(v,i).set(h),h!==null&&(p=p&~uv),l[m]=l[m]|p,d},get:function(f){if(o){var h=c[f];if(h!==void 0)return u?o[h][i]:U0(o[h],i).get()}},rename:function(f,h){var p=c[f];return p===void 0||(l[p]=l[p]|dne,c[h]=p,delete c[f],o[p][n]=h),d},remove:function(f){var h=c[f];if(h===void 0)return d;var p=o[h];if(Object.keys(p).length>2)return l[h]=l[h]|PA,d.set(f,null);if(u){for(a=h;a<o.length;a++)l[a]=l[a]|fne;for(a=h;a<o.length;a++)c[o[a][n]]--;o.splice(h,1),delete c[f]}else U0(p,i).set(null),l[h]=l[h]|PA|uv;return d},constructUpdate:function(){for(var f,h,p={},m=Object.keys(l),v=0;v<m.length;v++)h=m[v],f=r+"["+h+"]",o[h]?(l[h]&dne&&(p[f+"."+n]=o[h][n]),l[h]&PA&&(u?p[f+"."+i]=l[h]&uv?null:o[h][i]:p[f+"."+i]=l[h]&uv?null:U0(o[h],i).get())):p[f]=null;return p}};return d}});var vne=J((Mgt,mne)=>{"use strict";var C8e=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,k8e=/^[^\.\[\]]+$/;mne.exports=function(t,e){for(;e;){var r=t.match(C8e);if(r)t=r[1];else if(t.match(k8e))t="";else throw new Error("bad relativeAttr call:"+[t,e]);if(e.charAt(0)==="^")e=e.slice(1);else break}return t&&e.charAt(0)!=="["?t+"."+e:t+e}});var zA=J((Rgt,gne)=>{"use strict";var E8e=_r();gne.exports=function(e,r){if(e>0)return Math.log(e)/Math.LN10;var n=Math.log(Math.min(r[0],r[1]))/Math.LN10;return E8e(n)||(n=Math.log(Math.max(r[0],r[1]))/Math.LN10-6),n}});var wne=J((Igt,bne)=>{"use strict";var yne=js().isArrayOrTypedArray,uS=Kh();bne.exports=function t(e,r){for(var n in r){var i=r[n],a=e[n];if(a!==i)if(n.charAt(0)==="_"||typeof i=="function"){if(n in e)continue;e[n]=i}else if(yne(i)&&yne(a)&&uS(i[0])){if(n==="customdata"||n==="ids")continue;for(var o=Math.min(i.length,a.length),s=0;s<o;s++)a[s]!==i[s]&&uS(i[s])&&uS(a[s])&&t(a[s],i[s])}else uS(i)&&uS(a)&&(t(a,i),Object.keys(a).length||delete e[n])}}});var B0=J((Ngt,xne)=>{"use strict";function D8e(t,e){var r=t%e;return r<0?r+e:r}function A8e(t,e){return Math.abs(t)>e/2?t-Math.round(t/e)*e:t}xne.exports={mod:D8e,modHalf:A8e}});var Vs=J((h8,p8)=>{(function(t,e){typeof h8=="object"&&typeof p8!="undefined"?p8.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis!="undefined"?globalThis:t||self,t.tinycolor=e())})(h8,function(){"use strict";function t(q){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},t(q)}var e=/^\s+/,r=/\s+$/;function n(q,X){if(q=q||"",X=X||{},q instanceof n)return q;if(!(this instanceof n))return new n(q,X);var G=i(q);this._originalInput=q,this._r=G.r,this._g=G.g,this._b=G.b,this._a=G.a,this._roundA=Math.round(100*this._a)/100,this._format=X.format||G.format,this._gradientType=X.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=G.ok}n.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var X=this.toRgb();return(X.r*299+X.g*587+X.b*114)/1e3},getLuminance:function(){var X=this.toRgb(),G,de,ue,fe,_e,Oe;return G=X.r/255,de=X.g/255,ue=X.b/255,G<=.03928?fe=G/12.92:fe=Math.pow((G+.055)/1.055,2.4),de<=.03928?_e=de/12.92:_e=Math.pow((de+.055)/1.055,2.4),ue<=.03928?Oe=ue/12.92:Oe=Math.pow((ue+.055)/1.055,2.4),.2126*fe+.7152*_e+.0722*Oe},setAlpha:function(X){return this._a=O(X),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var X=l(this._r,this._g,this._b);return{h:X.h*360,s:X.s,v:X.v,a:this._a}},toHsvString:function(){var X=l(this._r,this._g,this._b),G=Math.round(X.h*360),de=Math.round(X.s*100),ue=Math.round(X.v*100);return this._a==1?"hsv("+G+", "+de+"%, "+ue+"%)":"hsva("+G+", "+de+"%, "+ue+"%, "+this._roundA+")"},toHsl:function(){var X=o(this._r,this._g,this._b);return{h:X.h*360,s:X.s,l:X.l,a:this._a}},toHslString:function(){var X=o(this._r,this._g,this._b),G=Math.round(X.h*360),de=Math.round(X.s*100),ue=Math.round(X.l*100);return this._a==1?"hsl("+G+", "+de+"%, "+ue+"%)":"hsla("+G+", "+de+"%, "+ue+"%, "+this._roundA+")"},toHex:function(X){return u(this._r,this._g,this._b,X)},toHexString:function(X){return"#"+this.toHex(X)},toHex8:function(X){return d(this._r,this._g,this._b,this._a,X)},toHex8String:function(X){return"#"+this.toHex8(X)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(H(this._r,255)*100)+"%",g:Math.round(H(this._g,255)*100)+"%",b:Math.round(H(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(H(this._r,255)*100)+"%, "+Math.round(H(this._g,255)*100)+"%, "+Math.round(H(this._b,255)*100)+"%)":"rgba("+Math.round(H(this._r,255)*100)+"%, "+Math.round(H(this._g,255)*100)+"%, "+Math.round(H(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:I[u(this._r,this._g,this._b,!0)]||!1},toFilter:function(X){var G="#"+f(this._r,this._g,this._b,this._a),de=G,ue=this._gradientType?"GradientType = 1, ":"";if(X){var fe=n(X);de="#"+f(fe._r,fe._g,fe._b,fe._a)}return"progid:DXImageTransform.Microsoft.gradient("+ue+"startColorstr="+G+",endColorstr="+de+")"},toString:function(X){var G=!!X;X=X||this._format;var de=!1,ue=this._a<1&&this._a>=0,fe=!G&&ue&&(X==="hex"||X==="hex6"||X==="hex3"||X==="hex4"||X==="hex8"||X==="name");return fe?X==="name"&&this._a===0?this.toName():this.toRgbString():(X==="rgb"&&(de=this.toRgbString()),X==="prgb"&&(de=this.toPercentageRgbString()),(X==="hex"||X==="hex6")&&(de=this.toHexString()),X==="hex3"&&(de=this.toHexString(!0)),X==="hex4"&&(de=this.toHex8String(!0)),X==="hex8"&&(de=this.toHex8String()),X==="name"&&(de=this.toName()),X==="hsl"&&(de=this.toHslString()),X==="hsv"&&(de=this.toHsvString()),de||this.toHexString())},clone:function(){return n(this.toString())},_applyModification:function(X,G){var de=X.apply(null,[this].concat([].slice.call(G)));return this._r=de._r,this._g=de._g,this._b=de._b,this.setAlpha(de._a),this},lighten:function(){return this._applyModification(v,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(h,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(X,G){return X.apply(null,[this].concat([].slice.call(G)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(_,arguments)},triad:function(){return this._applyCombination(S,[3])},tetrad:function(){return this._applyCombination(S,[4])}},n.fromRatio=function(q,X){if(t(q)=="object"){var G={};for(var de in q)q.hasOwnProperty(de)&&(de==="a"?G[de]=q[de]:G[de]=$(q[de]));q=G}return n(q,X)};function i(q){var X={r:0,g:0,b:0},G=1,de=null,ue=null,fe=null,_e=!1,Oe=!1;return typeof q=="string"&&(q=Te(q)),t(q)=="object"&&(we(q.r)&&we(q.g)&&we(q.b)?(X=a(q.r,q.g,q.b),_e=!0,Oe=String(q.r).substr(-1)==="%"?"prgb":"rgb"):we(q.h)&&we(q.s)&&we(q.v)?(de=$(q.s),ue=$(q.v),X=c(q.h,de,ue),_e=!0,Oe="hsv"):we(q.h)&&we(q.s)&&we(q.l)&&(de=$(q.s),fe=$(q.l),X=s(q.h,de,fe),_e=!0,Oe="hsl"),q.hasOwnProperty("a")&&(G=q.a)),G=O(G),{ok:_e,format:q.format||Oe,r:Math.min(255,Math.max(X.r,0)),g:Math.min(255,Math.max(X.g,0)),b:Math.min(255,Math.max(X.b,0)),a:G}}function a(q,X,G){return{r:H(q,255)*255,g:H(X,255)*255,b:H(G,255)*255}}function o(q,X,G){q=H(q,255),X=H(X,255),G=H(G,255);var de=Math.max(q,X,G),ue=Math.min(q,X,G),fe,_e,Oe=(de+ue)/2;if(de==ue)fe=_e=0;else{var Ce=de-ue;switch(_e=Oe>.5?Ce/(2-de-ue):Ce/(de+ue),de){case q:fe=(X-G)/Ce+(X<G?6:0);break;case X:fe=(G-q)/Ce+2;break;case G:fe=(q-X)/Ce+4;break}fe/=6}return{h:fe,s:_e,l:Oe}}function s(q,X,G){var de,ue,fe;q=H(q,360),X=H(X,100),G=H(G,100);function _e(je,qe,Ve){return Ve<0&&(Ve+=1),Ve>1&&(Ve-=1),Ve<1/6?je+(qe-je)*6*Ve:Ve<1/2?qe:Ve<2/3?je+(qe-je)*(2/3-Ve)*6:je}if(X===0)de=ue=fe=G;else{var Oe=G<.5?G*(1+X):G+X-G*X,Ce=2*G-Oe;de=_e(Ce,Oe,q+1/3),ue=_e(Ce,Oe,q),fe=_e(Ce,Oe,q-1/3)}return{r:de*255,g:ue*255,b:fe*255}}function l(q,X,G){q=H(q,255),X=H(X,255),G=H(G,255);var de=Math.max(q,X,G),ue=Math.min(q,X,G),fe,_e,Oe=de,Ce=de-ue;if(_e=de===0?0:Ce/de,de==ue)fe=0;else{switch(de){case q:fe=(X-G)/Ce+(X<G?6:0);break;case X:fe=(G-q)/Ce+2;break;case G:fe=(q-X)/Ce+4;break}fe/=6}return{h:fe,s:_e,v:Oe}}function c(q,X,G){q=H(q,360)*6,X=H(X,100),G=H(G,100);var de=Math.floor(q),ue=q-de,fe=G*(1-X),_e=G*(1-ue*X),Oe=G*(1-(1-ue)*X),Ce=de%6,je=[G,_e,fe,fe,Oe,G][Ce],qe=[Oe,G,G,_e,fe,fe][Ce],Ve=[fe,fe,Oe,G,G,_e][Ce];return{r:je*255,g:qe*255,b:Ve*255}}function u(q,X,G,de){var ue=[B(Math.round(q).toString(16)),B(Math.round(X).toString(16)),B(Math.round(G).toString(16))];return de&&ue[0].charAt(0)==ue[0].charAt(1)&&ue[1].charAt(0)==ue[1].charAt(1)&&ue[2].charAt(0)==ue[2].charAt(1)?ue[0].charAt(0)+ue[1].charAt(0)+ue[2].charAt(0):ue.join("")}function d(q,X,G,de,ue){var fe=[B(Math.round(q).toString(16)),B(Math.round(X).toString(16)),B(Math.round(G).toString(16)),B(ee(de))];return ue&&fe[0].charAt(0)==fe[0].charAt(1)&&fe[1].charAt(0)==fe[1].charAt(1)&&fe[2].charAt(0)==fe[2].charAt(1)&&fe[3].charAt(0)==fe[3].charAt(1)?fe[0].charAt(0)+fe[1].charAt(0)+fe[2].charAt(0)+fe[3].charAt(0):fe.join("")}function f(q,X,G,de){var ue=[B(ee(de)),B(Math.round(q).toString(16)),B(Math.round(X).toString(16)),B(Math.round(G).toString(16))];return ue.join("")}n.equals=function(q,X){return!q||!X?!1:n(q).toRgbString()==n(X).toRgbString()},n.random=function(){return n.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function h(q,X){X=X===0?0:X||10;var G=n(q).toHsl();return G.s-=X/100,G.s=Y(G.s),n(G)}function p(q,X){X=X===0?0:X||10;var G=n(q).toHsl();return G.s+=X/100,G.s=Y(G.s),n(G)}function m(q){return n(q).desaturate(100)}function v(q,X){X=X===0?0:X||10;var G=n(q).toHsl();return G.l+=X/100,G.l=Y(G.l),n(G)}function y(q,X){X=X===0?0:X||10;var G=n(q).toRgb();return G.r=Math.max(0,Math.min(255,G.r-Math.round(255*-(X/100)))),G.g=Math.max(0,Math.min(255,G.g-Math.round(255*-(X/100)))),G.b=Math.max(0,Math.min(255,G.b-Math.round(255*-(X/100)))),n(G)}function b(q,X){X=X===0?0:X||10;var G=n(q).toHsl();return G.l-=X/100,G.l=Y(G.l),n(G)}function x(q,X){var G=n(q).toHsl(),de=(G.h+X)%360;return G.h=de<0?360+de:de,n(G)}function w(q){var X=n(q).toHsl();return X.h=(X.h+180)%360,n(X)}function S(q,X){if(isNaN(X)||X<=0)throw new Error("Argument to polyad must be a positive number");for(var G=n(q).toHsl(),de=[n(q)],ue=360/X,fe=1;fe<X;fe++)de.push(n({h:(G.h+fe*ue)%360,s:G.s,l:G.l}));return de}function _(q){var X=n(q).toHsl(),G=X.h;return[n(q),n({h:(G+72)%360,s:X.s,l:X.l}),n({h:(G+216)%360,s:X.s,l:X.l})]}function C(q,X,G){X=X||6,G=G||30;var de=n(q).toHsl(),ue=360/G,fe=[n(q)];for(de.h=(de.h-(ue*X>>1)+720)%360;--X;)de.h=(de.h+ue)%360,fe.push(n(de));return fe}function E(q,X){X=X||6;for(var G=n(q).toHsv(),de=G.h,ue=G.s,fe=G.v,_e=[],Oe=1/X;X--;)_e.push(n({h:de,s:ue,v:fe})),fe=(fe+Oe)%1;return _e}n.mix=function(q,X,G){G=G===0?0:G||50;var de=n(q).toRgb(),ue=n(X).toRgb(),fe=G/100,_e={r:(ue.r-de.r)*fe+de.r,g:(ue.g-de.g)*fe+de.g,b:(ue.b-de.b)*fe+de.b,a:(ue.a-de.a)*fe+de.a};return n(_e)},n.readability=function(q,X){var G=n(q),de=n(X);return(Math.max(G.getLuminance(),de.getLuminance())+.05)/(Math.min(G.getLuminance(),de.getLuminance())+.05)},n.isReadable=function(q,X,G){var de=n.readability(q,X),ue,fe;switch(fe=!1,ue=ce(G),ue.level+ue.size){case"AAsmall":case"AAAlarge":fe=de>=4.5;break;case"AAlarge":fe=de>=3;break;case"AAAsmall":fe=de>=7;break}return fe},n.mostReadable=function(q,X,G){var de=null,ue=0,fe,_e,Oe,Ce;G=G||{},_e=G.includeFallbackColors,Oe=G.level,Ce=G.size;for(var je=0;je<X.length;je++)fe=n.readability(q,X[je]),fe>ue&&(ue=fe,de=n(X[je]));return n.isReadable(q,de,{level:Oe,size:Ce})||!_e?de:(G.includeFallbackColors=!1,n.mostReadable(q,["#fff","#000"],G))};var M=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},I=n.hexNames=L(M);function L(q){var X={};for(var G in q)q.hasOwnProperty(G)&&(X[q[G]]=G);return X}function O(q){return q=parseFloat(q),(isNaN(q)||q<0||q>1)&&(q=1),q}function H(q,X){N(q)&&(q="100%");var G=U(q);return q=Math.min(X,Math.max(0,parseFloat(q))),G&&(q=parseInt(q*X,10)/100),Math.abs(q-X)<1e-6?1:q%X/parseFloat(X)}function Y(q){return Math.min(1,Math.max(0,q))}function K(q){return parseInt(q,16)}function N(q){return typeof q=="string"&&q.indexOf(".")!=-1&&parseFloat(q)===1}function U(q){return typeof q=="string"&&q.indexOf("%")!=-1}function B(q){return q.length==1?"0"+q:""+q}function $(q){return q<=1&&(q=q*100+"%"),q}function ee(q){return Math.round(parseFloat(q)*255).toString(16)}function te(q){return K(q)/255}var he=function(){var q="[-\\+]?\\d+%?",X="[-\\+]?\\d*\\.\\d+%?",G="(?:"+X+")|(?:"+q+")",de="[\\s|\\(]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",ue="[\\s|\\(]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?";return{CSS_UNIT:new RegExp(G),rgb:new RegExp("rgb"+de),rgba:new RegExp("rgba"+ue),hsl:new RegExp("hsl"+de),hsla:new RegExp("hsla"+ue),hsv:new RegExp("hsv"+de),hsva:new RegExp("hsva"+ue),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function we(q){return!!he.CSS_UNIT.exec(q)}function Te(q){q=q.replace(e,"").replace(r,"").toLowerCase();var X=!1;if(M[q])q=M[q],X=!0;else if(q=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var G;return(G=he.rgb.exec(q))?{r:G[1],g:G[2],b:G[3]}:(G=he.rgba.exec(q))?{r:G[1],g:G[2],b:G[3],a:G[4]}:(G=he.hsl.exec(q))?{h:G[1],s:G[2],l:G[3]}:(G=he.hsla.exec(q))?{h:G[1],s:G[2],l:G[3],a:G[4]}:(G=he.hsv.exec(q))?{h:G[1],s:G[2],v:G[3]}:(G=he.hsva.exec(q))?{h:G[1],s:G[2],v:G[3],a:G[4]}:(G=he.hex8.exec(q))?{r:K(G[1]),g:K(G[2]),b:K(G[3]),a:te(G[4]),format:X?"name":"hex8"}:(G=he.hex6.exec(q))?{r:K(G[1]),g:K(G[2]),b:K(G[3]),format:X?"name":"hex"}:(G=he.hex4.exec(q))?{r:K(G[1]+""+G[1]),g:K(G[2]+""+G[2]),b:K(G[3]+""+G[3]),a:te(G[4]+""+G[4]),format:X?"name":"hex8"}:(G=he.hex3.exec(q))?{r:K(G[1]+""+G[1]),g:K(G[2]+""+G[2]),b:K(G[3]+""+G[3]),format:X?"name":"hex"}:!1}function ce(q){var X,G;return q=q||{level:"AA",size:"small"},X=(q.level||"AA").toUpperCase(),G=(q.size||"small").toLowerCase(),X!=="AA"&&X!=="AAA"&&(X="AA"),G!=="small"&&G!=="large"&&(G="small"),{level:X,size:G}}return n})});var Ti=J(hS=>{"use strict";var Tne=Kh(),dS=Array.isArray;function M8e(t,e){var r,n;for(r=0;r<t.length;r++){if(n=t[r],n!==null&&typeof n=="object")return!1;n!==void 0&&(e[r]=n)}return!0}hS.extendFlat=function(){return fS(arguments,!1,!1,!1)};hS.extendDeep=function(){return fS(arguments,!0,!1,!1)};hS.extendDeepAll=function(){return fS(arguments,!0,!0,!1)};hS.extendDeepNoArrays=function(){return fS(arguments,!0,!1,!0)};function fS(t,e,r,n){var i=t[0],a=t.length,o,s,l,c,u,d,f;if(a===2&&dS(i)&&dS(t[1])&&i.length===0){if(f=M8e(t[1],i),f)return i;i.splice(0,i.length)}for(var h=1;h<a;h++){o=t[h];for(s in o)l=i[s],c=o[s],n&&dS(c)?i[s]=c:e&&c&&(Tne(c)||(u=dS(c)))?(u?(u=!1,d=l&&dS(l)?l:[]):d=l&&Tne(l)?l:{},i[s]=fS([d,c],e,r,n)):(typeof c!="undefined"||r)&&(i[s]=c)}return i}});var ba=J((Ogt,Sne)=>{"use strict";Sne.exports=function(t){var e=t.variantValues,r=t.editType,n=t.colorEditType;n===void 0&&(n=r);var i={editType:r,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal",description:["Sets the weight (or boldness) of the font."].join(" ")};t.noNumericWeightValues&&(i.valType="enumerated",i.values=i.extras,i.extras=void 0,i.min=void 0,i.max=void 0);var a={family:{valType:"string",noBlank:!0,strict:!0,editType:r,description:["HTML font family - the typeface that will be applied by the web browser.","The web browser can only apply a font if it is available on the system where","it runs. Provide multiple font families, separated by commas, to indicate","the order in which to apply fonts if they aren't available."].join(" ")},size:{valType:"number",min:1,editType:r},color:{valType:"color",editType:n},weight:i,style:{editType:r,valType:"enumerated",values:["normal","italic"],dflt:"normal",description:["Sets whether a font should be styled with a normal or italic face from its family."].join(" ")},variant:t.noFontVariant?void 0:{editType:r,valType:"enumerated",values:e||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal",description:["Sets the variant of the font."].join(" ")},textcase:t.noFontTextcase?void 0:{editType:r,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal",description:["Sets capitalization of text.","It can be used to make text appear in all-uppercase or all-lowercase,","or with each word capitalized."].join(" ")},lineposition:t.noFontLineposition?void 0:{editType:r,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none",description:["Sets the kind of decoration line(s) with text,","such as an *under*, *over* or *through*","as well as combinations e.g. *under+over*, etc."].join(" ")},shadow:t.noFontShadow?void 0:{editType:r,valType:"string",dflt:t.autoShadowDflt?"auto":"none",description:["Sets the shape and color of the shadow behind text.","*auto* places minimal shadow and applies contrast text font color.","See https://developer.mozilla.org/en-US/docs/Web/CSS/text-shadow for additional options."].join(" ")},editType:r,description:""+(t.description||"")};return t.autoSize&&(a.size.dflt="auto"),t.autoColor&&(a.color.dflt="auto"),t.arrayOk&&(a.family.arrayOk=!0,a.weight.arrayOk=!0,a.style.arrayOk=!0,t.noFontVariant||(a.variant.arrayOk=!0),t.noFontTextcase||(a.textcase.arrayOk=!0),t.noFontLineposition||(a.lineposition.arrayOk=!0),t.noFontShadow||(a.shadow.arrayOk=!0),a.size.arrayOk=!0,a.color.arrayOk=!0),a}});var pS=J((Pgt,_ne)=>{"use strict";_ne.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}});var j0=J((zgt,Ene)=>{"use strict";var Cne=pS(),kne=ba(),m8=kne({editType:"none",description:"Sets the default hover label font used by all traces on the graph."});m8.family.dflt=Cne.HOVERFONT;m8.size.dflt=Cne.HOVERFONTSIZE;Ene.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"],description:["Determines the mode of single click interactions.","*event* is the default value and emits the `plotly_click`","event. In addition this mode emits the `plotly_selected` event","in drag modes *lasso* and *select*, but with no event data attached","(kept for compatibility reasons).","The *select* flag enables selecting single","data points via click. This mode also supports persistent selections,","meaning that pressing Shift while clicking, adds to / subtracts from an","existing selection. *select* with `hovermode`: *x* can be confusing, consider","explicitly setting `hovermode`: *closest* when using this feature.","Selection events are sent accordingly as long as *event* flag is set as well.","When the *event* flag is missing, `plotly_click` and `plotly_selected`","events are not fired."].join(" ")},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar",description:["Determines the mode of drag interactions.","*select* and *lasso* apply only to scatter traces with","markers or text. *orbit* and *turntable* apply only to","3D scenes."].join(" ")},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar",description:["Determines the mode of hover interactions.","If *closest*, a single hoverlabel will appear","for the *closest* point within the `hoverdistance`.","If *x* (or *y*), multiple hoverlabels will appear for multiple points","at the *closest* x- (or y-) coordinate within the `hoverdistance`,","with the caveat that no more than one hoverlabel will appear per trace.","If *x unified* (or *y unified*), a single hoverlabel will appear","multiple points at the closest x- (or y-) coordinate within the `hoverdistance`","with the caveat that no more than one hoverlabel will appear per trace.","In this mode, spikelines are enabled by default perpendicular to the specified axis.","If false, hover interactions are disabled."].join(" ")},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none",description:["Determines expansion of hover effects to other subplots","If *single* just the axis pair of the primary point is included without overlaying subplots.","If *overlaying* all subplots using the main axis and occupying the same space are included.","If *axis*, also include stacked subplots using the same axis","when `hovermode` is set to *x*, *x unified*, *y* or *y unified*."].join(" ")},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none",description:["Sets the default distance (in pixels) to look for data","to add hover labels (-1 means no cutoff, 0 means no looking for data).","This is only a real distance for hovering on point-like objects,","like scatter points. For area-like objects (bars, scatter fills, etc)","hovering is on inside the area and off outside, but these objects","will not supersede hover on point-like objects in case of conflict."].join(" ")},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none",description:["Sets the default distance (in pixels) to look for data to draw","spikelines to (-1 means no cutoff, 0 means no looking for data).","As with hoverdistance, distance does not apply to area-like objects.","In addition, some objects can be hovered on but will not generate","spikelines, such as scatter fills."].join(" ")},hoverlabel:{bgcolor:{valType:"color",editType:"none",description:["Sets the background color of all hover labels on graph"].join(" ")},bordercolor:{valType:"color",editType:"none",description:["Sets the border color of all hover labels on graph."].join(" ")},font:m8,grouptitlefont:kne({editType:"none",description:["Sets the font for group titles in hover (unified modes).","Defaults to `hoverlabel.font`."].join(" ")}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none",description:["Sets the horizontal alignment of the text content within hover label box.","Has an effect only if the hover label text spans more two or more lines"].join(" ")},namelength:{valType:"integer",min:-1,dflt:15,editType:"none",description:["Sets the default length (in number of characters) of the trace name in","the hover labels for all traces. -1 shows the whole name","regardless of length. 0-3 shows the first 0-3 characters, and","an integer >3 will show the whole name if it is less than that","many characters, but if it is longer, will truncate to","`namelength - 3` characters and add an ellipsis."].join(" ")},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",description:["When `dragmode` is set to *select*, this limits the selection of the drag to","horizontal, vertical or diagonal. *h* only allows horizontal selection,","*v* only vertical, *d* only diagonal and *any* sets no limit."].join(" "),editType:"none"}}});var qA=J((Fgt,Dne)=>{"use strict";var R8e=ba(),FA=j0().hoverlabel,HA=Ti().extendFlat;Dne.exports={hoverlabel:{bgcolor:HA({},FA.bgcolor,{arrayOk:!0,description:"Sets the background color of the hover labels for this trace"}),bordercolor:HA({},FA.bordercolor,{arrayOk:!0,description:"Sets the border color of the hover labels for this trace."}),font:R8e({arrayOk:!0,editType:"none",description:"Sets the font used in hover labels."}),align:HA({},FA.align,{arrayOk:!0}),namelength:HA({},FA.namelength,{arrayOk:!0}),editType:"none"}}});var Ws=J((Hgt,Ane)=>{"use strict";var I8e=ba(),N8e=qA();Ane.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc",description:["Determines whether or not this trace is visible.","If *legendonly*, the trace is not drawn,","but can appear as a legend item","(provided that the legend itself is visible)."].join(" ")},showlegend:{valType:"boolean",dflt:!0,editType:"style",description:["Determines whether or not an item corresponding to this","trace is shown in the legend."].join(" ")},legend:{valType:"subplotid",dflt:"legend",editType:"style",description:["Sets the reference to a legend to show this trace in.","References to these legends are *legend*, *legend2*, *legend3*, etc.","Settings for these legends are set in the layout, under","`layout.legend`, `layout.legend2`, etc."].join(" ")},legendgroup:{valType:"string",dflt:"",editType:"style",description:["Sets the legend group for this trace.","Traces and shapes part of the same legend group hide/show at the same time","when toggling legend items."].join(" ")},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style",description:["Sets the title of the legend group."].join(" ")},font:I8e({editType:"style",description:["Sets this legend group's title font."].join(" ")}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style",description:["Sets the legend rank for this trace.","Items and groups with smaller ranks are presented on top/left side while","with *reversed* `legend.traceorder` they are on bottom/right side.","The default legendrank is 1000,","so that you can use ranks less than 1000 to place certain items before all unranked items,","and ranks greater than 1000 to go after all unranked items.","When having unranked or equal rank items shapes would be displayed after traces","i.e. according to their order in data and layout."].join(" ")},legendwidth:{valType:"number",min:0,editType:"style",description:"Sets the width (in px or fraction) of the legend for this trace."},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style",description:"Sets the opacity of the trace."},name:{valType:"string",editType:"style",description:["Sets the trace name.","The trace name appears as the legend item and on hover."].join(" ")},uid:{valType:"string",editType:"plot",anim:!0,description:["Assign an id to this trace,","Use this to provide object constancy between traces during animations","and transitions."].join(" ")},ids:{valType:"data_array",editType:"calc",anim:!0,description:["Assigns id labels to each datum.","These ids for object constancy of data points during animation.","Should be an array of strings, not numbers or any other type."].join(" ")},customdata:{valType:"data_array",editType:"calc",description:["Assigns extra data each datum.","This may be useful when listening to hover, click and selection events.","Note that, *scatter* traces also appends customdata items in the markers","DOM elements"].join(" ")},meta:{valType:"any",arrayOk:!0,editType:"plot",description:["Assigns extra meta information associated with this trace","that can be used in various text attributes.","Attributes such as trace `name`, graph, axis and colorbar `title.text`, annotation `text`","`rangeselector`, `updatemenues` and `sliders` `label` text","all support `meta`.","To access the trace `meta` values in an attribute in the same trace, simply use","`%{meta[i]}` where `i` is the index or key of the `meta`","item in question.","To access trace `meta` in layout attributes, use","`%{data[n[.meta[i]}` where `i` is the index or key of the `meta`","and `n` is the trace index."].join(" ")},selectedpoints:{valType:"any",editType:"calc",description:["Array containing integer indices of selected points.","Has an effect only for traces that support selections.","Note that an empty array means an empty selection where the `unselected`","are turned on for all points, whereas, any other non-array values means no","selection all where the `selected` and `unselected` styles have no effect."].join(" ")},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none",description:["Determines which trace information appear on hover.","If `none` or `skip` are set, no information is displayed upon hovering.","But, if `none` is set, click and hover events are still fired."].join(" ")},hoverlabel:N8e.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc",description:["The stream id number links a data trace on a plot with a stream.","See https://chart-studio.plotly.com/settings for more details."].join(" ")},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc",description:["Sets the maximum number of points to keep on the plots from an","incoming stream.","If `maxpoints` is set to *50*, only the newest 50 points will","be displayed on the plot."].join(" ")},editType:"calc"},uirevision:{valType:"any",editType:"none",description:["Controls persistence of some user-driven changes to the trace:","`constraintrange` in `parcoords` traces, as well as some","`editable: true` modifications such as `name` and `colorbar.title`.","Defaults to `layout.uirevision`.","Note that other user-driven trace attribute changes are controlled","by `layout` attributes:","`trace.visible` is controlled by `layout.legend.uirevision`,","`selectedpoints` is controlled by `layout.selectionrevision`,","and `colorbar.(x|y)` (accessible with `config: {editable: true}`)","is controlled by `layout.editrevision`.","Trace changes are tracked by `uid`, which only falls back on trace","index if no `uid` is provided. So if your app can add/remove traces","before the end of the `data` array, such that the same trace has a","different index, you can still preserve user-driven changes if you","give each trace a `uid` that stays with it as it moves."].join(" ")}}});var dv=J((qgt,Ine)=>{"use strict";var L8e=Vs(),UA={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},Mne=UA.RdBu;function O8e(t,e){if(e||(e=Mne),!t)return e;function r(){try{t=UA[t]||JSON.parse(t)}catch(n){t=e}}return typeof t=="string"&&(r(),typeof t=="string"&&r()),Rne(t)?t:e}function Rne(t){var e=0;if(!Array.isArray(t)||t.length<2||!t[0]||!t[t.length-1]||+t[0][0]!=0||+t[t.length-1][0]!=1)return!1;for(var r=0;r<t.length;r++){var n=t[r];if(n.length!==2||+n[0]<e||!L8e(n[1]).isValid())return!1;e=+n[0]}return!0}function P8e(t){return UA[t]!==void 0?!0:Rne(t)}Ine.exports={scales:UA,defaultScale:Mne,get:O8e,isValid:P8e}});var Pu=J(fv=>{"use strict";fv.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];fv.defaultLine="#444";fv.lightLine="#eee";fv.background="#fff";fv.borderLine="#BEC8D9";fv.lightFraction=100*10/11});var gr=J((Bgt,Nne)=>{"use strict";var fs=Vs(),z8e=_r(),F8e=js().isTypedArray,na=Nne.exports={},BA=Pu();na.defaults=BA.defaults;var H8e=na.defaultLine=BA.defaultLine;na.lightLine=BA.lightLine;var g8=na.background=BA.background;na.tinyRGB=function(t){var e=t.toRgb();return"rgb("+Math.round(e.r)+", "+Math.round(e.g)+", "+Math.round(e.b)+")"};na.rgb=function(t){return na.tinyRGB(fs(t))};na.opacity=function(t){return t?fs(t).getAlpha():0};na.addOpacity=function(t,e){var r=fs(t).toRgb();return"rgba("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+", "+e+")"};na.combine=function(t,e){var r=fs(t).toRgb();if(r.a===1)return fs(t).toRgbString();var n=fs(e||g8).toRgb(),i=n.a===1?n:{r:255*(1-n.a)+n.r*n.a,g:255*(1-n.a)+n.g*n.a,b:255*(1-n.a)+n.b*n.a},a={r:i.r*(1-r.a)+r.r*r.a,g:i.g*(1-r.a)+r.g*r.a,b:i.b*(1-r.a)+r.b*r.a};return fs(a).toRgbString()};na.interpolate=function(t,e,r){var n=fs(t).toRgb(),i=fs(e).toRgb(),a={r:r*n.r+(1-r)*i.r,g:r*n.g+(1-r)*i.g,b:r*n.b+(1-r)*i.b};return fs(a).toRgbString()};na.contrast=function(t,e,r){var n=fs(t);n.getAlpha()!==1&&(n=fs(na.combine(t,g8)));var i=n.isDark()?e?n.lighten(e):g8:r?n.darken(r):H8e;return i.toString()};na.stroke=function(t,e){var r=fs(e);t.style({stroke:na.tinyRGB(r),"stroke-opacity":r.getAlpha()})};na.fill=function(t,e){var r=fs(e);t.style({fill:na.tinyRGB(r),"fill-opacity":r.getAlpha()})};na.clean=function(t){if(!(!t||typeof t!="object")){var e=Object.keys(t),r,n,i,a;for(r=0;r<e.length;r++)if(i=e[r],a=t[i],i.substr(i.length-5)==="color")if(Array.isArray(a))for(n=0;n<a.length;n++)a[n]=v8(a[n]);else t[i]=v8(a);else if(i.substr(i.length-10)==="colorscale"&&Array.isArray(a))for(n=0;n<a.length;n++)Array.isArray(a[n])&&(a[n][1]=v8(a[n][1]));else if(Array.isArray(a)){var o=a[0];if(!Array.isArray(o)&&o&&typeof o=="object")for(n=0;n<a.length;n++)na.clean(a[n])}else a&&typeof a=="object"&&!F8e(a)&&na.clean(a)}};function v8(t){if(z8e(t)||typeof t!="string")return t;var e=t.trim();if(e.substr(0,3)!=="rgb")return t;var r=e.match(/^rgba?\s*\(([^()]*)\)$/);if(!r)return t;var n=r[1].trim().split(/\s*[\s,]\s*/),i=e.charAt(3)==="a"&&n.length===4;if(!i&&n.length!==3)return t;for(var a=0;a<n.length;a++){if(!n[a].length||(n[a]=Number(n[a]),!(n[a]>=0)))return t;if(a===3)n[a]>1&&(n[a]=1);else if(n[a]>=1)return t}var o=Math.round(n[0]*255)+", "+Math.round(n[1]*255)+", "+Math.round(n[2]*255);return i?"rgba("+o+", "+n[3]+")":"rgb("+o+")"}});var jA=J((jgt,Lne)=>{"use strict";Lne.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}});var V0=J(One=>{"use strict";One.counter=function(t,e,r,n){var i=(e||"")+(r?"":"$"),a=n===!1?"":"^";return t==="xy"?new RegExp(a+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+i):new RegExp(a+t+"([2-9]|[1-9][0-9]+)?"+i)}});var qne=J(hs=>{"use strict";var y8=_r(),Pne=Vs(),zne=Ti().extendFlat,q8e=Ws(),Fne=dv(),U8e=gr(),B8e=jA().DESELECTDIM,W0=OA(),Hne=V0().counter,j8e=B0().modHalf,zu=js().isArrayOrTypedArray,Qh=js().isTypedArraySpec,Jh=js().decodeTypedArraySpec;hs.valObjectMeta={data_array:{description:["An {array} of data.","The value must represent an {array} or it will be ignored,","but this array can be provided in several forms:","(1) a regular {array} object","(2) a typed array (e.g. Float32Array)","(3) an object with keys dtype, bdata, and optionally shape.","In this 3rd form, dtype is one of","*f8*, *f4*.","*i4*, *u4*,","*i2*, *u2*,","*i1*, *u1* or *u1c* for Uint8ClampedArray.","In addition to shorthand `dtype` above one could also use the following forms:","*float64*, *float32*,","*int32*, *uint32*,","*int16*, *uint16*,","*int8*, *uint8* or *uint8c* for Uint8ClampedArray.","`bdata` is either a base64-encoded string or the ArrayBuffer of","an integer or float typed array.","For either multi-dimensional arrays you must also","provide its dimensions separated by comma via `shape`.","For example using `dtype`: *f4* and `shape`: *5,100* you can","declare a 2-D array that has 5 rows and 100 columns","containing float32 values i.e. 4 bits per value.","`shape` is optional for one dimensional arrays."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(t,e,r){e.set(zu(t)?t:Qh(t)?Jh(t):r)}},enumerated:{description:["Enumerated value type. The available values are listed","in `values`."].join(" "),requiredOpts:["values"],otherOpts:["dflt","coerceNumber","arrayOk"],coerceFunction:function(t,e,r,n){n.coerceNumber&&(t=+t),n.values.indexOf(t)===-1?e.set(r):e.set(t)},validateFunction:function(t,e){e.coerceNumber&&(t=+t);for(var r=e.values,n=0;n<r.length;n++){var i=String(r[n]);if(i.charAt(0)==="/"&&i.charAt(i.length-1)==="/"){var a=new RegExp(i.substr(1,i.length-2));if(a.test(t))return!0}else if(t===r[n])return!0}return!1}},boolean:{description:"A boolean (true/false) value.",requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(t,e,r){t===!0||t===!1?e.set(t):e.set(r)}},number:{description:["A number or a numeric value","(e.g. a number inside a string).","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max","arrayOk"],coerceFunction:function(t,e,r,n){Qh(t)&&(t=Jh(t)),!y8(t)||n.min!==void 0&&t<n.min||n.max!==void 0&&t>n.max?e.set(r):e.set(+t)}},integer:{description:["An integer or an integer inside a string.","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max","arrayOk","extras"],coerceFunction:function(t,e,r,n){if((n.extras||[]).indexOf(t)!==-1){e.set(t);return}Qh(t)&&(t=Jh(t)),t%1||!y8(t)||n.min!==void 0&&t<n.min||n.max!==void 0&&t>n.max?e.set(r):e.set(+t)}},string:{description:["A string value.","Numbers are converted to strings except for attributes with","`strict` set to true."].join(" "),requiredOpts:[],otherOpts:["dflt","noBlank","strict","arrayOk","values"],coerceFunction:function(t,e,r,n){if(typeof t!="string"){var i=typeof t=="number";n.strict===!0||!i?e.set(r):e.set(String(t))}else n.noBlank&&!t?e.set(r):e.set(t)}},color:{description:["A string describing color.","Supported formats:","- hex (e.g. '#d3d3d3')","- rgb (e.g. 'rgb(255, 0, 0)')","- rgba (e.g. 'rgb(255, 0, 0, 0.5)')","- hsl (e.g. 'hsl(0, 100%, 50%)')","- hsv (e.g. 'hsv(0, 100%, 100%)')","- named colors (full list: http://www.w3.org/TR/css3-color/#svg-color)"].join(" "),requiredOpts:[],otherOpts:["dflt","arrayOk"],coerceFunction:function(t,e,r){Qh(t)&&(t=Jh(t)),Pne(t).isValid()?e.set(t):e.set(r)}},colorlist:{description:["A list of colors.","Must be an {array} containing valid colors."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(t,e,r){function n(i){return Pne(i).isValid()}!Array.isArray(t)||!t.length?e.set(r):t.every(n)?e.set(t):e.set(r)}},colorscale:{description:["A Plotly colorscale either picked by a name:","(any of",Object.keys(Fne.scales).join(", "),")","customized as an {array} of 2-element {arrays} where","the first element is the normalized color level value","(starting at *0* and ending at *1*),","and the second item is a valid color string."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(t,e,r){e.set(Fne.get(t,r))}},angle:{description:["A number (in degree) between -180 and 180."].join(" "),requiredOpts:[],otherOpts:["dflt","arrayOk"],coerceFunction:function(t,e,r){Qh(t)&&(t=Jh(t)),t==="auto"?e.set("auto"):y8(t)?e.set(j8e(+t,360)):e.set(r)}},subplotid:{description:["An id string of a subplot type (given by dflt), optionally","followed by an integer >1. e.g. if dflt='geo', we can have","'geo', 'geo2', 'geo3', ..."].join(" "),requiredOpts:["dflt"],otherOpts:["regex"],coerceFunction:function(t,e,r,n){var i=n.regex||Hne(r);if(typeof t=="string"&&i.test(t)){e.set(t);return}e.set(r)},validateFunction:function(t,e){var r=e.dflt;return t===r?!0:typeof t!="string"?!1:!!Hne(r).test(t)}},flaglist:{description:["A string representing a combination of flags","(order does not matter here).","Combine any of the available `flags` with *+*.","(e.g. ('lines+markers')).","Values in `extras` cannot be combined."].join(" "),requiredOpts:["flags"],otherOpts:["dflt","extras","arrayOk"],coerceFunction:function(t,e,r,n){if((n.extras||[]).indexOf(t)!==-1){e.set(t);return}if(typeof t!="string"){e.set(r);return}for(var i=t.split("+"),a=0;a<i.length;){var o=i[a];n.flags.indexOf(o)===-1||i.indexOf(o)<a?i.splice(a,1):a++}i.length?e.set(i.join("+")):e.set(r)}},any:{description:"Any type.",requiredOpts:[],otherOpts:["dflt","values","arrayOk"],coerceFunction:function(t,e,r){t===void 0?e.set(r):e.set(Qh(t)?Jh(t):t)}},info_array:{description:["An {array} of plot information."].join(" "),requiredOpts:["items"],otherOpts:["dflt","freeLength","dimensions"],coerceFunction:function(t,e,r,n){function i(b,x,w){var S,_={set:function(C){S=C}};return w===void 0&&(w=x.dflt),hs.valObjectMeta[x.valType].coerceFunction(b,_,w,x),S}if(Qh(t)&&(t=Jh(t)),!zu(t)){e.set(r);return}var a=n.dimensions===2||n.dimensions==="1-2"&&Array.isArray(t)&&zu(t[0]),o=n.items,s=[],l=Array.isArray(o),c=l&&a&&zu(o[0]),u=a&&l&&!c,d=l&&!u?o.length:t.length,f,h,p,m,v,y;if(r=Array.isArray(r)?r:[],a)for(f=0;f<d;f++)for(s[f]=[],p=zu(t[f])?t[f]:[],u?v=o.length:l?v=o[f].length:v=p.length,h=0;h<v;h++)u?m=o[h]:l?m=o[f][h]:m=o,y=i(p[h],m,(r[f]||[])[h]),y!==void 0&&(s[f][h]=y);else for(f=0;f<d;f++)y=i(t[f],l?o[f]:o,r[f]),y!==void 0&&(s[f]=y);e.set(s)},validateFunction:function(t,e){if(!zu(t))return!1;var r=e.items,n=Array.isArray(r),i=e.dimensions===2;if(!e.freeLength&&t.length!==r.length)return!1;for(var a=0;a<t.length;a++)if(i){if(!zu(t[a])||!e.freeLength&&t[a].length!==r[a].length)return!1;for(var o=0;o<t[a].length;o++)if(!VA(t[a][o],n?r[a][o]:r))return!1}else if(!VA(t[a],n?r[a]:r))return!1;return!0}}};hs.coerce=function(t,e,r,n,i){var a=W0(r,n).get(),o=W0(t,n),s=W0(e,n),l=o.get(),c=e._template;if(l===void 0&&c&&(l=W0(c,n).get(),c=0),i===void 0&&(i=a.dflt),a.arrayOk){if(zu(l))return s.set(l),l;if(Qh(l))return l=Jh(l),s.set(l),l}var u=hs.valObjectMeta[a.valType].coerceFunction;u(l,s,i,a);var d=s.get();return c&&d===i&&!VA(l,a)&&(l=W0(c,n).get(),u(l,s,i,a),d=s.get()),d};hs.coerce2=function(t,e,r,n,i){var a=W0(t,n),o=hs.coerce(t,e,r,n,i),s=a.get();return s!=null?o:!1};hs.coerceFont=function(t,e,r,n){n||(n={}),r=zne({},r),r=zne(r,n.overrideDflt||{});var i={family:t(e+".family",r.family),size:t(e+".size",r.size),color:t(e+".color",r.color),weight:t(e+".weight",r.weight),style:t(e+".style",r.style)};if(n.noFontVariant||(i.variant=t(e+".variant",r.variant)),n.noFontLineposition||(i.lineposition=t(e+".lineposition",r.lineposition)),n.noFontTextcase||(i.textcase=t(e+".textcase",r.textcase)),!n.noFontShadow){var a=r.shadow;a==="none"&&n.autoShadowDflt&&(a="auto"),i.shadow=t(e+".shadow",a)}return i};hs.coercePattern=function(t,e,r,n){var i=t(e+".shape");if(i){t(e+".solidity"),t(e+".size");var a=t(e+".fillmode"),o=a==="overlay";if(!n){var s=t(e+".bgcolor",o?r:void 0);t(e+".fgcolor",o?U8e.contrast(s):r)}t(e+".fgopacity",o?.5:1)}};hs.coerceHoverinfo=function(t,e,r){var n=e._module.attributes,i=n.hoverinfo?n:q8e,a=i.hoverinfo,o;if(r._dataLength===1){var s=a.dflt==="all"?a.flags.slice():a.dflt.split("+");s.splice(s.indexOf("name"),1),o=s.join("+")}return hs.coerce(t,e,i,"hoverinfo",o)};hs.coerceSelectionMarkerOpacity=function(t,e){if(t.marker){var r=t.marker.opacity;if(r!==void 0){var n,i;!zu(r)&&!t.selected&&!t.unselected&&(n=r,i=B8e*r),e("selected.marker.opacity",n),e("unselected.marker.opacity",i)}}};function VA(t,e){var r=hs.valObjectMeta[e.valType];if(e.arrayOk&&zu(t))return!0;if(r.validateFunction)return r.validateFunction(t,e);var n={},i=n,a={set:function(o){i=o}};return r.coerceFunction(t,a,n,e),i!==n}hs.validate=VA});var hv=J((Ggt,Vne)=>{"use strict";var Une={staticPlot:{valType:"boolean",dflt:!1,description:["Determines whether the graphs are interactive or not.","If *false*, no interactivity, for export or image generation."].join(" ")},typesetMath:{valType:"boolean",dflt:!0,description:["Determines whether math should be typeset or not,","when MathJax (either v2 or v3) is present on the page."].join(" ")},plotlyServerURL:{valType:"string",dflt:"",description:["When set it determines base URL for","the 'Edit in Chart Studio' `showEditInChartStudio`/`showSendToCloud` mode bar button","and the showLink/sendData on-graph link.","To enable sending your data to Chart Studio Cloud, you need to","set both `plotlyServerURL` to 'https://chart-studio.plotly.com' and","also set `showSendToCloud` to true."].join(" ")},editable:{valType:"boolean",dflt:!1,description:["Determines whether the graph is editable or not.","Sets all pieces of `edits`","unless a separate `edits` config item overrides individual parts."].join(" ")},edits:{annotationPosition:{valType:"boolean",dflt:!1,description:["Determines if the main anchor of the annotation is editable.","The main anchor corresponds to the","text (if no arrow) or the arrow (which drags the whole thing leaving","the arrow length & direction unchanged)."].join(" ")},annotationTail:{valType:"boolean",dflt:!1,description:["Has only an effect for annotations with arrows.","Enables changing the length and direction of the arrow."].join(" ")},annotationText:{valType:"boolean",dflt:!1,description:"Enables editing annotation text."},axisTitleText:{valType:"boolean",dflt:!1,description:"Enables editing axis title text."},colorbarPosition:{valType:"boolean",dflt:!1,description:"Enables moving colorbars."},colorbarTitleText:{valType:"boolean",dflt:!1,description:"Enables editing colorbar title text."},legendPosition:{valType:"boolean",dflt:!1,description:"Enables moving the legend."},legendText:{valType:"boolean",dflt:!1,description:"Enables editing the trace name fields from the legend"},shapePosition:{valType:"boolean",dflt:!1,description:"Enables moving shapes."},titleText:{valType:"boolean",dflt:!1,description:"Enables editing the global layout title."}},editSelection:{valType:"boolean",dflt:!0,description:"Enables moving selections."},autosizable:{valType:"boolean",dflt:!1,description:["Determines whether the graphs are plotted with respect to","layout.autosize:true and infer its container size."].join(" ")},responsive:{valType:"boolean",dflt:!1,description:["Determines whether to change the layout size when window is resized.","In v3, this option will be removed and will always be true."].join(" ")},fillFrame:{valType:"boolean",dflt:!1,description:["When `layout.autosize` is turned on, determines whether the graph","fills the container (the default) or the screen (if set to *true*)."].join(" ")},frameMargins:{valType:"number",dflt:0,min:0,max:.5,description:["When `layout.autosize` is turned on, set the frame margins","in fraction of the graph size."].join(" ")},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox","map"],extras:[!0,!1],dflt:"gl3d+geo+map",description:["Determines whether mouse wheel or two-finger scroll zooms is enable.","Turned on by default for gl3d, geo, mapbox and map subplots","(as these subplot types do not have zoombox via pan),","but turned off by default for cartesian subplots.","Set `scrollZoom` to *false* to disable scrolling for all subplots."].join(" ")},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize",description:["Sets the double click interaction mode.","Has an effect only in cartesian plots.","If *false*, double click is disable.","If *reset*, double click resets the axis ranges to their initial values.","If *autosize*, double click set the axis ranges to their autorange values.","If *reset+autosize*, the odd double clicks resets the axis ranges","to their initial values and even double clicks set the axis ranges","to their autorange values."].join(" ")},doubleClickDelay:{valType:"number",dflt:300,min:0,description:["Sets the delay for registering a double-click in ms.","This is the time interval (in ms) between first mousedown and","2nd mouseup to constitute a double-click.","This setting propagates to all on-subplot double clicks","(except for geo, mapbox and map) and on-legend double clicks."].join(" ")},showAxisDragHandles:{valType:"boolean",dflt:!0,description:["Set to *false* to omit cartesian axis pan/zoom drag handles."].join(" ")},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0,description:["Set to *false* to omit direct range entry at the pan/zoom drag points,","note that `showAxisDragHandles` must be enabled to have an effect."].join(" ")},showTips:{valType:"boolean",dflt:!0,description:["Determines whether or not tips are shown while interacting","with the resulting graphs."].join(" ")},showLink:{valType:"boolean",dflt:!1,description:["Determines whether a link to Chart Studio Cloud is displayed","at the bottom right corner of resulting graphs.","Use with `sendData` and `linkText`."].join(" ")},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0,description:["Sets the text appearing in the `showLink` link."].join(" ")},sendData:{valType:"boolean",dflt:!0,description:["If *showLink* is true, does it contain data","just link to a Chart Studio Cloud file?"].join(" ")},showSources:{valType:"any",dflt:!1,description:["Adds a source-displaying function to show sources on","the resulting graphs."].join(" ")},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover",description:["Determines the mode bar display mode.","If *true*, the mode bar is always visible.","If *false*, the mode bar is always hidden.","If *hover*, the mode bar is visible while the mouse cursor","is on the graph container."].join(" ")},showSendToCloud:{valType:"boolean",dflt:!1,description:['Should we include a ModeBar button, labeled "Edit in Chart Studio",',"that sends this chart to chart-studio.plotly.com (formerly plot.ly) or another plotly server","as specified by `plotlyServerURL` for editing, export, etc? Prior to version 1.43.0","this button was included by default, now it is opt-in using this flag.","Note that this button can (depending on `plotlyServerURL` being set) send your data","to an external server. However that server does not persist your data",'until you arrive at the Chart Studio and explicitly click "Save".'].join(" ")},showEditInChartStudio:{valType:"boolean",dflt:!1,description:["Same as `showSendToCloud`, but use a pencil icon instead of a floppy-disk.","Note that if both `showSendToCloud` and `showEditInChartStudio` are turned,","only `showEditInChartStudio` will be honored."].join(" ")},modeBarButtonsToRemove:{valType:"any",dflt:[],description:["Remove mode bar buttons by name.","See ./components/modebar/buttons.js for the list of names."].join(" ")},modeBarButtonsToAdd:{valType:"any",dflt:[],description:["Add mode bar button using config objects","See ./components/modebar/buttons.js for list of arguments.","To enable predefined modebar buttons e.g. shape drawing, hover and spikelines,","simply provide their string name(s). This could include:","*v1hovermode*, *hoverclosest*, *hovercompare*, *togglehover*, *togglespikelines*,","*drawline*, *drawopenpath*, *drawclosedpath*, *drawcircle*, *drawrect* and *eraseshape*.","Please note that these predefined buttons will only be shown if they are compatible","with all trace types used in a graph."].join(" ")},modeBarButtons:{valType:"any",dflt:!1,description:["Define fully custom mode bar buttons as nested array,","where the outer arrays represents button groups, and","the inner arrays have buttons config objects or names of default buttons","See ./components/modebar/buttons.js for more info."].join(" ")},toImageButtonOptions:{valType:"any",dflt:{},description:["Statically override options for toImage modebar button","allowed keys are format, filename, width, height, scale","see ../components/modebar/buttons.js"].join(" ")},displaylogo:{valType:"boolean",dflt:!0,description:["Determines whether or not the plotly logo is displayed","on the end of the mode bar."].join(" ")},watermark:{valType:"boolean",dflt:!1,description:"watermark the images with the company's logo"},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4,description:["Set the pixel ratio during WebGL image export."].join(" ")},setBackground:{valType:"any",dflt:"transparent",description:["Set function to add the background color (i.e. `layout.paper_color`)","to a different container.","This function take the graph div as first argument and the current background","color as second argument.","Alternatively, set to string *opaque* to ensure there is white behind it."].join(" ")},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/",description:["Set the URL to topojson used in geo charts.","By default, the topojson files are fetched from cdn.plot.ly.","For example, set this option to:","<path-to-plotly.js>/dist/topojson/","to render geographical feature using the topojson files","that ship with the plotly.js module."].join(" ")},mapboxAccessToken:{valType:"string",dflt:null,description:["Mapbox access token (required to plot mapbox trace types)","If using an Mapbox Atlas server, set this option to ''","so that plotly.js won't attempt to authenticate to the public Mapbox server."].join(" ")},logging:{valType:"integer",min:0,max:2,dflt:1,description:["Turn all console logging on or off (errors will be thrown)","This should ONLY be set via Plotly.setPlotConfig","Available levels:","0: no logs","1: warnings and errors, but not informational messages","2: verbose logs"].join(" ")},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0,description:["Set on-graph logging (notifier) level","This should ONLY be set via Plotly.setPlotConfig","Available levels:","0: no on-graph logs","1: warnings and errors, but not informational messages","2: verbose logs"].join(" ")},queueLength:{valType:"integer",min:0,dflt:0,description:"Sets the length of the undo/redo queue."},locale:{valType:"string",dflt:"en-US",description:["Which localization should we use?","Should be a string like 'en' or 'en-US'."].join(" ")},locales:{valType:"any",dflt:{},description:["Localization definitions","Locales can be provided either here (specific to one chart) or globally","by registering them as modules.","Should be an object of objects {locale: {dictionary: {...}, format: {...}}}","{","  da: {","      dictionary: {'Reset axes': 'Nulstil aksler', ...},","      format: {months: [...], shortMonths: [...]}","  },","  ...","}","All parts are optional. When looking for translation or format fields, we","look first for an exact match in a config locale, then in a registered","module. If those fail, we strip off any regionalization ('en-US' -> 'en')","and try each (config, registry) again. The final fallback for translation","is untranslated (which is US English) and for formats is the base English","(the only consequence being the last fallback date format %x is DD/MM/YYYY","instead of MM/DD/YYYY). Currently `grouping` and `currency` are ignored","for our automatic number formatting, but can be used in custom formats."].join(" ")}},Bne={};function jne(t,e){for(var r in t){var n=t[r];n.valType?e[r]=n.dflt:(e[r]||(e[r]={}),jne(n,e[r]))}}jne(Une,Bne);Vne.exports={configAttributes:Une,dfltConfig:Bne}});var w8=J((Ygt,Wne)=>{"use strict";var b8=Sr(),V8e=_r(),mS=[];Wne.exports=function(t,e){if(mS.indexOf(t)!==-1)return;mS.push(t);var r=1e3;V8e(e)?r=e:e==="long"&&(r=3e3);var n=b8.select("body").selectAll(".plotly-notifier").data([0]);n.enter().append("div").classed("plotly-notifier",!0);var i=n.selectAll(".notifier-note").data(mS);function a(o){o.duration(700).style("opacity",0).each("end",function(s){var l=mS.indexOf(s);l!==-1&&mS.splice(l,1),b8.select(this).remove()})}i.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(o){var s=b8.select(this);s.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){s.transition().call(a)});for(var l=s.append("p"),c=o.split(/<br\s*\/?>/g),u=0;u<c.length;u++)u&&l.append("br"),l.append("span").text(c[u]);e==="stick"?s.transition().duration(350).style("opacity",1):s.transition().duration(700).style("opacity",1).transition().delay(r).call(a)})}});var pv=J((Zgt,Gne)=>{"use strict";var G0=hv().dfltConfig,x8=w8(),T8=Gne.exports={};T8.log=function(){var t;if(G0.logging>1){var e=["LOG:"];for(t=0;t<arguments.length;t++)e.push(arguments[t]);console.trace.apply(console,e)}if(G0.notifyOnLogging>1){var r=[];for(t=0;t<arguments.length;t++)r.push(arguments[t]);x8(r.join("<br>"),"long")}};T8.warn=function(){var t;if(G0.logging>0){var e=["WARN:"];for(t=0;t<arguments.length;t++)e.push(arguments[t]);console.trace.apply(console,e)}if(G0.notifyOnLogging>0){var r=[];for(t=0;t<arguments.length;t++)r.push(arguments[t]);x8(r.join("<br>"),"stick")}};T8.error=function(){var t;if(G0.logging>0){var e=["ERROR:"];for(t=0;t<arguments.length;t++)e.push(arguments[t]);console.error.apply(console,e)}if(G0.notifyOnLogging>0){var r=[];for(t=0;t<arguments.length;t++)r.push(arguments[t]);x8(r.join("<br>"),"stick")}}});var WA=J(($gt,Yne)=>{"use strict";Yne.exports=function(){}});var S8=J((Xgt,Zne)=>{"use strict";Zne.exports=function(e,r){if(r instanceof RegExp){for(var n=r.toString(),i=0;i<e.length;i++)if(e[i]instanceof RegExp&&e[i].toString()===n)return e;e.push(r)}else(r||r===0)&&e.indexOf(r)===-1&&e.push(r);return e}});var Xne=J((Kgt,$ne)=>{$ne.exports=W8e;function W8e(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}});var Qne=J((Qgt,Kne)=>{Kne.exports=G8e;function G8e(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}});var eie=J((Jgt,Jne)=>{Jne.exports=Y8e;function Y8e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}});var _8=J((eyt,tie)=>{tie.exports=Z8e;function Z8e(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}});var nie=J((tyt,rie)=>{rie.exports=$8e;function $8e(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}});var aie=J((ryt,iie)=>{iie.exports=X8e;function X8e(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],p=e[12],m=e[13],v=e[14],y=e[15],b=r*s-n*o,x=r*l-i*o,w=r*c-a*o,S=n*l-i*s,_=n*c-a*s,C=i*c-a*l,E=u*m-d*p,M=u*v-f*p,I=u*y-h*p,L=d*v-f*m,O=d*y-h*m,H=f*y-h*v,Y=b*H-x*O+w*L+S*I-_*M+C*E;return Y?(Y=1/Y,t[0]=(s*H-l*O+c*L)*Y,t[1]=(i*O-n*H-a*L)*Y,t[2]=(m*C-v*_+y*S)*Y,t[3]=(f*_-d*C-h*S)*Y,t[4]=(l*I-o*H-c*M)*Y,t[5]=(r*H-i*I+a*M)*Y,t[6]=(v*w-p*C-y*x)*Y,t[7]=(u*C-f*w+h*x)*Y,t[8]=(o*O-s*I+c*E)*Y,t[9]=(n*I-r*O-a*E)*Y,t[10]=(p*_-m*w+y*b)*Y,t[11]=(d*w-u*_-h*b)*Y,t[12]=(s*M-o*L-l*E)*Y,t[13]=(r*L-n*M+i*E)*Y,t[14]=(m*x-p*S-v*b)*Y,t[15]=(u*S-d*x+f*b)*Y,t):null}});var sie=J((nyt,oie)=>{oie.exports=K8e;function K8e(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],p=e[12],m=e[13],v=e[14],y=e[15];return t[0]=s*(f*y-h*v)-d*(l*y-c*v)+m*(l*h-c*f),t[1]=-(n*(f*y-h*v)-d*(i*y-a*v)+m*(i*h-a*f)),t[2]=n*(l*y-c*v)-s*(i*y-a*v)+m*(i*c-a*l),t[3]=-(n*(l*h-c*f)-s*(i*h-a*f)+d*(i*c-a*l)),t[4]=-(o*(f*y-h*v)-u*(l*y-c*v)+p*(l*h-c*f)),t[5]=r*(f*y-h*v)-u*(i*y-a*v)+p*(i*h-a*f),t[6]=-(r*(l*y-c*v)-o*(i*y-a*v)+p*(i*c-a*l)),t[7]=r*(l*h-c*f)-o*(i*h-a*f)+u*(i*c-a*l),t[8]=o*(d*y-h*m)-u*(s*y-c*m)+p*(s*h-c*d),t[9]=-(r*(d*y-h*m)-u*(n*y-a*m)+p*(n*h-a*d)),t[10]=r*(s*y-c*m)-o*(n*y-a*m)+p*(n*c-a*s),t[11]=-(r*(s*h-c*d)-o*(n*h-a*d)+u*(n*c-a*s)),t[12]=-(o*(d*v-f*m)-u*(s*v-l*m)+p*(s*f-l*d)),t[13]=r*(d*v-f*m)-u*(n*v-i*m)+p*(n*f-i*d),t[14]=-(r*(s*v-l*m)-o*(n*v-i*m)+p*(n*l-i*s)),t[15]=r*(s*f-l*d)-o*(n*f-i*d)+u*(n*l-i*s),t}});var cie=J((iyt,lie)=>{lie.exports=Q8e;function Q8e(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],o=t[5],s=t[6],l=t[7],c=t[8],u=t[9],d=t[10],f=t[11],h=t[12],p=t[13],m=t[14],v=t[15],y=e*o-r*a,b=e*s-n*a,x=e*l-i*a,w=r*s-n*o,S=r*l-i*o,_=n*l-i*s,C=c*p-u*h,E=c*m-d*h,M=c*v-f*h,I=u*m-d*p,L=u*v-f*p,O=d*v-f*m;return y*O-b*L+x*I+w*M-S*E+_*C}});var die=J((ayt,uie)=>{uie.exports=J8e;function J8e(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],f=e[9],h=e[10],p=e[11],m=e[12],v=e[13],y=e[14],b=e[15],x=r[0],w=r[1],S=r[2],_=r[3];return t[0]=x*n+w*s+S*d+_*m,t[1]=x*i+w*l+S*f+_*v,t[2]=x*a+w*c+S*h+_*y,t[3]=x*o+w*u+S*p+_*b,x=r[4],w=r[5],S=r[6],_=r[7],t[4]=x*n+w*s+S*d+_*m,t[5]=x*i+w*l+S*f+_*v,t[6]=x*a+w*c+S*h+_*y,t[7]=x*o+w*u+S*p+_*b,x=r[8],w=r[9],S=r[10],_=r[11],t[8]=x*n+w*s+S*d+_*m,t[9]=x*i+w*l+S*f+_*v,t[10]=x*a+w*c+S*h+_*y,t[11]=x*o+w*u+S*p+_*b,x=r[12],w=r[13],S=r[14],_=r[15],t[12]=x*n+w*s+S*d+_*m,t[13]=x*i+w*l+S*f+_*v,t[14]=x*a+w*c+S*h+_*y,t[15]=x*o+w*u+S*p+_*b,t}});var hie=J((oyt,fie)=>{fie.exports=e7e;function e7e(t,e,r){var n=r[0],i=r[1],a=r[2],o,s,l,c,u,d,f,h,p,m,v,y;return e===t?(t[12]=e[0]*n+e[4]*i+e[8]*a+e[12],t[13]=e[1]*n+e[5]*i+e[9]*a+e[13],t[14]=e[2]*n+e[6]*i+e[10]*a+e[14],t[15]=e[3]*n+e[7]*i+e[11]*a+e[15]):(o=e[0],s=e[1],l=e[2],c=e[3],u=e[4],d=e[5],f=e[6],h=e[7],p=e[8],m=e[9],v=e[10],y=e[11],t[0]=o,t[1]=s,t[2]=l,t[3]=c,t[4]=u,t[5]=d,t[6]=f,t[7]=h,t[8]=p,t[9]=m,t[10]=v,t[11]=y,t[12]=o*n+u*i+p*a+e[12],t[13]=s*n+d*i+m*a+e[13],t[14]=l*n+f*i+v*a+e[14],t[15]=c*n+h*i+y*a+e[15]),t}});var mie=J((syt,pie)=>{pie.exports=t7e;function t7e(t,e,r){var n=r[0],i=r[1],a=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}});var gie=J((lyt,vie)=>{vie.exports=r7e;function r7e(t,e,r,n){var i=n[0],a=n[1],o=n[2],s=Math.sqrt(i*i+a*a+o*o),l,c,u,d,f,h,p,m,v,y,b,x,w,S,_,C,E,M,I,L,O,H,Y,K;return Math.abs(s)<1e-6?null:(s=1/s,i*=s,a*=s,o*=s,l=Math.sin(r),c=Math.cos(r),u=1-c,d=e[0],f=e[1],h=e[2],p=e[3],m=e[4],v=e[5],y=e[6],b=e[7],x=e[8],w=e[9],S=e[10],_=e[11],C=i*i*u+c,E=a*i*u+o*l,M=o*i*u-a*l,I=i*a*u-o*l,L=a*a*u+c,O=o*a*u+i*l,H=i*o*u+a*l,Y=a*o*u-i*l,K=o*o*u+c,t[0]=d*C+m*E+x*M,t[1]=f*C+v*E+w*M,t[2]=h*C+y*E+S*M,t[3]=p*C+b*E+_*M,t[4]=d*I+m*L+x*O,t[5]=f*I+v*L+w*O,t[6]=h*I+y*L+S*O,t[7]=p*I+b*L+_*O,t[8]=d*H+m*Y+x*K,t[9]=f*H+v*Y+w*K,t[10]=h*H+y*Y+S*K,t[11]=p*H+b*Y+_*K,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}});var bie=J((cyt,yie)=>{yie.exports=n7e;function n7e(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+c*n,t[5]=o*i+u*n,t[6]=s*i+d*n,t[7]=l*i+f*n,t[8]=c*i-a*n,t[9]=u*i-o*n,t[10]=d*i-s*n,t[11]=f*i-l*n,t}});var xie=J((uyt,wie)=>{wie.exports=i7e;function i7e(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],o=e[1],s=e[2],l=e[3],c=e[8],u=e[9],d=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-c*n,t[1]=o*i-u*n,t[2]=s*i-d*n,t[3]=l*i-f*n,t[8]=a*n+c*i,t[9]=o*n+u*i,t[10]=s*n+d*i,t[11]=l*n+f*i,t}});var Sie=J((dyt,Tie)=>{Tie.exports=a7e;function a7e(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],o=e[1],s=e[2],l=e[3],c=e[4],u=e[5],d=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+c*n,t[1]=o*i+u*n,t[2]=s*i+d*n,t[3]=l*i+f*n,t[4]=c*i-a*n,t[5]=u*i-o*n,t[6]=d*i-s*n,t[7]=f*i-l*n,t}});var Cie=J((fyt,_ie)=>{_ie.exports=o7e;function o7e(t,e,r){var n,i,a,o=r[0],s=r[1],l=r[2],c=Math.sqrt(o*o+s*s+l*l);return Math.abs(c)<1e-6?null:(c=1/c,o*=c,s*=c,l*=c,n=Math.sin(e),i=Math.cos(e),a=1-i,t[0]=o*o*a+i,t[1]=s*o*a+l*n,t[2]=l*o*a-s*n,t[3]=0,t[4]=o*s*a-l*n,t[5]=s*s*a+i,t[6]=l*s*a+o*n,t[7]=0,t[8]=o*l*a+s*n,t[9]=s*l*a-o*n,t[10]=l*l*a+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}});var Eie=J((hyt,kie)=>{kie.exports=s7e;function s7e(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=n+n,l=i+i,c=a+a,u=n*s,d=n*l,f=n*c,h=i*l,p=i*c,m=a*c,v=o*s,y=o*l,b=o*c;return t[0]=1-(h+m),t[1]=d+b,t[2]=f-y,t[3]=0,t[4]=d-b,t[5]=1-(u+m),t[6]=p+v,t[7]=0,t[8]=f+y,t[9]=p-v,t[10]=1-(u+h),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}});var Aie=J((pyt,Die)=>{Die.exports=l7e;function l7e(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}});var Rie=J((myt,Mie)=>{Mie.exports=c7e;function c7e(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}});var Nie=J((vyt,Iie)=>{Iie.exports=u7e;function u7e(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}});var Oie=J((gyt,Lie)=>{Lie.exports=d7e;function d7e(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}});var zie=J((yyt,Pie)=>{Pie.exports=f7e;function f7e(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}});var C8=J((byt,Fie)=>{Fie.exports=h7e;function h7e(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r+r,s=n+n,l=i+i,c=r*o,u=n*o,d=n*s,f=i*o,h=i*s,p=i*l,m=a*o,v=a*s,y=a*l;return t[0]=1-d-p,t[1]=u+y,t[2]=f-v,t[3]=0,t[4]=u-y,t[5]=1-c-p,t[6]=h+m,t[7]=0,t[8]=f+v,t[9]=h-m,t[10]=1-c-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}});var qie=J((wyt,Hie)=>{Hie.exports=p7e;function p7e(t,e,r,n,i,a,o){var s=1/(r-e),l=1/(i-n),c=1/(a-o);return t[0]=a*2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a*2*l,t[6]=0,t[7]=0,t[8]=(r+e)*s,t[9]=(i+n)*l,t[10]=(o+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*c,t[15]=0,t}});var Bie=J((xyt,Uie)=>{Uie.exports=m7e;function m7e(t,e,r,n,i){var a=1/Math.tan(e/2),o=1/(n-i);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+n)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*n*o,t[15]=0,t}});var Vie=J((Tyt,jie)=>{jie.exports=v7e;function v7e(t,e,r,n){var i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(o+s),c=2/(i+a);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-((o-s)*l*.5),t[9]=(i-a)*c*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}});var Gie=J((Syt,Wie)=>{Wie.exports=g7e;function g7e(t,e,r,n,i,a,o){var s=1/(e-r),l=1/(n-i),c=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*s,t[13]=(i+n)*l,t[14]=(o+a)*c,t[15]=1,t}});var Zie=J((_yt,Yie)=>{var y7e=_8();Yie.exports=b7e;function b7e(t,e,r,n){var i,a,o,s,l,c,u,d,f,h,p=e[0],m=e[1],v=e[2],y=n[0],b=n[1],x=n[2],w=r[0],S=r[1],_=r[2];return Math.abs(p-w)<1e-6&&Math.abs(m-S)<1e-6&&Math.abs(v-_)<1e-6?y7e(t):(u=p-w,d=m-S,f=v-_,h=1/Math.sqrt(u*u+d*d+f*f),u*=h,d*=h,f*=h,i=b*f-x*d,a=x*u-y*f,o=y*d-b*u,h=Math.sqrt(i*i+a*a+o*o),h?(h=1/h,i*=h,a*=h,o*=h):(i=0,a=0,o=0),s=d*o-f*a,l=f*i-u*o,c=u*a-d*i,h=Math.sqrt(s*s+l*l+c*c),h?(h=1/h,s*=h,l*=h,c*=h):(s=0,l=0,c=0),t[0]=i,t[1]=s,t[2]=u,t[3]=0,t[4]=a,t[5]=l,t[6]=d,t[7]=0,t[8]=o,t[9]=c,t[10]=f,t[11]=0,t[12]=-(i*p+a*m+o*v),t[13]=-(s*p+l*m+c*v),t[14]=-(u*p+d*m+f*v),t[15]=1,t)}});var Xie=J((Cyt,$ie)=>{$ie.exports=w7e;function w7e(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}});var k8=J((kyt,Kie)=>{Kie.exports={create:Xne(),clone:Qne(),copy:eie(),identity:_8(),transpose:nie(),invert:aie(),adjoint:sie(),determinant:cie(),multiply:die(),translate:hie(),scale:mie(),rotate:gie(),rotateX:bie(),rotateY:xie(),rotateZ:Sie(),fromRotation:Cie(),fromRotationTranslation:Eie(),fromScaling:Aie(),fromTranslation:Rie(),fromXRotation:Nie(),fromYRotation:Oie(),fromZRotation:zie(),fromQuat:C8(),frustum:qie(),perspective:Bie(),perspectiveFromFieldOfView:Vie(),ortho:Gie(),lookAt:Zie(),str:Xie()}});var GA=J(Si=>{"use strict";var x7e=k8();Si.init2dArray=function(t,e){for(var r=new Array(t),n=0;n<t;n++)r[n]=new Array(e);return r};Si.transposeRagged=function(t){var e=0,r=t.length,n,i;for(n=0;n<r;n++)e=Math.max(e,t[n].length);var a=new Array(e);for(n=0;n<e;n++)for(a[n]=new Array(r),i=0;i<r;i++)a[n][i]=t[i][n];return a};Si.dot=function(t,e){if(!(t.length&&e.length)||t.length!==e.length)return null;var r=t.length,n,i;if(t[0].length)for(n=new Array(r),i=0;i<r;i++)n[i]=Si.dot(t[i],e);else if(e[0].length){var a=Si.transposeRagged(e);for(n=new Array(a.length),i=0;i<a.length;i++)n[i]=Si.dot(t,a[i])}else for(n=0,i=0;i<r;i++)n+=t[i]*e[i];return n};Si.translationMatrix=function(t,e){return[[1,0,t],[0,1,e],[0,0,1]]};Si.rotationMatrix=function(t){var e=t*Math.PI/180;return[[Math.cos(e),-Math.sin(e),0],[Math.sin(e),Math.cos(e),0],[0,0,1]]};Si.rotationXYMatrix=function(t,e,r){return Si.dot(Si.dot(Si.translationMatrix(e,r),Si.rotationMatrix(t)),Si.translationMatrix(-e,-r))};Si.apply3DTransform=function(t){return function(){var e=arguments,r=arguments.length===1?e[0]:[e[0],e[1],e[2]||0];return Si.dot(t,[r[0],r[1],r[2],1]).slice(0,3)}};Si.apply2DTransform=function(t){return function(){var e=arguments;e.length===3&&(e=e[0]);var r=arguments.length===1?e[0]:[e[0],e[1]];return Si.dot(t,[r[0],r[1],1]).slice(0,2)}};Si.apply2DTransform2=function(t){var e=Si.apply2DTransform(t);return function(r){return e(r.slice(0,2)).concat(e(r.slice(2,4)))}};Si.convertCssMatrix=function(t){if(t){var e=t.length;if(e===16)return t;if(e===6)return[t[0],t[1],0,0,t[2],t[3],0,0,0,0,1,0,t[4],t[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};Si.inverseTransformMatrix=function(t){var e=[];return x7e.invert(e,t),[[e[0],e[1],e[2],e[3]],[e[4],e[5],e[6],e[7]],[e[8],e[9],e[10],e[11]],[e[12],e[13],e[14],e[15]]]}});var vS=J((Dyt,nae)=>{"use strict";var T7e=Sr(),Qie=pv(),S7e=GA(),_7e=k8();function C7e(t){var e;if(typeof t=="string"){if(e=document.getElementById(t),e===null)throw new Error("No DOM element with id '"+t+"' exists on the page.");return e}else if(t==null)throw new Error("DOM element provided is null or undefined");return t}function k7e(t){var e=T7e.select(t);return e.node()instanceof HTMLElement&&e.size()&&e.classed("js-plotly-plot")}function Jie(t){var e=t&&t.parentNode;e&&e.removeChild(t)}function E7e(t,e){eae("global",t,e)}function eae(t,e,r){var n="plotly.js-style-"+t,i=document.getElementById(n);if(!(i&&i.matches(".no-inline-styles"))){i||(i=document.createElement("style"),i.setAttribute("id",n),i.appendChild(document.createTextNode("")),document.head.appendChild(i));var a=i.sheet;a?a.insertRule?a.insertRule(e+"{"+r+"}",0):a.addRule?a.addRule(e,r,0):Qie.warn("addStyleRule failed"):Qie.warn("Cannot addRelatedStyleRule, probably due to strict CSP...")}}function D7e(t){var e="plotly.js-style-"+t,r=document.getElementById(e);r&&Jie(r)}function A7e(t,e,r,n,i,a){var o=n.split(":"),s=i.split(":"),l="data-btn-style-event-added";a||(a=document),a.querySelectorAll(t).forEach(function(c){c.getAttribute(l)||(c.addEventListener("mouseenter",function(){var u=this.querySelector(r);u&&(u.style[o[0]]=o[1])}),c.addEventListener("mouseleave",function(){var u=this.querySelector(r);u&&(e&&this.matches(e)?u.style[o[0]]=o[1]:u.style[s[0]]=s[1])}),c.setAttribute(l,!0))})}function M7e(t){var e=rae(t),r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return e.forEach(function(n){var i=tae(n);if(i){var a=S7e.convertCssMatrix(i);r=_7e.multiply(r,r,a)}}),r}function tae(t){var e=window.getComputedStyle(t,null),r=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform");return r==="none"?null:r.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(n){return+n})}function rae(t){for(var e=[];R7e(t);)e.push(t),t=t.parentNode,typeof ShadowRoot=="function"&&t instanceof ShadowRoot&&(t=t.host);return e}function R7e(t){return t&&(t instanceof Element||t instanceof HTMLElement)}function I7e(t,e){return t&&e&&t.top===e.top&&t.left===e.left&&t.right===e.right&&t.bottom===e.bottom}nae.exports={getGraphDiv:C7e,isPlotDiv:k7e,removeElement:Jie,addStyleRule:E7e,addRelatedStyleRule:eae,deleteRelatedStyleRule:D7e,setStyleOnHover:A7e,getFullTransformMatrix:M7e,getElementTransformMatrix:tae,getElementAndAncestors:rae,equalDomRects:I7e}});var gS=J((Ayt,iae)=>{"use strict";iae.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"],description:["Describes how a new animate call interacts with currently-running","animations. If `immediate`, current animations are interrupted and","the new animation is started. If `next`, the current frame is allowed","to complete, after which the new animation is started. If `afterall`","all existing frames are animated to completion before the new animation","is started."].join(" ")},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward",description:["The direction in which to play the frames triggered by the animation call"].join(" ")},fromcurrent:{valType:"boolean",dflt:!1,description:["Play frames starting at the current frame instead of the beginning."].join(" ")},frame:{duration:{valType:"number",min:0,dflt:500,description:["The duration in milliseconds of each frame. If greater than the frame","duration, it will be limited to the frame duration."].join(" ")},redraw:{valType:"boolean",dflt:!0,description:["Redraw the plot at completion of the transition. This is desirable","for transitions that include properties that cannot be transitioned,","but may significantly slow down updates that do not require a full","redraw of the plot"].join(" ")}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none",description:["The duration of the transition, in milliseconds. If equal to zero,","updates are synchronous."].join(" ")},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none",description:"The easing function used for the transition"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none",description:["Determines whether the figure's layout or traces smoothly transitions","during updates that make both traces and layout change."].join(" ")}}}});var Fu=J((Myt,dae)=>{"use strict";var oae=Ti().extendFlat,N7e=Kh(),sae={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"],description:["trace attributes should include an `editType` string matching this flaglist.","*calc* is the most extensive: a full (re)plot starting by clearing `gd.calcdata`","to force it to be regenerated","*clearAxisTypes* resets the types of the axes this trace is on, because new data could","cause the automatic axis type detection to change. Log type will not be cleared, as that","is never automatically chosen so must have been user-specified.","*plot* (re)plots but without first clearing `gd.calcdata`.","*style* only calls `module.style` (or module.editStyle) for all trace modules and redraws the legend.","*markerSize* is like *style*, but propagate axis-range changes due to scatter `marker.size`","*colorbars* only redraws colorbars."].join(" ")},lae={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"],description:["layout attributes should include an `editType` string matching this flaglist.","*calc* is the most extensive: a full (re)plot starting by clearing `gd.calcdata`","to force it to be regenerated","*plot* (re)plots but without first clearing `gd.calcdata`.","*legend* only redraws the legend.","*ticks* only redraws axis ticks, labels, and gridlines.","*axrange* minimal sequence when updating axis ranges.","*layoutstyle* reapplies global and SVG cartesian axis styles.","*modebar* just updates the modebar.","*camera* just updates the camera settings for gl3d scenes.","*arraydraw* allows component arrays to invoke the redraw routines just for the","component(s) that changed.","*colorbars* only redraws colorbars."].join(" ")},L7e=sae.flags.slice().concat(["fullReplot"]),O7e=lae.flags.slice().concat("layoutReplot");dae.exports={traces:sae,layout:lae,traceFlags:function(){return aae(L7e)},layoutFlags:function(){return aae(O7e)},update:function(t,e){var r=e.editType;if(r&&r!=="none")for(var n=r.split("+"),i=0;i<n.length;i++)t[n[i]]=!0},overrideAll:cae};function aae(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=!1;return e}function cae(t,e,r){var n=oae({},t);for(var i in n){var a=n[i];N7e(a)&&(n[i]=uae(a,e,r,i))}return r==="from-root"&&(n.editType=e),n}function uae(t,e,r,n){if(t.valType){var i=oae({},t);if(i.editType=e,Array.isArray(t.items)){i.items=new Array(t.items.length);for(var a=0;a<t.items.length;a++)i.items[a]=uae(t.items[a],e,"from-root")}return i}else return cae(t,e,n.charAt(0)==="_"?"nested":"from-root")}});var Lc=J(E8=>{"use strict";E8.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style",description:["Sets the dash style of lines. Set to a dash type string","(*solid*, *dot*, *dash*, *longdash*, *dashdot*, or *longdashdot*)","or a dash length list in px (eg *5px,10px,2px,2px*)."].join(" ")};E8.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style",description:["Sets the shape of the pattern fill.","By default, no pattern is used for filling the area."].join(" ")},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style",description:["Determines whether `marker.color` should be used","as a default to `bgcolor` or a `fgcolor`."].join(" ")},bgcolor:{valType:"color",arrayOk:!0,editType:"style",description:["When there is no colorscale sets the color of background pattern fill.","Defaults to a `marker.color` background when `fillmode` is *overlay*.","Otherwise, defaults to a transparent background."].join(" ")},fgcolor:{valType:"color",arrayOk:!0,editType:"style",description:["When there is no colorscale sets the color of foreground pattern fill.","Defaults to a `marker.color` background when `fillmode` is *replace*.","Otherwise, defaults to dark grey or white","to increase contrast with the `bgcolor`."].join(" ")},fgopacity:{valType:"number",editType:"style",min:0,max:1,description:["Sets the opacity of the foreground pattern fill.","Defaults to a 0.5 when `fillmode` is *overlay*.","Otherwise, defaults to 1."].join(" ")},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style",description:["Sets the size of unit squares of the pattern fill in pixels,","which corresponds to the interval of repetition of the pattern."].join(" ")},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style",description:["Sets the solidity of the pattern fill.","Solidity is roughly the fraction of the area filled by the pattern.","Solidity of 0 shows only the background color without pattern","and solidty of 1 shows only the foreground color without pattern."].join(" ")},editType:"style",description:["Sets the pattern within the marker."].join(" ")}});var D8=J((Iyt,fae)=>{"use strict";fae.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}});var Gs=J(YA=>{"use strict";var hae=D8(),pae=hae.FORMAT_LINK,mae=hae.DATE_FORMAT_LINK;function vae(t){var e=t&&t.supportOther;return["Variables are inserted using %{variable},",'for example "y: %{y}"'+(e?" as well as %{xother}, {%_xother}, {%_xother_}, {%xother_}. When showing info for several points, *xother* will be added to those with different x positions from the first point. An underscore before or after *(x|y)other* will add a space on that side, only when this field is shown.":"."),`Numbers are formatted using d3-format's syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".`,pae,"for details on the formatting syntax.",`Dates are formatted using d3-time-format's syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".`,mae,"for details on the date formatting syntax."].join(" ")}function P7e(){return["Variables are inserted using %{variable},",'for example "x0: %{x0}".',`Numbers are formatted using d3-format's syntax %{variable:d3-format}, for example "Price: %{x0:$.2f}". See`,pae,"for details on the formatting syntax.",`Dates are formatted using d3-time-format's syntax %{variable|d3-time-format}, for example "Day: %{x0|%m %b %Y}". See`,mae,"for details on the date formatting syntax.","A single multiplication or division operation may be applied to numeric variables, and combined with",'d3 number formatting, for example "Length in cm: %{x0*2.54}", "%{slope*60:.1f} meters per second."',"For log axes, variable values are given in log units.","For date axes, x/y coordinate variables and center variables use datetimes, while all other variable values use values in ms."].join(" ")}function A8(t){var e=t.description?" "+t.description:"",r=t.keys||[];if(r.length>0){for(var n=[],i=0;i<r.length;i++)n[i]="`"+r[i]+"`";e=e+"Finally, the template string has access to ",r.length===1?e=e+"variable "+n[0]:e=e+"variables "+n.slice(0,-1).join(", ")+" and "+n.slice(-1)+"."}return e}YA.hovertemplateAttrs=function(t,e){t=t||{},e=e||{};var r=A8(e),n={valType:"string",dflt:"",editType:t.editType||"none",description:["Template string used for rendering the information that appear on hover box.","Note that this will override `hoverinfo`.",vae({supportOther:!0}),"The variables available in `hovertemplate` are the ones emitted as event data described at this link https://plotly.com/javascript/plotlyjs-events/#event-data.","Additionally, every attributes that can be specified per-point (the ones that are `arrayOk: true`) are available.",r,'Anything contained in tag `<extra>` is displayed in the secondary box, for example "<extra>{fullData.name}</extra>".',"To hide the secondary box completely, use an empty tag `<extra></extra>`."].join(" ")};return t.arrayOk!==!1&&(n.arrayOk=!0),n};YA.texttemplateAttrs=function(t,e){t=t||{},e=e||{};var r=A8(e),n={valType:"string",dflt:"",editType:t.editType||"calc",description:["Template string used for rendering the information text that appear on points.","Note that this will override `textinfo`.",vae(),"Every attributes that can be specified per-point (the ones that are `arrayOk: true`) are available.",r].join(" ")};return t.arrayOk!==!1&&(n.arrayOk=!0),n};YA.shapeTexttemplateAttrs=function(t,e){t=t||{},e=e||{};var r=t.newshape?"new ":"",n=A8(e),i={valType:"string",dflt:"",editType:t.editType||"arraydraw",description:["Template string used for rendering the "+r+"shape's label.","Note that this will override `text`.",P7e(),n].join(" ")};return i}});var XA=J((Lyt,Tae)=>{"use strict";function ep(t,e){return e?e.d2l(t):t}function gae(t,e){return e?e.l2d(t):t}function z7e(t){return t.x0}function F7e(t){return t.x1}function H7e(t){return t.y0}function q7e(t){return t.y1}function yae(t){return t.x0shift||0}function bae(t){return t.x1shift||0}function wae(t){return t.y0shift||0}function xae(t){return t.y1shift||0}function ZA(t,e){return ep(t.x1,e)+bae(t)-ep(t.x0,e)-yae(t)}function $A(t,e,r){return ep(t.y1,r)+xae(t)-ep(t.y0,r)-wae(t)}function U7e(t,e){return Math.abs(ZA(t,e))}function B7e(t,e,r){return Math.abs($A(t,e,r))}function j7e(t,e,r){return t.type!=="line"?void 0:Math.sqrt(Math.pow(ZA(t,e),2)+Math.pow($A(t,e,r),2))}function V7e(t,e){return gae((ep(t.x1,e)+bae(t)+ep(t.x0,e)+yae(t))/2,e)}function W7e(t,e,r){return gae((ep(t.y1,r)+xae(t)+ep(t.y0,r)+wae(t))/2,r)}function G7e(t,e,r){return t.type!=="line"?void 0:$A(t,e,r)/ZA(t,e)}Tae.exports={x0:z7e,x1:F7e,y0:H7e,y1:q7e,slope:G7e,dx:ZA,dy:$A,width:U7e,height:B7e,length:j7e,xcenter:V7e,ycenter:W7e}});var Cae=J((Oyt,_ae)=>{"use strict";var Y7e=Fu().overrideAll,mv=Ws(),Sae=ba(),Z7e=Lc().dash,tp=Ti().extendFlat,$7e=Gs().shapeTexttemplateAttrs,X7e=XA();_ae.exports=Y7e({newshape:{visible:tp({},mv.visible,{description:["Determines whether or not new shape is visible.","If *legendonly*, the shape is not drawn,","but can appear as a legend item","(provided that the legend itself is visible)."].join(" ")}),showlegend:{valType:"boolean",dflt:!1,description:["Determines whether or not new","shape is shown in the legend."].join(" ")},legend:tp({},mv.legend,{description:["Sets the reference to a legend to show new shape in.","References to these legends are *legend*, *legend2*, *legend3*, etc.","Settings for these legends are set in the layout, under","`layout.legend`, `layout.legend2`, etc."].join(" ")}),legendgroup:tp({},mv.legendgroup,{description:["Sets the legend group for new shape.","Traces and shapes part of the same legend group hide/show at the same time","when toggling legend items."].join(" ")}),legendgrouptitle:{text:tp({},mv.legendgrouptitle.text,{}),font:Sae({description:["Sets this legend group's title font."].join(" ")})},legendrank:tp({},mv.legendrank,{description:["Sets the legend rank for new shape.","Items and groups with smaller ranks are presented on top/left side while","with *reversed* `legend.traceorder` they are on bottom/right side.","The default legendrank is 1000,","so that you can use ranks less than 1000 to place certain items before all unranked items,","and ranks greater than 1000 to go after all unranked items."].join(" ")}),legendwidth:tp({},mv.legendwidth,{description:"Sets the width (in px or fraction) of the legend for new shape."}),line:{color:{valType:"color",description:["Sets the line color.","By default uses either dark grey or white","to increase contrast with background color."].join(" ")},width:{valType:"number",min:0,dflt:4,description:"Sets the line width (in px)."},dash:tp({},Z7e,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",description:["Sets the color filling new shapes' interior.","Please note that if using a fillcolor with alpha greater than half,","drag inside the active shape starts moving the shape underneath,","otherwise a new shape could be started over."].join(" ")},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",description:["Determines the path's interior.","For more info please visit https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill-rule"].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,description:"Sets the opacity of new shapes."},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",description:["Specifies whether new shapes are drawn below gridlines (*below*),","between gridlines and traces (*between*) or above traces (*above*)."].join(" ")},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",description:["When `dragmode` is set to *drawrect*, *drawline* or *drawcircle*","this limits the drag to be horizontal, vertical or diagonal.","Using *diagonal* there is no limit e.g. in drawing lines in any direction.","*ortho* limits the draw to be either horizontal or vertical.","*horizontal* allows horizontal extend.","*vertical* allows vertical extend."].join(" ")},name:tp({},mv.name,{description:["Sets new shape name.","The name appears as the legend item."].join(" ")}),label:{text:{valType:"string",dflt:"",description:["Sets the text to display with the new shape.","It is also used for legend item if `name` is not provided."].join(" ")},texttemplate:$7e({newshape:!0},{keys:Object.keys(X7e)}),font:Sae({description:"Sets the new shape label text font."}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],description:["Sets the position of the label text relative to the new shape.","Supported values for rectangles, circles and paths are","*top left*, *top center*, *top right*, *middle left*,","*middle center*, *middle right*, *bottom left*, *bottom center*,","and *bottom right*.","Supported values for lines are *start*, *middle*, and *end*.","Default: *middle center* for rectangles, circles, and paths; *middle* for lines."].join(" ")},textangle:{valType:"angle",dflt:"auto",description:["Sets the angle at which the label text is drawn","with respect to the horizontal. For lines, angle *auto*","is the same angle as the line. For all other shapes,","angle *auto* is horizontal."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",description:["Sets the label's horizontal position anchor","This anchor binds the specified `textposition` to the *left*, *center*","or *right* of the label text.","For example, if `textposition` is set to *top right* and","`xanchor` to *right* then the right-most portion of the","label text lines up with the right-most edge of the","new shape."].join(" ")},yanchor:{valType:"enumerated",values:["top","middle","bottom"],description:["Sets the label's vertical position anchor","This anchor binds the specified `textposition` to the *top*, *middle*","or *bottom* of the label text.","For example, if `textposition` is set to *top right* and","`yanchor` to *top* then the top-most portion of the","label text lines up with the top-most edge of the","new shape."].join(" ")},padding:{valType:"number",dflt:3,min:0,description:"Sets padding (in px) between edge of label and edge of new shape."}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",description:"Sets the color filling the active shape' interior."},opacity:{valType:"number",min:0,max:1,dflt:.5,description:"Sets the opacity of the active shape."}}},"none","from-root")});var Eae=J((Pyt,kae)=>{"use strict";var K7e=Lc().dash,Q7e=Ti().extendFlat;kae.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none",description:["Describes how a new selection is created.","If `immediate`, a new selection is created after first mouse up.","If `gradual`, a new selection is not created after first mouse.","By adding to and subtracting from the initial selection,","this option allows declaring extra outlines of the selection."].join(" ")},line:{color:{valType:"color",editType:"none",description:["Sets the line color.","By default uses either dark grey or white","to increase contrast with background color."].join(" ")},width:{valType:"number",min:1,dflt:1,editType:"none",description:"Sets the line width (in px)."},dash:Q7e({},K7e,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none",description:"Sets the color filling the active selection' interior."},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none",description:"Sets the opacity of the active selection."},editType:"none"}}});var KA=J((zyt,Dae)=>{"use strict";Dae.exports=function(t){var e=t.editType;return{t:{valType:"number",dflt:0,editType:e,description:"The amount of padding (in px) along the top of the component."},r:{valType:"number",dflt:0,editType:e,description:"The amount of padding (in px) on the right side of the component."},b:{valType:"number",dflt:0,editType:e,description:"The amount of padding (in px) along the bottom of the component."},l:{valType:"number",dflt:0,editType:e,description:"The amount of padding (in px) on the left side of the component."},editType:e}}});var Y0=J((Fyt,Iae)=>{"use strict";var M8=ba(),J7e=gS(),QA=Pu(),Aae=Cae(),Mae=Eae(),eHe=KA(),Rae=Ti().extendFlat,JA=M8({editType:"calc",description:["Sets the global font.","Note that fonts used in traces and other","layout components inherit from the global font."].join(" ")});JA.family.dflt='"Open Sans", verdana, arial, sans-serif';JA.size.dflt=12;JA.color.dflt=QA.defaultLine;Iae.exports={font:JA,title:{text:{valType:"string",editType:"layoutstyle",description:"Sets the plot's title."},font:M8({editType:"layoutstyle",description:"Sets the title font."}),subtitle:{text:{valType:"string",editType:"layoutstyle",description:"Sets the plot's subtitle."},font:M8({editType:"layoutstyle",description:"Sets the subtitle font."}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `x` refers to.","*container* spans the entire `width` of the plot.","*paper* refers to the width of the plotting area only."].join(" ")},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `y` refers to.","*container* spans the entire `height` of the plot.","*paper* refers to the height of the plotting area only."].join(" ")},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle",description:["Sets the x position with respect to `xref` in normalized","coordinates from *0* (left) to *1* (right)."].join(" ")},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle",description:["Sets the y position with respect to `yref` in normalized","coordinates from *0* (bottom) to *1* (top).","*auto* places the baseline of the title onto the","vertical center of the top margin."].join(" ")},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle",description:["Sets the title's horizontal alignment with respect to its x position.","*left* means that the title starts at x,","*right* means that the title ends at x","and *center* means that the title's center is at x.","*auto* divides `xref` by three and calculates the `xanchor`","value automatically based on the value of `x`."].join(" ")},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle",description:["Sets the title's vertical alignment with respect to its y position.","*top* means that the title's cap line is at y,","*bottom* means that the title's baseline is at y","and *middle* means that the title's midline is at y.","*auto* divides `yref` by three and calculates the `yanchor`","value automatically based on the value of `y`."].join(" ")},pad:Rae(eHe({editType:"layoutstyle"}),{description:["Sets the padding of the title.","Each padding value only applies when the corresponding","`xanchor`/`yanchor` value is set accordingly. E.g. for left","padding to take effect, `xanchor` must be set to *left*.","The same rule applies if `xanchor`/`yanchor` is determined automatically.","Padding is muted if the respective anchor value is *middle*/*center*."].join(" ")}),automargin:{valType:"boolean",dflt:!1,editType:"plot",description:["Determines whether the title can automatically push the figure margins.","If `yref='paper'` then the margin will expand to ensure that the title doesn\u2019t","overlap with the edges of the container. If `yref='container'` then the margins","will ensure that the title doesn\u2019t overlap with the plot area, tick labels,","and axis titles. If `automargin=true` and the margins need to be expanded,","then y will be set to a default 1 and yanchor will be set to an appropriate","default to ensure that minimal margin space is needed. Note that when `yref='paper'`,","only 1 or 0 are allowed y values. Invalid values will be reset to the default 1."].join(" ")},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot",description:["Determines how the font size for various text","elements are uniformed between each trace type.","If the computed text sizes were smaller than","the minimum size defined by `uniformtext.minsize`","using *hide* option hides the text; and","using *show* option shows the text without further downscaling.","Please note that if the size defined by `minsize` is greater than","the font size defined by trace, then the `minsize` is used."].join(" ")},minsize:{valType:"number",min:0,dflt:0,editType:"plot",description:["Sets the minimum text size between traces of the same type."].join(" ")},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none",description:["Determines whether or not a layout width or height","that has been left undefined by the user","is initialized on each relayout.","Note that, regardless of this attribute,","an undefined layout width or height","is always initialized on the first call to plot."].join(" ")},width:{valType:"number",min:10,dflt:700,editType:"plot",description:["Sets the plot's width (in px)."].join(" ")},height:{valType:"number",min:10,dflt:450,editType:"plot",description:["Sets the plot's height (in px)."].join(" ")},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot",description:"Minimum width of the plot with margin.automargin applied (in px)"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot",description:"Minimum height of the plot with margin.automargin applied (in px)"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot",description:"Sets the left margin (in px)."},r:{valType:"number",min:0,dflt:80,editType:"plot",description:"Sets the right margin (in px)."},t:{valType:"number",min:0,dflt:100,editType:"plot",description:"Sets the top margin (in px)."},b:{valType:"number",min:0,dflt:80,editType:"plot",description:"Sets the bottom margin (in px)."},pad:{valType:"number",min:0,dflt:0,editType:"plot",description:["Sets the amount of padding (in px)","between the plotting area and the axis lines"].join(" ")},autoexpand:{valType:"boolean",dflt:!0,editType:"plot",description:["Turns on/off margin expansion computations.","Legends, colorbars, updatemenus, sliders, axis rangeselector and rangeslider","are allowed to push the margins by defaults."].join(" ")},editType:"plot"},computed:{valType:"any",editType:"none",description:["Placeholder for exporting automargin-impacting values namely","`margin.t`, `margin.b`, `margin.l` and `margin.r` in *full-json* mode."].join(" ")},paper_bgcolor:{valType:"color",dflt:QA.background,editType:"plot",description:"Sets the background color of the paper where the graph is drawn."},plot_bgcolor:{valType:"color",dflt:QA.background,editType:"layoutstyle",description:["Sets the background color of the plotting area in-between x and y axes."].join(" ")},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc",description:["Using *strict* a numeric string in trace data is not converted to a number.","Using *convert types* a numeric string in trace data may be","treated as a number during automatic axis `type` detection.","This is the default value; however it could be overridden for individual axes."].join(" ")},separators:{valType:"string",editType:"plot",description:["Sets the decimal and thousand separators.","For example, *. * puts a '.' before decimals and a space","between thousands. In English locales, dflt is *.,* but","other locales may alter this default."].join(" ")},hidesources:{valType:"boolean",dflt:!1,editType:"plot",description:["Determines whether or not a text link citing the data source is","placed at the bottom-right cored of the figure.","Has only an effect only on graphs that have been generated via","forked graphs from the Chart Studio Cloud (at https://chart-studio.plotly.com or on-premise)."].join(" ")},showlegend:{valType:"boolean",editType:"legend",description:["Determines whether or not a legend is drawn.","Default is `true` if there is a trace to show and any of these:","a) Two or more traces would by default be shown in the legend.","b) One pie trace is shown in the legend.","c) One trace is explicitly given with `showlegend: true`."].join(" ")},colorway:{valType:"colorlist",dflt:QA.defaults,editType:"calc",description:"Sets the default trace colors."},datarevision:{valType:"any",editType:"calc",description:["If provided, a changed value tells `Plotly.react` that","one or more data arrays has changed. This way you can modify","arrays in-place rather than making a complete new copy for an","incremental change.","If NOT provided, `Plotly.react` assumes that data arrays are","being treated as immutable, thus any data array with a","different identity from its predecessor contains new data."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Used to allow user interactions with the plot to persist after","`Plotly.react` calls that are unaware of these interactions.","If `uirevision` is omitted, or if it is given and it changed from","the previous `Plotly.react` call, the exact new figure is used.","If `uirevision` is truthy and did NOT change, any attribute","that has been affected by user interactions and did not receive a","different value in the new figure will keep the interaction value.","`layout.uirevision` attribute serves as the default for","`uirevision` attributes in various sub-containers. For finer","control you can set these sub-attributes directly. For example,","if your app separately controls the data on the x and y axes you","might set `xaxis.uirevision=*time*` and `yaxis.uirevision=*cost*`.","Then if only the y data is changed, you can update","`yaxis.uirevision=*quantity*` and the y axis range will reset but","the x axis range will retain any user-driven zoom."].join(" ")},editrevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in `editable: true`","configuration, other than trace names and axis titles.","Defaults to `layout.uirevision`."].join(" ")},selectionrevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in selected points","from all traces."].join(" ")},template:{valType:"any",editType:"calc",description:["Default attributes to be applied to the plot. Templates can be","created from existing plots using `Plotly.makeTemplate`, or","created manually. They should be objects with format:","`{layout: layoutTemplate, data: {[type]: [traceTemplate, ...]}, ...}`","`layoutTemplate` and `traceTemplate` are objects matching the","attribute structure of `layout` and a data trace. ","Trace templates are applied cyclically to traces of each type.","Container arrays (eg `annotations`) have special handling:","An object ending in `defaults` (eg `annotationdefaults`) is applied","to each array item. But if an item has a `templateitemname` key","we look in the template array for an item with matching `name` and","apply that instead. If no matching `name` is found we mark the item","invisible. Any named template item not referenced is appended to","the end of the array, so you can use this for a watermark annotation","or a logo image, for example. To omit one of these items on the plot,","make an item with matching `templateitemname` and `visible: false`."].join(" ")},newshape:Aae.newshape,activeshape:Aae.activeshape,newselection:Mae.newselection,activeselection:Mae.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot",description:["Assigns extra meta information that can be used in various `text` attributes.","Attributes such as the graph, axis and colorbar `title.text`, annotation `text`","`trace.name` in legend items, `rangeselector`, `updatemenus` and `sliders` `label` text","all support `meta`. One can access `meta` fields using template strings:","`%{meta[i]}` where `i` is the index of the `meta`","item in question.","`meta` can also be an object for example `{key: value}` which can be accessed","%{meta[key]}."].join(" ")},transition:Rae({},J7e.transition,{description:["Sets transition options used during Plotly.react updates."].join(" "),editType:"none"})}});var Nae=J((Hyt,tHe)=>{tHe.exports={}});var Xt=J(Mr=>{"use strict";var Z0=pv(),Lae=WA(),Oae=S8(),rHe=Kh(),nHe=vS().addStyleRule,Pae=Ti(),iHe=Ws(),aHe=Y0(),oHe=Pae.extendFlat,R8=Pae.extendDeepAll;Mr.modules={};Mr.allCategories={};Mr.allTypes=[];Mr.subplotsRegistry={};Mr.componentsRegistry={};Mr.layoutArrayContainers=[];Mr.layoutArrayRegexes=[];Mr.traceLayoutAttributes={};Mr.localeRegistry={};Mr.apiMethodRegistry={};Mr.collectableSubplotTypes=null;Mr.register=function(e){if(Mr.collectableSubplotTypes=null,e)e&&!Array.isArray(e)&&(e=[e]);else throw new Error("No argument passed to Plotly.register.");for(var r=0;r<e.length;r++){var n=e[r];if(!n)throw new Error("Invalid module was attempted to be registered!");switch(n.moduleType){case"trace":sHe(n);break;case"transform":uHe(n);break;case"component":cHe(n);break;case"locale":dHe(n);break;case"apiMethod":var i=n.name;Mr.apiMethodRegistry[i]=n.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}};Mr.getModule=function(t){var e=Mr.modules[qae(t)];return e?e._module:!1};Mr.traceIs=function(t,e){if(t=qae(t),t==="various")return!1;var r=Mr.modules[t];return r||(t&&Z0.log("Unrecognized trace type "+t+"."),r=Mr.modules[iHe.type.dflt]),!!r.categories[e]};Mr.getComponentMethod=function(t,e){var r=Mr.componentsRegistry[t];return r&&r[e]||Lae};Mr.call=function(){var t=arguments[0],e=[].slice.call(arguments,1);return Mr.apiMethodRegistry[t].apply(null,e)};function sHe(t){var e=t.name,r=t.categories,n=t.meta;if(Mr.modules[e]){Z0.log("Type "+e+" already registered");return}Mr.subplotsRegistry[t.basePlotModule.name]||lHe(t.basePlotModule);for(var i={},a=0;a<r.length;a++)i[r[a]]=!0,Mr.allCategories[r[a]]=!0;Mr.modules[e]={_module:t,categories:i},n&&Object.keys(n).length&&(Mr.modules[e].meta=n),Mr.allTypes.push(e);for(var o in Mr.componentsRegistry)Fae(o,e);t.layoutAttributes&&oHe(Mr.traceLayoutAttributes,t.layoutAttributes);var s=t.basePlotModule,l=s.name;if(l==="mapbox"){var c=s.constants.styleRules;for(var u in c)nHe(".js-plotly-plot .plotly .mapboxgl-"+u,c[u])}l==="map"&&Nae(),(l==="geo"||l==="mapbox"||l==="map")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function lHe(t){var e=t.name;if(Mr.subplotsRegistry[e]){Z0.log("Plot type "+e+" already registered.");return}zae(t),Mr.subplotsRegistry[e]=t;for(var r in Mr.componentsRegistry)Hae(r,t.name)}function cHe(t){if(typeof t.name!="string")throw new Error("Component module *name* must be a string.");var e=t.name;Mr.componentsRegistry[e]=t,t.layoutAttributes&&(t.layoutAttributes._isLinkedToArray&&Oae(Mr.layoutArrayContainers,e),zae(t));for(var r in Mr.modules)Fae(e,r);for(var n in Mr.subplotsRegistry)Hae(e,n);t.schema&&t.schema.layout&&R8(aHe,t.schema.layout)}function uHe(t){if(typeof t.name!="string")throw new Error("Transform module *name* must be a string.");var e="Transform module "+t.name,r=typeof t.transform=="function",n=typeof t.calcTransform=="function";if(!r&&!n)throw new Error(e+" is missing a *transform* or *calcTransform* method.");r&&n&&Z0.log([e+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),rHe(t.attributes)||Z0.log(e+" registered without an *attributes* object."),typeof t.supplyDefaults!="function"&&Z0.log(e+" registered without a *supplyDefaults* method.")}function dHe(t){var e=t.name,r=e.split("-")[0],n=t.dictionary,i=t.format,a=n&&Object.keys(n).length,o=i&&Object.keys(i).length,s=Mr.localeRegistry,l=s[e];if(l||(s[e]=l={}),r!==e){var c=s[r];c||(s[r]=c={}),a&&c.dictionary===l.dictionary&&(c.dictionary=n),o&&c.format===l.format&&(c.format=i)}a&&(l.dictionary=n),o&&(l.format=i)}function zae(t){if(t.layoutAttributes){var e=t.layoutAttributes._arrayAttrRegexps;if(e)for(var r=0;r<e.length;r++)Oae(Mr.layoutArrayRegexes,e[r])}}function Fae(t,e){var r=Mr.componentsRegistry[t].schema;if(!(!r||!r.traces)){var n=r.traces[e];n&&R8(Mr.modules[e]._module.attributes,n)}}function Hae(t,e){var r=Mr.componentsRegistry[t].schema;if(!(!r||!r.subplots)){var n=Mr.subplotsRegistry[e],i=n.layoutAttributes,a=n.attr==="subplot"?n.name:n.attr;Array.isArray(a)&&(a=a[0]);var o=r.subplots[a];i&&o&&R8(i,o)}}function qae(t){return typeof t=="object"&&(t=t.type),t}});var $ae=J(_i=>{"use strict";var fHe=q0().timeFormat,Yae=_r(),I8=pv(),np=B0().mod,K0=ei(),Ul=K0.BADNUM,ps=K0.ONEDAY,yS=K0.ONEHOUR,rp=K0.ONEMIN,X0=K0.ONESEC,bS=K0.EPOCHJD,uf=Xt(),Uae=q0().utcFormat,hHe=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,pHe=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,Bae=new Date().getFullYear()-70;function df(t){return t&&uf.componentsRegistry.calendars&&typeof t=="string"&&t!=="gregorian"}_i.dateTick0=function(t,e){var r=mHe(t,!!e);if(e<2)return r;var n=_i.dateTime2ms(r,t);return n+=ps*(e-1),_i.ms2DateTime(n,0,t)};function mHe(t,e){return df(t)?e?uf.getComponentMethod("calendars","CANONICAL_SUNDAY")[t]:uf.getComponentMethod("calendars","CANONICAL_TICK")[t]:e?"2000-01-02":"2000-01-01"}_i.dfltRange=function(t){return df(t)?uf.getComponentMethod("calendars","DFLTRANGE")[t]:["2000-01-01","2001-01-01"]};_i.isJSDate=function(t){return typeof t=="object"&&t!==null&&typeof t.getTime=="function"};var tM,rM;_i.dateTime2ms=function(t,e){if(_i.isJSDate(t)){var r=t.getTimezoneOffset()*rp,n=(t.getUTCMinutes()-t.getMinutes())*rp+(t.getUTCSeconds()-t.getSeconds())*X0+(t.getUTCMilliseconds()-t.getMilliseconds());if(n){var i=3*rp;r=r-i/2+np(n-r+i/2,i)}return t=Number(t)-r,t>=tM&&t<=rM?t:Ul}if(typeof t!="string"&&typeof t!="number")return Ul;t=String(t);var a=df(e),o=t.charAt(0);a&&(o==="G"||o==="g")&&(t=t.substr(1),e="");var s=a&&e.substr(0,7)==="chinese",l=t.match(s?pHe:hHe);if(!l)return Ul;var c=l[1],u=l[3]||"1",d=Number(l[5]||1),f=Number(l[7]||0),h=Number(l[9]||0),p=Number(l[11]||0);if(a){if(c.length===2)return Ul;c=Number(c);var m;try{var v=uf.getComponentMethod("calendars","getCal")(e);if(s){var y=u.charAt(u.length-1)==="i";u=parseInt(u,10),m=v.newDate(c,v.toMonthIndex(c,u,y),d)}else m=v.newDate(c,Number(u),d)}catch(x){return Ul}return m?(m.toJD()-bS)*ps+f*yS+h*rp+p*X0:Ul}c.length===2?c=(Number(c)+2e3-Bae)%100+Bae:c=Number(c),u-=1;var b=new Date(Date.UTC(2e3,u,d,f,h));return b.setUTCFullYear(c),b.getUTCMonth()!==u||b.getUTCDate()!==d?Ul:b.getTime()+p*X0};tM=_i.MIN_MS=_i.dateTime2ms("-9999");rM=_i.MAX_MS=_i.dateTime2ms("9999-12-31 23:59:59.9999");_i.isDateTime=function(t,e){return _i.dateTime2ms(t,e)!==Ul};function $0(t,e){return String(t+Math.pow(10,e)).substr(1)}var eM=90*ps,jae=3*yS,Vae=5*rp;_i.ms2DateTime=function(t,e,r){if(typeof t!="number"||!(t>=tM&&t<=rM))return Ul;e||(e=0);var n=Math.floor(np(t+.05,1)*10),i=Math.round(t-n/10),a,o,s,l,c,u;if(df(r)){var d=Math.floor(i/ps)+bS,f=Math.floor(np(t,ps));try{a=uf.getComponentMethod("calendars","getCal")(r).fromJD(d).formatDate("yyyy-mm-dd")}catch(h){a=Uae("G%Y-%m-%d")(new Date(i))}if(a.charAt(0)==="-")for(;a.length<11;)a="-0"+a.substr(1);else for(;a.length<10;)a="0"+a;o=e<eM?Math.floor(f/yS):0,s=e<eM?Math.floor(f%yS/rp):0,l=e<jae?Math.floor(f%rp/X0):0,c=e<Vae?f%X0*10+n:0}else u=new Date(i),a=Uae("%Y-%m-%d")(u),o=e<eM?u.getUTCHours():0,s=e<eM?u.getUTCMinutes():0,l=e<jae?u.getUTCSeconds():0,c=e<Vae?u.getUTCMilliseconds()*10+n:0;return Zae(a,o,s,l,c)};_i.ms2DateTimeLocal=function(t){if(!(t>=tM+ps&&t<=rM-ps))return Ul;var e=Math.floor(np(t+.05,1)*10),r=new Date(Math.round(t-e/10)),n=fHe("%Y-%m-%d")(r),i=r.getHours(),a=r.getMinutes(),o=r.getSeconds(),s=r.getUTCMilliseconds()*10+e;return Zae(n,i,a,o,s)};function Zae(t,e,r,n,i){if((e||r||n||i)&&(t+=" "+$0(e,2)+":"+$0(r,2),(n||i)&&(t+=":"+$0(n,2),i))){for(var a=4;i%10===0;)a-=1,i/=10;t+="."+$0(i,a)}return t}_i.cleanDate=function(t,e,r){if(t===Ul)return e;if(_i.isJSDate(t)||typeof t=="number"&&isFinite(t)){if(df(r))return I8.error("JS Dates and milliseconds are incompatible with world calendars",t),e;if(t=_i.ms2DateTimeLocal(+t),!t&&e!==void 0)return e}else if(!_i.isDateTime(t,r))return I8.error("unrecognized date",t),e;return t};var vHe=/%\d?f/g,gHe=/%h/g,yHe={1:"1",2:"1",3:"2",4:"2"};function Wae(t,e,r,n){t=t.replace(vHe,function(a){var o=Math.min(+a.charAt(1)||6,6),s=(e/1e3%1+2).toFixed(o).substr(2).replace(/0+$/,"")||"0";return s});var i=new Date(Math.floor(e+.05));if(t=t.replace(gHe,function(){return yHe[r("%q")(i)]}),df(n))try{t=uf.getComponentMethod("calendars","worldCalFmt")(t,e,n)}catch(a){return"Invalid"}return r(t)(i)}var bHe=[59,59.9,59.99,59.999,59.9999];function wHe(t,e){var r=np(t+.05,ps),n=$0(Math.floor(r/yS),2)+":"+$0(np(Math.floor(r/rp),60),2);if(e!=="M"){Yae(e)||(e=0);var i=Math.min(np(t/X0,60),bHe[e]),a=(100+i).toFixed(e).substr(1);e>0&&(a=a.replace(/0+$/,"").replace(/[\.]$/,"")),n+=":"+a}return n}_i.formatDate=function(t,e,r,n,i,a){if(i=df(i)&&i,!e)if(r==="y")e=a.year;else if(r==="m")e=a.month;else if(r==="d")e=a.dayMonth+`
`+a.year;else return wHe(t,r)+`
`+Wae(a.dayMonthYear,t,n,i);return Wae(e,t,n,i)};var Gae=3*ps;_i.incrementMonth=function(t,e,r){r=df(r)&&r;var n=np(t,ps);if(t=Math.round(t-n),r)try{var i=Math.round(t/ps)+bS,a=uf.getComponentMethod("calendars","getCal")(r),o=a.fromJD(i);return e%12?a.add(o,e,"m"):a.add(o,e/12,"y"),(o.toJD()-bS)*ps+n}catch(l){I8.error("invalid ms "+t+" in calendar "+r)}var s=new Date(t+Gae);return s.setUTCMonth(s.getUTCMonth()+e)+n-Gae};_i.findExactDates=function(t,e){for(var r=0,n=0,i=0,a=0,o,s,l=df(e)&&uf.getComponentMethod("calendars","getCal")(e),c=0;c<t.length;c++){if(s=t[c],!Yae(s)){a++;continue}if(!(s%ps))if(l)try{o=l.fromJD(s/ps+bS),o.day()===1?o.month()===1?r++:n++:i++}catch(d){}else o=new Date(s),o.getUTCDate()===1?o.getUTCMonth()===0?r++:n++:i++}n+=r,i+=n;var u=t.length-a;return{exactYears:r/u,exactMonths:n/u,exactDays:i/u}}});var N8=J((Byt,Xae)=>{"use strict";Xae.exports=function(e){return e}});var O8=J(ff=>{"use strict";var xHe=_r(),THe=pv(),SHe=N8(),_He=ei().BADNUM,L8=1e-9;ff.findBin=function(t,e,r){if(xHe(e.start))return r?Math.ceil((t-e.start)/e.size-L8)-1:Math.floor((t-e.start)/e.size+L8);var n=0,i=e.length,a=0,o=i>1?(e[i-1]-e[0])/(i-1):1,s,l;for(o>=0?l=r?CHe:kHe:l=r?DHe:EHe,t+=o*L8*(r?-1:1)*(o>=0?1:-1);n<i&&a++<100;)s=Math.floor((n+i)/2),l(e[s],t)?n=s+1:i=s;return a>90&&THe.log("Long binary search..."),n-1};function CHe(t,e){return t<e}function kHe(t,e){return t<=e}function EHe(t,e){return t>e}function DHe(t,e){return t>=e}ff.sorterAsc=function(t,e){return t-e};ff.sorterDes=function(t,e){return e-t};ff.distinctVals=function(t){var e=t.slice();e.sort(ff.sorterAsc);var r;for(r=e.length-1;r>-1&&e[r]===_He;r--);for(var n=e[r]-e[0]||1,i=n/(r||1)/1e4,a=[],o,s=0;s<=r;s++){var l=e[s],c=l-o;o===void 0?(a.push(l),o=l):c>i&&(n=Math.min(n,c),a.push(l),o=l)}return{vals:a,minDiff:n}};ff.roundUp=function(t,e,r){for(var n=0,i=e.length-1,a,o=0,s=r?0:1,l=r?1:0,c=r?Math.ceil:Math.floor;n<i&&o++<100;)a=c((n+i)/2),e[a]<=t?n=a+s:i=a-l;return e[n]};ff.sort=function(t,e){for(var r=0,n=0,i=1;i<t.length;i++){var a=e(t[i],t[i-1]);if(a<0?r=1:a>0&&(n=1),r&&n)return t.sort(e)}return n?t:t.reverse()};ff.findIndexOfMin=function(t,e){e=e||SHe;for(var r=1/0,n,i=0;i<t.length;i++){var a=e(t[i]);a<r&&(r=a,n=i)}return n}});var P8=J((Vyt,Kae)=>{"use strict";Kae.exports=function(e){return Object.keys(e).sort()}});var Qae=J(Ci=>{"use strict";var wS=_r(),AHe=js().isArrayOrTypedArray;Ci.aggNums=function(t,e,r,n){var i,a;if((!n||n>r.length)&&(n=r.length),wS(e)||(e=!1),AHe(r[0])){for(a=new Array(n),i=0;i<n;i++)a[i]=Ci.aggNums(t,e,r[i]);r=a}for(i=0;i<n;i++)wS(e)?wS(r[i])&&(e=t(+e,+r[i])):e=r[i];return e};Ci.len=function(t){return Ci.aggNums(function(e){return e+1},0,t)};Ci.mean=function(t,e){return e||(e=Ci.len(t)),Ci.aggNums(function(r,n){return r+n},0,t)/e};Ci.geometricMean=function(t,e){return e||(e=Ci.len(t)),Math.pow(Ci.aggNums(function(r,n){return r*n},1,t),1/e)};Ci.midRange=function(t){if(!(t===void 0||t.length===0))return(Ci.aggNums(Math.max,null,t)+Ci.aggNums(Math.min,null,t))/2};Ci.variance=function(t,e,r){return e||(e=Ci.len(t)),wS(r)||(r=Ci.mean(t,e)),Ci.aggNums(function(n,i){return n+Math.pow(i-r,2)},0,t)/e};Ci.stdev=function(t,e,r){return Math.sqrt(Ci.variance(t,e,r))};Ci.median=function(t){var e=t.slice().sort();return Ci.interp(e,.5)};Ci.interp=function(t,e){if(!wS(e))throw"n should be a finite number";if(e=e*t.length-.5,e<0)return t[0];if(e>t.length-1)return t[t.length-1];var r=e%1;return r*t[Math.ceil(e)]+(1-r)*t[Math.floor(e)]}});var noe=J((Gyt,roe)=>{"use strict";var Jae=B0(),z8=Jae.mod,MHe=Jae.modHalf,xS=Math.PI,ip=2*xS;function RHe(t){return t/180*xS}function IHe(t){return t/xS*180}function F8(t){return Math.abs(t[1]-t[0])>ip-1e-14}function eoe(t,e){return MHe(e-t,ip)}function NHe(t,e){return Math.abs(eoe(t,e))}function toe(t,e){if(F8(e))return!0;var r,n;e[0]<e[1]?(r=e[0],n=e[1]):(r=e[1],n=e[0]),r=z8(r,ip),n=z8(n,ip),r>n&&(n+=ip);var i=z8(t,ip),a=i+ip;return i>=r&&i<=n||a>=r&&a<=n}function LHe(t,e,r,n){if(!toe(e,n))return!1;var i,a;return r[0]<r[1]?(i=r[0],a=r[1]):(i=r[1],a=r[0]),t>=i&&t<=a}function H8(t,e,r,n,i,a,o){i=i||0,a=a||0;var s=F8([r,n]),l,c,u,d,f;s?(l=0,c=xS,u=ip):r<n?(l=r,u=n):(l=n,u=r),t<e?(d=t,f=e):(d=e,f=t);function h(y,b){return[y*Math.cos(b)+i,a-y*Math.sin(b)]}var p=Math.abs(u-l)<=xS?0:1;function m(y,b,x){return"A"+[y,y]+" "+[0,p,x]+" "+h(y,b)}var v;return s?d===null?v="M"+h(f,l)+m(f,c,0)+m(f,u,0)+"Z":v="M"+h(d,l)+m(d,c,0)+m(d,u,0)+"ZM"+h(f,l)+m(f,c,1)+m(f,u,1)+"Z":d===null?(v="M"+h(f,l)+m(f,u,0),o&&(v+="L0,0Z")):v="M"+h(d,l)+"L"+h(f,l)+m(f,u,0)+"L"+h(d,u)+m(d,l,1)+"Z",v}function OHe(t,e,r,n,i){return H8(null,t,e,r,n,i,0)}function PHe(t,e,r,n,i){return H8(null,t,e,r,n,i,1)}function zHe(t,e,r,n,i,a){return H8(t,e,r,n,i,a,1)}roe.exports={deg2rad:RHe,rad2deg:IHe,angleDelta:eoe,angleDist:NHe,isFullCircle:F8,isAngleInsideSector:toe,isPtInsideSector:LHe,pathArc:OHe,pathSector:PHe,pathAnnulus:zHe}});var ioe=J(vv=>{"use strict";vv.isLeftAnchor=function(e){return e.xanchor==="left"||e.xanchor==="auto"&&e.x<=1/3};vv.isCenterAnchor=function(e){return e.xanchor==="center"||e.xanchor==="auto"&&e.x>1/3&&e.x<2/3};vv.isRightAnchor=function(e){return e.xanchor==="right"||e.xanchor==="auto"&&e.x>=2/3};vv.isTopAnchor=function(e){return e.yanchor==="top"||e.yanchor==="auto"&&e.y>=2/3};vv.isMiddleAnchor=function(e){return e.yanchor==="middle"||e.yanchor==="auto"&&e.y>1/3&&e.y<2/3};vv.isBottomAnchor=function(e){return e.yanchor==="bottom"||e.yanchor==="auto"&&e.y<=1/3}});var soe=J(gv=>{"use strict";var q8=B0().mod;gv.segmentsIntersect=ooe;function ooe(t,e,r,n,i,a,o,s){var l=r-t,c=i-t,u=o-i,d=n-e,f=a-e,h=s-a,p=l*h-u*d;if(p===0)return null;var m=(c*h-u*f)/p,v=(c*d-l*f)/p;return v<0||v>1||m<0||m>1?null:{x:t+l*m,y:e+d*m}}gv.segmentDistance=function(e,r,n,i,a,o,s,l){if(ooe(e,r,n,i,a,o,s,l))return 0;var c=n-e,u=i-r,d=s-a,f=l-o,h=c*c+u*u,p=d*d+f*f,m=Math.min(nM(c,u,h,a-e,o-r),nM(c,u,h,s-e,l-r),nM(d,f,p,e-a,r-o),nM(d,f,p,n-a,i-o));return Math.sqrt(m)};function nM(t,e,r,n,i){var a=n*t+i*e;if(a<0)return n*n+i*i;if(a>r){var o=n-t,s=i-e;return o*o+s*s}else{var l=n*e-i*t;return l*l/r}}var iM,U8,aoe;gv.getTextLocation=function(e,r,n,i){if((e!==U8||i!==aoe)&&(iM={},U8=e,aoe=i),iM[n])return iM[n];var a=e.getPointAtLength(q8(n-i/2,r)),o=e.getPointAtLength(q8(n+i/2,r)),s=Math.atan((o.y-a.y)/(o.x-a.x)),l=e.getPointAtLength(q8(n,r)),c=(l.x*4+a.x+o.x)/6,u=(l.y*4+a.y+o.y)/6,d={x:c,y:u,theta:s};return iM[n]=d,d};gv.clearLocationCache=function(){U8=null};gv.getVisibleSegment=function(e,r,n){var i=r.left,a=r.right,o=r.top,s=r.bottom,l=0,c=e.getTotalLength(),u=c,d,f;function h(m){var v=e.getPointAtLength(m);m===0?d=v:m===c&&(f=v);var y=v.x<i?i-v.x:v.x>a?v.x-a:0,b=v.y<o?o-v.y:v.y>s?v.y-s:0;return Math.sqrt(y*y+b*b)}for(var p=h(l);p;){if(l+=p+n,l>u)return;p=h(l)}for(p=h(u);p;){if(u-=p+n,l>u)return;p=h(u)}return{min:l,max:u,len:u-l,total:c,isClosed:l===0&&u===c&&Math.abs(d.x-f.x)<.1&&Math.abs(d.y-f.y)<.1}};gv.findPointOnPath=function(e,r,n,i){i=i||{};for(var a=i.pathLength||e.getTotalLength(),o=i.tolerance||.001,s=i.iterationLimit||30,l=e.getPointAtLength(0)[n]>e.getPointAtLength(a)[n]?-1:1,c=0,u=0,d=a,f,h,p;c<s;){if(f=(u+d)/2,h=e.getPointAtLength(f),p=h[n]-r,Math.abs(p)<o)return h;l*p>0?d=f:u=f,c++}return h}});var aM=J(TS=>{"use strict";var hf={};TS.throttle=function(e,r,n){var i=hf[e],a=Date.now();if(!i){for(var o in hf)hf[o].ts<a-6e4&&delete hf[o];i=hf[e]={ts:0,timer:null}}loe(i);function s(){n(),i.ts=Date.now(),i.onDone&&(i.onDone(),i.onDone=null)}if(a>i.ts+r){s();return}i.timer=setTimeout(function(){s(),i.timer=null},r)};TS.done=function(t){var e=hf[t];return!e||!e.timer?Promise.resolve():new Promise(function(r){var n=e.onDone;e.onDone=function(){n&&n(),r(),e.onDone=null}})};TS.clear=function(t){if(t)loe(hf[t]),delete hf[t];else for(var e in hf)TS.clear(e)};function loe(t){t&&t.timer!==null&&(clearTimeout(t.timer),t.timer=null)}});var uoe=J((Xyt,coe)=>{"use strict";coe.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}});var doe=J((Kyt,oM)=>{"use strict";oM.exports=B8;oM.exports.isMobile=B8;oM.exports.default=B8;var FHe=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,HHe=/CrOS/,qHe=/android|ipad|playbook|silk/i;function B8(t){t||(t={});let e=t.ua;if(!e&&typeof navigator!="undefined"&&(e=navigator.userAgent),e&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),typeof e!="string")return!1;let r=FHe.test(e)&&!HHe.test(e)||!!t.tablet&&qHe.test(e);return!r&&t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&e.indexOf("Macintosh")!==-1&&e.indexOf("Safari")!==-1&&(r=!0),r}});var hoe=J((Qyt,foe)=>{"use strict";var UHe=_r(),BHe=doe();foe.exports=function(e){var r;if(e&&e.hasOwnProperty("userAgent")?r=e.userAgent:r=jHe(),typeof r!="string")return!0;var n=BHe({ua:{headers:{"user-agent":r}},tablet:!0,featureDetect:!1});if(!n)for(var i=r.split(" "),a=1;a<i.length;a++){var o=i[a];if(o.indexOf("Safari")!==-1)for(var s=a-1;s>-1;s--){var l=i[s];if(l.substr(0,8)==="Version/"){var c=l.substr(8).split(".")[0];if(UHe(c)&&(c=+c),c>=13)return!0}}}return n};function jHe(){var t;return typeof navigator!="undefined"&&(t=navigator.userAgent),t&&t.headers&&typeof t.headers["user-agent"]=="string"&&(t=t.headers["user-agent"]),t}});var moe=J((Jyt,poe)=>{"use strict";var VHe=Sr();poe.exports=function(e,r,n){var i=e.selectAll("g."+n.replace(/\s/g,".")).data(r,function(o){return o[0].trace.uid});i.exit().remove(),i.enter().append("g").attr("class",n),i.order();var a=e.classed("rangeplot")?"nodeRangePlot3":"node3";return i.each(function(o){o[0][a]=VHe.select(this)}),i}});var goe=J((e0t,voe)=>{"use strict";var WHe=Xt();voe.exports=function(e,r){for(var n=e._context.locale,i=0;i<2;i++){for(var a=e._context.locales,o=0;o<2;o++){var s=(a[n]||{}).dictionary;if(s){var l=s[r];if(l)return l}a=WHe.localeRegistry}var c=n.split("-")[0];if(c===n)break;n=c}return r}});var boe=J((t0t,yoe)=>{"use strict";yoe.exports=function(e){for(var r={},n=[],i=0,a=0;a<e.length;a++){var o=e[a];r[o]!==1&&(r[o]=1,n[i++]=o)}return n}});var xoe=J((r0t,woe)=>{"use strict";woe.exports=function(e){for(var r=ZHe(e)?YHe:GHe,n=[],i=0;i<e.length;i++){var a=e[i];r(a)&&n.push(a)}return n};function GHe(t){return t.visible===!0}function YHe(t){var e=t[0].trace;return e.visible===!0&&e._length!==0}function ZHe(t){return Array.isArray(t)&&Array.isArray(t[0])&&t[0][0]&&t[0][0].trace}});var Soe=J((n0t,Toe)=>{"use strict";Toe.exports=function(e,r){if(!r)return e;var n=1/Math.abs(r),i=n>1?(n*e+n*r)/n:e+r,a=String(i).length;if(a>16){var o=String(r).length,s=String(e).length;if(a>=s+o){var l=parseFloat(i).toPrecision(12);l.indexOf("e+")===-1&&(i=+l)}}return i}});var Coe=J((i0t,_oe)=>{"use strict";var $He=_r(),XHe=ei().BADNUM,KHe=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;_oe.exports=function(e){return typeof e=="string"&&(e=e.replace(KHe,"")),$He(e)?Number(e):XHe}});var Qe=J((a0t,Foe)=>{"use strict";var SS=Sr(),QHe=q0().utcFormat,JHe=s8().format,Roe=_r(),Ioe=ei(),Noe=Ioe.FP_SAFE,e9e=-Noe,koe=Ioe.BADNUM,Ee=Foe.exports={};Ee.adjustFormat=function(e){return!e||/^\d[.]\df/.test(e)||/[.]\d%/.test(e)?e:e==="0.f"?"~f":/^\d%/.test(e)?"~%":/^\ds/.test(e)?"~s":!/^[~,.0$]/.test(e)&&/[&fps]/.test(e)?"~"+e:e};var Eoe={};Ee.warnBadFormat=function(t){var e=String(t);Eoe[e]||(Eoe[e]=1,Ee.warn('encountered bad format: "'+e+'"'))};Ee.noFormat=function(t){return String(t)};Ee.numberFormat=function(t){var e;try{e=JHe(Ee.adjustFormat(t))}catch(r){return Ee.warnBadFormat(t),Ee.noFormat}return e};Ee.nestedProperty=OA();Ee.keyedContainer=pne();Ee.relativeAttr=vne();Ee.isPlainObject=Kh();Ee.toLogRange=zA();Ee.relinkPrivateKeys=wne();var ap=js();Ee.isArrayBuffer=ap.isArrayBuffer;Ee.isTypedArray=ap.isTypedArray;Ee.isArrayOrTypedArray=ap.isArrayOrTypedArray;Ee.isArray1D=ap.isArray1D;Ee.ensureArray=ap.ensureArray;Ee.concat=ap.concat;Ee.maxRowLength=ap.maxRowLength;Ee.minRowLength=ap.minRowLength;var Loe=B0();Ee.mod=Loe.mod;Ee.modHalf=Loe.modHalf;var op=qne();Ee.valObjectMeta=op.valObjectMeta;Ee.coerce=op.coerce;Ee.coerce2=op.coerce2;Ee.coerceFont=op.coerceFont;Ee.coercePattern=op.coercePattern;Ee.coerceHoverinfo=op.coerceHoverinfo;Ee.coerceSelectionMarkerOpacity=op.coerceSelectionMarkerOpacity;Ee.validate=op.validate;var Ys=$ae();Ee.dateTime2ms=Ys.dateTime2ms;Ee.isDateTime=Ys.isDateTime;Ee.ms2DateTime=Ys.ms2DateTime;Ee.ms2DateTimeLocal=Ys.ms2DateTimeLocal;Ee.cleanDate=Ys.cleanDate;Ee.isJSDate=Ys.isJSDate;Ee.formatDate=Ys.formatDate;Ee.incrementMonth=Ys.incrementMonth;Ee.dateTick0=Ys.dateTick0;Ee.dfltRange=Ys.dfltRange;Ee.findExactDates=Ys.findExactDates;Ee.MIN_MS=Ys.MIN_MS;Ee.MAX_MS=Ys.MAX_MS;var yv=O8();Ee.findBin=yv.findBin;Ee.sorterAsc=yv.sorterAsc;Ee.sorterDes=yv.sorterDes;Ee.distinctVals=yv.distinctVals;Ee.roundUp=yv.roundUp;Ee.sort=yv.sort;Ee.findIndexOfMin=yv.findIndexOfMin;Ee.sortObjectKeys=P8();var pf=Qae();Ee.aggNums=pf.aggNums;Ee.len=pf.len;Ee.mean=pf.mean;Ee.geometricMean=pf.geometricMean;Ee.median=pf.median;Ee.midRange=pf.midRange;Ee.variance=pf.variance;Ee.stdev=pf.stdev;Ee.interp=pf.interp;var Oc=GA();Ee.init2dArray=Oc.init2dArray;Ee.transposeRagged=Oc.transposeRagged;Ee.dot=Oc.dot;Ee.translationMatrix=Oc.translationMatrix;Ee.rotationMatrix=Oc.rotationMatrix;Ee.rotationXYMatrix=Oc.rotationXYMatrix;Ee.apply3DTransform=Oc.apply3DTransform;Ee.apply2DTransform=Oc.apply2DTransform;Ee.apply2DTransform2=Oc.apply2DTransform2;Ee.convertCssMatrix=Oc.convertCssMatrix;Ee.inverseTransformMatrix=Oc.inverseTransformMatrix;var Hu=noe();Ee.deg2rad=Hu.deg2rad;Ee.rad2deg=Hu.rad2deg;Ee.angleDelta=Hu.angleDelta;Ee.angleDist=Hu.angleDist;Ee.isFullCircle=Hu.isFullCircle;Ee.isAngleInsideSector=Hu.isAngleInsideSector;Ee.isPtInsideSector=Hu.isPtInsideSector;Ee.pathArc=Hu.pathArc;Ee.pathSector=Hu.pathSector;Ee.pathAnnulus=Hu.pathAnnulus;var J0=ioe();Ee.isLeftAnchor=J0.isLeftAnchor;Ee.isCenterAnchor=J0.isCenterAnchor;Ee.isRightAnchor=J0.isRightAnchor;Ee.isTopAnchor=J0.isTopAnchor;Ee.isMiddleAnchor=J0.isMiddleAnchor;Ee.isBottomAnchor=J0.isBottomAnchor;var eb=soe();Ee.segmentsIntersect=eb.segmentsIntersect;Ee.segmentDistance=eb.segmentDistance;Ee.getTextLocation=eb.getTextLocation;Ee.clearLocationCache=eb.clearLocationCache;Ee.getVisibleSegment=eb.getVisibleSegment;Ee.findPointOnPath=eb.findPointOnPath;var cM=Ti();Ee.extendFlat=cM.extendFlat;Ee.extendDeep=cM.extendDeep;Ee.extendDeepAll=cM.extendDeepAll;Ee.extendDeepNoArrays=cM.extendDeepNoArrays;var j8=pv();Ee.log=j8.log;Ee.warn=j8.warn;Ee.error=j8.error;var t9e=V0();Ee.counterRegex=t9e.counter;var V8=aM();Ee.throttle=V8.throttle;Ee.throttleDone=V8.done;Ee.clearThrottle=V8.clear;var Pc=vS();Ee.getGraphDiv=Pc.getGraphDiv;Ee.isPlotDiv=Pc.isPlotDiv;Ee.removeElement=Pc.removeElement;Ee.addStyleRule=Pc.addStyleRule;Ee.addRelatedStyleRule=Pc.addRelatedStyleRule;Ee.deleteRelatedStyleRule=Pc.deleteRelatedStyleRule;Ee.setStyleOnHover=Pc.setStyleOnHover;Ee.getFullTransformMatrix=Pc.getFullTransformMatrix;Ee.getElementTransformMatrix=Pc.getElementTransformMatrix;Ee.getElementAndAncestors=Pc.getElementAndAncestors;Ee.equalDomRects=Pc.equalDomRects;Ee.clearResponsive=uoe();Ee.preserveDrawingBuffer=hoe();Ee.makeTraceGroups=moe();Ee._=goe();Ee.notifier=w8();Ee.filterUnique=boe();Ee.filterVisible=xoe();Ee.pushUnique=S8();Ee.increment=Soe();Ee.cleanNumber=Coe();Ee.ensureNumber=function(e){return Roe(e)?(e=Number(e),e>Noe||e<e9e?koe:e):koe};Ee.isIndex=function(t,e){return e!==void 0&&t>=e?!1:Roe(t)&&t>=0&&t%1===0};Ee.noop=WA();Ee.identity=N8();Ee.repeat=function(t,e){for(var r=new Array(e),n=0;n<e;n++)r[n]=t;return r};Ee.swapAttrs=function(t,e,r,n){r||(r="x"),n||(n="y");for(var i=0;i<e.length;i++){var a=e[i],o=Ee.nestedProperty(t,a.replace("?",r)),s=Ee.nestedProperty(t,a.replace("?",n)),l=o.get();o.set(s.get()),s.set(l)}};Ee.raiseToTop=function(e){e.parentNode.appendChild(e)};Ee.cancelTransition=function(t){return t.transition().duration(0)};Ee.constrain=function(t,e,r){return e>r?Math.max(r,Math.min(e,t)):Math.max(e,Math.min(r,t))};Ee.bBoxIntersect=function(t,e,r){return r=r||0,t.left<=e.right+r&&e.left<=t.right+r&&t.top<=e.bottom+r&&e.top<=t.bottom+r};Ee.simpleMap=function(t,e,r,n,i){for(var a=t.length,o=new Array(a),s=0;s<a;s++)o[s]=e(t[s],r,n,i);return o};Ee.randstr=function t(e,r,n,i){if(n||(n=16),r===void 0&&(r=24),r<=0)return"0";var a=Math.log(Math.pow(2,r))/Math.log(n),o="",s,l,c;for(s=2;a===1/0;s*=2)a=Math.log(Math.pow(2,r/s))/Math.log(n)*s;var u=a-Math.floor(a);for(s=0;s<Math.floor(a);s++)c=Math.floor(Math.random()*n).toString(n),o=c+o;u&&(l=Math.pow(n,u),c=Math.floor(Math.random()*l).toString(n),o=c+o);var d=parseInt(o,n);return e&&e[o]||d!==1/0&&d>=Math.pow(2,r)?i>10?(Ee.warn("randstr failed uniqueness"),o):t(e,r,n,(i||0)+1):o};Ee.OptionControl=function(t,e){t||(t={}),e||(e="opt");var r={};return r.optionList=[],r._newoption=function(n){n[e]=t,r[n.name]=n,r.optionList.push(n)},r["_"+e]=t,r};Ee.smooth=function(t,e){if(e=Math.round(e)||0,e<2)return t;var r=t.length,n=2*r,i=2*e-1,a=new Array(i),o=new Array(r),s,l,c,u;for(s=0;s<i;s++)a[s]=(1-Math.cos(Math.PI*(s+1)/e))/(2*e);for(s=0;s<r;s++){for(u=0,l=0;l<i;l++)c=s+l+1-e,c<-r?c-=n*Math.round(c/n):c>=n&&(c-=n*Math.floor(c/n)),c<0?c=-1-c:c>=r&&(c=n-1-c),u+=t[c]*a[l];o[s]=u}return o};Ee.syncOrAsync=function(t,e,r){var n,i;function a(){return Ee.syncOrAsync(t,e,r)}for(;t.length;)if(i=t.splice(0,1)[0],n=i(e),n&&n.then)return n.then(a);return r&&r(e)};Ee.stripTrailingSlash=function(t){return t.substr(-1)==="/"?t.substr(0,t.length-1):t};Ee.noneOrAll=function(t,e,r){if(t){var n=!1,i=!0,a,o;for(a=0;a<r.length;a++)o=t[r[a]],o!=null?n=!0:i=!1;if(n&&!i)for(a=0;a<r.length;a++)t[r[a]]=e[r[a]]}};Ee.mergeArray=function(t,e,r,n){var i=typeof n=="function";if(Ee.isArrayOrTypedArray(t))for(var a=Math.min(t.length,e.length),o=0;o<a;o++){var s=t[o];e[o][r]=i?n(s):s}};Ee.mergeArrayCastPositive=function(t,e,r){return Ee.mergeArray(t,e,r,function(n){var i=+n;return isFinite(i)&&i>0?i:0})};Ee.fillArray=function(t,e,r,n){if(n=n||Ee.identity,Ee.isArrayOrTypedArray(t))for(var i=0;i<e.length;i++)e[i][r]=n(t[i])};Ee.castOption=function(t,e,r,n){n=n||Ee.identity;var i=Ee.nestedProperty(t,r).get();return Ee.isArrayOrTypedArray(i)?Array.isArray(e)&&Ee.isArrayOrTypedArray(i[e[0]])?n(i[e[0]][e[1]]):n(i[e]):i};Ee.extractOption=function(t,e,r,n){if(r in t)return t[r];var i=Ee.nestedProperty(e,n).get();if(!Array.isArray(i))return i};function Ooe(t){var e={};for(var r in t)for(var n=t[r],i=0;i<n.length;i++)e[n[i]]=+r;return e}Ee.tagSelected=function(t,e,r){var n=e.selectedpoints,i=e._indexToPoints,a;i&&(a=Ooe(i));function o(d){return d!==void 0&&d<t.length}for(var s=0;s<n.length;s++){var l=n[s];if(Ee.isIndex(l)||Ee.isArrayOrTypedArray(l)&&Ee.isIndex(l[0])&&Ee.isIndex(l[1])){var c=a?a[l]:l,u=r?r[c]:c;o(u)&&(t[u].selected=1)}}};Ee.selIndices2selPoints=function(t){var e=t.selectedpoints,r=t._indexToPoints;if(r){for(var n=Ooe(r),i=[],a=0;a<e.length;a++){var o=e[a];if(Ee.isIndex(o)){var s=n[o];Ee.isIndex(s)&&i.push(s)}}return i}else return e};Ee.getTargetArray=function(t,e){var r=e.target;if(typeof r=="string"&&r){var n=Ee.nestedProperty(t,r).get();return Ee.isArrayOrTypedArray(n)?n:!1}else if(Ee.isArrayOrTypedArray(r))return r;return!1};function Poe(t,e,r){var n={};typeof e!="object"&&(e={});var i=r==="pieLike"?-1:3,a=Object.keys(t),o,s,l;for(o=0;o<a.length;o++)s=a[o],l=t[s],!(s.charAt(0)==="_"||typeof l=="function")&&(s==="module"?n[s]=l:Array.isArray(l)?s==="colorscale"||i===-1?n[s]=l.slice():n[s]=l.slice(0,i):Ee.isTypedArray(l)?i===-1?n[s]=l.subarray():n[s]=l.subarray(0,i):l&&typeof l=="object"?n[s]=Poe(t[s],e[s],r):n[s]=l);for(a=Object.keys(e),o=0;o<a.length;o++)s=a[o],l=e[s],(typeof l!="object"||!(s in n)||typeof n[s]!="object")&&(n[s]=l);return n}Ee.minExtend=Poe;Ee.titleCase=function(t){return t.charAt(0).toUpperCase()+t.substr(1)};Ee.containsAny=function(t,e){for(var r=0;r<e.length;r++)if(t.indexOf(e[r])!==-1)return!0;return!1};var r9e=/Version\/[\d\.]+.*Safari/;Ee.isSafari=function(){return r9e.test(window.navigator.userAgent)};var n9e=/iPad|iPhone|iPod/;Ee.isIOS=function(){return n9e.test(window.navigator.userAgent)};var i9e=/Macintosh.+AppleWebKit.+Gecko\)$/;Ee.isMacWKWebView=()=>i9e.test(window.navigator.userAgent);var a9e=/Firefox\/(\d+)\.\d+/;Ee.getFirefoxVersion=function(){var t=a9e.exec(window.navigator.userAgent);if(t&&t.length===2){var e=parseInt(t[1]);if(!isNaN(e))return e}return null};Ee.isD3Selection=function(t){return t instanceof SS.selection};Ee.ensureSingle=function(t,e,r,n){var i=t.select(e+(r?"."+r:""));if(i.size())return i;var a=t.append(e);return r&&a.classed(r,!0),n&&a.call(n),a};Ee.ensureSingleById=function(t,e,r,n){var i=t.select(e+"#"+r);if(i.size())return i;var a=t.append(e).attr("id",r);return n&&a.call(n),a};Ee.objectFromPath=function(t,e){for(var r=t.split("."),n,i=n={},a=0;a<r.length;a++){var o=r[a],s=null,l=r[a].match(/(.*)\[([0-9]+)\]/);l?(o=l[1],s=l[2],n=n[o]=[],a===r.length-1?n[s]=e:n[s]={},n=n[s]):(a===r.length-1?n[o]=e:n[o]={},n=n[o])}return i};var o9e=/^([^\[\.]+)\.(.+)?/,s9e=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function sM(t){return t.slice(0,2)==="__"}Ee.expandObjectPaths=function(t){var e,r,n,i,a,o,s;if(typeof t=="object"&&!Array.isArray(t)){for(r in t)if(t.hasOwnProperty(r))if(e=r.match(o9e)){if(i=t[r],n=e[1],sM(n))continue;delete t[r],t[n]=Ee.extendDeepNoArrays(t[n]||{},Ee.objectFromPath(r,Ee.expandObjectPaths(i))[n])}else if(e=r.match(s9e)){if(i=t[r],n=e[1],sM(n))continue;if(a=parseInt(e[2]),delete t[r],t[n]=t[n]||[],e[3]===".")s=e[4],o=t[n][a]=t[n][a]||{},Ee.extendDeepNoArrays(o,Ee.objectFromPath(s,Ee.expandObjectPaths(i)));else{if(sM(n))continue;t[n][a]=Ee.expandObjectPaths(i)}}else{if(sM(r))continue;t[r]=Ee.expandObjectPaths(t[r])}}return t};Ee.numSeparate=function(t,e,r){if(r||(r=!1),typeof e!="string"||e.length===0)throw new Error("Separator string required for formatting!");typeof t=="number"&&(t=String(t));var n=/(\d+)(\d{3})/,i=e.charAt(0),a=e.charAt(1),o=t.split("."),s=o[0],l=o.length>1?i+o[1]:"";if(a&&(o.length>1||s.length>4||r))for(;n.test(s);)s=s.replace(n,"$1"+a+"$2");return s+l};Ee.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var zoe=/^\w*$/;Ee.templateString=function(t,e){var r={};return t.replace(Ee.TEMPLATE_STRING_REGEX,function(n,i){var a;return zoe.test(i)?a=e[i]:(r[i]=r[i]||Ee.nestedProperty(e,i).get,a=r[i](!0)),a!==void 0?a:""})};var l9e={max:10,count:0,name:"hovertemplate"};Ee.hovertemplateString=function(){return W8.apply(l9e,arguments)};var c9e={max:10,count:0,name:"texttemplate"};Ee.texttemplateString=function(){return W8.apply(c9e,arguments)};var u9e=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function d9e(t){var e=t.match(u9e);return e?{key:e[1],op:e[2],number:Number(e[3])}:{key:t,op:null,number:null}}var f9e={max:10,count:0,name:"texttemplate",parseMultDiv:!0};Ee.texttemplateStringForShapes=function(){return W8.apply(f9e,arguments)};var Doe=/^[:|\|]/;function W8(t,e,r){var n=this,i=arguments;return e||(e={}),t.replace(Ee.TEMPLATE_STRING_REGEX,function(a,o,s){var l=o==="xother"||o==="yother",c=o==="_xother"||o==="_yother",u=o==="_xother_"||o==="_yother_",d=o==="xother_"||o==="yother_",f=l||c||d||u,h=o;(c||u)&&(h=h.substring(1)),(d||u)&&(h=h.substring(0,h.length-1));var p=null,m=null;if(n.parseMultDiv){var v=d9e(h);h=v.key,p=v.op,m=v.number}var y;if(f){if(y=e[h],y===void 0)return""}else{var b,x;for(x=3;x<i.length;x++)if(b=i[x],!!b){if(b.hasOwnProperty(h)){y=b[h];break}if(zoe.test(h)||(y=Ee.nestedProperty(b,h).get(!0)),y!==void 0)break}}if(y!==void 0&&(p==="*"&&(y*=m),p==="/"&&(y/=m)),y===void 0&&n)return n.count<n.max&&(Ee.warn("Variable '"+h+"' in "+n.name+" could not be found!"),y=a),n.count===n.max&&Ee.warn("Too many "+n.name+" warnings - additional warnings will be suppressed"),n.count++,a;if(s){var w;if(s[0]===":"&&(w=r?r.numberFormat:Ee.numberFormat,y!==""&&(y=w(s.replace(Doe,""))(y))),s[0]==="|"){w=r?r.timeFormat:QHe;var S=Ee.dateTime2ms(y);y=Ee.formatDate(S,s.replace(Doe,""),!1,w)}}else{var _=h+"Label";e.hasOwnProperty(_)&&(y=e[_])}return f&&(y="("+y+")",(c||u)&&(y=" "+y),(d||u)&&(y=y+" ")),y})}var lM=48,Aoe=57;Ee.subplotSort=function(t,e){for(var r=Math.min(t.length,e.length)+1,n=0,i=0,a=0;a<r;a++){var o=t.charCodeAt(a)||0,s=e.charCodeAt(a)||0,l=o>=lM&&o<=Aoe,c=s>=lM&&s<=Aoe;if(l&&(n=10*n+o-lM),c&&(i=10*i+s-lM),!l||!c){if(n!==i)return n-i;if(o!==s)return o-s}}return i-n};var Q0=2e9;Ee.seedPseudoRandom=function(){Q0=2e9};Ee.pseudoRandom=function(){var t=Q0;return Q0=(69069*Q0+1)%4294967296,Math.abs(Q0-t)<429496729?Ee.pseudoRandom():Q0/4294967296};Ee.fillText=function(t,e,r){var n=Array.isArray(r)?function(o){r.push(o)}:function(o){r.text=o},i=Ee.extractOption(t,e,"htx","hovertext");if(Ee.isValidTextValue(i))return n(i);var a=Ee.extractOption(t,e,"tx","text");if(Ee.isValidTextValue(a))return n(a)};Ee.isValidTextValue=function(t){return t||t===0};Ee.formatPercent=function(t,e){e=e||0;for(var r=(Math.round(100*t*Math.pow(10,e))*Math.pow(.1,e)).toFixed(e)+"%",n=0;n<e;n++)r.indexOf(".")!==-1&&(r=r.replace("0%","%"),r=r.replace(".%","%"));return r};Ee.isHidden=function(t){var e=window.getComputedStyle(t).display;return!e||e==="none"};Ee.strTranslate=function(t,e){return t||e?"translate("+t+","+e+")":""};Ee.strRotate=function(t){return t?"rotate("+t+")":""};Ee.strScale=function(t){return t!==1?"scale("+t+")":""};Ee.getTextTransform=function(t){var e=t.noCenter,r=t.textX,n=t.textY,i=t.targetX,a=t.targetY,o=t.anchorX||0,s=t.anchorY||0,l=t.rotate,c=t.scale;return c?c>1&&(c=1):c=0,Ee.strTranslate(i-c*(r+o),a-c*(n+s))+Ee.strScale(c)+(l?"rotate("+l+(e?"":" "+r+" "+n)+")":"")};Ee.setTransormAndDisplay=function(t,e){t.attr("transform",Ee.getTextTransform(e)),t.style("display",e.scale?null:"none")};Ee.ensureUniformFontSize=function(t,e){var r=Ee.extendFlat({},e);return r.size=Math.max(e.size,t._fullLayout.uniformtext.minsize||0),r};Ee.join2=function(t,e,r){var n=t.length;return n>1?t.slice(0,-1).join(e)+r+t[n-1]:t.join(e)};Ee.bigFont=function(t){return Math.round(1.2*t)};var Moe=Ee.getFirefoxVersion(),h9e=Moe!==null&&Moe<86;Ee.getPositionFromD3Event=function(){return h9e?[SS.event.layerX,SS.event.layerY]:[SS.event.offsetX,SS.event.offsetY]}});var Uoe=J(()=>{"use strict";var p9e=Qe(),Hoe={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(G8 in Hoe)qoe=G8.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier"),p9e.addStyleRule(qoe,Hoe[G8]);var qoe,G8});var Y8=J((l0t,Boe)=>{Boe.exports=!0});var $8=J((c0t,joe)=>{"use strict";var m9e=Y8(),Z8;typeof global.matchMedia=="function"?Z8=!global.matchMedia("(hover: none)").matches:Z8=m9e;joe.exports=Z8});var tb=J((u0t,Voe)=>{"use strict";var X8=require("events").EventEmitter,v9e={init:function(t){if(t._ev instanceof X8)return t;var e=new X8,r=new X8;return t._ev=e,t._internalEv=r,t.on=e.on.bind(e),t.once=e.once.bind(e),t.removeListener=e.removeListener.bind(e),t.removeAllListeners=e.removeAllListeners.bind(e),t._internalOn=r.on.bind(r),t._internalOnce=r.once.bind(r),t._removeInternalListener=r.removeListener.bind(r),t._removeAllInternalListeners=r.removeAllListeners.bind(r),t.emit=function(n,i){e.emit(n,i),r.emit(n,i)},typeof t.addEventListener=="function"&&t.addEventListener("wheel",()=>{}),t},triggerHandler:function(t,e,r){var n,i=t._ev;if(!i)return;var a=i._events[e];if(!a)return;function o(l){if(l.listener){if(i.removeListener(e,l.listener),!l.fired)return l.fired=!0,l.listener.apply(i,[r])}else return l.apply(i,[r])}a=Array.isArray(a)?a:[a];var s;for(s=0;s<a.length-1;s++)o(a[s]);return n=o(a[s]),n},purge:function(t){return delete t._ev,delete t.on,delete t.once,delete t.removeListener,delete t.removeAllListeners,delete t.emit,delete t._ev,delete t._internalEv,delete t._internalOn,delete t._internalOnce,delete t._removeInternalListener,delete t._removeAllInternalListeners,t}};Voe.exports=v9e});var Yoe=J((d0t,Goe)=>{"use strict";var Woe=Qe(),g9e=hv().dfltConfig;function y9e(t,e){for(var r=[],n,i=0;i<e.length;i++)n=e[i],n===t?r[i]=n:typeof n=="object"?r[i]=Array.isArray(n)?Woe.extendDeep([],n):Woe.extendDeepAll({},n):r[i]=n;return r}var mf={};mf.add=function(t,e,r,n,i){var a,o;if(t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},o=t.undoQueue.index,t.autoplay){t.undoQueue.inSequence||(t.autoplay=!1);return}!t.undoQueue.sequence||t.undoQueue.beginSequence?(a={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},t.undoQueue.queue.splice(o,t.undoQueue.queue.length-o,a),t.undoQueue.index+=1):a=t.undoQueue.queue[o-1],t.undoQueue.beginSequence=!1,a&&(a.undo.calls.unshift(e),a.undo.args.unshift(r),a.redo.calls.push(n),a.redo.args.push(i)),t.undoQueue.queue.length>g9e.queueLength&&(t.undoQueue.queue.shift(),t.undoQueue.index--)};mf.startSequence=function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!0,t.undoQueue.beginSequence=!0};mf.stopSequence=function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!1,t.undoQueue.beginSequence=!1};mf.undo=function(e){var r,n;if(!(e.undoQueue===void 0||isNaN(e.undoQueue.index)||e.undoQueue.index<=0)){for(e.undoQueue.index--,r=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<r.undo.calls.length;n++)mf.plotDo(e,r.undo.calls[n],r.undo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1}};mf.redo=function(e){var r,n;if(!(e.undoQueue===void 0||isNaN(e.undoQueue.index)||e.undoQueue.index>=e.undoQueue.queue.length)){for(r=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<r.redo.calls.length;n++)mf.plotDo(e,r.redo.calls[n],r.redo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1,e.undoQueue.index++}};mf.plotDo=function(t,e,r){t.autoplay=!0,r=y9e(t,r),e.apply(null,r)};Goe.exports=mf});var K8=J((f0t,Zoe)=>{"use strict";Zoe.exports={_isLinkedToArray:"frames_entry",group:{valType:"string",description:["An identifier that specifies the group to which the frame belongs,","used by animate to select a subset of frames."].join(" ")},name:{valType:"string",description:"A label by which to identify the frame"},traces:{valType:"any",description:["A list of trace indices that identify the respective traces in the","data attribute"].join(" ")},baseframe:{valType:"string",description:["The name of the frame into which this frame's properties are merged","before applying. This is used to unify properties and avoid needing","to specify the same values for the same properties in multiple frames."].join(" ")},data:{valType:"any",description:["A list of traces this frame modifies. The format is identical to the","normal trace definition."].join(" ")},layout:{valType:"any",description:["Layout properties which this frame modifies. The format is identical","to the normal layout definition."].join(" ")}}});var ib=J(Vi=>{"use strict";var Bl=Xt(),_S=Qe(),dM=Ws(),Q8=Y0(),b9e=K8(),w9e=gS(),x9e=hv().configAttributes,$oe=Fu(),zc=_S.extendDeepAll,rb=_S.isPlainObject,T9e=_S.isArrayOrTypedArray,fM=_S.nestedProperty,S9e=_S.valObjectMeta,J8="_isSubplotObj",hM="_isLinkedToArray",_9e="_arrayAttrRegexps",Koe="_deprecated",e7=[J8,hM,_9e,Koe];Vi.IS_SUBPLOT_OBJ=J8;Vi.IS_LINKED_TO_ARRAY=hM;Vi.DEPRECATED=Koe;Vi.UNDERSCORE_ATTRS=e7;Vi.get=function(){var t={};return Bl.allTypes.forEach(function(e){t[e]=k9e(e)}),{defs:{valObjects:S9e,metaKeys:e7.concat(["description","role","editType","impliedEdits"]),editType:{traces:$oe.traces,layout:$oe.layout},impliedEdits:{description:["Sometimes when an attribute is changed, other attributes","must be altered as well in order to achieve the intended","result. For example, when `range` is specified, it is","important to set `autorange` to `false` or the new `range`","value would be lost in the redraw. `impliedEdits` is the","mechanism to do this: `impliedEdits: {autorange: false}`.","Each key is a relative paths to the attribute string to","change, using *^* to ascend into the parent container,","for example `range[0]` has `impliedEdits: {*^autorange*: false}`.","A value of `undefined` means that the attribute will not be","changed, but its previous value should be recorded in case","we want to reverse this change later. For example, `autorange`","has `impliedEdits: {*range[0]*: undefined, *range[1]*:undefined}","because the range will likely be changed by redraw."].join(" ")}},traces:t,layout:E9e(),frames:D9e(),animation:nb(w9e),config:nb(x9e)}};Vi.crawl=function(t,e,r,n){var i=r||0;n=n||"",Object.keys(t).forEach(function(a){var o=t[a];if(e7.indexOf(a)===-1){var s=(n?n+".":"")+a;e(o,a,t,i,s),!Vi.isValObject(o)&&rb(o)&&a!=="impliedEdits"&&Vi.crawl(o,e,i+1,s)}})};Vi.isValObject=function(t){return t&&t.valType!==void 0};Vi.findArrayAttributes=function(t){var e=[],r=[],n=[],i,a;function o(l,c,u,d){r=r.slice(0,d).concat([c]),n=n.slice(0,d).concat([l&&l._isLinkedToArray]);var f=l&&(l.valType==="data_array"||l.arrayOk===!0)&&!(r[d-1]==="colorbar"&&(c==="ticktext"||c==="tickvals"));f&&s(i,0,"")}function s(l,c,u){var d=l[r[c]],f=u+r[c];if(c===r.length-1)T9e(d)&&e.push(a+f);else if(n[c]){if(Array.isArray(d))for(var h=0;h<d.length;h++)rb(d[h])&&s(d[h],c+1,f+"["+h+"].")}else rb(d)&&s(d,c+1,f+".")}return i=t,a="",Vi.crawl(dM,o),t._module&&t._module.attributes&&Vi.crawl(t._module.attributes,o),e};Vi.getTraceValObject=function(t,e){var r=e[0],n=1,i,a,o=t._module;if(o||(o=(Bl.modules[t.type||dM.type.dflt]||{})._module),!o)return!1;if(i=o.attributes,a=i&&i[r],!a){var s=o.basePlotModule;s&&s.attributes&&(a=s.attributes[r])}return a||(a=dM[r]),Qoe(a,e,n)};Vi.getLayoutValObject=function(t,e){var r=C9e(t,e[0]);return Qoe(r,e,1)};function C9e(t,e){var r,n,i,a,o=t._basePlotModules;if(o){var s;for(r=0;r<o.length;r++){if(i=o[r],i.attrRegex&&i.attrRegex.test(e)){if(i.layoutAttrOverrides)return i.layoutAttrOverrides;!s&&i.layoutAttributes&&(s=i.layoutAttributes)}var l=i.baseLayoutAttrOverrides;if(l&&e in l)return l[e]}if(s)return s}var c=t._modules;if(c){for(r=0;r<c.length;r++)if(a=c[r].layoutAttributes,a&&e in a)return a[e]}for(n in Bl.componentsRegistry){if(i=Bl.componentsRegistry[n],i.name==="colorscale"&&e.indexOf("coloraxis")===0)return i.layoutAttributes[e];if(!i.schema&&e===i.name)return i.layoutAttributes}return e in Q8?Q8[e]:!1}function Qoe(t,e,r){if(!t)return!1;if(t._isLinkedToArray){if(uM(e[r]))r++;else if(r<e.length)return!1}for(;r<e.length;r++){var n=t[e[r]];if(rb(n))t=n;else break;if(r===e.length-1)break;if(t._isLinkedToArray){if(r++,!uM(e[r]))return!1}else if(t.valType==="info_array"){r++;var i=e[r];if(!uM(i))return!1;var a=t.items;if(Array.isArray(a)){if(i>=a.length)return!1;if(t.dimensions===2){if(r++,e.length===r)return t;var o=e[r];if(!uM(o))return!1;t=a[i][o]}else t=a[i]}else t=a}}return t}function uM(t){return t===Math.round(t)&&t>=0}function k9e(t){var e,r;e=Bl.modules[t]._module,r=e.basePlotModule;var n={};n.type=null;var i=zc({},dM),a=zc({},e.attributes);Vi.crawl(a,function(l,c,u,d,f){fM(i,f).set(void 0),l===void 0&&fM(a,f).set(void 0)}),zc(n,i),Bl.traceIs(t,"noOpacity")&&delete n.opacity,Bl.traceIs(t,"showLegend")||(delete n.showlegend,delete n.legendgroup),Bl.traceIs(t,"noHover")&&(delete n.hoverinfo,delete n.hoverlabel),e.selectPoints||delete n.selectedpoints,zc(n,a),r.attributes&&zc(n,r.attributes),n.type=t;var o={meta:e.meta||{},categories:e.categories||{},animatable:!!e.animatable,type:t,attributes:nb(n)};if(e.layoutAttributes){var s={};zc(s,e.layoutAttributes),o.layoutAttributes=nb(s)}return e.animatable||Vi.crawl(o,function(l){Vi.isValObject(l)&&"anim"in l&&delete l.anim}),o}function E9e(){var t={},e,r;zc(t,Q8);for(e in Bl.subplotsRegistry)if(r=Bl.subplotsRegistry[e],!!r.layoutAttributes)if(Array.isArray(r.attr))for(var n=0;n<r.attr.length;n++)Xoe(t,r,r.attr[n]);else{var i=r.attr==="subplot"?r.name:r.attr;Xoe(t,r,i)}for(e in Bl.componentsRegistry){r=Bl.componentsRegistry[e];var a=r.schema;if(a&&(a.subplots||a.layout)){var o=a.subplots;if(o&&o.xaxis&&!o.yaxis)for(var s in o.xaxis)delete t.yaxis[s];delete t.xaxis.shift,delete t.xaxis.autoshift}else r.name==="colorscale"?zc(t,r.layoutAttributes):r.layoutAttributes&&I9e(t,r.layoutAttributes,r.name)}return{layoutAttributes:nb(t)}}function D9e(){var t={frames:zc({},b9e)};return nb(t),t.frames}function nb(t){return A9e(t),M9e(t),R9e(t),t}function A9e(t){function e(n){return{valType:"string",description:"Sets the source reference on Chart Studio Cloud for `"+n+"`.",editType:"none"}}function r(n,i,a){Vi.isValObject(n)?(n.arrayOk===!0||n.valType==="data_array")&&(a[i+"src"]=e(i)):rb(n)&&(n.role="object")}Vi.crawl(t,r)}function M9e(t){function e(r,n,i){if(r){var a=r[hM];a&&(delete r[hM],i[n]={items:{}},i[n].items[a]=r,i[n].role="object")}}Vi.crawl(t,e)}function R9e(t){function e(r){for(var n in r)if(rb(r[n]))e(r[n]);else if(Array.isArray(r[n]))for(var i=0;i<r[n].length;i++)e(r[n][i]);else r[n]instanceof RegExp&&(r[n]=r[n].toString())}e(t)}function Xoe(t,e,r){var n=fM(t,r),i=zc({},e.layoutAttributes);i[J8]=!0,n.set(i)}function I9e(t,e,r){var n=fM(t,r);n.set(zc(n.get()||{},e))}});var On=J(bv=>{"use strict";var ab=Qe(),N9e=Ws(),sp="templateitemname",t7={name:{valType:"string",editType:"none",description:["When used in a template, named items are created in the output figure","in addition to any items the figure already has in this array.","You can modify these items in the output figure by making your own","item with `templateitemname` matching this `name`","alongside your modifications (including `visible: false` or","`enabled: false` to hide it).","Has no effect outside of a template."].join(" ")}};t7[sp]={valType:"string",editType:"calc",description:["Used to refer to a named item in this array in the template. Named","items from the template will be created even without a matching item","in the input figure, but you can modify one by making an item with","`templateitemname` matching its `name`, alongside your modifications","(including `visible: false` or `enabled: false` to hide it).","If there is no template or no matching item, this item will be","hidden unless you explicitly show it with `visible: true`."].join(" ")};bv.templatedArray=function(t,e){return e._isLinkedToArray=t,e.name=t7.name,e[sp]=t7[sp],e};bv.traceTemplater=function(t){var e={},r,n;for(r in t)n=t[r],Array.isArray(n)&&n.length&&(e[r]=0);function i(a){r=ab.coerce(a,{},N9e,"type");var o={type:r,_template:null};if(r in e){n=t[r];var s=e[r]%n.length;e[r]++,o._template=n[s]}return o}return{newTrace:i}};bv.newContainer=function(t,e,r){var n=t._template,i=n&&(n[e]||r&&n[r]);ab.isPlainObject(i)||(i=null);var a=t[e]={_template:i};return a};bv.arrayTemplater=function(t,e,r){var n=t._template,i=n&&n[ese(e)],a=n&&n[e];(!Array.isArray(a)||!a.length)&&(a=[]);var o={};function s(c){var u={name:c.name,_input:c},d=u[sp]=c[sp];if(!Joe(d))return u._template=i,u;for(var f=0;f<a.length;f++){var h=a[f];if(h.name===d)return o[d]=1,u._template=h,u}return u[r]=c[r]||!1,u._template=!1,u}function l(){for(var c=[],u=0;u<a.length;u++){var d=a[u],f=d.name;if(Joe(f)&&!o[f]){var h={_template:d,name:f,_input:{_templateitemname:f}};h[sp]=d[sp],c.push(h),o[f]=1}}return c}return{newItem:s,defaultItems:l}};function Joe(t){return t&&typeof t=="string"}function ese(t){var e=t.length-1;return t.charAt(e)!=="s"&&ab.warn("bad argument to arrayDefaultKey: "+t),t.substr(0,t.length-1)+"defaults"}bv.arrayDefaultKey=ese;bv.arrayEditor=function(t,e,r){var n=(ab.nestedProperty(t,e).get()||[]).length,i=r._index,a=i>=n&&(r._input||{})._templateitemname;a&&(i=n);var o=e+"["+i+"]",s;function l(){s={},a&&(s[o]={},s[o][sp]=a)}l();function c(h,p){s[h]=p}function u(h,p){a?ab.nestedProperty(s[o],h).set(p):s[o+"."+h]=p}function d(){var h=s;return l(),h}function f(h,p){h&&u(h,p);var m=d();for(var v in m)ab.nestedProperty(t,v).set(m[v])}return{modifyBase:c,modifyItem:u,getUpdateObj:d,applyUpdate:f}}});var Ha=J((m0t,tse)=>{"use strict";var CS=V0().counter;tse.exports={idRegex:{x:CS("x","( domain)?"),y:CS("y","( domain)?")},attrRegex:CS("[xy]axis"),xAxisMatch:CS("xaxis"),yAxisMatch:CS("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}});var Wi=J(ms=>{"use strict";var L9e=Xt(),r7=Ha();ms.id2name=function(e){if(!(typeof e!="string"||!e.match(r7.AX_ID_PATTERN))){var r=e.split(" ")[0].substr(1);return r==="1"&&(r=""),e.charAt(0)+"axis"+r}};ms.name2id=function(e){if(e.match(r7.AX_NAME_PATTERN)){var r=e.substr(5);return r==="1"&&(r=""),e.charAt(0)+r}};ms.cleanId=function(e,r,n){var i=/( domain)$/.test(e);if(!(typeof e!="string"||!e.match(r7.AX_ID_PATTERN))&&!(r&&e.charAt(0)!==r)&&!(i&&!n)){var a=e.split(" ")[0].substr(1).replace(/^0+/,"");return a==="1"&&(a=""),e.charAt(0)+a+(i&&n?" domain":"")}};ms.list=function(t,e,r){var n=t._fullLayout;if(!n)return[];var i=ms.listIds(t,e),a=new Array(i.length),o;for(o=0;o<i.length;o++){var s=i[o];a[o]=n[s.charAt(0)+"axis"+s.substr(1)]}if(!r){var l=n._subplots.gl3d||[];for(o=0;o<l.length;o++){var c=n[l[o]];e?a.push(c[e+"axis"]):a.push(c.xaxis,c.yaxis,c.zaxis)}}return a};ms.listIds=function(t,e){var r=t._fullLayout;if(!r)return[];var n=r._subplots;return e?n[e+"axis"]:n.xaxis.concat(n.yaxis)};ms.getFromId=function(t,e,r){var n=t._fullLayout;return e=e===void 0||typeof e!="string"?e:e.replace(" domain",""),r==="x"?e=e.replace(/y[0-9]*/,""):r==="y"&&(e=e.replace(/x[0-9]*/,"")),n[ms.id2name(e)]};ms.getFromTrace=function(t,e,r){var n=t._fullLayout,i=null;if(L9e.traceIs(e,"gl3d")){var a=e.scene;a.substr(0,5)==="scene"&&(i=n[a][r+"axis"])}else i=ms.getFromId(t,e[r+"axis"]||r);return i};ms.idSort=function(t,e){var r=t.charAt(0),n=e.charAt(0);return r!==n?r>n?1:-1:+(t.substr(1)||1)-+(e.substr(1)||1)};ms.ref2id=function(t){return/^[xyz]/.test(t)?t.split(" ")[0]:!1};function rse(t,e){if(e&&e.length){for(var r=0;r<e.length;r++)if(e[r][t])return!0}return!1}ms.isLinked=function(t,e){return rse(e,t._axisMatchGroups)||rse(e,t._axisConstraintGroups)}});var lp=J((g0t,nse)=>{"use strict";function O9e(t){var e=t._fullLayout._zoomlayer;e&&e.selectAll(".outline-controllers").remove()}function P9e(t){var e=t._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),t._fullLayout._outlining=!1}nse.exports={clearOutlineControllers:O9e,clearOutline:P9e}});var pM=J((y0t,ise)=>{"use strict";ise.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc",description:["Determines how scatter points at the same location coordinate","are displayed on the graph.","With *group*, the scatter points are plotted next to one another","centered around the shared location.","With *overlay*, the scatter points are plotted over one another,","you might need to reduce *opacity* to see multiple scatter points."].join(" ")},scattergap:{valType:"number",min:0,max:1,editType:"calc",description:["Sets the gap (in plot fraction) between scatter points of","adjacent location coordinates.","Defaults to `bargap`."].join(" ")}}});var n7=J(vM=>{"use strict";var mM=Xt(),b0t=Ha().SUBPLOT_PATTERN;vM.getSubplotCalcData=function(t,e,r){var n=mM.subplotsRegistry[e];if(!n)return[];for(var i=n.attr,a=[],o=0;o<t.length;o++){var s=t[o],l=s[0].trace;l[i]===r&&a.push(s)}return a};vM.getModuleCalcData=function(t,e,r){var n=[],i=[],a;if(typeof e=="string"?a=mM.getModule(e).plot:typeof e=="function"?a=e:a=e.plot,!a)return[n,t];for(var o=r,s=0;s<t.length;s++){var l=t[s],c=l[0].trace,u=c.zorder!==void 0;c.visible!==!0||c._length===0||(c._module&&c._module.plot===a&&(!u||c.zorder===o)?n.push(l):i.push(l))}return[n,i]};vM.getSubplotData=function(e,r,n){if(!mM.subplotsRegistry[r])return[];for(var i=mM.subplotsRegistry[r].attr,a=[],o,s,l,c=0;c<e.length;c++)o=e[c],o[i]===n&&a.push(o);return a}});var lse=J(wv=>{"use strict";var z9e=Xt(),ob=Qe();wv.manageCommandObserver=function(t,e,r,n){var i={},a=!0;e&&e._commandObserver&&(i=e._commandObserver),i.cache||(i.cache={}),i.lookupTable={};var o=wv.hasSimpleAPICommandBindings(t,r,i.lookupTable);if(e&&e._commandObserver){if(o)return i;if(e._commandObserver.remove)return e._commandObserver.remove(),e._commandObserver=null,i}if(o){ase(t,o,i.cache),i.check=function(){if(a){var u=ase(t,o,i.cache);return u.changed&&n&&i.lookupTable[u.value]!==void 0&&(i.disable(),Promise.resolve(n({value:u.value,type:o.type,prop:o.prop,traces:o.traces,index:i.lookupTable[u.value]})).then(i.enable,i.enable)),u.changed}};for(var s=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],l=0;l<s.length;l++)t._internalOn(s[l],i.check);i.remove=function(){for(var c=0;c<s.length;c++)t._removeInternalListener(s[c],i.check)}}else ob.log("Unable to automatically bind plot updates to API command"),i.lookupTable={},i.remove=function(){};return i.disable=function(){a=!1},i.enable=function(){a=!0},e&&(e._commandObserver=i),i};wv.hasSimpleAPICommandBindings=function(t,e,r){var n,i=e.length,a;for(n=0;n<i;n++){var o,s=e[n],l=s.method,c=s.args;if(Array.isArray(c)||(c=[]),!l)return!1;var u=wv.computeAPICommandBindings(t,l,c);if(u.length!==1)return!1;if(!a)a=u[0],Array.isArray(a.traces)&&a.traces.sort();else{if(o=u[0],o.type!==a.type||o.prop!==a.prop)return!1;if(Array.isArray(a.traces))if(Array.isArray(o.traces)){o.traces.sort();for(var d=0;d<a.traces.length;d++)if(a.traces[d]!==o.traces[d])return!1}else return!1;else if(o.prop!==a.prop)return!1}o=u[0];var f=o.value;if(Array.isArray(f))if(f.length===1)f=f[0];else return!1;r&&(r[f]=n)}return a};function ase(t,e,r){var n,i,a,o=!1;if(e.type==="data")n=t._fullData[e.traces!==null?e.traces[0]:0];else if(e.type==="layout")n=t._fullLayout;else return!1;return i=ob.nestedProperty(n,e.prop).get(),a=r[e.type]=r[e.type]||{},a.hasOwnProperty(e.prop)&&a[e.prop]!==i&&(o=!0),a[e.prop]=i,{changed:o,value:i}}wv.executeAPICommand=function(t,e,r){if(e==="skip")return Promise.resolve();var n=z9e.apiMethodRegistry[e],i=[t];Array.isArray(r)||(r=[]);for(var a=0;a<r.length;a++)i.push(r[a]);return n.apply(null,i).catch(function(o){return ob.warn("API call to Plotly."+e+" rejected.",o),Promise.reject(o)})};wv.computeAPICommandBindings=function(t,e,r){var n;switch(Array.isArray(r)||(r=[]),e){case"restyle":n=sse(t,r);break;case"relayout":n=ose(t,r);break;case"update":n=sse(t,[r[0],r[2]]).concat(ose(t,[r[1]]));break;case"animate":n=F9e(t,r);break;default:n=[]}return n};function F9e(t,e){return Array.isArray(e[0])&&e[0].length===1&&["string","number"].indexOf(typeof e[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:e[0][0].toString()}]:[]}function ose(t,e){var r=[],n=e[0],i={};if(typeof n=="string")i[n]=e[1];else if(ob.isPlainObject(n))i=n;else return r;return i7(i,function(a,o,s){r.push({type:"layout",prop:a,value:s})},"",0),r}function sse(t,e){var r,n,i,a,o=[];if(n=e[0],i=e[1],r=e[2],a={},typeof n=="string")a[n]=i;else if(ob.isPlainObject(n))a=n,r===void 0&&(r=i);else return o;return r===void 0&&(r=null),i7(a,function(s,l,c){var u,d;if(Array.isArray(c)){d=c.slice();var f=Math.min(d.length,t.data.length);r&&(f=Math.min(f,r.length)),u=[];for(var h=0;h<f;h++)u[h]=r?r[h]:h}else d=c,u=r?r.slice():null;if(u===null)Array.isArray(d)&&(d=d[0]);else if(Array.isArray(u)){if(!Array.isArray(d)){var p=d;d=[];for(var m=0;m<u.length;m++)d[m]=p}d.length=Math.min(u.length,d.length)}o.push({type:"data",prop:s,traces:u,value:d})},"",0),o}function i7(t,e,r,n){Object.keys(t).forEach(function(i){var a=t[i];if(i[0]!=="_"){var o=r+(n>0?".":"")+i;ob.isPlainObject(a)?i7(a,e,o,n+1):e(o,i,a)}})}});var ki=J((T0t,Tse)=>{"use strict";var mse=Sr(),H9e=q0().timeFormatLocale,q9e=s8().formatLocale,kS=_r(),U9e=l8(),Yr=Xt(),vse=ib(),B9e=On(),Nt=Qe(),gse=gr(),cse=ei().BADNUM,vs=Wi(),j9e=lp().clearOutline,V9e=pM(),a7=gS(),W9e=K8(),G9e=n7().getModuleCalcData,use=Nt.relinkPrivateKeys,xv=Nt._,Tt=Tse.exports={};Nt.extendFlat(Tt,Yr);Tt.attributes=Ws();Tt.attributes.type.values=Tt.allTypes;Tt.fontAttrs=ba();Tt.layoutAttributes=Y0();var yM=lse();Tt.executeAPICommand=yM.executeAPICommand;Tt.computeAPICommandBindings=yM.computeAPICommandBindings;Tt.manageCommandObserver=yM.manageCommandObserver;Tt.hasSimpleAPICommandBindings=yM.hasSimpleAPICommandBindings;Tt.redrawText=function(t){return t=Nt.getGraphDiv(t),new Promise(function(e){setTimeout(function(){t._fullLayout&&(Yr.getComponentMethod("annotations","draw")(t),Yr.getComponentMethod("legend","draw")(t),Yr.getComponentMethod("colorbar","draw")(t),e(Tt.previousPromises(t)))},300)})};Tt.resize=function(t){t=Nt.getGraphDiv(t);var e,r=new Promise(function(n,i){(!t||Nt.isHidden(t))&&i(new Error("Resize must be passed a displayed plot div element.")),t._redrawTimer&&clearTimeout(t._redrawTimer),t._resolveResize&&(e=t._resolveResize),t._resolveResize=n,t._redrawTimer=setTimeout(function(){if(!t.layout||t.layout.width&&t.layout.height||Nt.isHidden(t)){n(t);return}delete t.layout.width,delete t.layout.height;var a=t.changed;t.autoplay=!0,Yr.call("relayout",t,{autosize:!0}).then(function(){t.changed=a,t._resolveResize===n&&(delete t._resolveResize,n(t))})},100)});return e&&e(r),r};Tt.previousPromises=function(t){if((t._promises||[]).length)return Promise.all(t._promises).then(function(){t._promises=[]})};Tt.addLinks=function(t){if(!(!t._context.showLink&&!t._context.showSources)){var e=t._fullLayout,r=Nt.ensureSingle(e._paper,"text","js-plot-link-container",function(l){l.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:gse.defaultLine,"pointer-events":"all"}).each(function(){var c=mse.select(this);c.append("tspan").classed("js-link-to-tool",!0),c.append("tspan").classed("js-link-spacer",!0),c.append("tspan").classed("js-sourcelinks",!0)})}),n=r.node(),i={y:e._paper.attr("height")-9};document.body.contains(n)&&n.getComputedTextLength()>=e.width-20?(i["text-anchor"]="start",i.x=5):(i["text-anchor"]="end",i.x=e._paper.attr("width")-7),r.attr(i);var a=r.select(".js-link-to-tool"),o=r.select(".js-link-spacer"),s=r.select(".js-sourcelinks");t._context.showSources&&t._context.showSources(t),t._context.showLink&&Y9e(t,a),o.text(a.text()&&s.text()?" - ":"")}};function Y9e(t,e){e.text("");var r=e.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(t._context.linkText+" \xBB");if(t._context.sendData)r.on("click",function(){Tt.sendDataToCloud(t)});else{var n=window.location.pathname.split("/"),i=window.location.search;r.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+n[2].split(".")[0]+"/"+n[1]+i})}}Tt.sendDataToCloud=function(t){var e=(window.PLOTLYENV||{}).BASE_URL||t._context.plotlyServerURL;if(e){t.emit("plotly_beforeexport");var r=mse.select(t).append("div").attr("id","hiddenform").style("display","none"),n=r.append("form").attr({action:e+"/external",method:"post",target:"_blank"}),i=n.append("input").attr({type:"text",name:"data"});return i.node().value=Tt.graphJson(t,!1,"keepdata"),n.node().submit(),r.remove(),t.emit("plotly_afterexport"),!1}};var Z9e=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],$9e=["year","month","dayMonth","dayMonthYear"];Tt.supplyDefaults=function(t,e){var r=e&&e.skipUpdateCalc,n=t._fullLayout||{};if(n._skipDefaults){delete n._skipDefaults;return}var i=t._fullLayout={},a=t.layout||{},o=t._fullData||[],s=t._fullData=[],l=t.data||[],c=t.calcdata||[],u=t._context||{},d;t._transitionData||Tt.createTransitionData(t),i._dfltTitle={plot:xv(t,"Click to enter Plot title"),subtitle:xv(t,"Click to enter Plot subtitle"),x:xv(t,"Click to enter X axis title"),y:xv(t,"Click to enter Y axis title"),colorbar:xv(t,"Click to enter Colorscale title"),annotation:xv(t,"new text")},i._traceWord=xv(t,"trace");var f=dse(t,Z9e);if(i._mapboxAccessToken=u.mapboxAccessToken,n._initialAutoSizeIsDone){var h=n.width,p=n.height;Tt.supplyLayoutGlobalDefaults(a,i,f),a.width||(i.width=h),a.height||(i.height=p),Tt.sanitizeMargins(i)}else{Tt.supplyLayoutGlobalDefaults(a,i,f);var m=!a.width||!a.height,v=i.autosize,y=u.autosizable,b=m&&(v||y);b?Tt.plotAutoSize(t,a,i):m&&Tt.sanitizeMargins(i),!v&&m&&(a.width=i.width,a.height=i.height)}i._d3locale=Q9e(f,i.separators),i._extraFormat=dse(t,$9e),i._initialAutoSizeIsDone=!0,i._dataLength=l.length,i._modules=[],i._visibleModules=[],i._basePlotModules=[];var x=i._subplots=K9e(),w=i._splomAxes={x:{},y:{}},S=i._splomSubplots={};i._splomGridDflt={},i._scatterStackOpts={},i._firstScatter={},i._alignmentOpts={},i._colorAxes={},i._requestRangeslider={},i._traceUids=X9e(o,l),Tt.supplyDataDefaults(l,s,a,i);var _=Object.keys(w.x),C=Object.keys(w.y);if(_.length>1&&C.length>1){for(Yr.getComponentMethod("grid","sizeDefaults")(a,i),d=0;d<_.length;d++)Nt.pushUnique(x.xaxis,_[d]);for(d=0;d<C.length;d++)Nt.pushUnique(x.yaxis,C[d]);for(var E in S)Nt.pushUnique(x.cartesian,E)}if(i._has=Tt._hasPlotType.bind(i),o.length===s.length)for(d=0;d<s.length;d++)use(s[d],o[d]);Tt.supplyLayoutModuleDefaults(a,i,s,t._transitionData);var M=i._visibleModules,I=[];for(d=0;d<M.length;d++){var L=M[d].crossTraceDefaults;L&&Nt.pushUnique(I,L)}for(d=0;d<I.length;d++)I[d](s,i);i._hasOnlyLargeSploms=i._basePlotModules.length===1&&i._basePlotModules[0].name==="splom"&&_.length>15&&C.length>15&&i.shapes.length===0&&i.images.length===0,Tt.linkSubplots(s,i,o,n),Tt.cleanPlot(s,i,o,n);var O=!!(n._has&&n._has("cartesian")),H=!!(i._has&&i._has("cartesian")),Y=O,K=H;Y&&!K?n._bgLayer.remove():K&&!Y&&(i._shouldCreateBgLayer=!0),n._zoomlayer&&!t._dragging&&j9e({_fullLayout:n}),J9e(s,i),use(i,n),Yr.getComponentMethod("colorscale","crossTraceDefaults")(s,i),i._preGUI||(i._preGUI={}),i._tracePreGUI||(i._tracePreGUI={});var N=i._tracePreGUI,U={},B;for(B in N)U[B]="old";for(d=0;d<s.length;d++)B=s[d]._fullInput.uid,U[B]||(N[B]={}),U[B]="new";for(B in U)U[B]==="old"&&delete N[B];yse(i),Yr.getComponentMethod("rangeslider","makeData")(i),!r&&c.length===s.length&&Tt.supplyDefaultsUpdateCalc(c,s)};Tt.supplyDefaultsUpdateCalc=function(t,e){for(var r=0;r<e.length;r++){var n=e[r],i=(t[r]||[])[0];if(i&&i.trace){var a=i.trace;if(a._hasCalcTransform){var o=a._arrayAttrs,s,l,c;for(s=0;s<o.length;s++)l=o[s],c=Nt.nestedProperty(a,l).get().slice(),Nt.nestedProperty(n,l).set(c)}i.trace=n}}};function X9e(t,e){var r=e.length,n=[],i,a;for(i=0;i<t.length;i++){var o=t[i]._fullInput;o!==a&&n.push(o),a=o}var s=n.length,l=new Array(r),c={};function u(h,p){l[p]=h,c[h]=1}function d(h,p){if(h&&typeof h=="string"&&!c[h])return u(h,p),!0}for(i=0;i<r;i++){var f=e[i].uid;typeof f=="number"&&(f=String(f)),!d(f,i)&&(i<s&&d(n[i].uid,i)||u(Nt.randstr(c),i))}return l}function K9e(){var t=Yr.collectableSubplotTypes,e={},r,n;if(!t){t=[];var i=Yr.subplotsRegistry;for(var a in i){var o=i[a],s=o.attr;if(s&&(t.push(a),Array.isArray(s)))for(n=0;n<s.length;n++)Nt.pushUnique(t,s[n])}}for(r=0;r<t.length;r++)e[t[r]]=[];return e}function dse(t,e){var r=t._context.locale;r||(r="en-US");var n=!1,i={};function a(d){for(var f=!0,h=0;h<e.length;h++){var p=e[h];i[p]||(d[p]?i[p]=d[p]:f=!1)}f&&(n=!0)}for(var o=0;o<2;o++){for(var s=t._context.locales,l=0;l<2;l++){var c=(s[r]||{}).format;if(c&&(a(c),n))break;s=Yr.localeRegistry}var u=r.split("-")[0];if(n||u===r)break;r=u}return n||a(Yr.localeRegistry.en.format),i}function Q9e(t,e){return t.decimal=e.charAt(0),t.thousands=e.charAt(1),{numberFormat:function(r){try{r=q9e(t).format(Nt.adjustFormat(r))}catch(n){return Nt.warnBadFormat(r),Nt.noFormat}return r},timeFormat:H9e(t).utcFormat}}function J9e(t,e){var r,n=[];e.meta&&(r=e._meta={meta:e.meta,layout:{meta:e.meta}});for(var i=0;i<t.length;i++){var a=t[i];a.meta?n[a.index]=a._meta={meta:a.meta}:e.meta&&(a._meta={meta:e.meta}),e.meta&&(a._meta.layout={meta:e.meta})}n.length&&(r||(r=e._meta={}),r.data=n)}Tt.createTransitionData=function(t){t._transitionData||(t._transitionData={}),t._transitionData._frames||(t._transitionData._frames=[]),t._transitionData._frameHash||(t._transitionData._frameHash={}),t._transitionData._counter||(t._transitionData._counter=0),t._transitionData._interruptCallbacks||(t._transitionData._interruptCallbacks=[])};Tt._hasPlotType=function(t){var e,r=this._basePlotModules||[];for(e=0;e<r.length;e++)if(r[e].name===t)return!0;var n=this._modules||[];for(e=0;e<n.length;e++){var i=n[e].name;if(i===t)return!0;var a=Yr.modules[i];if(a&&a.categories[t])return!0}return!1};Tt.cleanPlot=function(t,e,r,n){var i,a,o=n._basePlotModules||[];for(i=0;i<o.length;i++){var s=o[i];s.clean&&s.clean(t,e,r,n)}var l=n._has&&n._has("gl"),c=e._has&&e._has("gl");l&&!c&&n._glcontainer!==void 0&&(n._glcontainer.selectAll(".gl-canvas").remove(),n._glcontainer.selectAll(".no-webgl").remove(),n._glcanvas=null);var u=!!n._infolayer;e:for(i=0;i<r.length;i++){var d=r[i],f=d.uid;for(a=0;a<t.length;a++){var h=t[a];if(f===h.uid)continue e}u&&n._infolayer.select(".cb"+f).remove()}};Tt.linkSubplots=function(t,e,r,n){var i,a,o=n._plots||{},s=e._plots={},l=e._subplots,c={_fullData:t,_fullLayout:e},u=l.cartesian||[];for(i=0;i<u.length;i++){var d=u[i],f=o[d],h=vs.getFromId(c,d,"x"),p=vs.getFromId(c,d,"y"),m;for(f?m=s[d]=f:(m=s[d]={},m.id=d),h._counterAxes.push(p._id),p._counterAxes.push(h._id),h._subplotsWith.push(d),p._subplotsWith.push(d),m.xaxis=h,m.yaxis=p,m._hasClipOnAxisFalse=!1,a=0;a<t.length;a++){var v=t[a];if(v.xaxis===m.xaxis._id&&v.yaxis===m.yaxis._id&&v.cliponaxis===!1){m._hasClipOnAxisFalse=!0;break}}}var y=vs.list(c,null,!0),b;for(i=0;i<y.length;i++){b=y[i];var x=null;b.overlaying&&(x=vs.getFromId(c,b.overlaying),x&&x.overlaying&&(b.overlaying=!1,x=null)),b._mainAxis=x||b,x&&(b.domain=x.domain.slice()),b._anchorAxis=b.anchor==="free"?null:vs.getFromId(c,b.anchor)}for(i=0;i<y.length;i++)if(b=y[i],b._counterAxes.sort(vs.idSort),b._subplotsWith.sort(Nt.subplotSort),b._mainSubplot=eqe(b,e),b._counterAxes.length&&(b.spikemode&&b.spikemode.indexOf("across")!==-1||b.automargin&&b.mirror&&b.anchor!=="free"||Yr.getComponentMethod("rangeslider","isVisible")(b))){var w=1,S=0;for(a=0;a<b._counterAxes.length;a++){var _=vs.getFromId(c,b._counterAxes[a]);w=Math.min(w,_.domain[0]),S=Math.max(S,_.domain[1])}w<S&&(b._counterDomainMin=w,b._counterDomainMax=S)}};function eqe(t,e){var r={_fullLayout:e},n=t._id.charAt(0)==="x",i=t._mainAxis._anchorAxis,a="",o="",s="";if(i&&(s=i._mainAxis._id,a=n?t._id+s:s+t._id),!a||!e._plots[a]){a="";for(var l=t._counterAxes,c=0;c<l.length;c++){var u=l[c],d=n?t._id+u:u+t._id;o||(o=d);var f=vs.getFromId(r,u);if(s&&f.overlaying===s){a=d;break}}}return a||o}Tt.clearExpandedTraceDefaultColors=function(t){var e,r,n;function i(o,s,l,c){r[c]=s,r.length=c+1,o.valType==="color"&&o.dflt===void 0&&e.push(r.join("."))}for(r=[],e=t._module._colorAttrs,e||(t._module._colorAttrs=e=[],vse.crawl(t._module.attributes,i)),n=0;n<e.length;n++){var a=Nt.nestedProperty(t,"_input."+e[n]);a.get()||Nt.nestedProperty(t,e[n]).set(null)}};Tt.supplyDataDefaults=function(t,e,r,n){var i=n._modules,a=n._visibleModules,o=n._basePlotModules,s=0,l=0,c,u,d;n._transformModules=[];function f(b){e.push(b);var x=b._module;x&&(Nt.pushUnique(i,x),b.visible===!0&&Nt.pushUnique(a,x),Nt.pushUnique(o,b._module.basePlotModule),s++,b._input.visible!==!1&&l++)}var h={},p=[],m=(r.template||{}).data||{},v=B9e.traceTemplater(m);for(c=0;c<t.length;c++)d=t[c],u=v.newTrace(d),u.uid=n._traceUids[c],Tt.supplyTraceDefaults(d,u,l,n,c),u.index=c,u._input=d,u._fullInput=u,f(u),Yr.traceIs(u,"carpetAxis")&&(h[u.carpet]=u),Yr.traceIs(u,"carpetDependent")&&p.push(c);for(c=0;c<p.length;c++)if(u=e[p[c]],!!u.visible){var y=h[u.carpet];if(u._carpet=y,!y||!y.visible){u.visible=!1;continue}u.xaxis=y.xaxis,u.yaxis=y.yaxis}};Tt.supplyAnimationDefaults=function(t){t=t||{};var e,r={};function n(i,a){return Nt.coerce(t||{},r,a7,i,a)}if(n("mode"),n("direction"),n("fromcurrent"),Array.isArray(t.frame))for(r.frame=[],e=0;e<t.frame.length;e++)r.frame[e]=Tt.supplyAnimationFrameDefaults(t.frame[e]||{});else r.frame=Tt.supplyAnimationFrameDefaults(t.frame||{});if(Array.isArray(t.transition))for(r.transition=[],e=0;e<t.transition.length;e++)r.transition[e]=Tt.supplyAnimationTransitionDefaults(t.transition[e]||{});else r.transition=Tt.supplyAnimationTransitionDefaults(t.transition||{});return r};Tt.supplyAnimationFrameDefaults=function(t){var e={};function r(n,i){return Nt.coerce(t||{},e,a7.frame,n,i)}return r("duration"),r("redraw"),e};Tt.supplyAnimationTransitionDefaults=function(t){var e={};function r(n,i){return Nt.coerce(t||{},e,a7.transition,n,i)}return r("duration"),r("easing"),e};Tt.supplyFrameDefaults=function(t){var e={};function r(n,i){return Nt.coerce(t,e,W9e,n,i)}return r("group"),r("name"),r("traces"),r("baseframe"),r("data"),r("layout"),e};Tt.supplyTraceDefaults=function(t,e,r,n,i){var a=n.colorway||gse.defaults,o=a[r%a.length],s;function l(x,w){return Nt.coerce(t,e,Tt.attributes,x,w)}var c=l("visible");l("type"),l("name",n._traceWord+" "+i),l("uirevision",n.uirevision);var u=Tt.getModule(e);if(e._module=u,u){var d=u.basePlotModule,f=d.attr,h=d.attributes;if(f&&h){var p=n._subplots,m="";if(Array.isArray(f))for(s=0;s<f.length;s++){var v=f[s],y=Nt.coerce(t,e,h,v);p[v]&&Nt.pushUnique(p[v],y),m+=y}else m=Nt.coerce(t,e,h,f);p[d.name]&&Nt.pushUnique(p[d.name],m)}}if(c&&(l("customdata"),l("ids"),l("meta"),Yr.traceIs(e,"showLegend")?(Nt.coerce(t,e,u.attributes.showlegend?u.attributes:Tt.attributes,"showlegend"),l("legend"),l("legendwidth"),l("legendgroup"),l("legendgrouptitle.text"),l("legendrank"),e._dfltShowLegend=!0):e._dfltShowLegend=!1,u&&u.supplyDefaults(t,e,o,n),Yr.traceIs(e,"noOpacity")||l("opacity"),Yr.traceIs(e,"notLegendIsolatable")&&(e.visible=!!e.visible),Yr.traceIs(e,"noHover")||(e.hovertemplate||Nt.coerceHoverinfo(t,e,n),e.type!=="parcats"&&Yr.getComponentMethod("fx","supplyDefaults")(t,e,o,n)),u&&u.selectPoints)){var b=l("selectedpoints");Nt.isTypedArray(b)&&(e.selectedpoints=Array.from(b))}return e};Tt.supplyLayoutGlobalDefaults=function(t,e,r){function n(d,f){return Nt.coerce(t,e,Tt.layoutAttributes,d,f)}var i=t.template;Nt.isPlainObject(i)&&(e.template=i,e._template=i.layout,e._dataTemplate=i.data),n("autotypenumbers");var a=Nt.coerceFont(n,"font"),o=a.size;Nt.coerceFont(n,"title.font",a,{overrideDflt:{size:Math.round(o*1.4)}}),n("title.text",e._dfltTitle.plot),n("title.xref");var s=n("title.yref");n("title.pad.t"),n("title.pad.r"),n("title.pad.b"),n("title.pad.l");var l=n("title.automargin");n("title.x"),n("title.xanchor"),n("title.y"),n("title.yanchor"),n("title.subtitle.text",e._dfltTitle.subtitle),Nt.coerceFont(n,"title.subtitle.font",a,{overrideDflt:{size:Math.round(e.title.font.size*.7)}}),l&&(s==="paper"&&(e.title.y!==0&&(e.title.y=1),e.title.yanchor==="auto"&&(e.title.yanchor=e.title.y===0?"top":"bottom")),s==="container"&&(e.title.y==="auto"&&(e.title.y=1),e.title.yanchor==="auto"&&(e.title.yanchor=e.title.y<.5?"bottom":"top")));var c=n("uniformtext.mode");c&&n("uniformtext.minsize"),n("autosize",!(t.width&&t.height)),n("width"),n("height"),n("minreducedwidth"),n("minreducedheight"),n("margin.l"),n("margin.r"),n("margin.t"),n("margin.b"),n("margin.pad"),n("margin.autoexpand"),t.width&&t.height&&Tt.sanitizeMargins(e),Yr.getComponentMethod("grid","sizeDefaults")(t,e),n("paper_bgcolor"),n("separators",r.decimal+r.thousands),n("hidesources"),n("colorway"),n("datarevision");var u=n("uirevision");n("editrevision",u),n("selectionrevision",u),Yr.getComponentMethod("modebar","supplyLayoutDefaults")(t,e),Yr.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(t,e,n),Yr.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(t,e,n),n("meta"),Nt.isPlainObject(t.transition)&&(n("transition.duration"),n("transition.easing"),n("transition.ordering")),Yr.getComponentMethod("calendars","handleDefaults")(t,e,"calendar"),Yr.getComponentMethod("fx","supplyLayoutGlobalDefaults")(t,e,n),Nt.coerce(t,e,V9e,"scattermode")};function gM(t){return typeof t=="string"&&t.substr(t.length-2)==="px"&&parseFloat(t)}Tt.plotAutoSize=function(e,r,n){var i=e._context||{},a=i.frameMargins,o,s,l=Nt.isPlotDiv(e);if(l&&e.emit("plotly_autosize"),i.fillFrame)o=window.innerWidth,s=window.innerHeight,document.body.style.overflow="hidden";else{var c=l?window.getComputedStyle(e):{};if(o=gM(c.width)||gM(c.maxWidth)||n.width,s=gM(c.height)||gM(c.maxHeight)||n.height,kS(a)&&a>0){var u=1-2*a;o=Math.round(u*o),s=Math.round(u*s)}}var d=Tt.layoutAttributes.width.min,f=Tt.layoutAttributes.height.min;o<d&&(o=d),s<f&&(s=f);var h=!r.width&&Math.abs(n.width-o)>1,p=!r.height&&Math.abs(n.height-s)>1;(p||h)&&(h&&(n.width=o),p&&(n.height=s)),e._initialAutoSize||(e._initialAutoSize={width:o,height:s}),Tt.sanitizeMargins(n)};Tt.supplyLayoutModuleDefaults=function(t,e,r,n){var i=Yr.componentsRegistry,a=e._basePlotModules,o,s,l,c=Yr.subplotsRegistry.cartesian;for(o in i)l=i[o],l.includeBasePlot&&l.includeBasePlot(t,e);a.length||a.push(c),e._has("cartesian")&&(Yr.getComponentMethod("grid","contentDefaults")(t,e),c.finalizeSubplots(t,e));for(var u in e._subplots)e._subplots[u].sort(Nt.subplotSort);for(s=0;s<a.length;s++)l=a[s],l.supplyLayoutDefaults&&l.supplyLayoutDefaults(t,e,r);var d=e._modules;for(s=0;s<d.length;s++)l=d[s],l.supplyLayoutDefaults&&l.supplyLayoutDefaults(t,e,r);var f=e._transformModules;for(s=0;s<f.length;s++)l=f[s],l.supplyLayoutDefaults&&l.supplyLayoutDefaults(t,e,r,n);for(o in i)l=i[o],l.supplyLayoutDefaults&&l.supplyLayoutDefaults(t,e,r)};Tt.purge=function(t){var e=t._fullLayout||{};e._glcontainer!==void 0&&(e._glcontainer.selectAll(".gl-canvas").remove(),e._glcontainer.remove(),e._glcanvas=null),e._modeBar&&e._modeBar.destroy(),t._transitionData&&(t._transitionData._interruptCallbacks&&(t._transitionData._interruptCallbacks.length=0),t._transitionData._animationRaf&&window.cancelAnimationFrame(t._transitionData._animationRaf)),Nt.clearThrottle(),Nt.clearResponsive(t),delete t.data,delete t.layout,delete t._fullData,delete t._fullLayout,delete t.calcdata,delete t.empty,delete t.fid,delete t.undoqueue,delete t.undonum,delete t.autoplay,delete t.changed,delete t._promises,delete t._redrawTimer,delete t._hmlumcount,delete t._hmpixcount,delete t._transitionData,delete t._transitioning,delete t._initialAutoSize,delete t._transitioningWithDuration,delete t._dragging,delete t._dragged,delete t._dragdata,delete t._hoverdata,delete t._snapshotInProgress,delete t._editing,delete t._mouseDownTime,delete t._legendMouseDownTime,t.removeAllListeners&&t.removeAllListeners()};Tt.style=function(t){var e=t._fullLayout._visibleModules,r=[],n;for(n=0;n<e.length;n++){var i=e[n];i.style&&Nt.pushUnique(r,i.style)}for(n=0;n<r.length;n++)r[n](t)};Tt.sanitizeMargins=function(t){if(!(!t||!t.margin)){var e=t.width,r=t.height,n=t.margin,i=e-(n.l+n.r),a=r-(n.t+n.b),o;i<0&&(o=(e-1)/(n.l+n.r),n.l=Math.floor(o*n.l),n.r=Math.floor(o*n.r)),a<0&&(o=(r-1)/(n.t+n.b),n.t=Math.floor(o*n.t),n.b=Math.floor(o*n.b))}};Tt.clearAutoMarginIds=function(t){t._fullLayout._pushmarginIds={}};Tt.allowAutoMargin=function(t,e){t._fullLayout._pushmarginIds[e]=1};function yse(t){var e=t.margin;if(!t._size){var r=t._size={l:Math.round(e.l),r:Math.round(e.r),t:Math.round(e.t),b:Math.round(e.b),p:Math.round(e.pad)};r.w=Math.round(t.width)-r.l-r.r,r.h=Math.round(t.height)-r.t-r.b}t._pushmargin||(t._pushmargin={}),t._pushmarginIds||(t._pushmarginIds={}),t._reservedMargin||(t._reservedMargin={})}var bse=2,wse=2;Tt.autoMargin=function(t,e,r){var n=t._fullLayout,i=n.width,a=n.height,o=n.margin,s=n.minreducedwidth,l=n.minreducedheight,c=Nt.constrain(i-o.l-o.r,bse,s),u=Nt.constrain(a-o.t-o.b,wse,l),d=Math.max(0,i-c),f=Math.max(0,a-u),h=n._pushmargin,p=n._pushmarginIds;if(o.autoexpand!==!1){if(!r)delete h[e],delete p[e];else{var m=r.pad;if(m===void 0&&(m=Math.min(12,o.l,o.r,o.t,o.b)),d){var v=(r.l+r.r)/d;v>1&&(r.l/=v,r.r/=v)}if(f){var y=(r.t+r.b)/f;y>1&&(r.t/=y,r.b/=y)}var b=r.xl!==void 0?r.xl:r.x,x=r.xr!==void 0?r.xr:r.x,w=r.yt!==void 0?r.yt:r.y,S=r.yb!==void 0?r.yb:r.y;h[e]={l:{val:b,size:r.l+m},r:{val:x,size:r.r+m},b:{val:S,size:r.b+m},t:{val:w,size:r.t+m}},p[e]=1}if(!n._replotting)return Tt.doAutoMargin(t)}};function tqe(t){if("_redrawFromAutoMarginCount"in t._fullLayout)return!1;var e=vs.list(t,"",!0);for(var r in e)if(e[r].autoshift||e[r].shift)return!0;return!1}Tt.doAutoMargin=function(t){var e=t._fullLayout,r=e.width,n=e.height;e._size||(e._size={}),yse(e);var i=e._size,a=e.margin,o={t:0,b:0,l:0,r:0},s=Nt.extendFlat({},i),l=a.l,c=a.r,u=a.t,d=a.b,f=e._pushmargin,h=e._pushmarginIds,p=e.minreducedwidth,m=e.minreducedheight;if(a.autoexpand!==!1){for(var v in f)h[v]||delete f[v];var y=t._fullLayout._reservedMargin;for(var b in y)for(var x in y[b]){var w=y[b][x];o[x]=Math.max(o[x],w)}f.base={l:{val:0,size:l},r:{val:1,size:c},t:{val:1,size:u},b:{val:0,size:d}};for(var S in o){var _=0;for(var C in f)C!=="base"&&kS(f[C][S].size)&&(_=f[C][S].size>_?f[C][S].size:_);var E=Math.max(0,a[S]-_);o[S]=Math.max(0,o[S]-E)}for(var M in f){var I=f[M].l||{},L=f[M].b||{},O=I.val,H=I.size,Y=L.val,K=L.size,N=r-o.r-o.l,U=n-o.t-o.b;for(var B in f){if(kS(H)&&f[B].r){var $=f[B].r.val,ee=f[B].r.size;if($>O){var te=(H*$+(ee-N)*O)/($-O),he=(ee*(1-O)+(H-N)*(1-$))/($-O);te+he>l+c&&(l=te,c=he)}}if(kS(K)&&f[B].t){var we=f[B].t.val,Te=f[B].t.size;if(we>Y){var ce=(K*we+(Te-U)*Y)/(we-Y),q=(Te*(1-Y)+(K-U)*(1-we))/(we-Y);ce+q>d+u&&(d=ce,u=q)}}}}}var X=Nt.constrain(r-a.l-a.r,bse,p),G=Nt.constrain(n-a.t-a.b,wse,m),de=Math.max(0,r-X),ue=Math.max(0,n-G);if(de){var fe=(l+c)/de;fe>1&&(l/=fe,c/=fe)}if(ue){var _e=(d+u)/ue;_e>1&&(d/=_e,u/=_e)}if(i.l=Math.round(l)+o.l,i.r=Math.round(c)+o.r,i.t=Math.round(u)+o.t,i.b=Math.round(d)+o.b,i.p=Math.round(a.pad),i.w=Math.round(r)-i.l-i.r,i.h=Math.round(n)-i.t-i.b,!e._replotting&&(Tt.didMarginChange(s,i)||tqe(t))){"_redrawFromAutoMarginCount"in e?e._redrawFromAutoMarginCount++:e._redrawFromAutoMarginCount=1;var Oe=3*(1+Object.keys(h).length);if(e._redrawFromAutoMarginCount<Oe)return Yr.call("_doPlot",t);e._size=s,Nt.warn("Too many auto-margin redraws.")}rqe(t)};function rqe(t){var e=vs.list(t,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(r){for(var n=0;n<e.length;n++){var i=e[n][r];i&&i()}})}var fse=["l","r","t","b","p","w","h"];Tt.didMarginChange=function(t,e){for(var r=0;r<fse.length;r++){var n=fse[r],i=t[n],a=e[n];if(!kS(i)||Math.abs(a-i)>1)return!0}return!1};Tt.graphJson=function(t,e,r,n,i,a){(i&&e&&!t._fullData||i&&!e&&!t._fullLayout)&&Tt.supplyDefaults(t);var o=i?t._fullData:t.data,s=i?t._fullLayout:t.layout,l=(t._transitionData||{})._frames;function c(f,h){if(typeof f=="function")return h?"_function_":null;if(Nt.isPlainObject(f)){var p={},m;return Object.keys(f).sort().forEach(function(x){if(["_","["].indexOf(x.charAt(0))===-1){if(typeof f[x]=="function"){h&&(p[x]="_function");return}if(r==="keepdata"){if(x.substr(x.length-3)==="src")return}else if(r==="keepstream"){if(m=f[x+"src"],typeof m=="string"&&m.indexOf(":")>0&&!Nt.isPlainObject(f.stream))return}else if(r!=="keepall"&&(m=f[x+"src"],typeof m=="string"&&m.indexOf(":")>0))return;p[x]=c(f[x],h)}}),p}var v=Array.isArray(f),y=Nt.isTypedArray(f);if((v||y)&&f.dtype&&f.shape){var b=f.bdata;return c({dtype:f.dtype,shape:f.shape,bdata:Nt.isArrayBuffer(b)?U9e.encode(b):b},h)}return v?f.map(function(x){return c(x,h)}):y?Nt.simpleMap(f,Nt.identity):Nt.isJSDate(f)?Nt.ms2DateTimeLocal(+f):f}var u={data:(o||[]).map(function(f){var h=c(f);return e&&delete h.fit,h})};if(!e&&(u.layout=c(s),i)){var d=s._size;u.layout.computed={margin:{b:d.b,l:d.l,r:d.r,t:d.t}}}return l&&(u.frames=c(l)),a&&(u.config=c(t._context,!0)),n==="object"?u:JSON.stringify(u)};Tt.modifyFrames=function(t,e){var r,n,i,a=t._transitionData._frames,o=t._transitionData._frameHash;for(r=0;r<e.length;r++)switch(n=e[r],n.type){case"replace":i=n.value;var s=(a[n.index]||{}).name,l=i.name;a[n.index]=o[l]=i,l!==s&&(delete o[s],o[l]=i);break;case"insert":i=n.value,o[i.name]=i,a.splice(n.index,0,i);break;case"delete":i=a[n.index],delete o[i.name],a.splice(n.index,1);break}return Promise.resolve()};Tt.computeFrame=function(t,e){var r=t._transitionData._frameHash,n,i,a,o;if(!e)throw new Error("computeFrame must be given a string frame name");var s=r[e.toString()];if(!s)return!1;for(var l=[s],c=[s.name];s.baseframe&&(s=r[s.baseframe.toString()])&&c.indexOf(s.name)===-1;)l.push(s),c.push(s.name);for(var u={};s=l.pop();)if(s.layout&&(u.layout=Tt.extendLayout(u.layout,s.layout)),s.data){if(u.data||(u.data=[]),i=s.traces,!i)for(i=[],n=0;n<s.data.length;n++)i[n]=n;for(u.traces||(u.traces=[]),n=0;n<s.data.length;n++)a=i[n],a!=null&&(o=u.traces.indexOf(a),o===-1&&(o=u.data.length,u.traces[o]=a),u.data[o]=Tt.extendTrace(u.data[o],s.data[n]))}return u};Tt.recomputeFrameHash=function(t){for(var e=t._transitionData._frameHash={},r=t._transitionData._frames,n=0;n<r.length;n++){var i=r[n];i&&i.name&&(e[i.name]=i)}};Tt.extendObjectWithContainers=function(t,e,r){var n,i,a,o,s,l,c,u,d=Nt.extendDeepNoArrays({},e||{}),f=Nt.expandObjectPaths(d),h={};if(r&&r.length)for(a=0;a<r.length;a++)n=Nt.nestedProperty(f,r[a]),i=n.get(),i===void 0?Nt.nestedProperty(h,r[a]).set(null):(n.set(null),Nt.nestedProperty(h,r[a]).set(i));if(t=Nt.extendDeepNoArrays(t||{},f),r&&r.length){for(a=0;a<r.length;a++)if(s=Nt.nestedProperty(h,r[a]),c=s.get(),!!c){for(l=Nt.nestedProperty(t,r[a]),u=l.get(),Array.isArray(u)||(u=[],l.set(u)),o=0;o<c.length;o++){var p=c[o];p===null?u[o]=null:u[o]=Tt.extendObjectWithContainers(u[o],p)}l.set(u)}}return t};Tt.dataArrayContainers=["transforms","dimensions"];Tt.layoutArrayContainers=Yr.layoutArrayContainers;Tt.extendTrace=function(t,e){return Tt.extendObjectWithContainers(t,e,Tt.dataArrayContainers)};Tt.extendLayout=function(t,e){return Tt.extendObjectWithContainers(t,e,Tt.layoutArrayContainers)};Tt.transition=function(t,e,r,n,i,a){var o={redraw:i.redraw},s={},l=[];return o.prepareFn=function(){for(var c=Array.isArray(e)?e.length:0,u=n.slice(0,c),d=0;d<u.length;d++){var f=u[d],h=t._fullData[f],p=h._module;if(p){if(p.animatable){var m=p.basePlotModule.name;s[m]||(s[m]=[]),s[m].push(f)}t.data[u[d]]=Tt.extendTrace(t.data[u[d]],e[d])}}var v=Nt.expandObjectPaths(Nt.extendDeepNoArrays({},r)),y=/^[xy]axis[0-9]*$/;for(var b in v)y.test(b)&&delete v[b].range;Tt.extendLayout(t.layout,v),delete t.calcdata,Tt.supplyDefaults(t),Tt.doCalcdata(t);var x=Nt.expandObjectPaths(r);if(x){var w=t._fullLayout._plots;for(var S in w){var _=w[S],C=_.xaxis,E=_.yaxis,M=C.range.slice(),I=E.range.slice(),L=null,O=null,H=null,Y=null;Array.isArray(x[C._name+".range"])?L=x[C._name+".range"].slice():Array.isArray((x[C._name]||{}).range)&&(L=x[C._name].range.slice()),Array.isArray(x[E._name+".range"])?O=x[E._name+".range"].slice():Array.isArray((x[E._name]||{}).range)&&(O=x[E._name].range.slice()),M&&L&&(C.r2l(M[0])!==C.r2l(L[0])||C.r2l(M[1])!==C.r2l(L[1]))&&(H={xr0:M,xr1:L}),I&&O&&(E.r2l(I[0])!==E.r2l(O[0])||E.r2l(I[1])!==E.r2l(O[1]))&&(Y={yr0:I,yr1:O}),(H||Y)&&l.push(Nt.extendFlat({plotinfo:_},H,Y))}}return Promise.resolve()},o.runFn=function(c){var u,d=t._fullLayout._basePlotModules,f=l.length,h;if(r)for(h=0;h<d.length;h++)d[h].transitionAxes&&d[h].transitionAxes(t,l,a,c);f?(u=Nt.extendFlat({},a),u.duration=0,delete s.cartesian):u=a;for(var p in s){var m=s[p],v=t._fullData[m[0]]._module;v.basePlotModule.plot(t,m,u,c)}},xse(t,a,o)};Tt.transitionFromReact=function(t,e,r,n){var i=t._fullLayout,a=i.transition,o={},s=[];return o.prepareFn=function(){var l=i._plots;o.redraw=!1,e.anim==="some"&&(o.redraw=!0),r.anim==="some"&&(o.redraw=!0);for(var c in l){var u=l[c],d=u.xaxis,f=u.yaxis,h=n[d._name].range.slice(),p=n[f._name].range.slice(),m=d.range.slice(),v=f.range.slice();d.setScale(),f.setScale();var y=null,b=null;(d.r2l(h[0])!==d.r2l(m[0])||d.r2l(h[1])!==d.r2l(m[1]))&&(y={xr0:h,xr1:m}),(f.r2l(p[0])!==f.r2l(v[0])||f.r2l(p[1])!==f.r2l(v[1]))&&(b={yr0:p,yr1:v}),(y||b)&&s.push(Nt.extendFlat({plotinfo:u},y,b))}return Promise.resolve()},o.runFn=function(l){for(var c=t._fullData,u=t._fullLayout,d=u._basePlotModules,f,h,p,m=[],v=0;v<c.length;v++)m.push(v);function y(){if(t._fullLayout)for(var x=0;x<d.length;x++)d[x].transitionAxes&&d[x].transitionAxes(t,s,f,l)}function b(){if(t._fullLayout)for(var x=0;x<d.length;x++)d[x].plot(t,p,h,l)}s.length&&e.anim?a.ordering==="traces first"?(f=Nt.extendFlat({},a,{duration:0}),p=m,h=a,setTimeout(y,a.duration),b()):(f=a,p=null,h=Nt.extendFlat({},a,{duration:0}),setTimeout(b,f.duration),y()):s.length?(f=a,y()):e.anim&&(p=m,h=a,b())},xse(t,a,o)};function xse(t,e,r){var n=!1;function i(d){var f=Promise.resolve();if(!d)return f;for(;d.length;)f=f.then(d.shift());return f}function a(d){if(d)for(;d.length;)d.shift()}function o(){return t.emit("plotly_transitioning",[]),new Promise(function(d){t._transitioning=!0,e.duration>0&&(t._transitioningWithDuration=!0),t._transitionData._interruptCallbacks.push(function(){n=!0}),r.redraw&&t._transitionData._interruptCallbacks.push(function(){return Yr.call("redraw",t)}),t._transitionData._interruptCallbacks.push(function(){t.emit("plotly_transitioninterrupted",[])});var f=0,h=0;function p(){return f++,function(){h++,!n&&h===f&&s(d)}}r.runFn(p),setTimeout(p())})}function s(d){if(t._transitionData)return a(t._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(r.redraw)return Yr.call("redraw",t)}).then(function(){t._transitioning=!1,t._transitioningWithDuration=!1,t.emit("plotly_transitioned",[])}).then(d)}function l(){if(t._transitionData)return t._transitioning=!1,i(t._transitionData._interruptCallbacks)}var c=[Tt.previousPromises,l,r.prepareFn,Tt.rehover,Tt.reselect,o],u=Nt.syncOrAsync(c,t);return(!u||!u.then)&&(u=Promise.resolve()),u.then(function(){return t})}Tt.doCalcdata=function(t,e){var r=vs.list(t),n=t._fullData,i=t._fullLayout,a,o,s,l,c=new Array(n.length),u=(t.calcdata||[]).slice();for(t.calcdata=c,i._numBoxes=0,i._numViolins=0,i._violinScaleGroupStats={},t._hmpixcount=0,t._hmlumcount=0,i._piecolormap={},i._sunburstcolormap={},i._treemapcolormap={},i._iciclecolormap={},i._funnelareacolormap={},s=0;s<n.length;s++)if(Array.isArray(e)&&e.indexOf(s)===-1){c[s]=u[s];continue}for(s=0;s<n.length;s++)a=n[s],a._arrayAttrs=vse.findArrayAttributes(a),a._extremes={};var d=i._subplots.polar||[];for(s=0;s<d.length;s++)r.push(i[d[s]].radialaxis,i[d[s]].angularaxis);for(var f in i._colorAxes){var h=i[f];h.cauto!==!1&&(delete h.cmin,delete h.cmax)}var p=!1;function m(b){if(a=n[b],o=a._module,a.visible===!0&&a.transforms){if(o&&o.calc){var x=o.calc(t,a);x[0]&&x[0].t&&x[0].t._scene&&delete x[0].t._scene.dirty}for(l=0;l<a.transforms.length;l++){var w=a.transforms[l];o=transformsRegistry[w.type],o&&o.calcTransform&&(a._hasCalcTransform=!0,p=!0,o.calcTransform(t,a,w))}}}function v(b,x){if(a=n[b],o=a._module,!!o.isContainer===x){var w=[];if(a.visible===!0&&a._length!==0){delete a._indexToPoints;var S=a.transforms||[];for(l=S.length-1;l>=0;l--)if(S[l].enabled){a._indexToPoints=S[l]._indexToPoints;break}o&&o.calc&&(w=o.calc(t,a))}(!Array.isArray(w)||!w[0])&&(w=[{x:cse,y:cse}]),w[0].t||(w[0].t={}),w[0].trace=a,c[b]=w}}for(hse(r,n,i),s=0;s<n.length;s++)v(s,!0);for(s=0;s<n.length;s++)m(s);for(p&&hse(r,n,i),s=0;s<n.length;s++)v(s,!0);for(s=0;s<n.length;s++)v(s,!1);pse(t);var y=iqe(r,t);if(y.length){for(i._numBoxes=0,i._numViolins=0,s=0;s<y.length;s++)v(y[s],!0);for(s=0;s<y.length;s++)v(y[s],!1);pse(t)}Yr.getComponentMethod("fx","calc")(t),Yr.getComponentMethod("errorbars","calc")(t)};var nqe=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function iqe(t,e){var r=[],n,i,a,o,s;function l(B,$,ee){var te=$._id.charAt(0);if(B==="histogram2dcontour"){var he=$._counterAxes[0],we=vs.getFromId(e,he),Te=te==="x"||he==="x"&&we.type==="category",ce=te==="y"||he==="y"&&we.type==="category";return function(q,X){return q===0||X===0||Te&&q===ee[X].length-1||ce&&X===ee.length-1?-1:(te==="y"?X:q)-1}}else return function(q,X){return te==="y"?X:q}}var c={min:function(B){return Nt.aggNums(Math.min,null,B)},max:function(B){return Nt.aggNums(Math.max,null,B)},sum:function(B){return Nt.aggNums(function($,ee){return $+ee},null,B)},total:function(B){return Nt.aggNums(function($,ee){return $+ee},null,B)},mean:function(B){return Nt.mean(B)},"geometric mean":function(B){return Nt.geometricMean(B)},median:function(B){return Nt.median(B)}};function u(B,$){return B[1]-$[1]}function d(B,$){return $[1]-B[1]}for(n=0;n<t.length;n++){var f=t[n];if(f.type==="category"){var h=f.categoryorder.match(nqe);if(h){var p=h[1],m=h[2],v=f._id.charAt(0),y=v==="x",b=[];for(i=0;i<f._categories.length;i++)b.push([f._categories[i],[]]);for(i=0;i<f._traceIndices.length;i++){var x=f._traceIndices[i],w=e._fullData[x];if(w.visible===!0){var S=w.type;Yr.traceIs(w,"histogram")&&(delete w._xautoBinFinished,delete w._yautoBinFinished);var _=S==="splom",C=S==="scattergl",E=e.calcdata[x];for(a=0;a<E.length;a++){var M=E[a],I,L;if(_){var O=w._axesDim[f._id];if(!y){var H=w._diag[O][0];H&&(f=e._fullLayout[vs.id2name(H)])}var Y=M.trace.dimensions[O].values;for(o=0;o<Y.length;o++)for(I=f._categoriesMap[Y[o]],s=0;s<M.trace.dimensions.length;s++)if(s!==O){var K=M.trace.dimensions[s];b[I][1].push(K.values[o])}}else if(C){for(o=0;o<M.t.x.length;o++)y?(I=M.t.x[o],L=M.t.y[o]):(I=M.t.y[o],L=M.t.x[o]),b[I][1].push(L);M.t&&M.t._scene&&delete M.t._scene.dirty}else if(M.hasOwnProperty("z")){L=M.z;var N=l(w.type,f,L);for(o=0;o<L.length;o++)for(s=0;s<L[o].length;s++)I=N(s,o),I+1&&b[I][1].push(L[o][s])}else for(I=M.p,I===void 0&&(I=M[v]),L=M.s,L===void 0&&(L=M.v),L===void 0&&(L=y?M.y:M.x),Array.isArray(L)||(L===void 0?L=[]:L=[L]),o=0;o<L.length;o++)b[I][1].push(L[o])}}}f._categoriesValue=b;var U=[];for(i=0;i<b.length;i++)U.push([b[i][0],c[p](b[i][1])]);U.sort(m==="descending"?d:u),f._categoriesAggregatedValue=U,f._initialCategories=U.map(function(B){return B[0]}),r=r.concat(f.sortByInitialCategories())}}}return r}function hse(t,e,r){var n={};function i(l){l.clearCalc(),l.type==="multicategory"&&l.setupMultiCategory(e),n[l._id]=1}Nt.simpleMap(t,i);for(var a=r._axisMatchGroups||[],o=0;o<a.length;o++)for(var s in a[o])n[s]||i(r[vs.id2name(s)])}function pse(t){var e=t._fullLayout,r=e._visibleModules,n={},i,a,o;for(a=0;a<r.length;a++){var s=r[a],l=s.crossTraceCalc;if(l){var c=s.basePlotModule.name;n[c]?Nt.pushUnique(n[c],l):n[c]=[l]}}for(o in n){var u=n[o],d=e._subplots[o];if(Array.isArray(d))for(i=0;i<d.length;i++){var f=d[i],h=o==="cartesian"?e._plots[f]:e[f];for(a=0;a<u.length;a++)u[a](t,h,f)}else for(a=0;a<u.length;a++)u[a](t)}}Tt.rehover=function(t){t._fullLayout._rehover&&t._fullLayout._rehover()};Tt.redrag=function(t){t._fullLayout._redrag&&t._fullLayout._redrag()};Tt.reselect=function(t){var e=t._fullLayout,r=(t.layout||{}).selections,n=e._previousSelections;e._previousSelections=r;var i=e._reselect||JSON.stringify(r)!==JSON.stringify(n);Yr.getComponentMethod("selections","reselect")(t,i)};Tt.generalUpdatePerTraceModule=function(t,e,r,n){var i=e.traceHash,a={},o;for(o=0;o<r.length;o++){var s=r[o],l=s[0].trace;l.visible&&(a[l.type]=a[l.type]||[],a[l.type].push(s))}for(var c in i)if(!a[c]){var u=i[c][0],d=u[0].trace;d.visible=!1,a[c]=[u]}for(var f in a){var h=a[f],p=h[0][0].trace._module;p.plot(t,e,Nt.filterVisible(h),n)}e.traceHash=a};Tt.plotBasePlot=function(t,e,r,n,i){var a=Yr.getModule(t),o=G9e(e.calcdata,a)[0];a.plot(e,o,n,i)};Tt.cleanBasePlot=function(t,e,r,n,i){var a=i._has&&i._has(t),o=r._has&&r._has(t);a&&!o&&i["_"+t+"layer"].selectAll("g.trace").remove()}});var cp=J(Tv=>{"use strict";Tv.xmlns="http://www.w3.org/2000/xmlns/";Tv.svg="http://www.w3.org/2000/svg";Tv.xlink="http://www.w3.org/1999/xlink";Tv.svgAttrs={xmlns:Tv.svg,"xmlns:xlink":Tv.xlink}});var ao=J((_0t,Sse)=>{"use strict";Sse.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}});var wa=J(jl=>{"use strict";var Ni=Sr(),vf=Qe(),aqe=vf.strTranslate,o7=cp(),oqe=ao().LINE_SPACING,sqe=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;jl.convertToTspans=function(t,e,r){var n=t.text(),i=!t.attr("data-notex")&&e&&e._context.typesetMath&&typeof MathJax!="undefined"&&n.match(sqe),a=Ni.select(t.node().parentNode);if(a.empty())return;var o=t.attr("class")?t.attr("class").split(" ")[0]:"text";o+="-math",a.selectAll("svg."+o).remove(),a.selectAll("g."+o+"-group").remove(),t.style("display",null).attr({"data-unformatted":n,"data-math":"N"});function s(){a.empty()||(o=t.attr("class")+"-math",a.select("svg."+o).remove()),t.text("").style("white-space","pre");var l=wqe(t.node(),n);l&&t.style("pointer-events","all"),jl.positionText(t),r&&r.call(t)}return i?(e&&e._promises||[]).push(new Promise(function(l){t.style("display","none");var c=parseInt(t.node().style.fontSize,10),u={fontSize:c};dqe(i[2],u,function(d,f,h){a.selectAll("svg."+o).remove(),a.selectAll("g."+o+"-group").remove();var p=d&&d.select("svg");if(!p||!p.node()){s(),l();return}var m=a.append("g").classed(o+"-group",!0).attr({"pointer-events":"none","data-unformatted":n,"data-math":"Y"});m.node().appendChild(p.node()),f&&f.node()&&p.node().insertBefore(f.node().cloneNode(!0),p.node().firstChild);var v=h.width,y=h.height;p.attr({class:o,height:y,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var b=t.node().style.fill||"black",x=p.select("g");x.attr({fill:b,stroke:b});var w=x.node().getBoundingClientRect(),S=w.width,_=w.height;(S>v||_>y)&&(p.style("overflow","hidden"),w=p.node().getBoundingClientRect(),S=w.width,_=w.height);var C=+t.attr("x"),E=+t.attr("y"),M=c||t.node().getBoundingClientRect().height,I=-M/4;if(o[0]==="y")m.attr({transform:"rotate("+[-90,C,E]+")"+aqe(-S/2,I-_/2)});else if(o[0]==="l")E=I-_/2;else if(o[0]==="a"&&o.indexOf("atitle")!==0)C=0,E=I;else{var L=t.attr("text-anchor");C=C-S*(L==="middle"?.5:L==="end"?1:0),E=E+I-_/2}p.attr({x:C,y:E}),r&&r.call(t,m),l(m)})})):s(),t};var lqe=/(<|&lt;|&#60;)/g,cqe=/(>|&gt;|&#62;)/g;function uqe(t){return t.replace(lqe,"\\lt ").replace(cqe,"\\gt ")}var _se=[["$","$"],["\\(","\\)"]];function dqe(t,e,r){var n=parseInt((MathJax.version||"").split(".")[0]);if(n!==2&&n!==3){vf.warn("No MathJax version:",MathJax.version);return}var i,a,o,s,l=function(){return a=vf.extendDeepAll({},MathJax.Hub.config),o=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:_se},displayAlign:"left"})},c=function(){a=vf.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=_se},u=function(){if(i=MathJax.Hub.config.menuSettings.renderer,i!=="SVG")return MathJax.Hub.setRenderer("SVG")},d=function(){i=MathJax.config.startup.output,i!=="svg"&&(MathJax.config.startup.output="svg")},f=function(){var b="math-output-"+vf.randstr({},64);s=Ni.select("body").append("div").attr({id:b}).style({visibility:"hidden",position:"absolute","font-size":e.fontSize+"px"}).text(uqe(t));var x=s.node();return n===2?MathJax.Hub.Typeset(x):MathJax.typeset([x])},h=function(){var b=s.select(n===2?".MathJax_SVG":".MathJax"),x=!b.empty()&&s.select("svg").node();if(!x)vf.log("There was an error in the tex syntax.",t),r();else{var w=x.getBoundingClientRect(),S;n===2?S=Ni.select("body").select("#MathJax_SVG_glyphs"):S=b.select("defs"),r(b,S,w)}s.remove()},p=function(){if(i!=="SVG")return MathJax.Hub.setRenderer(i)},m=function(){i!=="svg"&&(MathJax.config.startup.output=i)},v=function(){return o!==void 0&&(MathJax.Hub.processSectionDelay=o),MathJax.Hub.Config(a)},y=function(){MathJax.config=a};n===2?MathJax.Hub.Queue(l,u,f,h,p,v):n===3&&(c(),d(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){f(),h(),m(),y()}))}var Dse={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},fqe={sub:"0.3em",sup:"-0.6em"},hqe={sub:"-0.21em",sup:"0.42em"},Cse="\u200B",kse=["http:","https:","mailto:","",void 0,":"],Ase=jl.NEWLINES=/(\r\n?|\n)/g,l7=/(<[^<>]*>)/,c7=/<(\/?)([^ >]*)(\s+(.*))?>/i,pqe=/<br(\s+.*)?>/i;jl.BR_TAG_ALL=/<br(\s+.*)?>/gi;var Mse=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,Rse=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,Ise=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,mqe=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function Sv(t,e){if(!t)return null;var r=t.match(e),n=r&&(r[3]||r[4]);return n&&bM(n)}var vqe=/(^|;)\s*color:/;jl.plainText=function(t,e){e=e||{};for(var r=e.len!==void 0&&e.len!==-1?e.len:1/0,n=e.allowedTags!==void 0?e.allowedTags:["br"],i="...",a=i.length,o=t.split(l7),s=[],l="",c=0,u=0;u<o.length;u++){var d=o[u],f=d.match(c7),h=f&&f[2].toLowerCase();if(h)n.indexOf(h)!==-1&&(s.push(d),l=h);else{var p=d.length;if(c+p<r)s.push(d),c+=p;else if(c<r){var m=r-c;l&&(l!=="br"||m<=a||p<=a)&&s.pop(),r>a?s.push(d.substr(0,m-a)+i):s.push(d.substr(0,m));break}l=""}}return s.join("")};var gqe={mu:"\u03BC",amp:"&",lt:"<",gt:">",nbsp:"\xA0",times:"\xD7",plusmn:"\xB1",deg:"\xB0"},yqe=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function bM(t){return t.replace(yqe,function(e,r){var n;return r.charAt(0)==="#"?n=bqe(r.charAt(1)==="x"?parseInt(r.substr(2),16):parseInt(r.substr(1),10)):n=gqe[r],n||e})}jl.convertEntities=bM;function bqe(t){if(!(t>1114111)){var e=String.fromCodePoint;if(e)return e(t);var r=String.fromCharCode;return t<=65535?r(t):r((t>>10)+55232,t%1024+56320)}}function wqe(t,e){e=e.replace(Ase," ");var r=!1,n=[],i,a=-1;function o(){a++;var _=document.createElementNS(o7.svg,"tspan");Ni.select(_).attr({class:"line",dy:a*oqe+"em"}),t.appendChild(_),i=_;var C=n;if(n=[{node:_}],C.length>1)for(var E=1;E<C.length;E++)s(C[E])}function s(_){var C=_.type,E={},M;if(C==="a"){M="a";var I=_.target,L=_.href,O=_.popup;L&&(E={"xlink:xlink:show":I==="_blank"||I.charAt(0)!=="_"?"new":"replace",target:I,"xlink:xlink:href":L},O&&(E.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+O+'");return false;'))}else M="tspan";_.style&&(E.style=_.style);var H=document.createElementNS(o7.svg,M);if(C==="sup"||C==="sub"){l(i,Cse),i.appendChild(H);var Y=document.createElementNS(o7.svg,"tspan");l(Y,Cse),Ni.select(Y).attr("dy",hqe[C]),E.dy=fqe[C],i.appendChild(H),i.appendChild(Y)}else i.appendChild(H);Ni.select(H).attr(E),i=_.node=H,n.push(_)}function l(_,C){_.appendChild(document.createTextNode(C))}function c(_){if(n.length===1){vf.log("Ignoring unexpected end tag </"+_+">.",e);return}var C=n.pop();_!==C.type&&vf.log("Start tag <"+C.type+"> doesnt match end tag <"+_+">. Pretending it did match.",e),i=n[n.length-1].node}var u=pqe.test(e);u?o():(i=t,n=[{node:t}]);for(var d=e.split(l7),f=0;f<d.length;f++){var h=d[f],p=h.match(c7),m=p&&p[2].toLowerCase(),v=Dse[m];if(m==="br")o();else if(v===void 0)l(i,bM(h));else if(p[1])c(m);else{var y=p[4],b={type:m},x=Sv(y,Mse);if(x?(x=x.replace(vqe,"$1 fill:"),v&&(x+=";"+v)):v&&(x=v),x&&(b.style=x),m==="a"){r=!0;var w=Sv(y,Rse);if(w){var S=Nse(w);S&&(b.href=S,b.target=Sv(y,Ise)||"_blank",b.popup=Sv(y,mqe))}}s(b)}}return r}function Nse(t){var e=encodeURI(decodeURI(t)),r=document.createElement("a"),n=document.createElement("a");r.href=t,n.href=e;var i=r.protocol,a=n.protocol;return kse.indexOf(i)!==-1&&kse.indexOf(a)!==-1?e:""}jl.sanitizeHTML=function(e){e=e.replace(Ase," ");for(var r=document.createElement("p"),n=r,i=[],a=e.split(l7),o=0;o<a.length;o++){var s=a[o],l=s.match(c7),c=l&&l[2].toLowerCase();if(c in Dse)if(l[1])i.length&&(n=i.pop());else{var u=l[4],d=Sv(u,Mse),f=d?{style:d}:{};if(c==="a"){var h=Sv(u,Rse);if(h){var p=Nse(h);if(p){f.href=p;var m=Sv(u,Ise);m&&(f.target=m)}}}var v=document.createElement(c);n.appendChild(v),Ni.select(v).attr(f),n=v,i.push(v)}else n.appendChild(document.createTextNode(bM(s)))}var y="innerHTML";return r[y]};jl.lineCount=function(e){return e.selectAll("tspan.line").size()||1};jl.positionText=function(e,r,n){return e.each(function(){var i=Ni.select(this);function a(l,c){return c===void 0?(c=i.attr(l),c===null&&(i.attr(l,0),c=0)):i.attr(l,c),c}var o=a("x",r),s=a("y",n);this.nodeName==="text"&&i.selectAll("tspan.line").attr({x:o,y:s})})};function Ese(t,e,r){var n=r.horizontalAlign,i=r.verticalAlign||"top",a=t.node().getBoundingClientRect(),o=e.node().getBoundingClientRect(),s,l,c;return i==="bottom"?l=function(){return a.bottom-s.height}:i==="middle"?l=function(){return a.top+(a.height-s.height)/2}:l=function(){return a.top},n==="right"?c=function(){return a.right-s.width}:n==="center"?c=function(){return a.left+(a.width-s.width)/2}:c=function(){return a.left},function(){s=this.node().getBoundingClientRect();var u=c()-o.left,d=l()-o.top,f=r.gd||{};if(r.gd){f._fullLayout._calcInverseTransform(f);var h=vf.apply3DTransform(f._fullLayout._invTransform)(u,d);u=h[0],d=h[1]}return this.style({top:d+"px",left:u+"px","z-index":1e3}),this}}var s7="1px ";jl.makeTextShadow=function(t){var e=s7,r=s7,n=s7;return e+r+n+t+", -"+e+"-"+r+n+t+", "+e+"-"+r+n+t+", -"+e+r+n+t};jl.makeEditable=function(t,e){var r=e.gd,n=e.delegate,i=Ni.dispatch("edit","input","cancel"),a=n||t;if(t.style({"pointer-events":n?"none":"all"}),t.size()!==1)throw new Error("boo");function o(){l(),t.style({opacity:0});var c=a.attr("class"),u;c?u="."+c.split(" ")[0]+"-math-group":u="[class*=-math-group]",u&&Ni.select(t.node().parentNode).select(u).style({opacity:0})}function s(c){var u=c.node(),d=document.createRange();d.selectNodeContents(u);var f=window.getSelection();f.removeAllRanges(),f.addRange(d),u.focus()}function l(){var c=Ni.select(r),u=c.select(".svg-container"),d=u.append("div"),f=t.node().style,h=parseFloat(f.fontSize||12),p=e.text;p===void 0&&(p=t.attr("data-unformatted")),d.classed("plugin-editable editable",!0).style({position:"absolute","font-family":f.fontFamily||"Arial","font-size":h,color:e.fill||f.fill||"black",opacity:1,"background-color":e.background||"transparent",outline:"#ffffff33 1px solid",margin:[-h/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(p).call(Ese(t,u,e)).on("blur",function(){r._editing=!1,t.text(this.textContent).style({opacity:1});var m=Ni.select(this).attr("class"),v;m?v="."+m.split(" ")[0]+"-math-group":v="[class*=-math-group]",v&&Ni.select(t.node().parentNode).select(v).style({opacity:0});var y=this.textContent;Ni.select(this).transition().duration(0).remove(),Ni.select(document).on("mouseup",null),i.edit.call(t,y)}).on("focus",function(){var m=this;r._editing=!0,Ni.select(document).on("mouseup",function(){if(Ni.event.target===m)return!1;document.activeElement===d.node()&&d.node().blur()})}).on("keyup",function(){Ni.event.which===27?(r._editing=!1,t.style({opacity:1}),Ni.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),i.cancel.call(t,this.textContent)):(i.input.call(t,this.textContent),Ni.select(this).call(Ese(t,u,e)))}).on("keydown",function(){Ni.event.which===13&&this.blur()}).call(s)}return e.immediate?o():a.on("click",o),Ni.rebind(t,i,"on")}});var Vl=J((k0t,Use)=>{"use strict";var xqe=Sr(),xM=Vs(),DS=_r(),wM=Qe(),Lse=gr(),Tqe=dv().isValid;function Sqe(t,e,r){var n=e?wM.nestedProperty(t,e).get()||{}:t,i=n[r||"color"];i&&i._inputArray&&(i=i._inputArray);var a=!1;if(wM.isArrayOrTypedArray(i)){for(var o=0;o<i.length;o++)if(DS(i[o])){a=!0;break}}return wM.isPlainObject(n)&&(a||n.showscale===!0||DS(n.cmin)&&DS(n.cmax)||Tqe(n.colorscale)||wM.isPlainObject(n.colorbar))}var Ose=["showscale","autocolorscale","colorscale","reversescale","colorbar"],ES=["min","max","mid","auto"];function zse(t){var e=t._colorAx,r=e||t,n={},i,a,o;for(a=0;a<Ose.length;a++)o=Ose[a],n[o]=r[o];if(e)for(i="c",a=0;a<ES.length;a++)o=ES[a],n[o]=r["c"+o];else{var s;for(a=0;a<ES.length;a++){if(o=ES[a],s="c"+o,s in r){n[o]=r[s];continue}s="z"+o,s in r&&(n[o]=r[s])}i=s.charAt(0)}return n._sync=function(l,c){var u=ES.indexOf(l)!==-1?i+l:l;r[u]=r["_"+u]=c},n}function Fse(t){for(var e=zse(t),r=e.min,n=e.max,i=e.reversescale?Hse(e.colorscale):e.colorscale,a=i.length,o=new Array(a),s=new Array(a),l=0;l<a;l++){var c=i[l];o[l]=r+c[0]*(n-r),s[l]=c[1]}return{domain:o,range:s}}function Hse(t){for(var e=t.length,r=new Array(e),n=e-1,i=0;n>=0;n--,i++){var a=t[n];r[i]=[1-a[0],a[1]]}return r}function qse(t,e){e=e||{};for(var r=t.domain,n=t.range,i=n.length,a=new Array(i),o=0;o<i;o++){var s=xM(n[o]).toRgb();a[o]=[s.r,s.g,s.b,s.a]}var l=xqe.scale.linear().domain(r).range(a).clamp(!0),c=e.noNumericCheck,u=e.returnArray,d;return c&&u?d=l:c?d=function(f){return Pse(l(f))}:u?d=function(f){return DS(f)?l(f):xM(f).isValid()?f:Lse.defaultLine}:d=function(f){return DS(f)?Pse(l(f)):xM(f).isValid()?f:Lse.defaultLine},d.domain=l.domain,d.range=function(){return n},d}function _qe(t,e){return qse(Fse(t),e)}function Pse(t){var e={r:t[0],g:t[1],b:t[2],a:t[3]};return xM(e).toRgbString()}Use.exports={hasColorscale:Sqe,extractOpts:zse,extractScale:Fse,flipScale:Hse,makeColorScaleFunc:qse,makeColorScaleFuncFromTrace:_qe}});var AS=J((E0t,Vse)=>{"use strict";var Bse=D8(),Cqe=Bse.FORMAT_LINK,kqe=Bse.DATE_FORMAT_LINK;function Eqe(t,e){return{valType:"string",dflt:"",editType:"none",description:(e?u7:jse)("hover text",t)+["By default the values are formatted using "+(e?"generic number format":"`"+t+"axis.hoverformat`")+"."].join(" ")}}function u7(t,e){return["Sets the "+t+" formatting rule"+(e?"for `"+e+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+Cqe+"."].join(" ")}function jse(t,e){return u7(t,e)+[" And for dates see: "+kqe+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}Vse.exports={axisHoverFormat:Eqe,descriptionOnlyNumbers:u7,descriptionWithDates:jse}});var Fc=J((D0t,sle)=>{"use strict";var Wse=ba(),sb=Pu(),ole=Lc().dash,h7=Ti().extendFlat,Gse=On().templatedArray,Yse=AS().descriptionWithDates,Dqe=ei().ONEDAY,qu=Ha(),d7=qu.HOUR_PATTERN,f7=qu.WEEKDAY_PATTERN,TM={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0},description:["Sets the tick mode for this axis.","If *auto*, the number of ticks is set via `nticks`.","If *linear*, the placement of the ticks is determined by","a starting position `tick0` and a tick step `dtick`","(*linear* is the default value if `tick0` and `dtick` are provided).","If *array*, the placement of the ticks is set via `tickvals`","and the tick text is `ticktext`.","(*array* is the default value if `tickvals` is provided)."].join(" ")},Aqe=h7({},TM,{values:TM.values.slice().concat(["sync"]),description:[TM.description,"If *sync*, the number of ticks will sync with the overlayed axis","set by `overlaying` property."].join(" ")});function Zse(t){return{valType:"integer",min:0,dflt:t?5:0,editType:"ticks",description:["Specifies the maximum number of ticks for the particular axis.","The actual number of ticks will be chosen automatically to be","less than or equal to `nticks`.","Has an effect only if `tickmode` is set to *auto*."].join(" ")}}var $se={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"},description:["Sets the placement of the first tick on this axis.","Use with `dtick`.","If the axis `type` is *log*, then you must take the log of your starting tick","(e.g. to set the starting tick to 100, set the `tick0` to 2)","except when `dtick`=*L<f>* (see `dtick` for more info).","If the axis `type` is *date*, it should be a date string, like date data.","If the axis `type` is *category*, it should be a number, using the scale where","each category is assigned a serial number from zero in the order it appears."].join(" ")},Xse={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"},description:["Sets the step in-between ticks on this axis. Use with `tick0`.","Must be a positive number, or special strings available to *log* and *date* axes.","If the axis `type` is *log*, then ticks are set every 10^(n*dtick) where n","is the tick number. For example,","to set a tick mark at 1, 10, 100, 1000, ... set dtick to 1.","To set tick marks at 1, 100, 10000, ... set dtick to 2.","To set tick marks at 1, 5, 25, 125, 625, 3125, ... set dtick to log_10(5), or 0.69897000433.","*log* has several special values; *L<f>*, where `f` is a positive number,","gives ticks linearly spaced in value (but not position).","For example `tick0` = 0.1, `dtick` = *L0.5* will put ticks at 0.1, 0.6, 1.1, 1.6 etc.","To show powers of 10 plus small digits between, use *D1* (all digits) or *D2* (only 2 and 5).","`tick0` is ignored for *D1* and *D2*.","If the axis `type` is *date*, then you must convert the time to milliseconds.","For example, to set the interval between ticks to one day,","set `dtick` to 86400000.0.","*date* also has special values *M<n>* gives ticks spaced by a number of months.","`n` must be a positive integer.","To set ticks on the 15th of every third month, set `tick0` to *2000-01-15* and `dtick` to *M3*.","To set ticks every 4 years, set `dtick` to *M48*"].join(" ")},Kse={valType:"data_array",editType:"ticks",description:["Sets the values at which ticks on this axis appear.","Only has an effect if `tickmode` is set to *array*.","Used with `ticktext`."].join(" ")},Qse={valType:"enumerated",values:["outside","inside",""],editType:"ticks",description:["Determines whether ticks are drawn or not.","If **, this axis' ticks are not drawn.","If *outside* (*inside*), this axis' are drawn outside (inside)","the axis lines."].join(" ")};function Jse(t){var e={valType:"number",min:0,editType:"ticks",description:"Sets the tick length (in px)."};return t||(e.dflt=5),e}function ele(t){var e={valType:"number",min:0,editType:"ticks",description:"Sets the tick width (in px)."};return t||(e.dflt=1),e}var tle={valType:"color",dflt:sb.defaultLine,editType:"ticks",description:"Sets the tick color."},rle={valType:"color",dflt:sb.lightLine,editType:"ticks",description:"Sets the color of the grid lines."};function nle(t){var e={valType:"number",min:0,editType:"ticks",description:"Sets the width (in px) of the grid lines."};return t||(e.dflt=1),e}var ile=h7({},ole,{editType:"ticks"}),ale={valType:"boolean",editType:"ticks",description:["Determines whether or not grid lines are drawn.","If *true*, the grid lines are drawn at every tick mark."].join(" ")};sle.exports={visible:{valType:"boolean",editType:"plot",description:["A single toggle to hide the axis while preserving interaction like dragging.","Default is true when a cheater plot is present on the axis, otherwise","false"].join(" ")},color:{valType:"color",dflt:sb.defaultLine,editType:"ticks",description:["Sets default for all colors associated with this axis","all at once: line, font, tick, and grid colors.","Grid color is lightened by blending this with the plot background","Individual pieces can override this."].join(" ")},title:{text:{valType:"string",editType:"ticks",description:"Sets the title of this axis."},font:Wse({editType:"ticks",description:"Sets this axis' title font."}),standoff:{valType:"number",min:0,editType:"ticks",description:["Sets the standoff distance (in px) between the axis labels and the title text","The default value is a function of the axis tick labels, the title `font.size`","and the axis `linewidth`.","Note that the axis title position is always constrained within the margins,","so the actual standoff distance is always less than the set or default value.","By setting `standoff` and turning on `automargin`, plotly.js will push the","margins to fit the axis title at given standoff distance."].join(" ")},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0,description:["Sets the axis type.","By default, plotly attempts to determined the axis type","by looking into the data of the traces that referenced","the axis in question."].join(" ")},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc",description:["Using *strict* a numeric string in trace data is not converted to a number.","Using *convert types* a numeric string in trace data may be","treated as a number during automatic axis `type` detection.","Defaults to layout.autotypenumbers."].join(" ")},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Determines whether or not the range of this axis is","computed in relation to the input data.","See `rangemode` for more info.","If `range` is provided and it has a value for both the","lower and upper bound, `autorange` is set to *false*.","Using *min* applies autorange only to set the minimum.","Using *max* applies autorange only to set the maximum.","Using *min reversed* applies autorange only to set the minimum on a reversed axis.","Using *max reversed* applies autorange only to set the maximum on a reversed axis.","Using *reversed* applies autorange on both ends and reverses the axis direction."].join(" ")},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Use this value exactly as autorange minimum."].join(" ")},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Use this value exactly as autorange maximum."].join(" ")},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Clip autorange minimum if it goes beyond this value.","Has no effect when `autorangeoptions.minallowed` is provided."].join(" ")},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Clip autorange maximum if it goes beyond this value.","Has no effect when `autorangeoptions.maxallowed` is provided."].join(" ")},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Ensure this value is included in autorange."].join(" ")},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot",description:["If *normal*, the range is computed in relation to the extrema","of the input data.","If *tozero*`, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data.","Applies only to linear axes."].join(" ")},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0,description:["Sets the range of this axis.","If the axis `type` is *log*, then you must take the log of your","desired range (e.g. to set the range from 1 to 100,","set the range from 0 to 2).","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears.","Leaving either or both elements `null` impacts the default `autorange`."].join(" ")},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1},description:["Determines the minimum range of this axis."].join(" ")},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1},description:["Determines the maximum range of this axis."].join(" ")},fixedrange:{valType:"boolean",dflt:!1,editType:"calc",description:["Determines whether or not this axis is zoom-able.","If true, then zoom is disabled."].join(" ")},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot",description:["Could be used to set the desired inside range of this axis","(excluding the labels) when `ticklabelposition` of","the anchored axis has *inside*.","Not implemented for axes with `type` *log*.","This would be ignored when `range` is provided."].join(" ")},scaleanchor:{valType:"enumerated",values:[qu.idRegex.x.toString(),qu.idRegex.y.toString(),!1],editType:"plot",description:["If set to another axis id (e.g. `x2`, `y`), the range of this axis","changes together with the range of the corresponding axis","such that the scale of pixels per unit is in a constant ratio.","Both axes are still zoomable, but when you zoom one, the other will","zoom the same amount, keeping a fixed midpoint.","`constrain` and `constraintoward` determine how we enforce the constraint.","You can chain these, ie `yaxis: {scaleanchor: *x*}, xaxis2: {scaleanchor: *y*}`","but you can only link axes of the same `type`.","The linked axis can have the opposite letter (to constrain the aspect ratio)","or the same letter (to match scales across subplots).","Loops (`yaxis: {scaleanchor: *x*}, xaxis: {scaleanchor: *y*}` or longer) are redundant","and the last constraint encountered will be ignored to avoid possible","inconsistent constraints via `scaleratio`.","Note that setting axes simultaneously in both a `scaleanchor` and a `matches` constraint","is currently forbidden.","Setting `false` allows to remove a default constraint (occasionally,","you may need to prevent a default `scaleanchor` constraint from",'being applied, eg. when having an image trace `yaxis: {scaleanchor: "x"}`',"is set automatically in order for pixels to be rendered as squares,","setting `yaxis: {scaleanchor: false}` allows to remove the constraint)."].join(" ")},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot",description:["If this axis is linked to another by `scaleanchor`, this determines the pixel","to unit scale ratio. For example, if this value is 10, then every unit on","this axis spans 10 times the number of pixels as a unit on the linked axis.","Use this for example to create an elevation profile where the vertical scale","is exaggerated a fixed amount with respect to the horizontal."].join(" ")},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot",description:["If this axis needs to be compressed (either due to its own `scaleanchor` and","`scaleratio` or those of the other axis), determines how that happens:","by increasing the *range*, or by decreasing the *domain*.","Default is *domain* for axes containing image traces, *range* otherwise."].join(" ")},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot",description:["If this axis needs to be compressed (either due to its own `scaleanchor` and","`scaleratio` or those of the other axis), determines which direction we push","the originally specified plot area. Options are *left*, *center* (default),","and *right* for x axes, and *top*, *middle* (default), and *bottom* for y axes."].join(" ")},matches:{valType:"enumerated",values:[qu.idRegex.x.toString(),qu.idRegex.y.toString()],editType:"calc",description:["If set to another axis id (e.g. `x2`, `y`), the range of this axis","will match the range of the corresponding axis in data-coordinates space.","Moreover, matching axes share auto-range values, category lists and","histogram auto-bins.","Note that setting axes simultaneously in both a `scaleanchor` and a `matches` constraint","is currently forbidden.","Moreover, note that matching axes must have the same `type`."].join(" ")},rangebreaks:Gse("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether this axis rangebreak is enabled or disabled.","Please note that `rangebreaks` only work for *date* axis type."].join(" ")},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc",description:["Sets the lower and upper bounds of this axis rangebreak.","Can be used with `pattern`."].join(" ")},pattern:{valType:"enumerated",values:[f7,d7,""],editType:"calc",description:["Determines a pattern on the time line that generates breaks.","If *"+f7+"* - days of the week in English e.g. 'Sunday' or `sun`","(matching is case-insensitive and considers only the first three characters),","as well as Sunday-based integers between 0 and 6.","If *"+d7+"* - hour (24-hour clock) as decimal numbers between 0 and 24.","for more info.","Examples:","- { pattern: '"+f7+"', bounds: [6, 1] }"," or simply { bounds: ['sat', 'mon'] }","  breaks from Saturday to Monday (i.e. skips the weekends).","- { pattern: '"+d7+"', bounds: [17, 8] }","  breaks from 5pm to 8am (i.e. skips non-work hours)."].join(" ")},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"},description:["Sets the coordinate values corresponding to the rangebreaks.","An alternative to `bounds`.","Use `dvalue` to set the size of the values along the axis."].join(" ")},dvalue:{valType:"number",editType:"calc",min:0,dflt:Dqe,description:["Sets the size of each `values` item.","The default is one day in milliseconds."].join(" ")},editType:"calc"}),tickmode:Aqe,nticks:Zse(),tick0:$se,dtick:Xse,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks",description:["Sets the spacing between tick labels as compared to the spacing between ticks.","A value of 1 (default) means each tick gets a label.","A value of 2 means shows every 2nd label.","A larger value n means only every nth tick is labeled.","`tick0` determines which labels are shown.","Not implemented for axes with `type` *log* or *multicategory*, or when `tickmode` is *array*."].join(" ")},tickvals:Kse,ticktext:{valType:"data_array",editType:"ticks",description:["Sets the text displayed at the ticks position via `tickvals`.","Only has an effect if `tickmode` is set to *array*.","Used with `tickvals`."].join(" ")},ticks:Qse,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks",description:["Determines where ticks and grid lines are drawn with respect to their","corresponding tick labels.","Only has an effect for axes of `type` *category* or *multicategory*.","When set to *boundaries*, ticks and grid lines are drawn half a category","to the left/bottom of labels."].join(" ")},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks",description:["Determines where tick labels are drawn with respect to their","corresponding ticks and grid lines.","Only has an effect for axes of `type` *date*","When set to *period*, tick labels are drawn in the middle of the period","between ticks."].join(" ")},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc",description:["Determines where tick labels are drawn with respect to the axis","Please note that","top or bottom has no effect on x axes or when `ticklabelmode` is set to *period*.","Similarly","left or right has no effect on y axes or when `ticklabelmode` is set to *period*.","Has no effect on *multicategory* axes or when `tickson` is set to *boundaries*.","When used on axes linked by `matches` or `scaleanchor`,","no extra padding for inside labels would be added by autorange,","so that the scales could match."].join(" ")},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc",description:["Determines how we handle tick labels that would overflow either the graph div or the domain of the axis.","The default value for inside tick labels is *hide past domain*.","Otherwise on *category* and *multicategory* axes the default is *allow*.","In other cases the default is *hide past div*."].join(" ")},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks",description:["Shifts the tick labels by the specified number of pixels in parallel to the axis.","Positive values move the labels in the positive direction of the axis."].join(" ")},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks",description:["Sets the standoff distance (in px) between the axis tick labels and their default position.","A positive `ticklabelstandoff` moves the labels farther away from the plot area","if `ticklabelposition` is *outside*, and deeper into the plot area if","`ticklabelposition` is *inside*. A negative `ticklabelstandoff` works in the opposite","direction, moving outside ticks towards the plot area and inside ticks towards","the outside. If the negative value is large enough, inside ticks can even end up","outside and vice versa."].join(" ")},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc",description:["Only for axes with `type` *date* or *linear*.","Instead of drawing the major tick label, draw the label for the minor tick","that is n positions away from the major tick. E.g. to always draw the label for the","minor tick before each major tick, choose `ticklabelindex` -1. This is useful for date","axes with `ticklabelmode` *period* if you want to label the period that ends with each","major tick instead of the period that begins there."].join(" ")},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle",description:["Determines if the axis lines or/and ticks are mirrored to","the opposite side of the plotting area.","If *true*, the axis lines are mirrored.","If *ticks*, the axis lines and ticks are mirrored.","If *false*, mirroring is disable.","If *all*, axis lines are mirrored on all shared-axes subplots.","If *allticks*, axis lines and ticks are mirrored","on all shared-axes subplots."].join(" ")},ticklen:Jse(),tickwidth:ele(),tickcolor:tle,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks",description:"Determines whether or not the tick labels are drawn."},labelalias:{valType:"any",dflt:!1,editType:"ticks",description:["Replacement text for specific tick or hover labels.","For example using {US: 'USA', CA: 'Canada'} changes US to USA","and CA to Canada. The labels we would have shown must match","the keys exactly, after adding any tickprefix or ticksuffix.","For negative numbers the minus sign symbol used (U+2212) is wider than the regular ascii dash.","That means you need to use \u22121 instead of -1.","labelalias can be used with any axis type, and both keys (if needed)","and values (if desired) can include html-like tags or MathJax."].join(" ")},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks",description:["Determines whether long tick labels automatically grow the figure","margins."].join(" ")},showspikes:{valType:"boolean",dflt:!1,editType:"modebar",description:["Determines whether or not spikes (aka droplines) are drawn for this axis.","Note: This only takes affect when hovermode = closest"].join(" ")},spikecolor:{valType:"color",dflt:null,editType:"none",description:"Sets the spike color. If undefined, will use the series color"},spikethickness:{valType:"number",dflt:3,editType:"none",description:"Sets the width (in px) of the zero line."},spikedash:h7({},ole,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none",description:["Determines the drawing mode for the spike line","If *toaxis*, the line is drawn from the data point to the axis the ","series is plotted on.","If *across*, the line is drawn across the entire plot area, and","supercedes *toaxis*.","If *marker*, then a marker dot is drawn on the axis the series is","plotted on"].join(" ")},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none",description:"Determines whether spikelines are stuck to the cursor or to the closest datapoints."},tickfont:Wse({editType:"ticks",description:"Sets the tick font."}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks",description:["Sets the angle of the tick labels with respect to the horizontal.","For example, a `tickangle` of -90 draws the tick labels","vertically."].join(" ")},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks",description:["When `tickangle` is set to *auto*, it will be set to the first","angle in this array that is large enough to prevent label","overlap."].join(" ")},tickprefix:{valType:"string",dflt:"",editType:"ticks",description:"Sets a tick label prefix."},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks",description:["If *all*, all tick labels are displayed with a prefix.","If *first*, only the first tick is displayed with a prefix.","If *last*, only the last tick is displayed with a suffix.","If *none*, tick prefixes are hidden."].join(" ")},ticksuffix:{valType:"string",dflt:"",editType:"ticks",description:"Sets a tick label suffix."},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks",description:"Same as `showtickprefix` but for tick suffixes."},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks",description:["If *all*, all exponents are shown besides their significands.","If *first*, only the exponent of the first tick is shown.","If *last*, only the exponent of the last tick is shown.","If *none*, no exponents appear."].join(" ")},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks",description:["Determines a formatting rule for the tick exponents.","For example, consider the number 1,000,000,000.","If *none*, it appears as 1,000,000,000.","If *e*, 1e+9.","If *E*, 1E+9.","If *power*, 1x10^9 (with 9 in a super script).","If *SI*, 1G.","If *B*, 1B."].join(" ")},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks",description:["Hide SI prefix for 10^n if |n| is below this number.","This only has an effect when `tickformat` is *SI* or *B*."].join(" ")},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks",description:['If "true", even 4-digit integers are separated'].join(" ")},tickformat:{valType:"string",dflt:"",editType:"ticks",description:Yse("tick label")},tickformatstops:Gse("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks",description:["Determines whether or not this stop is used.","If `false`, this stop is ignored even within its `dtickrange`."].join(" ")},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks",description:["range [*min*, *max*], where *min*, *max* - dtick values","which describe some zoom level, it is possible to omit *min*","or *max* value by passing *null*"].join(" ")},value:{valType:"string",dflt:"",editType:"ticks",description:["string - dtickformat for described zoom level, the same as *tickformat*"].join(" ")},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:Yse("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle",description:["Determines whether or not a line bounding this axis is drawn."].join(" ")},linecolor:{valType:"color",dflt:sb.defaultLine,editType:"layoutstyle",description:"Sets the axis line color."},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle",description:"Sets the width (in px) of the axis line."},showgrid:ale,gridcolor:rle,gridwidth:nle(),griddash:ile,zeroline:{valType:"boolean",editType:"ticks",description:["Determines whether or not a line is drawn at along the 0 value","of this axis.","If *true*, the zero line is drawn on top of the grid lines."].join(" ")},zerolinecolor:{valType:"color",dflt:sb.defaultLine,editType:"ticks",description:"Sets the line color of the zero line."},zerolinewidth:{valType:"number",dflt:1,editType:"ticks",description:"Sets the width (in px) of the zero line."},showdividers:{valType:"boolean",dflt:!0,editType:"ticks",description:["Determines whether or not a dividers are drawn","between the category levels of this axis.","Only has an effect on *multicategory* axes."].join(" ")},dividercolor:{valType:"color",dflt:sb.defaultLine,editType:"ticks",description:["Sets the color of the dividers","Only has an effect on *multicategory* axes."].join(" ")},dividerwidth:{valType:"number",dflt:1,editType:"ticks",description:["Sets the width (in px) of the dividers","Only has an effect on *multicategory* axes."].join(" ")},anchor:{valType:"enumerated",values:["free",qu.idRegex.x.toString(),qu.idRegex.y.toString()],editType:"plot",description:["If set to an opposite-letter axis id (e.g. `x2`, `y`), this axis is bound to","the corresponding opposite-letter axis.","If set to *free*, this axis' position is determined by `position`."].join(" ")},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot",description:["Determines whether a x (y) axis is positioned","at the *bottom* (*left*) or *top* (*right*)","of the plotting area."].join(" ")},overlaying:{valType:"enumerated",values:["free",qu.idRegex.x.toString(),qu.idRegex.y.toString()],editType:"plot",description:["If set a same-letter axis id, this axis is overlaid on top of","the corresponding same-letter axis, with traces and axes visible for both","axes.","If *false*, this axis does not overlay any same-letter axes.","In this case, for axes with overlapping domains only the highest-numbered","axis will be visible."].join(" ")},minor:{tickmode:TM,nticks:Zse("minor"),tick0:$se,dtick:Xse,tickvals:Kse,ticks:Qse,ticklen:Jse("minor"),tickwidth:ele("minor"),tickcolor:tle,gridcolor:rle,gridwidth:nle("minor"),griddash:ile,showgrid:ale,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot",description:["Sets the layer on which this axis is displayed.","If *above traces*, this axis is displayed above all the subplot's traces","If *below traces*, this axis is displayed below all the subplot's traces,","but above the grid lines.","Useful when used together with scatter-like traces with `cliponaxis`","set to *false* to show markers and/or text nodes above this axis."].join(" ")},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot",description:["Sets the domain of this axis (in plot fraction)."].join(" ")},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot",description:["Sets the position of this axis in the plotting space","(in normalized coordinates).","Only has an effect if `anchor` is set to *free*."].join(" ")},autoshift:{valType:"boolean",dflt:!1,editType:"plot",description:["Automatically reposition the axis to avoid","overlap with other axes with the same `overlaying` value.","This repositioning will account for any `shift` amount applied to other","axes on the same side with `autoshift` is set to true.","Only has an effect if `anchor` is set to *free*."].join(" ")},shift:{valType:"number",editType:"plot",description:["Moves the axis a given number of pixels from where it would have been otherwise.","Accepts both positive and negative values, which will shift the axis either right","or left, respectively.","If `autoshift` is set to true, then this defaults to a padding of -3 if `side` is set to *left*.","and defaults to +3 if `side` is set to *right*. Defaults to 0 if `autoshift` is set to false.","Only has an effect if `anchor` is set to *free*."].join(" ")},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc",description:["Specifies the ordering logic for the case of categorical variables.","By default, plotly uses *trace*, which specifies the order that is present in the data supplied.","Set `categoryorder` to *category ascending* or *category descending* if order should be determined by","the alphanumerical order of the category names.","Set `categoryorder` to *array* to derive the ordering from the attribute `categoryarray`. If a category","is not found in the `categoryarray` array, the sorting behavior for that attribute will be identical to","the *trace* mode. The unspecified categories will follow the categories in `categoryarray`.","Set `categoryorder` to *total ascending* or *total descending* if order should be determined by the","numerical order of the values.","Similarly, the order can be determined by the min, max, sum, mean, geometric mean or median of all the values."].join(" ")},categoryarray:{valType:"data_array",editType:"calc",description:["Sets the order in which categories on this axis appear.","Only has an effect if `categoryorder` is set to *array*.","Used with `categoryorder`."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in axis `range`,","`autorange`, and `title` if in `editable: true` configuration.","Defaults to `layout.uirevision`."].join(" ")},editType:"calc"}});var SM=J((A0t,ule)=>{"use strict";var qn=Fc(),lle=ba(),cle=Ti().extendFlat,Mqe=Fu().overrideAll;ule.exports=Mqe({orientation:{valType:"enumerated",values:["h","v"],dflt:"v",description:"Sets the orientation of the colorbar."},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",description:["Determines whether this color bar's thickness","(i.e. the measure in the constant color direction)","is set in units of plot *fraction* or in *pixels*.","Use `thickness` to set the value."].join(" ")},thickness:{valType:"number",min:0,dflt:30,description:["Sets the thickness of the color bar","This measure excludes the size of the padding, ticks and labels."].join(" ")},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction",description:["Determines whether this color bar's length","(i.e. the measure in the color variation direction)","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,description:["Sets the length of the color bar","This measure excludes the padding of both ends.","That is, the color bar length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",description:["Sets the x position with respect to `xref` of the color bar (in plot fraction).","When `xref` is *paper*, defaults to 1.02 when `orientation` is *v* and","0.5 when `orientation` is *h*.","When `xref` is *container*, defaults to *1* when `orientation` is *v* and","0.5 when `orientation` is *h*.","Must be between *0* and *1* if `xref` is *container*","and between *-2* and *3* if `xref` is *paper*."].join(" ")},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `x` refers to.","*container* spans the entire `width` of the plot.","*paper* refers to the width of the plotting area only."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],description:["Sets this color bar's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the color bar.","Defaults to *left* when `orientation` is *v* and","*center* when `orientation` is *h*."].join(" ")},xpad:{valType:"number",min:0,dflt:10,description:"Sets the amount of padding (in px) along the x direction."},y:{valType:"number",description:["Sets the y position with respect to `yref` of the color bar (in plot fraction).","When `yref` is *paper*, defaults to 0.5 when `orientation` is *v* and","1.02 when `orientation` is *h*.","When `yref` is *container*, defaults to 0.5 when `orientation` is *v* and","1 when `orientation` is *h*.","Must be between *0* and *1* if `yref` is *container*","and between *-2* and *3* if `yref` is *paper*."].join(" ")},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `y` refers to.","*container* spans the entire `height` of the plot.","*paper* refers to the height of the plotting area only."].join(" ")},yanchor:{valType:"enumerated",values:["top","middle","bottom"],description:["Sets this color bar's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the color bar.","Defaults to *middle* when `orientation` is *v* and","*bottom* when `orientation` is *h*."].join(" ")},ypad:{valType:"number",min:0,dflt:10,description:"Sets the amount of padding (in px) along the y direction."},outlinecolor:qn.linecolor,outlinewidth:qn.linewidth,bordercolor:qn.linecolor,borderwidth:{valType:"number",min:0,dflt:0,description:["Sets the width (in px) or the border enclosing this color bar."].join(" ")},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",description:"Sets the color of padded area."},tickmode:qn.minor.tickmode,nticks:qn.nticks,tick0:qn.tick0,dtick:qn.dtick,tickvals:qn.tickvals,ticktext:qn.ticktext,ticks:cle({},qn.ticks,{dflt:""}),ticklabeloverflow:cle({},qn.ticklabeloverflow,{description:["Determines how we handle tick labels that would overflow either the graph div or the domain of the axis.","The default value for inside tick labels is *hide past domain*.","In other cases the default is *hide past div*."].join(" ")}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",description:["Determines where tick labels are drawn relative to the ticks.","Left and right options are used when `orientation` is *h*,","top and bottom when `orientation` is *v*."].join(" ")},ticklen:qn.ticklen,tickwidth:qn.tickwidth,tickcolor:qn.tickcolor,ticklabelstep:qn.ticklabelstep,showticklabels:qn.showticklabels,labelalias:qn.labelalias,tickfont:lle({description:"Sets the color bar's tick label font"}),tickangle:qn.tickangle,tickformat:qn.tickformat,tickformatstops:qn.tickformatstops,tickprefix:qn.tickprefix,showtickprefix:qn.showtickprefix,ticksuffix:qn.ticksuffix,showticksuffix:qn.showticksuffix,separatethousands:qn.separatethousands,exponentformat:qn.exponentformat,minexponent:qn.minexponent,showexponent:qn.showexponent,title:{text:{valType:"string",description:"Sets the title of the color bar."},font:lle({description:"Sets this color bar's title font."}),side:{valType:"enumerated",values:["right","top","bottom"],description:["Determines the location of color bar's title","with respect to the color bar.","Defaults to *top* when `orientation` if *v* and ","defaults to *right* when `orientation` if *h*."].join(" ")}}},"colorbars","from-root")});var _v=J((M0t,fle)=>{"use strict";var Rqe=SM(),Iqe=V0().counter,Nqe=P8(),dle=dv().scales,Lqe=Nqe(dle);function MS(t){return"`"+t+"`"}fle.exports=function(e,r){e=e||"",r=r||{};var n=r.cLetter||"c",i="onlyIfNumerical"in r?r.onlyIfNumerical:!!e,a="noScale"in r?r.noScale:e==="marker.line",o="showScaleDflt"in r?r.showScaleDflt:n==="z",s=typeof r.colorscaleDflt=="string"?dle[r.colorscaleDflt]:null,l=r.editTypeOverride||"",c=e?e+".":"",u,d;"colorAttr"in r?(u=r.colorAttr,d=r.colorAttr):(u={z:"z",c:"color"}[n],d="in "+MS(c+u));var f=i?" Has an effect only if "+d+" is set to a numerical array.":"",h=n+"auto",p=n+"min",m=n+"max",v=n+"mid",y=MS(c+h),b=MS(c+p),x=MS(c+m),w=b+" and "+x,S={};S[p]=S[m]=void 0;var _={};_[h]=!1;var C={};return u==="color"&&(C.color={valType:"color",arrayOk:!0,editType:l||"style",description:["Sets the",e,"color.","It accepts either a specific color","or an array of numbers that are mapped to the colorscale","relative to the max and min values of the array or relative to",w,"if set."].join(" ")},r.anim&&(C.color.anim=!0)),C[h]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:S,description:["Determines whether or not the color domain is computed","with respect to the input data (here "+d+") or the bounds set in",w+f,"Defaults to `false` when",w,"are set by the user."].join(" ")},C[p]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:_,description:["Sets the lower bound of the color domain."+f,"Value should have the same units as",d,"and if set,",x,"must be set as well."].join(" ")},C[m]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:_,description:["Sets the upper bound of the color domain."+f,"Value should have the same units as",d,"and if set,",b,"must be set as well."].join(" ")},C[v]={valType:"number",dflt:null,editType:"calc",impliedEdits:S,description:["Sets the mid-point of the color domain by scaling",b,"and/or",x,"to be equidistant to this point."+f,"Value should have the same units as",d+".","Has no effect when",y,"is `false`."].join(" ")},C.colorscale={valType:"colorscale",editType:"calc",dflt:s,impliedEdits:{autocolorscale:!1},description:["Sets the colorscale."+f,"The colorscale must be an array containing","arrays mapping a normalized value to an","rgb, rgba, hex, hsl, hsv, or named color string.","At minimum, a mapping for the lowest (0) and highest (1)","values are required. For example,","`[[0, 'rgb(0,0,255)'], [1, 'rgb(255,0,0)']]`.","To control the bounds of the colorscale in color space,","use",w+".","Alternatively, `colorscale` may be a palette name string","of the following list: "+Lqe+"."].join(" ")},C.autocolorscale={valType:"boolean",dflt:r.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0},description:["Determines whether the colorscale is a default palette (`autocolorscale: true`)","or the palette determined by",MS(c+"colorscale")+"."+f,"In case `colorscale` is unspecified or `autocolorscale` is true, the default","palette will be chosen according to whether numbers in the `color` array are","all positive, all negative or mixed."].join(" ")},C.reversescale={valType:"boolean",dflt:!1,editType:"plot",description:["Reverses the color mapping if true."+f,"If true,",b,"will correspond to the last color","in the array and",x,"will correspond to the first color."].join(" ")},a||(C.showscale={valType:"boolean",dflt:o,editType:"calc",description:["Determines whether or not a colorbar is displayed for this trace."+f].join(" ")},C.colorbar=Rqe),r.noColorAxis||(C.coloraxis={valType:"subplotid",regex:Iqe("coloraxis"),dflt:null,editType:"calc",description:["Sets a reference to a shared color axis.","References to these shared color axes are *coloraxis*, *coloraxis2*, *coloraxis3*, etc.","Settings for these shared color axes are set in the layout, under","`layout.coloraxis`, `layout.coloraxis2`, etc.","Note that multiple color scales can be linked to the same color axis."].join(" ")}),C}});var v7=J((R0t,hle)=>{"use strict";var Oqe=Ti().extendFlat,Pqe=_v(),p7=dv().scales,m7="Note that `autocolorscale` must be true for this attribute to work.";hle.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:p7.Reds,editType:"calc",description:["Sets the default sequential colorscale for positive values.",m7].join(" ")},sequentialminus:{valType:"colorscale",dflt:p7.Blues,editType:"calc",description:["Sets the default sequential colorscale for negative values.",m7].join(" ")},diverging:{valType:"colorscale",dflt:p7.RdBu,editType:"calc",description:["Sets the default diverging colorscale.",m7].join(" ")}},coloraxis:Oqe({_isSubplotObj:!0,editType:"calc",description:[""].join(" ")},Pqe("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}});var g7=J((I0t,ple)=>{"use strict";var zqe=Qe();ple.exports=function(e){return zqe.isPlainObject(e.colorbar)}});var w7=J(b7=>{"use strict";var y7=_r(),mle=Qe(),vle=ei(),Fqe=vle.ONEDAY,Hqe=vle.ONEWEEK;b7.dtick=function(t,e){var r=e==="log",n=e==="date",i=e==="category",a=n?Fqe:1;if(!t)return a;if(y7(t))return t=Number(t),t<=0?a:i?Math.max(1,Math.round(t)):n?Math.max(.1,t):t;if(typeof t!="string"||!(n||r))return a;var o=t.charAt(0),s=t.substr(1);return s=y7(s)?Number(s):0,s<=0||!(n&&o==="M"&&s===Math.round(s)||r&&o==="L"||r&&o==="D"&&(s===1||s===2))?a:t};b7.tick0=function(t,e,r,n){if(e==="date")return mle.cleanDate(t,mle.dateTick0(r,n%Hqe===0?1:0));if(!(n==="D1"||n==="D2"))return y7(t)?Number(t):0}});var x7=J((L0t,yle)=>{"use strict";var gle=w7(),qqe=Qe().isArrayOrTypedArray,Uqe=js().isTypedArraySpec,Bqe=js().decodeTypedArraySpec;yle.exports=function(e,r,n,i,a){a||(a={});var o=a.isMinor,s=o?e.minor||{}:e,l=o?r.minor:r,c=o?"minor.":"";function u(b){var x=s[b];return Uqe(x)&&(x=Bqe(x)),x!==void 0?x:(l._template||{})[b]}var d=u("tick0"),f=u("dtick"),h=u("tickvals"),p=qqe(h)?"array":f?"linear":"auto",m=n(c+"tickmode",p);if(m==="auto"||m==="sync")n(c+"nticks");else if(m==="linear"){var v=l.dtick=gle.dtick(f,i);l.tick0=gle.tick0(d,i,r.calendar,v)}else if(i!=="multicategory"){var y=n(c+"tickvals");y===void 0?l.tickmode="auto":o||n("ticktext")}}});var S7=J((O0t,wle)=>{"use strict";var T7=Qe(),ble=Fc();wle.exports=function(e,r,n,i){var a=i.isMinor,o=a?e.minor||{}:e,s=a?r.minor:r,l=a?ble.minor:ble,c=a?"minor.":"",u=T7.coerce2(o,s,l,"ticklen",a?(r.ticklen||5)*.6:void 0),d=T7.coerce2(o,s,l,"tickwidth",a?r.tickwidth||1:void 0),f=T7.coerce2(o,s,l,"tickcolor",(a?r.tickcolor:void 0)||s.color),h=n(c+"ticks",!a&&i.outerTicks||u||d||f?"outside":"");h||(delete s.ticklen,delete s.tickwidth,delete s.tickcolor)}});var _7=J((P0t,xle)=>{"use strict";xle.exports=function(e){var r=["showexponent","showtickprefix","showticksuffix"],n=r.filter(function(a){return e[a]!==void 0}),i=function(a){return e[a]===e[n[0]]};if(n.every(i)||n.length===1)return e[n[0]]}});var Hc=J((z0t,Tle)=>{"use strict";var _M=Qe(),jqe=On();Tle.exports=function(e,r,n){var i=n.name,a=n.inclusionAttr||"visible",o=r[i],s=_M.isArrayOrTypedArray(e[i])?e[i]:[],l=r[i]=[],c=jqe.arrayTemplater(r,i,a),u,d;for(u=0;u<s.length;u++){var f=s[u];_M.isPlainObject(f)?d=c.newItem(f):(d=c.newItem({}),d[a]=!1),d._index=u,d[a]!==!1&&n.handleItemDefaults(f,d,r,n),l.push(d)}var h=c.defaultItems();for(u=0;u<h.length;u++)d=h[u],d._index=l.length,n.handleItemDefaults({},d,r,n,{}),l.push(d);if(_M.isArrayOrTypedArray(o)){var p=Math.min(o.length,l.length);for(u=0;u<p;u++)_M.relinkPrivateKeys(l[u],o[u])}return l}});var k7=J((F0t,_le)=>{"use strict";var C7=Qe(),Vqe=gr().contrast,Sle=Fc(),Wqe=_7(),Gqe=Hc();_le.exports=function(e,r,n,i,a){a||(a={});var o=n("labelalias");C7.isPlainObject(o)||delete r.labelalias;var s=Wqe(e),l=n("showticklabels");if(l){a.noTicklabelshift||n("ticklabelshift"),a.noTicklabelstandoff||n("ticklabelstandoff");var c=a.font||{},u=r.color,d=r.ticklabelposition||"",f=d.indexOf("inside")!==-1?Vqe(a.bgColor):u&&u!==Sle.color.dflt?u:c.color;if(C7.coerceFont(n,"tickfont",c,{overrideDflt:{color:f}}),!a.noTicklabelstep&&i!=="multicategory"&&i!=="log"&&n("ticklabelstep"),!a.noAng){var h=n("tickangle");!a.noAutotickangles&&h==="auto"&&n("autotickangles")}if(i!=="category"){var p=n("tickformat");Gqe(e,r,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:Yqe}),r.tickformatstops.length||delete r.tickformatstops,!a.noExp&&!p&&i!=="date"&&(n("showexponent",s),n("exponentformat"),n("minexponent"),n("separatethousands"))}}};function Yqe(t,e){function r(i,a){return C7.coerce(t,e,Sle.tickformatstops,i,a)}var n=r("enabled");n&&(r("dtickrange"),r("value"))}});var E7=J((H0t,Cle)=>{"use strict";var Zqe=_7();Cle.exports=function(e,r,n,i,a){a||(a={});var o=a.tickSuffixDflt,s=Zqe(e),l=n("tickprefix");l&&n("showtickprefix",s);var c=n("ticksuffix",o);c&&n("showticksuffix",s)}});var D7=J((q0t,kle)=>{"use strict";var up=Qe(),$qe=On(),Xqe=x7(),Kqe=S7(),Qqe=k7(),Jqe=E7(),eUe=SM();kle.exports=function(e,r,n){var i=$qe.newContainer(r,"colorbar"),a=e.colorbar||{};function o(L,O){return up.coerce(a,i,eUe,L,O)}var s=n.margin||{t:0,b:0,l:0,r:0},l=n.width-s.l-s.r,c=n.height-s.t-s.b,u=o("orientation"),d=u==="v",f=o("thicknessmode");o("thickness",f==="fraction"?30/(d?l:c):30);var h=o("lenmode");o("len",h==="fraction"?1:d?c:l);var p=o("yref"),m=o("xref"),v=p==="paper",y=m==="paper",b,x,w,S="left";d?(w="middle",S=y?"left":"right",b=y?1.02:1,x=.5):(w=v?"bottom":"top",S="center",b=.5,x=v?1.02:1),up.coerce(a,i,{x:{valType:"number",min:y?-2:0,max:y?3:1,dflt:b}},"x"),up.coerce(a,i,{y:{valType:"number",min:v?-2:0,max:v?3:1,dflt:x}},"y"),o("xanchor",S),o("xpad"),o("yanchor",w),o("ypad"),up.noneOrAll(a,i,["x","y"]),o("outlinecolor"),o("outlinewidth"),o("bordercolor"),o("borderwidth"),o("bgcolor");var _=up.coerce(a,i,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:d?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");o("ticklabeloverflow",_.indexOf("inside")!==-1?"hide past domain":"hide past div"),Xqe(a,i,o,"linear");var C=n.font,E={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:C};_.indexOf("inside")!==-1&&(E.bgColor="black"),Jqe(a,i,o,"linear",E),Qqe(a,i,o,"linear",E),Kqe(a,i,o,"linear",E),o("title.text",n._dfltTitle.colorbar);var M=i.showticklabels?i.tickfont:C,I=up.extendFlat({},C,{family:M.family,size:up.bigFont(M.size)});up.coerceFont(o,"title.font",I),o("title.side",d?"top":"right")}});var Cv=J((U0t,Ale)=>{"use strict";var Ele=_r(),M7=Qe(),tUe=g7(),rUe=D7(),Dle=dv().isValid,nUe=Xt().traceIs;function A7(t,e){var r=e.slice(0,e.length-1);return e?M7.nestedProperty(t,r).get()||{}:t}Ale.exports=function t(e,r,n,i,a){var o=a.prefix,s=a.cLetter,l="_module"in r,c=A7(e,o),u=A7(r,o),d=A7(r._template||{},o)||{},f=function(){return delete e.coloraxis,delete r.coloraxis,t(e,r,n,i,a)};if(l){var h=n._colorAxes||{},p=i(o+"coloraxis");if(p){var m=nUe(r,"contour")&&M7.nestedProperty(r,"contours.coloring").get()||"heatmap",v=h[p];v?(v[2].push(f),v[0]!==m&&(v[0]=!1,M7.warn(["Ignoring coloraxis:",p,"setting","as it is linked to incompatible colorscales."].join(" ")))):h[p]=[m,r,[f]];return}}var y=c[s+"min"],b=c[s+"max"],x=Ele(y)&&Ele(b)&&y<b,w=i(o+s+"auto",!x);w?i(o+s+"mid"):(i(o+s+"min"),i(o+s+"max"));var S=c.colorscale,_=d.colorscale,C;if(S!==void 0&&(C=!Dle(S)),_!==void 0&&(C=!Dle(_)),i(o+"autocolorscale",C),i(o+"colorscale"),i(o+"reversescale"),o!=="marker.line."){var E;o&&l&&(E=tUe(c));var M=i(o+"showscale",E);M&&(o&&d&&(u._template=d),rUe(c,u,n))}}});var Nle=J((B0t,Ile)=>{"use strict";var Mle=Qe(),iUe=On(),Rle=v7(),aUe=Cv();Ile.exports=function(e,r){function n(d,f){return Mle.coerce(e,r,Rle,d,f)}n("colorscale.sequential"),n("colorscale.sequentialminus"),n("colorscale.diverging");var i=r._colorAxes,a,o;function s(d,f){return Mle.coerce(a,o,Rle.coloraxis,d,f)}for(var l in i){var c=i[l];if(c[0])a=e[l]||{},o=iUe.newContainer(r,l,"coloraxis"),o._name=l,aUe(a,o,r,s,{prefix:"",cLetter:"c"});else{for(var u=0;u<c[2].length;u++)c[2][u]();delete r._colorAxes[l]}}}});var Ole=J((j0t,Lle)=>{"use strict";var oUe=Qe(),sUe=Vl().hasColorscale,lUe=Vl().extractOpts;Lle.exports=function(e,r){function n(u,d){var f=u["_"+d];f!==void 0&&(u[d]=f)}function i(u,d){var f=d.container?oUe.nestedProperty(u,d.container).get():u;if(f)if(f.coloraxis)f._colorAx=r[f.coloraxis];else{var h=lUe(f),p=h.auto;(p||h.min===void 0)&&n(f,d.min),(p||h.max===void 0)&&n(f,d.max),h.autocolorscale&&n(f,"colorscale")}}for(var a=0;a<e.length;a++){var o=e[a],s=o._module.colorbar;if(s)if(Array.isArray(s))for(var l=0;l<s.length;l++)i(o,s[l]);else i(o,s);sUe(o,"marker.line")&&i(o,{container:"marker.line",min:"cmin",max:"cmax"})}for(var c in r._colorAxes)i(r[c],{min:"cmin",max:"cmax"})}});var RS=J((V0t,zle)=>{"use strict";var Ple=_r(),R7=Qe(),cUe=Vl().extractOpts;zle.exports=function(e,r,n){var i=e._fullLayout,a=n.vals,o=n.containerStr,s=o?R7.nestedProperty(r,o).get():r,l=cUe(s),c=l.auto!==!1,u=l.min,d=l.max,f=l.mid,h=function(){return R7.aggNums(Math.min,null,a)},p=function(){return R7.aggNums(Math.max,null,a)};if(u===void 0?u=h():c&&(s._colorAx&&Ple(u)?u=Math.min(u,h()):u=h()),d===void 0?d=p():c&&(s._colorAx&&Ple(d)?d=Math.max(d,p()):d=p()),c&&f!==void 0&&(d-f>f-u?u=f-(d-f):d-f<f-u&&(d=f+(f-u))),u===d&&(u-=.5,d+=.5),l._sync("min",u),l._sync("max",d),l.autocolorscale){var m;u*d<0?m=i.colorscale.diverging:u>=0?m=i.colorscale.sequential:m=i.colorscale.sequentialminus,l._sync("colorscale",m)}}});var gf=J((W0t,Fle)=>{"use strict";var CM=dv(),lb=Vl();Fle.exports={moduleType:"component",name:"colorscale",attributes:_v(),layoutAttributes:v7(),supplyLayoutDefaults:Nle(),handleDefaults:Cv(),crossTraceDefaults:Ole(),calc:RS(),scales:CM.scales,defaultScale:CM.defaultScale,getScale:CM.get,isValidScale:CM.isValid,hasColorscale:lb.hasColorscale,extractOpts:lb.extractOpts,extractScale:lb.extractScale,flipScale:lb.flipScale,makeColorScaleFunc:lb.makeColorScaleFunc,makeColorScaleFuncFromTrace:lb.makeColorScaleFuncFromTrace}});var Zs=J((G0t,qle)=>{"use strict";var Hle=Qe(),uUe=js().isTypedArraySpec;qle.exports={hasLines:function(t){return t.visible&&t.mode&&t.mode.indexOf("lines")!==-1},hasMarkers:function(t){return t.visible&&(t.mode&&t.mode.indexOf("markers")!==-1||t.type==="splom")},hasText:function(t){return t.visible&&t.mode&&t.mode.indexOf("text")!==-1},isBubble:function(t){var e=t.marker;return Hle.isPlainObject(e)&&(Hle.isArrayOrTypedArray(e.size)||uUe(e.size))}}});var Ble=J((Y0t,Ule)=>{"use strict";var dUe=_r();Ule.exports=function(e,r){r||(r=2);var n=e.marker,i=n.sizeref||1,a=n.sizemin||0,o=n.sizemode==="area"?function(s){return Math.sqrt(s/i)}:function(s){return s/i};return function(s){var l=o(s/r);return dUe(l)&&l>0?Math.max(l,a):0}}});var qc=J(oo=>{"use strict";var jle=Qe();oo.getSubplot=function(t){return t.subplot||t.xaxis+t.yaxis||t.geo};oo.isTraceInSubplots=function(t,e){if(t.type==="splom"){for(var r=t.xaxes||[],n=t.yaxes||[],i=0;i<r.length;i++)for(var a=0;a<n.length;a++)if(e.indexOf(r[i]+n[a])!==-1)return!0;return!1}return e.indexOf(oo.getSubplot(t))!==-1};oo.flat=function(t,e){for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=e;return r};oo.p2c=function(t,e){for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=t[n].p2c(e);return r};oo.getDistanceFunction=function(t,e,r,n){return t==="closest"?n||oo.quadrature(e,r):t.charAt(0)==="x"?e:r};oo.getClosest=function(t,e,r){if(r.index!==!1)r.index>=0&&r.index<t.length?r.distance=0:r.index=!1;else for(var n=1/0,i=t.length,a=0;a<i;a++)n=e(t[a]),n<=r.distance&&(r.index=a,r.distance=n);return r};oo.inbox=function(t,e,r){return t*e<0||t===0?r:1/0};oo.quadrature=function(t,e){return function(r){var n=t(r),i=e(r);return Math.sqrt(n*n+i*i)}};oo.makeEventData=function(t,e,r){var n="index"in t?t.index:t.pointNumber,i={data:e._input,fullData:e,curveNumber:e.index,pointNumber:n};if(e._indexToPoints){var a=e._indexToPoints[n];a.length===1?i.pointIndex=a[0]:i.pointIndices=a}else i.pointIndex=n;return e._module.eventData?i=e._module.eventData(i,t,e,r,n):("xVal"in t?i.x=t.xVal:"x"in t&&(i.x=t.x),"yVal"in t?i.y=t.yVal:"y"in t&&(i.y=t.y),t.xa&&(i.xaxis=t.xa),t.ya&&(i.yaxis=t.ya),t.zLabelVal!==void 0&&(i.z=t.zLabelVal)),oo.appendArrayPointValue(i,e,n),i};oo.appendArrayPointValue=function(t,e,r){var n=e._arrayAttrs;if(n)for(var i=0;i<n.length;i++){var a=n[i],o=Vle(a);if(t[o]===void 0){var s=jle.nestedProperty(e,a).get(),l=Wle(s,r);l!==void 0&&(t[o]=l)}}};oo.appendArrayMultiPointValues=function(t,e,r){var n=e._arrayAttrs;if(n)for(var i=0;i<n.length;i++){var a=n[i],o=Vle(a);if(t[o]===void 0){for(var s=jle.nestedProperty(e,a).get(),l=new Array(r.length),c=0;c<r.length;c++)l[c]=Wle(s,r[c]);t[o]=l}}};var fUe={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function Vle(t){return fUe[t]||t}function Wle(t,e){if(Array.isArray(e)){if(Array.isArray(t)&&Array.isArray(t[e[0]]))return t[e[0]][e[1]]}else return t[e]}var hUe={x:!0,y:!0},pUe={"x unified":!0,"y unified":!0};oo.isUnifiedHover=function(t){return typeof t!="string"?!1:!!pUe[t]};oo.isXYhover=function(t){return typeof t!="string"?!1:!!hUe[t]}});var N7=J(($0t,Gle)=>{Gle.exports=vUe;var I7={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},mUe=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function vUe(t){var e=[];return t.replace(mUe,function(r,n,i){var a=n.toLowerCase();for(i=yUe(i),a=="m"&&i.length>2&&(e.push([n].concat(i.splice(0,2))),a="l",n=n=="m"?"l":"L");;){if(i.length==I7[a])return i.unshift(n),e.push(i);if(i.length<I7[a])throw new Error("malformed path data");e.push([n].concat(i.splice(0,I7[a])))}}),e}var gUe=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function yUe(t){var e=t.match(gUe);return e?e.map(Number):[]}});var Jle=J((X0t,Qle)=>{"use strict";var bUe=N7(),gt=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},cr="M0,0Z",Yle=Math.sqrt(2),dp=Math.sqrt(3),L7=Math.PI,O7=Math.cos,P7=Math.sin;Qle.exports={circle:{n:0,f:function(t,e,r){if(ur(e))return cr;var n=gt(t,2),i="M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z";return r?dr(e,r,i):i}},square:{n:1,f:function(t,e,r){if(ur(e))return cr;var n=gt(t,2);return dr(e,r,"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")}},diamond:{n:2,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*1.3,2);return dr(e,r,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"Z")}},cross:{n:3,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*.4,2),i=gt(t*1.2,2);return dr(e,r,"M"+i+","+n+"H"+n+"V"+i+"H-"+n+"V"+n+"H-"+i+"V-"+n+"H-"+n+"V-"+i+"H"+n+"V-"+n+"H"+i+"Z")}},x:{n:4,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*.8/Yle,2),i="l"+n+","+n,a="l"+n+",-"+n,o="l-"+n+",-"+n,s="l-"+n+","+n;return dr(e,r,"M0,"+n+i+a+o+a+o+s+o+s+i+s+i+"Z")}},"triangle-up":{n:5,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*2/dp,2),i=gt(t/2,2),a=gt(t,2);return dr(e,r,"M-"+n+","+i+"H"+n+"L0,-"+a+"Z")}},"triangle-down":{n:6,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*2/dp,2),i=gt(t/2,2),a=gt(t,2);return dr(e,r,"M-"+n+",-"+i+"H"+n+"L0,"+a+"Z")}},"triangle-left":{n:7,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*2/dp,2),i=gt(t/2,2),a=gt(t,2);return dr(e,r,"M"+i+",-"+n+"V"+n+"L-"+a+",0Z")}},"triangle-right":{n:8,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*2/dp,2),i=gt(t/2,2),a=gt(t,2);return dr(e,r,"M-"+i+",-"+n+"V"+n+"L"+a+",0Z")}},"triangle-ne":{n:9,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*.6,2),i=gt(t*1.2,2);return dr(e,r,"M-"+i+",-"+n+"H"+n+"V"+i+"Z")}},"triangle-se":{n:10,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*.6,2),i=gt(t*1.2,2);return dr(e,r,"M"+n+",-"+i+"V"+n+"H-"+i+"Z")}},"triangle-sw":{n:11,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*.6,2),i=gt(t*1.2,2);return dr(e,r,"M"+i+","+n+"H-"+n+"V-"+i+"Z")}},"triangle-nw":{n:12,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*.6,2),i=gt(t*1.2,2);return dr(e,r,"M-"+n+","+i+"V-"+n+"H"+i+"Z")}},pentagon:{n:13,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*.951,2),i=gt(t*.588,2),a=gt(-t,2),o=gt(t*-.309,2),s=gt(t*.809,2);return dr(e,r,"M"+n+","+o+"L"+i+","+s+"H-"+i+"L-"+n+","+o+"L0,"+a+"Z")}},hexagon:{n:14,f:function(t,e,r){if(ur(e))return cr;var n=gt(t,2),i=gt(t/2,2),a=gt(t*dp/2,2);return dr(e,r,"M"+a+",-"+i+"V"+i+"L0,"+n+"L-"+a+","+i+"V-"+i+"L0,-"+n+"Z")}},hexagon2:{n:15,f:function(t,e,r){if(ur(e))return cr;var n=gt(t,2),i=gt(t/2,2),a=gt(t*dp/2,2);return dr(e,r,"M-"+i+","+a+"H"+i+"L"+n+",0L"+i+",-"+a+"H-"+i+"L-"+n+",0Z")}},octagon:{n:16,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*.924,2),i=gt(t*.383,2);return dr(e,r,"M-"+i+",-"+n+"H"+i+"L"+n+",-"+i+"V"+i+"L"+i+","+n+"H-"+i+"L-"+n+","+i+"V-"+i+"Z")}},star:{n:17,f:function(t,e,r){if(ur(e))return cr;var n=t*1.4,i=gt(n*.225,2),a=gt(n*.951,2),o=gt(n*.363,2),s=gt(n*.588,2),l=gt(-n,2),c=gt(n*-.309,2),u=gt(n*.118,2),d=gt(n*.809,2),f=gt(n*.382,2);return dr(e,r,"M"+i+","+c+"H"+a+"L"+o+","+u+"L"+s+","+d+"L0,"+f+"L-"+s+","+d+"L-"+o+","+u+"L-"+a+","+c+"H-"+i+"L0,"+l+"Z")}},hexagram:{n:18,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*.66,2),i=gt(t*.38,2),a=gt(t*.76,2);return dr(e,r,"M-"+a+",0l-"+i+",-"+n+"h"+a+"l"+i+",-"+n+"l"+i+","+n+"h"+a+"l-"+i+","+n+"l"+i+","+n+"h-"+a+"l-"+i+","+n+"l-"+i+",-"+n+"h-"+a+"Z")}},"star-triangle-up":{n:19,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*dp*.8,2),i=gt(t*.8,2),a=gt(t*1.6,2),o=gt(t*4,2),s="A "+o+","+o+" 0 0 1 ";return dr(e,r,"M-"+n+","+i+s+n+","+i+s+"0,-"+a+s+"-"+n+","+i+"Z")}},"star-triangle-down":{n:20,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*dp*.8,2),i=gt(t*.8,2),a=gt(t*1.6,2),o=gt(t*4,2),s="A "+o+","+o+" 0 0 1 ";return dr(e,r,"M"+n+",-"+i+s+"-"+n+",-"+i+s+"0,"+a+s+n+",-"+i+"Z")}},"star-square":{n:21,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*1.1,2),i=gt(t*2,2),a="A "+i+","+i+" 0 0 1 ";return dr(e,r,"M-"+n+",-"+n+a+"-"+n+","+n+a+n+","+n+a+n+",-"+n+a+"-"+n+",-"+n+"Z")}},"star-diamond":{n:22,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*1.4,2),i=gt(t*1.9,2),a="A "+i+","+i+" 0 0 1 ";return dr(e,r,"M-"+n+",0"+a+"0,"+n+a+n+",0"+a+"0,-"+n+a+"-"+n+",0Z")}},"diamond-tall":{n:23,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*.7,2),i=gt(t*1.4,2);return dr(e,r,"M0,"+i+"L"+n+",0L0,-"+i+"L-"+n+",0Z")}},"diamond-wide":{n:24,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*1.4,2),i=gt(t*.7,2);return dr(e,r,"M0,"+i+"L"+n+",0L0,-"+i+"L-"+n+",0Z")}},hourglass:{n:25,f:function(t,e,r){if(ur(e))return cr;var n=gt(t,2);return dr(e,r,"M"+n+","+n+"H-"+n+"L"+n+",-"+n+"H-"+n+"Z")},noDot:!0},bowtie:{n:26,f:function(t,e,r){if(ur(e))return cr;var n=gt(t,2);return dr(e,r,"M"+n+","+n+"V-"+n+"L-"+n+","+n+"V-"+n+"Z")},noDot:!0},"circle-cross":{n:27,f:function(t,e,r){if(ur(e))return cr;var n=gt(t,2);return dr(e,r,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(t,e,r){if(ur(e))return cr;var n=gt(t,2),i=gt(t/Yle,2);return dr(e,r,"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i+"M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(t,e,r){if(ur(e))return cr;var n=gt(t,2);return dr(e,r,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(t,e,r){if(ur(e))return cr;var n=gt(t,2);return dr(e,r,"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*1.3,2);return dr(e,r,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"ZM0,-"+n+"V"+n+"M-"+n+",0H"+n)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*1.3,2),i=gt(t*.65,2);return dr(e,r,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"ZM-"+i+",-"+i+"L"+i+","+i+"M-"+i+","+i+"L"+i+",-"+i)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*1.4,2);return dr(e,r,"M0,"+n+"V-"+n+"M"+n+",0H-"+n)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(t,e,r){if(ur(e))return cr;var n=gt(t,2);return dr(e,r,"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*1.2,2),i=gt(t*.85,2);return dr(e,r,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(t,e,r){if(ur(e))return cr;var n=gt(t/2,2),i=gt(t,2);return dr(e,r,"M"+n+","+i+"V-"+i+"M"+(n-i)+",-"+i+"V"+i+"M"+i+","+n+"H-"+i+"M-"+i+","+(n-i)+"H"+i)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*1.2,2),i=gt(t*1.6,2),a=gt(t*.8,2);return dr(e,r,"M-"+n+","+a+"L0,0M"+n+","+a+"L0,0M0,-"+i+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*1.2,2),i=gt(t*1.6,2),a=gt(t*.8,2);return dr(e,r,"M-"+n+",-"+a+"L0,0M"+n+",-"+a+"L0,0M0,"+i+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*1.2,2),i=gt(t*1.6,2),a=gt(t*.8,2);return dr(e,r,"M"+a+","+n+"L0,0M"+a+",-"+n+"L0,0M-"+i+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*1.2,2),i=gt(t*1.6,2),a=gt(t*.8,2);return dr(e,r,"M-"+a+","+n+"L0,0M-"+a+",-"+n+"L0,0M"+i+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*1.4,2);return dr(e,r,"M"+n+",0H-"+n)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*1.4,2);return dr(e,r,"M0,"+n+"V-"+n)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(t,e,r){if(ur(e))return cr;var n=gt(t,2);return dr(e,r,"M"+n+",-"+n+"L-"+n+","+n)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(t,e,r){if(ur(e))return cr;var n=gt(t,2);return dr(e,r,"M"+n+","+n+"L-"+n+",-"+n)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(t,e,r){if(ur(e))return cr;var n=gt(t,2),i=gt(t*2,2);return dr(e,r,"M0,0L-"+n+","+i+"H"+n+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(t,e,r){if(ur(e))return cr;var n=gt(t,2),i=gt(t*2,2);return dr(e,r,"M0,0L-"+n+",-"+i+"H"+n+"Z")},noDot:!0},"arrow-left":{n:47,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*2,2),i=gt(t,2);return dr(e,r,"M0,0L"+n+",-"+i+"V"+i+"Z")},noDot:!0},"arrow-right":{n:48,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*2,2),i=gt(t,2);return dr(e,r,"M0,0L-"+n+",-"+i+"V"+i+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(t,e,r){if(ur(e))return cr;var n=gt(t,2),i=gt(t*2,2);return dr(e,r,"M-"+n+",0H"+n+"M0,0L-"+n+","+i+"H"+n+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(t,e,r){if(ur(e))return cr;var n=gt(t,2),i=gt(t*2,2);return dr(e,r,"M-"+n+",0H"+n+"M0,0L-"+n+",-"+i+"H"+n+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*2,2),i=gt(t,2);return dr(e,r,"M0,-"+i+"V"+i+"M0,0L"+n+",-"+i+"V"+i+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(t,e,r){if(ur(e))return cr;var n=gt(t*2,2),i=gt(t,2);return dr(e,r,"M0,-"+i+"V"+i+"M0,0L-"+n+",-"+i+"V"+i+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(t,e,r){if(ur(e))return cr;var n=L7/2.5,i=2*t*O7(n),a=2*t*P7(n);return dr(e,r,"M0,0L"+-i+","+a+"L"+i+","+a+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(t,e,r){if(ur(e))return cr;var n=L7/4,i=2*t*O7(n),a=2*t*P7(n);return dr(e,r,"M0,0L"+-i+","+a+"A "+2*t+","+2*t+" 0 0 1 "+i+","+a+"Z")},backoff:.4,noDot:!0}};function ur(t){return t===null}var Zle,$le,Xle,Kle;function dr(t,e,r){if((!t||t%360===0)&&!e)return r;if(Xle===t&&Kle===e&&Zle===r)return $le;Xle=t,Kle=e,Zle=r;function n(v,y){var b=O7(v),x=P7(v),w=y[0],S=y[1]+(e||0);return[w*b-S*x,w*x+S*b]}for(var i=t/180*L7,a=0,o=0,s=bUe(r),l="",c=0;c<s.length;c++){var u=s[c],d=u[0],f=a,h=o;if(d==="M"||d==="L")a=+u[1],o=+u[2];else if(d==="m"||d==="l")a+=+u[1],o+=+u[2];else if(d==="H")a=+u[1];else if(d==="h")a+=+u[1];else if(d==="V")o=+u[1];else if(d==="v")o+=+u[1];else if(d==="A"){a=+u[1],o=+u[2];var p=n(i,[+u[6],+u[7]]);u[6]=p[0],u[7]=p[1],u[3]=+u[3]+t}(d==="H"||d==="V")&&(d="L"),(d==="h"||d==="v")&&(d="l"),(d==="m"||d==="l")&&(a-=f,o-=h);var m=n(i,[a,o]);(d==="H"||d==="V")&&(d="L"),(d==="M"||d==="L"||d==="m"||d==="l")&&(u[1]=m[0],u[2]=m[1]),u[0]=d,l+=u[0]+u.slice(1).join(",")}return $le=l,l}});var Kr=J((K0t,bce)=>{"use strict";var ia=Sr(),bn=Qe(),wUe=bn.numberFormat,Av=_r(),B7=Vs(),EM=Xt(),qa=gr(),xUe=gf(),NS=bn.strTranslate,DM=wa(),TUe=cp(),SUe=ao(),_Ue=SUe.LINE_SPACING,cce=jA().DESELECTDIM,CUe=Zs(),kUe=Ble(),EUe=qc().appendArrayPointValue,wt=bce.exports={};wt.font=function(t,e){var r=e.variant,n=e.style,i=e.weight,a=e.color,o=e.size,s=e.family,l=e.shadow,c=e.lineposition,u=e.textcase;s&&t.style("font-family",s),o+1&&t.style("font-size",o+"px"),a&&t.call(qa.fill,a),i&&t.style("font-weight",i),n&&t.style("font-style",n),r&&t.style("font-variant",r),u&&t.style("text-transform",z7(AUe(u))),l&&t.style("text-shadow",l==="auto"?DM.makeTextShadow(qa.contrast(a)):z7(l)),c&&t.style("text-decoration-line",z7(MUe(c)))};function z7(t){return t==="none"?void 0:t}var DUe={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function AUe(t){return DUe[t]}function MUe(t){return t.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}wt.setPosition=function(t,e,r){t.attr("x",e).attr("y",r)};wt.setSize=function(t,e,r){t.attr("width",e).attr("height",r)};wt.setRect=function(t,e,r,n,i){t.call(wt.setPosition,e,r).call(wt.setSize,n,i)};wt.translatePoint=function(t,e,r,n){var i=r.c2p(t.x),a=n.c2p(t.y);if(Av(i)&&Av(a)&&e.node())e.node().nodeName==="text"?e.attr("x",i).attr("y",a):e.attr("transform",NS(i,a));else return!1;return!0};wt.translatePoints=function(t,e,r){t.each(function(n){var i=ia.select(this);wt.translatePoint(n,i,e,r)})};wt.hideOutsideRangePoint=function(t,e,r,n,i,a){e.attr("display",r.isPtWithinRange(t,i)&&n.isPtWithinRange(t,a)?null:"none")};wt.hideOutsideRangePoints=function(t,e){if(e._hasClipOnAxisFalse){var r=e.xaxis,n=e.yaxis;t.each(function(i){var a=i[0].trace,o=a.xcalendar,s=a.ycalendar,l=EM.traceIs(a,"bar-like")?".bartext":".point,.textpoint";t.selectAll(l).each(function(c){wt.hideOutsideRangePoint(c,ia.select(this),r,n,o,s)})})}};wt.crispRound=function(t,e,r){return!e||!Av(e)?r||0:t._context.staticPlot?e:e<1?1:Math.round(e)};wt.singleLineStyle=function(t,e,r,n,i){e.style("fill","none");var a=(((t||[])[0]||{}).trace||{}).line||{},o=r||a.width||0,s=i||a.dash||"";qa.stroke(e,n||a.color),wt.dashLine(e,s,o)};wt.lineGroupStyle=function(t,e,r,n){t.style("fill","none").each(function(i){var a=(((i||[])[0]||{}).trace||{}).line||{},o=e||a.width||0,s=n||a.dash||"";ia.select(this).call(qa.stroke,r||a.color).call(wt.dashLine,s,o)})};wt.dashLine=function(t,e,r){r=+r||0,e=wt.dashStyle(e,r),t.style({"stroke-dasharray":e,"stroke-width":r+"px"})};wt.dashStyle=function(t,e){e=+e||1;var r=Math.max(e,3);return t==="solid"?t="":t==="dot"?t=r+"px,"+r+"px":t==="dash"?t=3*r+"px,"+3*r+"px":t==="longdash"?t=5*r+"px,"+5*r+"px":t==="dashdot"?t=3*r+"px,"+r+"px,"+r+"px,"+r+"px":t==="longdashdot"&&(t=5*r+"px,"+2*r+"px,"+r+"px,"+2*r+"px"),t};function uce(t,e,r,n){var i=e.fillpattern,a=e.fillgradient,o=i&&wt.getPatternAttr(i.shape,0,"");if(o){var s=wt.getPatternAttr(i.bgcolor,0,null),l=wt.getPatternAttr(i.fgcolor,0,null),c=i.fgopacity,u=wt.getPatternAttr(i.size,0,8),d=wt.getPatternAttr(i.solidity,0,.3),f=e.uid;wt.pattern(t,"point",r,f,o,u,d,void 0,i.fillmode,s,l,c)}else if(a&&a.type!=="none"){var h=a.type,p="scatterfill-"+e.uid;if(n&&(p="legendfill-"+e.uid),!n&&(a.start!==void 0||a.stop!==void 0)){var m,v;h==="horizontal"?(m={x:a.start,y:0},v={x:a.stop,y:0}):h==="vertical"&&(m={x:0,y:a.start},v={x:0,y:a.stop}),m.x=e._xA.c2p(m.x===void 0?e._extremes.x.min[0].val:m.x,!0),m.y=e._yA.c2p(m.y===void 0?e._extremes.y.min[0].val:m.y,!0),v.x=e._xA.c2p(v.x===void 0?e._extremes.x.max[0].val:v.x,!0),v.y=e._yA.c2p(v.y===void 0?e._extremes.y.max[0].val:v.y,!0),t.call(hce,r,p,"linear",a.colorscale,"fill",m,v,!0,!1)}else h==="horizontal"&&(h=h+"reversed"),t.call(wt.gradient,r,p,h,a.colorscale,"fill")}else e.fillcolor&&t.call(qa.fill,e.fillcolor)}wt.singleFillStyle=function(t,e){var r=ia.select(t.node()),n=r.data(),i=((n[0]||[])[0]||{}).trace||{};uce(t,i,e,!1)};wt.fillGroupStyle=function(t,e,r){t.style("stroke-width",0).each(function(n){var i=ia.select(this);n[0].trace&&uce(i,n[0].trace,e,r)})};var ece=Jle();wt.symbolNames=[];wt.symbolFuncs=[];wt.symbolBackOffs=[];wt.symbolNeedLines={};wt.symbolNoDot={};wt.symbolNoFill={};wt.symbolList=[];Object.keys(ece).forEach(function(t){var e=ece[t],r=e.n;wt.symbolList.push(r,String(r),t,r+100,String(r+100),t+"-open"),wt.symbolNames[r]=t,wt.symbolFuncs[r]=e.f,wt.symbolBackOffs[r]=e.backoff||0,e.needLine&&(wt.symbolNeedLines[r]=!0),e.noDot?wt.symbolNoDot[r]=!0:wt.symbolList.push(r+200,String(r+200),t+"-dot",r+300,String(r+300),t+"-open-dot"),e.noFill&&(wt.symbolNoFill[r]=!0)});var RUe=wt.symbolNames.length,IUe="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";wt.symbolNumber=function(t){if(Av(t))t=+t;else if(typeof t=="string"){var e=0;t.indexOf("-open")>0&&(e=100,t=t.replace("-open","")),t.indexOf("-dot")>0&&(e+=200,t=t.replace("-dot","")),t=wt.symbolNames.indexOf(t),t>=0&&(t+=e)}return t%100>=RUe||t>=400?0:Math.floor(Math.max(t,0))};function dce(t,e,r,n){var i=t%100;return wt.symbolFuncs[i](e,r,n)+(t>=200?IUe:"")}var tce=wUe("~f"),fce={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};wt.gradient=function(t,e,r,n,i,a){var o=fce[n];return hce(t,e,r,o.type,i,a,o.start,o.stop,!1,o.reversed)};function hce(t,e,r,n,i,a,o,s,l,c){var u=i.length,d;n==="linear"?d={node:"linearGradient",attrs:{x1:o.x,y1:o.y,x2:s.x,y2:s.y,gradientUnits:l?"userSpaceOnUse":"objectBoundingBox"},reversed:c}:n==="radial"&&(d={node:"radialGradient",reversed:c});for(var f=new Array(u),h=0;h<u;h++)d.reversed?f[u-1-h]=[tce((1-i[h][0])*100),i[h][1]]:f[h]=[tce(i[h][0]*100),i[h][1]];var p=e._fullLayout,m="g"+p._uid+"-"+r,v=p._defs.select(".gradients").selectAll("#"+m).data([n+f.join(";")],bn.identity);v.exit().remove(),v.enter().append(d.node).each(function(){var y=ia.select(this);d.attrs&&y.attr(d.attrs),y.attr("id",m);var b=y.selectAll("stop").data(f);b.exit().remove(),b.enter().append("stop"),b.each(function(x){var w=B7(x[1]);ia.select(this).attr({offset:x[0]+"%","stop-color":qa.tinyRGB(w),"stop-opacity":w.getAlpha()})})}),t.style(a,j7(m,e)).style(a+"-opacity",null),t.classed("gradient_filled",!0)}wt.pattern=function(t,e,r,n,i,a,o,s,l,c,u,d){var f=e==="legend";s&&(l==="overlay"?(c=s,u=qa.contrast(c)):(c=void 0,u=s));var h=r._fullLayout,p="p"+h._uid+"-"+n,m,v,y=function(H,Y,K,N,U){return N+(U-N)*(H-Y)/(K-Y)},b,x,w,S,_={},C=B7(u),E=qa.tinyRGB(C),M=C.getAlpha(),I=d*M;switch(i){case"/":m=a*Math.sqrt(2),v=a*Math.sqrt(2),b="M-"+m/4+","+v/4+"l"+m/2+",-"+v/2+"M0,"+v+"L"+m+",0M"+m/4*3+","+v/4*5+"l"+m/2+",-"+v/2,x=o*a,S="path",_={d:b,opacity:I,stroke:E,"stroke-width":x+"px"};break;case"\\":m=a*Math.sqrt(2),v=a*Math.sqrt(2),b="M"+m/4*3+",-"+v/4+"l"+m/2+","+v/2+"M0,0L"+m+","+v+"M-"+m/4+","+v/4*3+"l"+m/2+","+v/2,x=o*a,S="path",_={d:b,opacity:I,stroke:E,"stroke-width":x+"px"};break;case"x":m=a*Math.sqrt(2),v=a*Math.sqrt(2),b="M-"+m/4+","+v/4+"l"+m/2+",-"+v/2+"M0,"+v+"L"+m+",0M"+m/4*3+","+v/4*5+"l"+m/2+",-"+v/2+"M"+m/4*3+",-"+v/4+"l"+m/2+","+v/2+"M0,0L"+m+","+v+"M-"+m/4+","+v/4*3+"l"+m/2+","+v/2,x=a-a*Math.sqrt(1-o),S="path",_={d:b,opacity:I,stroke:E,"stroke-width":x+"px"};break;case"|":m=a,v=a,S="path",b="M"+m/2+",0L"+m/2+","+v,x=o*a,S="path",_={d:b,opacity:I,stroke:E,"stroke-width":x+"px"};break;case"-":m=a,v=a,S="path",b="M0,"+v/2+"L"+m+","+v/2,x=o*a,S="path",_={d:b,opacity:I,stroke:E,"stroke-width":x+"px"};break;case"+":m=a,v=a,S="path",b="M"+m/2+",0L"+m/2+","+v+"M0,"+v/2+"L"+m+","+v/2,x=a-a*Math.sqrt(1-o),S="path",_={d:b,opacity:I,stroke:E,"stroke-width":x+"px"};break;case".":m=a,v=a,o<Math.PI/4?w=Math.sqrt(o*a*a/Math.PI):w=y(o,Math.PI/4,1,a/2,a/Math.sqrt(2)),S="circle",_={cx:m/2,cy:v/2,r:w,opacity:I,fill:E};break}var L=[i||"noSh",c||"noBg",u||"noFg",a,o].join(";"),O=h._defs.select(".patterns").selectAll("#"+p).data([L],bn.identity);O.exit().remove(),O.enter().append("pattern").each(function(){var H=ia.select(this);if(H.attr({id:p,width:m+"px",height:v+"px",patternUnits:"userSpaceOnUse",patternTransform:f?"scale(0.8)":""}),c){var Y=B7(c),K=qa.tinyRGB(Y),N=Y.getAlpha(),U=H.selectAll("rect").data([0]);U.exit().remove(),U.enter().append("rect").attr({width:m+"px",height:v+"px",fill:K,"fill-opacity":N})}var B=H.selectAll(S).data([0]);B.exit().remove(),B.enter().append(S).attr(_)}),t.style("fill",j7(p,r)).style("fill-opacity",null),t.classed("pattern_filled",!0)};wt.initGradients=function(t){var e=t._fullLayout,r=bn.ensureSingle(e._defs,"g","gradients");r.selectAll("linearGradient,radialGradient").remove(),ia.select(t).selectAll(".gradient_filled").classed("gradient_filled",!1)};wt.initPatterns=function(t){var e=t._fullLayout,r=bn.ensureSingle(e._defs,"g","patterns");r.selectAll("pattern").remove(),ia.select(t).selectAll(".pattern_filled").classed("pattern_filled",!1)};wt.getPatternAttr=function(t,e,r){return t&&bn.isArrayOrTypedArray(t)?e<t.length?t[e]:r:t};wt.pointStyle=function(t,e,r,n){if(t.size()){var i=wt.makePointStyleFns(e);t.each(function(a){wt.singlePointStyle(a,ia.select(this),e,i,r,n)})}};wt.singlePointStyle=function(t,e,r,n,i,a){var o=r.marker,s=o.line;if(a&&a.i>=0&&t.i===void 0&&(t.i=a.i),e.style("opacity",n.selectedOpacityFn?n.selectedOpacityFn(t):t.mo===void 0?o.opacity:t.mo),n.ms2mrc){var l;t.ms==="various"||o.size==="various"?l=3:l=n.ms2mrc(t.ms),t.mrc=l,n.selectedSizeFn&&(l=t.mrc=n.selectedSizeFn(t));var c=wt.symbolNumber(t.mx||o.symbol)||0;t.om=c%200>=100;var u=W7(t,r),d=V7(t,r);e.attr("d",dce(c,l,u,d))}var f=!1,h,p,m;if(t.so)m=s.outlierwidth,p=s.outliercolor,h=o.outliercolor;else{var v=(s||{}).width;m=(t.mlw+1||v+1||(t.trace?(t.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in t?p=t.mlcc=n.lineScale(t.mlc):bn.isArrayOrTypedArray(s.color)?p=qa.defaultLine:p=s.color,bn.isArrayOrTypedArray(o.color)&&(h=qa.defaultLine,f=!0),"mc"in t?h=t.mcc=n.markerScale(t.mc):h=o.color||o.colors||"rgba(0,0,0,0)",n.selectedColorFn&&(h=n.selectedColorFn(t))}if(t.om)e.call(qa.stroke,h).style({"stroke-width":(m||1)+"px",fill:"none"});else{e.style("stroke-width",(t.isBlank?0:m)+"px");var y=o.gradient,b=t.mgt;b?f=!0:b=y&&y.type,bn.isArrayOrTypedArray(b)&&(b=b[0],fce[b]||(b=0));var x=o.pattern,w=x&&wt.getPatternAttr(x.shape,t.i,"");if(b&&b!=="none"){var S=t.mgc;S?f=!0:S=y.color;var _=r.uid;f&&(_+="-"+t.i),wt.gradient(e,i,_,b,[[0,S],[1,h]],"fill")}else if(w){var C=!1,E=x.fgcolor;!E&&a&&a.color&&(E=a.color,C=!0);var M=wt.getPatternAttr(E,t.i,a&&a.color||null),I=wt.getPatternAttr(x.bgcolor,t.i,null),L=x.fgopacity,O=wt.getPatternAttr(x.size,t.i,8),H=wt.getPatternAttr(x.solidity,t.i,.3);C=C||t.mcc||bn.isArrayOrTypedArray(x.shape)||bn.isArrayOrTypedArray(x.bgcolor)||bn.isArrayOrTypedArray(x.fgcolor)||bn.isArrayOrTypedArray(x.size)||bn.isArrayOrTypedArray(x.solidity);var Y=r.uid;C&&(Y+="-"+t.i),wt.pattern(e,"point",i,Y,w,O,H,t.mcc,x.fillmode,I,M,L)}else bn.isArrayOrTypedArray(h)?qa.fill(e,h[t.i]):qa.fill(e,h);m&&qa.stroke(e,p)}};wt.makePointStyleFns=function(t){var e={},r=t.marker;return e.markerScale=wt.tryColorscale(r,""),e.lineScale=wt.tryColorscale(r,"line"),EM.traceIs(t,"symbols")&&(e.ms2mrc=CUe.isBubble(t)?kUe(t):function(){return(r.size||6)/2}),t.selectedpoints&&bn.extendFlat(e,wt.makeSelectedPointStyleFns(t)),e};wt.makeSelectedPointStyleFns=function(t){var e={},r=t.selected||{},n=t.unselected||{},i=t.marker||{},a=r.marker||{},o=n.marker||{},s=i.opacity,l=a.opacity,c=o.opacity,u=l!==void 0,d=c!==void 0;(bn.isArrayOrTypedArray(s)||u||d)&&(e.selectedOpacityFn=function(w){var S=w.mo===void 0?i.opacity:w.mo;return w.selected?u?l:S:d?c:cce*S});var f=i.color,h=a.color,p=o.color;(h||p)&&(e.selectedColorFn=function(w){var S=w.mcc||f;return w.selected?h||S:p||S});var m=i.size,v=a.size,y=o.size,b=v!==void 0,x=y!==void 0;return EM.traceIs(t,"symbols")&&(b||x)&&(e.selectedSizeFn=function(w){var S=w.mrc||m/2;return w.selected?b?v/2:S:x?y/2:S}),e};wt.makeSelectedTextStyleFns=function(t){var e={},r=t.selected||{},n=t.unselected||{},i=t.textfont||{},a=r.textfont||{},o=n.textfont||{},s=i.color,l=a.color,c=o.color;return e.selectedTextColorFn=function(u){var d=u.tc||s;return u.selected?l||d:c||(l?d:qa.addOpacity(d,cce))},e};wt.selectedPointStyle=function(t,e){if(!(!t.size()||!e.selectedpoints)){var r=wt.makeSelectedPointStyleFns(e),n=e.marker||{},i=[];r.selectedOpacityFn&&i.push(function(a,o){a.style("opacity",r.selectedOpacityFn(o))}),r.selectedColorFn&&i.push(function(a,o){qa.fill(a,r.selectedColorFn(o))}),r.selectedSizeFn&&i.push(function(a,o){var s=o.mx||n.symbol||0,l=r.selectedSizeFn(o);a.attr("d",dce(wt.symbolNumber(s),l,W7(o,e),V7(o,e))),o.mrc2=l}),i.length&&t.each(function(a){for(var o=ia.select(this),s=0;s<i.length;s++)i[s](o,a)})}};wt.tryColorscale=function(t,e){var r=e?bn.nestedProperty(t,e).get():t;if(r){var n=r.color;if((r.colorscale||r._colorAx)&&bn.isArrayOrTypedArray(n))return xUe.makeColorScaleFuncFromTrace(r)}return bn.identity};var F7={start:1,end:-1,middle:0,bottom:1,top:-1};function pce(t,e,r,n,i){var a=ia.select(t.node().parentNode),o=e.indexOf("top")!==-1?"top":e.indexOf("bottom")!==-1?"bottom":"middle",s=e.indexOf("left")!==-1?"end":e.indexOf("right")!==-1?"start":"middle",l=n?n/.8+1:0,c=(DM.lineCount(t)-1)*_Ue+1,u=F7[s]*l,d=r*.75+F7[o]*l+(F7[o]-1)*c*r/2;t.attr("text-anchor",s),i||a.attr("transform",NS(u,d))}function mce(t,e){var r=t.ts||e.textfont.size;return Av(r)&&r>0?r:0}wt.textPointStyle=function(t,e,r){if(t.size()){var n;if(e.selectedpoints){var i=wt.makeSelectedTextStyleFns(e);n=i.selectedTextColorFn}var a=e.texttemplate,o=r._fullLayout;t.each(function(s){var l=ia.select(this),c=a?bn.extractOption(s,e,"txt","texttemplate"):bn.extractOption(s,e,"tx","text");if(!c&&c!==0){l.remove();return}if(a){var u=e._module.formatLabels,d=u?u(s,e,o):{},f={};EUe(f,e,s.i);var h=e._meta||{};c=bn.texttemplateString(c,d,o._d3locale,f,s,h)}var p=s.tp||e.textposition,m=mce(s,e),v=n?n(s):s.tc||e.textfont.color;l.call(wt.font,{family:s.tf||e.textfont.family,weight:s.tw||e.textfont.weight,style:s.ty||e.textfont.style,variant:s.tv||e.textfont.variant,textcase:s.tC||e.textfont.textcase,lineposition:s.tE||e.textfont.lineposition,shadow:s.tS||e.textfont.shadow,size:m,color:v}).text(c).call(DM.convertToTspans,r).call(pce,p,m,s.mrc)})}};wt.selectedTextStyle=function(t,e){if(!(!t.size()||!e.selectedpoints)){var r=wt.makeSelectedTextStyleFns(e);t.each(function(n){var i=ia.select(this),a=r.selectedTextColorFn(n),o=n.tp||e.textposition,s=mce(n,e);qa.fill(i,a);var l=EM.traceIs(e,"bar-like");pce(i,o,s,n.mrc2||n.mrc,l)})}};var rce=.5;wt.smoothopen=function(t,e){if(t.length<3)return"M"+t.join("L");var r="M"+t[0],n=[],i;for(i=1;i<t.length-1;i++)n.push(kM(t[i-1],t[i],t[i+1],e));for(r+="Q"+n[0][0]+" "+t[1],i=2;i<t.length-1;i++)r+="C"+n[i-2][1]+" "+n[i-1][0]+" "+t[i];return r+="Q"+n[t.length-3][1]+" "+t[t.length-1],r};wt.smoothclosed=function(t,e){if(t.length<3)return"M"+t.join("L")+"Z";var r="M"+t[0],n=t.length-1,i=[kM(t[n],t[0],t[1],e)],a;for(a=1;a<n;a++)i.push(kM(t[a-1],t[a],t[a+1],e));for(i.push(kM(t[n-1],t[n],t[0],e)),a=1;a<=n;a++)r+="C"+i[a-1][1]+" "+i[a][0]+" "+t[a];return r+="C"+i[n][1]+" "+i[0][0]+" "+t[0]+"Z",r};var vce,gce;function cb(t,e,r){return r&&(t=yce(t)),e?Dv(t[1]):Ev(t[0])}function Ev(t){var e=ia.round(t,2);return vce=e,e}function Dv(t){var e=ia.round(t,2);return gce=e,e}function kM(t,e,r,n){var i=t[0]-e[0],a=t[1]-e[1],o=r[0]-e[0],s=r[1]-e[1],l=Math.pow(i*i+a*a,rce/2),c=Math.pow(o*o+s*s,rce/2),u=(c*c*i-l*l*o)*n,d=(c*c*a-l*l*s)*n,f=3*c*(l+c),h=3*l*(l+c);return[[Ev(e[0]+(f&&u/f)),Dv(e[1]+(f&&d/f))],[Ev(e[0]-(h&&u/h)),Dv(e[1]-(h&&d/h))]]}var NUe={hv:function(t,e,r){return"H"+Ev(e[0])+"V"+cb(e,1,r)},vh:function(t,e,r){return"V"+Dv(e[1])+"H"+cb(e,0,r)},hvh:function(t,e,r){return"H"+Ev((t[0]+e[0])/2)+"V"+Dv(e[1])+"H"+cb(e,0,r)},vhv:function(t,e,r){return"V"+Dv((t[1]+e[1])/2)+"H"+Ev(e[0])+"V"+cb(e,1,r)}},LUe=function(t,e,r){return"L"+cb(e,0,r)+","+cb(e,1,r)};wt.steps=function(t){var e=NUe[t]||LUe;return function(r){for(var n="M"+Ev(r[0][0])+","+Dv(r[0][1]),i=r.length,a=1;a<i;a++)n+=e(r[a-1],r[a],a===i-1);return n}};function yce(t,e){var r=t.backoff,n=t.trace,i=t.d,a=t.i;if(r&&n&&n.marker&&n.marker.angle%360===0&&n.line&&n.line.shape!=="spline"){var o=bn.isArrayOrTypedArray(r),s=t,l=e?e[0]:vce||0,c=e?e[1]:gce||0,u=s[0],d=s[1],f=u-l,h=d-c,p=Math.atan2(h,f),m=o?r[a]:r;if(m==="auto"){var v=s.i;n.type==="scatter"&&v--;var y=s.marker,b=y.symbol;bn.isArrayOrTypedArray(b)&&(b=b[v]);var x=y.size;bn.isArrayOrTypedArray(x)&&(x=x[v]),m=y?wt.symbolBackOffs[wt.symbolNumber(b)]*x:0,m+=wt.getMarkerStandoff(i[v],n)||0}var w=u-m*Math.cos(p),S=d-m*Math.sin(p);(w<=u&&w>=l||w>=u&&w<=l)&&(S<=d&&S>=c||S>=d&&S<=c)&&(t=[w,S])}return t}wt.applyBackoff=yce;wt.makeTester=function(){var t=bn.ensureSingleById(ia.select("body"),"svg","js-plotly-tester",function(r){r.attr(TUe.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),e=bn.ensureSingle(t,"path","js-reference-point",function(r){r.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});wt.tester=t,wt.testref=e};wt.savedBBoxes={};var H7=0,OUe=1e4;wt.bBox=function(t,e,r){r||(r=nce(t));var n;if(r){if(n=wt.savedBBoxes[r],n)return bn.extendFlat({},n)}else if(t.childNodes.length===1){var i=t.childNodes[0];if(r=nce(i),r){var a=+i.getAttribute("x")||0,o=+i.getAttribute("y")||0,s=i.getAttribute("transform");if(!s){var l=wt.bBox(i,!1,r);return a&&(l.left+=a,l.right+=a),o&&(l.top+=o,l.bottom+=o),l}if(r+="~"+a+"~"+o+"~"+s,n=wt.savedBBoxes[r],n)return bn.extendFlat({},n)}}var c,u;e?c=t:(u=wt.tester.node(),c=t.cloneNode(!0),u.appendChild(c)),ia.select(c).attr("transform",null).call(DM.positionText,0,0);var d=c.getBoundingClientRect(),f=wt.testref.node().getBoundingClientRect();e||u.removeChild(c);var h={height:d.height,width:d.width,left:d.left-f.left,top:d.top-f.top,right:d.right-f.left,bottom:d.bottom-f.top};return H7>=OUe&&(wt.savedBBoxes={},H7=0),r&&(wt.savedBBoxes[r]=h),H7++,bn.extendFlat({},h)};function nce(t){var e=t.getAttribute("data-unformatted");if(e!==null)return e+t.getAttribute("data-math")+t.getAttribute("text-anchor")+t.getAttribute("style")}wt.setClipUrl=function(t,e,r){t.attr("clip-path",j7(e,r))};function j7(t,e){if(!t)return null;var r=e._context,n=r._exportedPlot?"":r._baseUrl||"";return n?"url('"+n+"#"+t+"')":"url(#"+t+")"}wt.getTranslate=function(t){var e=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,r=t.attr?"attr":"getAttribute",n=t[r]("transform")||"",i=n.replace(e,function(a,o,s){return[o,s].join(" ")}).split(" ");return{x:+i[0]||0,y:+i[1]||0}};wt.setTranslate=function(t,e,r){var n=/(\btranslate\(.*?\);?)/,i=t.attr?"attr":"getAttribute",a=t.attr?"attr":"setAttribute",o=t[i]("transform")||"";return e=e||0,r=r||0,o=o.replace(n,"").trim(),o+=NS(e,r),o=o.trim(),t[a]("transform",o),o};wt.getScale=function(t){var e=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,r=t.attr?"attr":"getAttribute",n=t[r]("transform")||"",i=n.replace(e,function(a,o,s){return[o,s].join(" ")}).split(" ");return{x:+i[0]||1,y:+i[1]||1}};wt.setScale=function(t,e,r){var n=/(\bscale\(.*?\);?)/,i=t.attr?"attr":"getAttribute",a=t.attr?"attr":"setAttribute",o=t[i]("transform")||"";return e=e||1,r=r||1,o=o.replace(n,"").trim(),o+="scale("+e+","+r+")",o=o.trim(),t[a]("transform",o),o};var PUe=/\s*sc.*/;wt.setPointGroupScale=function(t,e,r){if(e=e||1,r=r||1,!!t){var n=e===1&&r===1?"":"scale("+e+","+r+")";t.each(function(){var i=(this.getAttribute("transform")||"").replace(PUe,"");i+=n,i=i.trim(),this.setAttribute("transform",i)})}};var zUe=/translate\([^)]*\)\s*$/;wt.setTextPointsScale=function(t,e,r){t&&t.each(function(){var n,i=ia.select(this),a=i.select("text");if(a.node()){var o=parseFloat(a.attr("x")||0),s=parseFloat(a.attr("y")||0),l=(i.attr("transform")||"").match(zUe);e===1&&r===1?n=[]:n=[NS(o,s),"scale("+e+","+r+")",NS(-o,-s)],l&&n.push(l),i.attr("transform",n.join(""))}})};function V7(t,e){var r;return t&&(r=t.mf),r===void 0&&(r=e.marker&&e.marker.standoff||0),!e._geo&&!e._xA?-r:r}wt.getMarkerStandoff=V7;var IS=Math.atan2,kv=Math.cos,ub=Math.sin;function ice(t,e){var r=e[0],n=e[1];return[r*kv(t)-n*ub(t),r*ub(t)+n*kv(t)]}var ace,oce,sce,lce,q7,U7;function W7(t,e){var r=t.ma;r===void 0&&(r=e.marker.angle,(!r||bn.isArrayOrTypedArray(r))&&(r=0));var n,i,a=e.marker.angleref;if(a==="previous"||a==="north"){if(e._geo){var o=e._geo.project(t.lonlat);n=o[0],i=o[1]}else{var s=e._xA,l=e._yA;if(s&&l)n=s.c2p(t.x),i=l.c2p(t.y);else return 90}if(e._geo){var c=t.lonlat[0],u=t.lonlat[1],d=e._geo.project([c,u+1e-5]),f=e._geo.project([c+1e-5,u]),h=IS(f[1]-i,f[0]-n),p=IS(d[1]-i,d[0]-n),m;if(a==="north")m=r/180*Math.PI;else if(a==="previous"){var v=c/180*Math.PI,y=u/180*Math.PI,b=ace/180*Math.PI,x=oce/180*Math.PI,w=b-v,S=kv(x)*ub(w),_=ub(x)*kv(y)-kv(x)*ub(y)*kv(w);m=-IS(S,_)-Math.PI,ace=c,oce=u}var C=ice(h,[kv(m),0]),E=ice(p,[ub(m),0]);r=IS(C[1]+E[1],C[0]+E[0])/Math.PI*180,a==="previous"&&!(U7===e.uid&&t.i===q7+1)&&(r=null)}if(a==="previous"&&!e._geo)if(U7===e.uid&&t.i===q7+1&&Av(n)&&Av(i)){var M=n-sce,I=i-lce,L=e.line&&e.line.shape||"",O=L.slice(L.length-1);O==="h"&&(I=0),O==="v"&&(M=0),r+=IS(I,M)/Math.PI*180+90}else r=null}return sce=n,lce=i,q7=t.i,U7=e.uid,r}wt.getMarkerAngle=W7});var LS=J((Q0t,Sce)=>{"use strict";var db=Sr(),FUe=_r(),HUe=ki(),G7=Xt(),Mv=Qe(),wce=Mv.strTranslate,AM=Kr(),MM=gr(),fb=wa(),xce=jA(),qUe=ao().OPPOSITE_SIDE,Tce=/ [XY][0-9]* /,Y7=1.6,Z7=1.6;function UUe(t,e,r){var n=t._fullLayout,i=r.propContainer,a=r.propName,o=r.placeholder,s=r.traceIndex,l=r.avoid||{},c=r.attributes,u=r.transform,d=r.containerGroup,f=1,h=i.title,p=(h&&h.text?h.text:"").trim(),m=!1,v=h&&h.font?h.font:{},y=v.family,b=v.size,x=v.color,w=v.weight,S=v.style,_=v.variant,C=v.textcase,E=v.lineposition,M=v.shadow,I=r.subtitlePropName,L=!!I,O=r.subtitlePlaceholder,H=(i.title||{}).subtitle||{text:"",font:{}},Y=H.text.trim(),K=!1,N=1,U=H.font,B=U.family,$=U.size,ee=U.color,te=U.weight,he=U.style,we=U.variant,Te=U.textcase,ce=U.lineposition,q=U.shadow,X;a==="title.text"?X="titleText":a.indexOf("axis")!==-1?X="axisTitleText":a.indexOf("colorbar")!==-1&&(X="colorbarTitleText");var G=t._context.edits[X];function de(nt,Ke){return nt===void 0||Ke===void 0?!1:nt.replace(Tce," % ")===Ke.replace(Tce," % ")}p===""?f=0:de(p,o)&&(G||(p=""),f=.2,m=!0),L&&(Y===""?N=0:de(Y,O)&&(G||(Y=""),N=.2,K=!0)),r._meta?p=Mv.templateString(p,r._meta):n._meta&&(p=Mv.templateString(p,n._meta));var ue=p||Y||G,fe;d||(d=Mv.ensureSingle(n._infolayer,"g","g-"+e),fe=n._hColorbarMoveTitle);var _e=d.selectAll("text."+e).data(ue?[0]:[]);_e.enter().append("text"),_e.text(p).attr("class",e),_e.exit().remove();var Oe=null,Ce=e+"-subtitle",je=Y||G;if(L&&je&&(Oe=d.selectAll("text."+Ce).data(je?[0]:[]),Oe.enter().append("text"),Oe.text(Y).attr("class",Ce),Oe.exit().remove()),!ue)return d;function qe(nt,Ke){Mv.syncOrAsync([Ve,ot],{title:nt,subtitle:Ke})}function Ve(nt){var Ke=nt.title,Ae=nt.subtitle,it;!u&&fe&&(u={}),u?(it="",u.rotate&&(it+="rotate("+[u.rotate,c.x,c.y]+")"),(u.offset||fe)&&(it+=wce(0,(u.offset||0)-(fe||0)))):it=null,Ke.attr("transform",it);function at(He){if(He){var Ue=db.select(He.node().parentNode).select("."+Ce);if(!Ue.empty()){var ct=He.node().getBBox();if(ct.height){var rt=ct.y+ct.height+Y7*$;Ue.attr("y",rt)}}}}if(Ke.style("opacity",f*MM.opacity(x)).call(AM.font,{color:MM.rgb(x),size:db.round(b,2),family:y,weight:w,style:S,variant:_,textcase:C,shadow:M,lineposition:E}).attr(c).call(fb.convertToTspans,t,at),Ae){var ge=d.select("."+e+"-math-group"),Ne=Ke.node().getBBox(),Le=ge.node()?ge.node().getBBox():void 0,St=Le?Le.y+Le.height+Y7*$:Ne.y+Ne.height+Z7*$,ht=Mv.extendFlat({},c,{y:St});Ae.attr("transform",it),Ae.style("opacity",N*MM.opacity(ee)).call(AM.font,{color:MM.rgb(ee),size:db.round($,2),family:B,weight:te,style:he,variant:we,textcase:Te,shadow:q,lineposition:ce}).attr(ht).call(fb.convertToTspans,t)}return HUe.previousPromises(t)}function ot(nt){var Ke=nt.title,Ae=db.select(Ke.node().parentNode);if(l&&l.selection&&l.side&&p){Ae.attr("transform",null);var it=qUe[l.side],at=l.side==="left"||l.side==="top"?-1:1,ge=FUe(l.pad)?l.pad:2,Ne=AM.bBox(Ae.node()),Le={t:0,b:0,l:0,r:0},St=t._fullLayout._reservedMargin;for(var ht in St)for(var He in St[ht]){var Ue=St[ht][He];Le[He]=Math.max(Le[He],Ue)}var ct={left:Le.l,top:Le.t,right:n.width-Le.r,bottom:n.height-Le.b},rt=l.maxShift||at*(ct[l.side]-Ne[l.side]),lt=0;if(rt<0)lt=rt;else{var st=l.offsetLeft||0,mt=l.offsetTop||0;Ne.left-=st,Ne.right-=st,Ne.top-=mt,Ne.bottom-=mt,l.selection.each(function(){var _t=AM.bBox(this);Mv.bBoxIntersect(Ne,_t,ge)&&(lt=Math.max(lt,at*(_t[l.side]-Ne[it])+ge))}),lt=Math.min(rt,lt),i._titleScoot=Math.abs(lt)}if(lt>0||rt<0){var kt={left:[-lt,0],right:[lt,0],top:[0,-lt],bottom:[0,lt]}[l.side];Ae.attr("transform",wce(kt[0],kt[1]))}}}_e.call(qe,Oe);function $e(nt,Ke){nt.text(Ke).on("mouseover.opacity",function(){db.select(this).transition().duration(xce.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){db.select(this).transition().duration(xce.HIDE_PLACEHOLDER).style("opacity",0)})}if(G&&(p?_e.on(".opacity",null):($e(_e,o),m=!0),_e.call(fb.makeEditable,{gd:t}).on("edit",function(nt){s!==void 0?G7.call("_guiRestyle",t,a,nt,s):G7.call("_guiRelayout",t,a,nt)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(qe)}).on("input",function(nt){this.text(nt||" ").call(fb.positionText,c.x,c.y)}),L)){if(L&&!p){var Xe=_e.node().getBBox(),Je=Xe.y+Xe.height+Z7*$;Oe.attr("y",Je)}Y?Oe.on(".opacity",null):($e(Oe,O),K=!0),Oe.call(fb.makeEditable,{gd:t}).on("edit",function(nt){G7.call("_guiRelayout",t,"title.subtitle.text",nt)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(qe)}).on("input",function(nt){this.text(nt||" ").call(fb.positionText,Oe.attr("x"),Oe.attr("y"))})}return _e.classed("js-placeholder",m),Oe&&Oe.classed("js-placeholder",K),d}Sce.exports={draw:UUe,SUBTITLE_PADDING_EM:Z7,SUBTITLE_PADDING_MATHJAX_EM:Y7}});var FM=J((J0t,Dce)=>{"use strict";var BUe=Sr(),jUe=q0().utcFormat,En=Qe(),VUe=En.numberFormat,Uu=_r(),fp=En.cleanNumber,WUe=En.ms2DateTime,_ce=En.dateTime2ms,Bu=En.ensureNumber,Cce=En.isArrayOrTypedArray,hp=ei(),RM=hp.FP_SAFE,Uc=hp.BADNUM,GUe=hp.LOG_CLIP,YUe=hp.ONEWEEK,IM=hp.ONEDAY,NM=hp.ONEHOUR,kce=hp.ONEMIN,Ece=hp.ONESEC,LM=Wi(),zM=Ha(),OM=zM.HOUR_PATTERN,PM=zM.WEEKDAY_PATTERN;function OS(t){return Math.pow(10,t)}function $7(t){return t!=null}Dce.exports=function(e,r){r=r||{};var n=e._id||"x",i=n.charAt(0);function a(w,S){if(w>0)return Math.log(w)/Math.LN10;if(w<=0&&S&&e.range&&e.range.length===2){var _=e.range[0],C=e.range[1];return .5*(_+C-2*GUe*Math.abs(_-C))}else return Uc}function o(w,S,_,C){if((C||{}).msUTC&&Uu(w))return+w;var E=_ce(w,_||e.calendar);if(E===Uc)if(Uu(w)){w=+w;var M=Math.floor(En.mod(w+.05,1)*10),I=Math.round(w-M/10);E=_ce(new Date(I))+M/10}else return Uc;return E}function s(w,S,_){return WUe(w,S,_||e.calendar)}function l(w){return e._categories[Math.round(w)]}function c(w){if($7(w)){if(e._categoriesMap===void 0&&(e._categoriesMap={}),e._categoriesMap[w]!==void 0)return e._categoriesMap[w];e._categories.push(typeof w=="number"?String(w):w);var S=e._categories.length-1;return e._categoriesMap[w]=S,S}return Uc}function u(w,S){for(var _=new Array(S),C=0;C<S;C++){var E=(w[0]||[])[C],M=(w[1]||[])[C];_[C]=d([E,M])}return _}function d(w){if(e._categoriesMap)return e._categoriesMap[w]}function f(w){var S=d(w);if(S!==void 0)return S;if(Uu(w))return+w}function h(w){return Uu(w)?+w:d(w)}function p(w,S,_){return BUe.round(_+S*w,2)}function m(w,S,_){return(w-_)/S}var v=function(S){return Uu(S)?p(S,e._m,e._b):Uc},y=function(w){return m(w,e._m,e._b)};if(e.rangebreaks){var b=i==="y";v=function(w){if(!Uu(w))return Uc;var S=e._rangebreaks.length;if(!S)return p(w,e._m,e._b);var _=b;e.range[0]>e.range[1]&&(_=!_);for(var C=_?-1:1,E=C*w,M=0,I=0;I<S;I++){var L=C*e._rangebreaks[I].min,O=C*e._rangebreaks[I].max;if(E<L)break;if(E>O)M=I+1;else{M=E<(L+O)/2?I:I+1;break}}var H=e._B[M]||0;return isFinite(H)?p(w,e._m2,H):0},y=function(w){var S=e._rangebreaks.length;if(!S)return m(w,e._m,e._b);for(var _=0,C=0;C<S&&!(w<e._rangebreaks[C].pmin);C++)w>e._rangebreaks[C].pmax&&(_=C+1);return m(w,e._m2,e._B[_])}}e.c2l=e.type==="log"?a:Bu,e.l2c=e.type==="log"?OS:Bu,e.l2p=v,e.p2l=y,e.c2p=e.type==="log"?function(w,S){return v(a(w,S))}:v,e.p2c=e.type==="log"?function(w){return OS(y(w))}:y,["linear","-"].indexOf(e.type)!==-1?(e.d2r=e.r2d=e.d2c=e.r2c=e.d2l=e.r2l=fp,e.c2d=e.c2r=e.l2d=e.l2r=Bu,e.d2p=e.r2p=function(w){return e.l2p(fp(w))},e.p2d=e.p2r=y,e.cleanPos=Bu):e.type==="log"?(e.d2r=e.d2l=function(w,S){return a(fp(w),S)},e.r2d=e.r2c=function(w){return OS(fp(w))},e.d2c=e.r2l=fp,e.c2d=e.l2r=Bu,e.c2r=a,e.l2d=OS,e.d2p=function(w,S){return e.l2p(e.d2r(w,S))},e.p2d=function(w){return OS(y(w))},e.r2p=function(w){return e.l2p(fp(w))},e.p2r=y,e.cleanPos=Bu):e.type==="date"?(e.d2r=e.r2d=En.identity,e.d2c=e.r2c=e.d2l=e.r2l=o,e.c2d=e.c2r=e.l2d=e.l2r=s,e.d2p=e.r2p=function(w,S,_){return e.l2p(o(w,0,_))},e.p2d=e.p2r=function(w,S,_){return s(y(w),S,_)},e.cleanPos=function(w){return En.cleanDate(w,Uc,e.calendar)}):e.type==="category"?(e.d2c=e.d2l=c,e.r2d=e.c2d=e.l2d=l,e.d2r=e.d2l_noadd=f,e.r2c=function(w){var S=h(w);return S!==void 0?S:e.fraction2r(.5)},e.l2r=e.c2r=Bu,e.r2l=h,e.d2p=function(w){return e.l2p(e.r2c(w))},e.p2d=function(w){return l(y(w))},e.r2p=e.d2p,e.p2r=y,e.cleanPos=function(w){return typeof w=="string"&&w!==""?w:Bu(w)}):e.type==="multicategory"&&(e.r2d=e.c2d=e.l2d=l,e.d2r=e.d2l_noadd=f,e.r2c=function(w){var S=f(w);return S!==void 0?S:e.fraction2r(.5)},e.r2c_just_indices=d,e.l2r=e.c2r=Bu,e.r2l=f,e.d2p=function(w){return e.l2p(e.r2c(w))},e.p2d=function(w){return l(y(w))},e.r2p=e.d2p,e.p2r=y,e.cleanPos=function(w){return Array.isArray(w)||typeof w=="string"&&w!==""?w:Bu(w)},e.setupMultiCategory=function(w){var S=e._traceIndices,_,C,E=e._matchGroup;if(E&&e._categories.length===0){for(var M in E)if(M!==n){var I=r[LM.id2name(M)];S=S.concat(I._traceIndices)}}var L=[[0,{}],[0,{}]],O=[];for(_=0;_<S.length;_++){var H=w[S[_]];if(i in H){var Y=H[i],K=H._length||En.minRowLength(Y);if(Cce(Y[0])&&Cce(Y[1]))for(C=0;C<K;C++){var N=Y[0][C],U=Y[1][C];$7(N)&&$7(U)&&(O.push([N,U]),N in L[0][1]||(L[0][1][N]=L[0][0]++),U in L[1][1]||(L[1][1][U]=L[1][0]++))}}}for(O.sort(function(B,$){var ee=L[0][1],te=ee[B[0]]-ee[$[0]];if(te)return te;var he=L[1][1];return he[B[1]]-he[$[1]]}),_=0;_<O.length;_++)c(O[_])}),e.fraction2r=function(w){var S=e.r2l(e.range[0]),_=e.r2l(e.range[1]);return e.l2r(S+w*(_-S))},e.r2fraction=function(w){var S=e.r2l(e.range[0]),_=e.r2l(e.range[1]);return(e.r2l(w)-S)/(_-S)},e.limitRange=function(w){var S=e.minallowed,_=e.maxallowed;if(!(S===void 0&&_===void 0)){w||(w="range");var C=En.nestedProperty(e,w).get(),E=En.simpleMap(C,e.r2l),M=E[1]<E[0];M&&E.reverse();var I=En.simpleMap([S,_],e.r2l);if(S!==void 0&&E[0]<I[0]&&(C[M?1:0]=S),_!==void 0&&E[1]>I[1]&&(C[M?0:1]=_),C[0]===C[1]){var L=e.l2r(S),O=e.l2r(_);if(S!==void 0){var H=L+1;_!==void 0&&(H=Math.min(H,O)),C[M?1:0]=H}if(_!==void 0){var Y=O+1;S!==void 0&&(Y=Math.max(Y,L)),C[M?0:1]=Y}}}},e.cleanRange=function(w,S){e._cleanRange(w,S),e.limitRange(w)},e._cleanRange=function(w,S){S||(S={}),w||(w="range");var _=En.nestedProperty(e,w).get(),C,E;if(e.type==="date"?E=En.dfltRange(e.calendar):i==="y"?E=zM.DFLTRANGEY:e._name==="realaxis"?E=[0,1]:E=S.dfltRange||zM.DFLTRANGEX,E=E.slice(),(e.rangemode==="tozero"||e.rangemode==="nonnegative")&&(E[0]=0),!_||_.length!==2){En.nestedProperty(e,w).set(E);return}var M=_[0]===null,I=_[1]===null;for(e.type==="date"&&!e.autorange&&(_[0]=En.cleanDate(_[0],Uc,e.calendar),_[1]=En.cleanDate(_[1],Uc,e.calendar)),C=0;C<2;C++)if(e.type==="date"){if(!En.isDateTime(_[C],e.calendar)){e[w]=E;break}if(e.r2l(_[0])===e.r2l(_[1])){var L=En.constrain(e.r2l(_[0]),En.MIN_MS+1e3,En.MAX_MS-1e3);_[0]=e.l2r(L-1e3),_[1]=e.l2r(L+1e3);break}}else{if(!Uu(_[C]))if(!(M||I)&&Uu(_[1-C]))_[C]=_[1-C]*(C?10:.1);else{e[w]=E;break}if(_[C]<-RM?_[C]=-RM:_[C]>RM&&(_[C]=RM),_[0]===_[1]){var O=Math.max(1,Math.abs(_[0]*1e-6));_[0]-=O,_[1]+=O}}},e.setScale=function(w){var S=r._size;if(e.overlaying){var _=LM.getFromId({_fullLayout:r},e.overlaying);e.domain=_.domain}var C=w&&e._r?"_r":"range",E=e.calendar;e.cleanRange(C);var M=e.r2l(e[C][0],E),I=e.r2l(e[C][1],E),L=i==="y";if(L?(e._offset=S.t+(1-e.domain[1])*S.h,e._length=S.h*(e.domain[1]-e.domain[0]),e._m=e._length/(M-I),e._b=-e._m*I):(e._offset=S.l+e.domain[0]*S.w,e._length=S.w*(e.domain[1]-e.domain[0]),e._m=e._length/(I-M),e._b=-e._m*M),e._rangebreaks=[],e._lBreaks=0,e._m2=0,e._B=[],e.rangebreaks){var O,H;if(e._rangebreaks=e.locateBreaks(Math.min(M,I),Math.max(M,I)),e._rangebreaks.length){for(O=0;O<e._rangebreaks.length;O++)H=e._rangebreaks[O],e._lBreaks+=Math.abs(H.max-H.min);var Y=L;M>I&&(Y=!Y),Y&&e._rangebreaks.reverse();var K=Y?-1:1;for(e._m2=K*e._length/(Math.abs(I-M)-e._lBreaks),e._B.push(-e._m2*(L?I:M)),O=0;O<e._rangebreaks.length;O++)H=e._rangebreaks[O],e._B.push(e._B[e._B.length-1]-K*e._m2*(H.max-H.min));for(O=0;O<e._rangebreaks.length;O++)H=e._rangebreaks[O],H.pmin=v(H.min),H.pmax=v(H.max)}}if(!isFinite(e._m)||!isFinite(e._b)||e._length<0)throw r._replotting=!1,new Error("Something went wrong with axis scaling")},e.maskBreaks=function(w){var S=e.rangebreaks||[],_,C,E,M,I;S._cachedPatterns||(S._cachedPatterns=S.map(function(ee){return ee.enabled&&ee.bounds?En.simpleMap(ee.bounds,ee.pattern?fp:e.d2c):null})),S._cachedValues||(S._cachedValues=S.map(function(ee){return ee.enabled&&ee.values?En.simpleMap(ee.values,e.d2c).sort(En.sorterAsc):null}));for(var L=0;L<S.length;L++){var O=S[L];if(O.enabled){if(O.bounds){var H=O.pattern;switch(_=S._cachedPatterns[L],C=_[0],E=_[1],H){case PM:I=new Date(w),M=I.getUTCDay(),C>E&&(E+=7,M<C&&(M+=7));break;case OM:I=new Date(w);var Y=I.getUTCHours(),K=I.getUTCMinutes(),N=I.getUTCSeconds(),U=I.getUTCMilliseconds();M=Y+(K/60+N/3600+U/36e5),C>E&&(E+=24,M<C&&(M+=24));break;case"":M=w;break}if(M>=C&&M<E)return Uc}else for(var B=S._cachedValues[L],$=0;$<B.length;$++)if(C=B[$],E=C+O.dvalue,w>=C&&w<E)return Uc}}return w},e.locateBreaks=function(w,S){var _,C,E,M,I=[];if(!e.rangebreaks)return I;var L=e.rangebreaks.slice().sort(function(he,we){return he.pattern===PM&&we.pattern===OM?-1:we.pattern===PM&&he.pattern===OM?1:0}),O=function(he,we){if(he=En.constrain(he,w,S),we=En.constrain(we,w,S),he!==we){for(var Te=!0,ce=0;ce<I.length;ce++){var q=I[ce];he<q.max&&we>=q.min&&(he<q.min&&(q.min=he),we>q.max&&(q.max=we),Te=!1)}Te&&I.push({min:he,max:we})}};for(_=0;_<L.length;_++){var H=L[_];if(H.enabled)if(H.bounds){var Y=w,K=S;H.pattern&&(Y=Math.floor(Y)),C=En.simpleMap(H.bounds,H.pattern?fp:e.r2l),E=C[0],M=C[1];var N=new Date(Y),U,B;switch(H.pattern){case PM:B=YUe,U=((M<E?7:0)+(M-E))*IM,Y+=E*IM-(N.getUTCDay()*IM+N.getUTCHours()*NM+N.getUTCMinutes()*kce+N.getUTCSeconds()*Ece+N.getUTCMilliseconds());break;case OM:B=IM,U=((M<E?24:0)+(M-E))*NM,Y+=E*NM-(N.getUTCHours()*NM+N.getUTCMinutes()*kce+N.getUTCSeconds()*Ece+N.getUTCMilliseconds());break;default:Y=Math.min(C[0],C[1]),K=Math.max(C[0],C[1]),B=K-Y,U=B}for(var $=Y;$<K;$+=B)O($,$+U)}else for(var ee=En.simpleMap(H.values,e.d2c),te=0;te<ee.length;te++)E=ee[te],M=E+H.dvalue,O(E,M)}return I.sort(function(he,we){return he.min-we.min}),I},e.makeCalcdata=function(w,S,_){var C,E,M,I,L=e.type,O=L==="date"&&w[S+"calendar"];if(S in w){if(C=w[S],I=w._length||En.minRowLength(C),En.isTypedArray(C)&&(L==="linear"||L==="log")){if(I===C.length)return C;if(C.subarray)return C.subarray(0,I)}if(L==="multicategory")return u(C,I);for(E=new Array(I),M=0;M<I;M++)E[M]=e.d2c(C[M],0,O,_)}else{var H=S+"0"in w?e.d2c(w[S+"0"],0,O):0,Y=w["d"+S]?Number(w["d"+S]):1;for(C=w[{x:"y",y:"x"}[S]],I=w._length||C.length,E=new Array(I),M=0;M<I;M++)E[M]=H+M*Y}if(e.rangebreaks)for(M=0;M<I;M++)E[M]=e.maskBreaks(E[M]);return E},e.isValidRange=function(w,S){return Array.isArray(w)&&w.length===2&&(S&&w[0]===null||Uu(e.r2l(w[0])))&&(S&&w[1]===null||Uu(e.r2l(w[1])))},e.getAutorangeDflt=function(w,S){var _=!e.isValidRange(w,"nullOk");return _&&S&&S.reverseDflt?_="reversed":w&&(w[0]===null&&w[1]===null?_=!0:w[0]===null&&w[1]!==null?_="min":w[0]!==null&&w[1]===null&&(_="max")),_},e.isReversed=function(){var w=e.autorange;return w==="reversed"||w==="min reversed"||w==="max reversed"},e.isPtWithinRange=function(w,S){var _=e.c2l(w[i],null,S),C=e.r2l(e.range[0]),E=e.r2l(e.range[1]);return C<E?C<=_&&_<=E:E<=_&&_<=C},e._emptyCategories=function(){e._categories=[],e._categoriesMap={}},e.clearCalc=function(){var w=e._matchGroup;if(w){var S=null,_=null;for(var C in w){var E=r[LM.id2name(C)];if(E._categories){S=E._categories,_=E._categoriesMap;break}}S&&_?(e._categories=S,e._categoriesMap=_):e._emptyCategories()}else e._emptyCategories();if(e._initialCategories)for(var M=0;M<e._initialCategories.length;M++)c(e._initialCategories[M])},e.sortByInitialCategories=function(){var w=[];if(e._emptyCategories(),e._initialCategories)for(var S=0;S<e._initialCategories.length;S++)c(e._initialCategories[S]);w=w.concat(e._traceIndices);var _=e._matchGroup;for(var C in _)if(n!==C){var E=r[LM.id2name(C)];E._categories=e._categories,E._categoriesMap=e._categoriesMap,w=w.concat(E._traceIndices)}return w};var x=r._d3locale;e.type==="date"&&(e._dateFormat=x?x.timeFormat:jUe,e._extraFormat=r._extraFormat),e._separators=r.separators,e._numFormat=x?x.numberFormat:VUe,delete e._minDtick,delete e._forceTick0}});var K7=J((ebt,Ice)=>{"use strict";var Ace=_r(),X7=Qe(),ZUe=ei().BADNUM,HM=X7.isArrayOrTypedArray,$Ue=X7.isDateTime,XUe=X7.cleanNumber,Mce=Math.round;Ice.exports=function(e,r,n){var i=e,a=n.noMultiCategory;if(HM(i)&&!i.length)return"-";if(!a&&tBe(i))return"multicategory";if(a&&Array.isArray(i[0])){for(var o=[],s=0;s<i.length;s++)if(HM(i[s]))for(var l=0;l<i[s].length;l++)o.push(i[s][l]);i=o}if(JUe(i,r))return"date";var c=n.autotypenumbers!=="strict";return eBe(i,c)?"category":QUe(i,c)?"linear":"-"};function KUe(t,e){return e?Ace(t):typeof t=="number"}function QUe(t,e){for(var r=t.length,n=0;n<r;n++)if(KUe(t[n],e))return!0;return!1}function JUe(t,e){for(var r=t.length,n=Rce(r),i=0,a=0,o={},s=0;s<r;s+=n){var l=Mce(s),c=t[l],u=String(c);o[u]||(o[u]=1,$Ue(c,e)&&i++,Ace(c)&&a++)}return i>a*2}function Rce(t){return Math.max(1,(t-1)/1e3)}function eBe(t,e){for(var r=t.length,n=Rce(r),i=0,a=0,o={},s=0;s<r;s+=n){var l=Mce(s),c=t[l],u=String(c);if(!o[u]){o[u]=1;var d=typeof c;d==="boolean"?a++:(e?XUe(c)!==ZUe:d==="number")?i++:d==="string"&&a++}}return a>i*2}function tBe(t){return HM(t[0])&&HM(t[1])}});var PS=J((tbt,qce)=>{"use strict";var rBe=Sr(),Pce=_r(),pp=Qe(),qM=ei().FP_SAFE,nBe=Xt(),iBe=Kr(),zce=Wi(),aBe=zce.getFromId,oBe=zce.isLinked;qce.exports={applyAutorangeOptions:Hce,getAutoRange:Q7,makePadFn:J7,doAutoRange:lBe,findExtremes:cBe,concatExtremes:rH};function Q7(t,e){var r,n,i=[],a=t._fullLayout,o=J7(a,e,0),s=J7(a,e,1),l=rH(t,e),c=l.min,u=l.max;if(c.length===0||u.length===0)return pp.simpleMap(e.range,e.r2l);var d=c[0].val,f=u[0].val;for(r=1;r<c.length&&d===f;r++)d=Math.min(d,c[r].val);for(r=1;r<u.length&&d===f;r++)f=Math.max(f,u[r].val);var h=e.autorange,p=h==="reversed"||h==="min reversed"||h==="max reversed";if(!p&&e.range){var m=pp.simpleMap(e.range,e.r2l);p=m[1]<m[0]}e.autorange==="reversed"&&(e.autorange=!0);var v=e.rangemode,y=v==="tozero",b=v==="nonnegative",x=e._length,w=x/10,S=0,_,C,E,M,I,L;for(r=0;r<c.length;r++)for(_=c[r],n=0;n<u.length;n++)C=u[n],L=C.val-_.val-Nce(e,_.val,C.val),L>0&&(I=x-o(_)-s(C),I>w?L/I>S&&(E=_,M=C,S=L/I):L/x>S&&(E={val:_.val,nopad:1},M={val:C.val,nopad:1},S=L/x));function O(U,B){return Math.max(U,s(B))}if(d===f){var H=d-1,Y=d+1;if(y)if(d===0)i=[0,1];else{var K=(d>0?u:c).reduce(O,0),N=d/(1-Math.min(.5,K/x));i=d>0?[0,N]:[N,0]}else b?i=[Math.max(0,H),Math.max(1,Y)]:i=[H,Y]}else y?(E.val>=0&&(E={val:0,nopad:1}),M.val<=0&&(M={val:0,nopad:1})):b&&(E.val-S*o(E)<0&&(E={val:0,nopad:1}),M.val<=0&&(M={val:1,nopad:1})),S=(M.val-E.val-Nce(e,_.val,C.val))/(x-o(E)-s(M)),i=[E.val-S*o(E),M.val+S*s(M)];return i=Hce(i,e),e.limitRange&&e.limitRange(),p&&i.reverse(),pp.simpleMap(i,e.l2r||Number)}function Nce(t,e,r){var n=0;if(t.rangebreaks)for(var i=t.locateBreaks(e,r),a=0;a<i.length;a++){var o=i[a];n+=o.max-o.min}return n}function J7(t,e,r){var n=.05*e._length,i=e._anchorAxis||{};if((e.ticklabelposition||"").indexOf("inside")!==-1||(i.ticklabelposition||"").indexOf("inside")!==-1){var a=e.isReversed();if(!a){var o=pp.simpleMap(e.range,e.r2l);a=o[1]<o[0]}a&&(r=!r)}var s=0;return oBe(t,e._id)||(s=sBe(t,e,r)),n=Math.max(s,n),e.constrain==="domain"&&e._inputDomain&&(n*=(e._inputDomain[1]-e._inputDomain[0])/(e.domain[1]-e.domain[0])),function(c){return c.nopad?0:c.pad+(c.extrapad?n:s)}}var Lce=3;function sBe(t,e,r){var n=0,i=e._id.charAt(0)==="x";for(var a in t._plots){var o=t._plots[a];if(!(e._id!==o.xaxis._id&&e._id!==o.yaxis._id)){var s=(i?o.yaxis:o.xaxis)||{};if((s.ticklabelposition||"").indexOf("inside")!==-1&&(!r&&(s.side==="left"||s.side==="bottom")||r&&(s.side==="top"||s.side==="right"))){if(s._vals){var l=pp.deg2rad(s._tickAngles[s._id+"tick"]||0),c=Math.abs(Math.cos(l)),u=Math.abs(Math.sin(l));if(!s._vals[0].bb){var d=s._id+"tick",f=s._selections[d];f.each(function(b){var x=rBe.select(this),w=x.select(".text-math-group");w.empty()&&(b.bb=iBe.bBox(x.node()))})}for(var h=0;h<s._vals.length;h++){var p=s._vals[h],m=p.bb;if(m){var v=2*Lce+m.width,y=2*Lce+m.height;n=Math.max(n,i?Math.max(v*c,y*u):Math.max(y*c,v*u))}}}s.ticks==="inside"&&s.ticklabelposition==="inside"&&(n+=s.ticklen||0)}}}return n}function rH(t,e,r){var n=e._id,i=t._fullData,a=t._fullLayout,o=[],s=[],l,c,u;function d(v,y){for(l=0;l<y.length;l++){var b=v[y[l]],x=(b._extremes||{})[n];if(b.visible===!0&&x){for(c=0;c<x.min.length;c++)u=x.min[c],eH(o,u.val,u.pad,{extrapad:u.extrapad});for(c=0;c<x.max.length;c++)u=x.max[c],tH(s,u.val,u.pad,{extrapad:u.extrapad})}}}if(d(i,e._traceIndices),d(a.annotations||[],e._annIndices||[]),d(a.shapes||[],e._shapeIndices||[]),e._matchGroup&&!r){for(var f in e._matchGroup)if(f!==e._id){var h=aBe(t,f),p=rH(t,h,!0),m=e._length/h._length;for(c=0;c<p.min.length;c++)u=p.min[c],eH(o,u.val,u.pad*m,{extrapad:u.extrapad});for(c=0;c<p.max.length;c++)u=p.max[c],tH(s,u.val,u.pad*m,{extrapad:u.extrapad})}}return{min:o,max:s}}function lBe(t,e,r){if(e.setScale(),e.autorange){e.range=r?r.slice():Q7(t,e),e._r=e.range.slice(),e._rl=pp.simpleMap(e._r,e.r2l);var n=e._input,i={};i[e._attr+".range"]=e.range,i[e._attr+".autorange"]=e.autorange,nBe.call("_storeDirectGUIEdit",t.layout,t._fullLayout._preGUI,i),n.range=e.range.slice(),n.autorange=e.autorange}var a=e._anchorAxis;if(a&&a.rangeslider){var o=a.rangeslider[e._name];o&&o.rangemode==="auto"&&(o.range=Q7(t,e)),a._input.rangeslider[e._name]=pp.extendFlat({},o)}}function cBe(t,e,r){r||(r={}),t._m||t.setScale();var n=[],i=[],a=e.length,o=r.padded||!1,s=r.tozero&&(t.type==="linear"||t.type==="-"),l=t.type==="log",c=!1,u=r.vpadLinearized||!1,d,f,h,p,m,v,y,b,x;function w(O){if(Array.isArray(O))return c=!0,function(Y){return Math.max(Number(O[Y]||0),0)};var H=Math.max(Number(O||0),0);return function(){return H}}var S=w((t._m>0?r.ppadplus:r.ppadminus)||r.ppad||0),_=w((t._m>0?r.ppadminus:r.ppadplus)||r.ppad||0),C=w(r.vpadplus||r.vpad),E=w(r.vpadminus||r.vpad);if(!c){if(b=1/0,x=-1/0,l)for(d=0;d<a;d++)f=e[d],f<b&&f>0&&(b=f),f>x&&f<qM&&(x=f);else for(d=0;d<a;d++)f=e[d],f<b&&f>-qM&&(b=f),f>x&&f<qM&&(x=f);e=[b,x],a=2}var M={tozero:s,extrapad:o};function I(O){h=e[O],Pce(h)&&(v=S(O),y=_(O),u?(p=t.c2l(h)-E(O),m=t.c2l(h)+C(O)):(b=h-E(O),x=h+C(O),l&&b<x/10&&(b=x/10),p=t.c2l(b),m=t.c2l(x)),s&&(p=Math.min(0,p),m=Math.max(0,m)),Oce(p)&&eH(n,p,y,M),Oce(m)&&tH(i,m,v,M))}var L=Math.min(6,a);for(d=0;d<L;d++)I(d);for(d=a-1;d>=L;d--)I(d);return{min:n,max:i,opts:r}}function eH(t,e,r,n){Fce(t,e,r,n,uBe)}function tH(t,e,r,n){Fce(t,e,r,n,dBe)}function Fce(t,e,r,n,i){for(var a=n.tozero,o=n.extrapad,s=!0,l=0;l<t.length&&s;l++){var c=t[l];if(i(c.val,e)&&c.pad>=r&&(c.extrapad||!o)){s=!1;break}else i(e,c.val)&&c.pad<=r&&(o||!c.extrapad)&&(t.splice(l,1),l--)}if(s){var u=a&&e===0;t.push({val:e,pad:u?0:r,extrapad:u?!1:o})}}function Oce(t){return Pce(t)&&Math.abs(t)<qM}function uBe(t,e){return t<=e}function dBe(t,e){return t>=e}function fBe(t,e){var r=e.autorangeoptions;return r&&r.minallowed!==void 0&&UM(e,r.minallowed,r.maxallowed)?r.minallowed:r&&r.clipmin!==void 0&&UM(e,r.clipmin,r.clipmax)?Math.max(t,e.d2l(r.clipmin)):t}function hBe(t,e){var r=e.autorangeoptions;return r&&r.maxallowed!==void 0&&UM(e,r.minallowed,r.maxallowed)?r.maxallowed:r&&r.clipmax!==void 0&&UM(e,r.clipmin,r.clipmax)?Math.min(t,e.d2l(r.clipmax)):t}function UM(t,e,r){return e!==void 0&&r!==void 0?(e=t.d2l(e),r=t.d2l(r),e<r):!0}function Hce(t,e){if(!e||!e.autorangeoptions)return t;var r=t[0],n=t[1],i=e.autorangeoptions.include;if(i!==void 0){var a=e.d2l(r),o=e.d2l(n);pp.isArrayOrTypedArray(i)||(i=[i]);for(var s=0;s<i.length;s++){var l=e.d2l(i[s]);a>=l&&(a=l,r=l),o<=l&&(o=l,n=l)}}return r=fBe(r,e),n=hBe(n,e),[r,n]}});var gn=J((rbt,lue)=>{"use strict";var Wl=Sr(),Li=_r(),hb=ki(),FS=Xt(),tr=Qe(),pb=tr.strTranslate,Rv=wa(),pBe=LS(),HS=gr(),$s=Kr(),mBe=Fc(),Uce=w7(),Ua=ei(),vBe=Ua.ONEMAXYEAR,VM=Ua.ONEAVGYEAR,WM=Ua.ONEMINYEAR,gBe=Ua.ONEMAXQUARTER,oH=Ua.ONEAVGQUARTER,GM=Ua.ONEMINQUARTER,yBe=Ua.ONEMAXMONTH,mb=Ua.ONEAVGMONTH,YM=Ua.ONEMINMONTH,Xs=Ua.ONEWEEK,Eo=Ua.ONEDAY,mp=Eo/2,Vu=Ua.ONEHOUR,qS=Ua.ONEMIN,ZM=Ua.ONESEC,bBe=Ua.ONEMILLI,wBe=Ua.ONEMICROSEC,Iv=Ua.MINUS_SIGN,KM=Ua.BADNUM,sH={K:"zeroline"},lH={K:"gridline",L:"path"},cH={K:"minor-gridline",L:"path"},Qce={K:"tick",L:"path"},Bce={K:"tick",L:"text"},jce={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},QM=ao(),zS=QM.MID_SHIFT,Nv=QM.CAP_SHIFT,US=QM.LINE_SPACING,xBe=QM.OPPOSITE_SIDE,$M=3,ft=lue.exports={};ft.setConvert=FM();var TBe=K7(),yf=Wi(),SBe=yf.idSort,_Be=yf.isLinked;ft.id2name=yf.id2name;ft.name2id=yf.name2id;ft.cleanId=yf.cleanId;ft.list=yf.list;ft.listIds=yf.listIds;ft.getFromId=yf.getFromId;ft.getFromTrace=yf.getFromTrace;var Jce=PS();ft.getAutoRange=Jce.getAutoRange;ft.findExtremes=Jce.findExtremes;var CBe=1e-4;function hH(t){var e=(t[1]-t[0])*CBe;return[t[0]-e,t[1]+e]}ft.coerceRef=function(t,e,r,n,i,a){var o=n.charAt(n.length-1),s=r._fullLayout._subplots[o+"axis"],l=n+"ref",c={};return i||(i=s[0]||(typeof a=="string"?a:a[0])),a||(a=i),s=s.concat(s.map(function(u){return u+" domain"})),c[l]={valType:"enumerated",values:s.concat(a?typeof a=="string"?[a]:a:[]),dflt:i},tr.coerce(t,e,c,l)};ft.getRefType=function(t){return t===void 0?t:t==="paper"?"paper":t==="pixel"?"pixel":/( domain)$/.test(t)?"domain":"range"};ft.coercePosition=function(t,e,r,n,i,a){var o,s,l=ft.getRefType(n);if(l!=="range")o=tr.ensureNumber,s=r(i,a);else{var c=ft.getFromId(e,n);a=c.fraction2r(a),s=r(i,a),o=c.cleanPos}t[i]=o(s)};ft.cleanPosition=function(t,e,r){var n=r==="paper"||r==="pixel"?tr.ensureNumber:ft.getFromId(e,r).cleanPos;return n(t)};ft.redrawComponents=function(t,e){e=e||ft.listIds(t);var r=t._fullLayout;function n(i,a,o,s){for(var l=FS.getComponentMethod(i,a),c={},u=0;u<e.length;u++)for(var d=r[ft.id2name(e[u])],f=d[o],h=0;h<f.length;h++){var p=f[h];if(!c[p]&&(l(t,p),c[p]=1,s))return}}n("annotations","drawOne","_annIndices"),n("shapes","drawOne","_shapeIndices"),n("images","draw","_imgIndices",!0),n("selections","drawOne","_selectionIndices")};var kBe=ft.getDataConversions=function(t,e,r,n){var i,a=r==="x"||r==="y"||r==="z"?r:n;if(tr.isArrayOrTypedArray(a)){if(i={type:TBe(n,void 0,{autotypenumbers:t._fullLayout.autotypenumbers}),_categories:[]},ft.setConvert(i),i.type==="category")for(var o=0;o<n.length;o++)i.d2c(n[o])}else i=ft.getFromTrace(t,e,a);return i?{d2c:i.d2c,c2d:i.c2d}:a==="ids"?{d2c:Wce,c2d:Wce}:{d2c:Vce,c2d:Vce}};function Vce(t){return+t}function Wce(t){return String(t)}ft.getDataToCoordFunc=function(t,e,r,n){return kBe(t,e,r,n).d2c};ft.counterLetter=function(t){var e=t.charAt(0);if(e==="x")return"y";if(e==="y")return"x"};ft.minDtick=function(t,e,r,n){["log","category","multicategory"].indexOf(t.type)!==-1||!n?t._minDtick=0:t._minDtick===void 0?(t._minDtick=e,t._forceTick0=r):t._minDtick&&((t._minDtick/e+1e-6)%1<2e-6&&((r-t._forceTick0)/e%1+1.000001)%1<2e-6?(t._minDtick=e,t._forceTick0=r):((e/t._minDtick+1e-6)%1>2e-6||((r-t._forceTick0)/t._minDtick%1+1.000001)%1>2e-6)&&(t._minDtick=0))};ft.saveRangeInitial=function(t,e){for(var r=ft.list(t,"",!0),n=!1,i=0;i<r.length;i++){var a=r[i],o=a._rangeInitial0===void 0&&a._rangeInitial1===void 0,s=o||a.range[0]!==a._rangeInitial0||a.range[1]!==a._rangeInitial1,l=a.autorange;(o&&l!==!0||e&&s)&&(a._rangeInitial0=l==="min"||l==="max reversed"?void 0:a.range[0],a._rangeInitial1=l==="max"||l==="min reversed"?void 0:a.range[1],a._autorangeInitial=l,n=!0)}return n};ft.saveShowSpikeInitial=function(t,e){for(var r=ft.list(t,"",!0),n=!1,i="on",a=0;a<r.length;a++){var o=r[a],s=o._showSpikeInitial===void 0,l=s||o.showspikes!==o._showspikes;(s||e&&l)&&(o._showSpikeInitial=o.showspikes,n=!0),i==="on"&&!o.showspikes&&(i="off")}return t._fullLayout._cartesianSpikesEnabled=i,n};ft.autoBin=function(t,e,r,n,i,a){var o=tr.aggNums(Math.min,null,t),s=tr.aggNums(Math.max,null,t);if(e.type==="category"||e.type==="multicategory")return{start:o-.5,end:s+.5,size:Math.max(1,Math.round(a)||1),_dataSpan:s-o};i||(i=e.calendar);var l;if(e.type==="log"?l={type:"linear",range:[o,s]}:l={type:e.type,range:tr.simpleMap([o,s],e.c2r,0,i),calendar:i},ft.setConvert(l),a=a&&Uce.dtick(a,l.type),a)l.dtick=a,l.tick0=Uce.tick0(void 0,l.type,i);else{var c;if(r)c=(s-o)/r;else{var u=tr.distinctVals(t),d=Math.pow(10,Math.floor(Math.log(u.minDiff)/Math.LN10)),f=d*tr.roundUp(u.minDiff/d,[.9,1.9,4.9,9.9],!0);c=Math.max(f,2*tr.stdev(t)/Math.pow(t.length,n?.25:.4)),Li(c)||(c=1)}ft.autoTicks(l,c)}var h=l.dtick,p=ft.tickIncrement(ft.tickFirst(l),h,"reverse",i),m,v;if(typeof h=="number")p=EBe(p,t,l,o,s),v=1+Math.floor((s-p)/h),m=p+v*h;else for(l.dtick.charAt(0)==="M"&&(p=DBe(p,t,h,o,i)),m=p,v=0;m<=s;)m=ft.tickIncrement(m,h,!1,i),v++;return{start:e.c2r(p,0,i),end:e.c2r(m,0,i),size:h,_dataSpan:s-o}};function EBe(t,e,r,n,i){var a=0,o=0,s=0,l=0;function c(h){return(1+(h-t)*100/r.dtick)%100<2}for(var u=0;u<e.length;u++)e[u]%1===0?s++:Li(e[u])||l++,c(e[u])&&a++,c(e[u]+r.dtick/2)&&o++;var d=e.length-l;if(s===d&&r.type!=="date")r.dtick<1?t=n-.5*r.dtick:(t-=.5,t+r.dtick<n&&(t+=r.dtick));else if(o<d*.1&&(a>d*.3||c(n)||c(i))){var f=r.dtick/2;t+=t+f<n?f:-f}return t}function DBe(t,e,r,n,i){var a=tr.findExactDates(e,i),o=.8;if(a.exactDays>o){var s=Number(r.substr(1));a.exactYears>o&&s%12===0?t=ft.tickIncrement(t,"M6","reverse")+Eo*1.5:a.exactMonths>o?t=ft.tickIncrement(t,"M1","reverse")+Eo*15.5:t-=mp;var l=ft.tickIncrement(t,r);if(l<=n)return l}return t}ft.prepMinorTicks=function(t,e,r){if(!e.minor.dtick){delete t.dtick;var n=e.dtick&&Li(e._tmin),i;if(n){var a=ft.tickIncrement(e._tmin,e.dtick,!0);i=[e._tmin,a*.99+e._tmin*.01]}else{var o=tr.simpleMap(e.range,e.r2l);i=[o[0],.8*o[0]+.2*o[1]]}if(t.range=tr.simpleMap(i,e.l2r),t._isMinor=!0,ft.prepTicks(t,r),n){var s=Li(e.dtick),l=Li(t.dtick),c=s?e.dtick:+e.dtick.substring(1),u=l?t.dtick:+t.dtick.substring(1);s&&l?nH(c,u)?c===2*Xs&&u===2*Eo&&(t.dtick=Xs):c===2*Xs&&u===3*Eo?t.dtick=Xs:c===Xs&&!(e._input.minor||{}).nticks?t.dtick=Eo:Gce(c/u,2.5)?t.dtick=c/2:t.dtick=c:String(e.dtick).charAt(0)==="M"?l?t.dtick="M1":nH(c,u)?c>=12&&u===2&&(t.dtick="M3"):t.dtick=e.dtick:String(t.dtick).charAt(0)==="L"?String(e.dtick).charAt(0)==="L"?nH(c,u)||(t.dtick=Gce(c/u,2.5)?e.dtick/2:e.dtick):t.dtick="D1":t.dtick==="D2"&&+e.dtick>1&&(t.dtick=1)}t.range=e.range}e.minor._tick0Init===void 0&&(t.tick0=e.tick0)};function nH(t,e){return Math.abs((t/e+.5)%1-.5)<.001}function Gce(t,e){return Math.abs(t/e-1)<.001}ft.prepTicks=function(t,e){var r=tr.simpleMap(t.range,t.r2l,void 0,void 0,e);if(t.tickmode==="auto"||!t.dtick){var n=t.nticks,i;n||(t.type==="category"||t.type==="multicategory"?(i=t.tickfont?tr.bigFont(t.tickfont.size||12):15,n=t._length/i):(i=t._id.charAt(0)==="y"?40:80,n=tr.constrain(t._length/i,4,9)+1),t._name==="radialaxis"&&(n*=2)),t.minor&&t.minor.tickmode!=="array"||t.tickmode==="array"&&(n*=100),t._roughDTick=Math.abs(r[1]-r[0])/n,ft.autoTicks(t,t._roughDTick),t._minDtick>0&&t.dtick<t._minDtick*2&&(t.dtick=t._minDtick,t.tick0=t.l2r(t._forceTick0))}t.ticklabelmode==="period"&&ABe(t),t.tick0||(t.tick0=t.type==="date"?"2000-01-01":0),t.type==="date"&&t.dtick<.1&&(t.dtick=.1),nue(t)};function iH(t){return+t.substring(1)}function ABe(t){var e;function r(){return!(Li(t.dtick)||t.dtick.charAt(0)!=="M")}var n=r(),i=ft.getTickFormat(t);if(i){var a=t._dtickInit!==t.dtick;/%[fLQsSMX]/.test(i)||(/%[HI]/.test(i)?(e=Vu,a&&!n&&t.dtick<Vu&&(t.dtick=Vu)):/%p/.test(i)?(e=mp,a&&!n&&t.dtick<mp&&(t.dtick=mp)):/%[Aadejuwx]/.test(i)?(e=Eo,a&&!n&&t.dtick<Eo&&(t.dtick=Eo)):/%[UVW]/.test(i)?(e=Xs,a&&!n&&t.dtick<Xs&&(t.dtick=Xs)):/%[Bbm]/.test(i)?(e=mb,a&&(n?iH(t.dtick)<1:t.dtick<YM)&&(t.dtick="M1")):/%[q]/.test(i)?(e=oH,a&&(n?iH(t.dtick)<3:t.dtick<GM)&&(t.dtick="M3")):/%[Yy]/.test(i)&&(e=VM,a&&(n?iH(t.dtick)<12:t.dtick<WM)&&(t.dtick="M12")))}n=r(),n&&t.tick0===t._dowTick0&&(t.tick0=t._rawTick0),t._definedDelta=e}function MBe(t,e,r){for(var n=0;n<t.length;n++){var i=t[n].value,a=n,o=n+1;n<t.length-1?(a=n,o=n+1):n>0?(a=n-1,o=n):(a=n,o=n);var s=t[a].value,l=t[o].value,c=Math.abs(l-s),u=r||c,d=0;u>=WM?c>=WM&&c<=vBe?d=c:d=VM:r===oH&&u>=GM?c>=GM&&c<=gBe?d=c:d=oH:u>=YM?c>=YM&&c<=yBe?d=c:d=mb:r===Xs&&u>=Xs?d=Xs:u>=Eo?d=Eo:r===mp&&u>=mp?d=mp:r===Vu&&u>=Vu&&(d=Vu);var f;d>=c&&(d=c,f=!0);var h=i+d;if(e.rangebreaks&&d>0){for(var p=84,m=0,v=0;v<p;v++){var y=(v+.5)/p;e.maskBreaks(i*(1-y)+y*h)!==KM&&m++}d*=m/p,d||(t[n].drop=!0),f&&c>Xs&&(d=c)}(d>0||n===0)&&(t[n].periodX=i+d/2)}}ft.calcTicks=function(e,r){for(var n=e.type,i=e.calendar,a=e.ticklabelstep,o=e.ticklabelmode==="period",s=e.range[0]>e.range[1],l=!e.ticklabelindex||tr.isArrayOrTypedArray(e.ticklabelindex)?e.ticklabelindex:[e.ticklabelindex],c=tr.simpleMap(e.range,e.r2l,void 0,void 0,r),u=c[1]<c[0],d=Math.min(c[0],c[1]),f=Math.max(c[0],c[1]),h=Math.max(1e3,e._length||0),p=[],m=[],v=[],y=[],b=[],x=e.minor&&(e.minor.ticks||e.minor.showgrid),w=1;w>=(x?0:1);w--){var S=!w;w?(e._dtickInit=e.dtick,e._tick0Init=e.tick0):(e.minor._dtickInit=e.minor.dtick,e.minor._tick0Init=e.minor.tick0);var _=w?e:tr.extendFlat({},e,e.minor);if(S?ft.prepMinorTicks(_,e,r):ft.prepTicks(_,r),_.tickmode==="array"){w?(v=[],p=Yce(e,!S)):(y=[],m=Yce(e,!S));continue}if(_.tickmode==="sync"){v=[],p=RBe(e);continue}var C=hH(c),E=C[0],M=C[1],I=Li(_.dtick),L=n==="log"&&!(I||_.dtick.charAt(0)==="L"),O=ft.tickFirst(_,r);if(w){if(e._tmin=O,O<E!==u)break;(n==="category"||n==="multicategory")&&(M=u?Math.max(-.5,M):Math.min(e._categories.length-.5,M))}var H=null,Y=O,K;if(w){var N;I?N=e.dtick:n==="date"?typeof e.dtick=="string"&&e.dtick.charAt(0)==="M"&&(N=mb*e.dtick.substring(1)):N=e._roughDTick,K=Math.round((e.r2l(Y)-e.r2l(e.tick0))/N)-1}var U=_.dtick;for(_.rangebreaks&&_._tick0Init!==_.tick0&&(Y=aH(Y,e),u||(Y=ft.tickIncrement(Y,U,!u,i))),w&&o&&(Y=ft.tickIncrement(Y,U,!u,i),K--);u?Y>=M:Y<=M;Y=ft.tickIncrement(Y,U,u,i)){if(w&&K++,_.rangebreaks&&!u){if(Y<E)continue;if(_.maskBreaks(Y)===KM&&aH(Y,_)>=f)break}if(v.length>h||Y===H)break;H=Y;var B={value:Y};w?(L&&Y!==(Y|0)&&(B.simpleLabel=!0),a>1&&K%a&&(B.skipLabel=!0),v.push(B)):(B.minor=!0,y.push(B))}}if(!y||y.length<2)l=!1;else{var $=(y[1].value-y[0].value)*(s?-1:1);tje($,e.tickformat)||(l=!1)}if(!l)b=v;else{var ee=v.concat(y);o&&v.length&&(ee=ee.slice(1)),ee=ee.sort(function(Je,nt){return Je.value-nt.value}).filter(function(Je,nt,Ke){return nt===0||Je.value!==Ke[nt-1].value});var te=ee.map(function(Je,nt){return Je.minor===void 0&&!Je.skipLabel?nt:null}).filter(function(Je){return Je!==null});te.forEach(function(Je){l.map(function(nt){var Ke=Je+nt;Ke>=0&&Ke<ee.length&&tr.pushUnique(b,ee[Ke])})})}if(x){var he=e.minor.ticks==="inside"&&e.ticks==="outside"||e.minor.ticks==="outside"&&e.ticks==="inside";if(!he){for(var we=v.map(function(Je){return Je.value}),Te=[],ce=0;ce<y.length;ce++){var q=y[ce],X=q.value;if(we.indexOf(X)===-1){for(var G=!1,de=0;!G&&de<v.length;de++)1e7+v[de].value===1e7+X&&(G=!0);G||Te.push(q)}}y=Te}}o&&MBe(b,e,e._definedDelta);var ue;if(e.rangebreaks){var fe=e._id.charAt(0)==="y",_e=1;e.tickmode==="auto"&&(_e=e.tickfont?e.tickfont.size:12);var Oe=NaN;for(ue=v.length-1;ue>-1;ue--){if(v[ue].drop){v.splice(ue,1);continue}v[ue].value=aH(v[ue].value,e);var Ce=e.c2p(v[ue].value);(fe?Oe>Ce-_e:Oe<Ce+_e)?v.splice(u?ue+1:ue,1):Oe=Ce}}vH(e)&&Math.abs(c[1]-c[0])===360&&v.pop(),e._tmax=(v[v.length-1]||{}).value,e._prevDateHead="",e._inCalcTicks=!0;var je,qe=function(Je){Je.text="",e._prevDateHead=je};v=v.concat(y);function Ve(Je,nt){var Ke=ft.tickText(Je,nt.value,!1,nt.simpleLabel),Ae=nt.periodX;return Ae!==void 0&&(Ke.periodX=Ae,(Ae>f||Ae<d)&&(Ae>f&&(Ke.periodX=f),Ae<d&&(Ke.periodX=d),qe(Ke))),Ke}var ot;for(ue=0;ue<v.length;ue++){var $e=v[ue].minor,Xe=v[ue].value;$e?(l&&b.indexOf(v[ue])!==-1?ot=Ve(e,v[ue]):ot={x:Xe},ot.minor=!0,m.push(ot)):(je=e._prevDateHead,ot=Ve(e,v[ue]),(v[ue].skipLabel||l&&b.indexOf(v[ue])===-1)&&qe(ot),p.push(ot))}return p=p.concat(m),e._inCalcTicks=!1,o&&p.length&&(p[0].noTick=!0),p};function eue(t,e){return t.rangebreaks&&(e=e.filter(function(r){return t.maskBreaks(r.x)!==KM})),e}function RBe(t){var e=t._mainAxis,r=[];if(e._vals){for(var n=0;n<e._vals.length;n++)if(!e._vals[n].noTick){var i=e.l2p(e._vals[n].x),a=t.p2l(i),o=ft.tickText(t,a);e._vals[n].minor&&(o.minor=!0,o.text=""),r.push(o)}}return r=eue(t,r),r}function Yce(t,e){var r=tr.simpleMap(t.range,t.r2l),n=hH(r),i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),o=t.type==="category"?t.d2l_noadd:t.d2l;t.type==="log"&&String(t.dtick).charAt(0)!=="L"&&(t.dtick="L"+Math.pow(10,Math.floor(Math.min(t.range[0],t.range[1]))-1));for(var s=[],l=0;l<=1;l++)if(!(e!==void 0&&(e&&l||e===!1&&!l))&&!(l&&!t.minor)){var c=l?t.minor.tickvals:t.tickvals,u=l?[]:t.ticktext;if(c){tr.isArrayOrTypedArray(u)||(u=[]);for(var d=0;d<c.length;d++){var f=o(c[d]);if(f>i&&f<a){var h=ft.tickText(t,f,!1,String(u[d]));l&&(h.minor=!0,h.text=""),s.push(h)}}}}return s=eue(t,s),s}var BM=[2,5,10],Zce=[1,2,3,6,12],$ce=[1,2,5,10,15,30],IBe=[1,2,3,7,14],tue=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],rue=[-.301,0,.301,.699,1],NBe=[15,30,45,90,180];function ju(t,e,r){return e*tr.roundUp(t/e,r)}ft.autoTicks=function(t,e,r){var n;function i(d){return Math.pow(d,Math.floor(Math.log(e)/Math.LN10))}if(t.type==="date"){t.tick0=tr.dateTick0(t.calendar,0);var a=2*e;if(a>VM)e/=VM,n=i(10),t.dtick="M"+12*ju(e,n,BM);else if(a>mb)e/=mb,t.dtick="M"+ju(e,1,Zce);else if(a>Eo){if(t.dtick=ju(e,Eo,t._hasDayOfWeekBreaks?[1,2,7,14]:IBe),!r){var o=ft.getTickFormat(t),s=t.ticklabelmode==="period";s&&(t._rawTick0=t.tick0),/%[uVW]/.test(o)?t.tick0=tr.dateTick0(t.calendar,2):t.tick0=tr.dateTick0(t.calendar,1),s&&(t._dowTick0=t.tick0)}}else a>Vu?t.dtick=ju(e,Vu,Zce):a>qS?t.dtick=ju(e,qS,$ce):a>ZM?t.dtick=ju(e,ZM,$ce):(n=i(10),t.dtick=ju(e,n,BM))}else if(t.type==="log"){t.tick0=0;var l=tr.simpleMap(t.range,t.r2l);if(t._isMinor&&(e*=1.5),e>.7)t.dtick=Math.ceil(e);else if(Math.abs(l[1]-l[0])<1){var c=1.5*Math.abs((l[1]-l[0])/e);e=Math.abs(Math.pow(10,l[1])-Math.pow(10,l[0]))/c,n=i(10),t.dtick="L"+ju(e,n,BM)}else t.dtick=e>.3?"D2":"D1"}else t.type==="category"||t.type==="multicategory"?(t.tick0=0,t.dtick=Math.ceil(Math.max(e,1))):vH(t)?(t.tick0=0,n=1,t.dtick=ju(e,n,NBe)):(t.tick0=0,n=i(10),t.dtick=ju(e,n,BM));if(t.dtick===0&&(t.dtick=1),!Li(t.dtick)&&typeof t.dtick!="string"){var u=t.dtick;throw t.dtick=1,"ax.dtick error: "+String(u)}};function nue(t){var e=t.dtick;if(t._tickexponent=0,!Li(e)&&typeof e!="string"&&(e=1),(t.type==="category"||t.type==="multicategory")&&(t._tickround=null),t.type==="date"){var r=t.r2l(t.tick0),n=t.l2r(r).replace(/(^-|i)/g,""),i=n.length;if(String(e).charAt(0)==="M")i>10||n.substr(5)!=="01-01"?t._tickround="d":t._tickround=+e.substr(1)%12===0?"y":"m";else if(e>=Eo&&i<=10||e>=Eo*15)t._tickround="d";else if(e>=qS&&i<=16||e>=Vu)t._tickround="M";else if(e>=ZM&&i<=19||e>=qS)t._tickround="S";else{var a=t.l2r(r+e).replace(/^-/,"").length;t._tickround=Math.max(i,a)-20,t._tickround<0&&(t._tickround=4)}}else if(Li(e)||e.charAt(0)==="L"){var o=t.range.map(t.r2d||Number);Li(e)||(e=Number(e.substr(1))),t._tickround=2-Math.floor(Math.log(e)/Math.LN10+.01);var s=Math.max(Math.abs(o[0]),Math.abs(o[1])),l=Math.floor(Math.log(s)/Math.LN10+.01),c=t.minexponent===void 0?3:t.minexponent;Math.abs(l)>c&&(XM(t.exponentformat)&&!pH(l)?t._tickexponent=3*Math.round((l-1)/3):t._tickexponent=l)}else t._tickround=null}ft.tickIncrement=function(t,e,r,n){var i=r?-1:1;if(Li(e))return tr.increment(t,i*e);var a=e.charAt(0),o=i*Number(e.substr(1));if(a==="M")return tr.incrementMonth(t,o,n);if(a==="L")return Math.log(Math.pow(10,t)+o)/Math.LN10;if(a==="D"){var s=e==="D2"?rue:tue,l=t+i*.01,c=tr.roundUp(tr.mod(l,1),s,r);return Math.floor(l)+Math.log(Wl.round(Math.pow(10,c),1))/Math.LN10}throw"unrecognized dtick "+String(e)};ft.tickFirst=function(t,e){var r=t.r2l||Number,n=tr.simpleMap(t.range,r,void 0,void 0,e),i=n[1]<n[0],a=i?Math.floor:Math.ceil,o=hH(n)[0],s=t.dtick,l=r(t.tick0);if(Li(s)){var c=a((o-l)/s)*s+l;return(t.type==="category"||t.type==="multicategory")&&(c=tr.constrain(c,0,t._categories.length-1)),c}var u=s.charAt(0),d=Number(s.substr(1));if(u==="M"){for(var f=0,h=l,p,m,v;f<10;){if(p=ft.tickIncrement(h,s,i,t.calendar),(p-o)*(h-o)<=0)return i?Math.min(h,p):Math.max(h,p);m=(o-(h+p)/2)/(p-h),v=u+(Math.abs(Math.round(m))||1)*d,h=ft.tickIncrement(h,v,m<0?!i:i,t.calendar),f++}return tr.error("tickFirst did not converge",t),h}else{if(u==="L")return Math.log(a((Math.pow(10,o)-l)/d)*d+l)/Math.LN10;if(u==="D"){var y=s==="D2"?rue:tue,b=tr.roundUp(tr.mod(o,1),y,i);return Math.floor(o)+Math.log(Wl.round(Math.pow(10,b),1))/Math.LN10}else throw"unrecognized dtick "+String(s)}};ft.tickText=function(t,e,r,n){var i=iue(t,e),a=t.tickmode==="array",o=r||a,s=t.type,l=s==="category"?t.d2l_noadd:t.d2l,c,u=function(v){var y=t.l2p(v);return y>=0&&y<=t._length?v:null};if(a&&tr.isArrayOrTypedArray(t.ticktext)){var d=tr.simpleMap(t.range,t.r2l),f=(Math.abs(d[1]-d[0])-(t._lBreaks||0))/1e4;for(c=0;c<t.ticktext.length&&!(Math.abs(e-l(t.tickvals[c]))<f);c++);if(c<t.ticktext.length)return i.text=String(t.ticktext[c]),i.xbnd=[u(i.x-.5),u(i.x+t.dtick-.5)],i}function h(v){if(v===void 0)return!0;if(r)return v==="none";var y={first:t._tmin,last:t._tmax}[v];return v!=="all"&&e!==y}var p=r?"never":t.exponentformat!=="none"&&h(t.showexponent)?"hide":"";if(s==="date"?LBe(t,i,r,o):s==="log"?OBe(t,i,r,o,p):s==="category"?PBe(t,i):s==="multicategory"?zBe(t,i,r):vH(t)?HBe(t,i,r,o,p):FBe(t,i,r,o,p),n||(t.tickprefix&&!h(t.showtickprefix)&&(i.text=t.tickprefix+i.text),t.ticksuffix&&!h(t.showticksuffix)&&(i.text+=t.ticksuffix)),t.labelalias&&t.labelalias.hasOwnProperty(i.text)){var m=t.labelalias[i.text];typeof m=="string"&&(i.text=m)}return(t.tickson==="boundaries"||t.showdividers)&&(i.xbnd=[u(i.x-.5),u(i.x+t.dtick-.5)]),i};ft.hoverLabelText=function(t,e,r){r&&(t=tr.extendFlat({},t,{hoverformat:r}));var n=tr.isArrayOrTypedArray(e)?e[0]:e,i=tr.isArrayOrTypedArray(e)?e[1]:void 0;if(i!==void 0&&i!==n)return ft.hoverLabelText(t,n,r)+" - "+ft.hoverLabelText(t,i,r);var a=t.type==="log"&&n<=0,o=ft.tickText(t,t.c2l(a?-n:n),"hover").text;return a?n===0?"0":Iv+o:o};function iue(t,e,r){var n=t.tickfont||{};return{x:e,dx:0,dy:0,text:r||"",fontSize:n.size,font:n.family,fontWeight:n.weight,fontStyle:n.style,fontVariant:n.variant,fontTextcase:n.textcase,fontLineposition:n.lineposition,fontShadow:n.shadow,fontColor:n.color}}function LBe(t,e,r,n){var i=t._tickround,a=r&&t.hoverformat||ft.getTickFormat(t);n=!a&&n,n&&(Li(i)?i=4:i={y:"m",m:"d",d:"M",M:"S",S:4}[i]);var o=tr.formatDate(e.x,a,i,t._dateFormat,t.calendar,t._extraFormat),s,l=o.indexOf(`
`);if(l!==-1&&(s=o.substr(l+1),o=o.substr(0,l)),n&&(s!==void 0&&(o==="00:00:00"||o==="00:00")?(o=s,s=""):o.length===8&&(o=o.replace(/:00$/,""))),s)if(r)i==="d"?o+=", "+s:o=s+(o?", "+o:"");else if(!t._inCalcTicks||t._prevDateHead!==s)t._prevDateHead=s,o+="<br>"+s;else{var c=jS(t),u=t._trueSide||t.side;(!c&&u==="top"||c&&u==="bottom")&&(o+="<br> ")}e.text=o}function OBe(t,e,r,n,i){var a=t.dtick,o=e.x,s=t.tickformat,l=typeof a=="string"&&a.charAt(0);if(i==="never"&&(i=""),n&&l!=="L"&&(a="L3",l="L"),s||l==="L")e.text=BS(Math.pow(10,o),t,i,n);else if(Li(a)||l==="D"&&tr.mod(o+.01,1)<.1){var c=Math.round(o),u=Math.abs(c),d=t.exponentformat;d==="power"||XM(d)&&pH(c)?(c===0?e.text=1:c===1?e.text="10":e.text="10<sup>"+(c>1?"":Iv)+u+"</sup>",e.fontSize*=1.25):(d==="e"||d==="E")&&u>2?e.text="1"+d+(c>0?"+":Iv)+u:(e.text=BS(Math.pow(10,o),t,"","fakehover"),a==="D1"&&t._id.charAt(0)==="y"&&(e.dy-=e.fontSize/6))}else if(l==="D")e.text=String(Math.round(Math.pow(10,tr.mod(o,1)))),e.fontSize*=.75;else throw"unrecognized dtick "+String(a);if(t.dtick==="D1"){var f=String(e.text).charAt(0);(f==="0"||f==="1")&&(t._id.charAt(0)==="y"?e.dx-=e.fontSize/4:(e.dy+=e.fontSize/2,e.dx+=(t.range[1]>t.range[0]?1:-1)*e.fontSize*(o<0?.5:.25)))}}function PBe(t,e){var r=t._categories[Math.round(e.x)];r===void 0&&(r=""),e.text=String(r)}function zBe(t,e,r){var n=Math.round(e.x),i=t._categories[n]||[],a=i[1]===void 0?"":String(i[1]),o=i[0]===void 0?"":String(i[0]);r?e.text=o+" - "+a:(e.text=a,e.text2=o)}function FBe(t,e,r,n,i){i==="never"?i="":t.showexponent==="all"&&Math.abs(e.x/t.dtick)<1e-6&&(i="hide"),e.text=BS(e.x,t,i,n)}function HBe(t,e,r,n,i){if(t.thetaunit==="radians"&&!r){var a=e.x/180;if(a===0)e.text="0";else{var o=qBe(a);if(o[1]>=100)e.text=BS(tr.deg2rad(e.x),t,i,n);else{var s=e.x<0;o[1]===1?o[0]===1?e.text="\u03C0":e.text=o[0]+"\u03C0":e.text=["<sup>",o[0],"</sup>","\u2044","<sub>",o[1],"</sub>","\u03C0"].join(""),s&&(e.text=Iv+e.text)}}}else e.text=BS(e.x,t,i,n)}function qBe(t){function e(s,l){return Math.abs(s-l)<=1e-6}function r(s,l){return e(l,0)?s:r(l,s%l)}function n(s){for(var l=1;!e(Math.round(s*l)/l,s);)l*=10;return l}var i=n(t),a=t*i,o=Math.abs(r(a,i));return[Math.round(a/o),Math.round(i/o)]}var UBe=["f","p","n","\u03BC","m","","k","M","G","T"];function XM(t){return t==="SI"||t==="B"}function pH(t){return t>14||t<-15}function BS(t,e,r,n){var i=t<0,a=e._tickround,o=r||e.exponentformat||"B",s=e._tickexponent,l=ft.getTickFormat(e),c=e.separatethousands;if(n){var u={exponentformat:o,minexponent:e.minexponent,dtick:e.showexponent==="none"?e.dtick:Li(t)&&Math.abs(t)||1,range:e.showexponent==="none"?e.range.map(e.r2d):[0,t||1]};nue(u),a=(Number(u._tickround)||0)+4,s=u._tickexponent,e.hoverformat&&(l=e.hoverformat)}if(l)return e._numFormat(l)(t).replace(/-/g,Iv);var d=Math.pow(10,-a)/2;if(o==="none"&&(s=0),t=Math.abs(t),t<d)t="0",i=!1;else{if(t+=d,s&&(t*=Math.pow(10,-s),a+=s),a===0)t=String(Math.floor(t));else if(a<0){t=String(Math.round(t)),t=t.substr(0,t.length+a);for(var f=a;f<0;f++)t+="0"}else{t=String(t);var h=t.indexOf(".")+1;h&&(t=t.substr(0,h+a).replace(/\.?0+$/,""))}t=tr.numSeparate(t,e._separators,c)}if(s&&o!=="hide"){XM(o)&&pH(s)&&(o="power");var p;s<0?p=Iv+-s:o!=="power"?p="+"+s:p=String(s),o==="e"||o==="E"?t+=o+p:o==="power"?t+="\xD710<sup>"+p+"</sup>":o==="B"&&s===9?t+="B":XM(o)&&(t+=UBe[s/3+5])}return i?Iv+t:t}ft.getTickFormat=function(t){var e;function r(l){return typeof l!="string"?l:Number(l.replace("M",""))*mb}function n(l,c){var u=["L","D"];if(typeof l==typeof c){if(typeof l=="number")return l-c;var d=u.indexOf(l.charAt(0)),f=u.indexOf(c.charAt(0));return d===f?Number(l.replace(/(L|D)/g,""))-Number(c.replace(/(L|D)/g,"")):d-f}else return typeof l=="number"?1:-1}function i(l,c,u){var d=u||function(p){return p},f=c[0],h=c[1];return(!f&&typeof f!="number"||d(f)<=d(l))&&(!h&&typeof h!="number"||d(h)>=d(l))}function a(l,c){var u=c[0]===null,d=c[1]===null,f=n(l,c[0])>=0,h=n(l,c[1])<=0;return(u||f)&&(d||h)}var o,s;if(t.tickformatstops&&t.tickformatstops.length>0)switch(t.type){case"date":case"linear":{for(e=0;e<t.tickformatstops.length;e++)if(s=t.tickformatstops[e],s.enabled&&i(t.dtick,s.dtickrange,r)){o=s;break}break}case"log":{for(e=0;e<t.tickformatstops.length;e++)if(s=t.tickformatstops[e],s.enabled&&a(t.dtick,s.dtickrange)){o=s;break}break}default:}return o?o.value:t.tickformat};ft.getSubplots=function(t,e){var r=t._fullLayout._subplots,n=r.cartesian.concat(r.gl2d||[]),i=e?ft.findSubplotsWithAxis(n,e):n;return i.sort(function(a,o){var s=a.substr(1).split("y"),l=o.substr(1).split("y");return s[0]===l[0]?+s[1]-+l[1]:+s[0]-+l[0]}),i};ft.findSubplotsWithAxis=function(t,e){for(var r=new RegExp(e._id.charAt(0)==="x"?"^"+e._id+"y":e._id+"$"),n=[],i=0;i<t.length;i++){var a=t[i];r.test(a)&&n.push(a)}return n};ft.makeClipPaths=function(t){var e=t._fullLayout;if(!e._hasOnlyLargeSploms){var r={_offset:0,_length:e.width,_id:""},n={_offset:0,_length:e.height,_id:""},i=ft.list(t,"x",!0),a=ft.list(t,"y",!0),o=[],s,l;for(s=0;s<i.length;s++)for(o.push({x:i[s],y:n}),l=0;l<a.length;l++)s===0&&o.push({x:r,y:a[l]}),o.push({x:i[s],y:a[l]});var c=e._clips.selectAll(".axesclip").data(o,function(u){return u.x._id+u.y._id});c.enter().append("clipPath").classed("axesclip",!0).attr("id",function(u){return"clip"+e._uid+u.x._id+u.y._id}).append("rect"),c.exit().remove(),c.each(function(u){Wl.select(this).select("rect").attr({x:u.x._offset||0,y:u.y._offset||0,width:u.x._length||1,height:u.y._length||1})})}};ft.draw=function(t,e,r){var n=t._fullLayout;e==="redraw"&&n._paper.selectAll("g.subplot").each(function(l){var c=l[0],u=n._plots[c];if(u){var d=u.xaxis,f=u.yaxis;u.xaxislayer.selectAll("."+d._id+"tick").remove(),u.yaxislayer.selectAll("."+f._id+"tick").remove(),u.xaxislayer.selectAll("."+d._id+"tick2").remove(),u.yaxislayer.selectAll("."+f._id+"tick2").remove(),u.xaxislayer.selectAll("."+d._id+"divider").remove(),u.yaxislayer.selectAll("."+f._id+"divider").remove(),u.minorGridlayer&&u.minorGridlayer.selectAll("path").remove(),u.gridlayer&&u.gridlayer.selectAll("path").remove(),u.zerolinelayer&&u.zerolinelayer.selectAll("path").remove(),n._infolayer.select(".g-"+d._id+"title").remove(),n._infolayer.select(".g-"+f._id+"title").remove()}});var i=!e||e==="redraw"?ft.listIds(t):e,a=ft.list(t),o=a.filter(function(l){return l.autoshift}).map(function(l){return l.overlaying});i.map(function(l){var c=ft.getFromId(t,l);if(c.tickmode==="sync"&&c.overlaying){var u=i.findIndex(function(d){return d===c.overlaying});u>=0&&i.unshift(i.splice(u,1).shift())}});var s={false:{left:0,right:0}};return tr.syncOrAsync(i.map(function(l){return function(){if(l){var c=ft.getFromId(t,l);r||(r={}),r.axShifts=s,r.overlayingShiftedAx=o;var u=ft.drawOne(t,c,r);return c._shiftPusher&&fH(c,c._fullDepth||0,s,!0),c._r=c.range.slice(),c._rl=tr.simpleMap(c._r,c.r2l),u}}}))};ft.drawOne=function(t,e,r){r=r||{};var n=r.axShifts||{},i=r.overlayingShiftedAx||[],a,o,s;e.setScale();var l=t._fullLayout,c=e._id,u=c.charAt(0),d=ft.counterLetter(c),f=l._plots[e._mainSubplot];if(!f)return;if(e._shiftPusher=e.autoshift||i.indexOf(e._id)!==-1||i.indexOf(e.overlaying)!==-1,e._shiftPusher&e.anchor==="free"){var h=e.linewidth/2||0;e.ticks==="inside"&&(h+=e.ticklen),fH(e,h,n,!0),fH(e,e.shift||0,n,!1)}(r.skipTitle!==!0||e._shift===void 0)&&(e._shift=eje(e,n));var p=f[u+"axislayer"],m=e._mainLinePosition,v=m+=e._shift,y=e._mainMirrorPosition,b=e._vals=ft.calcTicks(e),x=[e.mirror,v,y].join("_");for(a=0;a<b.length;a++)b[a].axInfo=x;e._selections={},e._tickAngles&&(e._prevTickAngles=e._tickAngles),e._tickAngles={},e._depth=null;var w={};function S($e){var Xe=c+($e||"tick");return w[Xe]||(w[Xe]=WBe(e,Xe,v)),w[Xe]}if(e.visible){var _=ft.makeTransTickFn(e),C=ft.makeTransTickLabelFn(e),E,M,I=e.ticks==="inside",L=e.ticks==="outside";if(e.tickson==="boundaries"){var O=BBe(e,b);M=ft.clipEnds(e,O),E=I?M:O}else M=ft.clipEnds(e,b),E=I&&e.ticklabelmode!=="period"?M:b;var H=e._gridVals=M,Y=VBe(e,b);if(!l._hasOnlyLargeSploms){var K=e._subplotsWith,N={};for(a=0;a<K.length;a++){o=K[a],s=l._plots[o];var U=s[d+"axis"],B=U._mainAxis._id;if(!N[B]){N[B]=1;var $=u==="x"?"M0,"+U._offset+"v"+U._length:"M"+U._offset+",0h"+U._length;ft.drawGrid(t,e,{vals:H,counterAxis:U,layer:s.gridlayer.select("."+c),minorLayer:s.minorGridlayer.select("."+c),path:$,transFn:_}),ft.drawZeroLine(t,e,{counterAxis:U,layer:s.zerolinelayer,path:$,transFn:_})}}}var ee,te=ft.getTickSigns(e),he=ft.getTickSigns(e,"minor");if(e.ticks||e.minor&&e.minor.ticks){var we=ft.makeTickPath(e,v,te[2]),Te=ft.makeTickPath(e,v,he[2],{minor:!0}),ce,q,X,G;if(e._anchorAxis&&e.mirror&&e.mirror!==!0?(ce=ft.makeTickPath(e,y,te[3]),q=ft.makeTickPath(e,y,he[3],{minor:!0}),X=we+ce,G=Te+q):(ce="",q="",X=we,G=Te),e.showdividers&&L&&e.tickson==="boundaries"){var de={};for(a=0;a<Y.length;a++)de[Y[a].x]=1;ee=function($e){return de[$e.x]?ce:X}}else ee=function($e){return $e.minor?G:X}}if(ft.drawTicks(t,e,{vals:E,layer:p,path:ee,transFn:_}),e.mirror==="allticks"){var ue=Object.keys(e._linepositions||{});for(a=0;a<ue.length;a++){o=ue[a],s=l._plots[o];var fe=e._linepositions[o]||[],_e=fe[0],Oe=fe[1],Ce=fe[2],je=ft.makeTickPath(e,_e,Ce?te[0]:he[0],{minor:Ce})+ft.makeTickPath(e,Oe,Ce?te[1]:he[1],{minor:Ce});ft.drawTicks(t,e,{vals:E,layer:s[u+"axislayer"],path:je,transFn:_})}}var qe=[];if(qe.push(function(){return ft.drawLabels(t,e,{vals:b,layer:p,plotinfo:s,transFn:C,labelFns:ft.makeLabelFns(e,v)})}),e.type==="multicategory"){var Ve={x:2,y:10}[u];qe.push(function(){var $e={x:"height",y:"width"}[u],Xe=S()[$e]+Ve+(e._tickAngles[c+"tick"]?e.tickfont.size*US:0);return ft.drawLabels(t,e,{vals:jBe(e,b),layer:p,cls:c+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:_,labelFns:ft.makeLabelFns(e,v+Xe*te[4])})}),qe.push(function(){return e._depth=te[4]*(S("tick2")[e.side]-v),YBe(t,e,{vals:Y,layer:p,path:ft.makeTickPath(e,v,te[4],{len:e._depth}),transFn:_})})}else e.title.hasOwnProperty("standoff")&&qe.push(function(){e._depth=te[4]*(S()[e.side]-v)});var ot=FS.getComponentMethod("rangeslider","isVisible")(e);return!r.skipTitle&&!(ot&&e.side==="bottom")&&qe.push(function(){return ZBe(t,e)}),qe.push(function(){var $e=e.side.charAt(0),Xe=xBe[e.side].charAt(0),Je=ft.getPxPosition(t,e),nt=L?e.ticklen:0,Ke,Ae,it,at;(e.automargin||ot||e._shiftPusher)&&(e.type==="multicategory"?Ke=S("tick2"):(Ke=S(),u==="x"&&$e==="b"&&(e._depth=Math.max(Ke.width>0?Ke.bottom-Je:0,nt))));var ge=0,Ne=0;if(e._shiftPusher&&(ge=Math.max(nt,Ke.height>0?$e==="l"?Je-Ke.left:Ke.right-Je:0),e.title.text!==l._dfltTitle[u]&&(Ne=(e._titleStandoff||0)+(e._titleScoot||0),$e==="l"&&(Ne+=Kce(e))),e._fullDepth=Math.max(ge,Ne)),e.automargin){Ae={x:0,y:0,r:0,l:0,t:0,b:0};var Le=[0,1],St=typeof e._shift=="number"?e._shift:0;if(u==="x"){if($e==="b"?Ae[$e]=e._depth:(Ae[$e]=e._depth=Math.max(Ke.width>0?Je-Ke.top:0,nt),Le.reverse()),Ke.width>0){var ht=Ke.right-(e._offset+e._length);ht>0&&(Ae.xr=1,Ae.r=ht);var He=e._offset-Ke.left;He>0&&(Ae.xl=0,Ae.l=He)}}else if($e==="l"?(e._depth=Math.max(Ke.height>0?Je-Ke.left:0,nt),Ae[$e]=e._depth-St):(e._depth=Math.max(Ke.height>0?Ke.right-Je:0,nt),Ae[$e]=e._depth+St,Le.reverse()),Ke.height>0){var Ue=Ke.bottom-(e._offset+e._length);Ue>0&&(Ae.yb=0,Ae.b=Ue);var ct=e._offset-Ke.top;ct>0&&(Ae.yt=1,Ae.t=ct)}Ae[d]=e.anchor==="free"?e.position:e._anchorAxis.domain[Le[0]],e.title.text!==l._dfltTitle[u]&&(Ae[$e]+=Kce(e)+(e.title.standoff||0)),e.mirror&&e.anchor!=="free"&&(it={x:0,y:0,r:0,l:0,t:0,b:0},it[Xe]=e.linewidth,e.mirror&&e.mirror!==!0&&(it[Xe]+=nt),e.mirror===!0||e.mirror==="ticks"?it[d]=e._anchorAxis.domain[Le[1]]:(e.mirror==="all"||e.mirror==="allticks")&&(it[d]=[e._counterDomainMin,e._counterDomainMax][Le[1]]))}ot&&(at=FS.getComponentMethod("rangeslider","autoMarginOpts")(t,e)),typeof e.automargin=="string"&&(Xce(Ae,e.automargin),Xce(it,e.automargin)),hb.autoMargin(t,mH(e),Ae),hb.autoMargin(t,oue(e),it),hb.autoMargin(t,sue(e),at)}),tr.syncOrAsync(qe)}};function Xce(t,e){if(t){var r=Object.keys(jce).reduce(function(n,i){return e.indexOf(i)!==-1&&jce[i].forEach(function(a){n[a]=1}),n},{});Object.keys(t).forEach(function(n){r[n]||(n.length===1?t[n]=0:delete t[n])})}}function BBe(t,e){var r=[],n,i=function(a,o){var s=a.xbnd[o];s!==null&&r.push(tr.extendFlat({},a,{x:s}))};if(e.length){for(n=0;n<e.length;n++)i(e[n],0);i(e[n-1],1)}return r}function jBe(t,e){for(var r=[],n={},i=0;i<e.length;i++){var a=e[i];n[a.text2]?n[a.text2].push(a.x):n[a.text2]=[a.x]}for(var o in n)r.push(iue(t,tr.interp(n[o],.5),o));return r}function VBe(t,e){var r=[],n,i,a=e.length&&e[e.length-1].x<e[0].x,o=function(l,c){var u=l.xbnd[c];u!==null&&r.push(tr.extendFlat({},l,{x:u}))};if(t.showdividers&&e.length){for(n=0;n<e.length;n++){var s=e[n];s.text2!==i&&o(s,a?1:0),i=s.text2}o(e[n-1],a?0:1)}return r}function WBe(t,e,r){var n,i,a,o;if(t._selections[e].size())n=1/0,i=-1/0,a=1/0,o=-1/0,t._selections[e].each(function(){var l=dH(this),c=$s.bBox(l.node().parentNode);n=Math.min(n,c.top),i=Math.max(i,c.bottom),a=Math.min(a,c.left),o=Math.max(o,c.right)});else{var s=ft.makeLabelFns(t,r);n=i=s.yFn({dx:0,dy:0,fontSize:0}),a=o=s.xFn({dx:0,dy:0,fontSize:0})}return{top:n,bottom:i,left:a,right:o,height:i-n,width:o-a}}ft.getTickSigns=function(t,e){var r=t._id.charAt(0),n={x:"top",y:"right"}[r],i=t.side===n?1:-1,a=[-1,1,i,-i],o=e?(t.minor||{}).ticks:t.ticks;return o!=="inside"==(r==="x")&&(a=a.map(function(s){return-s})),t.side&&a.push({l:-1,t:-1,r:1,b:1}[t.side.charAt(0)]),a};ft.makeTransTickFn=function(t){return t._id.charAt(0)==="x"?function(e){return pb(t._offset+t.l2p(e.x),0)}:function(e){return pb(0,t._offset+t.l2p(e.x))}};ft.makeTransTickLabelFn=function(t){var e=GBe(t),r=t.ticklabelshift||0,n=t.ticklabelstandoff||0,i=e[0],a=e[1],o=t.range[0]>t.range[1],s=t.ticklabelposition&&t.ticklabelposition.indexOf("inside")!==-1,l=!s;if(r){var c=o?-1:1;r=r*c}if(n){var u=t.side,d=s&&(u==="top"||u==="left")||l&&(u==="bottom"||u==="right")?1:-1;n=n*d}return t._id.charAt(0)==="x"?function(f){return pb(i+t._offset+t.l2p(uH(f))+r,a+n)}:function(f){return pb(a+n,i+t._offset+t.l2p(uH(f))+r)}};function uH(t){return t.periodX!==void 0?t.periodX:t.x}function GBe(t){var e=t.ticklabelposition||"",r=function(h){return e.indexOf(h)!==-1},n=r("top"),i=r("left"),a=r("right"),o=r("bottom"),s=r("inside"),l=o||i||n||a;if(!l&&!s)return[0,0];var c=t.side,u=l?(t.tickwidth||0)/2:0,d=$M,f=t.tickfont?t.tickfont.size:12;return(o||n)&&(u+=f*Nv,d+=(t.linewidth||0)/2),(i||a)&&(u+=(t.linewidth||0)/2,d+=$M),s&&c==="top"&&(d-=f*(1-Nv)),(i||n)&&(u=-u),(c==="bottom"||c==="right")&&(d=-d),[l?u:0,s?d:0]}ft.makeTickPath=function(t,e,r,n){n||(n={});var i=n.minor;if(i&&!t.minor)return"";var a=n.len!==void 0?n.len:i?t.minor.ticklen:t.ticklen,o=t._id.charAt(0),s=(t.linewidth||1)/2;return o==="x"?"M0,"+(e+s*r)+"v"+a*r:"M"+(e+s*r)+",0h"+a*r};ft.makeLabelFns=function(t,e,r){var n=t.ticklabelposition||"",i=function(O){return n.indexOf(O)!==-1},a=i("top"),o=i("left"),s=i("right"),l=i("bottom"),c=l||o||a||s,u=i("inside"),d=n==="inside"&&t.ticks==="inside"||!u&&t.ticks==="outside"&&t.tickson!=="boundaries",f=0,h=0,p=d?t.ticklen:0;if(u?p*=-1:c&&(p=0),d&&(f+=p,r)){var m=tr.deg2rad(r);f=p*Math.cos(m)+1,h=p*Math.sin(m)}t.showticklabels&&(d||t.showline)&&(f+=.2*t.tickfont.size),f+=(t.linewidth||1)/2*(u?-1:1);var v={labelStandoff:f,labelShift:h},y,b,x,w,S=0,_=t.side,C=t._id.charAt(0),E=t.tickangle,M;if(C==="x")M=!u&&_==="bottom"||u&&_==="top",w=M?1:-1,u&&(w*=-1),y=h*w,b=e+f*w,x=M?1:-.2,Math.abs(E)===90&&(u?x+=zS:E===-90&&_==="bottom"?x=Nv:E===90&&_==="top"?x=zS:x=.5,S=zS/2*(E/90)),v.xFn=function(O){return O.dx+y+S*O.fontSize},v.yFn=function(O){return O.dy+b+O.fontSize*x},v.anchorFn=function(O,H){if(c){if(o)return"end";if(s)return"start"}return!Li(H)||H===0||H===180?"middle":H*w<0!==u?"end":"start"},v.heightFn=function(O,H,Y){return H<-60||H>60?-.5*Y:t.side==="top"!==u?-Y:0};else if(C==="y"){if(M=!u&&_==="left"||u&&_==="right",w=M?1:-1,u&&(w*=-1),y=f,b=h*w,x=0,!u&&Math.abs(E)===90&&(E===-90&&_==="left"||E===90&&_==="right"?x=Nv:x=.5),u){var I=Li(E)?+E:0;if(I!==0){var L=tr.deg2rad(I);S=Math.abs(Math.sin(L))*Nv*w,x=0}}v.xFn=function(O){return O.dx+e-(y+O.fontSize*x)*w+S*O.fontSize},v.yFn=function(O){return O.dy+b+O.fontSize*zS},v.anchorFn=function(O,H){return Li(H)&&Math.abs(H)===90?"middle":M?"end":"start"},v.heightFn=function(O,H,Y){return t.side==="right"&&(H*=-1),H<-30?-Y:H<30?-.5*Y:0}}return v};function JM(t){return[t.text,t.x,t.axInfo,t.font,t.fontSize,t.fontColor].join("_")}ft.drawTicks=function(t,e,r){r=r||{};var n=e._id+"tick",i=[].concat(e.minor&&e.minor.ticks?r.vals.filter(function(o){return o.minor&&!o.noTick}):[]).concat(e.ticks?r.vals.filter(function(o){return!o.minor&&!o.noTick}):[]),a=r.layer.selectAll("path."+n).data(i,JM);a.exit().remove(),a.enter().append("path").classed(n,1).classed("ticks",1).classed("crisp",r.crisp!==!1).each(function(o){return HS.stroke(Wl.select(this),o.minor?e.minor.tickcolor:e.tickcolor)}).style("stroke-width",function(o){return $s.crispRound(t,o.minor?e.minor.tickwidth:e.tickwidth,1)+"px"}).attr("d",r.path).style("display",null),e3(e,[Qce]),a.attr("transform",r.transFn)};ft.drawGrid=function(t,e,r){if(r=r||{},e.tickmode!=="sync"){var n=e._id+"grid",i=e.minor&&e.minor.showgrid,a=i?r.vals.filter(function(y){return y.minor}):[],o=e.showgrid?r.vals.filter(function(y){return!y.minor}):[],s=r.counterAxis;if(s&&ft.shouldShowZeroLine(t,e,s))for(var l=e.tickmode==="array",c=0;c<o.length;c++){var u=o[c].x;if(l?!u:Math.abs(u)<e.dtick/100)if(o=o.slice(0,c).concat(o.slice(c+1)),l)c--;else break}e._gw=$s.crispRound(t,e.gridwidth,1);for(var d=i?$s.crispRound(t,e.minor.gridwidth,1):0,f=r.layer,h=r.minorLayer,p=1;p>=0;p--){var m=p?f:h;if(m){var v=m.selectAll("path."+n).data(p?o:a,JM);v.exit().remove(),v.enter().append("path").classed(n,1).classed("crisp",r.crisp!==!1),v.attr("transform",r.transFn).attr("d",r.path).each(function(y){return HS.stroke(Wl.select(this),y.minor?e.minor.gridcolor:e.gridcolor||"#ddd")}).style("stroke-dasharray",function(y){return $s.dashStyle(y.minor?e.minor.griddash:e.griddash,y.minor?e.minor.gridwidth:e.gridwidth)}).style("stroke-width",function(y){return(y.minor?d:e._gw)+"px"}).style("display",null),typeof r.path=="function"&&v.attr("d",r.path)}}e3(e,[lH,cH])}};ft.drawZeroLine=function(t,e,r){r=r||r;var n=e._id+"zl",i=ft.shouldShowZeroLine(t,e,r.counterAxis),a=r.layer.selectAll("path."+n).data(i?[{x:0,id:e._id}]:[]);a.exit().remove(),a.enter().append("path").classed(n,1).classed("zl",1).classed("crisp",r.crisp!==!1).each(function(){r.layer.selectAll("path").sort(function(o,s){return SBe(o.id,s.id)})}),a.attr("transform",r.transFn).attr("d",r.path).call(HS.stroke,e.zerolinecolor||HS.defaultLine).style("stroke-width",$s.crispRound(t,e.zerolinewidth,e._gw||1)+"px").style("display",null),e3(e,[sH])};ft.drawLabels=function(t,e,r){r=r||{};var n=t._fullLayout,i=e._id,a=r.cls||i+"tick",o=r.vals.filter(function(B){return B.text}),s=r.labelFns,l=r.secondary?0:e.tickangle,c=(e._prevTickAngles||{})[a],u=r.layer.selectAll("g."+a).data(e.showticklabels?o:[],JM),d=[];u.enter().append("g").classed(a,1).append("text").attr("text-anchor","middle").each(function(B){var $=Wl.select(this),ee=t._promises.length;$.call(Rv.positionText,s.xFn(B),s.yFn(B)).call($s.font,{family:B.font,size:B.fontSize,color:B.fontColor,weight:B.fontWeight,style:B.fontStyle,variant:B.fontVariant,textcase:B.fontTextcase,lineposition:B.fontLineposition,shadow:B.fontShadow}).text(B.text).call(Rv.convertToTspans,t),t._promises[ee]?d.push(t._promises.pop().then(function(){f($,l)})):f($,l)}),e3(e,[Bce]),u.exit().remove(),r.repositionOnUpdate&&u.each(function(B){Wl.select(this).select("text").call(Rv.positionText,s.xFn(B),s.yFn(B))});function f(B,$){B.each(function(ee){var te=Wl.select(this),he=te.select(".text-math-group"),we=s.anchorFn(ee,$),Te=r.transFn.call(te.node(),ee)+(Li($)&&+$!=0?" rotate("+$+","+s.xFn(ee)+","+(s.yFn(ee)-ee.fontSize/2)+")":""),ce=Rv.lineCount(te),q=US*ee.fontSize,X=s.heightFn(ee,Li($)?+$:0,(ce-1)*q);if(X&&(Te+=pb(0,X)),he.empty()){var G=te.select("text");G.attr({transform:Te,"text-anchor":we}),G.style("opacity",1),e._adjustTickLabelsOverflow&&e._adjustTickLabelsOverflow()}else{var de=$s.bBox(he.node()).width,ue=de*{end:-.5,start:.5}[we];he.attr("transform",Te+pb(ue,0))}})}e._adjustTickLabelsOverflow=function(){var B=e.ticklabeloverflow;if(!(!B||B==="allow")){var $=B.indexOf("hide")!==-1,ee=e._id.charAt(0)==="x",te=0,he=ee?t._fullLayout.width:t._fullLayout.height;if(B.indexOf("domain")!==-1){var we=tr.simpleMap(e.range,e.r2l);te=e.l2p(we[0])+e._offset,he=e.l2p(we[1])+e._offset}var Te=Math.min(te,he),ce=Math.max(te,he),q=e.side,X=1/0,G=-1/0;u.each(function(_e){var Oe=Wl.select(this),Ce=Oe.select(".text-math-group");if(Ce.empty()){var je=$s.bBox(Oe.node()),qe=0;ee?(je.right>ce||je.left<Te)&&(qe=1):(je.bottom>ce||je.top+(e.tickangle?0:_e.fontSize/4)<Te)&&(qe=1);var Ve=Oe.select("text");qe?$&&Ve.style("opacity",0):(Ve.style("opacity",1),q==="bottom"||q==="right"?X=Math.min(X,ee?je.top:je.left):X=-1/0,q==="top"||q==="left"?G=Math.max(G,ee?je.bottom:je.right):G=1/0)}});for(var de in n._plots){var ue=n._plots[de];if(!(e._id!==ue.xaxis._id&&e._id!==ue.yaxis._id)){var fe=ee?ue.yaxis:ue.xaxis;fe&&(fe["_visibleLabelMin_"+e._id]=X,fe["_visibleLabelMax_"+e._id]=G)}}}},e._hideCounterAxisInsideTickLabels=function(B){var $=e._id.charAt(0)==="x",ee=[];for(var te in n._plots){var he=n._plots[te];e._id!==he.xaxis._id&&e._id!==he.yaxis._id||ee.push($?he.yaxis:he.xaxis)}ee.forEach(function(we,Te){we&&jS(we)&&(B||[sH,cH,lH,Qce,Bce]).forEach(function(ce){var q=ce.K==="tick"&&ce.L==="text"&&e.ticklabelmode==="period",X=n._plots[e._mainSubplot],G;ce.K===sH.K?G=X.zerolinelayer.selectAll("."+e._id+"zl"):ce.K===cH.K?G=X.minorGridlayer.selectAll("."+e._id):ce.K===lH.K?G=X.gridlayer.selectAll("."+e._id):G=X[e._id.charAt(0)+"axislayer"],G.each(function(){var de=Wl.select(this);ce.L&&(de=de.selectAll(ce.L)),de.each(function(ue){var fe=e.l2p(q?uH(ue):ue.x)+e._offset,_e=Wl.select(this);fe<e["_visibleLabelMax_"+we._id]&&fe>e["_visibleLabelMin_"+we._id]?_e.style("display","none"):ce.K==="tick"&&!Te&&_e.style("display",null)})})})})},f(u,c+1?c:l);function h(){return d.length&&Promise.all(d)}var p=null;function m(){if(f(u,l),o.length&&e.autotickangles&&(e.type!=="log"||String(e.dtick).charAt(0)!=="D")){p=e.autotickangles[0];var B=0,$=[],ee,te=1;u.each(function(Ke){B=Math.max(B,Ke.fontSize);var Ae=e.l2p(Ke.x),it=dH(this),at=$s.bBox(it.node());te=Math.max(te,Rv.lineCount(it)),$.push({top:0,bottom:10,height:10,left:Ae-at.width/2,right:Ae+at.width/2+2,width:at.width+2})});var he=(e.tickson==="boundaries"||e.showdividers)&&!r.secondary,we=o.length,Te=Math.abs((o[we-1].x-o[0].x)*e._m)/(we-1),ce=he?Te/2:Te,q=he?e.ticklen:B*1.25*te,X=Math.sqrt(Math.pow(ce,2)+Math.pow(q,2)),G=ce/X,de=e.autotickangles.map(function(Ke){return Ke*Math.PI/180}),ue=de.find(function(Ke){return Math.abs(Math.cos(Ke))<=G});ue===void 0&&(ue=de.reduce(function(Ke,Ae){return Math.abs(Math.cos(Ke))<Math.abs(Math.cos(Ae))?Ke:Ae},de[0]));var fe=ue*(180/Math.PI);if(he){var _e=2;for(e.ticks&&(_e+=e.tickwidth/2),ee=0;ee<$.length;ee++){var Oe=o[ee].xbnd,Ce=$[ee];if(Oe[0]!==null&&Ce.left-e.l2p(Oe[0])<_e||Oe[1]!==null&&e.l2p(Oe[1])-Ce.right<_e){p=fe;break}}}else{var je=e.ticklabelposition||"",qe=function(Ke){return je.indexOf(Ke)!==-1},Ve=qe("top"),ot=qe("left"),$e=qe("right"),Xe=qe("bottom"),Je=Xe||ot||Ve||$e,nt=Je?(e.tickwidth||0)+2*$M:0;for(ee=0;ee<$.length-1;ee++)if(tr.bBoxIntersect($[ee],$[ee+1],nt)){p=fe;break}}p&&f(u,p)}}e._selections&&(e._selections[a]=u);var v=[h];e.automargin&&n._redrawFromAutoMarginCount&&c===90?(p=c,v.push(function(){f(u,c)})):v.push(m),e._tickAngles&&v.push(function(){e._tickAngles[a]=p===null?Li(l)?l:0:p});var y=function(){var B=0,$=0;return u.each(function(ee,te){var he=dH(this),we=he.select(".text-math-group");if(we.empty()){var Te;e._vals[te]&&(Te=e._vals[te].bb||$s.bBox(he.node()),e._vals[te].bb=Te),B=Math.max(B,Te.width),$=Math.max($,Te.height)}}),{labelsMaxW:B,labelsMaxH:$}},b=e._anchorAxis;if(b&&(b.autorange||b.insiderange)&&jS(e)&&!_Be(n,e._id)&&(n._insideTickLabelsUpdaterange||(n._insideTickLabelsUpdaterange={}),b.autorange&&(n._insideTickLabelsUpdaterange[b._name+".autorange"]=b.autorange,v.push(y)),b.insiderange)){var x=y(),w=e._id.charAt(0)==="y"?x.labelsMaxW:x.labelsMaxH;w+=2*$M,e.ticklabelposition==="inside"&&(w+=e.ticklen||0);var S=e.side==="right"||e.side==="top"?1:-1,_=S===1?1:0,C=S===1?0:1,E=[];E[C]=b.range[C];var M=b.range,I=b.r2p(M[_]),L=b.r2p(M[C]),O=n._insideTickLabelsUpdaterange[b._name+".range"];if(O){var H=b.r2p(O[_]),Y=b.r2p(O[C]),K=S*(e._id.charAt(0)==="y"?1:-1);K*I<K*H&&(I=H,E[_]=M[_]=O[_]),K*L>K*Y&&(L=Y,E[C]=M[C]=O[C])}var N=Math.abs(L-I);N-w>0?(N-=w,w*=1+w/N):w=0,e._id.charAt(0)!=="y"&&(w=-w),E[_]=b.p2r(b.r2p(M[_])+S*w),b.autorange==="min"||b.autorange==="max reversed"?(E[0]=null,b._rangeInitial0=void 0,b._rangeInitial1=void 0):(b.autorange==="max"||b.autorange==="min reversed")&&(E[1]=null,b._rangeInitial0=void 0,b._rangeInitial1=void 0),n._insideTickLabelsUpdaterange[b._name+".range"]=E}var U=tr.syncOrAsync(v);return U&&U.then&&t._promises.push(U),U};function YBe(t,e,r){var n=e._id+"divider",i=r.vals,a=r.layer.selectAll("path."+n).data(i,JM);a.exit().remove(),a.enter().insert("path",":first-child").classed(n,1).classed("crisp",1).call(HS.stroke,e.dividercolor).style("stroke-width",$s.crispRound(t,e.dividerwidth,1)+"px"),a.attr("transform",r.transFn).attr("d",r.path)}ft.getPxPosition=function(t,e){var r=t._fullLayout._size,n=e._id.charAt(0),i=e.side,a;if(e.anchor!=="free"?a=e._anchorAxis:n==="x"?a={_offset:r.t+(1-(e.position||0))*r.h,_length:0}:n==="y"&&(a={_offset:r.l+(e.position||0)*r.w+e._shift,_length:0}),i==="top"||i==="left")return a._offset;if(i==="bottom"||i==="right")return a._offset+a._length};function Kce(t){var e=t.title.font.size,r=(t.title.text.match(Rv.BR_TAG_ALL)||[]).length;return t.title.hasOwnProperty("standoff")?e*(Nv+r*US):r?e*(r+1)*US:e}function ZBe(t,e){var r=t._fullLayout,n=e._id,i=n.charAt(0),a=e.title.font.size,o,s=(e.title.text.match(Rv.BR_TAG_ALL)||[]).length;if(e.title.hasOwnProperty("standoff"))e.side==="bottom"||e.side==="right"?o=e._depth+e.title.standoff+a*Nv:(e.side==="top"||e.side==="left")&&(o=e._depth+e.title.standoff+a*(zS+s*US));else{var l=jS(e);if(e.type==="multicategory")o=e._depth;else{var c=1.5*a;l&&(c=.5*a,e.ticks==="outside"&&(c+=e.ticklen)),o=10+c+(e.linewidth?e.linewidth-1:0)}l||(i==="x"?o+=e.side==="top"?a*(e.showticklabels?1:0):a*(e.showticklabels?1.5:.5):o+=e.side==="right"?a*(e.showticklabels?1:.5):a*(e.showticklabels?.5:0))}var u=ft.getPxPosition(t,e),d,f,h;i==="x"?(f=e._offset+e._length/2,h=e.side==="top"?u-o:u+o):(h=e._offset+e._length/2,f=e.side==="right"?u+o:u-o,d={rotate:"-90",offset:0});var p;if(e.type!=="multicategory"){var m=e._selections[e._id+"tick"];if(p={selection:m,side:e.side},m&&m.node()&&m.node().parentNode){var v=$s.getTranslate(m.node().parentNode);p.offsetLeft=v.x,p.offsetTop=v.y}e.title.hasOwnProperty("standoff")&&(p.pad=0)}return e._titleStandoff=o,pBe.draw(t,n+"title",{propContainer:e,propName:e._name+".title.text",placeholder:r._dfltTitle[i],avoid:p,transform:d,attributes:{x:f,y:h,"text-anchor":"middle"}})}ft.shouldShowZeroLine=function(t,e,r){var n=tr.simpleMap(e.range,e.r2l);return n[0]*n[1]<=0&&e.zeroline&&(e.type==="linear"||e.type==="-")&&!(e.rangebreaks&&e.maskBreaks(0)===KM)&&(aue(e,0)||!$Be(t,e,r,n)||XBe(t,e))};ft.clipEnds=function(t,e){return e.filter(function(r){return aue(t,r.x)})};function aue(t,e){var r=t.l2p(e);return r>1&&r<t._length-1}function $Be(t,e,r,n){var i=r._mainAxis;if(!i)return;var a=t._fullLayout,o=e._id.charAt(0),s=ft.counterLetter(e._id),l=e._offset+(Math.abs(n[0])<Math.abs(n[1])==(o==="x")?0:e._length);function c(p){if(!p.showline||!p.linewidth)return!1;var m=Math.max((p.linewidth+e.zerolinewidth)/2,1);function v(x){return typeof x=="number"&&Math.abs(x-l)<m}if(v(p._mainLinePosition)||v(p._mainMirrorPosition))return!0;var y=p._linepositions||{};for(var b in y)if(v(y[b][0])||v(y[b][1]))return!0}var u=a._plots[r._mainSubplot];if(!(u.mainplotinfo||u).overlays.length)return c(r,l);for(var d=ft.list(t,s),f=0;f<d.length;f++){var h=d[f];if(h._mainAxis===i&&c(h,l))return!0}}function XBe(t,e){for(var r=t._fullData,n=e._mainSubplot,i=e._id.charAt(0),a=0;a<r.length;a++){var o=r[a];if(o.visible===!0&&o.xaxis+o.yaxis===n&&(FS.traceIs(o,"bar-like")&&o.orientation==={x:"h",y:"v"}[i]||o.fill&&o.fill.charAt(o.fill.length-1)===i))return!0}return!1}function dH(t){var e=Wl.select(t),r=e.select(".text-math-group");return r.empty()?e.select("text"):r}ft.allowAutoMargin=function(t){for(var e=ft.list(t,"",!0),r=0;r<e.length;r++){var n=e[r];n.automargin&&(hb.allowAutoMargin(t,mH(n)),n.mirror&&hb.allowAutoMargin(t,oue(n))),FS.getComponentMethod("rangeslider","isVisible")(n)&&hb.allowAutoMargin(t,sue(n))}};function mH(t){return t._id+".automargin"}function oue(t){return mH(t)+".mirror"}function sue(t){return t._id+".rangeslider"}ft.swap=function(t,e){for(var r=KBe(t,e),n=0;n<r.length;n++)QBe(t,r[n].x,r[n].y)};function KBe(t,e){var r=[],n,i;for(n=0;n<e.length;n++){var a=[],o=t._fullData[e[n]].xaxis,s=t._fullData[e[n]].yaxis;if(!(!o||!s)){for(i=0;i<r.length;i++)(r[i].x.indexOf(o)!==-1||r[i].y.indexOf(s)!==-1)&&a.push(i);if(!a.length){r.push({x:[o],y:[s]});continue}var l=r[a[0]],c;if(a.length>1)for(i=1;i<a.length;i++)c=r[a[i]],jM(l.x,c.x),jM(l.y,c.y);jM(l.x,[o]),jM(l.y,[s])}}return r}function jM(t,e){for(var r=0;r<e.length;r++)t.indexOf(e[r])===-1&&t.push(e[r])}function QBe(t,e,r){var n=[],i=[],a=t.layout,o,s;for(o=0;o<e.length;o++)n.push(ft.getFromId(t,e[o]));for(o=0;o<r.length;o++)i.push(ft.getFromId(t,r[o]));var l=Object.keys(mBe),c=["anchor","domain","overlaying","position","side","tickangle","editType"],u=["linear","log"];for(o=0;o<l.length;o++){var d=l[o],f=n[0][d],h=i[0][d],p=!0,m=!1,v=!1;if(!(d.charAt(0)==="_"||typeof f=="function"||c.indexOf(d)!==-1)){for(s=1;s<n.length&&p;s++){var y=n[s][d];d==="type"&&u.indexOf(f)!==-1&&u.indexOf(y)!==-1&&f!==y?m=!0:y!==f&&(p=!1)}for(s=1;s<i.length&&p;s++){var b=i[s][d];d==="type"&&u.indexOf(h)!==-1&&u.indexOf(b)!==-1&&h!==b?v=!0:i[s][d]!==h&&(p=!1)}p&&(m&&(a[n[0]._name].type="linear"),v&&(a[i[0]._name].type="linear"),JBe(a,d,n,i,t._fullLayout._dfltTitle))}}for(o=0;o<t._fullLayout.annotations.length;o++){var x=t._fullLayout.annotations[o];e.indexOf(x.xref)!==-1&&r.indexOf(x.yref)!==-1&&tr.swapAttrs(a.annotations[o],["?"])}}function JBe(t,e,r,n,i){var a=tr.nestedProperty,o=a(t[r[0]._name],e).get(),s=a(t[n[0]._name],e).get(),l;for(e==="title"&&(o&&o.text===i.x&&(o.text=i.y),s&&s.text===i.y&&(s.text=i.x)),l=0;l<r.length;l++)a(t,r[l]._name+"."+e).set(s);for(l=0;l<n.length;l++)a(t,n[l]._name+"."+e).set(o)}function vH(t){return t._id==="angularaxis"}function aH(t,e){for(var r=e._rangebreaks.length,n=0;n<r;n++){var i=e._rangebreaks[n];if(t>=i.min&&t<i.max)return i.max}return t}function jS(t){return(t.ticklabelposition||"").indexOf("inside")!==-1}function e3(t,e){jS(t._anchorAxis||{})&&t._hideCounterAxisInsideTickLabels&&t._hideCounterAxisInsideTickLabels(e)}function fH(t,e,r,n){var i=t.anchor!=="free"&&(t.overlaying===void 0||t.overlaying===!1)?t._id:t.overlaying,a;n?a=t.side==="right"?e:-e:a=e,i in r||(r[i]={}),t.side in r[i]||(r[i][t.side]=0),r[i][t.side]+=a}function eje(t,e){return t.autoshift?e[t.overlaying][t.side]:t.shift||0}function tje(t,e){return/%f/.test(e)?t>=wBe:/%L/.test(e)?t>=bBe:/%[SX]/.test(e)?t>=ZM:/%M/.test(e)?t>=qS:/%[HI]/.test(e)?t>=Vu:/%p/.test(e)?t>=mp:/%[Aadejuwx]/.test(e)?t>=Eo:/%[UVW]/.test(e)?t>=Xs:/%[Bbm]/.test(e)?t>=YM:/%[q]/.test(e)?t>=GM:/%[Yy]/.test(e)?t>=WM:!0}});var uue=J((nbt,cue)=>{"use strict";cue.exports=function(e,r,n){var i,a;if(n){var o=r==="reversed"||r==="min reversed"||r==="max reversed";i=n[o?1:0],a=n[o?0:1]}var s=e("autorangeoptions.minallowed",a===null?i:void 0),l=e("autorangeoptions.maxallowed",i===null?a:void 0);s===void 0&&e("autorangeoptions.clipmin"),l===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}});var gH=J((ibt,due)=>{"use strict";var rje=uue();due.exports=function(e,r,n,i){var a=r._template||{},o=r.type||a.type||"-";n("minallowed"),n("maxallowed");var s=n("range");if(!s){var l;!i.noInsiderange&&o!=="log"&&(l=n("insiderange"),l&&(l[0]===null||l[1]===null)&&(r.insiderange=!1,l=void 0),l&&(s=n("range",l)))}var c=r.getAutorangeDflt(s,i),u=n("autorange",c),d;s&&(s[0]===null&&s[1]===null||(s[0]===null||s[1]===null)&&(u==="reversed"||u===!0)||s[0]!==null&&(u==="min"||u==="max reversed")||s[1]!==null&&(u==="max"||u==="min reversed"))&&(s=void 0,delete r.range,r.autorange=!0,d=!0),d||(c=r.getAutorangeDflt(s,i),u=n("autorange",c)),u&&(rje(n,u,s),(o==="linear"||o==="-")&&n("rangemode")),r.cleanRange()}});var hue=J((abt,fue)=>{var nje={left:0,top:0};fue.exports=ije;function ije(t,e,r){e=e||t.currentTarget||t.srcElement,Array.isArray(r)||(r=[0,0]);var n=t.clientX||0,i=t.clientY||0,a=aje(e);return r[0]=n-a.left,r[1]=i-a.top,r}function aje(t){return t===window||t===document||t===document.body?nje:t.getBoundingClientRect()}});var yH=J((obt,pue)=>{"use strict";var oje=Y8();function sje(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(r){t=!1}return t}pue.exports=oje&&sje()});var vue=J((sbt,mue)=>{"use strict";mue.exports=function(e,r,n,i,a){var o=(e-n)/(i-n),s=o+r/(i-n),l=(o+s)/2;return a==="left"||a==="bottom"?o:a==="center"||a==="middle"?l:a==="right"||a==="top"?s:o<2/3-l?o:s>4/3-l?s:l}});var bue=J((lbt,yue)=>{"use strict";var gue=Qe(),lje=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];yue.exports=function(e,r,n,i){return n==="left"?e=0:n==="center"?e=1:n==="right"?e=2:e=gue.constrain(Math.floor(e*3),0,2),i==="bottom"?r=0:i==="middle"?r=1:i==="top"?r=2:r=gue.constrain(Math.floor(r*3),0,2),lje[r][e]}});var xue=J((cbt,wue)=>{"use strict";var cje=tb(),uje=aM(),dje=vS().getGraphDiv,fje=pS(),bH=wue.exports={};bH.wrapped=function(t,e,r){t=dje(t),t._fullLayout&&uje.clear(t._fullLayout._uid+fje.HOVERID),bH.raw(t,e,r)};bH.raw=function(e,r){var n=e._fullLayout,i=e._hoverdata;r||(r={}),!(r.target&&!e._dragged&&cje.triggerHandler(e,"plotly_beforehover",r)===!1)&&(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),e._hoverdata=void 0,r.target&&i&&e.emit("plotly_unhover",{event:r,points:i}))}});var Bc=J((ubt,Cue)=>{"use strict";var hje=hue(),wH=$8(),pje=yH(),mje=Qe().removeElement,vje=Ha(),Lv=Cue.exports={};Lv.align=vue();Lv.getCursor=bue();var Sue=xue();Lv.unhover=Sue.wrapped;Lv.unhoverRaw=Sue.raw;Lv.init=function(e){var r=e.gd,n=1,i=r._context.doubleClickDelay,a=e.element,o,s,l,c,u,d,f,h;r._mouseDownTime||(r._mouseDownTime=0),a.style.pointerEvents="all",a.onmousedown=v,pje?(a._ontouchstart&&a.removeEventListener("touchstart",a._ontouchstart),a._ontouchstart=v,a.addEventListener("touchstart",v,{passive:!1})):a.ontouchstart=v;function p(x,w,S){return Math.abs(x)<S&&(x=0),Math.abs(w)<S&&(w=0),[x,w]}var m=e.clampFn||p;function v(x){r._dragged=!1,r._dragging=!0;var w=Tue(x);o=w[0],s=w[1],f=x.target,d=x,h=x.buttons===2||x.ctrlKey,typeof x.clientX=="undefined"&&typeof x.clientY=="undefined"&&(x.clientX=o,x.clientY=s),l=new Date().getTime(),l-r._mouseDownTime<i?n+=1:(n=1,r._mouseDownTime=l),e.prepFn&&e.prepFn(x,o,s),wH&&!h?(u=_ue(),u.style.cursor=window.getComputedStyle(a).cursor):wH||(u=document,c=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(a).cursor),document.addEventListener("mouseup",b),document.addEventListener("touchend",b),e.dragmode!==!1&&(x.preventDefault(),document.addEventListener("mousemove",y),document.addEventListener("touchmove",y,{passive:!1}))}function y(x){x.preventDefault();var w=Tue(x),S=e.minDrag||vje.MINDRAG,_=m(w[0]-o,w[1]-s,S),C=_[0],E=_[1];(C||E)&&(r._dragged=!0,Lv.unhover(r,x)),r._dragged&&e.moveFn&&!h&&(r._dragdata={element:a,dx:C,dy:E},e.moveFn(C,E))}function b(x){if(delete r._dragdata,e.dragmode!==!1&&(x.preventDefault(),document.removeEventListener("mousemove",y),document.removeEventListener("touchmove",y)),document.removeEventListener("mouseup",b),document.removeEventListener("touchend",b),wH?mje(u):c&&(u.documentElement.style.cursor=c,c=null),!r._dragging){r._dragged=!1;return}if(r._dragging=!1,new Date().getTime()-r._mouseDownTime>i&&(n=Math.max(n-1,1)),r._dragged)e.doneFn&&e.doneFn();else{var w;d.target===f?w=d:(w={target:f,srcElement:f,toElement:f},Object.keys(d).concat(Object.keys(d.__proto__)).forEach(S=>{var _=d[S];!w[S]&&typeof _!="function"&&(w[S]=_)})),e.clickFn&&e.clickFn(n,w),h||f.dispatchEvent(new MouseEvent("click",x))}r._dragging=!1,r._dragged=!1}};function _ue(){var t=document.createElement("div");t.className="dragcover";var e=t.style;return e.position="fixed",e.left=0,e.right=0,e.top=0,e.bottom=0,e.zIndex=999999999,e.background="none",document.body.appendChild(t),t}Lv.coverSlip=_ue;function Tue(t){return hje(t.changedTouches?t.changedTouches[0]:t,document.body)}});var bf=J((dbt,kue)=>{"use strict";kue.exports=function(e,r){(e.attr("class")||"").split(" ").forEach(function(n){n.indexOf("cursor-")===0&&e.classed(n,!1)}),r&&e.classed("cursor-"+r,!0)}});var Aue=J((fbt,Due)=>{"use strict";var xH=bf(),VS="data-savedcursor",Eue="!!";Due.exports=function(e,r){var n=e.attr(VS);if(r){if(!n){for(var i=(e.attr("class")||"").split(" "),a=0;a<i.length;a++){var o=i[a];o.indexOf("cursor-")===0&&e.attr(VS,o.substr(7)).classed(o,!1)}e.attr(VS)||e.attr(VS,Eue)}xH(e,r)}else n&&(e.attr(VS,null),n===Eue?xH(e):xH(e,n))}});var SH=J((hbt,Mue)=>{"use strict";var TH=ba(),gje=Pu();Mue.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend",description:["Determines whether or not this legend is visible."].join(" ")},bgcolor:{valType:"color",editType:"legend",description:["Sets the legend background color.","Defaults to `layout.paper_bgcolor`."].join(" ")},bordercolor:{valType:"color",dflt:gje.defaultLine,editType:"legend",description:"Sets the color of the border enclosing the legend."},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend",description:"Sets the width (in px) of the border enclosing the legend."},font:TH({editType:"legend",description:"Sets the font used to text the legend items."}),grouptitlefont:TH({editType:"legend",description:["Sets the font for group titles in legend.","Defaults to `legend.font` with its size increased about 10%."].join(" ")}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend",description:"Sets the orientation of the legend."},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend",description:["Determines the order at which the legend items are displayed.","If *normal*, the items are displayed top-to-bottom in the same","order as the input data.","If *reversed*, the items are displayed in the opposite order","as *normal*.","If *grouped*, the items are displayed in groups","(when a trace `legendgroup` is provided).","if *grouped+reversed*, the items are displayed in the opposite order","as *grouped*."].join(" ")},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend",description:["Sets the amount of vertical space (in px) between legend groups."].join(" ")},entrywidth:{valType:"number",min:0,editType:"legend",description:["Sets the width (in px or fraction) of the legend.","Use 0 to size the entry based on the text width,","when `entrywidthmode` is set to *pixels*."].join(" ")},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend",description:"Determines what entrywidth means."},indentation:{valType:"number",min:-15,dflt:0,editType:"legend",description:"Sets the indentation (in px) of the legend entries."},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend",description:["Determines if the legend items symbols scale with their corresponding *trace* attributes","or remain *constant* independent of the symbol size on the graph."].join(" ")},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend",description:"Sets the width (in px) of the legend item symbols (the part other than the title.text)."},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend",description:["Determines the behavior on legend item click.","*toggle* toggles the visibility of the item clicked on the graph.","*toggleothers* makes the clicked item the sole visible item on the graph.","*false* disables legend item click interactions."].join(" ")},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend",description:["Determines the behavior on legend item double-click.","*toggle* toggles the visibility of the item clicked on the graph.","*toggleothers* makes the clicked item the sole visible item on the graph.","*false* disables legend item double-click interactions."].join(" ")},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend",description:["Determines the behavior on legend group item click.","*toggleitem* toggles the visibility of the individual item clicked on the graph.","*togglegroup* toggles the visibility of all items in the same legendgroup as the item clicked on the graph."].join(" ")},x:{valType:"number",editType:"legend",description:["Sets the x position with respect to `xref` (in normalized coordinates) of the legend.","When `xref` is *paper*, defaults to *1.02* for vertical legends and","defaults to *0* for horizontal legends.","When `xref` is *container*, defaults to *1* for vertical legends and","defaults to *0* for horizontal legends.","Must be between *0* and *1* if `xref` is *container*.","and between *-2* and *3* if `xref` is *paper*."].join(" ")},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `x` refers to.","*container* spans the entire `width` of the plot.","*paper* refers to the width of the plotting area only."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend",description:["Sets the legend's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the legend.","Value *auto* anchors legends to the right for `x` values greater than or equal to 2/3,","anchors legends to the left for `x` values less than or equal to 1/3 and","anchors legends with respect to their center otherwise."].join(" ")},y:{valType:"number",editType:"legend",description:["Sets the y position with respect to `yref` (in normalized coordinates) of the legend.","When `yref` is *paper*, defaults to *1* for vertical legends,","defaults to *-0.1* for horizontal legends on graphs w/o range sliders and","defaults to *1.1* for horizontal legends on graph with one or multiple range sliders.","When `yref` is *container*, defaults to *1*.","Must be between *0* and *1* if `yref` is *container*","and between *-2* and *3* if `yref` is *paper*."].join(" ")},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `y` refers to.","*container* spans the entire `height` of the plot.","*paper* refers to the height of the plotting area only."].join(" ")},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend",description:["Sets the legend's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the legend.","Value *auto* anchors legends at their bottom for `y` values less than or equal to 1/3,","anchors legends to at their top for `y` values greater than or equal to 2/3 and","anchors legends with respect to their middle otherwise."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Controls persistence of legend-driven changes in trace and pie label","visibility. Defaults to `layout.uirevision`."].join(" ")},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend",description:["Sets the vertical alignment of the symbols with respect to their associated text."].join(" ")},title:{text:{valType:"string",dflt:"",editType:"legend",description:["Sets the title of the legend."].join(" ")},font:TH({editType:"legend",description:["Sets this legend's title font.","Defaults to `legend.font` with its size increased about 20%."].join(" ")}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend",description:["Determines the location of legend's title","with respect to the legend items.","Defaulted to *top* with `orientation` is *h*.","Defaulted to *left* with `orientation` is *v*.","The *top left* options could be used to expand","top center and top right are for horizontal alignment","legend area in both x and y sides."].join(" ")},editType:"legend"},editType:"legend"}});var r3=J(t3=>{"use strict";t3.isGrouped=function(e){return(e.traceorder||"").indexOf("grouped")!==-1};t3.isVertical=function(e){return e.orientation!=="h"};t3.isReversed=function(e){return(e.traceorder||"").indexOf("reversed")!==-1}});var kH=J((mbt,Rue)=>{"use strict";var _H=Xt(),Ks=Qe(),yje=On(),bje=Ws(),wje=SH(),xje=Y0(),CH=r3();function Tje(t,e,r,n){var i=e[t]||{},a=yje.newContainer(r,t);function o(U,B){return Ks.coerce(i,a,wje,U,B)}var s=Ks.coerceFont(o,"font",r.font);o("bgcolor",r.paper_bgcolor),o("bordercolor");var l=o("visible");if(l){for(var c,u=function(U,B){var $=c._input,ee=c;return Ks.coerce($,ee,bje,U,B)},d=r.font||{},f=Ks.coerceFont(o,"grouptitlefont",d,{overrideDflt:{size:Math.round(d.size*1.1)}}),h=0,p=!1,m="normal",v=(r.shapes||[]).filter(function(U){return U.showlegend}),y=n.concat(v).filter(function(U){return t===(U.legend||"legend")}),b=0;b<y.length;b++)if(c=y[b],!!c.visible){var x=c._isShape;(c.showlegend||c._dfltShowLegend&&!(c._module&&c._module.attributes&&c._module.attributes.showlegend&&c._module.attributes.showlegend.dflt===!1))&&(h++,c.showlegend&&(p=!0,(!x&&_H.traceIs(c,"pie-like")||c._input.showlegend===!0)&&h++),Ks.coerceFont(u,"legendgrouptitle.font",f)),(!x&&_H.traceIs(c,"bar")&&r.barmode==="stack"||["tonextx","tonexty"].indexOf(c.fill)!==-1)&&(m=CH.isGrouped({traceorder:m})?"grouped+reversed":"reversed"),c.legendgroup!==void 0&&c.legendgroup!==""&&(m=CH.isReversed({traceorder:m})?"reversed+grouped":"grouped")}var w=Ks.coerce(e,r,xje,"showlegend",p&&h>(t==="legend"?1:0));if(w===!1&&(r[t]=void 0),!(w===!1&&!i.uirevision)&&(o("uirevision",r.uirevision),w!==!1)){o("borderwidth");var S=o("orientation"),_=o("yref"),C=o("xref"),E=S==="h",M=_==="paper",I=C==="paper",L,O,H,Y="left";E?(L=0,_H.getComponentMethod("rangeslider","isVisible")(e.xaxis)?M?(O=1.1,H="bottom"):(O=1,H="top"):M?(O=-.1,H="top"):(O=0,H="bottom")):(O=1,H="auto",I?L=1.02:(L=1,Y="right")),Ks.coerce(i,a,{x:{valType:"number",editType:"legend",min:I?-2:0,max:I?3:1,dflt:L}},"x"),Ks.coerce(i,a,{y:{valType:"number",editType:"legend",min:M?-2:0,max:M?3:1,dflt:O}},"y"),o("traceorder",m),CH.isGrouped(r[t])&&o("tracegroupgap"),o("entrywidth"),o("entrywidthmode"),o("indentation"),o("itemsizing"),o("itemwidth"),o("itemclick"),o("itemdoubleclick"),o("groupclick"),o("xanchor",Y),o("yanchor",H),o("valign"),Ks.noneOrAll(i,a,["x","y"]);var K=o("title.text");if(K){o("title.side",E?"left":"top");var N=Ks.extendFlat({},s,{size:Ks.bigFont(s.size)});Ks.coerceFont(o,"title.font",N)}}}}Rue.exports=function(e,r,n){var i,a=n.slice(),o=r.shapes;if(o)for(i=0;i<o.length;i++){var s=o[i];if(s.showlegend){var l={_input:s._input,visible:s.visible,showlegend:s.showlegend,legend:s.legend};a.push(l)}}var c=["legend"];for(i=0;i<a.length;i++)Ks.pushUnique(c,a[i].legend);for(r._legends=[],i=0;i<c.length;i++){var u=c[i];Tje(u,e,r,a),r[u]&&r[u].visible&&(r[u]._id=u),r._legends.push(u)}}});var Nue=J((vbt,Iue)=>{"use strict";var vb=Xt(),DH=Qe(),Sje=DH.pushUnique,EH=!0;Iue.exports=function(e,r,n){var i=r._fullLayout;if(r._dragged||r._editing)return;var a=i.legend.itemclick,o=i.legend.itemdoubleclick,s=i.legend.groupclick;n===1&&a==="toggle"&&o==="toggleothers"&&EH&&r.data&&r._context.showTips&&DH.notifier(DH._(r,"Double-click on legend to isolate one trace"),"long"),EH=!1;var l;if(n===1?l=a:n===2&&(l=o),!l)return;var c=s==="togglegroup",u=i.hiddenlabels?i.hiddenlabels.slice():[],d=e.data()[0][0];if(d.groupTitle&&d.noClick)return;var f=r._fullData,h=(i.shapes||[]).filter(function(Je){return Je.showlegend}),p=f.concat(h),m=d.trace;m._isShape&&(m=m._fullInput);var v=m.legendgroup,y,b,x,w,S,_,C={},E=[],M=[],I=[];function L(Je,nt){var Ke=E.indexOf(Je),Ae=C.visible;return Ae||(Ae=C.visible=[]),E.indexOf(Je)===-1&&(E.push(Je),Ke=E.length-1),Ae[Ke]=nt,Ke}var O=(i.shapes||[]).map(function(Je){return Je._input}),H=!1;function Y(Je,nt){O[Je].visible=nt,H=!0}function K(Je,nt){if(!(d.groupTitle&&!c)){var Ke=Je._fullInput||Je,Ae=Ke._isShape,it=Ke.index;it===void 0&&(it=Ke._index);var at=Ke.visible===!1?!1:nt;Ae?Y(it,at):L(it,at)}}var N=m.legend,U=m._fullInput,B=U&&U._isShape;if(!B&&vb.traceIs(m,"pie-like")){var $=d.label,ee=u.indexOf($);if(l==="toggle")ee===-1?u.push($):u.splice(ee,1);else if(l==="toggleothers"){var te=ee!==-1,he=[];for(y=0;y<r.calcdata.length;y++){var we=r.calcdata[y];for(b=0;b<we.length;b++){var Te=we[b],ce=Te.label;N===we[0].trace.legend&&$!==ce&&(u.indexOf(ce)===-1&&(te=!0),Sje(u,ce),he.push(ce))}}if(!te)for(var q=0;q<he.length;q++){var X=u.indexOf(he[q]);X!==-1&&u.splice(X,1)}}vb.call("_guiRelayout",r,"hiddenlabels",u)}else{var G=v&&v.length,de=[],ue;if(G)for(y=0;y<p.length;y++)ue=p[y],ue.visible&&ue.legendgroup===v&&de.push(y);if(l==="toggle"){var fe;switch(m.visible){case!0:fe="legendonly";break;case!1:fe=!1;break;case"legendonly":fe=!0;break}if(G)if(c)for(y=0;y<p.length;y++){var _e=p[y];_e.visible!==!1&&_e.legendgroup===v&&K(_e,fe)}else K(m,fe);else K(m,fe)}else if(l==="toggleothers"){var Oe,Ce,je,qe,Ve,ot=!0;for(y=0;y<p.length;y++)if(Ve=p[y],Oe=Ve===m,je=Ve.showlegend!==!0,!(Oe||je)&&(Ce=G&&Ve.legendgroup===v,!Ce&&Ve.legend===N&&Ve.visible===!0&&!vb.traceIs(Ve,"notLegendIsolatable"))){ot=!1;break}for(y=0;y<p.length;y++)if(Ve=p[y],!(Ve.visible===!1||Ve.legend!==N)&&!vb.traceIs(Ve,"notLegendIsolatable"))switch(m.visible){case"legendonly":K(Ve,!0);break;case!0:qe=ot?!0:"legendonly",Oe=Ve===m,je=Ve.showlegend!==!0&&!Ve.legendgroup,Ce=Oe||G&&Ve.legendgroup===v,K(Ve,Ce||je?!0:qe);break}}for(y=0;y<M.length;y++)if(x=M[y],!!x){var $e=x.constructUpdate(),Xe=Object.keys($e);for(b=0;b<Xe.length;b++)w=Xe[b],_=C[w]=C[w]||[],_[I[y]]=$e[w]}for(S=Object.keys(C),y=0;y<S.length;y++)for(w=S[y],b=0;b<E.length;b++)C[w].hasOwnProperty(b)||(C[w][b]=void 0);H?vb.call("_guiUpdate",r,C,{shapes:O},E):vb.call("_guiRestyle",r,C,E)}}});var AH=J((gbt,Lue)=>{"use strict";Lue.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}});var zue=J((ybt,Pue)=>{"use strict";var Oue=Xt(),MH=r3();Pue.exports=function(e,r,n){var i=r._inHover,a=MH.isGrouped(r),o=MH.isReversed(r),s={},l=[],c=!1,u={},d=0,f=0,h,p;function m(U,B,$){if(r.visible!==!1&&!(n&&U!==r._id))if(B===""||!MH.isGrouped(r)){var ee="~~i"+d;l.push(ee),s[ee]=[$],d++}else l.indexOf(B)===-1?(l.push(B),c=!0,s[B]=[$]):s[B].push($)}for(h=0;h<e.length;h++){var v=e[h],y=v[0],b=y.trace,x=b.legend,w=b.legendgroup;if(!(!i&&(!b.visible||!b.showlegend)))if(Oue.traceIs(b,"pie-like"))for(u[w]||(u[w]={}),p=0;p<v.length;p++){var S=v[p].label;u[w][S]||(m(x,w,{label:S,color:v[p].color,i:v[p].i,trace:b,pts:v[p].pts}),u[w][S]=!0,f=Math.max(f,(S||"").length))}else m(x,w,y),f=Math.max(f,(b.name||"").length)}if(!l.length)return[];var _=!c||!a,C=[];for(h=0;h<l.length;h++){var E=s[l[h]];_?C.push(E[0]):C.push(E)}for(_&&(C=[C]),h=0;h<C.length;h++){var M=1/0;for(p=0;p<C[h].length;p++){var I=C[h][p].trace.legendrank;M>I&&(M=I)}C[h][0]._groupMinRank=M,C[h][0]._preGroupSort=h}var L=function(U,B){return U[0]._groupMinRank-B[0]._groupMinRank||U[0]._preGroupSort-B[0]._preGroupSort},O=function(U,B){return U.trace.legendrank-B.trace.legendrank||U._preSort-B._preSort};for(C.forEach(function(U,B){U[0]._preGroupSort=B}),C.sort(L),h=0;h<C.length;h++){C[h].forEach(function(U,B){U._preSort=B}),C[h].sort(O);var H=C[h][0].trace,Y=null;for(p=0;p<C[h].length;p++){var K=C[h][p].trace.legendgrouptitle;if(K&&K.text){Y=K,i&&(K.font=r._groupTitleFont);break}}if(o&&C[h].reverse(),Y){var N=!1;for(p=0;p<C[h].length;p++)if(Oue.traceIs(C[h][p].trace,"pie-like")){N=!0;break}C[h].unshift({i:-1,groupTitle:Y,noClick:N,trace:{showlegend:H.showlegend,legendgroup:H.legendgroup,visible:r.groupclick==="toggleitem"?!0:H.visible}})}for(p=0;p<C[h].length;p++)C[h][p]=[C[h][p]]}return r._lgroupsLength=C.length,r._maxNameLength=f,C}});var Pv=J(Ov=>{"use strict";var n3=Qe();function Fue(t){return t.indexOf("e")!==-1?t.replace(/[.]?0+e/,"e"):t.indexOf(".")!==-1?t.replace(/[.]?0+$/,""):t}Ov.formatPiePercent=function(e,r){var n=Fue((e*100).toPrecision(3));return n3.numSeparate(n,r)+"%"};Ov.formatPieValue=function(e,r){var n=Fue(e.toPrecision(10));return n3.numSeparate(n,r)};Ov.getFirstFilled=function(e,r){if(n3.isArrayOrTypedArray(e))for(var n=0;n<r.length;n++){var i=e[r[n]];if(i||i===0||i==="")return i}};Ov.castOption=function(e,r){if(n3.isArrayOrTypedArray(e))return Ov.getFirstFilled(e,r);if(e)return e};Ov.getRotationAngle=function(t){return(t==="auto"?0:t)*Math.PI/180}});var que=J((wbt,Hue)=>{"use strict";var _je=Kr(),Cje=gr();Hue.exports=function(e,r,n,i){var a=n.marker.pattern;a&&a.shape?_je.pointStyle(e,n,i,r):Cje.fill(e,r.color)}});var i3=J((xbt,jue)=>{"use strict";var Uue=gr(),Bue=Pv().castOption,kje=que();jue.exports=function(e,r,n,i){var a=n.marker.line,o=Bue(a.color,r.pts)||Uue.defaultLine,s=Bue(a.width,r.pts)||0;e.call(kje,r,n,i).style("stroke-width",s).call(Uue.stroke,o)}});var LH=J((Tbt,$ue)=>{"use strict";var Do=Sr(),RH=Xt(),so=Qe(),Vue=so.strTranslate,Vo=Kr(),Gl=gr(),IH=Vl().extractOpts,a3=Zs(),Eje=i3(),Dje=Pv().castOption,Aje=AH(),Wue=12,Gue=5,zv=2,Mje=10,gb=5;$ue.exports=function(e,r,n){var i=r._fullLayout;n||(n=i.legend);var a=n.itemsizing==="constant",o=n.itemwidth,s=(o+Aje.itemGap*2)/2,l=Vue(s,0),c=function(C,E,M,I){var L;if(C+1)L=C;else if(E&&E.width>0)L=E.width;else return 0;return a?I:Math.min(L,M)};e.each(function(C){var E=Do.select(this),M=so.ensureSingle(E,"g","layers");M.style("opacity",C[0].trace.opacity);var I=n.indentation,L=n.valign,O=C[0].lineHeight,H=C[0].height;if(L==="middle"&&I===0||!O||!H)M.attr("transform",null);else{var Y={top:1,bottom:-1}[L],K=Y*(.5*(O-H+3))||0,N=n.indentation;M.attr("transform",Vue(N,K))}var U=M.selectAll("g.legendfill").data([C]);U.enter().append("g").classed("legendfill",!0);var B=M.selectAll("g.legendlines").data([C]);B.enter().append("g").classed("legendlines",!0);var $=M.selectAll("g.legendsymbols").data([C]);$.enter().append("g").classed("legendsymbols",!0),$.selectAll("g.legendpoints").data([C]).enter().append("g").classed("legendpoints",!0)}).each(_).each(f).each(p).each(h).each(v).each(w).each(x).each(u).each(d).each(y).each(b);function u(C){var E=Yue(C),M=E.showFill,I=E.showLine,L=E.showGradientLine,O=E.showGradientFill,H=E.anyFill,Y=E.anyLine,K=C[0],N=K.trace,U,B,$=IH(N),ee=$.colorscale,te=$.reversescale,he=function(de){if(de.size())if(M)Vo.fillGroupStyle(de,r,!0);else{var ue="legendfill-"+N.uid;Vo.gradient(de,r,ue,NH(te),ee,"fill")}},we=function(de){if(de.size()){var ue="legendline-"+N.uid;Vo.lineGroupStyle(de),Vo.gradient(de,r,ue,NH(te),ee,"stroke")}},Te=a3.hasMarkers(N)||!H?"M5,0":Y?"M5,-2":"M5,-3",ce=Do.select(this),q=ce.select(".legendfill").selectAll("path").data(M||O?[C]:[]);if(q.enter().append("path").classed("js-fill",!0),q.exit().remove(),q.attr("d",Te+"h"+o+"v6h-"+o+"z").call(he),I||L){var X=c(void 0,N.line,Mje,Gue);B=so.minExtend(N,{line:{width:X}}),U=[so.minExtend(K,{trace:B})]}var G=ce.select(".legendlines").selectAll("path").data(I||L?[U]:[]);G.enter().append("path").classed("js-line",!0),G.exit().remove(),G.attr("d",Te+(L?"l"+o+",0.0001":"h"+o)).call(I?Vo.lineGroupStyle:we)}function d(C){var E=Yue(C),M=E.anyFill,I=E.anyLine,L=E.showLine,O=E.showMarker,H=C[0],Y=H.trace,K=!O&&!I&&!M&&a3.hasText(Y),N,U;function B(q,X,G,de){var ue=so.nestedProperty(Y,q).get(),fe=so.isArrayOrTypedArray(ue)&&X?X(ue):ue;if(a&&fe&&de!==void 0&&(fe=de),G){if(fe<G[0])return G[0];if(fe>G[1])return G[1]}return fe}function $(q){return H._distinct&&H.index&&q[H.index]?q[H.index]:q[0]}if(O||K||L){var ee={},te={};if(O){ee.mc=B("marker.color",$),ee.mx=B("marker.symbol",$),ee.mo=B("marker.opacity",so.mean,[.2,1]),ee.mlc=B("marker.line.color",$),ee.mlw=B("marker.line.width",so.mean,[0,5],zv),te.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var he=B("marker.size",so.mean,[2,16],Wue);ee.ms=he,te.marker.size=he}L&&(te.line={width:B("line.width",$,[0,10],Gue)}),K&&(ee.tx="Aa",ee.tp=B("textposition",$),ee.ts=10,ee.tc=B("textfont.color",$),ee.tf=B("textfont.family",$),ee.tw=B("textfont.weight",$),ee.ty=B("textfont.style",$),ee.tv=B("textfont.variant",$),ee.tC=B("textfont.textcase",$),ee.tE=B("textfont.lineposition",$),ee.tS=B("textfont.shadow",$)),N=[so.minExtend(H,ee)],U=so.minExtend(Y,te),U.selectedpoints=null,U.texttemplate=null}var we=Do.select(this).select("g.legendpoints"),Te=we.selectAll("path.scatterpts").data(O?N:[]);Te.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",l),Te.exit().remove(),Te.call(Vo.pointStyle,U,r),O&&(N[0].mrc=3);var ce=we.selectAll("g.pointtext").data(K?N:[]);ce.enter().append("g").classed("pointtext",!0).append("text").attr("transform",l),ce.exit().remove(),ce.selectAll("text").call(Vo.textPointStyle,U,r)}function f(C){var E=C[0].trace,M=E.type==="waterfall";if(C[0]._distinct&&M){var I=C[0].trace[C[0].dir].marker;return C[0].mc=I.color,C[0].mlw=I.line.width,C[0].mlc=I.line.color,m(C,this,"waterfall")}var L=[];E.visible&&M&&(L=C[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var O=Do.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(L);O.enter().append("path").classed("legendwaterfall",!0).attr("transform",l).style("stroke-miterlimit",1),O.exit().remove(),O.each(function(H){var Y=Do.select(this),K=E[H[0]].marker,N=c(void 0,K.line,gb,zv);Y.attr("d",H[1]).style("stroke-width",N+"px").call(Gl.fill,K.color),N&&Y.call(Gl.stroke,K.line.color)})}function h(C){m(C,this)}function p(C){m(C,this,"funnel")}function m(C,E,M){var I=C[0].trace,L=I.marker||{},O=L.line||{},H=L.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",Y=M?I.visible&&I.type===M:RH.traceIs(I,"bar"),K=Do.select(E).select("g.legendpoints").selectAll("path.legend"+M).data(Y?[C]:[]);K.enter().append("path").classed("legend"+M,!0).attr("d",H).attr("transform",l),K.exit().remove(),K.each(function(N){var U=Do.select(this),B=N[0],$=c(B.mlw,L.line,gb,zv);U.style("stroke-width",$+"px");var ee=B.mcc;if(!n._inHover&&"mc"in B){var te=IH(L),he=te.mid;he===void 0&&(he=(te.max+te.min)/2),ee=Vo.tryColorscale(L,"")(he)}var we=ee||B.mc||L.color,Te=L.pattern,ce=Te&&Vo.getPatternAttr(Te.shape,0,"");if(ce){var q=Vo.getPatternAttr(Te.bgcolor,0,null),X=Vo.getPatternAttr(Te.fgcolor,0,null),G=Te.fgopacity,de=Zue(Te.size,8,10),ue=Zue(Te.solidity,.5,1),fe="legend-"+I.uid;U.call(Vo.pattern,"legend",r,fe,ce,de,ue,ee,Te.fillmode,q,X,G)}else U.call(Gl.fill,we);$&&Gl.stroke(U,B.mlc||O.color)})}function v(C){var E=C[0].trace,M=Do.select(this).select("g.legendpoints").selectAll("path.legendbox").data(E.visible&&RH.traceIs(E,"box-violin")?[C]:[]);M.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",l),M.exit().remove(),M.each(function(){var I=Do.select(this);if((E.boxpoints==="all"||E.points==="all")&&Gl.opacity(E.fillcolor)===0&&Gl.opacity((E.line||{}).color)===0){var L=so.minExtend(E,{marker:{size:a?Wue:so.constrain(E.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});M.call(Vo.pointStyle,L,r)}else{var O=c(void 0,E.line,gb,zv);I.style("stroke-width",O+"px").call(Gl.fill,E.fillcolor),O&&Gl.stroke(I,E.line.color)}})}function y(C){var E=C[0].trace,M=Do.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(E.visible&&E.type==="candlestick"?[C,C]:[]);M.enter().append("path").classed("legendcandle",!0).attr("d",function(I,L){return L?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",l).style("stroke-miterlimit",1),M.exit().remove(),M.each(function(I,L){var O=Do.select(this),H=E[L?"increasing":"decreasing"],Y=c(void 0,H.line,gb,zv);O.style("stroke-width",Y+"px").call(Gl.fill,H.fillcolor),Y&&Gl.stroke(O,H.line.color)})}function b(C){var E=C[0].trace,M=Do.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(E.visible&&E.type==="ohlc"?[C,C]:[]);M.enter().append("path").classed("legendohlc",!0).attr("d",function(I,L){return L?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",l).style("stroke-miterlimit",1),M.exit().remove(),M.each(function(I,L){var O=Do.select(this),H=E[L?"increasing":"decreasing"],Y=c(void 0,H.line,gb,zv);O.style("fill","none").call(Vo.dashLine,H.line.dash,Y),Y&&Gl.stroke(O,H.line.color)})}function x(C){S(C,this,"pie")}function w(C){S(C,this,"funnelarea")}function S(C,E,M){var I=C[0],L=I.trace,O=M?L.visible&&L.type===M:RH.traceIs(L,M),H=Do.select(E).select("g.legendpoints").selectAll("path.legend"+M).data(O?[C]:[]);if(H.enter().append("path").classed("legend"+M,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",l),H.exit().remove(),H.size()){var Y=L.marker||{},K=c(Dje(Y.line.width,I.pts),Y.line,gb,zv),N="pieLike",U=so.minExtend(L,{marker:{line:{width:K}}},N),B=so.minExtend(I,{trace:U},N);Eje(H,B,U,r)}}function _(C){var E=C[0].trace,M,I=[];if(E.visible)switch(E.type){case"histogram2d":case"heatmap":I=[["M-15,-2V4H15V-2Z"]],M=!0;break;case"choropleth":case"choroplethmapbox":case"choroplethmap":I=[["M-6,-6V6H6V-6Z"]],M=!0;break;case"densitymapbox":case"densitymap":I=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],M="radial";break;case"cone":I=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],M=!1;break;case"streamtube":I=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],M=!1;break;case"surface":I=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],M=!0;break;case"mesh3d":I=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],M=!1;break;case"volume":I=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],M=!0;break;case"isosurface":I=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],M=!1;break}var L=Do.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(I);L.enter().append("path").classed("legend3dandfriends",!0).attr("transform",l).style("stroke-miterlimit",1),L.exit().remove(),L.each(function(O,H){var Y=Do.select(this),K=IH(E),N=K.colorscale,U=K.reversescale,B=function(he){if(he.size()){var we="legendfill-"+E.uid;Vo.gradient(he,r,we,NH(U,M==="radial"),N,"fill")}},$;if(N){if(!M){var te=N.length;$=H===0?N[U?te-1:0][1]:H===1?N[U?0:te-1][1]:N[Math.floor((te-1)/2)][1]}}else{var ee=E.vertexcolor||E.facecolor||E.color;$=so.isArrayOrTypedArray(ee)?ee[H]||ee[0]:ee}Y.attr("d",O[0]),$?Y.call(Gl.fill,$):Y.call(B)})}};function NH(t,e){var r=e?"radial":"horizontal";return r+(t?"":"reversed")}function Yue(t){var e=t[0].trace,r=e.contours,n=a3.hasLines(e),i=a3.hasMarkers(e),a=e.visible&&e.fill&&e.fill!=="none",o=!1,s=!1;if(r){var l=r.coloring;l==="lines"?o=!0:n=l==="none"||l==="heatmap"||r.showlines,r.type==="constraint"?a=r._operation!=="=":(l==="fill"||l==="heatmap")&&(s=!0)}return{showMarker:i,showLine:n,showFill:a,showGradientLine:o,showGradientFill:s,anyLine:n||o,anyFill:a||s}}function Zue(t,e,r){return t&&so.isArrayOrTypedArray(t)?e:t>r?r:t}});var FH=J((Sbt,ade)=>{"use strict";var gs=Sr(),Oi=Qe(),PH=ki(),wb=Xt(),Xue=tb(),OH=Bc(),Pi=Kr(),s3=gr(),Fv=wa(),Kue=Nue(),Gi=AH(),zH=ao(),nde=zH.LINE_SPACING,bb=zH.FROM_TL,Que=zH.FROM_BR,Jue=zue(),Rje=LH(),ede=r3(),yb=1,Ije=/^legend[0-9]*$/;ade.exports=function(e,r){if(r)tde(e,r);else{var n=e._fullLayout,i=n._legends,a=n._infolayer.selectAll('[class^="legend"]');a.each(function(){var c=gs.select(this),u=c.attr("class"),d=u.split(" ")[0];d.match(Ije)&&i.indexOf(d)===-1&&c.remove()});for(var o=0;o<i.length;o++){var s=i[o],l=e._fullLayout[s];tde(e,l)}}};function Nje(t,e,r){if(!(e.title.side!=="top center"&&e.title.side!=="top right")){var n=e.title.font,i=n.size*nde,a=0,o=t.node(),s=Pi.bBox(o).width;e.title.side==="top center"?a=.5*(e._width-2*r-2*Gi.titlePad-s):e.title.side==="top right"&&(a=e._width-2*r-2*Gi.titlePad-s),Fv.positionText(t,r+Gi.titlePad+a,r+i)}}function tde(t,e){var r=e||{},n=t._fullLayout,i=d3(r),a,o,s=r._inHover;if(s?(o=r.layer,a="hover"):(o=n._infolayer,a=i),!!o){a+=n._uid,t._legendMouseDownTime||(t._legendMouseDownTime=0);var l;if(s){if(!r.entries)return;l=Jue(r.entries,r)}else{for(var c=(t.calcdata||[]).slice(),u=n.shapes,d=0;d<u.length;d++){var f=u[d];if(f.showlegend){var h={_isShape:!0,_fullInput:f,index:f._index,name:f.name||f.label.text||"shape "+f._index,legend:f.legend,legendgroup:f.legendgroup,legendgrouptitle:f.legendgrouptitle,legendrank:f.legendrank,legendwidth:f.legendwidth,showlegend:f.showlegend,visible:f.visible,opacity:f.opacity,mode:f.type==="line"?"lines":"markers",line:f.line,marker:{line:f.line,color:f.fillcolor,size:12,symbol:f.type==="rect"?"square":f.type==="circle"?"circle":"hexagon2"}};c.push([{trace:h}])}}l=n.showlegend&&Jue(c,r,n._legends.length>1)}var p=n.hiddenlabels||[];if(!s&&(!n.showlegend||!l.length))return o.selectAll("."+i).remove(),n._topdefs.select("#"+a).remove(),PH.autoMargin(t,i);var m=Oi.ensureSingle(o,"g",i,function(E){s||E.attr("pointer-events","all")}),v=Oi.ensureSingleById(n._topdefs,"clipPath",a,function(E){E.append("rect")}),y=Oi.ensureSingle(m,"rect","bg",function(E){E.attr("shape-rendering","crispEdges")});y.call(s3.stroke,r.bordercolor).call(s3.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px");var b=Oi.ensureSingle(m,"g","scrollbox"),x=r.title;r._titleWidth=0,r._titleHeight=0;var w;x.text?(w=Oi.ensureSingle(b,"text",i+"titletext"),w.attr("text-anchor","start").call(Pi.font,x.font).text(x.text),l3(w,b,t,r,yb)):b.selectAll("."+i+"titletext").remove();var S=Oi.ensureSingle(m,"rect","scrollbar",function(E){E.attr(Gi.scrollBarEnterAttrs).call(s3.fill,Gi.scrollBarColor)}),_=b.selectAll("g.groups").data(l);_.enter().append("g").attr("class","groups"),_.exit().remove();var C=_.selectAll("g.traces").data(Oi.identity);C.enter().append("g").attr("class","traces"),C.exit().remove(),C.style("opacity",function(E){var M=E[0].trace;return wb.traceIs(M,"pie-like")?p.indexOf(E[0].label)!==-1?.5:1:M.visible==="legendonly"?.5:1}).each(function(){gs.select(this).call(Lje,t,r)}).call(Rje,t,r).each(function(){s||gs.select(this).call(Oje,t,i)}),Oi.syncOrAsync([PH.previousPromises,function(){return Fje(t,_,C,r)},function(){var E=n._size,M=r.borderwidth,I=r.xref==="paper",L=r.yref==="paper";if(x.text&&Nje(w,r,M),!s){var O,H;I?O=E.l+E.w*r.x-bb[c3(r)]*r._width:O=n.width*r.x-bb[c3(r)]*r._width,L?H=E.t+E.h*(1-r.y)-bb[u3(r)]*r._effHeight:H=n.height*(1-r.y)-bb[u3(r)]*r._effHeight;var Y=Hje(t,i,O,H);if(Y)return;if(n.margin.autoexpand){var K=O,N=H;O=I?Oi.constrain(O,0,n.width-r._width):K,H=L?Oi.constrain(H,0,n.height-r._effHeight):N,O!==K&&Oi.log("Constrain "+i+".x to make legend fit inside graph"),H!==N&&Oi.log("Constrain "+i+".y to make legend fit inside graph")}Pi.setTranslate(m,O,H)}if(S.on(".drag",null),m.on("wheel",null),s||r._height<=r._maxHeight||t._context.staticPlot){var U=r._effHeight;s&&(U=r._height),y.attr({width:r._width-M,height:U-M,x:M/2,y:M/2}),Pi.setTranslate(b,0,0),v.select("rect").attr({width:r._width-2*M,height:U-2*M,x:M,y:M}),Pi.setClipUrl(b,a,t),Pi.setRect(S,0,0,0,0),delete r._scrollY}else{var B=Math.max(Gi.scrollBarMinHeight,r._effHeight*r._effHeight/r._height),$=r._effHeight-B-2*Gi.scrollBarMargin,ee=r._height-r._effHeight,te=$/ee,he=Math.min(r._scrollY||0,ee);y.attr({width:r._width-2*M+Gi.scrollBarWidth+Gi.scrollBarMargin,height:r._effHeight-M,x:M/2,y:M/2}),v.select("rect").attr({width:r._width-2*M+Gi.scrollBarWidth+Gi.scrollBarMargin,height:r._effHeight-2*M,x:M,y:M+he}),Pi.setClipUrl(b,a,t),ue(he,B,te),m.on("wheel",function(){he=Oi.constrain(r._scrollY+gs.event.deltaY/$*ee,0,ee),ue(he,B,te),he!==0&&he!==ee&&gs.event.preventDefault()});var we,Te,ce,q=function(je,qe,Ve){var ot=(Ve-qe)/te+je;return Oi.constrain(ot,0,ee)},X=function(je,qe,Ve){var ot=(qe-Ve)/te+je;return Oi.constrain(ot,0,ee)},G=gs.behavior.drag().on("dragstart",function(){var je=gs.event.sourceEvent;je.type==="touchstart"?we=je.changedTouches[0].clientY:we=je.clientY,ce=he}).on("drag",function(){var je=gs.event.sourceEvent;je.buttons===2||je.ctrlKey||(je.type==="touchmove"?Te=je.changedTouches[0].clientY:Te=je.clientY,he=q(ce,we,Te),ue(he,B,te))});S.call(G);var de=gs.behavior.drag().on("dragstart",function(){var je=gs.event.sourceEvent;je.type==="touchstart"&&(we=je.changedTouches[0].clientY,ce=he)}).on("drag",function(){var je=gs.event.sourceEvent;je.type==="touchmove"&&(Te=je.changedTouches[0].clientY,he=X(ce,we,Te),ue(he,B,te))});b.call(de)}function ue(je,qe,Ve){r._scrollY=t._fullLayout[i]._scrollY=je,Pi.setTranslate(b,0,-je),Pi.setRect(S,r._width,Gi.scrollBarMargin+je*Ve,Gi.scrollBarWidth,qe),v.select("rect").attr("y",M+je)}if(t._context.edits.legendPosition){var fe,_e,Oe,Ce;m.classed("cursor-move",!0),OH.init({element:m.node(),gd:t,prepFn:function(je){if(je.target!==S.node()){var qe=Pi.getTranslate(m);Oe=qe.x,Ce=qe.y}},moveFn:function(je,qe){if(Oe!==void 0&&Ce!==void 0){var Ve=Oe+je,ot=Ce+qe;Pi.setTranslate(m,Ve,ot),fe=OH.align(Ve,r._width,E.l,E.l+E.w,r.xanchor),_e=OH.align(ot+r._height,-r._height,E.t+E.h,E.t,r.yanchor)}},doneFn:function(){if(fe!==void 0&&_e!==void 0){var je={};je[i+".x"]=fe,je[i+".y"]=_e,wb.call("_guiRelayout",t,je)}},clickFn:function(je,qe){var Ve=o.selectAll("g.traces").filter(function(){var ot=this.getBoundingClientRect();return qe.clientX>=ot.left&&qe.clientX<=ot.right&&qe.clientY>=ot.top&&qe.clientY<=ot.bottom});Ve.size()>0&&ide(t,m,Ve,je,qe)}})}}],t)}}function o3(t,e,r){var n=t[0],i=n.width,a=e.entrywidthmode,o=n.trace.legendwidth||e.entrywidth;return a==="fraction"?e._maxWidth*o:r+(o||i)}function ide(t,e,r,n,i){var a=r.data()[0][0].trace,o={event:i,node:r.node(),curveNumber:a.index,expandedIndex:a.index,data:t.data,layout:t.layout,frames:t._transitionData._frames,config:t._context,fullData:t._fullData,fullLayout:t._fullLayout};a._group&&(o.group=a._group),wb.traceIs(a,"pie-like")&&(o.label=r.datum()[0].label);var s=Xue.triggerHandler(t,"plotly_legendclick",o);if(n===1){if(s===!1)return;e._clickTimeout=setTimeout(function(){t._fullLayout&&Kue(r,t,n)},t._context.doubleClickDelay)}else if(n===2){e._clickTimeout&&clearTimeout(e._clickTimeout),t._legendMouseDownTime=0;var l=Xue.triggerHandler(t,"plotly_legenddoubleclick",o);l!==!1&&s!==!1&&Kue(r,t,n)}}function Lje(t,e,r){var n=d3(r),i=t.data()[0][0],a=i.trace,o=wb.traceIs(a,"pie-like"),s=!r._inHover&&e._context.edits.legendText&&!o,l=r._maxNameLength,c,u;i.groupTitle?(c=i.groupTitle.text,u=i.groupTitle.font):(u=r.font,r.entries?c=i.text:(c=o?i.label:a.name,a._meta&&(c=Oi.templateString(c,a._meta))));var d=Oi.ensureSingle(t,"text",n+"text");d.attr("text-anchor","start").call(Pi.font,u).text(s?rde(c,l):c);var f=r.indentation+r.itemwidth+Gi.itemGap*2;Fv.positionText(d,f,0),s?d.call(Fv.makeEditable,{gd:e,text:c}).call(l3,t,e,r).on("edit",function(h){this.text(rde(h,l)).call(l3,t,e,r);var p=i.trace._fullInput||{},m={};return m.name=h,p._isShape?wb.call("_guiRelayout",e,"shapes["+a.index+"].name",m.name):wb.call("_guiRestyle",e,m,a.index)}):l3(d,t,e,r)}function rde(t,e){var r=Math.max(4,e);if(t&&t.trim().length>=r/2)return t;t=t||"";for(var n=r-t.length;n>0;n--)t+=" ";return t}function Oje(t,e,r){var n=e._context.doubleClickDelay,i,a=1,o=Oi.ensureSingle(t,"rect",r+"toggle",function(s){e._context.staticPlot||s.style("cursor","pointer").attr("pointer-events","all"),s.call(s3.fill,"rgba(0,0,0,0)")});e._context.staticPlot||(o.on("mousedown",function(){i=new Date().getTime(),i-e._legendMouseDownTime<n?a+=1:(a=1,e._legendMouseDownTime=i)}),o.on("mouseup",function(){if(!(e._dragged||e._editing)){var s=e._fullLayout[r];new Date().getTime()-e._legendMouseDownTime>n&&(a=Math.max(a-1,1)),ide(e,s,t,a,gs.event)}}))}function l3(t,e,r,n,i){n._inHover&&t.attr("data-notex",!0),Fv.convertToTspans(t,r,function(){Pje(e,r,n,i)})}function Pje(t,e,r,n){var i=t.data()[0][0];if(!r._inHover&&i&&!i.trace.showlegend){t.remove();return}var a=t.select("g[class*=math-group]"),o=a.node(),s=d3(r);r||(r=e._fullLayout[s]);var l=r.borderwidth,c;n===yb?c=r.title.font:i.groupTitle?c=i.groupTitle.font:c=r.font;var u=c.size*nde,d,f;if(o){var h=Pi.bBox(o);d=h.height,f=h.width,n===yb?Pi.setTranslate(a,l,l+d*.75):Pi.setTranslate(a,0,d*.25)}else{var p="."+s+(n===yb?"title":"")+"text",m=t.select(p),v=Fv.lineCount(m),y=m.node();if(d=u*v,f=y?Pi.bBox(y).width:0,n===yb)r.title.side==="left"&&(f+=Gi.itemGap*2),Fv.positionText(m,l+Gi.titlePad,l+u);else{var b=Gi.itemGap*2+r.indentation+r.itemwidth;i.groupTitle&&(b=Gi.itemGap,f-=r.indentation+r.itemwidth),Fv.positionText(m,b,-u*((v-1)/2-.3))}}n===yb?(r._titleWidth=f,r._titleHeight=d):(i.lineHeight=u,i.height=Math.max(d,16)+3,i.width=f)}function zje(t){var e=0,r=0,n=t.title.side;return n&&(n.indexOf("left")!==-1&&(e=t._titleWidth),n.indexOf("top")!==-1&&(r=t._titleHeight)),[e,r]}function Fje(t,e,r,n){var i=t._fullLayout,a=d3(n);n||(n=i[a]);var o=i._size,s=ede.isVertical(n),l=ede.isGrouped(n),c=n.entrywidthmode==="fraction",u=n.borderwidth,d=2*u,f=Gi.itemGap,h=n.indentation+n.itemwidth+f*2,p=2*(u+f),m=u3(n),v=n.y<0||n.y===0&&m==="top",y=n.y>1||n.y===1&&m==="bottom",b=n.tracegroupgap,x={};n._maxHeight=Math.max(v||y?i.height/2:o.h,30);var w=0;n._width=0,n._height=0;var S=zje(n);if(s)r.each(function(ce){var q=ce[0].height;Pi.setTranslate(this,u+S[0],u+S[1]+n._height+q/2+f),n._height+=q,n._width=Math.max(n._width,ce[0].width)}),w=h+n._width,n._width+=f+h+d,n._height+=p,l&&(e.each(function(ce,q){Pi.setTranslate(this,0,q*n.tracegroupgap)}),n._height+=(n._lgroupsLength-1)*n.tracegroupgap);else{var _=c3(n),C=n.x<0||n.x===0&&_==="right",E=n.x>1||n.x===1&&_==="left",M=y||v,I=i.width/2;n._maxWidth=Math.max(C?M&&_==="left"?o.l+o.w:I:E?M&&_==="right"?o.r+o.w:I:o.w,2*h);var L=0,O=0;r.each(function(ce){var q=o3(ce,n,h);L=Math.max(L,q),O+=q}),w=null;var H=0;if(l){var Y=0,K=0,N=0;e.each(function(){var ce=0,q=0;gs.select(this).selectAll("g.traces").each(function(G){var de=o3(G,n,h),ue=G[0].height;Pi.setTranslate(this,S[0],S[1]+u+f+ue/2+q),q+=ue,ce=Math.max(ce,de),x[G[0].trace.legendgroup]=ce});var X=ce+f;K>0&&X+u+K>n._maxWidth?(H=Math.max(H,K),K=0,N+=Y+b,Y=q):Y=Math.max(Y,q),Pi.setTranslate(this,K,N),K+=X}),n._width=Math.max(H,K)+u,n._height=N+Y+p}else{var U=r.size(),B=O+d+(U-1)*f<n._maxWidth,$=0,ee=0,te=0,he=0;r.each(function(ce){var q=ce[0].height,X=o3(ce,n,h,l),G=B?X:L;c||(G+=f),G+u+ee-f>=n._maxWidth&&(H=Math.max(H,he),ee=0,te+=$,n._height+=$,$=0),Pi.setTranslate(this,S[0]+u+ee,S[1]+u+te+q/2+f),he=ee+X+f,ee+=G,$=Math.max($,q)}),B?(n._width=ee+d,n._height=$+p):(n._width=Math.max(H,he)+d,n._height+=$+p)}}n._width=Math.ceil(Math.max(n._width+S[0],n._titleWidth+2*(u+Gi.titlePad))),n._height=Math.ceil(Math.max(n._height+S[1],n._titleHeight+2*(u+Gi.itemGap))),n._effHeight=Math.min(n._height,n._maxHeight);var we=t._context.edits,Te=we.legendText||we.legendPosition;r.each(function(ce){var q=gs.select(this).select("."+a+"toggle"),X=ce[0].height,G=ce[0].trace.legendgroup,de=o3(ce,n,h);l&&G!==""&&(de=x[G]);var ue=Te?h:w||de;!s&&!c&&(ue+=f/2),Pi.setRect(q,0,-X/2,ue,X)})}function Hje(t,e,r,n){var i=t._fullLayout,a=i[e],o=c3(a),s=u3(a),l=a.xref==="paper",c=a.yref==="paper";t._fullLayout._reservedMargin[e]={};var u=a.y<.5?"b":"t",d=a.x<.5?"l":"r",f={r:i.width-r,l:r+a._width,b:i.height-n,t:n+a._effHeight};if(l&&c)return PH.autoMargin(t,e,{x:a.x,y:a.y,l:a._width*bb[o],r:a._width*Que[o],b:a._effHeight*Que[s],t:a._effHeight*bb[s]});l?t._fullLayout._reservedMargin[e][u]=f[u]:c||a.orientation==="v"?t._fullLayout._reservedMargin[e][d]=f[d]:t._fullLayout._reservedMargin[e][u]=f[u]}function c3(t){return Oi.isRightAnchor(t)?"right":Oi.isCenterAnchor(t)?"center":"left"}function u3(t){return Oi.isBottomAnchor(t)?"bottom":Oi.isMiddleAnchor(t)?"middle":"top"}function d3(t){return t._id||"legend"}});var BH=J(UH=>{"use strict";var Hv=Sr(),wf=_r(),ode=Vs(),ui=Qe(),qje=ui.pushUnique,HH=ui.strTranslate,Uje=ui.strRotate,Bje=tb(),Yl=wa(),jje=Aue(),Wu=Kr(),aa=gr(),f3=Bc(),Gu=gn(),Vje=Ha().zindexSeparator,Tb=Xt(),jc=qc(),qv=pS(),Wje=kH(),Gje=FH(),pde=qv.YANGLE,qH=Math.PI*pde/180,Yje=1/Math.sin(qH),Zje=Math.cos(qH),$je=Math.sin(qH),Vn=qv.HOVERARROWSIZE,Nr=qv.HOVERTEXTPAD,sde={box:!0,ohlc:!0,violin:!0,candlestick:!0},Xje={scatter:!0,scattergl:!0,splom:!0};function lde(t,e){return t.distance-e.distance}UH.hover=function(e,r,n,i){e=ui.getGraphDiv(e);var a=r.target;ui.throttle(e._fullLayout._uid+qv.HOVERID,qv.HOVERMINTIME,function(){Kje(e,r,n,i,a)})};UH.loneHover=function(e,r){var n=!0;Array.isArray(e)||(n=!1,e=[e]);var i=r.gd,a=bde(i),o=wde(i),s=e.map(function(v){var y=v._x0||v.x0||v.x||0,b=v._x1||v.x1||v.x||0,x=v._y0||v.y0||v.y||0,w=v._y1||v.y1||v.y||0,S=v.eventData;if(S){var _=Math.min(y,b),C=Math.max(y,b),E=Math.min(x,w),M=Math.max(x,w),I=v.trace;if(Tb.traceIs(I,"gl3d")){var L=i._fullLayout[I.scene]._scene.container,O=L.offsetLeft,H=L.offsetTop;_+=O,C+=O,E+=H,M+=H}S.bbox={x0:_+o,x1:C+o,y0:E+a,y1:M+a},r.inOut_bbox&&r.inOut_bbox.push(S.bbox)}else S=!1;return{color:v.color||aa.defaultLine,x0:v.x0||v.x||0,x1:v.x1||v.x||0,y0:v.y0||v.y||0,y1:v.y1||v.y||0,xLabel:v.xLabel,yLabel:v.yLabel,zLabel:v.zLabel,text:v.text,name:v.name,idealAlign:v.idealAlign,borderColor:v.borderColor,fontFamily:v.fontFamily,fontSize:v.fontSize,fontColor:v.fontColor,fontWeight:v.fontWeight,fontStyle:v.fontStyle,fontVariant:v.fontVariant,nameLength:v.nameLength,textAlign:v.textAlign,trace:v.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:v.hovertemplate||!1,hovertemplateLabels:v.hovertemplateLabels||!1,eventData:S}}),l=!1,c=vde(s,{gd:i,hovermode:"closest",rotateLabels:l,bgColor:r.bgColor||aa.background,container:Hv.select(r.container),outerContainer:r.outerContainer||r.container}),u=c.hoverLabels,d=5,f=0,h=0;u.sort(function(v,y){return v.y0-y.y0}).each(function(v,y){var b=v.y0-v.by/2;b-d<f?v.offset=f-b+d:v.offset=0,f=b+v.by+v.offset,y===r.anchorIndex&&(h=v.offset)}).each(function(v){v.offset-=h});var p=i._fullLayout._invScaleX,m=i._fullLayout._invScaleY;return yde(u,l,p,m),n?u:u.node()};function Kje(t,e,r,n,i){r||(r="xy"),typeof r=="string"&&(r=r.split(Vje)[0]);var a=Array.isArray(r)?r:[r],o,s=t._fullLayout,l=s.hoversubplots,c=s._plots||[],u=c[r],d=s._has("cartesian"),f=e.hovermode||s.hovermode,h=(f||"").charAt(0)==="x",p=(f||"").charAt(0)==="y",m,v;if(d&&(h||p)&&l==="axis"){for(var y=a.length,b=0;b<y;b++)if(o=a[b],c[o]){m=Gu.getFromId(t,o,"x"),v=Gu.getFromId(t,o,"y");var x=(h?m:v)._subplotsWith;if(x&&x.length)for(var w=0;w<x.length;w++)qje(a,x[w])}}if(u&&l!=="single"){var S=u.overlays.map(function(At){return At.id});a=a.concat(S)}for(var _=a.length,C=new Array(_),E=new Array(_),M=!1,I=0;I<_;I++)if(o=a[I],c[o])M=!0,C[I]=c[o].xaxis,E[I]=c[o].yaxis;else if(s[o]&&s[o]._subplot){var L=s[o]._subplot;C[I]=L.xaxis,E[I]=L.yaxis}else{ui.warn("Unrecognized subplot: "+o);return}if(f&&!M&&(f="closest"),["x","y","closest","x unified","y unified"].indexOf(f)===-1||!t.calcdata||t.querySelector(".zoombox")||t._dragging)return f3.unhoverRaw(t,e);var O=s.hoverdistance;O===-1&&(O=1/0);var H=s.spikedistance;H===-1&&(H=1/0);var Y=[],K=[],N,U,B,$,ee,te,he,we,Te,ce,q,X,G,de={hLinePoint:null,vLinePoint:null},ue=!1;if(Array.isArray(e))for(f="array",B=0;B<e.length;B++)ee=t.calcdata[e[B].curveNumber||0],ee&&(te=ee[0].trace,ee[0].trace.hoverinfo!=="skip"&&(K.push(ee),te.orientation==="h"&&(ue=!0)));else{var fe=t.calcdata.slice();for(fe.sort(function(At,ir){var Qt=At[0].trace.zorder||0,kr=ir[0].trace.zorder||0;return Qt-kr}),$=0;$<fe.length;$++)ee=fe[$],te=ee[0].trace,te.hoverinfo!=="skip"&&jc.isTraceInSubplots(te,a)&&(K.push(ee),te.orientation==="h"&&(ue=!0));var _e=!i,Oe,Ce;if(_e)"xpx"in e?Oe=e.xpx:Oe=C[0]._length/2,"ypx"in e?Ce=e.ypx:Ce=E[0]._length/2;else{if(Bje.triggerHandler(t,"plotly_beforehover",e)===!1)return;var je=i.getBoundingClientRect();Oe=e.clientX-je.left,Ce=e.clientY-je.top,s._calcInverseTransform(t);var qe=ui.apply3DTransform(s._invTransform)(Oe,Ce);if(Oe=qe[0],Ce=qe[1],Oe<0||Oe>C[0]._length||Ce<0||Ce>E[0]._length)return f3.unhoverRaw(t,e)}if(e.pointerX=Oe+C[0]._offset,e.pointerY=Ce+E[0]._offset,"xval"in e?N=jc.flat(a,e.xval):N=jc.p2c(C,Oe),"yval"in e?U=jc.flat(a,e.yval):U=jc.p2c(E,Ce),!wf(N[0])||!wf(U[0]))return ui.warn("Fx.hover failed",e,t),f3.unhoverRaw(t,e)}var Ve=1/0;function ot(At,ir){for($=0;$<K.length;$++)if(ee=K[$],!(!ee||!ee[0]||!ee[0].trace)&&(te=ee[0].trace,!(te.visible!==!0||te._length===0)&&["carpet","contourcarpet"].indexOf(te._module.name)===-1)){if(Te=f,jc.isUnifiedHover(Te)&&(Te=Te.charAt(0)),te.type==="splom"?(we=0,he=a[we]):(he=jc.getSubplot(te),we=a.indexOf(he)),X={cd:ee,trace:te,xa:C[we],ya:E[we],maxHoverDistance:O,maxSpikeDistance:H,index:!1,distance:Math.min(Ve,O),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:aa.defaultLine,name:te.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},s[he]&&(X.subplot=s[he]._subplot),s._splomScenes&&s._splomScenes[te.uid]&&(X.scene=s._splomScenes[te.uid]),Te==="array"){var Qt=e[$];"pointNumber"in Qt?(X.index=Qt.pointNumber,Te="closest"):(Te="","xval"in Qt&&(ce=Qt.xval,Te="x"),"yval"in Qt&&(q=Qt.yval,Te=Te?"closest":"y"))}else At!==void 0&&ir!==void 0?(ce=At,q=ir):(ce=N[we],q=U[we]);if(G=Y.length,O!==0)if(te._module&&te._module.hoverPoints){var kr=te._module.hoverPoints(X,ce,q,Te,{finiteRange:!0,hoverLayer:s._hoverlayer,hoversubplots:l,gd:t});if(kr)for(var br,mr=0;mr<kr.length;mr++)br=kr[mr],wf(br.x0)&&wf(br.y0)&&Y.push(tVe(br,f))}else ui.log("Unrecognized trace type in hover:",te);if(f==="closest"&&Y.length>G&&(Y.splice(0,G),Ve=Y[0].distance),d&&H!==0&&Y.length===0){X.distance=H,X.index=!1;var vr=te._module.hoverPoints(X,ce,q,"closest",{hoverLayer:s._hoverlayer});if(vr&&(vr=vr.filter(function(qr){return qr.spikeDistance<=H})),vr&&vr.length){var Vr,un=vr.filter(function(qr){return qr.xa.showspikes&&qr.xa.spikesnap!=="hovered data"});if(un.length){var Dn=un[0];wf(Dn.x0)&&wf(Dn.y0)&&(Vr=Xe(Dn),(!de.vLinePoint||de.vLinePoint.spikeDistance>Vr.spikeDistance)&&(de.vLinePoint=Vr))}var mi=vr.filter(function(qr){return qr.ya.showspikes&&qr.ya.spikesnap!=="hovered data"});if(mi.length){var Rn=mi[0];wf(Rn.x0)&&wf(Rn.y0)&&(Vr=Xe(Rn),(!de.hLinePoint||de.hLinePoint.spikeDistance>Vr.spikeDistance)&&(de.hLinePoint=Vr))}}}}}ot();function $e(At,ir,Qt){for(var kr=null,br=1/0,mr,vr=0;vr<At.length;vr++)m&&m._id!==At[vr].xa._id||v&&v._id!==At[vr].ya._id||(mr=At[vr].spikeDistance,Qt&&vr===0&&(mr=-1/0),mr<=br&&mr<=ir&&(kr=At[vr],br=mr));return kr}function Xe(At){return At?{xa:At.xa,ya:At.ya,x:At.xSpike!==void 0?At.xSpike:(At.x0+At.x1)/2,y:At.ySpike!==void 0?At.ySpike:(At.y0+At.y1)/2,distance:At.distance,spikeDistance:At.spikeDistance,curveNumber:At.trace.index,color:At.color,pointNumber:At.index}:null}var Je={fullLayout:s,container:s._hoverlayer,event:e},nt=t._spikepoints,Ke={vLinePoint:de.vLinePoint,hLinePoint:de.hLinePoint};t._spikepoints=Ke;var Ae=function(){var At=Y.filter(function(Qt){return m&&m._id===Qt.xa._id&&v&&v._id===Qt.ya._id}),ir=Y.filter(function(Qt){return!(m&&m._id===Qt.xa._id&&v&&v._id===Qt.ya._id)});At.sort(lde),ir.sort(lde),Y=At.concat(ir),Y=nVe(Y,f)};Ae();var it=f.charAt(0),at=(it==="x"||it==="y")&&Y[0]&&Xje[Y[0].trace.type];if(d&&H!==0&&Y.length!==0){var ge=Y.filter(function(At){return At.ya.showspikes}),Ne=$e(ge,H,at);de.hLinePoint=Xe(Ne);var Le=Y.filter(function(At){return At.xa.showspikes}),St=$e(Le,H,at);de.vLinePoint=Xe(St)}if(Y.length===0){var ht=f3.unhoverRaw(t,e);return d&&(de.hLinePoint!==null||de.vLinePoint!==null)&&dde(nt)&&ude(t,de,Je),ht}if(d&&dde(nt)&&ude(t,de,Je),jc.isXYhover(Te)&&Y[0].length!==0&&Y[0].trace.type!=="splom"){var He=Y[0];sde[He.trace.type]?Y=Y.filter(function(At){return At.trace.index===He.trace.index}):Y=[He];var Ue=Y.length,ct=hde("x",He,s),rt=hde("y",He,s);ot(ct,rt);var lt=[],st={},mt=0,kt=function(At){var ir=sde[At.trace.type]?mde(At):At.trace.index;if(!st[ir])mt++,st[ir]=mt,lt.push(At);else{var Qt=st[ir]-1,kr=lt[Qt];Qt>0&&Math.abs(At.distance)<Math.abs(kr.distance)&&(lt[Qt]=At)}},_t;for(_t=0;_t<Ue;_t++)kt(Y[_t]);for(_t=Y.length-1;_t>Ue-1;_t--)kt(Y[_t]);Y=lt,Ae()}var Ye=t._hoverdata,bt=[],ut=bde(t),P=wde(t);for(B=0;B<Y.length;B++){var z=Y[B],Q=jc.makeEventData(z,z.trace,z.cd);if(z.hovertemplate!==!1){var le=!1;z.cd[z.index]&&z.cd[z.index].ht&&(le=z.cd[z.index].ht),z.hovertemplate=le||z.trace.hovertemplate||!1}if(z.xa&&z.ya){var V=z.x0+z.xa._offset,oe=z.x1+z.xa._offset,be=z.y0+z.ya._offset,xe=z.y1+z.ya._offset,Ge=Math.min(V,oe),Ie=Math.max(V,oe),tt=Math.min(be,xe),vt=Math.max(be,xe);Q.bbox={x0:Ge+P,x1:Ie+P,y0:tt+ut,y1:vt+ut}}z.eventData=[Q],bt.push(Q)}t._hoverdata=bt;var Ze=f==="y"&&(K.length>1||Y.length>1)||f==="closest"&&ue&&Y.length>1,Pt=aa.combine(s.plot_bgcolor||aa.background,s.paper_bgcolor),Wt=vde(Y,{gd:t,hovermode:f,rotateLabels:Ze,bgColor:Pt,container:s._hoverlayer,outerContainer:s._paper.node(),commonLabelOpts:s.hoverlabel,hoverdistance:s.hoverdistance}),Vt=Wt.hoverLabels;if(jc.isUnifiedHover(f)||(Jje(Vt,Ze,s,Wt.commonLabelBoundingBox),yde(Vt,Ze,s._invScaleX,s._invScaleY)),i&&i.tagName){var Jt=Tb.getComponentMethod("annotations","hasClickToShow")(t,bt);jje(Hv.select(i),Jt?"pointer":"")}!i||n||!rVe(t,e,Ye)||(Ye&&t.emit("plotly_unhover",{event:e,points:Ye}),t.emit("plotly_hover",{event:e,points:t._hoverdata,xaxes:C,yaxes:E,xvals:N,yvals:U}))}function mde(t){return[t.trace.index,t.index,t.x0,t.y0,t.name,t.attr,t.xa?t.xa._id:"",t.ya?t.ya._id:""].join(",")}var Qje=/<extra>([\s\S]*)<\/extra>/;function vde(t,e){var r=e.gd,n=r._fullLayout,i=e.hovermode,a=e.rotateLabels,o=e.bgColor,s=e.container,l=e.outerContainer,c=e.commonLabelOpts||{};if(t.length===0)return[[]];var u=e.fontFamily||qv.HOVERFONT,d=e.fontSize||qv.HOVERFONTSIZE,f=e.fontWeight||n.font.weight,h=e.fontStyle||n.font.style,p=e.fontVariant||n.font.variant,m=e.fontTextcase||n.font.textcase,v=e.fontLineposition||n.font.lineposition,y=e.fontShadow||n.font.shadow,b=t[0],x=b.xa,w=b.ya,S=i.charAt(0),_=S+"Label",C=b[_];if(C===void 0&&x.type==="multicategory")for(var E=0;E<t.length&&(C=t[E][_],C===void 0);E++);var M=xb(r,l),I=M.top,L=M.width,O=M.height,H=C!==void 0&&b.distance<=e.hoverdistance&&(i==="x"||i==="y");if(H){var Y=!0,K,N;for(K=0;K<t.length;K++)if(Y&&t[K].zLabel===void 0&&(Y=!1),N=t[K].hoverinfo||t[K].trace.hoverinfo,N){var U=Array.isArray(N)?N:N.split("+");if(U.indexOf("all")===-1&&U.indexOf(i)===-1){H=!1;break}}Y&&(H=!1)}var B=s.selectAll("g.axistext").data(H?[0]:[]);B.enter().append("g").classed("axistext",!0),B.exit().remove();var $={minX:0,maxX:0,minY:0,maxY:0};if(B.each(function(){var Le=Hv.select(this),St=ui.ensureSingle(Le,"path","",function(Ge){Ge.style({"stroke-width":"1px"})}),ht=ui.ensureSingle(Le,"text","",function(Ge){Ge.attr("data-notex",1)}),He=c.bgcolor||aa.defaultLine,Ue=c.bordercolor||aa.contrast(He),ct=aa.contrast(He),rt=c.font,lt={weight:rt.weight||f,style:rt.style||h,variant:rt.variant||p,textcase:rt.textcase||m,lineposition:rt.lineposition||v,shadow:rt.shadow||y,family:rt.family||u,size:rt.size||d,color:rt.color||ct};St.style({fill:He,stroke:Ue}),ht.text(C).call(Wu.font,lt).call(Yl.positionText,0,0).call(Yl.convertToTspans,r),Le.attr("transform","");var st=xb(r,ht.node()),mt,kt;if(i==="x"){var _t=x.side==="top"?"-":"";ht.attr("text-anchor","middle").call(Yl.positionText,0,x.side==="top"?I-st.bottom-Vn-Nr:I-st.top+Vn+Nr),mt=x._offset+(b.x0+b.x1)/2,kt=w._offset+(x.side==="top"?0:w._length);var Ye=st.width/2+Nr,bt=mt;mt<Ye?bt=Ye:mt>n.width-Ye&&(bt=n.width-Ye),St.attr("d","M"+(mt-bt)+",0L"+(mt-bt+Vn)+","+_t+Vn+"H"+Ye+"v"+_t+(Nr*2+st.height)+"H"+-Ye+"V"+_t+Vn+"H"+(mt-bt-Vn)+"Z"),mt=bt,$.minX=mt-Ye,$.maxX=mt+Ye,x.side==="top"?($.minY=kt-(Nr*2+st.height),$.maxY=kt-Nr):($.minY=kt+Nr,$.maxY=kt+(Nr*2+st.height))}else{var ut,P,z;w.side==="right"?(ut="start",P=1,z="",mt=x._offset+x._length):(ut="end",P=-1,z="-",mt=x._offset),kt=w._offset+(b.y0+b.y1)/2,ht.attr("text-anchor",ut),St.attr("d","M0,0L"+z+Vn+","+Vn+"V"+(Nr+st.height/2)+"h"+z+(Nr*2+st.width)+"V-"+(Nr+st.height/2)+"H"+z+Vn+"V-"+Vn+"Z"),$.minY=kt-(Nr+st.height/2),$.maxY=kt+(Nr+st.height/2),w.side==="right"?($.minX=mt+Vn,$.maxX=mt+Vn+(Nr*2+st.width)):($.minX=mt-Vn-(Nr*2+st.width),$.maxX=mt-Vn);var Q=st.height/2,le=I-st.top-Q,V="clip"+n._uid+"commonlabel"+w._id,oe;if(mt<st.width+2*Nr+Vn){oe="M-"+(Vn+Nr)+"-"+Q+"h-"+(st.width-Nr)+"V"+Q+"h"+(st.width-Nr)+"Z";var be=st.width-mt+Nr;Yl.positionText(ht,be,le),ut==="end"&&ht.selectAll("tspan").each(function(){var Ge=Hv.select(this),Ie=Wu.tester.append("text").text(Ge.text()).call(Wu.font,lt),tt=xb(r,Ie.node());Math.round(tt.width)<Math.round(st.width)&&Ge.attr("x",be-tt.width),Ie.remove()})}else Yl.positionText(ht,P*(Nr+Vn),le),oe=null;var xe=n._topclips.selectAll("#"+V).data(oe?[0]:[]);xe.enter().append("clipPath").attr("id",V).append("path"),xe.exit().remove(),xe.select("path").attr("d",oe),Wu.setClipUrl(ht,oe?V:null,r)}Le.attr("transform",HH(mt,kt))}),jc.isUnifiedHover(i)){s.selectAll("g.hovertext").remove();var ee=t.filter(function(Le){return Le.hoverinfo!=="none"});if(ee.length===0)return[];var te=n.hoverlabel,he=te.font,we={showlegend:!0,legend:{title:{text:C,font:he},font:he,bgcolor:te.bgcolor,bordercolor:te.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:n.legend?n.legend.traceorder:void 0,orientation:"v"}},Te={font:he};Wje(we,Te,r._fullData);var ce=Te.legend;ce.entries=[];for(var q=0;q<ee.length;q++){var X=ee[q];if(X.hoverinfo!=="none"){var G=cde(X,!0,i,n,C),de=G[0],ue=G[1];X.name=ue,ue!==""?X.text=ue+" : "+de:X.text=de;var fe=X.cd[X.index];fe&&(fe.mc&&(X.mc=fe.mc),fe.mcc&&(X.mc=fe.mcc),fe.mlc&&(X.mlc=fe.mlc),fe.mlcc&&(X.mlc=fe.mlcc),fe.mlw&&(X.mlw=fe.mlw),fe.mrc&&(X.mrc=fe.mrc),fe.dir&&(X.dir=fe.dir)),X._distinct=!0,ce.entries.push([X])}}ce.entries.sort(function(Le,St){return Le[0].trace.index-St[0].trace.index}),ce.layer=s,ce._inHover=!0,ce._groupTitleFont=te.grouptitlefont,Gje(r,ce);var _e=s.select("g.legend"),Oe=xb(r,_e.node()),Ce=Oe.width+2*Nr,je=Oe.height+2*Nr,qe=ee[0],Ve=(qe.x0+qe.x1)/2,ot=(qe.y0+qe.y1)/2,$e=!(Tb.traceIs(qe.trace,"bar-like")||Tb.traceIs(qe.trace,"box-violin")),Xe,Je;S==="y"?$e?(Je=ot-Nr,Xe=ot+Nr):(Je=Math.min.apply(null,ee.map(function(Le){return Math.min(Le.y0,Le.y1)})),Xe=Math.max.apply(null,ee.map(function(Le){return Math.max(Le.y0,Le.y1)}))):Je=Xe=ui.mean(ee.map(function(Le){return(Le.y0+Le.y1)/2}))-je/2;var nt,Ke;S==="x"?$e?(nt=Ve+Nr,Ke=Ve-Nr):(nt=Math.max.apply(null,ee.map(function(Le){return Math.max(Le.x0,Le.x1)})),Ke=Math.min.apply(null,ee.map(function(Le){return Math.min(Le.x0,Le.x1)}))):nt=Ke=ui.mean(ee.map(function(Le){return(Le.x0+Le.x1)/2}))-Ce/2;var Ae=x._offset,it=w._offset;Xe+=it,nt+=Ae,Ke+=Ae-Ce,Je+=it-je;var at,ge;return nt+Ce<L&&nt>=0?at=nt:Ke+Ce<L&&Ke>=0?at=Ke:Ae+Ce<L?at=Ae:nt-Ve<Ve-Ke+Ce?at=L-Ce:at=0,at+=Nr,Xe+je<O&&Xe>=0?ge=Xe:Je+je<O&&Je>=0?ge=Je:it+je<O?ge=it:Xe-ot<ot-Je+je?ge=O-je:ge=0,ge+=Nr,_e.attr("transform",HH(at-1,ge-1)),_e}var Ne=s.selectAll("g.hovertext").data(t,function(Le){return mde(Le)});return Ne.enter().append("g").classed("hovertext",!0).each(function(){var Le=Hv.select(this);Le.append("rect").call(aa.fill,aa.addOpacity(o,.8)),Le.append("text").classed("name",!0),Le.append("path").style("stroke-width","1px"),Le.append("text").classed("nums",!0).call(Wu.font,{weight:f,style:h,variant:p,textcase:m,lineposition:v,shadow:y,family:u,size:d})}),Ne.exit().remove(),Ne.each(function(Le){var St=Hv.select(this).attr("transform",""),ht=Le.color;Array.isArray(ht)&&(ht=ht[Le.eventData[0].pointNumber]);var He=Le.bgcolor||ht,Ue=aa.combine(aa.opacity(He)?He:aa.defaultLine,o),ct=aa.combine(aa.opacity(ht)?ht:aa.defaultLine,o),rt=Le.borderColor||aa.contrast(Ue),lt=cde(Le,H,i,n,C,St),st=lt[0],mt=lt[1],kt=St.select("text.nums").call(Wu.font,{family:Le.fontFamily||u,size:Le.fontSize||d,color:Le.fontColor||rt,weight:Le.fontWeight||f,style:Le.fontStyle||h,variant:Le.fontVariant||p,textcase:Le.fontTextcase||m,lineposition:Le.fontLineposition||v,shadow:Le.fontShadow||y}).text(st).attr("data-notex",1).call(Yl.positionText,0,0).call(Yl.convertToTspans,r),_t=St.select("text.name"),Ye=0,bt=0;if(mt&&mt!==st){_t.call(Wu.font,{family:Le.fontFamily||u,size:Le.fontSize||d,color:ct,weight:Le.fontWeight||f,style:Le.fontStyle||h,variant:Le.fontVariant||p,textcase:Le.fontTextcase||m,lineposition:Le.fontLineposition||v,shadow:Le.fontShadow||y}).text(mt).attr("data-notex",1).call(Yl.positionText,0,0).call(Yl.convertToTspans,r);var ut=xb(r,_t.node());Ye=ut.width+2*Nr,bt=ut.height+2*Nr}else _t.remove(),St.select("rect").remove();St.select("path").style({fill:Ue,stroke:rt});var P=Le.xa._offset+(Le.x0+Le.x1)/2,z=Le.ya._offset+(Le.y0+Le.y1)/2,Q=Math.abs(Le.x1-Le.x0),le=Math.abs(Le.y1-Le.y0),V=xb(r,kt.node()),oe=V.width/n._invScaleX,be=V.height/n._invScaleY;Le.ty0=(I-V.top)/n._invScaleY,Le.bx=oe+2*Nr,Le.by=Math.max(be+2*Nr,bt),Le.anchor="start",Le.txwidth=oe,Le.tx2width=Ye,Le.offset=0;var xe=(oe+Vn+Nr+Ye)*n._invScaleX,Ge,Ie;if(a)Le.pos=P,Ge=z+le/2+xe<=O,Ie=z-le/2-xe>=0,(Le.idealAlign==="top"||!Ge)&&Ie?(z-=le/2,Le.anchor="end"):Ge?(z+=le/2,Le.anchor="start"):Le.anchor="middle",Le.crossPos=z;else{if(Le.pos=z,Ge=P+Q/2+xe<=L,Ie=P-Q/2-xe>=0,(Le.idealAlign==="left"||!Ge)&&Ie)P-=Q/2,Le.anchor="end";else if(Ge)P+=Q/2,Le.anchor="start";else{Le.anchor="middle";var tt=xe/2,vt=P+tt-L,Ze=P-tt;vt>0&&(P-=vt),Ze<0&&(P+=-Ze)}Le.crossPos=P}kt.attr("text-anchor",Le.anchor),Ye&&_t.attr("text-anchor",Le.anchor),St.attr("transform",HH(P,z)+(a?Uje(pde):""))}),{hoverLabels:Ne,commonLabelBoundingBox:$}}function cde(t,e,r,n,i,a){var o="",s="";t.nameOverride!==void 0&&(t.name=t.nameOverride),t.name&&(t.trace._meta&&(t.name=ui.templateString(t.name,t.trace._meta)),o=fde(t.name,t.nameLength));var l=r.charAt(0),c=l==="x"?"y":"x";t.zLabel!==void 0?(t.xLabel!==void 0&&(s+="x: "+t.xLabel+"<br>"),t.yLabel!==void 0&&(s+="y: "+t.yLabel+"<br>"),t.trace.type!=="choropleth"&&t.trace.type!=="choroplethmapbox"&&t.trace.type!=="choroplethmap"&&(s+=(s?"z: ":"")+t.zLabel)):e&&t[l+"Label"]===i?s=t[c+"Label"]||"":t.xLabel===void 0?t.yLabel!==void 0&&t.trace.type!=="scattercarpet"&&(s=t.yLabel):t.yLabel===void 0?s=t.xLabel:s="("+t.xLabel+", "+t.yLabel+")",(t.text||t.text===0)&&!Array.isArray(t.text)&&(s+=(s?"<br>":"")+t.text),t.extraText!==void 0&&(s+=(s?"<br>":"")+t.extraText),a&&s===""&&!t.hovertemplate&&(o===""&&a.remove(),s=o);var u=t.hovertemplate||!1;if(u){var d=t.hovertemplateLabels||t;t[l+"Label"]!==i&&(d[l+"other"]=d[l+"Val"],d[l+"otherLabel"]=d[l+"Label"]),s=ui.hovertemplateString(u,d,n._d3locale,t.eventData[0]||{},t.trace._meta),s=s.replace(Qje,function(f,h){return o=fde(h,t.nameLength),""})}return[s,o]}function Jje(t,e,r,n){var i=e?"xa":"ya",a=e?"ya":"xa",o=0,s=1,l=t.size(),c=new Array(l),u=0,d=n.minX,f=n.maxX,h=n.minY,p=n.maxY,m=function(N){return N*r._invScaleX},v=function(N){return N*r._invScaleY};t.each(function(N){var U=N[i],B=N[a],$=U._id.charAt(0)==="x",ee=U.range;u===0&&ee&&ee[0]>ee[1]!==$&&(s=-1);var te=0,he=$?r.width:r.height;if(r.hovermode==="x"||r.hovermode==="y"){var we=gde(N,e),Te=N.anchor,ce=Te==="end"?-1:1,q,X;if(Te==="middle")q=N.crossPos+($?v(we.y-N.by/2):m(N.bx/2+N.tx2width/2)),X=q+($?v(N.by):m(N.bx));else if($)q=N.crossPos+v(Vn+we.y)-v(N.by/2-Vn),X=q+v(N.by);else{var G=m(ce*Vn+we.x),de=G+m(ce*N.bx);q=N.crossPos+Math.min(G,de),X=N.crossPos+Math.max(G,de)}$?h!==void 0&&p!==void 0&&Math.min(X,p)-Math.max(q,h)>1&&(B.side==="left"?(te=B._mainLinePosition,he=r.width):he=B._mainLinePosition):d!==void 0&&f!==void 0&&Math.min(X,f)-Math.max(q,d)>1&&(B.side==="top"?(te=B._mainLinePosition,he=r.height):he=B._mainLinePosition)}c[u++]=[{datum:N,traceIndex:N.trace.index,dp:0,pos:N.pos,posref:N.posref,size:N.by*($?Yje:1)/2,pmin:te,pmax:he}]}),c.sort(function(N,U){return N[0].posref-U[0].posref||s*(U[0].traceIndex-N[0].traceIndex)});var y,b,x,w,S,_,C;function E(N){var U=N[0],B=N[N.length-1];if(b=U.pmin-U.pos-U.dp+U.size,x=B.pos+B.dp+B.size-U.pmax,b>.01){for(S=N.length-1;S>=0;S--)N[S].dp+=b;y=!1}if(!(x<.01)){if(b<-.01){for(S=N.length-1;S>=0;S--)N[S].dp-=x;y=!1}if(y){var $=0;for(w=0;w<N.length;w++)_=N[w],_.pos+_.dp+_.size>U.pmax&&$++;for(w=N.length-1;w>=0&&!($<=0);w--)_=N[w],_.pos>U.pmax-1&&(_.del=!0,$--);for(w=0;w<N.length&&!($<=0);w++)if(_=N[w],_.pos<U.pmin+1)for(_.del=!0,$--,x=_.size*2,S=N.length-1;S>=0;S--)N[S].dp-=x;for(w=N.length-1;w>=0&&!($<=0);w--)_=N[w],_.pos+_.dp+_.size>U.pmax&&(_.del=!0,$--)}}}for(;!y&&o<=l;){for(o++,y=!0,w=0;w<c.length-1;){var M=c[w],I=c[w+1],L=M[M.length-1],O=I[0];if(b=L.pos+L.dp+L.size-O.pos-O.dp+O.size,b>.01){for(S=I.length-1;S>=0;S--)I[S].dp+=b;for(M.push.apply(M,I),c.splice(w+1,1),C=0,S=M.length-1;S>=0;S--)C+=M[S].dp;for(x=C/M.length,S=M.length-1;S>=0;S--)M[S].dp-=x;y=!1}else w++}c.forEach(E)}for(w=c.length-1;w>=0;w--){var H=c[w];for(S=H.length-1;S>=0;S--){var Y=H[S],K=Y.datum;K.offset=Y.dp,K.del=Y.del}}}function gde(t,e){var r=0,n=t.offset;return e&&(n*=-$je,r=t.offset*Zje),{x:r,y:n}}function eVe(t){var e={start:1,end:-1,middle:0}[t.anchor],r=e*(Vn+Nr),n=r+e*(t.txwidth+Nr),i=t.anchor==="middle";return i&&(r-=t.tx2width/2,n+=t.txwidth/2+Nr),{alignShift:e,textShiftX:r,text2ShiftX:n}}function yde(t,e,r,n){var i=function(o){return o*r},a=function(o){return o*n};t.each(function(o){var s=Hv.select(this);if(o.del)return s.remove();var l=s.select("text.nums"),c=o.anchor,u=c==="end"?-1:1,d=eVe(o),f=gde(o,e),h=f.x,p=f.y,m=c==="middle";s.select("path").attr("d",m?"M-"+i(o.bx/2+o.tx2width/2)+","+a(p-o.by/2)+"h"+i(o.bx)+"v"+a(o.by)+"h-"+i(o.bx)+"Z":"M0,0L"+i(u*Vn+h)+","+a(Vn+p)+"v"+a(o.by/2-Vn)+"h"+i(u*o.bx)+"v-"+a(o.by)+"H"+i(u*Vn+h)+"V"+a(p-Vn)+"Z");var v=h+d.textShiftX,y=p+o.ty0-o.by/2+Nr,b=o.textAlign||"auto";b!=="auto"&&(b==="left"&&c!=="start"?(l.attr("text-anchor","start"),v=m?-o.bx/2-o.tx2width/2+Nr:-o.bx-Nr):b==="right"&&c!=="end"&&(l.attr("text-anchor","end"),v=m?o.bx/2-o.tx2width/2-Nr:o.bx+Nr)),l.call(Yl.positionText,i(v),a(y)),o.tx2width&&(s.select("text.name").call(Yl.positionText,i(d.text2ShiftX+d.alignShift*Nr+h),a(p+o.ty0-o.by/2+Nr)),s.select("rect").call(Wu.setRect,i(d.text2ShiftX+(d.alignShift-1)*o.tx2width/2+h),a(p-o.by/2-1),i(o.tx2width),a(o.by+2)))})}function tVe(t,e){var r=t.index,n=t.trace||{},i=t.cd[0],a=t.cd[r]||{};function o(f){return f||wf(f)&&f===0}var s=Array.isArray(r)?function(f,h){var p=ui.castOption(i,r,f);return o(p)?p:ui.extractOption({},n,"",h)}:function(f,h){return ui.extractOption(a,n,f,h)};function l(f,h,p){var m=s(h,p);o(m)&&(t[f]=m)}if(l("hoverinfo","hi","hoverinfo"),l("bgcolor","hbg","hoverlabel.bgcolor"),l("borderColor","hbc","hoverlabel.bordercolor"),l("fontFamily","htf","hoverlabel.font.family"),l("fontSize","hts","hoverlabel.font.size"),l("fontColor","htc","hoverlabel.font.color"),l("fontWeight","htw","hoverlabel.font.weight"),l("fontStyle","hty","hoverlabel.font.style"),l("fontVariant","htv","hoverlabel.font.variant"),l("nameLength","hnl","hoverlabel.namelength"),l("textAlign","hta","hoverlabel.align"),t.posref=e==="y"||e==="closest"&&n.orientation==="h"?t.xa._offset+(t.x0+t.x1)/2:t.ya._offset+(t.y0+t.y1)/2,t.x0=ui.constrain(t.x0,0,t.xa._length),t.x1=ui.constrain(t.x1,0,t.xa._length),t.y0=ui.constrain(t.y0,0,t.ya._length),t.y1=ui.constrain(t.y1,0,t.ya._length),t.xLabelVal!==void 0&&(t.xLabel="xLabel"in t?t.xLabel:Gu.hoverLabelText(t.xa,t.xLabelVal,n.xhoverformat),t.xVal=t.xa.c2d(t.xLabelVal)),t.yLabelVal!==void 0&&(t.yLabel="yLabel"in t?t.yLabel:Gu.hoverLabelText(t.ya,t.yLabelVal,n.yhoverformat),t.yVal=t.ya.c2d(t.yLabelVal)),t.zLabelVal!==void 0&&t.zLabel===void 0&&(t.zLabel=String(t.zLabelVal)),!isNaN(t.xerr)&&!(t.xa.type==="log"&&t.xerr<=0)){var c=Gu.tickText(t.xa,t.xa.c2l(t.xerr),"hover").text;t.xerrneg!==void 0?t.xLabel+=" +"+c+" / -"+Gu.tickText(t.xa,t.xa.c2l(t.xerrneg),"hover").text:t.xLabel+=" \xB1 "+c,e==="x"&&(t.distance+=1)}if(!isNaN(t.yerr)&&!(t.ya.type==="log"&&t.yerr<=0)){var u=Gu.tickText(t.ya,t.ya.c2l(t.yerr),"hover").text;t.yerrneg!==void 0?t.yLabel+=" +"+u+" / -"+Gu.tickText(t.ya,t.ya.c2l(t.yerrneg),"hover").text:t.yLabel+=" \xB1 "+u,e==="y"&&(t.distance+=1)}var d=t.hoverinfo||t.trace.hoverinfo;return d&&d!=="all"&&(d=Array.isArray(d)?d:d.split("+"),d.indexOf("x")===-1&&(t.xLabel=void 0),d.indexOf("y")===-1&&(t.yLabel=void 0),d.indexOf("z")===-1&&(t.zLabel=void 0),d.indexOf("text")===-1&&(t.text=void 0),d.indexOf("name")===-1&&(t.name=void 0)),t}function ude(t,e,r){var n=r.container,i=r.fullLayout,a=i._size,o=r.event,s=!!e.hLinePoint,l=!!e.vLinePoint,c,u;if(n.selectAll(".spikeline").remove(),!!(l||s)){var d=aa.combine(i.plot_bgcolor,i.paper_bgcolor);if(s){var f=e.hLinePoint,h,p;c=f&&f.xa,u=f&&f.ya;var m=u.spikesnap;m==="cursor"?(h=o.pointerX,p=o.pointerY):(h=c._offset+f.x,p=u._offset+f.y);var v=ode.readability(f.color,d)<1.5?aa.contrast(d):f.color,y=u.spikemode,b=u.spikethickness,x=u.spikecolor||v,w=Gu.getPxPosition(t,u),S,_;if(y.indexOf("toaxis")!==-1||y.indexOf("across")!==-1){if(y.indexOf("toaxis")!==-1&&(S=w,_=h),y.indexOf("across")!==-1){var C=u._counterDomainMin,E=u._counterDomainMax;u.anchor==="free"&&(C=Math.min(C,u.position),E=Math.max(E,u.position)),S=a.l+C*a.w,_=a.l+E*a.w}n.insert("line",":first-child").attr({x1:S,x2:_,y1:p,y2:p,"stroke-width":b,stroke:x,"stroke-dasharray":Wu.dashStyle(u.spikedash,b)}).classed("spikeline",!0).classed("crisp",!0),n.insert("line",":first-child").attr({x1:S,x2:_,y1:p,y2:p,"stroke-width":b+2,stroke:d}).classed("spikeline",!0).classed("crisp",!0)}y.indexOf("marker")!==-1&&n.insert("circle",":first-child").attr({cx:w+(u.side!=="right"?b:-b),cy:p,r:b,fill:x}).classed("spikeline",!0)}if(l){var M=e.vLinePoint,I,L;c=M&&M.xa,u=M&&M.ya;var O=c.spikesnap;O==="cursor"?(I=o.pointerX,L=o.pointerY):(I=c._offset+M.x,L=u._offset+M.y);var H=ode.readability(M.color,d)<1.5?aa.contrast(d):M.color,Y=c.spikemode,K=c.spikethickness,N=c.spikecolor||H,U=Gu.getPxPosition(t,c),B,$;if(Y.indexOf("toaxis")!==-1||Y.indexOf("across")!==-1){if(Y.indexOf("toaxis")!==-1&&(B=U,$=L),Y.indexOf("across")!==-1){var ee=c._counterDomainMin,te=c._counterDomainMax;c.anchor==="free"&&(ee=Math.min(ee,c.position),te=Math.max(te,c.position)),B=a.t+(1-te)*a.h,$=a.t+(1-ee)*a.h}n.insert("line",":first-child").attr({x1:I,x2:I,y1:B,y2:$,"stroke-width":K,stroke:N,"stroke-dasharray":Wu.dashStyle(c.spikedash,K)}).classed("spikeline",!0).classed("crisp",!0),n.insert("line",":first-child").attr({x1:I,x2:I,y1:B,y2:$,"stroke-width":K+2,stroke:d}).classed("spikeline",!0).classed("crisp",!0)}Y.indexOf("marker")!==-1&&n.insert("circle",":first-child").attr({cx:I,cy:U-(c.side!=="top"?K:-K),r:K,fill:N}).classed("spikeline",!0)}}}function rVe(t,e,r){if(!r||r.length!==t._hoverdata.length)return!0;for(var n=r.length-1;n>=0;n--){var i=r[n],a=t._hoverdata[n];if(i.curveNumber!==a.curveNumber||String(i.pointNumber)!==String(a.pointNumber)||String(i.pointNumbers)!==String(a.pointNumbers))return!0}return!1}function dde(t,e){return!e||e.vLinePoint!==t._spikepoints.vLinePoint||e.hLinePoint!==t._spikepoints.hLinePoint}function fde(t,e){return Yl.plainText(t||"",{len:e,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function nVe(t,e){for(var r=e.charAt(0),n=[],i=[],a=[],o=0;o<t.length;o++){var s=t[o];Tb.traceIs(s.trace,"bar-like")||Tb.traceIs(s.trace,"box-violin")?a.push(s):s.trace[r+"period"]?i.push(s):n.push(s)}return n.concat(i).concat(a)}function hde(t,e,r){var n=e[t+"a"],i=e[t+"Val"],a=e.cd[0];if(n.type==="category"||n.type==="multicategory")i=n._categoriesMap[i];else if(n.type==="date"){var o=e.trace[t+"periodalignment"];if(o){var s=e.cd[e.index],l=s[t+"Start"];l===void 0&&(l=s[t]);var c=s[t+"End"];c===void 0&&(c=s[t]);var u=c-l;o==="end"?i+=u:o==="middle"&&(i+=u/2)}i=n.d2c(i)}return a&&a.t&&a.t.posLetter===n._id&&(r.boxmode==="group"||r.violinmode==="group")&&(i+=a.t.dPos),i}function bde(t){return t.offsetTop+t.clientTop}function wde(t){return t.offsetLeft+t.clientLeft}function xb(t,e){var r=t._fullLayout,n=e.getBoundingClientRect(),i=n.left,a=n.top,o=i+n.width,s=a+n.height,l=ui.apply3DTransform(r._invTransform)(i,a),c=ui.apply3DTransform(r._invTransform)(o,s),u=l[0],d=l[1],f=c[0],h=c[1];return{x:u,y:d,width:f-u,height:h-d,top:Math.min(d,h),left:Math.min(u,f),right:Math.max(u,f),bottom:Math.max(d,h)}}});var h3=J((Cbt,xde)=>{"use strict";var iVe=Qe(),aVe=gr(),oVe=qc().isUnifiedHover;xde.exports=function(e,r,n,i){i=i||{};var a=r.legend;function o(s){i.font[s]||(i.font[s]=a?r.legend.font[s]:r.font[s])}r&&oVe(r.hovermode)&&(i.font||(i.font={}),o("size"),o("family"),o("color"),o("weight"),o("style"),o("variant"),a?(i.bgcolor||(i.bgcolor=aVe.combine(r.legend.bgcolor,r.paper_bgcolor)),i.bordercolor||(i.bordercolor=r.legend.bordercolor)):i.bgcolor||(i.bgcolor=r.paper_bgcolor)),n("hoverlabel.bgcolor",i.bgcolor),n("hoverlabel.bordercolor",i.bordercolor),n("hoverlabel.namelength",i.namelength),iVe.coerceFont(n,"hoverlabel.font",i.font),n("hoverlabel.align",i.align)}});var Sde=J((kbt,Tde)=>{"use strict";var sVe=Qe(),lVe=h3(),cVe=j0();Tde.exports=function(e,r){function n(i,a){return sVe.coerce(e,r,cVe,i,a)}lVe(e,r,n)}});var kde=J((Ebt,Cde)=>{"use strict";var _de=Qe(),uVe=qA(),dVe=h3();Cde.exports=function(e,r,n,i){function a(s,l){return _de.coerce(e,r,uVe,s,l)}var o=_de.extendFlat({},i.hoverlabel);r.hovertemplate&&(o.namelength=-1),dVe(e,r,a,o)}});var jH=J((Dbt,Ede)=>{"use strict";var fVe=Qe(),hVe=j0();Ede.exports=function(e,r){function n(i,a){return r[i]!==void 0?r[i]:fVe.coerce(e,r,hVe,i,a)}return n("clickmode"),n("hoversubplots"),n("hovermode")}});var Mde=J((Abt,Ade)=>{"use strict";var Dde=Qe(),pVe=j0(),mVe=jH(),vVe=h3();Ade.exports=function(e,r){function n(u,d){return Dde.coerce(e,r,pVe,u,d)}var i=mVe(e,r);i&&(n("hoverdistance"),n("spikedistance"));var a=n("dragmode");a==="select"&&n("selectdirection");var o=r._has("mapbox"),s=r._has("map"),l=r._has("geo"),c=r._basePlotModules.length;r.dragmode==="zoom"&&((o||s||l)&&c===1||(o||s)&&l&&c===2)&&(r.dragmode="pan"),vVe(e,r,n),Dde.coerceFont(n,"hoverlabel.grouptitlefont",r.hoverlabel.font)}});var Nde=J((Mbt,Ide)=>{"use strict";var VH=Qe(),Rde=Xt();Ide.exports=function(e){var r=e.calcdata,n=e._fullLayout;function i(c){return function(u){return VH.coerceHoverinfo({hoverinfo:u},{_module:c._module},n)}}for(var a=0;a<r.length;a++){var o=r[a],s=o[0].trace;if(!Rde.traceIs(s,"pie-like")){var l=Rde.traceIs(s,"2dMap")?gVe:VH.fillArray;l(s.hoverinfo,o,"hi",i(s)),s.hovertemplate&&l(s.hovertemplate,o,"ht"),s.hoverlabel&&(l(s.hoverlabel.bgcolor,o,"hbg"),l(s.hoverlabel.bordercolor,o,"hbc"),l(s.hoverlabel.font.size,o,"hts"),l(s.hoverlabel.font.color,o,"htc"),l(s.hoverlabel.font.family,o,"htf"),l(s.hoverlabel.font.weight,o,"htw"),l(s.hoverlabel.font.style,o,"hty"),l(s.hoverlabel.font.variant,o,"htv"),l(s.hoverlabel.namelength,o,"hnl"),l(s.hoverlabel.align,o,"hta"))}}};function gVe(t,e,r,n){n=n||VH.identity,Array.isArray(t)&&(e[0][r]=n(t))}});var Ode=J((Rbt,Lde)=>{"use strict";var yVe=Xt(),bVe=BH().hover;Lde.exports=function(e,r,n){var i=yVe.getComponentMethod("annotations","onClick")(e,e._hoverdata);n!==void 0&&bVe(e,r,n,!0);function a(){e.emit("plotly_click",{points:e._hoverdata,event:r})}e._hoverdata&&r&&r.target&&(i&&i.then?i.then(a):a(),r.stopImmediatePropagation&&r.stopImmediatePropagation())}});var Zl=J((Ibt,Fde)=>{"use strict";var wVe=Sr(),p3=Qe(),xVe=Bc(),WS=qc(),Pde=j0(),zde=BH();Fde.exports={moduleType:"component",name:"fx",constants:pS(),schema:{layout:Pde},attributes:qA(),layoutAttributes:Pde,supplyLayoutGlobalDefaults:Sde(),supplyDefaults:kde(),supplyLayoutDefaults:Mde(),calc:Nde(),getDistanceFunction:WS.getDistanceFunction,getClosest:WS.getClosest,inbox:WS.inbox,quadrature:WS.quadrature,appendArrayPointValue:WS.appendArrayPointValue,castHoverOption:SVe,castHoverinfo:_Ve,hover:zde.hover,unhover:xVe.unhover,loneHover:zde.loneHover,loneUnhover:TVe,click:Ode()};function TVe(t){var e=p3.isD3Selection(t)?t:wVe.select(t);e.selectAll("g.hovertext").remove(),e.selectAll(".spikeline").remove()}function SVe(t,e,r){return p3.castOption(t,e,"hoverlabel."+r)}function _Ve(t,e,r){function n(i){return p3.coerceHoverinfo({hoverinfo:i},{_module:t._module},e)}return p3.castOption(t,r,"hoverinfo",n)}});var Sb=J(xf=>{"use strict";xf.selectMode=function(t){return t==="lasso"||t==="select"};xf.drawMode=function(t){return t==="drawclosedpath"||t==="drawopenpath"||t==="drawline"||t==="drawrect"||t==="drawcircle"};xf.openMode=function(t){return t==="drawline"||t==="drawopenpath"};xf.rectMode=function(t){return t==="select"||t==="drawline"||t==="drawrect"||t==="drawcircle"};xf.freeMode=function(t){return t==="lasso"||t==="drawclosedpath"||t==="drawopenpath"};xf.selectingOrDrawing=function(t){return xf.freeMode(t)||xf.rectMode(t)}});var m3=J((Lbt,Hde)=>{"use strict";Hde.exports=function(e){var r=e._fullLayout;r._glcanvas&&r._glcanvas.size()&&r._glcanvas.each(function(n){n.regl&&n.regl.clear({color:!0,depth:!0})})}});var v3=J((Obt,qde)=>{"use strict";qde.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect fill='#000' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle fill='#9EF' cx='102' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='54' r='6'/>","  <circle fill='#D69' cx='54' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='54' r='6'/>","  <path fill='#FFF' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path fill='#FFF' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path fill='#FFF' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path fill='#FFF' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}});var y3=J((Pbt,Ude)=>{"use strict";var g3=32;Ude.exports={CIRCLE_SIDES:g3,i000:0,i090:g3/4,i180:g3/2,i270:g3/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}});var b3=J((zbt,jde)=>{"use strict";var CVe=Qe().strTranslate;function Bde(t,e){switch(t.type){case"log":return t.p2d(e);case"date":return t.p2r(e,0,t.calendar);default:return t.p2r(e)}}function kVe(t,e){switch(t.type){case"log":return t.d2p(e);case"date":return t.r2p(e,0,t.calendar);default:return t.r2p(e)}}function EVe(t){var e=t._id.charAt(0)==="y"?1:0;return function(r){return Bde(t,r[e])}}function DVe(t){return CVe(t.xaxis._offset,t.yaxis._offset)}jde.exports={p2r:Bde,r2p:kVe,axValue:EVe,getTransform:DVe}});var vp=J(Tf=>{"use strict";var AVe=N7(),Gde=y3(),_b=Gde.CIRCLE_SIDES,WH=Gde.SQRT2,Yde=b3(),Vde=Yde.p2r,Wde=Yde.r2p,MVe=[0,3,4,5,6,1,2],RVe=[0,3,4,1,2];Tf.writePaths=function(t){var e=t.length;if(!e)return"M0,0Z";for(var r="",n=0;n<e;n++)for(var i=t[n].length,a=0;a<i;a++){var o=t[n][a][0];if(o==="Z")r+="Z";else for(var s=t[n][a].length,l=0;l<s;l++){var c=l;o==="Q"||o==="S"?c=RVe[l]:o==="C"&&(c=MVe[l]),r+=t[n][a][c],l>0&&l<s-1&&(r+=",")}}return r};Tf.readPaths=function(t,e,r,n){var i=AVe(t),a=[],o=-1,s=function(){o++,a[o]=[]},l,c=0,u=0,d,f,h=function(){d=c,f=u};h();for(var p=0;p<i.length;p++){var m=[],v,y,b,x,w=i[p][0],S=w;switch(w){case"M":s(),c=+i[p][1],u=+i[p][2],m.push([S,c,u]),h();break;case"Q":case"S":v=+i[p][1],b=+i[p][2],c=+i[p][3],u=+i[p][4],m.push([S,c,u,v,b]);break;case"C":v=+i[p][1],b=+i[p][2],y=+i[p][3],x=+i[p][4],c=+i[p][5],u=+i[p][6],m.push([S,c,u,v,b,y,x]);break;case"T":case"L":c=+i[p][1],u=+i[p][2],m.push([S,c,u]);break;case"H":S="L",c=+i[p][1],m.push([S,c,u]);break;case"V":S="L",u=+i[p][1],m.push([S,c,u]);break;case"A":S="L";var _=+i[p][1],C=+i[p][2];+i[p][4]||(_=-_,C=-C);var E=c-_,M=u;for(l=1;l<=_b/2;l++){var I=2*Math.PI*l/_b;m.push([S,E+_*Math.cos(I),M+C*Math.sin(I)])}break;case"Z":(c!==d||u!==f)&&(c=d,u=f,m.push([S,c,u]));break}for(var L=(r||{}).domain,O=e._fullLayout._size,H=r&&r.xsizemode==="pixel",Y=r&&r.ysizemode==="pixel",K=n===!1,N=0;N<m.length;N++){for(l=0;l+2<7;l+=2){var U=m[N][l+1],B=m[N][l+2];U===void 0||B===void 0||(c=U,u=B,r&&(r.xaxis&&r.xaxis.p2r?(K&&(U-=r.xaxis._offset),H?U=Wde(r.xaxis,r.xanchor)+U:U=Vde(r.xaxis,U)):(K&&(U-=O.l),L?U=L.x[0]+U/O.w:U=U/O.w),r.yaxis&&r.yaxis.p2r?(K&&(B-=r.yaxis._offset),Y?B=Wde(r.yaxis,r.yanchor)-B:B=Vde(r.yaxis,B)):(K&&(B-=O.t),L?B=L.y[1]-B/O.h:B=1-B/O.h)),m[N][l+1]=U,m[N][l+2]=B)}a[o].push(m[N].slice())}}return a};function GS(t,e){return Math.abs(t-e)<=1e-6}function w3(t,e){var r=e[1]-t[1],n=e[2]-t[2];return Math.sqrt(r*r+n*n)}Tf.pointsOnRectangle=function(t){var e=t.length;if(e!==5)return!1;for(var r=1;r<3;r++){var n=t[0][r]-t[1][r],i=t[3][r]-t[2][r];if(!GS(n,i))return!1;var a=t[0][r]-t[3][r],o=t[1][r]-t[2][r];if(!GS(a,o))return!1}return!GS(t[0][1],t[1][1])&&!GS(t[0][1],t[3][1])?!1:!!(w3(t[0],t[1])*w3(t[0],t[3]))};Tf.pointsOnEllipse=function(t){var e=t.length;if(e!==_b+1)return!1;e=_b;for(var r=0;r<e;r++){var n=(e*2-r)%e,i=(e/2+n)%e,a=(e/2+r)%e;if(!GS(w3(t[r],t[a]),w3(t[n],t[i])))return!1}return!0};Tf.handleEllipse=function(t,e,r){if(!t)return[e,r];var n=Tf.ellipseOver({x0:e[0],y0:e[1],x1:r[0],y1:r[1]}),i=(n.x1+n.x0)/2,a=(n.y1+n.y0)/2,o=(n.x1-n.x0)/2,s=(n.y1-n.y0)/2;o||(o=s=s/WH),s||(s=o=o/WH);for(var l=[],c=0;c<_b;c++){var u=c*2*Math.PI/_b;l.push([i+o*Math.cos(u),a+s*Math.sin(u)])}return l};Tf.ellipseOver=function(t){var e=t.x0,r=t.y0,n=t.x1,i=t.y1,a=n-e,o=i-r;e-=a,r-=o;var s=(e+n)/2,l=(r+i)/2,c=WH;return a*=c,o*=c,{x0:s-a,y0:l-o,x1:s+a,y1:l+o}};Tf.fixDatesForPaths=function(t,e,r){var n=e.type==="date",i=r.type==="date";if(!n&&!i)return t;for(var a=0;a<t.length;a++)for(var o=0;o<t[a].length;o++)for(var s=0;s+2<t[a][o].length;s+=2)n&&(t[a][o][s+1]=t[a][o][s+1].replace(" ","_")),i&&(t[a][o][s+2]=t[a][o][s+2].replace(" ","_"));return t}});var S3=J((Hbt,rfe)=>{"use strict";var Zde=Wi(),Jde=Sb(),IVe=Jde.drawMode,NVe=Jde.openMode,Cb=y3(),$de=Cb.i000,Xde=Cb.i090,Kde=Cb.i180,Qde=Cb.i270,LVe=Cb.cos45,OVe=Cb.sin45,efe=b3(),x3=efe.p2r,gp=efe.r2p,PVe=lp(),zVe=PVe.clearOutline,T3=vp(),FVe=T3.readPaths,HVe=T3.writePaths,qVe=T3.ellipseOver,UVe=T3.fixDatesForPaths;function BVe(t,e){if(t.length){var r=t[0][0];if(r){var n=e.gd,i=e.isActiveShape,a=e.dragmode,o=(n.layout||{}).shapes||[];if(!IVe(a)&&i!==void 0){var s=n._fullLayout._activeShapeIndex;if(s<o.length)switch(n._fullLayout.shapes[s].type){case"rect":a="drawrect";break;case"circle":a="drawcircle";break;case"line":a="drawline";break;case"path":var l=o[s].path||"";l[l.length-1]==="Z"?a="drawclosedpath":a="drawopenpath";break}}var c=tfe(t,e,a);zVe(n);for(var u=e.editHelpers,d=(u||{}).modifyItem,f=[],h=0;h<o.length;h++){var p=n._fullLayout.shapes[h];if(f[h]=p._input,i!==void 0&&h===n._fullLayout._activeShapeIndex){var m=c;switch(p.type){case"line":case"rect":case"circle":var v=Zde.getFromId(n,p.xref);p.xref.charAt(0)==="x"&&v.type.includes("category")?(d("x0",m.x0-(p.x0shift||0)),d("x1",m.x1-(p.x1shift||0))):(d("x0",m.x0),d("x1",m.x1));var y=Zde.getFromId(n,p.yref);p.yref.charAt(0)==="y"&&y.type.includes("category")?(d("y0",m.y0-(p.y0shift||0)),d("y1",m.y1-(p.y1shift||0))):(d("y0",m.y0),d("y1",m.y1));break;case"path":d("path",m.path);break}}}return i===void 0?(f.push(c),f):u?u.getUpdateObj():{}}}}function tfe(t,e,r){var n=t[0][0],i=e.gd,a=n.getAttribute("d"),o=i._fullLayout.newshape,s=e.plotinfo,l=e.isActiveShape,c=s.xaxis,u=s.yaxis,d=!!s.domain||!s.xaxis,f=!!s.domain||!s.yaxis,h=NVe(r),p=FVe(a,i,s,l),m={editable:!0,visible:o.visible,name:o.name,showlegend:o.showlegend,legend:o.legend,legendwidth:o.legendwidth,legendgroup:o.legendgroup,legendgrouptitle:{text:o.legendgrouptitle.text,font:o.legendgrouptitle.font},legendrank:o.legendrank,label:o.label,xref:d?"paper":c._id,yref:f?"paper":u._id,layer:o.layer,opacity:o.opacity,line:{color:o.line.color,width:o.line.width,dash:o.line.dash}};h||(m.fillcolor=o.fillcolor,m.fillrule=o.fillrule);var v;if(p.length===1&&(v=p[0]),v&&v.length===5&&r==="drawrect")m.type="rect",m.x0=v[0][1],m.y0=v[0][2],m.x1=v[2][1],m.y1=v[2][2];else if(v&&r==="drawline")m.type="line",m.x0=v[0][1],m.y0=v[0][2],m.x1=v[1][1],m.y1=v[1][2];else if(v&&r==="drawcircle"){m.type="circle";var y=v[$de][1],b=v[Xde][1],x=v[Kde][1],w=v[Qde][1],S=v[$de][2],_=v[Xde][2],C=v[Kde][2],E=v[Qde][2],M=s.xaxis&&(s.xaxis.type==="date"||s.xaxis.type==="log"),I=s.yaxis&&(s.yaxis.type==="date"||s.yaxis.type==="log");M&&(y=gp(s.xaxis,y),b=gp(s.xaxis,b),x=gp(s.xaxis,x),w=gp(s.xaxis,w)),I&&(S=gp(s.yaxis,S),_=gp(s.yaxis,_),C=gp(s.yaxis,C),E=gp(s.yaxis,E));var L=(b+w)/2,O=(S+C)/2,H=(w-b+x-y)/2,Y=(E-_+C-S)/2,K=qVe({x0:L,y0:O,x1:L+H*LVe,y1:O+Y*OVe});M&&(K.x0=x3(s.xaxis,K.x0),K.x1=x3(s.xaxis,K.x1)),I&&(K.y0=x3(s.yaxis,K.y0),K.y1=x3(s.yaxis,K.y1)),m.x0=K.x0,m.y0=K.y0,m.x1=K.x1,m.y1=K.y1}else m.type="path",c&&u&&UVe(p,c,u),m.path=HVe(p),v=null;return m}rfe.exports={newShapes:BVe,createShapeObj:tfe}});var YH=J((qbt,nfe)=>{"use strict";var jVe=Sb(),VVe=jVe.selectMode,WVe=lp(),GVe=WVe.clearOutline,GH=vp(),YVe=GH.readPaths,ZVe=GH.writePaths,$Ve=GH.fixDatesForPaths;nfe.exports=function(e,r){if(e.length){var n=e[0][0];if(n){var i=n.getAttribute("d"),a=r.gd,o=a._fullLayout.newselection,s=r.plotinfo,l=s.xaxis,c=s.yaxis,u=r.isActiveSelection,d=r.dragmode,f=(a.layout||{}).selections||[];if(!VVe(d)&&u!==void 0){var h=a._fullLayout._activeSelectionIndex;if(h<f.length)switch(a._fullLayout.selections[h].type){case"rect":d="select";break;case"path":d="lasso";break}}var p=YVe(i,a,s,u),m={xref:l._id,yref:c._id,opacity:o.opacity,line:{color:o.line.color,width:o.line.width,dash:o.line.dash}},v;p.length===1&&(v=p[0]),v&&v.length===5&&d==="select"?(m.type="rect",m.x0=v[0][1],m.y0=v[0][2],m.x1=v[2][1],m.y1=v[2][2]):(m.type="path",l&&c&&$Ve(p,l,c),m.path=ZVe(p),v=null),GVe(a);for(var y=r.editHelpers,b=(y||{}).modifyItem,x=[],w=0;w<f.length;w++){var S=a._fullLayout.selections[w];if(!S){x[w]=S;continue}if(x[w]=S._input,u!==void 0&&w===a._fullLayout._activeSelectionIndex){var _=m;switch(S.type){case"rect":b("x0",_.x0),b("x1",_.x1),b("y0",_.y0),b("y1",_.y1);break;case"path":b("path",_.path);break}}}return u===void 0?(x.push(m),x):y?y.getUpdateObj():{}}}}});var YS=J((Ubt,ife)=>{"use strict";ife.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}});var yp=J(xa=>{"use strict";var Uv=YS(),afe=Qe(),_3=gn();xa.rangeToShapePosition=function(t){return t.type==="log"?t.r2d:function(e){return e}};xa.shapePositionToRange=function(t){return t.type==="log"?t.d2r:function(e){return e}};xa.decodeDate=function(t){return function(e){return e.replace&&(e=e.replace("_"," ")),t(e)}};xa.encodeDate=function(t){return function(e){return t(e).replace(" ","_")}};xa.extractPathCoords=function(t,e,r){var n=[],i=t.match(Uv.segmentRE);return i.forEach(function(a){var o=e[a.charAt(0)].drawn;if(o!==void 0){var s=a.substr(1).match(Uv.paramRE);if(!(!s||s.length<o)){var l=s[o],c=r?l:afe.cleanNumber(l);n.push(c)}}}),n};xa.getDataToPixel=function(t,e,r,n,i){var a=t._fullLayout._size,o;if(e)if(i==="domain")o=function(l){return e._length*(n?1-l:l)+e._offset};else{var s=xa.shapePositionToRange(e);o=function(l){var c=ZS(e,r);return e._offset+e.r2p(s(l,!0))+c},e.type==="date"&&(o=xa.decodeDate(o))}else n?o=function(l){return a.t+a.h*(1-l)}:o=function(l){return a.l+a.w*l};return o};xa.getPixelToData=function(t,e,r,n){var i=t._fullLayout._size,a;if(e)if(n==="domain")a=function(s){var l=(s-e._offset)/e._length;return r?1-l:l};else{var o=xa.rangeToShapePosition(e);a=function(s){return o(e.p2r(s-e._offset))}}else r?a=function(s){return 1-(s-i.t)/i.h}:a=function(s){return(s-i.l)/i.w};return a};xa.roundPositionForSharpStrokeRendering=function(t,e){var r=Math.round(e%2)===1,n=Math.round(t);return r?n+.5:n};xa.makeShapesOptionsAndPlotinfo=function(t,e){var r=t._fullLayout.shapes[e]||{},n=t._fullLayout._plots[r.xref+r.yref],i=!!n;return i?n._hadPlotinfo=!0:(n={},r.xref&&r.xref!=="paper"&&(n.xaxis=t._fullLayout[r.xref+"axis"]),r.yref&&r.yref!=="paper"&&(n.yaxis=t._fullLayout[r.yref+"axis"])),n.xsizemode=r.xsizemode,n.ysizemode=r.ysizemode,n.xanchor=r.xanchor,n.yanchor=r.yanchor,{options:r,plotinfo:n}};xa.makeSelectionsOptionsAndPlotinfo=function(t,e){var r=t._fullLayout.selections[e]||{},n=t._fullLayout._plots[r.xref+r.yref],i=!!n;return i?n._hadPlotinfo=!0:(n={},r.xref&&(n.xaxis=t._fullLayout[r.xref+"axis"]),r.yref&&(n.yaxis=t._fullLayout[r.yref+"axis"])),{options:r,plotinfo:n}};xa.getPathString=function(t,e){var r=e.type,n=_3.getRefType(e.xref),i=_3.getRefType(e.yref),a=_3.getFromId(t,e.xref),o=_3.getFromId(t,e.yref),s=t._fullLayout._size,l,c,u,d,f=ZS(a,e.x0shift),h=ZS(a,e.x1shift),p=ZS(o,e.y0shift),m=ZS(o,e.y1shift),v,y,b,x;if(a?n==="domain"?c=function(H){return a._offset+a._length*H}:(l=xa.shapePositionToRange(a),c=function(H){return a._offset+a.r2p(l(H,!0))}):c=function(H){return s.l+s.w*H},o?i==="domain"?d=function(H){return o._offset+o._length*(1-H)}:(u=xa.shapePositionToRange(o),d=function(H){return o._offset+o.r2p(u(H,!0))}):d=function(H){return s.t+s.h*(1-H)},r==="path")return a&&a.type==="date"&&(c=xa.decodeDate(c)),o&&o.type==="date"&&(d=xa.decodeDate(d)),XVe(e,c,d);if(e.xsizemode==="pixel"){var w=c(e.xanchor);v=w+e.x0+f,y=w+e.x1+h}else v=c(e.x0)+f,y=c(e.x1)+h;if(e.ysizemode==="pixel"){var S=d(e.yanchor);b=S-e.y0+p,x=S-e.y1+m}else b=d(e.y0)+p,x=d(e.y1)+m;if(r==="line")return"M"+v+","+b+"L"+y+","+x;if(r==="rect")return"M"+v+","+b+"H"+y+"V"+x+"H"+v+"Z";var _=(v+y)/2,C=(b+x)/2,E=Math.abs(_-v),M=Math.abs(C-b),I="A"+E+","+M,L=_+E+","+C,O=_+","+(C-M);return"M"+L+I+" 0 1,1 "+O+I+" 0 0,1 "+L+"Z"};function XVe(t,e,r){var n=t.path,i=t.xsizemode,a=t.ysizemode,o=t.xanchor,s=t.yanchor;return n.replace(Uv.segmentRE,function(l){var c=0,u=l.charAt(0),d=Uv.paramIsX[u],f=Uv.paramIsY[u],h=Uv.numParams[u],p=l.substr(1).replace(Uv.paramRE,function(m){return d[c]?i==="pixel"?m=e(o)+Number(m):m=e(m):f[c]&&(a==="pixel"?m=r(s)-Number(m):m=r(m)),c++,c>h&&(m="X"),m});return c>h&&(p=p.replace(/[\s,]*X.*/,""),afe.log("Ignoring extra params in segment "+l)),u+p})}function ZS(t,e){e=e||0;var r=0;return e&&t&&(t.type==="category"||t.type==="multicategory")&&(r=(t.r2p(1)-t.r2p(0))*e),r}});var $H=J((jbt,cfe)=>{"use strict";var KVe=Qe(),kb=gn(),ofe=wa(),sfe=Kr(),QVe=vp().readPaths,ZH=yp(),JVe=ZH.getPathString,lfe=XA(),eWe=ao().FROM_TL;cfe.exports=function(e,r,n,i){if(i.selectAll(".shape-label").remove(),!!(n.label.text||n.label.texttemplate)){var a;if(n.label.texttemplate){var o={};if(n.type!=="path"){var s=kb.getFromId(e,n.xref),l=kb.getFromId(e,n.yref);for(var c in lfe){var u=lfe[c](n,s,l);u!==void 0&&(o[c]=u)}}a=KVe.texttemplateStringForShapes(n.label.texttemplate,{},e._fullLayout._d3locale,o)}else a=n.label.text;var d={"data-index":r},f=n.label.font,h={"data-notex":1},p=i.append("g").attr(d).classed("shape-label",!0),m=p.append("text").attr(h).classed("shape-label-text",!0).text(a),v,y,b,x;if(n.path){var w=JVe(e,n),S=QVe(w,e);v=1/0,b=1/0,y=-1/0,x=-1/0;for(var _=0;_<S.length;_++)for(var C=0;C<S[_].length;C++)for(var E=S[_][C],M=1;M<E.length;M+=2){var I=E[M],L=E[M+1];v=Math.min(v,I),y=Math.max(y,I),b=Math.min(b,L),x=Math.max(x,L)}}else{var O=kb.getFromId(e,n.xref),H=n.x0shift,Y=n.x1shift,K=kb.getRefType(n.xref),N=kb.getFromId(e,n.yref),U=n.y0shift,B=n.y1shift,$=kb.getRefType(n.yref),ee=function(G,de){var ue=ZH.getDataToPixel(e,O,de,!1,K);return ue(G)},te=function(G,de){var ue=ZH.getDataToPixel(e,N,de,!0,$);return ue(G)};v=ee(n.x0,H),y=ee(n.x1,Y),b=te(n.y0,U),x=te(n.y1,B)}var he=n.label.textangle;he==="auto"&&(n.type==="line"?he=tWe(v,b,y,x):he=0),m.call(function(G){return G.call(sfe.font,f).attr({}),ofe.convertToTspans(G,e),G});var we=sfe.bBox(m.node()),Te=rWe(v,b,y,x,n,he,we),ce=Te.textx,q=Te.texty,X=Te.xanchor;m.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[X],y:q,x:ce,transform:"rotate("+he+","+ce+","+q+")"}).call(ofe.positionText,ce,q)}};function tWe(t,e,r,n){var i,a;return a=Math.abs(r-t),r>=t?i=e-n:i=n-e,-180/Math.PI*Math.atan2(i,a)}function rWe(t,e,r,n,i,a,o){var s=i.label.textposition,l=i.label.textangle,c=i.label.padding,u=i.type,d=Math.PI/180*a,f=Math.sin(d),h=Math.cos(d),p=i.label.xanchor,m=i.label.yanchor,v,y,b,x;if(u==="line"){s==="start"?(v=t,y=e):s==="end"?(v=r,y=n):(v=(t+r)/2,y=(e+n)/2),p==="auto"&&(s==="start"?l==="auto"?r>t?p="left":r<t?p="right":p="center":r>t?p="right":r<t?p="left":p="center":s==="end"?l==="auto"?r>t?p="right":r<t?p="left":p="center":r>t?p="left":r<t?p="right":p="center":p="center");var w={left:1,center:0,right:-1},S={bottom:-1,middle:0,top:1};if(l==="auto"){var _=S[m];b=-c*f*_,x=c*h*_}else{var C=w[p],E=S[m];b=c*C,x=c*E}v=v+b,y=y+x}else b=c+3,s.indexOf("right")!==-1?(v=Math.max(t,r)-b,p==="auto"&&(p="right")):s.indexOf("left")!==-1?(v=Math.min(t,r)+b,p==="auto"&&(p="left")):(v=(t+r)/2,p==="auto"&&(p="center")),s.indexOf("top")!==-1?y=Math.min(e,n):s.indexOf("bottom")!==-1?y=Math.max(e,n):y=(e+n)/2,x=c,m==="bottom"?y=y-x:m==="top"&&(y=y+x);var M=eWe[m],I=i.label.font.size,L=o.height,O=(L*M-I)*f,H=-(L*M-I)*h;return{textx:v+O,texty:y+H,xanchor:p}}});var E3=J((Vbt,gfe)=>{"use strict";var nWe=Qe(),iWe=nWe.strTranslate,ufe=Bc(),hfe=Sb(),aWe=hfe.drawMode,pfe=hfe.selectMode,mfe=Xt(),dfe=gr(),k3=y3(),oWe=k3.i000,sWe=k3.i090,lWe=k3.i180,cWe=k3.i270,uWe=lp(),vfe=uWe.clearOutlineControllers,KH=vp(),C3=KH.pointsOnRectangle,XH=KH.pointsOnEllipse,dWe=KH.writePaths,fWe=S3().newShapes,hWe=S3().createShapeObj,pWe=YH(),mWe=$H();gfe.exports=function t(e,r,n,i){i||(i=0);var a=n.gd;function o(){t(e,r,n,i++),(XH(e[0])||n.hasText)&&s({redrawing:!0})}function s(U){var B={};n.isActiveShape!==void 0&&(n.isActiveShape=!1,B=fWe(r,n)),n.isActiveSelection!==void 0&&(n.isActiveSelection=!1,B=pWe(r,n),a._fullLayout._reselect=!0),Object.keys(B).length&&mfe.call((U||{}).redrawing?"relayout":"_guiRelayout",a,B)}var l=a._fullLayout,c=l._zoomlayer,u=n.dragmode,d=aWe(u),f=pfe(u);(d||f)&&(a._fullLayout._outlining=!0),vfe(a),r.attr("d",dWe(e));var h,p,m,v,y;if(!i&&(n.isActiveShape||n.isActiveSelection)){y=vWe([],e);var b=c.append("g").attr("class","outline-controllers");I(b),N()}if(d&&n.hasText){var x=c.select(".label-temp"),w=hWe(r,n,n.dragmode);mWe(a,"label-temp",w,x)}function S(U){m=+U.srcElement.getAttribute("data-i"),v=+U.srcElement.getAttribute("data-j"),h[m][v].moveFn=_}function _(U,B){if(e.length){var $=y[m][v][1],ee=y[m][v][2],te=e[m],he=te.length;if(C3(te)){var we=U,Te=B;if(n.isActiveSelection){var ce=ffe(te,v);ce[1]===te[v][1]?Te=0:we=0}for(var q=0;q<he;q++)if(q!==v){var X=te[q];X[1]===te[v][1]&&(X[1]=$+we),X[2]===te[v][2]&&(X[2]=ee+Te)}if(te[v][1]=$+we,te[v][2]=ee+Te,!C3(te))for(var G=0;G<he;G++)for(var de=0;de<te[G].length;de++)te[G][de]=y[m][G][de]}else te[v][1]=$+U,te[v][2]=ee+B;o()}}function C(){s()}function E(){if(e.length&&e[m]&&e[m].length){for(var U=[],B=0;B<e[m].length;B++)B!==v&&U.push(e[m][B]);U.length>1&&!(U.length===2&&U[1][0]==="Z")&&(v===0&&(U[0][0]="M"),e[m]=U,o(),s())}}function M(U,B){if(U===2){m=+B.srcElement.getAttribute("data-i"),v=+B.srcElement.getAttribute("data-j");var $=e[m];!C3($)&&!XH($)&&E()}}function I(U){h=[];for(var B=0;B<e.length;B++){var $=e[B],ee=C3($),te=!ee&&XH($);h[B]=[];for(var he=$.length,we=0;we<he;we++)if($[we][0]!=="Z"&&!(te&&we!==oWe&&we!==sWe&&we!==lWe&&we!==cWe)){var Te=ee&&n.isActiveSelection,ce;Te&&(ce=ffe($,we));var q=$[we][1],X=$[we][2],G=U.append(Te?"rect":"circle").attr("data-i",B).attr("data-j",we).style({fill:dfe.background,stroke:dfe.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(Te){var de=ce[1]-q,ue=ce[2]-X,fe=ue?5:Math.max(Math.min(25,Math.abs(de)-5),5),_e=de?5:Math.max(Math.min(25,Math.abs(ue)-5),5);G.classed(ue?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",fe).attr("height",_e).attr("x",q-fe/2).attr("y",X-_e/2).attr("transform",iWe(de/2,ue/2))}else G.classed("cursor-grab",!0).attr("r",5).attr("cx",q).attr("cy",X);h[B][we]={element:G.node(),gd:a,prepFn:S,doneFn:C,clickFn:M},ufe.init(h[B][we])}}}function L(U,B){if(e.length)for(var $=0;$<e.length;$++)for(var ee=0;ee<e[$].length;ee++)for(var te=0;te+2<e[$][ee].length;te+=2)e[$][ee][te+1]=y[$][ee][te+1]+U,e[$][ee][te+2]=y[$][ee][te+2]+B}function O(U,B){L(U,B),o()}function H(U){m=+U.srcElement.getAttribute("data-i"),m||(m=0),p[m].moveFn=O}function Y(){s()}function K(U){U===2&&gWe(a)}function N(){if(p=[],!!e.length){var U=0;p[U]={element:r[0][0],gd:a,prepFn:H,doneFn:Y,clickFn:K},ufe.init(p[U])}}};function vWe(t,e){for(var r=0;r<e.length;r++){var n=e[r];t[r]=[];for(var i=0;i<n.length;i++){t[r][i]=[];for(var a=0;a<n[i].length;a++)t[r][i][a]=n[i][a]}}return t}function ffe(t,e){var r=t[e][1],n=t[e][2],i=t.length,a,o,s;return a=(e+1)%i,o=t[a][1],s=t[a][2],o===r&&s===n&&(a=(e+2)%i,o=t[a][1],s=t[a][2]),[a,o,s]}function gWe(t){if(pfe(t._fullLayout.dragmode)){vfe(t);var e=t._fullLayout._activeSelectionIndex,r=(t.layout||{}).selections||[];if(e<r.length){for(var n=[],i=0;i<r.length;i++)i!==e&&n.push(r[i]);delete t._fullLayout._activeSelectionIndex;var a=t._fullLayout.selections[e];t._fullLayout._deselect={xref:a.xref,yref:a.yref},mfe.call("_guiRelayout",t,{selections:n})}}}});var R3=J((Wbt,Efe)=>{"use strict";var yWe=Sr(),Sfe=Xt(),yfe=Qe(),Eb=gn(),bWe=vp().readPaths,wWe=E3(),A3=$H(),_fe=lp().clearOutlineControllers,QH=gr(),e9=Kr(),xWe=On().arrayEditor,bfe=Bc(),wfe=bf(),Bv=YS(),ys=yp(),JH=ys.getPathString;Efe.exports={draw:t9,drawOne:Cfe,eraseActiveShape:_We,drawLabel:A3};function t9(t){var e=t._fullLayout;e._shapeUpperLayer.selectAll("path").remove(),e._shapeLowerLayer.selectAll("path").remove(),e._shapeUpperLayer.selectAll("text").remove(),e._shapeLowerLayer.selectAll("text").remove();for(var r in e._plots){var n=e._plots[r].shapelayer;n&&(n.selectAll("path").remove(),n.selectAll("text").remove())}for(var i=0;i<e.shapes.length;i++)e.shapes[i].visible===!0&&Cfe(t,i)}function D3(t){return!!t._fullLayout._outlining}function M3(t){return!t._context.edits.shapePosition}function Cfe(t,e){t._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+e+'"]').remove();var r=ys.makeShapesOptionsAndPlotinfo(t,e),n=r.options,i=r.plotinfo;if(!n._input||n.visible!==!0)return;if(n.layer==="above")o(t._fullLayout._shapeUpperLayer);else if(n.xref==="paper"||n.yref==="paper")o(t._fullLayout._shapeLowerLayer);else if(n.layer==="between")o(i.shapelayerBetween);else if(i._hadPlotinfo){var a=i.mainplotinfo||i;o(a.shapelayer)}else o(t._fullLayout._shapeLowerLayer);function o(s){var l=JH(t,n),c={"data-index":e,"fill-rule":n.fillrule,d:l},u=n.opacity,d=n.fillcolor,f=n.line.width?n.line.color:"rgba(0,0,0,0)",h=n.line.width,p=n.line.dash;!h&&n.editable===!0&&(h=5,p="solid");var m=l[l.length-1]!=="Z",v=M3(t)&&n.editable&&t._fullLayout._activeShapeIndex===e;v&&(d=m?"rgba(0,0,0,0)":t._fullLayout.activeshape.fillcolor,u=t._fullLayout.activeshape.opacity);var y=s.append("g").classed("shape-group",!0).attr({"data-index":e}),b=y.append("path").attr(c).style("opacity",u).call(QH.stroke,f).call(QH.fill,d).call(e9.dashLine,p,h);kfe(y,t,n),A3(t,e,n,y);var x;if((v||t._context.edits.shapePosition)&&(x=xWe(t.layout,"shapes",n)),v){b.style({cursor:"move"});var w={element:b.node(),plotinfo:i,gd:t,editHelpers:x,hasText:n.label.text||n.label.texttemplate,isActiveShape:!0},S=bWe(l,t);wWe(S,b,w)}else t._context.edits.shapePosition?TWe(t,b,n,e,s,x):n.editable===!0&&b.style("pointer-events",m||QH.opacity(d)*u<=.5?"stroke":"all");b.node().addEventListener("click",function(){return SWe(t,b)})}}function kfe(t,e,r){var n=(r.xref+r.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");e9.setClipUrl(t,n?"clip"+e._fullLayout._uid+n:null,e)}function TWe(t,e,r,n,i,a){var o=10,s=10,l=r.xsizemode==="pixel",c=r.ysizemode==="pixel",u=r.type==="line",d=r.type==="path",f=a.modifyItem,h,p,m,v,y,b,x,w,S,_,C,E,M,I,L,O=yWe.select(e.node().parentNode),H=Eb.getFromId(t,r.xref),Y=Eb.getRefType(r.xref),K=Eb.getFromId(t,r.yref),N=Eb.getRefType(r.yref),U=r.x0shift,B=r.x1shift,$=r.y0shift,ee=r.y1shift,te=function($e,Xe){var Je=ys.getDataToPixel(t,H,Xe,!1,Y);return Je($e)},he=function($e,Xe){var Je=ys.getDataToPixel(t,K,Xe,!0,N);return Je($e)},we=ys.getPixelToData(t,H,!1,Y),Te=ys.getPixelToData(t,K,!0,N),ce=G(),q={element:ce.node(),gd:t,prepFn:fe,doneFn:_e,clickFn:Oe},X;bfe.init(q),ce.node().onmousemove=ue;function G(){return u?de():e}function de(){var $e=10,Xe=Math.max(r.line.width,$e),Je=i.append("g").attr("data-index",n).attr("drag-helper",!0);Je.append("path").attr("d",e.attr("d")).style({cursor:"move","stroke-width":Xe,"stroke-opacity":"0"});var nt={"fill-opacity":"0"},Ke=Math.max(Xe/2,$e);return Je.append("circle").attr({"data-line-point":"start-point",cx:l?te(r.xanchor)+r.x0:te(r.x0,U),cy:c?he(r.yanchor)-r.y0:he(r.y0,$),r:Ke}).style(nt).classed("cursor-grab",!0),Je.append("circle").attr({"data-line-point":"end-point",cx:l?te(r.xanchor)+r.x1:te(r.x1,B),cy:c?he(r.yanchor)-r.y1:he(r.y1,ee),r:Ke}).style(nt).classed("cursor-grab",!0),Je}function ue($e){if(D3(t)){X=null;return}if(u)$e.target.tagName==="path"?X="move":X=$e.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Xe=q.element.getBoundingClientRect(),Je=Xe.right-Xe.left,nt=Xe.bottom-Xe.top,Ke=$e.clientX-Xe.left,Ae=$e.clientY-Xe.top,it=!d&&Je>o&&nt>s&&!$e.shiftKey?bfe.getCursor(Ke/Je,1-Ae/nt):"move";wfe(e,it),X=it.split("-")[0]}}function fe($e){D3(t)||(l&&(y=te(r.xanchor)),c&&(b=he(r.yanchor)),r.type==="path"?L=r.path:(h=l?r.x0:te(r.x0),p=c?r.y0:he(r.y0),m=l?r.x1:te(r.x1),v=c?r.y1:he(r.y1)),h<m?(S=h,M="x0",_=m,I="x1"):(S=m,M="x1",_=h,I="x0"),!c&&p<v||c&&p>v?(x=p,C="y0",w=v,E="y1"):(x=v,C="y1",w=p,E="y0"),ue($e),qe(i,r),ot(e,r,t),q.moveFn=X==="move"?Ce:je,q.altKey=$e.altKey)}function _e(){D3(t)||(wfe(e),Ve(i),kfe(e,t,r),Sfe.call("_guiRelayout",t,a.getUpdateObj()))}function Oe(){D3(t)||Ve(i)}function Ce($e,Xe){if(r.type==="path"){var Je=function(Ae){return Ae},nt=Je,Ke=Je;l?f("xanchor",r.xanchor=we(y+$e)):(nt=function(it){return we(te(it)+$e)},H&&H.type==="date"&&(nt=ys.encodeDate(nt))),c?f("yanchor",r.yanchor=Te(b+Xe)):(Ke=function(it){return Te(he(it)+Xe)},K&&K.type==="date"&&(Ke=ys.encodeDate(Ke))),f("path",r.path=xfe(L,nt,Ke))}else l?f("xanchor",r.xanchor=we(y+$e)):(f("x0",r.x0=we(h+$e)),f("x1",r.x1=we(m+$e))),c?f("yanchor",r.yanchor=Te(b+Xe)):(f("y0",r.y0=Te(p+Xe)),f("y1",r.y1=Te(v+Xe)));e.attr("d",JH(t,r)),qe(i,r),A3(t,n,r,O)}function je($e,Xe){if(d){var Je=function(st){return st},nt=Je,Ke=Je;l?f("xanchor",r.xanchor=we(y+$e)):(nt=function(mt){return we(te(mt)+$e)},H&&H.type==="date"&&(nt=ys.encodeDate(nt))),c?f("yanchor",r.yanchor=Te(b+Xe)):(Ke=function(mt){return Te(he(mt)+Xe)},K&&K.type==="date"&&(Ke=ys.encodeDate(Ke))),f("path",r.path=xfe(L,nt,Ke))}else if(u){if(X==="resize-over-start-point"){var Ae=h+$e,it=c?p-Xe:p+Xe;f("x0",r.x0=l?Ae:we(Ae)),f("y0",r.y0=c?it:Te(it))}else if(X==="resize-over-end-point"){var at=m+$e,ge=c?v-Xe:v+Xe;f("x1",r.x1=l?at:we(at)),f("y1",r.y1=c?ge:Te(ge))}}else{var Ne=function(st){return X.indexOf(st)!==-1},Le=Ne("n"),St=Ne("s"),ht=Ne("w"),He=Ne("e"),Ue=Le?x+Xe:x,ct=St?w+Xe:w,rt=ht?S+$e:S,lt=He?_+$e:_;c&&(Le&&(Ue=x-Xe),St&&(ct=w-Xe)),(!c&&ct-Ue>s||c&&Ue-ct>s)&&(f(C,r[C]=c?Ue:Te(Ue)),f(E,r[E]=c?ct:Te(ct))),lt-rt>o&&(f(M,r[M]=l?rt:we(rt)),f(I,r[I]=l?lt:we(lt)))}e.attr("d",JH(t,r)),qe(i,r),A3(t,n,r,O)}function qe($e,Xe){(l||c)&&Je();function Je(){var nt=Xe.type!=="path",Ke=$e.selectAll(".visual-cue").data([0]),Ae=1;Ke.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Ae}).classed("visual-cue",!0);var it=te(l?Xe.xanchor:yfe.midRange(nt?[Xe.x0,Xe.x1]:ys.extractPathCoords(Xe.path,Bv.paramIsX))),at=he(c?Xe.yanchor:yfe.midRange(nt?[Xe.y0,Xe.y1]:ys.extractPathCoords(Xe.path,Bv.paramIsY)));if(it=ys.roundPositionForSharpStrokeRendering(it,Ae),at=ys.roundPositionForSharpStrokeRendering(at,Ae),l&&c){var ge="M"+(it-1-Ae)+","+(at-1-Ae)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Ke.attr("d",ge)}else if(l){var Ne="M"+(it-1-Ae)+","+(at-9-Ae)+"v18 h2 v-18 Z";Ke.attr("d",Ne)}else{var Le="M"+(it-9-Ae)+","+(at-1-Ae)+"h18 v2 h-18 Z";Ke.attr("d",Le)}}}function Ve($e){$e.selectAll(".visual-cue").remove()}function ot($e,Xe,Je){var nt=Xe.xref,Ke=Xe.yref,Ae=Eb.getFromId(Je,nt),it=Eb.getFromId(Je,Ke),at="";nt!=="paper"&&!Ae.autorange&&(at+=nt),Ke!=="paper"&&!it.autorange&&(at+=Ke),e9.setClipUrl($e,at?"clip"+Je._fullLayout._uid+at:null,Je)}}function xfe(t,e,r){return t.replace(Bv.segmentRE,function(n){var i=0,a=n.charAt(0),o=Bv.paramIsX[a],s=Bv.paramIsY[a],l=Bv.numParams[a],c=n.substr(1).replace(Bv.paramRE,function(u){return i>=l||(o[i]?u=e(u):s[i]&&(u=r(u)),i++),u});return a+c})}function SWe(t,e){if(M3(t)){var r=e.node(),n=+r.getAttribute("data-index");if(n>=0){if(n===t._fullLayout._activeShapeIndex){Tfe(t);return}t._fullLayout._activeShapeIndex=n,t._fullLayout._deactivateShape=Tfe,t9(t)}}}function Tfe(t){if(M3(t)){var e=t._fullLayout._activeShapeIndex;e>=0&&(_fe(t),delete t._fullLayout._activeShapeIndex,t9(t))}}function _We(t){if(M3(t)){_fe(t);var e=t._fullLayout._activeShapeIndex,r=(t.layout||{}).shapes||[];if(e<r.length){for(var n=[],i=0;i<r.length;i++)i!==e&&n.push(r[i]);return delete t._fullLayout._activeShapeIndex,Sfe.call("_guiRelayout",t,{shapes:n})}}}});var i9=J((Gbt,Pfe)=>{"use strict";var $l=Xt(),Dfe=ki(),Afe=Wi(),zr=v3(),CWe=R3().eraseActiveShape,I3=Qe(),Rr=I3._,Fr=Pfe.exports={};Fr.toImage={name:"toImage",title:function(t){var e=t._context.toImageButtonOptions||{},r=e.format||"png";return r==="png"?Rr(t,"Download plot as a png"):Rr(t,"Download plot")},icon:zr.camera,click:function(t){var e=t._context.toImageButtonOptions,r={format:e.format||"png"};I3.notifier(Rr(t,"Taking snapshot - this may take a few seconds"),"long"),["filename","width","height","scale"].forEach(function(n){n in e&&(r[n]=e[n])}),$l.call("downloadImage",t,r).then(function(n){I3.notifier(Rr(t,"Snapshot succeeded")+" - "+n,"long")}).catch(function(){I3.notifier(Rr(t,"Sorry, there was a problem downloading your snapshot!"),"long")})}};Fr.sendDataToCloud={name:"sendDataToCloud",title:function(t){return Rr(t,"Edit in Chart Studio")},icon:zr.disk,click:function(t){Dfe.sendDataToCloud(t)}};Fr.editInChartStudio={name:"editInChartStudio",title:function(t){return Rr(t,"Edit in Chart Studio")},icon:zr.pencil,click:function(t){Dfe.sendDataToCloud(t)}};Fr.zoom2d={name:"zoom2d",_cat:"zoom",title:function(t){return Rr(t,"Zoom")},attr:"dragmode",val:"zoom",icon:zr.zoombox,click:Ao};Fr.pan2d={name:"pan2d",_cat:"pan",title:function(t){return Rr(t,"Pan")},attr:"dragmode",val:"pan",icon:zr.pan,click:Ao};Fr.select2d={name:"select2d",_cat:"select",title:function(t){return Rr(t,"Box Select")},attr:"dragmode",val:"select",icon:zr.selectbox,click:Ao};Fr.lasso2d={name:"lasso2d",_cat:"lasso",title:function(t){return Rr(t,"Lasso Select")},attr:"dragmode",val:"lasso",icon:zr.lasso,click:Ao};Fr.drawclosedpath={name:"drawclosedpath",title:function(t){return Rr(t,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:zr.drawclosedpath,click:Ao};Fr.drawopenpath={name:"drawopenpath",title:function(t){return Rr(t,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:zr.drawopenpath,click:Ao};Fr.drawline={name:"drawline",title:function(t){return Rr(t,"Draw line")},attr:"dragmode",val:"drawline",icon:zr.drawline,click:Ao};Fr.drawrect={name:"drawrect",title:function(t){return Rr(t,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:zr.drawrect,click:Ao};Fr.drawcircle={name:"drawcircle",title:function(t){return Rr(t,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:zr.drawcircle,click:Ao};Fr.eraseshape={name:"eraseshape",title:function(t){return Rr(t,"Erase active shape")},icon:zr.eraseshape,click:CWe};Fr.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(t){return Rr(t,"Zoom in")},attr:"zoom",val:"in",icon:zr.zoom_plus,click:Ao};Fr.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(t){return Rr(t,"Zoom out")},attr:"zoom",val:"out",icon:zr.zoom_minus,click:Ao};Fr.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(t){return Rr(t,"Autoscale")},attr:"zoom",val:"auto",icon:zr.autoscale,click:Ao};Fr.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(t){return Rr(t,"Reset axes")},attr:"zoom",val:"reset",icon:zr.home,click:Ao};Fr.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(t){return Rr(t,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:zr.tooltip_basic,gravity:"ne",click:Ao};Fr.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(t){return Rr(t,"Compare data on hover")},attr:"hovermode",val:function(t){return t._fullLayout._isHoriz?"y":"x"},icon:zr.tooltip_compare,gravity:"ne",click:Ao};function Ao(t,e){var r=e.currentTarget,n=r.getAttribute("data-attr"),i=r.getAttribute("data-val")||!0,a=t._fullLayout,o={},s=Afe.list(t,null,!0),l=a._cartesianSpikesEnabled,c,u;if(n==="zoom"){var d=i==="in"?.5:2,f=(1+d)/2,h=(1-d)/2,p;for(u=0;u<s.length;u++)if(c=s[u],!c.fixedrange)if(p=c._name,i==="auto")o[p+".autorange"]=!0;else if(i==="reset")c._rangeInitial0===void 0&&c._rangeInitial1===void 0?o[p+".autorange"]=!0:c._rangeInitial0===void 0?(o[p+".autorange"]=c._autorangeInitial,o[p+".range"]=[null,c._rangeInitial1]):c._rangeInitial1===void 0?(o[p+".range"]=[c._rangeInitial0,null],o[p+".autorange"]=c._autorangeInitial):o[p+".range"]=[c._rangeInitial0,c._rangeInitial1],c._showSpikeInitial!==void 0&&(o[p+".showspikes"]=c._showSpikeInitial,l==="on"&&!c._showSpikeInitial&&(l="off"));else{var m=[c.r2l(c.range[0]),c.r2l(c.range[1])],v=[f*m[0]+h*m[1],f*m[1]+h*m[0]];o[p+".range[0]"]=c.l2r(v[0]),o[p+".range[1]"]=c.l2r(v[1])}}else n==="hovermode"&&(i==="x"||i==="y")&&(i=a._isHoriz?"y":"x",r.setAttribute("data-val",i)),o[n]=i;a._cartesianSpikesEnabled=l,$l.call("_guiRelayout",t,o)}Fr.zoom3d={name:"zoom3d",_cat:"zoom",title:function(t){return Rr(t,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:zr.zoombox,click:N3};Fr.pan3d={name:"pan3d",_cat:"pan",title:function(t){return Rr(t,"Pan")},attr:"scene.dragmode",val:"pan",icon:zr.pan,click:N3};Fr.orbitRotation={name:"orbitRotation",title:function(t){return Rr(t,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:zr["3d_rotate"],click:N3};Fr.tableRotation={name:"tableRotation",title:function(t){return Rr(t,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:zr["z-axis"],click:N3};function N3(t,e){for(var r=e.currentTarget,n=r.getAttribute("data-attr"),i=r.getAttribute("data-val")||!0,a=t._fullLayout._subplots.gl3d||[],o={},s=n.split("."),l=0;l<a.length;l++)o[a[l]+"."+s[1]]=i;var c=i==="pan"?i:"zoom";o.dragmode=c,$l.call("_guiRelayout",t,o)}Fr.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(t){return Rr(t,"Reset camera to default")},attr:"resetDefault",icon:zr.home,click:r9};Fr.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(t){return Rr(t,"Reset camera to last save")},attr:"resetLastSave",icon:zr.movie,click:r9};function r9(t,e){for(var r=e.currentTarget,n=r.getAttribute("data-attr"),i=n==="resetLastSave",a=n==="resetDefault",o=t._fullLayout,s=o._subplots.gl3d||[],l={},c=0;c<s.length;c++){var u=s[c],d=u+".camera",f=u+".aspectratio",h=u+".aspectmode",p=o[u]._scene,m;i?(l[d+".up"]=p.viewInitial.up,l[d+".eye"]=p.viewInitial.eye,l[d+".center"]=p.viewInitial.center,m=!0):a&&(l[d+".up"]=null,l[d+".eye"]=null,l[d+".center"]=null,m=!0),m&&(l[f+".x"]=p.viewInitial.aspectratio.x,l[f+".y"]=p.viewInitial.aspectratio.y,l[f+".z"]=p.viewInitial.aspectratio.z,l[h]=p.viewInitial.aspectmode)}$l.call("_guiRelayout",t,l)}Fr.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(t){return Rr(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:zr.tooltip_basic,gravity:"ne",click:kWe};function Mfe(t,e){var r=e.currentTarget,n=r._previousVal,i=t._fullLayout,a=i._subplots.gl3d||[],o=["xaxis","yaxis","zaxis"],s={},l={};if(n)l=n,r._previousVal=null;else{for(var c=0;c<a.length;c++){var u=a[c],d=i[u],f=u+".hovermode";s[f]=d.hovermode,l[f]=!1;for(var h=0;h<3;h++){var p=o[h],m=u+"."+p+".showspikes";l[m]=!1,s[m]=d[p].showspikes}}r._previousVal=s}return l}function kWe(t,e){var r=Mfe(t,e);$l.call("_guiRelayout",t,r)}Fr.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(t){return Rr(t,"Zoom in")},attr:"zoom",val:"in",icon:zr.zoom_plus,click:n9};Fr.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(t){return Rr(t,"Zoom out")},attr:"zoom",val:"out",icon:zr.zoom_minus,click:n9};Fr.resetGeo={name:"resetGeo",_cat:"reset",title:function(t){return Rr(t,"Reset")},attr:"reset",val:null,icon:zr.autoscale,click:n9};Fr.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(t){return Rr(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:zr.tooltip_basic,gravity:"ne",click:Ife};function n9(t,e){for(var r=e.currentTarget,n=r.getAttribute("data-attr"),i=r.getAttribute("data-val")||!0,a=t._fullLayout,o=a._subplots.geo||[],s=0;s<o.length;s++){var l=o[s],c=a[l];if(n==="zoom"){var u=c.projection.scale,d=i==="in"?2*u:.5*u;$l.call("_guiRelayout",t,l+".projection.scale",d)}}n==="reset"&&Db(t,"geo")}Fr.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(t){return Rr(t,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:zr.tooltip_basic,gravity:"ne",click:Ife};function Rfe(t){var e=t._fullLayout;return e.hovermode?!1:e._has("cartesian")?e._isHoriz?"y":"x":"closest"}function Ife(t){var e=Rfe(t);$l.call("_guiRelayout",t,"hovermode",e)}Fr.resetViewSankey={name:"resetSankeyGroup",title:function(t){return Rr(t,"Reset view")},icon:zr.home,click:function(t){for(var e={"node.groups":[],"node.x":[],"node.y":[]},r=0;r<t._fullData.length;r++){var n=t._fullData[r]._viewInitial;e["node.groups"].push(n.node.groups.slice()),e["node.x"].push(n.node.x.slice()),e["node.y"].push(n.node.y.slice())}$l.call("restyle",t,e)}};Fr.toggleHover={name:"toggleHover",title:function(t){return Rr(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:zr.tooltip_basic,gravity:"ne",click:function(t,e){var r=Mfe(t,e);r.hovermode=Rfe(t),$l.call("_guiRelayout",t,r)}};Fr.resetViews={name:"resetViews",title:function(t){return Rr(t,"Reset views")},icon:zr.home,click:function(t,e){var r=e.currentTarget;r.setAttribute("data-attr","zoom"),r.setAttribute("data-val","reset"),Ao(t,e),r.setAttribute("data-attr","resetLastSave"),r9(t,e),Db(t,"geo"),Db(t,"mapbox"),Db(t,"map")}};Fr.toggleSpikelines={name:"toggleSpikelines",title:function(t){return Rr(t,"Toggle Spike Lines")},icon:zr.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(t){var e=t._fullLayout,r=e._cartesianSpikesEnabled;e._cartesianSpikesEnabled=r==="on"?"off":"on",$l.call("_guiRelayout",t,EWe(t))}};function EWe(t){for(var e=t._fullLayout,r=e._cartesianSpikesEnabled==="on",n=Afe.list(t,null,!0),i={},a=0;a<n.length;a++){var o=n[a];i[o._name+".showspikes"]=r?!0:o._showSpikeInitial}return i}Fr.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(t){return Rr(t,"Reset view")},attr:"reset",icon:zr.home,click:function(t){Db(t,"mapbox")}};Fr.resetViewMap={name:"resetViewMap",_cat:"resetView",title:function(t){return Rr(t,"Reset view")},attr:"reset",icon:zr.home,click:function(t){Db(t,"map")}};Fr.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(t){return Rr(t,"Zoom in")},attr:"zoom",val:"in",icon:zr.zoom_plus,click:Nfe};Fr.zoomInMap={name:"zoomInMap",_cat:"zoomin",title:function(t){return Rr(t,"Zoom in")},attr:"zoom",val:"in",icon:zr.zoom_plus,click:Lfe};Fr.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(t){return Rr(t,"Zoom out")},attr:"zoom",val:"out",icon:zr.zoom_minus,click:Nfe};Fr.zoomOutMap={name:"zoomOutMap",_cat:"zoomout",title:function(t){return Rr(t,"Zoom out")},attr:"zoom",val:"out",icon:zr.zoom_minus,click:Lfe};function Nfe(t,e){Ofe(t,e,"mapbox")}function Lfe(t,e){Ofe(t,e,"map")}function Ofe(t,e,r){for(var n=e.currentTarget,i=n.getAttribute("data-val"),a=t._fullLayout,o=a._subplots[r]||[],s=1.05,l={},c=0;c<o.length;c++){var u=o[c],d=a[u].zoom,f=i==="in"?s*d:d/s;l[u+".zoom"]=f}$l.call("_guiRelayout",t,l)}function Db(t,e){for(var r=t._fullLayout,n=r._subplots[e]||[],i={},a=0;a<n.length;a++)for(var o=n[a],s=r[o]._subplot,l=s.viewInitial,c=Object.keys(l),u=0;u<c.length;u++){var d=c[u];i[o+"."+d]=l[d]}$l.call("_guiRelayout",t,i)}});var a9=J((Ybt,qfe)=>{"use strict";var zfe=i9(),DWe=Object.keys(zfe),Ffe=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],Hfe=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(Ffe),Ab=[],AWe=function(t){if(Hfe.indexOf(t._cat||t.name)===-1){var e=t.name,r=(t._cat||t.name).toLowerCase();Ab.indexOf(e)===-1&&Ab.push(e),Ab.indexOf(r)===-1&&Ab.push(r)}};DWe.forEach(function(t){AWe(zfe[t])});Ab.sort();qfe.exports={DRAW_MODES:Ffe,backButtons:Hfe,foreButtons:Ab}});var o9=J((Zbt,Bfe)=>{"use strict";var Ufe=a9();Bfe.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar",description:"Sets the orientation of the modebar."},bgcolor:{valType:"color",editType:"modebar",description:"Sets the background color of the modebar."},color:{valType:"color",editType:"modebar",description:"Sets the color of the icons in the modebar."},activecolor:{valType:"color",editType:"modebar",description:"Sets the color of the active or hovered on icons in the modebar."},uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes related to the modebar,","including `hovermode`, `dragmode`, and `showspikes` at both the","root level and inside subplots. Defaults to `layout.uirevision`."].join(" ")},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar",description:["Determines which predefined modebar buttons to add.","Please note that these buttons will only be shown if they are","compatible with all trace types used in a graph.","Similar to `config.modeBarButtonsToAdd` option.","This may include *"+Ufe.backButtons.join("*, *")+"*."].join(" ")},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar",description:["Determines which predefined modebar buttons to remove.","Similar to `config.modeBarButtonsToRemove` option.","This may include *"+Ufe.foreButtons.join("*, *")+"*."].join(" ")}}});var Vfe=J(($bt,jfe)=>{"use strict";var MWe=Qe(),$S=gr(),RWe=On(),IWe=o9();jfe.exports=function(e,r){var n=e.modebar||{},i=RWe.newContainer(r,"modebar");function a(s,l){return MWe.coerce(n,i,IWe,s,l)}a("orientation"),a("bgcolor",$S.addOpacity(r.paper_bgcolor,.5));var o=$S.contrast($S.rgb(r.modebar.bgcolor));a("color",$S.addOpacity(o,.3)),a("activecolor",$S.addOpacity(o,.7)),a("uirevision",r.uirevision),a("add"),a("remove")}});var Zfe=J((Xbt,Yfe)=>{"use strict";var s9=Sr(),NWe=_r(),L3=Qe(),Wfe=v3(),LWe=EA().version,OWe=new DOMParser;function Gfe(t){this.container=t.container,this.element=document.createElement("div"),this.update(t.graphInfo,t.buttons),this.container.appendChild(this.element)}var Yu=Gfe.prototype;Yu.update=function(t,e){this.graphInfo=t;var r=this.graphInfo._context,n=this.graphInfo._fullLayout,i="modebar-"+n._uid;this.element.setAttribute("id",i),this._uid=i,this.element.className="modebar",r.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),n.modebar.orientation==="v"&&(this.element.className+=" vertical",e=e.reverse());var a=n.modebar,o="#"+i+" .modebar-group";document.querySelectorAll(o).forEach(function(d){d.style.backgroundColor=a.bgcolor});var s=!this.hasButtons(e),l=this.hasLogo!==r.displaylogo,c=this.locale!==r.locale;if(this.locale=r.locale,(s||l||c)&&(this.removeAllButtons(),this.updateButtons(e),r.watermark||r.displaylogo)){var u=this.getLogo();r.watermark&&(u.className=u.className+" watermark"),n.modebar.orientation==="v"?this.element.insertBefore(u,this.element.childNodes[0]):this.element.appendChild(u),this.hasLogo=!0}this.updateActiveButton(),L3.setStyleOnHover("#"+i+" .modebar-btn",".active",".icon path","fill: "+a.activecolor,"fill: "+a.color,this.element)};Yu.updateButtons=function(t){var e=this;this.buttons=t,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(r){var n=e.createGroup();r.forEach(function(i){var a=i.name;if(!a)throw new Error("must provide button 'name' in button config");if(e.buttonsNames.indexOf(a)!==-1)throw new Error("button name '"+a+"' is taken");e.buttonsNames.push(a);var o=e.createButton(i);e.buttonElements.push(o),n.appendChild(o)}),e.element.appendChild(n)})};Yu.createGroup=function(){var t=document.createElement("div");t.className="modebar-group";var e=this.graphInfo._fullLayout.modebar;return t.style.backgroundColor=e.bgcolor,t};Yu.createButton=function(t){var e=this,r=document.createElement("a");r.setAttribute("rel","tooltip"),r.className="modebar-btn";var n=t.title;n===void 0?n=t.name:typeof n=="function"&&(n=n(this.graphInfo)),(n||n===0)&&r.setAttribute("data-title",n),t.attr!==void 0&&r.setAttribute("data-attr",t.attr);var i=t.val;i!==void 0&&(typeof i=="function"&&(i=i(this.graphInfo)),r.setAttribute("data-val",i));var a=t.click;if(typeof a!="function")throw new Error("must provide button 'click' function in button config");r.addEventListener("click",function(s){t.click(e.graphInfo,s),e.updateActiveButton(s.currentTarget)}),r.setAttribute("data-toggle",t.toggle||!1),t.toggle&&s9.select(r).classed("active",!0);var o=t.icon;return typeof o=="function"?r.appendChild(o()):r.appendChild(this.createIcon(o||Wfe.question)),r.setAttribute("data-gravity",t.gravity||"n"),r};Yu.createIcon=function(t){var e=NWe(t.height)?Number(t.height):t.ascent-t.descent,r="http://www.w3.org/2000/svg",n;if(t.path){n=document.createElementNS(r,"svg"),n.setAttribute("viewBox",[0,0,t.width,e].join(" ")),n.setAttribute("class","icon");var i=document.createElementNS(r,"path");i.setAttribute("d",t.path),t.transform?i.setAttribute("transform",t.transform):t.ascent!==void 0&&i.setAttribute("transform","matrix(1 0 0 -1 0 "+t.ascent+")"),n.appendChild(i)}if(t.svg){var a=OWe.parseFromString(t.svg,"application/xml");n=a.childNodes[0]}return n.setAttribute("height","1em"),n.setAttribute("width","1em"),n};Yu.updateActiveButton=function(t){var e=this.graphInfo._fullLayout,r=t!==void 0?t.getAttribute("data-attr"):null;this.buttonElements.forEach(function(n){var i=n.getAttribute("data-val")||!0,a=n.getAttribute("data-attr"),o=n.getAttribute("data-toggle")==="true",s=s9.select(n),l=function(d,f){var h=e.modebar,p=d.querySelector(".icon path");p&&(f||d.matches(":hover")?p.style.fill=h.activecolor:p.style.fill=h.color)};if(o){if(a===r){var c=!s.classed("active");s.classed("active",c),l(n,c)}}else{var u=a===null?a:L3.nestedProperty(e,a).get();s.classed("active",u===i),l(n,u===i)}})};Yu.hasButtons=function(t){var e=this.buttons;if(!e||t.length!==e.length)return!1;for(var r=0;r<t.length;++r){if(t[r].length!==e[r].length)return!1;for(var n=0;n<t[r].length;n++)if(t[r][n].name!==e[r][n].name)return!1}return!0};function PWe(t){return t+" (v"+LWe+")"}Yu.getLogo=function(){var t=this.createGroup(),e=document.createElement("a");return e.href="https://plotly.com/",e.target="_blank",e.setAttribute("data-title",PWe(L3._(this.graphInfo,"Produced with Plotly.js"))),e.className="modebar-btn plotlyjsicon modebar-btn--logo",e.appendChild(this.createIcon(Wfe.newplotlylogo)),t.appendChild(e),t};Yu.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1};Yu.destroy=function(){L3.removeElement(this.container.querySelector(".modebar"))};function zWe(t,e){var r=t._fullLayout,n=new Gfe({graphInfo:t,container:r._modebardiv.node(),buttons:e});return r._privateplot&&s9.select(n.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),n}Yfe.exports=zWe});var Kfe=J((Kbt,Xfe)=>{"use strict";var FWe=Wi(),$fe=Zs(),l9=Xt(),HWe=qc().isUnifiedHover,qWe=Zfe(),O3=i9(),UWe=a9().DRAW_MODES,BWe=Qe().extendDeep;Xfe.exports=function(e){var r=e._fullLayout,n=e._context,i=r._modeBar;if(!n.displayModeBar&&!n.watermark){i&&(i.destroy(),delete r._modeBar);return}if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var a=n.modeBarButtons,o;Array.isArray(a)&&a.length?o=ZWe(a):!n.displayModeBar&&n.watermark?o=[]:o=jWe(e),i?i.update(e,o):r._modeBar=qWe(e,o)};function jWe(t){var e=t._fullLayout,r=t._fullData,n=t._context;function i(B,$){if(typeof $=="string"){if($.toLowerCase()===B.toLowerCase())return!0}else{var ee=$.name,te=$._cat||$.name;if(ee===B||te===B.toLowerCase())return!0}return!1}var a=e.modebar.add;typeof a=="string"&&(a=[a]);var o=e.modebar.remove;typeof o=="string"&&(o=[o]);var s=n.modeBarButtonsToAdd.concat(a.filter(function(B){for(var $=0;$<n.modeBarButtonsToRemove.length;$++)if(i(B,n.modeBarButtonsToRemove[$]))return!1;return!0})),l=n.modeBarButtonsToRemove.concat(o.filter(function(B){for(var $=0;$<n.modeBarButtonsToAdd.length;$++)if(i(B,n.modeBarButtonsToAdd[$]))return!1;return!0})),c=e._has("cartesian"),u=e._has("gl3d"),d=e._has("geo"),f=e._has("pie"),h=e._has("funnelarea"),p=e._has("ternary"),m=e._has("mapbox"),v=e._has("map"),y=e._has("polar"),b=e._has("smith"),x=e._has("sankey"),w=VWe(e),S=HWe(e.hovermode),_=[];function C(B){if(B.length){for(var $=[],ee=0;ee<B.length;ee++){for(var te=B[ee],he=O3[te],we=he.name.toLowerCase(),Te=(he._cat||he.name).toLowerCase(),ce=!1,q=0;q<l.length;q++){var X=l[q].toLowerCase();if(X===we||X===Te){ce=!0;break}}ce||$.push(O3[te])}_.push($)}}var E=["toImage"];n.showEditInChartStudio?E.push("editInChartStudio"):n.showSendToCloud&&E.push("sendDataToCloud"),C(E);var M=[],I=[],L=[],O=[];(c||f||h||p)+d+u+m+v+y+b>1?(I=["toggleHover"],L=["resetViews"]):d?(M=["zoomInGeo","zoomOutGeo"],I=["hoverClosestGeo"],L=["resetGeo"]):u?(I=["hoverClosest3d"],L=["resetCameraDefault3d","resetCameraLastSave3d"]):m?(M=["zoomInMapbox","zoomOutMapbox"],I=["toggleHover"],L=["resetViewMapbox"]):v?(M=["zoomInMap","zoomOutMap"],I=["toggleHover"],L=["resetViewMap"]):f?I=["hoverClosestPie"]:x?(I=["hoverClosestCartesian","hoverCompareCartesian"],L=["resetViewSankey"]):I=["toggleHover"],c&&I.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(GWe(r)||S)&&(I=[]),c&&!w&&(M=["zoomIn2d","zoomOut2d","autoScale2d"],L[0]!=="resetViews"&&(L=["resetScale2d"])),u?O=["zoom3d","pan3d","orbitRotation","tableRotation"]:c&&!w||p?O=["zoom2d","pan2d"]:m||v||d?O=["pan2d"]:y&&(O=["zoom2d"]),WWe(r)&&O.push("select2d","lasso2d");var H=[],Y=function(B){H.indexOf(B)===-1&&I.indexOf(B)!==-1&&H.push(B)};if(Array.isArray(s)){for(var K=[],N=0;N<s.length;N++){var U=s[N];typeof U=="string"?(U=U.toLowerCase(),UWe.indexOf(U)!==-1?(e._has("mapbox")||e._has("map")||e._has("cartesian"))&&O.push(U):U==="togglespikelines"?Y("toggleSpikelines"):U==="togglehover"?Y("toggleHover"):U==="hovercompare"?Y("hoverCompareCartesian"):U==="hoverclosest"?(Y("hoverClosestCartesian"),Y("hoverClosestGeo"),Y("hoverClosest3d"),Y("hoverClosestPie")):U==="v1hovermode"&&(Y("hoverClosestCartesian"),Y("hoverCompareCartesian"),Y("hoverClosestGeo"),Y("hoverClosest3d"),Y("hoverClosestPie"))):K.push(U)}s=K}return C(O),C(M.concat(L)),C(H),YWe(_,s)}function VWe(t){for(var e=FWe.list({_fullLayout:t},null,!0),r=0;r<e.length;r++)if(!e[r].fixedrange)return!1;return!0}function WWe(t){for(var e=!1,r=0;r<t.length&&!e;r++){var n=t[r];!n._module||!n._module.selectPoints||(l9.traceIs(n,"scatter-like")?($fe.hasMarkers(n)||$fe.hasText(n))&&(e=!0):l9.traceIs(n,"box-violin")?(n.boxpoints==="all"||n.points==="all")&&(e=!0):e=!0)}return e}function GWe(t){for(var e=0;e<t.length;e++)if(!l9.traceIs(t[e],"noHover"))return!1;return!0}function YWe(t,e){if(e.length)if(Array.isArray(e[0]))for(var r=0;r<e.length;r++)t.push(e[r]);else t.push(e);return t}function ZWe(t){for(var e=BWe([],t),r=0;r<e.length;r++)for(var n=e[r],i=0;i<n.length;i++){var a=n[i];if(typeof a=="string")if(O3[a]!==void 0)e[r][i]=O3[a];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return e}});var c9=J((Qbt,Qfe)=>{"use strict";Qfe.exports={moduleType:"component",name:"modebar",layoutAttributes:o9(),supplyLayoutDefaults:Vfe(),manage:Kfe()}});var u9=J((Jbt,Jfe)=>{"use strict";var $We=ao().FROM_BL;Jfe.exports=function(e,r,n){n===void 0&&(n=$We[e.constraintoward||"center"]);var i=[e.r2l(e.range[0]),e.r2l(e.range[1])],a=i[0]+(i[1]-i[0])*n;e.range=e._input.range=[e.l2r(a+(i[0]-a)*r),e.l2r(a+(i[1]-a)*r)],e.setScale()}});var KS=J(XS=>{"use strict";var jv=Qe(),d9=PS(),Vc=Wi().id2name,XWe=Fc(),ehe=u9(),KWe=FM(),QWe=ei().ALMOST_EQUAL,JWe=ao().FROM_BL;XS.handleDefaults=function(t,e,r){var n=r.axIds,i=r.axHasImage,a=e._axisConstraintGroups=[],o=e._axisMatchGroups=[],s,l,c,u,d,f,h,p;for(s=0;s<n.length;s++)u=Vc(n[s]),d=t[u],f=e[u],eGe(d,f,{axIds:n,layoutOut:e,hasImage:i[u]});function m(E,M){for(s=0;s<E.length;s++){l=E[s];for(c in l)e[Vc(c)][M]=l}}for(m(o,"_matchGroup"),s=0;s<a.length;s++){l=a[s];for(c in l)if(f=e[Vc(c)],f.fixedrange){for(var v in l){var y=Vc(v);(t[y]||{}).fixedrange===!1&&jv.warn("fixedrange was specified as false for axis "+y+" but was overridden because another axis in its constraint group has fixedrange true"),e[y].fixedrange=!0}break}}for(s=0;s<a.length;){l=a[s];for(c in l){f=e[Vc(c)],f._matchGroup&&Object.keys(f._matchGroup).length===Object.keys(l).length&&(a.splice(s,1),s--);break}s++}m(a,"_constraintGroup");var b=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],x=!1,w=!1;function S(){p=f[h],h==="rangebreaks"&&(w=f._hasDayOfWeekBreaks)}for(s=0;s<o.length;s++){l=o[s];for(var _=0;_<b.length;_++){h=b[_],p=null;var C;for(c in l)if(u=Vc(c),d=t[u],f=e[u],h in f){if(!f.matches&&(C=f,h in d)){S();break}p===null&&h in d&&S()}if(h==="range"&&p&&d.range&&d.range.length===2&&d.range[0]!==null&&d.range[1]!==null&&(x=!0),h==="autorange"&&p===null&&x&&(p=!1),p===null&&h in C&&(p=C[h]),p!==null)for(c in l)f=e[Vc(c)],f[h]=h==="range"?p.slice():p,h==="rangebreaks"&&(f._hasDayOfWeekBreaks=w,KWe(f,e))}}};function eGe(t,e,r){var n=r.axIds,i=r.layoutOut,a=r.hasImage,o=i._axisConstraintGroups,s=i._axisMatchGroups,l=e._id,c=l.charAt(0),u=((i._splomAxes||{})[c]||{})[l]||{},d=e._id,f=d.charAt(0)==="x";e._matchGroup=null,e._constraintGroup=null;function h(O,H){return jv.coerce(t,e,XWe,O,H)}h("constrain",a?"domain":"range"),jv.coerce(t,e,{constraintoward:{valType:"enumerated",values:f?["left","center","right"]:["bottom","middle","top"],dflt:f?"center":"middle"}},"constraintoward");var p=e.type,m,v,y=[];for(m=0;m<n.length;m++)if(v=n[m],v!==d){var b=i[Vc(v)];b.type===p&&y.push(v)}var x=nhe(o,d);if(x){var w=[];for(m=0;m<y.length;m++)v=y[m],x[v]||w.push(v);y=w}var S=y.length,_,C;S&&(t.matches||u.matches)&&(_=jv.coerce(t,e,{matches:{valType:"enumerated",values:y,dflt:y.indexOf(u.matches)!==-1?u.matches:void 0}},"matches"));var E=a&&!f?e.anchor:void 0;if(S&&!_&&(t.scaleanchor||E)&&(C=jv.coerce(t,e,{scaleanchor:{valType:"enumerated",values:y.concat([!1])}},"scaleanchor",E)),_){e._matchGroup=f9(s,d,_,1);var M=i[Vc(_)],I=the(i,e)/the(i,M);f!==(_.charAt(0)==="x")&&(I=(f?"x":"y")+I),f9(o,d,_,I)}else t.matches&&n.indexOf(t.matches)!==-1&&jv.warn("ignored "+e._name+'.matches: "'+t.matches+'" to avoid an infinite loop');if(C){var L=h("scaleratio");L||(L=e.scaleratio=1),f9(o,d,C,L)}else t.scaleanchor&&n.indexOf(t.scaleanchor)!==-1&&jv.warn("ignored "+e._name+'.scaleanchor: "'+t.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function the(t,e){var r=e.domain;return r||(r=t[Vc(e.overlaying)].domain),r[1]-r[0]}function nhe(t,e){for(var r=0;r<t.length;r++)if(t[r][e])return t[r];return null}function f9(t,e,r,n){var i,a,o,s,l,c=nhe(t,e);c===null?(c={},c[e]=1,l=t.length,t.push(c)):l=t.indexOf(c);var u=Object.keys(c);for(i=0;i<t.length;i++)if(o=t[i],i!==l&&o[r]){var d=o[r];for(a=0;a<u.length;a++)s=u[a],o[s]=h9(d,h9(n,c[s]));t.splice(l,1);return}if(n!==1)for(a=0;a<u.length;a++){var f=u[a];c[f]=h9(n,c[f])}c[r]=1}function h9(t,e){var r="",n="",i,a;typeof t=="string"&&(r=t.match(/^[xy]*/)[0],i=r.length,t=+t.substr(i)),typeof e=="string"&&(n=e.match(/^[xy]*/)[0],a=n.length,e=+e.substr(a));var o=t*e;return!i&&!a?o:!i||!a||r.charAt(0)===n.charAt(0)?r+n+t*e:i===a?o:(i>a?r.substr(a):n.substr(i))+o}function tGe(t,e){for(var r=e._size,n=r.h/r.w,i={},a=Object.keys(t),o=0;o<a.length;o++){var s=a[o],l=t[s];if(typeof l=="string"){var c=l.match(/^[xy]*/)[0],u=c.length;l=+l.substr(u);for(var d=c.charAt(0)==="y"?n:1/n,f=0;f<u;f++)l*=d}i[s]=l}return i}XS.enforce=function(e){var r=e._fullLayout,n=r._axisConstraintGroups||[],i,a,o,s,l,c,u,d;for(i=0;i<n.length;i++){o=tGe(n[i],r);var f=Object.keys(o),h=1/0,p=0,m=1/0,v={},y={},b=!1;for(a=0;a<f.length;a++)s=f[a],y[s]=l=r[Vc(s)],l._inputDomain?l.domain=l._inputDomain.slice():l._inputDomain=l.domain.slice(),l._inputRange||(l._inputRange=l.range.slice()),l.setScale(),v[s]=c=Math.abs(l._m)/o[s],h=Math.min(h,c),(l.constrain==="domain"||!l._constraintShrinkable)&&(m=Math.min(m,c)),delete l._constraintShrinkable,p=Math.max(p,c),l.constrain==="domain"&&(b=!0);if(!(h>QWe*p&&!b)){for(a=0;a<f.length;a++)if(s=f[a],c=v[s],l=y[s],u=l.constrain,c!==m||u==="domain")if(d=c/m,u==="range")ehe(l,d);else{var x=l._inputDomain,w=(l.domain[1]-l.domain[0])/(x[1]-x[0]),S=(l.r2l(l.range[1])-l.r2l(l.range[0]))/(l.r2l(l._inputRange[1])-l.r2l(l._inputRange[0]));if(d/=w,d*S<1){l.domain=l._input.domain=x.slice(),ehe(l,d);continue}if(S<1&&(l.range=l._input.range=l._inputRange.slice(),d*=S),l.autorange){var _=l.r2l(l.range[0]),C=l.r2l(l.range[1]),E=(_+C)/2,M=E,I=E,L=Math.abs(C-E),O=E-L*d*1.0001,H=E+L*d*1.0001,Y=d9.makePadFn(r,l,0),K=d9.makePadFn(r,l,1);rhe(l,d);var N=Math.abs(l._m),U=d9.concatExtremes(e,l),B=U.min,$=U.max,ee,te;for(te=0;te<B.length;te++)ee=B[te].val-Y(B[te])/N,ee>O&&ee<M&&(M=ee);for(te=0;te<$.length;te++)ee=$[te].val+K($[te])/N,ee<H&&ee>I&&(I=ee);var he=(I-M)/(2*L);d/=he,M=l.l2r(M),I=l.l2r(I),l.range=l._input.range=_<C?[M,I]:[I,M]}rhe(l,d)}}}};XS.getAxisGroup=function(e,r){for(var n=e._axisMatchGroups,i=0;i<n.length;i++){var a=n[i];if(a[r])return"g"+i}return r};XS.clean=function(e,r){if(r._inputDomain){for(var n=!1,i=r._id,a=e._fullLayout._axisConstraintGroups,o=0;o<a.length;o++)if(a[o][i]){n=!0;break}(!n||r.constrain!=="domain")&&(r._input.domain=r.domain=r._inputDomain,delete r._inputDomain)}};function rhe(t,e){var r=t._inputDomain,n=JWe[t.constraintoward],i=r[0]+(r[1]-r[0])*n;t.domain=t._input.domain=[i+(r[0]-i)/e,i+(r[1]-i)/e],t.setScale()}});var F3=J(oa=>{"use strict";var z3=Sr(),Mo=Xt(),Qs=ki(),Xl=Qe(),p9=wa(),m9=m3(),QS=gr(),Mb=Kr(),ihe=LS(),che=c9(),JS=gn(),Sf=ao(),uhe=KS(),rGe=uhe.enforce,nGe=uhe.clean,ahe=PS().doAutoRange,dhe="start",iGe="middle",fhe="end",aGe=Ha().zindexSeparator;oa.layoutStyles=function(t){return Xl.syncOrAsync([Qs.doAutoMargin,sGe],t)};function oGe(t,e,r){for(var n=0;n<r.length;n++){var i=r[n][0],a=r[n][1];if(!(i[0]>=t[1]||i[1]<=t[0])&&a[0]<e[1]&&a[1]>e[0])return!0}return!1}function sGe(t){var e=t._fullLayout,r=e._size,n=r.p,i=JS.list(t,"",!0),a,o,s,l,c,u;if(e._paperdiv.style({width:t._context.responsive&&e.autosize&&!t._context._hasZeroWidth&&!t.layout.width?"100%":e.width+"px",height:t._context.responsive&&e.autosize&&!t._context._hasZeroHeight&&!t.layout.height?"100%":e.height+"px"}).selectAll(".main-svg").call(Mb.setSize,e.width,e.height),t._context.setBackground(t,e.paper_bgcolor),oa.drawMainTitle(t),che.manage(t),!e._has("cartesian"))return Qs.previousPromises(t);function d(fe,_e,Oe){var Ce=fe._lw/2;if(fe._id.charAt(0)==="x"){if(_e){if(Oe==="top")return _e._offset-n-Ce}else return r.t+r.h*(1-(fe.position||0))+Ce%1;return _e._offset+_e._length+n+Ce}if(_e){if(Oe==="right")return _e._offset+_e._length+n+Ce}else return r.l+r.w*(fe.position||0)+Ce%1;return _e._offset-n-Ce}for(a=0;a<i.length;a++){l=i[a];var f=l._anchorAxis;l._linepositions={},l._lw=Mb.crispRound(t,l.linewidth,1),l._mainLinePosition=d(l,f,l.side),l._mainMirrorPosition=l.mirror&&f?d(l,f,Sf.OPPOSITE_SIDE[l.side]):null}var h=[],p=[],m=[],v=QS.opacity(e.paper_bgcolor)===1&&QS.opacity(e.plot_bgcolor)===1&&e.paper_bgcolor===e.plot_bgcolor;for(o in e._plots)if(s=e._plots[o],s.mainplot)s.bg&&s.bg.remove(),s.bg=void 0;else{var y=s.xaxis.domain,b=s.yaxis.domain,x=s.plotgroup;if(oGe(y,b,m)&&o.indexOf(aGe)===-1){var w=x.node(),S=s.bg=Xl.ensureSingle(x,"rect","bg");w.insertBefore(S.node(),w.childNodes[0]),p.push(o)}else x.select("rect.bg").remove(),m.push([y,b]),v||(h.push(o),p.push(o))}var _=e._bgLayer.selectAll(".bg").data(h);for(_.enter().append("rect").classed("bg",!0),_.exit().remove(),_.each(function(fe){e._plots[fe].bg=z3.select(this)}),a=0;a<p.length;a++)s=e._plots[p[a]],c=s.xaxis,u=s.yaxis,s.bg&&c._offset!==void 0&&u._offset!==void 0&&s.bg.call(Mb.setRect,c._offset-n,u._offset-n,c._length+2*n,u._length+2*n).call(QS.fill,e.plot_bgcolor).style("stroke-width",0);if(!e._hasOnlyLargeSploms)for(o in e._plots){s=e._plots[o],c=s.xaxis,u=s.yaxis;var C=s.clipId="clip"+e._uid+o+"plot",E=Xl.ensureSingleById(e._clips,"clipPath",C,function(fe){fe.classed("plotclip",!0).append("rect")});s.clipRect=E.select("rect").attr({width:c._length,height:u._length}),Mb.setTranslate(s.plot,c._offset,u._offset);var M,I;s._hasClipOnAxisFalse?(M=null,I=C):(M=C,I=null),Mb.setClipUrl(s.plot,M,t),s.layerClipId=I}var L,O,H,Y,K,N,U,B,$,ee,te,he,we;function Te(fe){return"M"+L+","+fe+"H"+O}function ce(fe){return"M"+c._offset+","+fe+"h"+c._length}function q(fe){return"M"+fe+","+B+"V"+U}function X(fe){return u._shift!==void 0&&(fe+=u._shift),"M"+fe+","+u._offset+"v"+u._length}function G(fe,_e,Oe){if(!fe.showline||o!==fe._mainSubplot)return"";if(!fe._anchorAxis)return Oe(fe._mainLinePosition);var Ce=_e(fe._mainLinePosition);return fe.mirror&&(Ce+=_e(fe._mainMirrorPosition)),Ce}for(o in e._plots){s=e._plots[o],c=s.xaxis,u=s.yaxis;var de="M0,0";ohe(c,o)&&(K=P3(c,"left",u,i),L=c._offset-(K?n+K:0),N=P3(c,"right",u,i),O=c._offset+c._length+(N?n+N:0),H=d(c,u,"bottom"),Y=d(c,u,"top"),we=!c._anchorAxis||o!==c._mainSubplot,we&&(c.mirror==="allticks"||c.mirror==="all")&&(c._linepositions[o]=[H,Y]),de=G(c,Te,ce),we&&c.showline&&(c.mirror==="all"||c.mirror==="allticks")&&(de+=Te(H)+Te(Y)),s.xlines.style("stroke-width",c._lw+"px").call(QS.stroke,c.showline?c.linecolor:"rgba(0,0,0,0)")),s.xlines.attr("d",de);var ue="M0,0";ohe(u,o)&&(te=P3(u,"bottom",c,i),U=u._offset+u._length+(te?n:0),he=P3(u,"top",c,i),B=u._offset-(he?n:0),$=d(u,c,"left"),ee=d(u,c,"right"),we=!u._anchorAxis||o!==u._mainSubplot,we&&(u.mirror==="allticks"||u.mirror==="all")&&(u._linepositions[o]=[$,ee]),ue=G(u,q,X),we&&u.showline&&(u.mirror==="all"||u.mirror==="allticks")&&(ue+=q($)+q(ee)),s.ylines.style("stroke-width",u._lw+"px").call(QS.stroke,u.showline?u.linecolor:"rgba(0,0,0,0)")),s.ylines.attr("d",ue)}return JS.makeClipPaths(t),Qs.previousPromises(t)}function ohe(t,e){return(t.ticks||t.showline)&&(e===t._mainSubplot||t.mirror==="all"||t.mirror==="allticks")}function she(t,e,r){if(!r.showline||!r._lw)return!1;if(r.mirror==="all"||r.mirror==="allticks")return!0;var n=r._anchorAxis;if(!n)return!1;var i=Sf.FROM_BL[e];return r.side===e?n.domain[i]===t.domain[i]:r.mirror&&n.domain[1-i]===t.domain[1-i]}function P3(t,e,r,n){if(she(t,e,r))return r._lw;for(var i=0;i<n.length;i++){var a=n[i];if(a._mainAxis===r._mainAxis&&she(t,e,a))return a._lw}return 0}oa.drawMainTitle=function(t){var e=t._fullLayout.title,r=t._fullLayout,n=pGe(r),i=mGe(r),a=hGe(r,i),o=fGe(r,n);if(ihe.draw(t,"gtitle",{propContainer:r,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:r._dfltTitle.plot,subtitlePlaceholder:r._dfltTitle.subtitle,attributes:{x:o,y:a,"text-anchor":n,dy:i}}),e.text&&e.automargin){var s=z3.selectAll(".gtitle"),l=Mb.bBox(z3.selectAll(".g-gtitle").node()).height,c=uGe(t,e,l);if(c>0){dGe(t,a,c,l),s.attr({x:o,y:a,"text-anchor":n,dy:lhe(e.yanchor)}).call(p9.positionText,o,a);var u=(e.text.match(p9.BR_TAG_ALL)||[]).length;if(u){var d=Sf.LINE_SPACING*u+Sf.MID_SHIFT;e.y===0&&(d=-d),s.selectAll(".line").each(function(){var v=+this.getAttribute("dy").slice(0,-2)-d+"em";this.setAttribute("dy",v)})}var f=z3.selectAll(".gtitle-subtitle");if(f.node()){var h=s.node().getBBox(),p=h.y+h.height,m=p+ihe.SUBTITLE_PADDING_EM*e.subtitle.font.size;f.attr({x:o,y:m,"text-anchor":n,dy:lhe(e.yanchor)}).call(p9.positionText,o,m)}}}};function lGe(t,e,r,n,i){var a=e.yref==="paper"?t._fullLayout._size.h:t._fullLayout.height,o=Xl.isTopAnchor(e)?n:n-i,s=r==="b"?a-o:o;return Xl.isTopAnchor(e)&&r==="t"||Xl.isBottomAnchor(e)&&r==="b"?!1:s<i}function cGe(t,e,r,n,i){var a=0;return r==="middle"&&(a+=i/2),t==="t"?(r==="top"&&(a+=i),a+=n-e*n):(r==="bottom"&&(a+=i),a+=e*n),a}function uGe(t,e,r){var n=e.y,i=e.yanchor,a=n>.5?"t":"b",o=t._fullLayout.margin[a],s=0;return e.yref==="paper"?s=r+e.pad.t+e.pad.b:e.yref==="container"&&(s=cGe(a,n,i,t._fullLayout.height,r)+e.pad.t+e.pad.b),s>o?s:0}function dGe(t,e,r,n){var i="title.automargin",a=t._fullLayout.title,o=a.y>.5?"t":"b",s={x:a.x,y:a.y,t:0,b:0},l={};a.yref==="paper"&&lGe(t,a,o,e,n)?s[o]=r:a.yref==="container"&&(l[o]=r,t._fullLayout._reservedMargin[i]=l),Qs.allowAutoMargin(t,i),Qs.autoMargin(t,i,s)}function fGe(t,e){var r=t.title,n=t._size,i=0;switch(e===dhe?i=r.pad.l:e===fhe&&(i=-r.pad.r),r.xref){case"paper":return n.l+n.w*r.x+i;case"container":default:return t.width*r.x+i}}function hGe(t,e){var r=t.title,n=t._size,i=0;if(e==="0em"||!e?i=-r.pad.b:e===Sf.CAP_SHIFT+"em"&&(i=r.pad.t),r.y==="auto")return n.t/2;switch(r.yref){case"paper":return n.t+n.h-n.h*r.y+i;case"container":default:return t.height-t.height*r.y+i}}function lhe(t){return t==="top"?Sf.CAP_SHIFT+.3+"em":t==="bottom"?"-0.3em":Sf.MID_SHIFT+"em"}function pGe(t){var e=t.title,r=iGe;return Xl.isRightAnchor(e)?r=fhe:Xl.isLeftAnchor(e)&&(r=dhe),r}function mGe(t){var e=t.title,r="0em";return Xl.isTopAnchor(e)?r=Sf.CAP_SHIFT+"em":Xl.isMiddleAnchor(e)&&(r=Sf.MID_SHIFT+"em"),r}oa.doTraceStyle=function(t){var e=t.calcdata,r=[],n;for(n=0;n<e.length;n++){var i=e[n],a=i[0]||{},o=a.trace||{},s=o._module||{},l=s.arraysToCalcdata;l&&l(i,o);var c=s.editStyle;c&&r.push({fn:c,cd0:a})}if(r.length){for(n=0;n<r.length;n++){var u=r[n];u.fn(t,u.cd0)}m9(t),oa.redrawReglTraces(t)}return Qs.style(t),Mo.getComponentMethod("legend","draw")(t),Qs.previousPromises(t)};oa.doColorBars=function(t){return Mo.getComponentMethod("colorbar","draw")(t),Qs.previousPromises(t)};oa.layoutReplot=function(t){var e=t.layout;return t.layout=void 0,Mo.call("_doPlot",t,"",e)};oa.doLegend=function(t){return Mo.getComponentMethod("legend","draw")(t),Qs.previousPromises(t)};oa.doTicksRelayout=function(t){return JS.draw(t,"redraw"),t._fullLayout._hasOnlyLargeSploms&&(Mo.subplotsRegistry.splom.updateGrid(t),m9(t),oa.redrawReglTraces(t)),oa.drawMainTitle(t),Qs.previousPromises(t)};oa.doModeBar=function(t){var e=t._fullLayout;che.manage(t);for(var r=0;r<e._basePlotModules.length;r++){var n=e._basePlotModules[r].updateFx;n&&n(t)}return Qs.previousPromises(t)};oa.doCamera=function(t){for(var e=t._fullLayout,r=e._subplots.gl3d,n=0;n<r.length;n++){var i=e[r[n]],a=i._scene;a.setViewport(i)}};oa.drawData=function(t){var e=t._fullLayout;m9(t);for(var r=e._basePlotModules,n=0;n<r.length;n++)r[n].plot(t);return oa.redrawReglTraces(t),Qs.style(t),Mo.getComponentMethod("selections","draw")(t),Mo.getComponentMethod("shapes","draw")(t),Mo.getComponentMethod("annotations","draw")(t),Mo.getComponentMethod("images","draw")(t),e._replotting=!1,Qs.previousPromises(t)};oa.redrawReglTraces=function(t){var e=t._fullLayout;if(e._has("regl")){var r=t._fullData,n=[],i=[],a,o;for(e._hasOnlyLargeSploms&&e._splomGrid.draw(),a=0;a<r.length;a++){var s=r[a];s.visible===!0&&s._length!==0&&(s.type==="splom"?e._splomScenes[s.uid].draw():s.type==="scattergl"?Xl.pushUnique(n,s.xaxis+s.yaxis):s.type==="scatterpolargl"&&Xl.pushUnique(i,s.subplot))}for(a=0;a<n.length;a++)o=e._plots[n[a]],o._scene&&o._scene.draw();for(a=0;a<i.length;a++)o=e[i[a]]._subplot,o._scene&&o._scene.draw()}};oa.doAutoRangeAndConstraints=function(t){for(var e=JS.list(t,"",!0),r,n={},i=0;i<e.length;i++)if(r=e[i],!n[r._id]){n[r._id]=1,nGe(t,r),ahe(t,r);var a=r._matchGroup;if(a)for(var o in a){var s=JS.getFromId(t,o);ahe(t,s,r.range),n[o]=1}}rGe(t)};oa.finalDraw=function(t){Mo.getComponentMethod("rangeslider","draw")(t),Mo.getComponentMethod("rangeselector","draw")(t)};oa.drawMarginPushers=function(t){Mo.getComponentMethod("legend","draw")(t),Mo.getComponentMethod("rangeselector","draw")(t),Mo.getComponentMethod("sliders","draw")(t),Mo.getComponentMethod("updatemenus","draw")(t),Mo.getComponentMethod("colorbar","draw")(t)}});var y9=J((r1t,ghe)=>{"use strict";var vGe=vp().readPaths,gGe=E3(),hhe=lp().clearOutlineControllers,v9=gr(),phe=Kr(),yGe=On().arrayEditor,mhe=yp(),bGe=mhe.getPathString;ghe.exports={draw:H3,drawOne:vhe,activateLastSelection:TGe};function H3(t){var e=t._fullLayout;hhe(t),e._selectionLayer.selectAll("path").remove();for(var r in e._plots){var n=e._plots[r].selectionLayer;n&&n.selectAll("path").remove()}for(var i=0;i<e.selections.length;i++)vhe(t,i)}function q3(t){return t._context.editSelection}function vhe(t,e){t._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+e+'"]').remove();var r=mhe.makeSelectionsOptionsAndPlotinfo(t,e),n=r.options,i=r.plotinfo;if(!n._input)return;a(t._fullLayout._selectionLayer);function a(o){var s=bGe(t,n),l={"data-index":e,"fill-rule":"evenodd",d:s},c=n.opacity,u="rgba(0,0,0,0)",d=n.line.color||v9.contrast(t._fullLayout.plot_bgcolor),f=n.line.width,h=n.line.dash;f||(f=5,h="solid");var p=q3(t)&&t._fullLayout._activeSelectionIndex===e;p&&(u=t._fullLayout.activeselection.fillcolor,c=t._fullLayout.activeselection.opacity);for(var m=[],v=1;v>=0;v--){var y=o.append("path").attr(l).style("opacity",v?.1:c).call(v9.stroke,d).call(v9.fill,u).call(phe.dashLine,v?"solid":h,v?4+f:f);if(wGe(y,t,n),p){var b=yGe(t.layout,"selections",n);y.style({cursor:"move"});var x={element:y.node(),plotinfo:i,gd:t,editHelpers:b,isActiveSelection:!0},w=vGe(s,t);gGe(w,y,x)}else y.style("pointer-events",v?"all":"none");m[v]=y}var S=m[0],_=m[1];_.node().addEventListener("click",function(){return xGe(t,S)})}}function wGe(t,e,r){var n=r.xref+r.yref;phe.setClipUrl(t,"clip"+e._fullLayout._uid+n,e)}function xGe(t,e){if(q3(t)){var r=e.node(),n=+r.getAttribute("data-index");if(n>=0){if(n===t._fullLayout._activeSelectionIndex){g9(t);return}t._fullLayout._activeSelectionIndex=n,t._fullLayout._deactivateSelection=g9,H3(t)}}}function TGe(t){if(q3(t)){var e=t._fullLayout.selections.length-1;t._fullLayout._activeSelectionIndex=e,t._fullLayout._deactivateSelection=g9,H3(t)}}function g9(t){if(q3(t)){var e=t._fullLayout._activeSelectionIndex;e>=0&&(hhe(t),delete t._fullLayout._activeSelectionIndex,H3(t))}}});var bhe=J((n1t,yhe)=>{function SGe(){var t,e=0,r=!1;function n(i,a){return t.list.push({type:i,data:a?JSON.parse(JSON.stringify(a)):void 0}),t}return t={list:[],segmentId:function(){return e++},checkIntersection:function(i,a){return n("check",{seg1:i,seg2:a})},segmentChop:function(i,a){return n("div_seg",{seg:i,pt:a}),n("chop",{seg:i,pt:a})},statusRemove:function(i){return n("pop_seg",{seg:i})},segmentUpdate:function(i){return n("seg_update",{seg:i})},segmentNew:function(i,a){return n("new_seg",{seg:i,primary:a})},segmentRemove:function(i){return n("rem_seg",{seg:i})},tempStatus:function(i,a,o){return n("temp_status",{seg:i,above:a,below:o})},rewind:function(i){return n("rewind",{seg:i})},status:function(i,a,o){return n("status",{seg:i,above:a,below:o})},vert:function(i){return i===r?t:(r=i,n("vert",{x:i}))},log:function(i){return typeof i!="string"&&(i=JSON.stringify(i,!1,"  ")),n("log",{txt:i})},reset:function(){return n("reset")},selected:function(i){return n("selected",{segs:i})},chainStart:function(i){return n("chain_start",{seg:i})},chainRemoveHead:function(i,a){return n("chain_rem_head",{index:i,pt:a})},chainRemoveTail:function(i,a){return n("chain_rem_tail",{index:i,pt:a})},chainNew:function(i,a){return n("chain_new",{pt1:i,pt2:a})},chainMatch:function(i){return n("chain_match",{index:i})},chainClose:function(i){return n("chain_close",{index:i})},chainAddHead:function(i,a){return n("chain_add_head",{index:i,pt:a})},chainAddTail:function(i,a){return n("chain_add_tail",{index:i,pt:a})},chainConnect:function(i,a){return n("chain_con",{index1:i,index2:a})},chainReverse:function(i){return n("chain_rev",{index:i})},chainJoin:function(i,a){return n("chain_join",{index1:i,index2:a})},done:function(){return n("done")}},t}yhe.exports=SGe});var xhe=J((i1t,whe)=>{function _Ge(t){typeof t!="number"&&(t=1e-10);var e={epsilon:function(r){return typeof r=="number"&&(t=r),t},pointAboveOrOnLine:function(r,n,i){var a=n[0],o=n[1],s=i[0],l=i[1],c=r[0],u=r[1];return(s-a)*(u-o)-(l-o)*(c-a)>=-t},pointBetween:function(r,n,i){var a=r[1]-n[1],o=i[0]-n[0],s=r[0]-n[0],l=i[1]-n[1],c=s*o+a*l;if(c<t)return!1;var u=o*o+l*l;return!(c-u>-t)},pointsSameX:function(r,n){return Math.abs(r[0]-n[0])<t},pointsSameY:function(r,n){return Math.abs(r[1]-n[1])<t},pointsSame:function(r,n){return e.pointsSameX(r,n)&&e.pointsSameY(r,n)},pointsCompare:function(r,n){return e.pointsSameX(r,n)?e.pointsSameY(r,n)?0:r[1]<n[1]?-1:1:r[0]<n[0]?-1:1},pointsCollinear:function(r,n,i){var a=r[0]-n[0],o=r[1]-n[1],s=n[0]-i[0],l=n[1]-i[1];return Math.abs(a*l-s*o)<t},linesIntersect:function(r,n,i,a){var o=n[0]-r[0],s=n[1]-r[1],l=a[0]-i[0],c=a[1]-i[1],u=o*c-s*l;if(Math.abs(u)<t)return!1;var d=r[0]-i[0],f=r[1]-i[1],h=(l*f-c*d)/u,p=(o*f-s*d)/u,m={alongA:0,alongB:0,pt:[r[0]+h*o,r[1]+h*s]};return h<=-t?m.alongA=-2:h<t?m.alongA=-1:h-1<=-t?m.alongA=0:h-1<t?m.alongA=1:m.alongA=2,p<=-t?m.alongB=-2:p<t?m.alongB=-1:p-1<=-t?m.alongB=0:p-1<t?m.alongB=1:m.alongB=2,m},pointInsideRegion:function(r,n){for(var i=r[0],a=r[1],o=n[n.length-1][0],s=n[n.length-1][1],l=!1,c=0;c<n.length;c++){var u=n[c][0],d=n[c][1];d-a>t!=s-a>t&&(o-u)*(a-d)/(s-d)+u-i>t&&(l=!l),o=u,s=d}return l}};return e}whe.exports=_Ge});var She=J((a1t,The)=>{var CGe={create:function(){var t={root:{root:!0,next:null},exists:function(e){return!(e===null||e===t.root)},isEmpty:function(){return t.root.next===null},getHead:function(){return t.root.next},insertBefore:function(e,r){for(var n=t.root,i=t.root.next;i!==null;){if(r(i)){e.prev=i.prev,e.next=i,i.prev.next=e,i.prev=e;return}n=i,i=i.next}n.next=e,e.prev=n,e.next=null},findTransition:function(e){for(var r=t.root,n=t.root.next;n!==null&&!e(n);)r=n,n=n.next;return{before:r===t.root?null:r,after:n,insert:function(i){return i.prev=r,i.next=n,r.next=i,n!==null&&(n.prev=i),i}}}};return t},node:function(t){return t.prev=null,t.next=null,t.remove=function(){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.prev=null,t.next=null},t}};The.exports=CGe});var Che=J((o1t,_he)=>{var e_=She();function kGe(t,e,r){function n(p,m){return{id:r?r.segmentId():-1,start:p,end:m,myFill:{above:null,below:null},otherFill:null}}function i(p,m,v){return{id:r?r.segmentId():-1,start:p,end:m,myFill:{above:v.myFill.above,below:v.myFill.below},otherFill:null}}var a=e_.create();function o(p,m,v,y,b,x){var w=e.pointsCompare(m,b);return w!==0?w:e.pointsSame(v,x)?0:p!==y?p?1:-1:e.pointAboveOrOnLine(v,y?b:x,y?x:b)?1:-1}function s(p,m){a.insertBefore(p,function(v){var y=o(p.isStart,p.pt,m,v.isStart,v.pt,v.other.pt);return y<0})}function l(p,m){var v=e_.node({isStart:!0,pt:p.start,seg:p,primary:m,other:null,status:null});return s(v,p.end),v}function c(p,m,v){var y=e_.node({isStart:!1,pt:m.end,seg:m,primary:v,other:p,status:null});p.other=y,s(y,p.pt)}function u(p,m){var v=l(p,m);return c(v,p,m),v}function d(p,m){r&&r.segmentChop(p.seg,m),p.other.remove(),p.seg.end=m,p.other.pt=m,s(p.other,p.pt)}function f(p,m){var v=i(m,p.seg.end,p.seg);return d(p,m),u(v,p.primary)}function h(p,m){var v=e_.create();function y(K,N){var U=K.seg.start,B=K.seg.end,$=N.seg.start,ee=N.seg.end;return e.pointsCollinear(U,$,ee)?e.pointsCollinear(B,$,ee)||e.pointAboveOrOnLine(B,$,ee)?1:-1:e.pointAboveOrOnLine(U,$,ee)?1:-1}function b(K){return v.findTransition(function(N){var U=y(K,N.ev);return U>0})}function x(K,N){var U=K.seg,B=N.seg,$=U.start,ee=U.end,te=B.start,he=B.end;r&&r.checkIntersection(U,B);var we=e.linesIntersect($,ee,te,he);if(we===!1){if(!e.pointsCollinear($,ee,te)||e.pointsSame($,he)||e.pointsSame(ee,te))return!1;var Te=e.pointsSame($,te),ce=e.pointsSame(ee,he);if(Te&&ce)return N;var q=!Te&&e.pointBetween($,te,he),X=!ce&&e.pointBetween(ee,te,he);if(Te)return X?f(N,ee):f(K,he),N;q&&(ce||(X?f(N,ee):f(K,he)),f(N,$))}else we.alongA===0&&(we.alongB===-1?f(K,te):we.alongB===0?f(K,we.pt):we.alongB===1&&f(K,he)),we.alongB===0&&(we.alongA===-1?f(N,$):we.alongA===0?f(N,we.pt):we.alongA===1&&f(N,ee));return!1}for(var w=[];!a.isEmpty();){var S=a.getHead();if(r&&r.vert(S.pt[0]),S.isStart){let K=function(){if(C){var N=x(S,C);if(N)return N}return E?x(S,E):!1};var Y=K;r&&r.segmentNew(S.seg,S.primary);var _=b(S),C=_.before?_.before.ev:null,E=_.after?_.after.ev:null;r&&r.tempStatus(S.seg,C?C.seg:!1,E?E.seg:!1);var M=K();if(M){if(t){var I;S.seg.myFill.below===null?I=!0:I=S.seg.myFill.above!==S.seg.myFill.below,I&&(M.seg.myFill.above=!M.seg.myFill.above)}else M.seg.otherFill=S.seg.myFill;r&&r.segmentUpdate(M.seg),S.other.remove(),S.remove()}if(a.getHead()!==S){r&&r.rewind(S.seg);continue}if(t){var I;S.seg.myFill.below===null?I=!0:I=S.seg.myFill.above!==S.seg.myFill.below,E?S.seg.myFill.below=E.seg.myFill.above:S.seg.myFill.below=p,I?S.seg.myFill.above=!S.seg.myFill.below:S.seg.myFill.above=S.seg.myFill.below}else if(S.seg.otherFill===null){var L;E?S.primary===E.primary?L=E.seg.otherFill.above:L=E.seg.myFill.above:L=S.primary?m:p,S.seg.otherFill={above:L,below:L}}r&&r.status(S.seg,C?C.seg:!1,E?E.seg:!1),S.other.status=_.insert(e_.node({ev:S}))}else{var O=S.status;if(O===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(v.exists(O.prev)&&v.exists(O.next)&&x(O.prev.ev,O.next.ev),r&&r.statusRemove(O.ev.seg),O.remove(),!S.primary){var H=S.seg.myFill;S.seg.myFill=S.seg.otherFill,S.seg.otherFill=H}w.push(S.seg)}a.getHead().remove()}return r&&r.done(),w}return t?{addRegion:function(p){for(var m,v=p[p.length-1],y=0;y<p.length;y++){m=v,v=p[y];var b=e.pointsCompare(m,v);b!==0&&u(n(b<0?m:v,b<0?v:m),!0)}},calculate:function(p){return h(p,!1)}}:{calculate:function(p,m,v,y){return p.forEach(function(b){u(i(b.start,b.end,b),!0)}),v.forEach(function(b){u(i(b.start,b.end,b),!1)}),h(m,y)}}}_he.exports=kGe});var Ehe=J((s1t,khe)=>{function EGe(t,e,r){var n=[],i=[];return t.forEach(function(a){var o=a.start,s=a.end;if(e.pointsSame(o,s)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}r&&r.chainStart(a);var l={index:0,matches_head:!1,matches_pt1:!1},c={index:0,matches_head:!1,matches_pt1:!1},u=l;function d(Y,K,N){return u.index=Y,u.matches_head=K,u.matches_pt1=N,u===l?(u=c,!1):(u=null,!0)}for(var f=0;f<n.length;f++){var h=n[f],p=h[0],m=h[1],v=h[h.length-1],y=h[h.length-2];if(e.pointsSame(p,o)){if(d(f,!0,!0))break}else if(e.pointsSame(p,s)){if(d(f,!0,!1))break}else if(e.pointsSame(v,o)){if(d(f,!1,!0))break}else if(e.pointsSame(v,s)&&d(f,!1,!1))break}if(u===l){n.push([o,s]),r&&r.chainNew(o,s);return}if(u===c){r&&r.chainMatch(l.index);var b=l.index,x=l.matches_pt1?s:o,w=l.matches_head,h=n[b],S=w?h[0]:h[h.length-1],_=w?h[1]:h[h.length-2],C=w?h[h.length-1]:h[0],E=w?h[h.length-2]:h[1];if(e.pointsCollinear(_,S,x)&&(w?(r&&r.chainRemoveHead(l.index,x),h.shift()):(r&&r.chainRemoveTail(l.index,x),h.pop()),S=_),e.pointsSame(C,x)){n.splice(b,1),e.pointsCollinear(E,C,S)&&(w?(r&&r.chainRemoveTail(l.index,S),h.pop()):(r&&r.chainRemoveHead(l.index,S),h.shift())),r&&r.chainClose(l.index),i.push(h);return}w?(r&&r.chainAddHead(l.index,x),h.unshift(x)):(r&&r.chainAddTail(l.index,x),h.push(x));return}function M(Y){r&&r.chainReverse(Y),n[Y].reverse()}function I(Y,K){var N=n[Y],U=n[K],B=N[N.length-1],$=N[N.length-2],ee=U[0],te=U[1];e.pointsCollinear($,B,ee)&&(r&&r.chainRemoveTail(Y,B),N.pop(),B=$),e.pointsCollinear(B,ee,te)&&(r&&r.chainRemoveHead(K,ee),U.shift()),r&&r.chainJoin(Y,K),n[Y]=N.concat(U),n.splice(K,1)}var L=l.index,O=c.index;r&&r.chainConnect(L,O);var H=n[L].length<n[O].length;l.matches_head?c.matches_head?H?(M(L),I(L,O)):(M(O),I(O,L)):I(O,L):c.matches_head?I(L,O):H?(M(L),I(O,L)):(M(O),I(L,O))}),i}khe.exports=EGe});var Ahe=J((l1t,Dhe)=>{function t_(t,e,r){var n=[];return t.forEach(function(i){var a=(i.myFill.above?8:0)+(i.myFill.below?4:0)+(i.otherFill&&i.otherFill.above?2:0)+(i.otherFill&&i.otherFill.below?1:0);e[a]!==0&&n.push({id:r?r.segmentId():-1,start:i.start,end:i.end,myFill:{above:e[a]===1,below:e[a]===2},otherFill:null})}),r&&r.selected(n),n}var DGe={union:function(t,e){return t_(t,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],e)},intersect:function(t,e){return t_(t,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],e)},difference:function(t,e){return t_(t,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],e)},differenceRev:function(t,e){return t_(t,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],e)},xor:function(t,e){return t_(t,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],e)}};Dhe.exports=DGe});var Rhe=J((c1t,Mhe)=>{var AGe={toPolygon:function(t,e){function r(a){if(a.length<=0)return t.segments({inverted:!1,regions:[]});function o(c){var u=c.slice(0,c.length-1);return t.segments({inverted:!1,regions:[u]})}for(var s=o(a[0]),l=1;l<a.length;l++)s=t.selectDifference(t.combine(s,o(a[l])));return s}if(e.type==="Polygon")return t.polygon(r(e.coordinates));if(e.type==="MultiPolygon"){for(var n=t.segments({inverted:!1,regions:[]}),i=0;i<e.coordinates.length;i++)n=t.selectUnion(t.combine(n,r(e.coordinates[i])));return t.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(t,e,r){r=t.polygon(t.segments(r));function n(h,p){return e.pointInsideRegion([(h[0][0]+h[1][0])*.5,(h[0][1]+h[1][1])*.5],p)}function i(h){return{region:h,children:[]}}var a=i(null);function o(h,p){for(var m=0;m<h.children.length;m++){var v=h.children[m];if(n(p,v.region)){o(v,p);return}}for(var y=i(p),m=0;m<h.children.length;m++){var v=h.children[m];n(v.region,p)&&(y.children.push(v),h.children.splice(m,1),m--)}h.children.push(y)}for(var s=0;s<r.regions.length;s++){var l=r.regions[s];l.length<3||o(a,l)}function c(h,p){for(var m=0,v=h[h.length-1][0],y=h[h.length-1][1],b=[],x=0;x<h.length;x++){var w=h[x][0],S=h[x][1];b.push([w,S]),m+=S*v-w*y,v=w,y=S}var _=m<0;return _!==p&&b.reverse(),b.push([b[0][0],b[0][1]]),b}var u=[];function d(h){var p=[c(h.region,!1)];u.push(p);for(var m=0;m<h.children.length;m++)p.push(f(h.children[m]))}function f(h){for(var p=0;p<h.children.length;p++)d(h.children[p]);return c(h.region,!0)}for(var s=0;s<a.children.length;s++)d(a.children[s]);return u.length<=0?{type:"Polygon",coordinates:[]}:u.length==1?{type:"Polygon",coordinates:u[0]}:{type:"MultiPolygon",coordinates:u}}};Mhe.exports=AGe});var Ohe=J((u1t,Lhe)=>{var MGe=bhe(),RGe=xhe(),Ihe=Che(),IGe=Ehe(),r_=Ahe(),Nhe=Rhe(),Kl=!1,n_=RGe(),bs;bs={buildLog:function(t){return t===!0?Kl=MGe():t===!1&&(Kl=!1),Kl===!1?!1:Kl.list},epsilon:function(t){return n_.epsilon(t)},segments:function(t){var e=Ihe(!0,n_,Kl);return t.regions.forEach(e.addRegion),{segments:e.calculate(t.inverted),inverted:t.inverted}},combine:function(t,e){var r=Ihe(!1,n_,Kl);return{combined:r.calculate(t.segments,t.inverted,e.segments,e.inverted),inverted1:t.inverted,inverted2:e.inverted}},selectUnion:function(t){return{segments:r_.union(t.combined,Kl),inverted:t.inverted1||t.inverted2}},selectIntersect:function(t){return{segments:r_.intersect(t.combined,Kl),inverted:t.inverted1&&t.inverted2}},selectDifference:function(t){return{segments:r_.difference(t.combined,Kl),inverted:t.inverted1&&!t.inverted2}},selectDifferenceRev:function(t){return{segments:r_.differenceRev(t.combined,Kl),inverted:!t.inverted1&&t.inverted2}},selectXor:function(t){return{segments:r_.xor(t.combined,Kl),inverted:t.inverted1!==t.inverted2}},polygon:function(t){return{regions:IGe(t.segments,n_,Kl),inverted:t.inverted}},polygonFromGeoJSON:function(t){return Nhe.toPolygon(bs,t)},polygonToGeoJSON:function(t){return Nhe.fromPolygon(bs,n_,t)},union:function(t,e){return i_(t,e,bs.selectUnion)},intersect:function(t,e){return i_(t,e,bs.selectIntersect)},difference:function(t,e){return i_(t,e,bs.selectDifference)},differenceRev:function(t,e){return i_(t,e,bs.selectDifferenceRev)},xor:function(t,e){return i_(t,e,bs.selectXor)}};function i_(t,e,r){var n=bs.segments(t),i=bs.segments(e),a=bs.combine(n,i),o=r(a);return bs.polygon(o)}typeof window=="object"&&(window.PolyBool=bs);Lhe.exports=bs});var zhe=J((d1t,Phe)=>{Phe.exports=function(e,r,n,i){var a=e[0],o=e[1],s=!1;n===void 0&&(n=0),i===void 0&&(i=r.length);for(var l=i-n,c=0,u=l-1;c<l;u=c++){var d=r[c+n][0],f=r[c+n][1],h=r[u+n][0],p=r[u+n][1],m=f>o!=p>o&&a<(h-d)*(o-f)/(p-f)+d;m&&(s=!s)}return s}});var w9=J((f1t,Fhe)=>{"use strict";var b9=GA().dot,U3=ei().BADNUM,B3=Fhe.exports={};B3.tester=function(e){var r=e.slice(),n=r[0][0],i=n,a=r[0][1],o=a,s;for((r[r.length-1][0]!==r[0][0]||r[r.length-1][1]!==r[0][1])&&r.push(r[0]),s=1;s<r.length;s++)n=Math.min(n,r[s][0]),i=Math.max(i,r[s][0]),a=Math.min(a,r[s][1]),o=Math.max(o,r[s][1]);var l=!1,c;r.length===5&&(r[0][0]===r[1][0]?r[2][0]===r[3][0]&&r[0][1]===r[3][1]&&r[1][1]===r[2][1]&&(l=!0,c=function(p){return p[0]===r[0][0]}):r[0][1]===r[1][1]&&r[2][1]===r[3][1]&&r[0][0]===r[3][0]&&r[1][0]===r[2][0]&&(l=!0,c=function(p){return p[1]===r[0][1]}));function u(p,m){var v=p[0],y=p[1];return!(v===U3||v<n||v>i||y===U3||y<a||y>o||m&&c(p))}function d(p,m){var v=p[0],y=p[1];if(v===U3||v<n||v>i||y===U3||y<a||y>o)return!1;var b=r.length,x=r[0][0],w=r[0][1],S=0,_,C,E,M,I;for(_=1;_<b;_++)if(C=x,E=w,x=r[_][0],w=r[_][1],M=Math.min(C,x),!(v<M||v>Math.max(C,x)||y>Math.max(E,w)))if(y<Math.min(E,w))v!==M&&S++;else{if(x===C?I=y:I=E+(v-C)*(w-E)/(x-C),y===I)return!(_===1&&m);y<=I&&v!==M&&S++}return S%2===1}var f=!0,h=r[0];for(s=1;s<r.length;s++)if(h[0]!==r[s][0]||h[1]!==r[s][1]){f=!1;break}return{xmin:n,xmax:i,ymin:a,ymax:o,pts:r,contains:l?u:d,isRect:l,degenerate:f}};B3.isSegmentBent=function(e,r,n,i){var a=e[r],o=[e[n][0]-a[0],e[n][1]-a[1]],s=b9(o,o),l=Math.sqrt(s),c=[-o[1]/l,o[0]/l],u,d,f;for(u=r+1;u<n;u++)if(d=[e[u][0]-a[0],e[u][1]-a[1]],f=b9(d,o),f<0||f>s||Math.abs(b9(d,c))>i)return!0;return!1};B3.filter=function(e,r){var n=[e[0]],i=0,a=0;function o(l){e.push(l);var c=n.length,u=i;n.splice(a+1);for(var d=u+1;d<e.length;d++)(d===e.length-1||B3.isSegmentBent(e,u,d+1,r))&&(n.push(e[d]),n.length<c-2&&(i=d,a=n.length-1),u=d)}if(e.length>1){var s=e.pop();o(s)}return{addPt:o,raw:e,filtered:n}}});var qhe=J((h1t,Hhe)=>{"use strict";Hhe.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}});var lpe=J((p1t,spe)=>{"use strict";var Uhe=Ohe(),NGe=zhe(),s_=Xt(),LGe=Kr().dashStyle,a_=gr(),OGe=Zl(),PGe=qc().makeEventData,f_=Sb(),zGe=f_.freeMode,FGe=f_.rectMode,l_=f_.drawMode,_9=f_.openMode,C9=f_.selectMode,Bhe=yp(),jhe=YS(),Zhe=E3(),$he=lp().clearOutline,Xhe=vp(),x9=Xhe.handleEllipse,HGe=Xhe.readPaths,qGe=S3().newShapes,UGe=YH(),BGe=y9().activateLastSelection,V3=Qe(),jGe=V3.sorterAsc,Khe=w9(),o_=aM(),Ql=Wi().getFromId,VGe=m3(),WGe=F3().redrawReglTraces,W3=qhe(),Zu=W3.MINSELECT,GGe=Khe.filter,k9=Khe.tester,E9=b3(),Vhe=E9.p2r,YGe=E9.axValue,ZGe=E9.getTransform;function D9(t){return t.subplot!==void 0}function $Ge(t,e,r,n,i){var a=!D9(n),o=zGe(i),s=FGe(i),l=_9(i),c=l_(i),u=C9(i),d=i==="drawline",f=i==="drawcircle",h=d||f,p=n.gd,m=p._fullLayout,v=u&&m.newselection.mode==="immediate"&&a,y=m._zoomlayer,b=n.element.getBoundingClientRect(),x=n.plotinfo,w=ZGe(x),S=e-b.left,_=r-b.top;m._calcInverseTransform(p);var C=V3.apply3DTransform(m._invTransform)(S,_);S=C[0],_=C[1];var E=m._invScaleX,M=m._invScaleY,I=S,L=_,O="M"+S+","+_,H=n.xaxes[0],Y=n.yaxes[0],K=H._length,N=Y._length,U=t.altKey&&!(l_(i)&&l),B,$,ee,te,he,we,Te;Jhe(t,p,n),o&&(B=GGe([[S,_]],W3.BENDPX));var ce=y.selectAll("path.select-outline-"+x.id).data([1]),q=c?m.newshape:m.newselection;c&&(n.hasText=q.label.text||q.label.texttemplate);var X=c&&!l?q.fillcolor:"rgba(0,0,0,0)",G=q.line.color||(a?a_.contrast(p._fullLayout.plot_bgcolor):"#7f7f7f");ce.enter().append("path").attr("class","select-outline select-outline-"+x.id).style({opacity:c?q.opacity/2:1,"stroke-dasharray":LGe(q.line.dash,q.line.width),"stroke-width":q.line.width+"px","shape-rendering":"crispEdges"}).call(a_.stroke,G).call(a_.fill,X).attr("fill-rule","evenodd").classed("cursor-move",!!c).attr("transform",w).attr("d",O+"Z");var de=y.append("path").attr("class","zoombox-corners").style({fill:a_.background,stroke:a_.defaultLine,"stroke-width":1}).attr("transform",w).attr("d","M0,0Z");if(c&&n.hasText){var ue=y.select(".label-temp");ue.empty()&&(ue=y.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var fe=m._uid+W3.SELECTID,_e=[],Oe=G3(p,n.xaxes,n.yaxes,n.subplot);v&&!t.shiftKey&&(n._clearSubplotSelections=function(){if(a){var je=H._id,qe=Y._id;ipe(p,je,qe,Oe);for(var Ve=(p.layout||{}).selections||[],ot=[],$e=!1,Xe=0;Xe<Ve.length;Xe++){var Je=m.selections[Xe];!Je||Je.xref!==je||Je.yref!==qe?ot.push(Ve[Xe]):$e=!0}$e&&(p._fullLayout._noEmitSelectedAtStart=!0,s_.call("_guiRelayout",p,{selections:ot}))}});var Ce=cYe(n);n.moveFn=function(je,qe){n._clearSubplotSelections&&(n._clearSubplotSelections(),n._clearSubplotSelections=void 0),I=Math.max(0,Math.min(K,E*je+S)),L=Math.max(0,Math.min(N,M*qe+_));var Ve=Math.abs(I-S),ot=Math.abs(L-_);if(s){var $e,Xe,Je;if(u){var nt=m.selectdirection;switch(nt==="any"?ot<Math.min(Ve*.6,Zu)?$e="h":Ve<Math.min(ot*.6,Zu)?$e="v":$e="d":$e=nt,$e){case"h":Xe=f?N/2:0,Je=N;break;case"v":Xe=f?K/2:0,Je=K;break}}if(c)switch(m.newshape.drawdirection){case"vertical":$e="h",Xe=f?N/2:0,Je=N;break;case"horizontal":$e="v",Xe=f?K/2:0,Je=K;break;case"ortho":Ve<ot?($e="h",Xe=_,Je=L):($e="v",Xe=S,Je=I);break;default:$e="d"}$e==="h"?(te=h?x9(f,[I,Xe],[I,Je]):[[S,Xe],[S,Je],[I,Je],[I,Xe]],te.xmin=h?I:Math.min(S,I),te.xmax=h?I:Math.max(S,I),te.ymin=Math.min(Xe,Je),te.ymax=Math.max(Xe,Je),de.attr("d","M"+te.xmin+","+(_-Zu)+"h-4v"+2*Zu+"h4ZM"+(te.xmax-1)+","+(_-Zu)+"h4v"+2*Zu+"h-4Z")):$e==="v"?(te=h?x9(f,[Xe,L],[Je,L]):[[Xe,_],[Xe,L],[Je,L],[Je,_]],te.xmin=Math.min(Xe,Je),te.xmax=Math.max(Xe,Je),te.ymin=h?L:Math.min(_,L),te.ymax=h?L:Math.max(_,L),de.attr("d","M"+(S-Zu)+","+te.ymin+"v-4h"+2*Zu+"v4ZM"+(S-Zu)+","+(te.ymax-1)+"v4h"+2*Zu+"v-4Z")):$e==="d"&&(te=h?x9(f,[S,_],[I,L]):[[S,_],[S,L],[I,L],[I,_]],te.xmin=Math.min(S,I),te.xmax=Math.max(S,I),te.ymin=Math.min(_,L),te.ymax=Math.max(_,L),de.attr("d","M0,0Z"))}else o&&(B.addPt([I,L]),te=B.filtered);if(n.selectionDefs&&n.selectionDefs.length?(ee=epe(n.mergedPolygons,te,U),te.subtract=U,$=A9(n.selectionDefs.concat([te]))):(ee=[te],$=k9(te)),Zhe(rpe(ee,l),ce,n),u){var Ke=S9(p,!1),Ae=Ke.eventData?Ke.eventData.points.slice():[];Ke=S9(p,!1,$,Oe,n),$=Ke.selectionTesters,Te=Ke.eventData;var it;B?it=B.filtered:it=ape(ee),o_.throttle(fe,W3.SELECTDELAY,function(){_e=npe($,Oe);for(var at=_e.slice(),ge=0;ge<Ae.length;ge++){for(var Ne=Ae[ge],Le=!1,St=0;St<at.length;St++)if(at[St].curveNumber===Ne.curveNumber&&at[St].pointNumber===Ne.pointNumber){Le=!0;break}Le||at.push(Ne)}at.length&&(Te||(Te={}),Te.points=at),Ce(Te,it),uYe(p,Te)})}},n.clickFn=function(je,qe){if(de.remove(),p._fullLayout._activeShapeIndex>=0){p._fullLayout._deactivateShape(p);return}if(!c){var Ve=m.clickmode;o_.done(fe).then(function(){if(o_.clear(fe),je===2){for(ce.remove(),he=0;he<Oe.length;he++)we=Oe[he],we._module.selectPoints(we,!1);if(u_(p,Oe),c_(n),R9(p),Oe.length){var ot=Oe[0].xaxis,$e=Oe[0].yaxis;if(ot&&$e){for(var Xe=[],Je=p._fullLayout.selections,nt=0;nt<Je.length;nt++){var Ke=Je[nt];Ke&&(Ke.xref!==ot._id||Ke.yref!==$e._id)&&Xe.push(Ke)}Xe.length<Je.length&&(p._fullLayout._noEmitSelectedAtStart=!0,s_.call("_guiRelayout",p,{selections:Xe}))}}}else Ve.indexOf("select")>-1&&Qhe(qe,p,n.xaxes,n.yaxes,n.subplot,n,ce),Ve==="event"&&d_(p,void 0);OGe.click(p,qe,x.id)}).catch(V3.error)}},n.doneFn=function(){de.remove(),o_.done(fe).then(function(){o_.clear(fe),!v&&te&&n.selectionDefs&&(te.subtract=U,n.selectionDefs.push(te),n.mergedPolygons.length=0,[].push.apply(n.mergedPolygons,ee)),(v||c)&&c_(n,v),n.doneFnCompleted&&n.doneFnCompleted(_e),u&&d_(p,Te)}).catch(V3.error)}}function Qhe(t,e,r,n,i,a,o){var s=e._hoverdata,l=e._fullLayout,c=l.clickmode,u=c.indexOf("event")>-1,d=[],f,h,p,m,v,y,b,x,w,S;if(eYe(s)){Jhe(t,e,a),f=G3(e,r,n,i);var _=tYe(s,f),C=_.pointNumbers.length>0;if(C?rYe(f,_):nYe(f)&&(b=Ghe(_))){for(o&&o.remove(),S=0;S<f.length;S++)h=f[S],h._module.selectPoints(h,!1);u_(e,f),c_(a),u&&R9(e)}else{x=t.shiftKey&&(b!==void 0?b:Ghe(_)),p=XGe(_.pointNumber,_.searchInfo,x);var E=a.selectionDefs.concat([p]);for(m=A9(E,m),S=0;S<f.length;S++)if(v=f[S]._module.selectPoints(f[S],m),y=tpe(v,f[S]),d.length)for(var M=0;M<y.length;M++)d.push(y[M]);else d=y;if(w={points:d},u_(e,f,w),p&&a&&a.selectionDefs.push(p),o){var I=a.mergedPolygons,L=_9(a.dragmode);Zhe(rpe(I,L),o,a)}u&&d_(e,w)}}}function XGe(t,e,r){return{pointNumber:t,searchInfo:e,subtract:!!r}}function T9(t){return"pointNumber"in t&&"searchInfo"in t}function KGe(t){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(e,r,n,i){var a=t.searchInfo.cd[0].trace.index,o=i.cd[0].trace.index;return o===a&&n===t.pointNumber},isRect:!1,degenerate:!1,subtract:!!t.subtract}}function A9(t){if(!t.length)return;for(var e=[],r=T9(t[0])?0:t[0][0][0],n=r,i=T9(t[0])?0:t[0][0][1],a=i,o=0;o<t.length;o++)if(T9(t[o]))e.push(KGe(t[o]));else{var s=k9(t[o]);s.subtract=!!t[o].subtract,e.push(s),r=Math.min(r,s.xmin),n=Math.max(n,s.xmax),i=Math.min(i,s.ymin),a=Math.max(a,s.ymax)}function l(c,u,d,f){for(var h=!1,p=0;p<e.length;p++)e[p].contains(c,u,d,f)&&(h=!e[p].subtract);return h}return{xmin:r,xmax:n,ymin:i,ymax:a,pts:[],contains:l,isRect:!1,degenerate:!1}}function Jhe(t,e,r){var n=e._fullLayout,i=r.plotinfo,a=r.dragmode,o=n._lastSelectedSubplot&&n._lastSelectedSubplot===i.id,s=(t.shiftKey||t.altKey)&&!(l_(a)&&_9(a));o&&s&&i.selection&&i.selection.selectionDefs&&!r.selectionDefs?(r.selectionDefs=i.selection.selectionDefs,r.mergedPolygons=i.selection.mergedPolygons):(!s||!i.selection)&&c_(r),o||($he(e),n._lastSelectedSubplot=i.id)}function QGe(t){return t._fullLayout._activeShapeIndex>=0}function JGe(t){return t._fullLayout._activeSelectionIndex>=0}function c_(t,e){var r=t.dragmode,n=t.plotinfo,i=t.gd;QGe(i)&&i._fullLayout._deactivateShape(i),JGe(i)&&i._fullLayout._deactivateSelection(i);var a=i._fullLayout,o=a._zoomlayer,s=l_(r),l=C9(r);if(s||l){var c=o.selectAll(".select-outline-"+n.id);if(c&&i._fullLayout._outlining){var u;s&&(u=qGe(c,t)),u&&s_.call("_guiRelayout",i,{shapes:u});var d;l&&!D9(t)&&(d=UGe(c,t)),d&&(i._fullLayout._noEmitSelectedAtStart=!0,s_.call("_guiRelayout",i,{selections:d}).then(function(){e&&BGe(i)})),i._fullLayout._outlining=!1}}n.selection={},n.selection.selectionDefs=t.selectionDefs=[],n.selection.mergedPolygons=t.mergedPolygons=[]}function Whe(t){return t._id}function G3(t,e,r,n){if(!t.calcdata)return[];var i=[],a=e.map(Whe),o=r.map(Whe),s,l,c;for(c=0;c<t.calcdata.length;c++)if(s=t.calcdata[c],l=s[0].trace,!(l.visible!==!0||!l._module||!l._module.selectPoints))if(D9({subplot:n})&&(l.subplot===n||l.geo===n))i.push(j3(l._module,s,e[0],r[0]));else if(l.type==="splom"){if(l._xaxes[a[0]]&&l._yaxes[o[0]]){var u=j3(l._module,s,e[0],r[0]);u.scene=t._fullLayout._splomScenes[l.uid],i.push(u)}}else if(l.type==="sankey"){var d=j3(l._module,s,e[0],r[0]);i.push(d)}else{if(a.indexOf(l.xaxis)===-1&&(!l._xA||!l._xA.overlaying)||o.indexOf(l.yaxis)===-1&&(!l._yA||!l._yA.overlaying))continue;i.push(j3(l._module,s,Ql(t,l.xaxis),Ql(t,l.yaxis)))}return i}function j3(t,e,r,n){return{_module:t,cd:e,xaxis:r,yaxis:n}}function eYe(t){return t&&Array.isArray(t)&&t[0].hoverOnBox!==!0}function tYe(t,e){var r=t[0],n=-1,i=[],a,o;for(o=0;o<e.length;o++)if(a=e[o],r.fullData.index===a.cd[0].trace.index){if(r.hoverOnBox===!0)break;r.pointNumber!==void 0?n=r.pointNumber:r.binNumber!==void 0&&(n=r.binNumber,i=r.pointNumbers);break}return{pointNumber:n,pointNumbers:i,searchInfo:a}}function Ghe(t){var e=t.searchInfo.cd[0].trace,r=t.pointNumber,n=t.pointNumbers,i=n.length>0,a=i?n[0]:r;return e.selectedpoints?e.selectedpoints.indexOf(a)>-1:!1}function rYe(t,e){var r=[],n,i,a,o;for(o=0;o<t.length;o++)n=t[o],n.cd[0].trace.selectedpoints&&n.cd[0].trace.selectedpoints.length>0&&r.push(n);if(r.length===1&&(a=r[0]===e.searchInfo,a&&(i=e.searchInfo.cd[0].trace,i.selectedpoints.length===e.pointNumbers.length))){for(o=0;o<e.pointNumbers.length;o++)if(i.selectedpoints.indexOf(e.pointNumbers[o])<0)return!1;return!0}return!1}function nYe(t){var e=0,r,n,i;for(i=0;i<t.length;i++)if(r=t[i],n=r.cd[0].trace,n.selectedpoints&&(n.selectedpoints.length>1||(e+=n.selectedpoints.length,e>1)))return!1;return e===1}function u_(t,e,r){var n;for(n=0;n<e.length;n++){var i=e[n].cd[0].trace._fullInput,a=t._fullLayout._tracePreGUI[i.uid]||{};a.selectedpoints===void 0&&(a.selectedpoints=i._input.selectedpoints||null)}var o;if(r){var s=r.points||[];for(n=0;n<e.length;n++)o=e[n].cd[0].trace,o._input.selectedpoints=o._fullInput.selectedpoints=[],o._fullInput!==o&&(o.selectedpoints=[]);for(var l=0;l<s.length;l++){var c=s[l],u=c.data,d=c.fullData,f=c.pointIndex,h=c.pointIndices;h?([].push.apply(u.selectedpoints,h),o._fullInput!==o&&[].push.apply(d.selectedpoints,h)):(u.selectedpoints.push(f),o._fullInput!==o&&d.selectedpoints.push(f))}}else for(n=0;n<e.length;n++)o=e[n].cd[0].trace,delete o.selectedpoints,delete o._input.selectedpoints,o._fullInput!==o&&delete o._fullInput.selectedpoints;iYe(t,e)}function iYe(t,e){for(var r=!1,n=0;n<e.length;n++){var i=e[n],a=i.cd;s_.traceIs(a[0].trace,"regl")&&(r=!0);var o=i._module,s=o.styleOnSelect||o.style;s&&(s(t,a,a[0].node3),a[0].nodeRangePlot3&&s(t,a,a[0].nodeRangePlot3))}r&&(VGe(t),WGe(t))}function epe(t,e,r){for(var n=r?Uhe.difference:Uhe.union,i=n({regions:t},{regions:[e]}),a=i.regions.reverse(),o=0;o<a.length;o++){var s=a[o];s.subtract=M9(s,a.slice(0,o))}return a}function tpe(t,e){if(Array.isArray(t))for(var r=e.cd,n=e.cd[0].trace,i=0;i<t.length;i++)t[i]=PGe(t[i],n,r);return t}function rpe(t,e){for(var r=[],n=0;n<t.length;n++){r[n]=[];for(var i=0;i<t[n].length;i++){r[n][i]=[],r[n][i][0]=i?"L":"M";for(var a=0;a<t[n][i].length;a++)r[n][i].push(t[n][i][a])}e||r[n].push(["Z",r[n][0][1],r[n][0][2]])}return r}function npe(t,e){for(var r=[],n,i=[],a,o=0;o<e.length;o++){var s=e[o];a=s._module.selectPoints(s,t),i.push(a),n=tpe(a,s),r=r.concat(n)}return r}function S9(t,e,r,n,i){var a=!!n,o,s,l;i&&(o=i.plotinfo,s=i.xaxes[0]._id,l=i.yaxes[0]._id);var c=[],u=[],d=Yhe(t),f=t._fullLayout;if(o){var h=f._zoomlayer,p=f.dragmode,m=l_(p),v=C9(p);if(m||v){var y=Ql(t,s,"x"),b=Ql(t,l,"y");if(y&&b){var x=h.selectAll(".select-outline-"+o.id);if(x&&t._fullLayout._outlining&&x.length){for(var w=x[0][0],S=w.getAttribute("d"),_=HGe(S,t,o),C=[],E=0;E<_.length;E++){for(var M=_[E],I=[],L=0;L<M.length;L++)I.push([bp(y,M[L][1]),bp(b,M[L][2])]);I.xref=s,I.yref=l,I.subtract=M9(I,C),C.push(I)}d=d.concat(C)}}}}var O=s&&l?[s+l]:f._subplots.cartesian;aYe(t);for(var H={},Y=0;Y<O.length;Y++){var K=O[Y],N=K.indexOf("y"),U=K.slice(0,N),B=K.slice(N),$=s&&l?r:void 0;if($=sYe(d,U,B,$),$){var ee=n;if(!a){var te=Ql(t,U,"x"),he=Ql(t,B,"y");ee=G3(t,[te],[he],K);for(var we=0;we<ee.length;we++){var Te=ee[we],ce=Te.cd[0],q=ce.trace;if(Te._module.name==="scattergl"&&!ce.t.xpx){var X=q.x,G=q.y,de=q._length;ce.t.xpx=[],ce.t.ypx=[];for(var ue=0;ue<de;ue++)ce.t.xpx[ue]=te.c2p(X[ue]),ce.t.ypx[ue]=he.c2p(G[ue])}Te._module.name==="splom"&&(H[q.uid]||(H[q.uid]=!0))}}var fe=npe($,ee);c=c.concat(fe),u=u.concat(ee)}}var _e={points:c};u_(t,u,_e);var Oe=f.clickmode,Ce=Oe.indexOf("event")>-1&&e;if(!o&&e){var je=Yhe(t,!0);if(je.length){var qe=je[0].xref,Ve=je[0].yref;if(qe&&Ve){var ot=ape(je),$e=ope([Ql(t,qe,"x"),Ql(t,Ve,"y")]);$e(_e,ot)}}t._fullLayout._noEmitSelectedAtStart?t._fullLayout._noEmitSelectedAtStart=!1:Ce&&d_(t,_e),f._reselect=!1}if(!o&&f._deselect){var Xe=f._deselect;s=Xe.xref,l=Xe.yref,oYe(s,l,u)||ipe(t,s,l,n),Ce&&(_e.points.length?d_(t,_e):R9(t)),f._deselect=!1}return{eventData:_e,selectionTesters:r}}function aYe(t){var e=t.calcdata;if(e)for(var r=0;r<e.length;r++){var n=e[r][0],i=n.trace,a=t._fullLayout._splomScenes;if(a){var o=a[i.uid];o&&(o.selectBatch=[])}}}function oYe(t,e,r){for(var n=0;n<r.length;n++){var i=r[n];if(i.xaxis&&i.xaxis._id===t&&i.yaxis&&i.yaxis._id===e)return!0}return!1}function ipe(t,e,r,n){n=G3(t,[Ql(t,e,"x")],[Ql(t,r,"y")],e+r);for(var i=0;i<n.length;i++){var a=n[i];a._module.selectPoints(a,!1)}u_(t,n)}function sYe(t,e,r,n){for(var i,a=0;a<t.length;a++){var o=t[a];if(!(e!==o.xref||r!==o.yref))if(i){var s=!!o.subtract;i=epe(i,o,s),n=A9(i)}else i=[o],n=k9(o)}return n}function Yhe(t,e){for(var r=[],n=t._fullLayout,i=n.selections,a=i.length,o=0;o<a;o++)if(!(e&&o!==n._activeSelectionIndex)){var s=i[o];if(s){var l=s.xref,c=s.yref,u=Ql(t,l,"x"),d=Ql(t,c,"y"),f,h,p,m,v;if(s.type==="rect"){v=[];var y=bp(u,s.x0),b=bp(u,s.x1),x=bp(d,s.y0),w=bp(d,s.y1);v=[[y,x],[y,w],[b,w],[b,x]],f=Math.min(y,b),h=Math.max(y,b),p=Math.min(x,w),m=Math.max(x,w),v.xmin=f,v.xmax=h,v.ymin=p,v.ymax=m,v.xref=l,v.yref=c,v.subtract=!1,v.isRect=!0,r.push(v)}else if(s.type==="path")for(var S=s.path.split("Z"),_=[],C=0;C<S.length;C++){var E=S[C];if(E){E+="Z";var M=Bhe.extractPathCoords(E,jhe.paramIsX,"raw"),I=Bhe.extractPathCoords(E,jhe.paramIsY,"raw");f=1/0,h=-1/0,p=1/0,m=-1/0,v=[];for(var L=0;L<M.length;L++){var O=bp(u,M[L]),H=bp(d,I[L]);v.push([O,H]),f=Math.min(O,f),h=Math.max(O,h),p=Math.min(H,p),m=Math.max(H,m)}v.xmin=f,v.xmax=h,v.ymin=p,v.ymax=m,v.xref=l,v.yref=c,v.subtract=M9(v,_),_.push(v),r.push(v)}}}}return r}function M9(t,e){for(var r=!1,n=0;n<e.length;n++)for(var i=e[n],a=0;a<t.length;a++)if(NGe(t[a],i)){r=!r;break}return r}function bp(t,e){return t.type==="date"&&(e=e.replace("_"," ")),t.type==="log"?t.c2p(e):t.r2p(e,null,t.calendar)}function ape(t){for(var e=t.length,r=[],n=0;n<e;n++){var i=t[n];r=r.concat(i),r=r.concat([i[0]])}return lYe(r)}function lYe(t){return t.isRect=t.length===5&&t[0][0]===t[4][0]&&t[0][1]===t[4][1]&&t[0][0]===t[1][0]&&t[2][0]===t[3][0]&&t[0][1]===t[3][1]&&t[1][1]===t[2][1]||t[0][1]===t[1][1]&&t[2][1]===t[3][1]&&t[0][0]===t[3][0]&&t[1][0]===t[2][0],t.isRect&&(t.xmin=Math.min(t[0][0],t[2][0]),t.xmax=Math.max(t[0][0],t[2][0]),t.ymin=Math.min(t[0][1],t[2][1]),t.ymax=Math.max(t[0][1],t[2][1])),t}function ope(t){return function(e,r){for(var n,i,a=0;a<t.length;a++){var o=t[a],s=o._id,l=s.charAt(0);if(r.isRect){n||(n={});var c=r[l+"min"],u=r[l+"max"];c!==void 0&&u!==void 0&&(n[s]=[Vhe(o,c),Vhe(o,u)].sort(jGe))}else i||(i={}),i[s]=r.map(YGe(o))}n&&(e.range=n),i&&(e.lassoPoints=i)}}function cYe(t){var e=t.plotinfo;return e.fillRangeItems||ope(t.xaxes.concat(t.yaxes))}function uYe(t,e){t.emit("plotly_selecting",e)}function d_(t,e){e&&(e.selections=(t.layout||{}).selections||[]),t.emit("plotly_selected",e)}function R9(t){t.emit("plotly_deselect",null)}spe.exports={reselect:S9,prepSelect:$Ge,clearOutline:$he,clearSelectionsCache:c_,selectOnClick:Qhe}});var I9=J((m1t,cpe)=>{"use strict";cpe.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]});var h_=J((v1t,upe)=>{"use strict";upe.exports={axisRefDescription:function(t,e,r){return["If set to a",t,"axis id (e.g. *"+t+"* or","*"+t+"2*), the `"+t+"` position refers to a",t,"coordinate. If set to *paper*, the `"+t+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+r+"). If set to a",t,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+t+"2 domain* refers to the domain of the second",t," axis and a",t,"position of 0.5 refers to the","point between the",e,"and the",r,"of the domain of the","second",t,"axis."].join(" ")}}});var Rb=J((g1t,mpe)=>{"use strict";var dpe=I9(),fpe=ba(),Y3=Ha(),dYe=On().templatedArray,Z3=h_();function hpe(t){return["In order for absolute positioning of the arrow to work, *a"+t+"ref* must be exactly the same as *"+t+"ref*, otherwise *a"+t+"ref* will revert to *pixel* (explained next).","For relative positioning, *a"+t+"ref* can be set to *pixel*,","in which case the *a"+t+"* value is specified in pixels","relative to *"+t+"*.","Absolute positioning is useful","for trendline annotations which should continue to indicate","the correct trend when zoomed. Relative positioning is useful","for specifying the text offset for an annotated point."].join(" ")}function ppe(t,e,r){return["Sets the",t,"component of the arrow tail about the arrow head.","If `a"+t+"ref` is `pixel`, a positive (negative)","component corresponds to an arrow pointing","from",r,"to",e,"("+e,"to",r+").","If `a"+t+"ref` is not `pixel` and is exactly the same as `"+t+"ref`,","this is an absolute value on that axis,","like `"+t+"`, specified in the same coordinates as `"+t+"ref`."].join(" ")}mpe.exports=dYe("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw",description:["Determines whether or not this annotation is visible."].join(" ")},text:{valType:"string",editType:"calc+arraydraw",description:["Sets the text associated with this annotation.","Plotly uses a subset of HTML tags to do things like","newline (<br>), bold (<b></b>), italics (<i></i>),","hyperlinks (<a href='...'></a>). Tags <em>, <sup>, <sub>, <s>, <u>","<span> are also supported."].join(" ")},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw",description:["Sets the angle at which the `text` is drawn","with respect to the horizontal."].join(" ")},font:fpe({editType:"calc+arraydraw",colorEditType:"arraydraw",description:"Sets the annotation text font."}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw",description:["Sets an explicit width for the text box. null (default) lets the","text set the box width. Wider text will be clipped.","There is no automatic wrapping; use <br> to start a new line."].join(" ")},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw",description:["Sets an explicit height for the text box. null (default) lets the","text set the box height. Taller text will be clipped."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw",description:"Sets the opacity of the annotation (text + arrow)."},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw",description:["Sets the horizontal alignment of the `text` within the box.","Has an effect only if `text` spans two or more lines","(i.e. `text` contains one or more <br> HTML tags) or if an","explicit width is set to override the text width."].join(" ")},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw",description:["Sets the vertical alignment of the `text` within the box.","Has an effect only if an explicit height is set to override","the text height."].join(" ")},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw",description:"Sets the background color of the annotation."},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw",description:["Sets the color of the border enclosing the annotation `text`."].join(" ")},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw",description:["Sets the padding (in px) between the `text`","and the enclosing border."].join(" ")},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw",description:["Sets the width (in px) of the border enclosing","the annotation `text`."].join(" ")},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw",description:["Determines whether or not the annotation is drawn with an arrow.","If *true*, `text` is placed near the arrow's tail.","If *false*, `text` lines up with the `x` and `y` provided."].join(" ")},arrowcolor:{valType:"color",editType:"arraydraw",description:"Sets the color of the annotation arrow."},arrowhead:{valType:"integer",min:0,max:dpe.length,dflt:1,editType:"arraydraw",description:"Sets the end annotation arrow head style."},startarrowhead:{valType:"integer",min:0,max:dpe.length,dflt:1,editType:"arraydraw",description:"Sets the start annotation arrow head style."},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw",description:"Sets the annotation arrow head position."},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw",description:["Sets the size of the end annotation arrow head, relative to `arrowwidth`.","A value of 1 (default) gives a head about 3x as wide as the line."].join(" ")},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw",description:["Sets the size of the start annotation arrow head, relative to `arrowwidth`.","A value of 1 (default) gives a head about 3x as wide as the line."].join(" ")},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw",description:"Sets the width (in px) of annotation arrow line."},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw",description:["Sets a distance, in pixels, to move the end arrowhead away from the","position it is pointing at, for example to point at the edge of","a marker independent of zoom. Note that this shortens the arrow","from the `ax` / `ay` vector, in contrast to `xshift` / `yshift`","which moves everything by this amount."].join(" ")},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw",description:["Sets a distance, in pixels, to move the start arrowhead away from the","position it is pointing at, for example to point at the edge of","a marker independent of zoom. Note that this shortens the arrow","from the `ax` / `ay` vector, in contrast to `xshift` / `yshift`","which moves everything by this amount."].join(" ")},ax:{valType:"any",editType:"calc+arraydraw",description:[ppe("x","left","right")].join(" ")},ay:{valType:"any",editType:"calc+arraydraw",description:[ppe("y","top","bottom")].join(" ")},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",Y3.idRegex.x.toString()],editType:"calc",description:["Indicates in what coordinates the tail of the","annotation (ax,ay) is specified.",Z3.axisRefDescription("x","left","right"),hpe("x")].join(" ")},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",Y3.idRegex.y.toString()],editType:"calc",description:["Indicates in what coordinates the tail of the","annotation (ax,ay) is specified.",Z3.axisRefDescription("y","bottom","top"),hpe("y")].join(" ")},xref:{valType:"enumerated",values:["paper",Y3.idRegex.x.toString()],editType:"calc",description:["Sets the annotation's x coordinate axis.",Z3.axisRefDescription("x","left","right")].join(" ")},x:{valType:"any",editType:"calc+arraydraw",description:["Sets the annotation's x position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw",description:["Sets the text box's horizontal position anchor","This anchor binds the `x` position to the *left*, *center*","or *right* of the annotation.","For example, if `x` is set to 1, `xref` to *paper* and","`xanchor` to *right* then the right-most portion of the","annotation lines up with the right-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *center* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw",description:["Shifts the position of the whole annotation and arrow to the","right (positive) or left (negative) by this many pixels."].join(" ")},yref:{valType:"enumerated",values:["paper",Y3.idRegex.y.toString()],editType:"calc",description:["Sets the annotation's y coordinate axis.",Z3.axisRefDescription("y","bottom","top")].join(" ")},y:{valType:"any",editType:"calc+arraydraw",description:["Sets the annotation's y position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw",description:["Sets the text box's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the annotation.","For example, if `y` is set to 1, `yref` to *paper* and","`yanchor` to *top* then the top-most portion of the","annotation lines up with the top-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *middle* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw",description:["Shifts the position of the whole annotation and arrow up","(positive) or down (negative) by this many pixels."].join(" ")},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw",description:["Makes this annotation respond to clicks on the plot.","If you click a data point that exactly matches the `x` and `y`","values of this annotation, and it is hidden (visible: false),","it will appear. In *onoff* mode, you must click the same point","again to make it disappear, so if you click multiple points,","you can show multiple annotations. In *onout* mode, a click","anywhere else in the plot (on another data point or not) will","hide this annotation.","If you need to show/hide this annotation in response to different","`x` or `y` values, you can set `xclick` and/or `yclick`. This is","useful for example to label the side of a bar. To label markers","though, `standoff` is preferred over `xclick` and `yclick`."].join(" ")},xclick:{valType:"any",editType:"arraydraw",description:["Toggle this annotation when clicking a data point whose `x` value","is `xclick` rather than the annotation's `x` value."].join(" ")},yclick:{valType:"any",editType:"arraydraw",description:["Toggle this annotation when clicking a data point whose `y` value","is `yclick` rather than the annotation's `y` value."].join(" ")},hovertext:{valType:"string",editType:"arraydraw",description:["Sets text to appear when hovering over this annotation.","If omitted or blank, no hover label will appear."].join(" ")},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw",description:["Sets the background color of the hover label.","By default uses the annotation's `bgcolor` made opaque,","or white if it was transparent."].join(" ")},bordercolor:{valType:"color",editType:"arraydraw",description:["Sets the border color of the hover label.","By default uses either dark grey or white, for maximum","contrast with `hoverlabel.bgcolor`."].join(" ")},font:fpe({editType:"arraydraw",description:["Sets the hover label text font.","By default uses the global hover font and size,","with color from `hoverlabel.bordercolor`."].join(" ")}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw",description:["Determines whether the annotation text box captures mouse move","and click events, or allows those events to pass through to data","points in the plot that may be behind the annotation. By default","`captureevents` is *false* unless `hovertext` is provided.","If you use the event `plotly_clickannotation` without `hovertext`","you must explicitly enable `captureevents`."].join(" ")},editType:"calc"})});var $3=J((y1t,vpe)=>{"use strict";vpe.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}});var ype=J((b1t,gpe)=>{"use strict";gpe.exports=function(e){return{valType:"color",editType:"style",anim:!0,description:["Sets the fill color.","Defaults to a half-transparent variant of the line color,","marker color, or marker line color, whichever is available."+(e?" If fillgradient is specified, fillcolor is ignored except for setting the background color of the hover label, if any.":"")].join(" ")}}});var wp=J((w1t,Cpe)=>{"use strict";var bpe=AS().axisHoverFormat,fYe=Gs().texttemplateAttrs,hYe=Gs().hovertemplateAttrs,wpe=_v(),pYe=ba(),mYe=Lc().dash,vYe=Lc().pattern,gYe=Kr(),xpe=$3(),X3=Ti().extendFlat,yYe=ype();function Tpe(t){return{valType:"any",dflt:0,editType:"calc",description:["Only relevant when the axis `type` is *date*.","Sets the period positioning in milliseconds or *M<n>* on the "+t+" axis.","Special values in the form of *M<n>* could be used to declare","the number of months. In this case `n` must be a positive integer."].join(" ")}}function Spe(t){return{valType:"any",editType:"calc",description:["Only relevant when the axis `type` is *date*.","Sets the base for period positioning in milliseconds or date string on the "+t+" axis.","When `"+t+"period` is round number of weeks,","the `"+t+"period0` by default would be on a Sunday i.e. 2000-01-02,","otherwise it would be at 2000-01-01."].join(" ")}}function _pe(t){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc",description:["Only relevant when the axis `type` is *date*.","Sets the alignment of data points on the "+t+" axis."].join(" ")}}Cpe.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0,description:"Sets the x coordinates."},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0,description:["Alternate to `x`.","Builds a linear space of x coordinates.","Use with `dx`","where `x0` is the starting coordinate and `dx` the step."].join(" ")},dx:{valType:"number",dflt:1,editType:"calc",anim:!0,description:["Sets the x coordinate step.","See `x0` for more info."].join(" ")},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0,description:"Sets the y coordinates."},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0,description:["Alternate to `y`.","Builds a linear space of y coordinates.","Use with `dy`","where `y0` is the starting coordinate and `dy` the step."].join(" ")},dy:{valType:"number",dflt:1,editType:"calc",anim:!0,description:["Sets the y coordinate step.","See `y0` for more info."].join(" ")},xperiod:Tpe("x"),yperiod:Tpe("y"),xperiod0:Spe("x0"),yperiod0:Spe("y0"),xperiodalignment:_pe("x"),yperiodalignment:_pe("y"),xhoverformat:bpe("x"),yhoverformat:bpe("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc",description:["Set several traces linked to the same position axis","or matching axes to the same","offsetgroup where bars of the same position coordinate will line up."].join(" ")},alignmentgroup:{valType:"string",dflt:"",editType:"calc",description:["Set several traces linked to the same position axis","or matching axes to the same","alignmentgroup. This controls whether bars compute their positional","range dependently or independently."].join(" ")},stackgroup:{valType:"string",dflt:"",editType:"calc",description:["Set several scatter traces (on the same subplot) to the same","stackgroup in order to add their y values (or their x values if","`orientation` is *h*). If blank or omitted this trace will not be","stacked. Stacking also turns `fill` on by default, using *tonexty*","(*tonextx*) if `orientation` is *h* (*v*) and sets the default","`mode` to *lines* irrespective of point count.","You can only stack on a numeric (linear or log) axis.","Traces in a `stackgroup` will only fill to (or be filled to) other","traces in the same group. With multiple `stackgroup`s or some","traces stacked and some not, if fill-linked traces are not already","consecutive, the later ones will be pushed down in the drawing order."].join(" ")},orientation:{valType:"enumerated",values:["v","h"],editType:"calc",description:["Only relevant in the following cases:","1. when `scattermode` is set to *group*.","2. when `stackgroup` is used, and only the first","`orientation` found in the `stackgroup` will be used - including","if `visible` is *legendonly* but not if it is `false`. Sets the","stacking direction. With *v* (*h*), the y (x) values of subsequent","traces are added. Also affects the default value of `fill`."].join(" ")},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc",description:["Only relevant when `stackgroup` is used, and only the first","`groupnorm` found in the `stackgroup` will be used - including","if `visible` is *legendonly* but not if it is `false`.","Sets the normalization for the sum of this `stackgroup`.","With *fraction*, the value of each trace at each location is","divided by the sum of all trace values at that location.","*percent* is the same but multiplied by 100 to show percentages.","If there are multiple subplots, or multiple `stackgroup`s on one","subplot, each will be normalized within its own set."].join(" ")},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc",description:["Only relevant when `stackgroup` is used, and only the first","`stackgaps` found in the `stackgroup` will be used - including","if `visible` is *legendonly* but not if it is `false`.","Determines how we handle locations at which other traces in this","group have data but this one does not.","With *infer zero* we insert a zero at these locations.","With *interpolate* we linearly interpolate between existing","values, and extrapolate a constant beyond the existing values."].join(" ")},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc",description:["Sets text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},texttemplate:fYe({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style",description:["Sets hover text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc",description:["Determines the drawing mode for this scatter trace.","If the provided `mode` includes *text* then the `text` elements","appear at the coordinates. Otherwise, the `text` elements","appear on hover.","If there are less than "+xpe.PTS_LINESONLY+" points","and the trace is not stacked","then the default is *lines+markers*. Otherwise, *lines*."].join(" ")},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style",description:["Do the hover effects highlight individual points (markers or","line points) or do they highlight filled regions?","If the fill is *toself* or *tonext* and there are no markers","or text, then the default is *fills*, otherwise it is *points*."].join(" ")},hovertemplate:hYe({},{keys:xpe.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0,description:"Sets the line color."},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0,description:"Sets the line width (in px)."},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot",description:["Determines the line shape.","With *spline* the lines are drawn using spline interpolation.","The other available values correspond to step-wise line shapes."].join(" ")},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot",description:["Has an effect only if `shape` is set to *spline*","Sets the amount of smoothing.","*0* corresponds to no smoothing (equivalent to a *linear* shape)."].join(" ")},dash:X3({},mYe,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot",description:["Sets the line back off from the end point of the nth line segment (in px).","This option is useful e.g. to avoid overlap with arrowhead markers.","With *auto* the lines would trim before markers if `marker.angleref` is set to *previous*."].join(" ")},simplify:{valType:"boolean",dflt:!0,editType:"plot",description:["Simplifies lines by removing nearly-collinear points. When transitioning","lines, it may be desirable to disable this so that the number of points","along the resulting SVG path is unaffected."].join(" ")},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc",description:["Determines whether or not gaps","(i.e. {nan} or missing values)","in the provided data arrays are connected."].join(" ")},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot",description:["Determines whether or not markers and text nodes","are clipped about the subplot axes.","To show markers and text nodes above axis lines and tick labels,","make sure to set `xaxis.layer` and `yaxis.layer` to *below traces*."].join(" ")},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc",description:["Sets the area to fill with a solid color.","Defaults to *none* unless this trace is stacked, then it gets","*tonexty* (*tonextx*) if `orientation` is *v* (*h*)","Use with `fillcolor` if not *none*.","*tozerox* and *tozeroy* fill to x=0 and y=0 respectively.","*tonextx* and *tonexty* fill between the endpoints of this","trace and the endpoints of the trace before it, connecting those","endpoints with straight lines (to make a stacked area graph);","if there is no trace before it, they behave like *tozerox* and","*tozeroy*.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other.","Traces in a `stackgroup` will only fill to (or be filled to) other","traces in the same group. With multiple `stackgroup`s or some","traces stacked and some not, if fill-linked traces are not already","consecutive, the later ones will be pushed down in the drawing order."].join(" ")},fillcolor:yYe(!0),fillgradient:X3({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc",description:["Sets the type/orientation of the color gradient for the fill.","Defaults to *none*."].join(" ")},start:{valType:"number",editType:"calc",description:["Sets the gradient start value.","It is given as the absolute position on the axis determined by","the orientiation. E.g., if orientation is *horizontal*, the","gradient will be horizontal and start from the x-position","given by start. If omitted, the gradient starts at the lowest","value of the trace along the respective axis.","Ignored if orientation is *radial*."].join(" ")},stop:{valType:"number",editType:"calc",description:["Sets the gradient end value.","It is given as the absolute position on the axis determined by","the orientiation. E.g., if orientation is *horizontal*, the","gradient will be horizontal and end at the x-position","given by end. If omitted, the gradient ends at the highest","value of the trace along the respective axis.","Ignored if orientation is *radial*."].join(" ")},colorscale:{valType:"colorscale",editType:"style",description:["Sets the fill gradient colors as a color scale.","The color scale is interpreted as a gradient","applied in the direction specified by *orientation*,","from the lowest to the highest value of the scatter","plot along that axis, or from the center to the most","distant point from it, if orientation is *radial*."].join(" ")},editType:"calc",description:["Sets a fill gradient.","If not specified, the fillcolor is used instead."].join(" ")}),fillpattern:vYe,marker:X3({symbol:{valType:"enumerated",values:gYe.symbolList,dflt:"circle",arrayOk:!0,editType:"style",description:["Sets the marker symbol type.","Adding 100 is equivalent to appending *-open* to a symbol name.","Adding 200 is equivalent to appending *-dot* to a symbol name.","Adding 300 is equivalent to appending *-open-dot*","or *dot-open* to a symbol name."].join(" ")},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0,description:"Sets the marker opacity."},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1,description:["Sets the marker angle in respect to `angleref`."].join(" ")},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1,description:["Sets the reference for marker angle.","With *previous*, angle 0 points along the line from the previous point to this one.","With *up*, angle 0 points toward the top of the screen."].join(" ")},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0,description:["Moves the marker away from the data point in the direction of `angle` (in px).","This can be useful for example if you have another marker at this","location and you want to point an arrowhead marker at it."].join(" ")},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0,description:"Sets the marker size (in px)."},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot",description:["Sets a maximum number of points to be drawn on the graph.","*0* corresponds to no limit."].join(" ")},sizeref:{valType:"number",dflt:1,editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the scale factor used to determine the rendered size of","marker points. Use with `sizemin` and `sizemode`."].join(" ")},sizemin:{valType:"number",min:0,dflt:0,editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the minimum size (in px) of the rendered marker points."].join(" ")},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the rule for which the data in `size` is converted","to pixels."].join(" ")},line:X3({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0,description:"Sets the width (in px) of the lines bounding the marker points."},editType:"calc"},wpe("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc",description:["Sets the type of gradient used to fill the markers"].join(" ")},color:{valType:"color",arrayOk:!0,editType:"calc",description:["Sets the final color of the gradient fill:","the center color for radial, the right for horizontal,","or the bottom for vertical."].join(" ")},editType:"calc"},editType:"calc"},wpe("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style",description:"Sets the marker opacity of selected points."},color:{valType:"color",editType:"style",description:"Sets the marker color of selected points."},size:{valType:"number",min:0,editType:"style",description:"Sets the marker size of selected points."},editType:"style"},textfont:{color:{valType:"color",editType:"style",description:"Sets the text font color of selected points."},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style",description:"Sets the marker opacity of unselected points, applied only when a selection exists."},color:{valType:"color",editType:"style",description:"Sets the marker color of unselected points, applied only when a selection exists."},size:{valType:"number",min:0,editType:"style",description:"Sets the marker size of unselected points, applied only when a selection exists."},editType:"style"},textfont:{color:{valType:"color",editType:"style",description:"Sets the text font color of unselected points, applied only when a selection exists."},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc",description:["Sets the positions of the `text` elements","with respects to the (x,y) coordinates."].join(" ")},textfont:pYe({editType:"calc",colorEditType:"style",arrayOk:!0,description:"Sets the text font."}),zorder:{valType:"integer",dflt:0,editType:"plot",description:["Sets the layer on which this trace is displayed, relative to","other SVG traces on the same subplot. SVG traces with higher `zorder`","appear in front of those with lower `zorder`."].join(" ")}}});var N9=J((x1t,Ape)=>{"use strict";var kpe=Rb(),Epe=wp().line,bYe=Lc().dash,K3=Ti().extendFlat,wYe=Fu().overrideAll,xYe=On().templatedArray,Dpe=h_();Ape.exports=wYe(xYe("selection",{type:{valType:"enumerated",values:["rect","path"],description:["Specifies the selection type to be drawn.","If *rect*, a rectangle is drawn linking","(`x0`,`y0`), (`x1`,`y0`), (`x1`,`y1`) and (`x0`,`y1`).","If *path*, draw a custom SVG path using `path`."].join(" ")},xref:K3({},kpe.xref,{description:["Sets the selection's x coordinate axis.",Dpe.axisRefDescription("x","left","right")].join(" ")}),yref:K3({},kpe.yref,{description:["Sets the selection's x coordinate axis.",Dpe.axisRefDescription("y","bottom","top")].join(" ")}),x0:{valType:"any",description:"Sets the selection's starting x position."},x1:{valType:"any",description:"Sets the selection's end x position."},y0:{valType:"any",description:"Sets the selection's starting y position."},y1:{valType:"any",description:"Sets the selection's end y position."},path:{valType:"string",editType:"arraydraw",description:["For `type` *path* - a valid SVG path similar to `shapes.path` in data coordinates.","Allowed segments are: M, L and Z."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw",description:"Sets the opacity of the selection."},line:{color:Epe.color,width:K3({},Epe.width,{min:1,dflt:1}),dash:K3({},bYe,{dflt:"dot"})}}),"arraydraw","from-root")});var Npe=J((T1t,Ipe)=>{"use strict";var Mpe=Qe(),Q3=gn(),TYe=Hc(),SYe=N9(),Rpe=yp();Ipe.exports=function(e,r){TYe(e,r,{name:"selections",handleItemDefaults:_Ye});for(var n=r.selections,i=0;i<n.length;i++){var a=n[i];a&&a.path===void 0&&(a.x0===void 0||a.x1===void 0||a.y0===void 0||a.y1===void 0)&&(r.selections[i]=null)}};function _Ye(t,e,r){function n(_,C){return Mpe.coerce(t,e,SYe,_,C)}var i=n("path"),a=i?"path":"rect",o=n("type",a),s=o!=="path";s&&delete e.path,n("opacity"),n("line.color"),n("line.width"),n("line.dash");for(var l=["x","y"],c=0;c<2;c++){var u=l[c],d={_fullLayout:r},f,h,p,m=Q3.coerceRef(t,e,d,u);if(f=Q3.getFromId(d,m),f._selectionIndices.push(e._index),p=Rpe.rangeToShapePosition(f),h=Rpe.shapePositionToRange(f),s){var v=u+"0",y=u+"1",b=t[v],x=t[y];t[v]=h(t[v],!0),t[y]=h(t[y],!0),Q3.coercePosition(e,d,n,m,v),Q3.coercePosition(e,d,n,m,y);var w=e[v],S=e[y];w!==void 0&&S!==void 0&&(e[v]=p(w),e[y]=p(S),t[v]=b,t[y]=x)}}s&&Mpe.noneOrAll(t,e,["x0","x1","y0","y1"])}});var Ope=J((S1t,Lpe)=>{"use strict";Lpe.exports=function(e,r,n){n("newselection.mode");var i=n("newselection.line.width");i&&(n("newselection.line.color"),n("newselection.line.dash")),n("activeselection.fillcolor"),n("activeselection.opacity")}});var p_=J((_1t,Fpe)=>{"use strict";var CYe=Xt(),Ppe=Qe(),zpe=Wi();Fpe.exports=function(e){return function(n,i){var a=n[e];if(Array.isArray(a))for(var o=CYe.subplotsRegistry.cartesian,s=o.idRegex,l=i._subplots,c=l.xaxis,u=l.yaxis,d=l.cartesian,f=i._has("cartesian"),h=0;h<a.length;h++){var p=a[h];if(Ppe.isPlainObject(p)){var m=zpe.cleanId(p.xref,"x",!1),v=zpe.cleanId(p.yref,"y",!1),y=s.x.test(m),b=s.y.test(v);if(y||b){f||Ppe.pushUnique(i._basePlotModules,o);var x=!1;y&&c.indexOf(m)===-1&&(c.push(m),x=!0),b&&u.indexOf(v)===-1&&(u.push(v),x=!0),x&&y&&b&&d.push(m+v)}}}}}});var Ib=J((C1t,qpe)=>{"use strict";var Hpe=y9(),m_=lpe();qpe.exports={moduleType:"component",name:"selections",layoutAttributes:N9(),supplyLayoutDefaults:Npe(),supplyDrawNewSelectionDefaults:Ope(),includeBasePlot:p_()("selections"),draw:Hpe.draw,drawOne:Hpe.drawOne,reselect:m_.reselect,prepSelect:m_.prepSelect,clearOutline:m_.clearOutline,clearSelectionsCache:m_.clearSelectionsCache,selectOnClick:m_.selectOnClick}});var sme=J((k1t,ome)=>{"use strict";var F9=Sr(),Jl=Qe(),Upe=Jl.numberFormat,kYe=Vs(),EYe=yH(),J3=Xt(),Xpe=Jl.strTranslate,DYe=wa(),Bpe=gr(),xp=Kr(),AYe=Zl(),jpe=gn(),MYe=bf(),RYe=Bc(),Kpe=Sb(),e5=Kpe.selectingOrDrawing,IYe=Kpe.freeMode,NYe=ao().FROM_TL,LYe=m3(),OYe=F3().redrawReglTraces,PYe=ki(),O9=Wi().getFromId,zYe=Ib().prepSelect,FYe=Ib().clearOutline,HYe=Ib().selectOnClick,L9=u9(),H9=Ha(),Vpe=H9.MINDRAG,Wo=H9.MINZOOM,Wpe=!0;function qYe(t,e,r,n,i,a,o,s){var l=t._fullLayout._zoomlayer,c=o+s==="nsew",u=(o+s).length===1,d,f,h,p,m,v,y,b,x,w,S,_,C,E,M,I,L,O,H,Y,K,N,U;r+=e.yaxis._shift;function B(){if(d=e.xaxis,f=e.yaxis,x=d._length,w=f._length,y=d._offset,b=f._offset,h={},h[d._id]=d,p={},p[f._id]=f,o&&s)for(var He=e.overlays,Ue=0;Ue<He.length;Ue++){var ct=He[Ue].xaxis;h[ct._id]=ct;var rt=He[Ue].yaxis;p[rt._id]=rt}m=$pe(h),v=$pe(p),C=Gpe(m,s),E=Gpe(v,o),M=!E&&!C,_=Zpe(t,t._fullLayout._axisMatchGroups,h,p),S=Zpe(t,t._fullLayout._axisConstraintGroups,h,p,_);var lt=S.isSubplotConstrained||_.isSubplotConstrained;I=s||lt,L=o||lt;var st=t._fullLayout;O=st._has("scattergl"),H=st._has("splom"),Y=st._has("svg")}B();var $=jYe(E+C,t._fullLayout.dragmode,c),ee=Jpe(e,o+s+"drag",$,r,n,i,a);if(M&&!c)return ee.onmousedown=null,ee.style.pointerEvents="none",ee;var te={element:ee,gd:t,plotinfo:e};te.prepFn=function(He,Ue,ct){var rt=te.dragmode,lt=t._fullLayout.dragmode;lt!==rt&&(te.dragmode=lt),B(),N=t._fullLayout._invScaleX,U=t._fullLayout._invScaleY,M||(c?He.shiftKey?lt==="pan"?lt="zoom":e5(lt)||(lt="pan"):He.ctrlKey&&(lt="pan"):lt="pan"),IYe(lt)?te.minDrag=1:te.minDrag=void 0,e5(lt)?(te.xaxes=m,te.yaxes=v,zYe(He,Ue,ct,te,lt)):(te.clickFn=we,e5(rt)&&he(),M||(lt==="zoom"?(te.moveFn=je,te.doneFn=Ve,te.minDrag=1,Ce(He,Ue,ct)):lt==="pan"&&(te.moveFn=Ke,te.doneFn=ge))),t._fullLayout._redrag=function(){var st=t._dragdata;if(st&&st.element===ee){var mt=t._fullLayout.dragmode;e5(mt)||(B(),Ne([0,0,x,w]),te.moveFn(st.dx,st.dy))}}};function he(){te.plotinfo.selection=!1,FYe(t)}function we(He,Ue){var ct=te.gd;if(ct._fullLayout._activeShapeIndex>=0){ct._fullLayout._deactivateShape(ct);return}var rt=ct._fullLayout.clickmode;if(z9(ct),He===2&&!u&&at(),c)rt.indexOf("select")>-1&&HYe(Ue,ct,m,v,e.id,te),rt.indexOf("event")>-1&&AYe.click(ct,Ue,e.id);else if(He===1&&u){var lt=o?f:d,st=o==="s"||s==="w"?0:1,mt=lt._name+".range["+st+"]",kt=UYe(lt,st),_t="left",Ye="middle";if(lt.fixedrange)return;o?(Ye=o==="n"?"top":"bottom",lt.side==="right"&&(_t="right")):s==="e"&&(_t="right"),ct._context.showAxisRangeEntryBoxes&&F9.select(ee).call(DYe.makeEditable,{gd:ct,immediate:!0,background:ct._fullLayout.paper_bgcolor,text:String(kt),fill:lt.tickfont?lt.tickfont.color:"#444",horizontalAlign:_t,verticalAlign:Ye}).on("edit",function(bt){var ut=lt.d2r(bt);ut!==void 0&&J3.call("_guiRelayout",ct,mt,ut)})}}RYe.init(te);var Te,ce,q,X,G,de,ue,fe,_e,Oe;function Ce(He,Ue,ct){var rt=ee.getBoundingClientRect();Te=Ue-rt.left,ce=ct-rt.top,t._fullLayout._calcInverseTransform(t);var lt=Jl.apply3DTransform(t._fullLayout._invTransform)(Te,ce);Te=lt[0],ce=lt[1],q={l:Te,r:Te,w:0,t:ce,b:ce,h:0},X=t._hmpixcount?t._hmlumcount/t._hmpixcount:kYe(t._fullLayout.plot_bgcolor).getLuminance(),G="M0,0H"+x+"V"+w+"H0V0",de=!1,ue="xy",Oe=!1,fe=eme(l,X,y,b,G),_e=tme(l,y,b)}function je(He,Ue){if(t._transitioningWithDuration)return!1;var ct=Math.max(0,Math.min(x,N*He+Te)),rt=Math.max(0,Math.min(w,U*Ue+ce)),lt=Math.abs(ct-Te),st=Math.abs(rt-ce);q.l=Math.min(Te,ct),q.r=Math.max(Te,ct),q.t=Math.min(ce,rt),q.b=Math.max(ce,rt);function mt(){ue="",q.r=q.l,q.t=q.b,_e.attr("d","M0,0Z")}if(S.isSubplotConstrained)lt>Wo||st>Wo?(ue="xy",lt/x>st/w?(st=lt*w/x,ce>rt?q.t=ce-st:q.b=ce+st):(lt=st*x/w,Te>ct?q.l=Te-lt:q.r=Te+lt),_e.attr("d",t5(q))):mt();else if(_.isSubplotConstrained)if(lt>Wo||st>Wo){ue="xy";var kt=Math.min(q.l/x,(w-q.b)/w),_t=Math.max(q.r/x,(w-q.t)/w);q.l=kt*x,q.r=_t*x,q.b=(1-kt)*w,q.t=(1-_t)*w,_e.attr("d",t5(q))}else mt();else!E||st<Math.min(Math.max(lt*.6,Vpe),Wo)?lt<Vpe||!C?mt():(q.t=0,q.b=w,ue="x",_e.attr("d",VYe(q,ce))):!C||lt<Math.min(st*.6,Wo)?(q.l=0,q.r=x,ue="y",_e.attr("d",WYe(q,Te))):(ue="xy",_e.attr("d",t5(q)));q.w=q.r-q.l,q.h=q.b-q.t,ue&&(Oe=!0),t._dragged=Oe,rme(fe,_e,q,G,de,X),qe(),t.emit("plotly_relayouting",K),de=!0}function qe(){K={},(ue==="xy"||ue==="x")&&(P9(m,q.l/x,q.r/x,K,S.xaxes),Ae("x",K)),(ue==="xy"||ue==="y")&&(P9(v,(w-q.b)/w,(w-q.t)/w,K,S.yaxes),Ae("y",K))}function Ve(){qe(),z9(t),ge(),ime(t)}var ot=[0,0,x,w],$e=null,Xe=H9.REDRAWDELAY,Je=e.mainplot?t._fullLayout._plots[e.mainplot]:e;function nt(He){if(!t._context._scrollZoom.cartesian&&!t._fullLayout._enablescrollzoom)return;if(he(),t._transitioningWithDuration){He.preventDefault(),He.stopPropagation();return}B(),clearTimeout($e);var Ue=-He.deltaY;if(isFinite(Ue)||(Ue=He.wheelDelta/10),!isFinite(Ue)){Jl.log("Did not find wheel motion attributes: ",He);return}var ct=Math.exp(-Math.min(Math.max(Ue,-20),20)/200),rt=Je.draglayer.select(".nsewdrag").node().getBoundingClientRect(),lt=(He.clientX-rt.left)/rt.width,st=(rt.bottom-He.clientY)/rt.height,mt;function kt(_t,Ye,bt){if(_t.fixedrange)return;var ut=Jl.simpleMap(_t.range,_t.r2l),P=ut[0]+(ut[1]-ut[0])*Ye;function z(Q){return _t.l2r(P+(Q-P)*bt)}_t.range=ut.map(z)}if(I){for(s||(lt=.5),mt=0;mt<m.length;mt++)kt(m[mt],lt,ct);Ae("x"),ot[2]*=ct,ot[0]+=ot[2]*lt*(1/ct-1)}if(L){for(o||(st=.5),mt=0;mt<v.length;mt++)kt(v[mt],st,ct);Ae("y"),ot[3]*=ct,ot[1]+=ot[3]*(1-st)*(1/ct-1)}Ne(ot),it(),t.emit("plotly_relayouting",K),$e=setTimeout(function(){t._fullLayout&&(ot=[0,0,x,w],ge())},Xe),He.preventDefault()}o.length*s.length!==1&&ame(ee,nt);function Ke(He,Ue){if(He=He*N,Ue=Ue*U,t._transitioningWithDuration)return;if(t._fullLayout._replotting=!0,C==="ew"||E==="ns"){var ct=C?-He:0,rt=E?-Ue:0;if(_.isSubplotConstrained){if(C&&E){var lt=(He/x-Ue/w)/2;He=lt*x,Ue=-lt*w,ct=-He,rt=-Ue}E?ct=-rt*x/w:rt=-ct*w/x}C&&(Ype(m,He),Ae("x")),E&&(Ype(v,Ue),Ae("y")),Ne([ct,rt,x,w]),it(),t.emit("plotly_relayouting",K);return}function st(z,Q,le){for(var V=1-Q,oe,be,xe=0;xe<z.length;xe++){var Ge=z[xe];if(!Ge.fixedrange){oe=Ge,be=Ge._rl[V]+(Ge._rl[Q]-Ge._rl[V])/BYe(le/Ge._length);var Ie=Ge.l2r(be);Ie!==!1&&Ie!==void 0&&(Ge.range[Q]=Ie)}}return oe._length*(oe._rl[Q]-be)/(oe._rl[Q]-oe._rl[V])}var mt=C==="w"==(E==="n")?1:-1;if(C&&E&&(S.isSubplotConstrained||_.isSubplotConstrained)){var kt=(He/x+mt*Ue/w)/2;He=kt*x,Ue=mt*kt*w}var _t,Ye;if(C==="w"?He=st(m,0,He):C==="e"?He=st(m,1,-He):C||(He=0),E==="n"?Ue=st(v,1,Ue):E==="s"?Ue=st(v,0,-Ue):E||(Ue=0),_t=C==="w"?He:0,Ye=E==="n"?Ue:0,S.isSubplotConstrained&&!_.isSubplotConstrained||_.isSubplotConstrained&&C&&E&&mt>0){var bt;if(_.isSubplotConstrained||!C&&E.length===1){for(bt=0;bt<m.length;bt++)m[bt].range=m[bt]._r.slice(),L9(m[bt],1-Ue/w);He=Ue*x/w,_t=He/2}if(_.isSubplotConstrained||!E&&C.length===1){for(bt=0;bt<v.length;bt++)v[bt].range=v[bt]._r.slice(),L9(v[bt],1-He/x);Ue=He*w/x,Ye=Ue/2}}(!_.isSubplotConstrained||!E)&&Ae("x"),(!_.isSubplotConstrained||!C)&&Ae("y");var ut=x-He,P=w-Ue;_.isSubplotConstrained&&!(C&&E)&&(C?(Ye=_t?0:He*w/x,P=ut*w/x):(_t=Ye?0:Ue*x/w,ut=P*x/w)),Ne([_t,Ye,ut,P]),it(),t.emit("plotly_relayouting",K)}function Ae(He,Ue){for(var ct=_.isSubplotConstrained?{x:v,y:m}[He]:_[He+"axes"],rt=_.isSubplotConstrained?{x:m,y:v}[He]:[],lt=0;lt<ct.length;lt++){var st=ct[lt],mt=st._id,kt=_.xLinks[mt]||_.yLinks[mt],_t=rt[0]||h[kt]||p[kt];_t&&(Ue?(Ue[st._name+".range[0]"]=Ue[_t._name+".range[0]"],Ue[st._name+".range[1]"]=Ue[_t._name+".range[1]"]):st.range=_t.range.slice())}}function it(){var He=[],Ue;function ct(mt){for(Ue=0;Ue<mt.length;Ue++)mt[Ue].fixedrange||He.push(mt[Ue]._id)}function rt(mt,kt){for(Ue=0;Ue<mt.length;Ue++){var _t=mt[Ue],Ye=_t[kt];!_t.fixedrange&&Ye.tickmode==="sync"&&He.push(Ye._id)}}for(I&&(ct(m),ct(S.xaxes),ct(_.xaxes),rt(e.overlays,"xaxis")),L&&(ct(v),ct(S.yaxes),ct(_.yaxes),rt(e.overlays,"yaxis")),K={},Ue=0;Ue<He.length;Ue++){var lt=He[Ue],st=O9(t,lt);jpe.drawOne(t,st,{skipTitle:!0}),K[st._name+".range[0]"]=st.range[0],K[st._name+".range[1]"]=st.range[1]}jpe.redrawComponents(t,He)}function at(){if(!t._transitioningWithDuration){var He=t._context.doubleClick,Ue=[];C&&(Ue=Ue.concat(m)),E&&(Ue=Ue.concat(v)),_.xaxes&&(Ue=Ue.concat(_.xaxes)),_.yaxes&&(Ue=Ue.concat(_.yaxes));var ct={},rt,lt;if(He==="reset+autosize")for(He="autosize",lt=0;lt<Ue.length;lt++){rt=Ue[lt];var st=rt._rangeInitial0,mt=rt._rangeInitial1,kt=st!==void 0||mt!==void 0;if(kt&&(st!==void 0&&st!==rt.range[0]||mt!==void 0&&mt!==rt.range[1])||!kt&&rt.autorange!==!0){He="reset";break}}if(He==="autosize")for(lt=0;lt<Ue.length;lt++)rt=Ue[lt],rt.fixedrange||(ct[rt._name+".autorange"]=!0);else if(He==="reset"){for((C||S.isSubplotConstrained)&&(Ue=Ue.concat(S.xaxes)),E&&!S.isSubplotConstrained&&(Ue=Ue.concat(S.yaxes)),S.isSubplotConstrained&&(C?E||(Ue=Ue.concat(v)):Ue=Ue.concat(m)),lt=0;lt<Ue.length;lt++)if(rt=Ue[lt],!rt.fixedrange){var _t=rt._name,Ye=rt._autorangeInitial;rt._rangeInitial0===void 0&&rt._rangeInitial1===void 0?ct[_t+".autorange"]=!0:rt._rangeInitial0===void 0?(ct[_t+".autorange"]=Ye,ct[_t+".range"]=[null,rt._rangeInitial1]):rt._rangeInitial1===void 0?(ct[_t+".range"]=[rt._rangeInitial0,null],ct[_t+".autorange"]=Ye):ct[_t+".range"]=[rt._rangeInitial0,rt._rangeInitial1]}}t.emit("plotly_doubleclick",null),J3.call("_guiRelayout",t,ct)}}function ge(){Ne([0,0,x,w]),Jl.syncOrAsync([PYe.previousPromises,function(){t._fullLayout._replotting=!1,J3.call("_guiRelayout",t,K)}],t)}function Ne(He){var Ue=t._fullLayout,ct=Ue._plots,rt=Ue._subplots.cartesian,lt,st,mt,kt;if(H&&J3.subplotsRegistry.splom.drag(t),O){for(lt=0;lt<rt.length;lt++)if(st=ct[rt[lt]],mt=st.xaxis,kt=st.yaxis,st._scene){mt.limitRange&&mt.limitRange(),kt.limitRange&&kt.limitRange();var _t=Jl.simpleMap(mt.range,mt.r2l),Ye=Jl.simpleMap(kt.range,kt.r2l);st._scene.update({range:[_t[0],Ye[0],_t[1],Ye[1]]})}}if((H||O)&&(LYe(t),OYe(t)),Y){var bt=He[2]/d._length,ut=He[3]/f._length;for(lt=0;lt<rt.length;lt++){st=ct[rt[lt]],mt=st.xaxis,kt=st.yaxis;var P=(I||_.isSubplotConstrained)&&!mt.fixedrange&&h[mt._id],z=(L||_.isSubplotConstrained)&&!kt.fixedrange&&p[kt._id],Q,le,V,oe;if(P?(Q=bt,V=s||_.isSubplotConstrained?He[0]:ht(mt,Q)):_.xaHash[mt._id]?(Q=bt,V=He[0]*mt._length/d._length):_.yaHash[mt._id]?(Q=ut,V=E==="ns"?-He[1]*mt._length/f._length:ht(mt,Q,{n:"top",s:"bottom"}[E])):(Q=Le(mt,bt,ut),V=St(mt,Q)),Q>1&&(mt.maxallowed!==void 0&&I===(mt.range[0]<mt.range[1]?"e":"w")||mt.minallowed!==void 0&&I===(mt.range[0]<mt.range[1]?"w":"e"))&&(Q=1,V=0),z?(le=ut,oe=o||_.isSubplotConstrained?He[1]:ht(kt,le)):_.yaHash[kt._id]?(le=ut,oe=He[1]*kt._length/f._length):_.xaHash[kt._id]?(le=bt,oe=C==="ew"?-He[0]*kt._length/d._length:ht(kt,le,{e:"right",w:"left"}[C])):(le=Le(kt,bt,ut),oe=St(kt,le)),le>1&&(kt.maxallowed!==void 0&&L===(kt.range[0]<kt.range[1]?"n":"s")||kt.minallowed!==void 0&&L===(kt.range[0]<kt.range[1]?"s":"n"))&&(le=1,oe=0),!(!Q&&!le)){Q||(Q=1),le||(le=1);var be=mt._offset-V/Q,xe=kt._offset-oe/le;st.clipRect.call(xp.setTranslate,V,oe).call(xp.setScale,Q,le),st.plot.call(xp.setTranslate,be,xe).call(xp.setScale,1/Q,1/le),(Q!==st.xScaleFactor||le!==st.yScaleFactor)&&(xp.setPointGroupScale(st.zoomScalePts,Q,le),xp.setTextPointsScale(st.zoomScaleTxt,Q,le)),xp.hideOutsideRangePoints(st.clipOnAxisFalseTraces,st),st.xScaleFactor=Q,st.yScaleFactor=le}}}}function Le(He,Ue,ct){return He.fixedrange?0:I&&S.xaHash[He._id]?Ue:L&&(S.isSubplotConstrained?S.xaHash:S.yaHash)[He._id]?ct:0}function St(He,Ue){return Ue?(He.range=He._r.slice(),L9(He,Ue),ht(He,Ue)):0}function ht(He,Ue,ct){return He._length*(1-Ue)*NYe[ct||He.constraintoward||"middle"]}return ee}function Qpe(t,e,r,n){var i=Jl.ensureSingle(t.draglayer,e,r,function(a){a.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",t.id)});return i.call(MYe,n),i.node()}function Jpe(t,e,r,n,i,a,o){var s=Qpe(t,"rect",e,r);return F9.select(s).call(xp.setRect,n,i,a,o),s}function Gpe(t,e){for(var r=0;r<t.length;r++)if(!t[r].fixedrange)return e;return""}function UYe(t,e){var r=t.range[e],n=Math.abs(r-t.range[1-e]),i;return t.type==="date"?r:t.type==="log"?(i=Math.ceil(Math.max(0,-Math.log(n)/Math.LN10))+3,Upe("."+i+"g")(Math.pow(10,r))):(i=Math.floor(Math.log(Math.abs(r))/Math.LN10)-Math.floor(Math.log(n)/Math.LN10)+4,Upe("."+String(i)+"g")(r))}function P9(t,e,r,n,i){for(var a=0;a<t.length;a++){var o=t[a];if(!o.fixedrange)if(o.rangebreaks){var s=o._id.charAt(0)==="y",l=s?1-e:e,c=s?1-r:r;n[o._name+".range[0]"]=o.l2r(o.p2l(l*o._length)),n[o._name+".range[1]"]=o.l2r(o.p2l(c*o._length))}else{var u=o._rl[0],d=o._rl[1]-u;n[o._name+".range[0]"]=o.l2r(u+d*e),n[o._name+".range[1]"]=o.l2r(u+d*r)}}if(i&&i.length){var f=(e+(1-r))/2;P9(i,f,1-f,n,[])}}function Ype(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(!n.fixedrange){if(n.rangebreaks){var i=0,a=n._length,o=n.p2l(i+e)-n.p2l(i),s=n.p2l(a+e)-n.p2l(a),l=(o+s)/2;n.range=[n.l2r(n._rl[0]-l),n.l2r(n._rl[1]-l)]}else n.range=[n.l2r(n._rl[0]-e/n._m),n.l2r(n._rl[1]-e/n._m)];n.limitRange&&n.limitRange()}}}function BYe(t){return 1-(t>=0?Math.min(t,.9):1/(1/Math.max(t,-.3)+3.222))}function jYe(t,e,r){return t?t==="nsew"?r?"":e==="pan"?"move":"crosshair":t.toLowerCase()+"-resize":"pointer"}function eme(t,e,r,n,i){return t.append("path").attr("class","zoombox").style({fill:e>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",Xpe(r,n)).attr("d",i+"Z")}function tme(t,e,r){return t.append("path").attr("class","zoombox-corners").style({fill:Bpe.background,stroke:Bpe.defaultLine,"stroke-width":1,opacity:0}).attr("transform",Xpe(e,r)).attr("d","M0,0Z")}function rme(t,e,r,n,i,a){t.attr("d",n+"M"+r.l+","+r.t+"v"+r.h+"h"+r.w+"v-"+r.h+"h-"+r.w+"Z"),nme(t,e,i,a)}function nme(t,e,r,n){r||(t.transition().style("fill",n>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),e.transition().style("opacity",1).duration(200))}function z9(t){F9.select(t).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function ime(t){Wpe&&t.data&&t._context.showTips&&(Jl.notifier(Jl._(t,"Double-click to zoom back out"),"long"),Wpe=!1)}function VYe(t,e){return"M"+(t.l-.5)+","+(e-Wo-.5)+"h-3v"+(2*Wo+1)+"h3ZM"+(t.r+.5)+","+(e-Wo-.5)+"h3v"+(2*Wo+1)+"h-3Z"}function WYe(t,e){return"M"+(e-Wo-.5)+","+(t.t-.5)+"v-3h"+(2*Wo+1)+"v3ZM"+(e-Wo-.5)+","+(t.b+.5)+"v3h"+(2*Wo+1)+"v-3Z"}function t5(t){var e=Math.floor(Math.min(t.b-t.t,t.r-t.l,Wo)/2);return"M"+(t.l-3.5)+","+(t.t-.5+e)+"h3v"+-e+"h"+e+"v-3h-"+(e+3)+"ZM"+(t.r+3.5)+","+(t.t-.5+e)+"h-3v"+-e+"h"+-e+"v-3h"+(e+3)+"ZM"+(t.r+3.5)+","+(t.b+.5-e)+"h-3v"+e+"h"+-e+"v3h"+(e+3)+"ZM"+(t.l-3.5)+","+(t.b+.5-e)+"h3v"+e+"h"+e+"v3h-"+(e+3)+"Z"}function Zpe(t,e,r,n,i){for(var a=!1,o={},s={},l,c,u,d,f=(i||{}).xaHash,h=(i||{}).yaHash,p=0;p<e.length;p++){var m=e[p];for(l in r)if(m[l]){for(u in m)!(i&&(f[u]||h[u]))&&!(u.charAt(0)==="x"?r:n)[u]&&(o[u]=l);for(c in n)!(i&&(f[c]||h[c]))&&m[c]&&(a=!0)}for(c in n)if(m[c])for(d in m)!(i&&(f[d]||h[d]))&&!(d.charAt(0)==="x"?r:n)[d]&&(s[d]=c)}a&&(Jl.extendFlat(o,s),s={});var v={},y=[];for(u in o){var b=O9(t,u);y.push(b),v[b._id]=b}var x={},w=[];for(d in s){var S=O9(t,d);w.push(S),x[S._id]=S}return{xaHash:v,yaHash:x,xaxes:y,yaxes:w,xLinks:o,yLinks:s,isSubplotConstrained:a}}function ame(t,e){if(!EYe)t.onwheel!==void 0?t.onwheel=e:t.onmousewheel!==void 0?t.onmousewheel=e:t.isAddedWheelEvent||(t.isAddedWheelEvent=!0,t.addEventListener("wheel",e,{passive:!1}));else{var r=t.onwheel!==void 0?"wheel":"mousewheel";t._onwheel&&t.removeEventListener(r,t._onwheel),t._onwheel=e,t.addEventListener(r,e,{passive:!1})}}function $pe(t){var e=[];for(var r in t)e.push(t[r]);return e}ome.exports={makeDragBox:qYe,makeDragger:Qpe,makeRectDragger:Jpe,makeZoombox:eme,makeCorners:tme,updateZoombox:rme,xyCorners:t5,transitionZoombox:nme,removeZoombox:z9,showDoubleClickNotifier:ime,attachWheelEventHandler:ame}});var q9=J(n5=>{"use strict";var GYe=Sr(),r5=Zl(),YYe=Bc(),ZYe=bf(),Wc=sme().makeDragBox,sa=Ha().DRAGGERSIZE;n5.initInteractions=function(e){var r=e._fullLayout;if(e._context.staticPlot){GYe.select(e).selectAll(".drag").remove();return}if(!(!r._has("cartesian")&&!r._has("splom"))){var n=Object.keys(r._plots||{}).sort(function(a,o){if((r._plots[a].mainplot&&!0)===(r._plots[o].mainplot&&!0)){var s=a.split("y"),l=o.split("y");return s[0]===l[0]?Number(s[1]||1)-Number(l[1]||1):Number(s[0]||1)-Number(l[0]||1)}return r._plots[a].mainplot?1:-1});n.forEach(function(a){var o=r._plots[a],s=o.xaxis,l=o.yaxis;if(!o.mainplot){var c=Wc(e,o,s._offset,l._offset,s._length,l._length,"ns","ew");c.onmousemove=function(f){e._fullLayout._rehover=function(){e._fullLayout._hoversubplot===a&&e._fullLayout._plots[a]&&r5.hover(e,f,a)},r5.hover(e,f,a),e._fullLayout._lasthover=c,e._fullLayout._hoversubplot=a},c.onmouseout=function(f){e._dragging||(e._fullLayout._hoversubplot=null,YYe.unhover(e,f))},e._context.showAxisDragHandles&&(Wc(e,o,s._offset-sa,l._offset-sa,sa,sa,"n","w"),Wc(e,o,s._offset+s._length,l._offset-sa,sa,sa,"n","e"),Wc(e,o,s._offset-sa,l._offset+l._length,sa,sa,"s","w"),Wc(e,o,s._offset+s._length,l._offset+l._length,sa,sa,"s","e"))}if(e._context.showAxisDragHandles){if(a===s._mainSubplot){var u=s._mainLinePosition;s.side==="top"&&(u-=sa),Wc(e,o,s._offset+s._length*.1,u,s._length*.8,sa,"","ew"),Wc(e,o,s._offset,u,s._length*.1,sa,"","w"),Wc(e,o,s._offset+s._length*.9,u,s._length*.1,sa,"","e")}if(a===l._mainSubplot){var d=l._mainLinePosition;l.side!=="right"&&(d-=sa),Wc(e,o,d,l._offset+l._length*.1,sa,l._length*.8,"ns",""),Wc(e,o,d,l._offset+l._length*.9,sa,l._length*.1,"s",""),Wc(e,o,d,l._offset,sa,l._length*.1,"n","")}}});var i=r._hoverlayer.node();i.onmousemove=function(a){a.target=e._fullLayout._lasthover,r5.hover(e,a,r._hoversubplot)},i.onclick=function(a){a.target=e._fullLayout._lasthover,r5.click(e,a)},i.onmousedown=function(a){e._fullLayout._lasthover.onmousedown(a)},n5.updateFx(e)}};n5.updateFx=function(t){var e=t._fullLayout,r=e.dragmode==="pan"?"move":"crosshair";ZYe(e._draggers,r)}});var ume=J((D1t,cme)=>{"use strict";var lme=Xt();cme.exports=function(e){for(var r=lme.layoutArrayContainers,n=lme.layoutArrayRegexes,i=e.split("[")[0],a,o,s=0;s<n.length;s++)if(o=e.match(n[s]),o&&o.index===0){a=o[0];break}if(a||(a=r[r.indexOf(i)]),!a)return!1;var l=e.substr(a.length);return l?(o=l.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),o?{array:a,index:Number(o[1]),property:o[3]||""}:!1):{array:a,index:"",property:""}}});var fme=J(g_=>{"use strict";var $Ye=Kh(),U9=WA(),v_=pv(),XYe=O8().sorterAsc,B9=Xt();g_.containerArrayMatch=ume();var KYe=g_.isAddVal=function(e){return e==="add"||$Ye(e)},dme=g_.isRemoveVal=function(e){return e===null||e==="remove"};g_.applyContainerArrayChanges=function(e,r,n,i,a){var o=r.astr,s=B9.getComponentMethod(o,"supplyLayoutDefaults"),l=B9.getComponentMethod(o,"draw"),c=B9.getComponentMethod(o,"drawOne"),u=i.replot||i.recalc||s===U9||l===U9,d=e.layout,f=e._fullLayout;if(n[""]){Object.keys(n).length>1&&v_.warn("Full array edits are incompatible with other edits",o);var h=n[""][""];if(dme(h))r.set(null);else if(Array.isArray(h))r.set(h);else return v_.warn("Unrecognized full array edit value",o,h),!0;return u?!1:(s(d,f),l(e),!0)}var p=Object.keys(n).map(Number).sort(XYe),m=r.get(),v=m||[],y=a(f,o).get(),b=[],x=-1,w=v.length,S,_,C,E,M,I,L,O;for(S=0;S<p.length;S++){if(C=p[S],E=n[C],M=Object.keys(E),I=E[""],L=KYe(I),C<0||C>v.length-(L?0:1)){v_.warn("index out of range",o,C);continue}if(I!==void 0)M.length>1&&v_.warn("Insertion & removal are incompatible with edits to the same index.",o,C),dme(I)?b.push(C):L?(I==="add"&&(I={}),v.splice(C,0,I),y&&y.splice(C,0,{})):v_.warn("Unrecognized full object edit value",o,C,I),x===-1&&(x=C);else for(_=0;_<M.length;_++)O=o+"["+C+"].",a(v[C],M[_],O).set(E[M[_]])}for(S=b.length-1;S>=0;S--)v.splice(b[S],1),y&&y.splice(b[S],1);if(v.length?m||r.set(v):r.set(null),u)return!1;if(s(d,f),c!==U9){var H;if(x===-1)H=p;else{for(w=Math.max(v.length,w),H=[],S=0;S<p.length&&(C=p[S],!(C>=x));S++)H.push(C);for(S=x;S<w;S++)H.push(S)}for(S=0;S<H.length;S++)c(e,H[S])}else l(e);return!0}});var wme=J(Gc=>{"use strict";var vme=_r(),M1t=C8(),gme=Xt(),ws=Qe(),y_=ki(),yme=Wi(),bme=gr(),b_=yme.cleanId,QYe=yme.getFromTrace,j9=gme.traceIs;Gc.clearPromiseQueue=function(t){Array.isArray(t._promises)&&t._promises.length>0&&ws.log("Clearing previous rejected promises from queue."),t._promises=[]};Gc.cleanLayout=function(t){var e,r;t||(t={}),t.xaxis1&&(t.xaxis||(t.xaxis=t.xaxis1),delete t.xaxis1),t.yaxis1&&(t.yaxis||(t.yaxis=t.yaxis1),delete t.yaxis1),t.scene1&&(t.scene||(t.scene=t.scene1),delete t.scene1);var n=(y_.subplotsRegistry.cartesian||{}).attrRegex,i=(y_.subplotsRegistry.polar||{}).attrRegex,a=(y_.subplotsRegistry.ternary||{}).attrRegex,o=(y_.subplotsRegistry.gl3d||{}).attrRegex,s=Object.keys(t);for(e=0;e<s.length;e++){var l=s[e];if(n&&n.test(l)){var c=t[l];c.anchor&&c.anchor!=="free"&&(c.anchor=b_(c.anchor)),c.overlaying&&(c.overlaying=b_(c.overlaying)),c.type||(c.isdate?c.type="date":c.islog?c.type="log":c.isdate===!1&&c.islog===!1&&(c.type="linear")),(c.autorange==="withzero"||c.autorange==="tozero")&&(c.autorange=!0,c.rangemode="tozero"),c.insiderange&&delete c.range,delete c.islog,delete c.isdate,delete c.categories,i5(c,"domain")&&delete c.domain}}var u=Array.isArray(t.annotations)?t.annotations.length:0;for(e=0;e<u;e++){var d=t.annotations[e];ws.isPlainObject(d)&&(Nb(d,"xref"),Nb(d,"yref"))}var f=Array.isArray(t.shapes)?t.shapes.length:0;for(e=0;e<f;e++){var h=t.shapes[e];ws.isPlainObject(h)&&(Nb(h,"xref"),Nb(h,"yref"))}var p=Array.isArray(t.images)?t.images.length:0;for(e=0;e<p;e++){var m=t.images[e];ws.isPlainObject(m)&&(Nb(m,"xref"),Nb(m,"yref"))}var v=t.legend;return v&&(v.x>3?(v.x=1.02,v.xanchor="left"):v.x<-2&&(v.x=-.02,v.xanchor="right"),v.y>3?(v.y=1.02,v.yanchor="bottom"):v.y<-2&&(v.y=-.02,v.yanchor="top")),t.dragmode==="rotate"&&(t.dragmode="orbit"),bme.clean(t),t.template&&t.template.layout&&Gc.cleanLayout(t.template.layout),t};function Nb(t,e){var r=t[e],n=e.charAt(0);r&&r!=="paper"&&(t[e]=b_(r,n,!0))}Gc.cleanData=function(t){for(var e=0;e<t.length;e++){var r=t[e],n;if(r.type==="histogramy"&&"xbins"in r&&!("ybins"in r)&&(r.ybins=r.xbins,delete r.xbins),r.type==="histogramy"&&Gc.swapXYData(r),(r.type==="histogramx"||r.type==="histogramy")&&(r.type="histogram"),"scl"in r&&!("colorscale"in r)&&(r.colorscale=r.scl,delete r.scl),"reversescl"in r&&!("reversescale"in r)&&(r.reversescale=r.reversescl,delete r.reversescl),r.xaxis&&(r.xaxis=b_(r.xaxis,"x")),r.yaxis&&(r.yaxis=b_(r.yaxis,"y")),j9(r,"gl3d")&&r.scene&&(r.scene=y_.subplotsRegistry.gl3d.cleanId(r.scene)),!j9(r,"pie-like")&&!j9(r,"bar-like"))if(Array.isArray(r.textposition))for(n=0;n<r.textposition.length;n++)r.textposition[n]=pme(r.textposition[n]);else r.textposition&&(r.textposition=pme(r.textposition));var i=gme.getModule(r);if(i&&i.colorbar){var a=i.colorbar.container,o=a?r[a]:r;o&&o.colorscale&&(o.colorscale==="YIGnBu"&&(o.colorscale="YlGnBu"),o.colorscale==="YIOrRd"&&(o.colorscale="YlOrRd"))}if(r.type==="surface"&&ws.isPlainObject(r.contours)){var s=["x","y","z"];for(n=0;n<s.length;n++){var l=r.contours[s[n]];ws.isPlainObject(l)&&(l.highlightColor&&(l.highlightcolor=l.highlightColor,delete l.highlightColor),l.highlightWidth&&(l.highlightwidth=l.highlightWidth,delete l.highlightWidth))}}if(r.type==="candlestick"||r.type==="ohlc"){var c=(r.increasing||{}).showlegend!==!1,u=(r.decreasing||{}).showlegend!==!1,d=hme(r.increasing),f=hme(r.decreasing);if(d!==!1&&f!==!1){var h=JYe(d,f,c,u);h&&(r.name=h)}else(d||f)&&!r.name&&(r.name=d||f)}i5(r,"line")&&delete r.line,"marker"in r&&(i5(r.marker,"line")&&delete r.marker.line,i5(r,"marker")&&delete r.marker),bme.clean(r),r.autobinx&&(delete r.autobinx,delete r.xbins),r.autobiny&&(delete r.autobiny,delete r.ybins)}};function hme(t){if(!ws.isPlainObject(t))return!1;var e=t.name;return delete t.name,delete t.showlegend,(typeof e=="string"||typeof e=="number")&&String(e)}function JYe(t,e,r,n){if(r&&!n)return t;if(n&&!r||!t.trim())return e;if(!e.trim())return t;var i=Math.min(t.length,e.length),a;for(a=0;a<i&&t.charAt(a)===e.charAt(a);a++);var o=t.substr(0,a);return o.trim()}function pme(t){var e="middle",r="center";return typeof t=="string"&&(t.indexOf("top")!==-1?e="top":t.indexOf("bottom")!==-1&&(e="bottom"),t.indexOf("left")!==-1?r="left":t.indexOf("right")!==-1&&(r="right")),e+" "+r}function i5(t,e){return e in t&&typeof t[e]=="object"&&Object.keys(t[e]).length===0}Gc.swapXYData=function(t){var e;if(ws.swapAttrs(t,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(t.z)&&Array.isArray(t.z[0])&&(t.transpose?delete t.transpose:t.transpose=!0),t.error_x&&t.error_y){var r=t.error_y,n="copy_ystyle"in r?r.copy_ystyle:!(r.color||r.thickness||r.width);ws.swapAttrs(t,["error_?.copy_ystyle"]),n&&ws.swapAttrs(t,["error_?.color","error_?.thickness","error_?.width"])}if(typeof t.hoverinfo=="string"){var i=t.hoverinfo.split("+");for(e=0;e<i.length;e++)i[e]==="x"?i[e]="y":i[e]==="y"&&(i[e]="x");t.hoverinfo=i.join("+")}};Gc.coerceTraceIndices=function(t,e){if(vme(e))return[e];if(!Array.isArray(e)||!e.length)return t.data.map(function(i,a){return a});if(Array.isArray(e)){for(var r=[],n=0;n<e.length;n++)ws.isIndex(e[n],t.data.length)?r.push(e[n]):ws.warn("trace index (",e[n],") is not a number or is out of bounds");return r}return e};Gc.manageArrayContainers=function(t,e,r){var n=t.obj,i=t.parts,a=i.length,o=i[a-1],s=vme(o);if(s&&e===null){var l=i.slice(0,a-1).join("."),c=ws.nestedProperty(n,l).get();c.splice(o,1)}else s&&t.get()===void 0&&t.get()===void 0&&(r[t.astr]=null),t.set(e)};var eZe=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function mme(t){var e=t.search(eZe);if(e>0)return t.substr(0,e)}Gc.hasParent=function(t,e){for(var r=mme(e);r;){if(r in t)return!0;r=mme(r)}return!1};var tZe=["x","y","z"];Gc.clearAxisTypes=function(t,e,r){for(var n=0;n<e.length;n++)for(var i=t._fullData[n],a=0;a<3;a++){var o=QYe(t,i,tZe[a]);if(o&&o.type!=="log"){var s=o._name,l=o._id.substr(1);if(l.substr(0,5)==="scene"){if(r[l]!==void 0)continue;s=l+"."+s}var c=s+".type";r[s]===void 0&&r[c]===void 0&&ws.nestedProperty(t.layout,c).set(null)}}}});var X9=J(jr=>{"use strict";var s5=Sr(),rZe=_r(),nZe=$8(),xt=Qe(),An=xt.nestedProperty,G9=tb(),Go=Yoe(),ec=Xt(),p5=ib(),rr=ki(),Ro=gn(),iZe=gH(),aZe=Fc(),V9=Kr(),oZe=gr(),sZe=q9().initInteractions,lZe=cp(),cZe=Ib().clearOutline,Cme=hv().dfltConfig,a5=fme(),zi=wme(),hn=F3(),Tp=Fu(),uZe=Ha().AX_NAME_PATTERN,W9=0,xme=5;function dZe(t,e,r,n){var i;if(t=xt.getGraphDiv(t),G9.init(t),xt.isPlainObject(e)){var a=e;e=a.data,r=a.layout,n=a.config,i=a.frames}var o=G9.triggerHandler(t,"plotly_beforeplot",[e,r,n]);if(o===!1)return Promise.reject();!e&&!r&&!xt.isPlotDiv(t)&&xt.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",t);function s(){if(i)return jr.addFrames(t,i)}Eme(t,n),r||(r={}),s5.select(t).classed("js-plotly-plot",!0),V9.makeTester(),Array.isArray(t._promises)||(t._promises=[]);var l=(t.data||[]).length===0&&Array.isArray(e);Array.isArray(e)&&(zi.cleanData(e),l?t.data=e:t.data.push.apply(t.data,e),t.empty=!1),(!t.layout||l)&&(t.layout=zi.cleanLayout(r)),rr.supplyDefaults(t);var c=t._fullLayout,u=c._has("cartesian");c._replotting=!0,(l||c._shouldCreateBgLayer)&&(LZe(t),c._shouldCreateBgLayer&&delete c._shouldCreateBgLayer),V9.initGradients(t),V9.initPatterns(t),l&&Ro.saveShowSpikeInitial(t);var d=!t.calcdata||t.calcdata.length!==(t._fullData||[]).length;d&&rr.doCalcdata(t);for(var f=0;f<t.calcdata.length;f++)t.calcdata[f][0].trace=t._fullData[f];t._context.responsive?t._responsiveChartHandler||(t._responsiveChartHandler=function(){xt.isHidden(t)||rr.resize(t)},window.addEventListener("resize",t._responsiveChartHandler)):xt.clearResponsive(t);var h=xt.extendFlat({},c._size),p=0;function m(){for(var C=c._basePlotModules,E=0;E<C.length;E++)C[E].drawFramework&&C[E].drawFramework(t);!c._glcanvas&&c._has("gl")&&(c._glcanvas=c._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(O){return O.key}),c._glcanvas.enter().append("canvas").attr("class",function(O){return"gl-canvas gl-canvas-"+O.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var M=t._context.plotGlPixelRatio;if(c._glcanvas){c._glcanvas.attr("width",c.width*M).attr("height",c.height*M).style("width",c.width+"px").style("height",c.height+"px");var I=c._glcanvas.data()[0].regl;if(I&&(Math.floor(c.width*M)!==I._gl.drawingBufferWidth||Math.floor(c.height*M)!==I._gl.drawingBufferHeight)){var L="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(p)xt.error(L);else return xt.log(L+" Clearing graph and plotting again."),rr.cleanPlot([],{},t._fullData,c),rr.supplyDefaults(t),c=t._fullLayout,rr.doCalcdata(t),p++,m()}}return c.modebar.orientation==="h"?c._modebardiv.style("height",null).style("width","100%"):c._modebardiv.style("width",null).style("height",c.height+"px"),rr.previousPromises(t)}function v(){if(rr.clearAutoMarginIds(t),hn.drawMarginPushers(t),Ro.allowAutoMargin(t),t._fullLayout.title.text&&t._fullLayout.title.automargin&&rr.allowAutoMargin(t,"title.automargin"),c._has("pie"))for(var C=t._fullData,E=0;E<C.length;E++){var M=C[E];M.type==="pie"&&M.automargin&&rr.allowAutoMargin(t,"pie."+M.uid+".automargin")}return rr.doAutoMargin(t),rr.previousPromises(t)}function y(){if(rr.didMarginChange(h,c._size))return xt.syncOrAsync([v,hn.layoutStyles],t)}function b(){if(!d){x();return}return xt.syncOrAsync([ec.getComponentMethod("shapes","calcAutorange"),ec.getComponentMethod("annotations","calcAutorange"),x],t)}function x(){t._transitioning||(hn.doAutoRangeAndConstraints(t),l&&Ro.saveRangeInitial(t),ec.getComponentMethod("rangeslider","calcAutorange")(t))}function w(){return Ro.draw(t,l?"":"redraw")}var S=[rr.previousPromises,s,m,v,y];u&&S.push(b),S.push(hn.layoutStyles),u&&S.push(w,function(E){var M=E._fullLayout._insideTickLabelsUpdaterange;if(M)return E._fullLayout._insideTickLabelsUpdaterange=void 0,w_(E,M).then(function(){Ro.saveRangeInitial(E,!0)})}),S.push(hn.drawData,hn.finalDraw,sZe,rr.addLinks,rr.rehover,rr.redrag,rr.reselect,rr.doAutoMargin,rr.previousPromises);var _=xt.syncOrAsync(S,t);return(!_||!_.then)&&(_=Promise.resolve()),_.then(function(){return x_(t),t})}function x_(t){var e=t._fullLayout;e._redrawFromAutoMarginCount?e._redrawFromAutoMarginCount--:t.emit("plotly_afterplot")}function fZe(t){return xt.extendFlat(Cme,t)}function kme(t,e){try{t._fullLayout._paper.style("background",e)}catch(r){xt.error(r)}}function hZe(t,e){var r=oZe.combine(e,"white");kme(t,r)}function Eme(t,e){if(!t._context){t._context=xt.extendDeep({},Cme);var r=s5.select("base");t._context._baseUrl=r.size()&&r.attr("href")?window.location.href.split("#")[0]:""}var n=t._context,i,a,o;if(e){for(a=Object.keys(e),i=0;i<a.length;i++)o=a[i],!(o==="editable"||o==="edits")&&o in n&&(o==="setBackground"&&e[o]==="opaque"?n[o]=hZe:n[o]=e[o]);var s=e.editable;if(s!==void 0)for(n.editable=s,a=Object.keys(n.edits),i=0;i<a.length;i++)n.edits[a[i]]=s;if(e.edits)for(a=Object.keys(e.edits),i=0;i<a.length;i++)o=a[i],o in n.edits&&(n.edits[o]=e.edits[o]);n._exportedPlot=e._exportedPlot}n.staticPlot&&(n.editable=!1,n.edits={},n.autosizable=!1,n.scrollZoom=!1,n.doubleClick=!1,n.showTips=!1,n.showLink=!1,n.displayModeBar=!1),n.displayModeBar==="hover"&&!nZe&&(n.displayModeBar=!0),(n.setBackground==="transparent"||typeof n.setBackground!="function")&&(n.setBackground=kme),n._hasZeroHeight=n._hasZeroHeight||t.clientHeight===0,n._hasZeroWidth=n._hasZeroWidth||t.clientWidth===0;var l=n.scrollZoom,c=n._scrollZoom={};if(l===!0)c.cartesian=1,c.gl3d=1,c.geo=1,c.mapbox=1,c.map=1;else if(typeof l=="string"){var u=l.split("+");for(i=0;i<u.length;i++)c[u[i]]=1}else l!==!1&&(c.gl3d=1,c.geo=1,c.mapbox=1,c.map=1)}function pZe(t){if(t=xt.getGraphDiv(t),!xt.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);return zi.cleanData(t.data),zi.cleanLayout(t.layout),t.calcdata=void 0,jr._doPlot(t).then(function(){return t.emit("plotly_redraw"),t})}function mZe(t,e,r,n){return t=xt.getGraphDiv(t),rr.cleanPlot([],{},t._fullData||[],t._fullLayout||{}),rr.purge(t),jr._doPlot(t,e,r,n)}function l5(t,e){var r=e+1,n=[],i,a;for(i=0;i<t.length;i++)a=t[i],a<0?n.push(r+a):n.push(a);return n}function c5(t,e,r){var n,i;for(n=0;n<e.length;n++){if(i=e[n],i!==parseInt(i,10))throw new Error("all values in "+r+" must be integers");if(i>=t.data.length||i<-t.data.length)throw new Error(r+" must be valid indices for gd.data.");if(e.indexOf(i,n+1)>-1||i>=0&&e.indexOf(-t.data.length+i)>-1||i<0&&e.indexOf(t.data.length+i)>-1)throw new Error("each index in "+r+" must be unique.")}}function Dme(t,e,r){if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if(typeof e=="undefined")throw new Error("currentIndices is a required argument.");if(Array.isArray(e)||(e=[e]),c5(t,e,"currentIndices"),typeof r!="undefined"&&!Array.isArray(r)&&(r=[r]),typeof r!="undefined"&&c5(t,r,"newIndices"),typeof r!="undefined"&&e.length!==r.length)throw new Error("current and new indices must be of equal length.")}function vZe(t,e,r){var n,i;if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if(typeof e=="undefined")throw new Error("traces must be defined.");for(Array.isArray(e)||(e=[e]),n=0;n<e.length;n++)if(i=e[n],typeof i!="object"||Array.isArray(i)||i===null)throw new Error("all values in traces array must be non-array objects");if(typeof r!="undefined"&&!Array.isArray(r)&&(r=[r]),typeof r!="undefined"&&r.length!==e.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function gZe(t,e,r,n){var i=xt.isPlainObject(n);if(!Array.isArray(t.data))throw new Error("gd.data must be an array");if(!xt.isPlainObject(e))throw new Error("update must be a key:value object");if(typeof r=="undefined")throw new Error("indices must be an integer or array of integers");c5(t,r,"indices");for(var a in e){if(!Array.isArray(e[a])||e[a].length!==r.length)throw new Error("attribute "+a+" must be an array of length equal to indices array length");if(i&&(!(a in n)||!Array.isArray(n[a])||n[a].length!==e[a].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function yZe(t,e,r,n){var i=xt.isPlainObject(n),a=[],o,s,l,c,u;Array.isArray(r)||(r=[r]),r=l5(r,t.data.length-1);for(var d in e)for(var f=0;f<r.length;f++){if(o=t.data[r[f]],l=An(o,d),s=l.get(),c=e[d][f],!xt.isArrayOrTypedArray(c))throw new Error("attribute: "+d+" index: "+f+" must be an array");if(!xt.isArrayOrTypedArray(s))throw new Error("cannot extend missing or non-array attribute: "+d);if(s.constructor!==c.constructor)throw new Error("cannot extend array with an array of a different type: "+d);u=i?n[d][f]:n,rZe(u)||(u=-1),a.push({prop:l,target:s,insert:c,maxp:Math.floor(u)})}return a}function Ame(t,e,r,n,i){gZe(t,e,r,n);for(var a=yZe(t,e,r,n),o={},s={},l=0;l<a.length;l++){var c=a[l].prop,u=a[l].maxp,d=i(a[l].target,a[l].insert,u);c.set(d[0]),Array.isArray(o[c.astr])||(o[c.astr]=[]),o[c.astr].push(d[1]),Array.isArray(s[c.astr])||(s[c.astr]=[]),s[c.astr].push(a[l].target.length)}return{update:o,maxPoints:s}}function Mme(t,e){var r=new t.constructor(t.length+e.length);return r.set(t),r.set(e,t.length),r}function Rme(t,e,r,n){t=xt.getGraphDiv(t);function i(l,c,u){var d,f;if(xt.isTypedArray(l))if(u<0){var h=new l.constructor(0),p=Mme(l,c);u<0?(d=p,f=h):(d=h,f=p)}else if(d=new l.constructor(u),f=new l.constructor(l.length+c.length-u),u===c.length)d.set(c),f.set(l);else if(u<c.length){var m=c.length-u;d.set(c.subarray(m)),f.set(l),f.set(c.subarray(0,m),l.length)}else{var v=u-c.length,y=l.length-v;d.set(l.subarray(y)),d.set(c,v),f.set(l.subarray(0,y))}else d=l.concat(c),f=u>=0&&u<d.length?d.splice(0,d.length-u):[];return[d,f]}var a=Ame(t,e,r,n,i),o=jr.redraw(t),s=[t,a.update,r,a.maxPoints];return Go.add(t,jr.prependTraces,s,Rme,arguments),o}function Ime(t,e,r,n){t=xt.getGraphDiv(t);function i(l,c,u){var d,f;if(xt.isTypedArray(l))if(u<=0){var h=new l.constructor(0),p=Mme(c,l);u<0?(d=p,f=h):(d=h,f=p)}else if(d=new l.constructor(u),f=new l.constructor(l.length+c.length-u),u===c.length)d.set(c),f.set(l);else if(u<c.length){var m=c.length-u;d.set(c.subarray(0,m)),f.set(c.subarray(m)),f.set(l,m)}else{var v=u-c.length;d.set(c),d.set(l.subarray(0,v),c.length),f.set(l.subarray(v))}else d=c.concat(l),f=u>=0&&u<d.length?d.splice(u,d.length):[];return[d,f]}var a=Ame(t,e,r,n,i),o=jr.redraw(t),s=[t,a.update,r,a.maxPoints];return Go.add(t,jr.extendTraces,s,Ime,arguments),o}function Nme(t,e,r){t=xt.getGraphDiv(t);var n=[],i=jr.deleteTraces,a=Nme,o=[t,n],s=[t,e],l,c;for(vZe(t,e,r),Array.isArray(e)||(e=[e]),e=e.map(function(u){return xt.extendFlat({},u)}),zi.cleanData(e),l=0;l<e.length;l++)t.data.push(e[l]);for(l=0;l<e.length;l++)n.push(-e.length+l);if(typeof r=="undefined")return c=jr.redraw(t),Go.add(t,i,o,a,s),c;Array.isArray(r)||(r=[r]);try{Dme(t,n,r)}catch(u){throw t.data.splice(t.data.length-e.length,e.length),u}return Go.startSequence(t),Go.add(t,i,o,a,s),c=jr.moveTraces(t,n,r),Go.stopSequence(t),c}function Lme(t,e){t=xt.getGraphDiv(t);var r=[],n=jr.addTraces,i=Lme,a=[t,r,e],o=[t,e],s,l;if(typeof e=="undefined")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(e)||(e=[e]),c5(t,e,"indices"),e=l5(e,t.data.length-1),e.sort(xt.sorterDes),s=0;s<e.length;s+=1)l=t.data.splice(e[s],1)[0],r.push(l);var c=jr.redraw(t);return Go.add(t,n,a,i,o),c}function Y9(t,e,r){t=xt.getGraphDiv(t);var n=[],i=[],a=Y9,o=Y9,s=[t,r,e],l=[t,e,r],c;if(Dme(t,e,r),e=Array.isArray(e)?e:[e],typeof r=="undefined")for(r=[],c=0;c<e.length;c++)r.push(-e.length+c);for(r=Array.isArray(r)?r:[r],e=l5(e,t.data.length-1),r=l5(r,t.data.length-1),c=0;c<t.data.length;c++)e.indexOf(c)===-1&&n.push(t.data[c]);for(c=0;c<e.length;c++)i.push({newIndex:r[c],trace:t.data[e[c]]});for(i.sort(function(d,f){return d.newIndex-f.newIndex}),c=0;c<i.length;c+=1)n.splice(i[c].newIndex,0,i[c].trace);t.data=n;var u=jr.redraw(t);return Go.add(t,a,s,o,l),u}function u5(t,e,r,n){t=xt.getGraphDiv(t),zi.clearPromiseQueue(t);var i={};if(typeof e=="string")i[e]=r;else if(xt.isPlainObject(e))i=xt.extendFlat({},e),n===void 0&&(n=r);else return xt.warn("Restyle fail.",e,r,n),Promise.reject();Object.keys(i).length&&(t.changed=!0);var a=zi.coerceTraceIndices(t,n),o=Ome(t,i,a),s=o.flags;s.calc&&(t.calcdata=void 0),s.clearAxisTypes&&zi.clearAxisTypes(t,a,{});var l=[];s.fullReplot?l.push(jr._doPlot):(l.push(rr.previousPromises),rr.supplyDefaults(t),s.markerSize&&(rr.doCalcdata(t),m5(l)),s.style&&l.push(hn.doTraceStyle),s.colorbars&&l.push(hn.doColorBars),l.push(x_)),l.push(rr.rehover,rr.redrag,rr.reselect),Go.add(t,u5,[t,o.undoit,o.traces],u5,[t,o.redoit,o.traces]);var c=xt.syncOrAsync(l,t);return(!c||!c.then)&&(c=Promise.resolve()),c.then(function(){return t.emit("plotly_restyle",o.eventData),t})}function _f(t){return t===void 0?null:t}function o5(t,e){return e?function(r,n,i){var a=An(r,n),o=a.set;return a.set=function(s){var l=(i||"")+n;d5(l,a.get(),s,t),o(s)},a}:An}function d5(t,e,r,n){if(Array.isArray(e)||Array.isArray(r))for(var i=Array.isArray(e)?e:[],a=Array.isArray(r)?r:[],o=Math.max(i.length,a.length),s=0;s<o;s++)d5(t+"["+s+"]",i[s],a[s],n);else if(xt.isPlainObject(e)||xt.isPlainObject(r)){var l=xt.isPlainObject(e)?e:{},c=xt.isPlainObject(r)?r:{},u=xt.extendFlat({},l,c);for(var d in u)d5(t+"."+d,l[d],c[d],n)}else n[t]===void 0&&(n[t]=_f(e))}function bZe(t,e,r){for(var n in r){var i=An(t,n);d5(n,i.get(),r[n],e)}}function Ome(t,e,r){var n=t._fullLayout,i=t._fullData,a=t.data,o=n._guiEditing,s=o5(n._preGUI,o),l=xt.extendDeepAll({},e),c,u=Tp.traceFlags(),d={},f={},h;function p(){return r.map(function(){})}function m(_e){var Oe=Ro.id2name(_e);h.indexOf(Oe)===-1&&h.push(Oe)}function v(_e){return"LAYOUT"+_e+".autorange"}function y(_e){return"LAYOUT"+_e+".range"}function b(_e){for(var Oe=_e;Oe<i.length;Oe++)if(i[Oe]._input===a[_e])return i[Oe]}function x(_e,Oe,Ce){if(Array.isArray(_e)){_e.forEach(function(ot){x(ot,Oe,Ce)});return}if(!(_e in e||zi.hasParent(e,_e))){var je;if(_e.substr(0,6)==="LAYOUT")je=s(t.layout,_e.replace("LAYOUT",""));else{var qe=r[Ce],Ve=n._tracePreGUI[b(qe)._fullInput.uid];je=o5(Ve,o)(a[qe],_e)}_e in f||(f[_e]=p()),f[_e][Ce]===void 0&&(f[_e][Ce]=_f(je.get())),Oe!==void 0&&je.set(Oe)}}function w(_e){return function(Oe){return i[Oe][_e]}}function S(_e){return function(Oe,Ce){return Oe===!1?i[r[Ce]][_e]:null}}for(var _ in e){if(zi.hasParent(e,_))throw new Error("cannot set "+_+" and a parent attribute simultaneously");var C=e[_],E,M,I,L,O,H;if((_==="autobinx"||_==="autobiny")&&(_=_.charAt(_.length-1)+"bins",Array.isArray(C)?C=C.map(S(_)):C===!1?C=r.map(w(_)):C=null),d[_]=C,_.substr(0,6)==="LAYOUT"){I=s(t.layout,_.replace("LAYOUT","")),f[_]=[_f(I.get())],I.set(Array.isArray(C)?C[0]:C),u.calc=!0;continue}for(f[_]=p(),c=0;c<r.length;c++){E=a[r[c]],M=b(r[c]);var Y=n._tracePreGUI[M._fullInput.uid];if(I=o5(Y,o)(E,_),L=I.get(),O=Array.isArray(C)?C[c%C.length]:C,O!==void 0){var K=I.parts[I.parts.length-1],N=_.substr(0,_.length-K.length-1),U=N?N+".":"",B=N?An(M,N).get():M;if(H=p5.getTraceValObject(M,I.parts),H&&H.impliedEdits&&O!==null)for(var $ in H.impliedEdits)x(xt.relativeAttr(_,$),H.impliedEdits[$],c);else if((K==="thicknessmode"||K==="lenmode")&&L!==O&&(O==="fraction"||O==="pixels")&&B){var ee=n._size,te=B.orient,he=te==="top"||te==="bottom";if(K==="thicknessmode"){var we=he?ee.h:ee.w;x(U+"thickness",B.thickness*(O==="fraction"?1/we:we),c)}else{var Te=he?ee.w:ee.h;x(U+"len",B.len*(O==="fraction"?1/Te:Te),c)}}else if(_==="type"&&(O==="pie"!=(L==="pie")||O==="funnelarea"!=(L==="funnelarea"))){var ce="x",q="y";(O==="bar"||L==="bar")&&E.orientation==="h"&&(ce="y",q="x"),xt.swapAttrs(E,["?","?src"],"labels",ce),xt.swapAttrs(E,["d?","?0"],"label",ce),xt.swapAttrs(E,["?","?src"],"values",q),L==="pie"||L==="funnelarea"?(An(E,"marker.color").set(An(E,"marker.colors").get()),n._pielayer.selectAll("g.trace").remove()):ec.traceIs(E,"cartesian")&&An(E,"marker.colors").set(An(E,"marker.color").get())}f[_][c]=_f(L);var X=["swapxy","swapxyaxes","orientation","orientationaxes"];if(X.indexOf(_)!==-1){if(_==="orientation"){I.set(O);var G=E.x&&!E.y?"h":"v";if((I.get()||G)===M.orientation)continue}else _==="orientationaxes"&&(E.orientation={v:"h",h:"v"}[M.orientation]);zi.swapXYData(E),u.calc=u.clearAxisTypes=!0}else rr.dataArrayContainers.indexOf(I.parts[0])!==-1?(zi.manageArrayContainers(I,O,f),u.calc=!0):(H?H.arrayOk&&!ec.traceIs(M,"regl")&&(xt.isArrayOrTypedArray(O)||xt.isArrayOrTypedArray(L))?u.calc=!0:Tp.update(u,H):u.calc=!0,I.set(O))}}if(["swapxyaxes","orientationaxes"].indexOf(_)!==-1&&Ro.swap(t,r),_==="orientationaxes"){var de=An(t.layout,"hovermode"),ue=de.get();ue==="x"?de.set("y"):ue==="y"?de.set("x"):ue==="x unified"?de.set("y unified"):ue==="y unified"&&de.set("x unified")}if(["orientation","type"].indexOf(_)!==-1){for(h=[],c=0;c<r.length;c++){var fe=a[r[c]];ec.traceIs(fe,"cartesian")&&(m(fe.xaxis||"x"),m(fe.yaxis||"y"))}x(h.map(v),!0,0),x(h.map(y),[0,1],0)}}return(u.calc||u.plot)&&(u.fullReplot=!0),{flags:u,undoit:f,redoit:d,traces:r,eventData:xt.extendDeepNoArrays([],[l,r])}}function w_(t,e,r){t=xt.getGraphDiv(t),zi.clearPromiseQueue(t);var n={};if(typeof e=="string")n[e]=r;else if(xt.isPlainObject(e))n=xt.extendFlat({},e);else return xt.warn("Relayout fail.",e,r),Promise.reject();Object.keys(n).length&&(t.changed=!0);var i=Hme(t,n),a=i.flags;a.calc&&(t.calcdata=void 0);var o=[rr.previousPromises];a.layoutReplot?o.push(hn.layoutReplot):Object.keys(n).length&&(Pme(t,a,i)||rr.supplyDefaults(t),a.legend&&o.push(hn.doLegend),a.layoutstyle&&o.push(hn.layoutStyles),a.axrange&&m5(o,i.rangesAltered),a.ticks&&o.push(hn.doTicksRelayout),a.modebar&&o.push(hn.doModeBar),a.camera&&o.push(hn.doCamera),a.colorbars&&o.push(hn.doColorBars),o.push(x_)),o.push(rr.rehover,rr.redrag,rr.reselect),Go.add(t,w_,[t,i.undoit],w_,[t,i.redoit]);var s=xt.syncOrAsync(o,t);return(!s||!s.then)&&(s=Promise.resolve(t)),s.then(function(){return t.emit("plotly_relayout",i.eventData),t})}function Pme(t,e,r){var n=t._fullLayout;if(!e.axrange)return!1;for(var i in e)if(i!=="axrange"&&e[i])return!1;var a,o,s=function(h,p){return xt.coerce(a,o,aZe,h,p)},l={};for(var c in r.rangesAltered){var u=Ro.id2name(c);if(a=t.layout[u],o=n[u],iZe(a,o,s,l),o._matchGroup){for(var d in o._matchGroup)if(d!==c){var f=n[Ro.id2name(d)];f.autorange=o.autorange,f.range=o.range.slice(),f._input.range=o.range.slice()}}}return!0}function m5(t,e){var r=e?function(n){var i=[],a=!0;for(var o in e){var s=Ro.getFromId(n,o);if(i.push(o),(s.ticklabelposition||"").indexOf("inside")!==-1&&s._anchorAxis&&i.push(s._anchorAxis._id),s._matchGroup)for(var l in s._matchGroup)e[l]||i.push(l)}return Ro.draw(n,i,{skipTitle:a})}:function(n){return Ro.draw(n,"redraw")};t.push(cZe,hn.doAutoRangeAndConstraints,r,hn.drawData,hn.finalDraw)}var zme=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Fme=/^[xyz]axis[0-9]*\.autorange$/,wZe=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Hme(t,e){var r=t.layout,n=t._fullLayout,i=n._guiEditing,a=o5(n._preGUI,i),o=Object.keys(e),s=Ro.list(t),l=xt.extendDeepAll({},e),c={},u,d,f;for(o=Object.keys(e),d=0;d<o.length;d++)if(o[d].indexOf("allaxes")===0){for(f=0;f<s.length;f++){var h=s[f]._id.substr(1),p=h.indexOf("scene")!==-1?h+".":"",m=o[d].replace("allaxes",p+s[f]._name);e[m]||(e[m]=e[o[d]])}delete e[o[d]]}var v=Tp.layoutFlags(),y={},b={};function x(Ve,ot){if(Array.isArray(Ve)){Ve.forEach(function(Xe){x(Xe,ot)});return}if(!(Ve in e||zi.hasParent(e,Ve))){var $e=a(r,Ve);Ve in b||(b[Ve]=_f($e.get())),ot!==void 0&&$e.set(ot)}}var w={},S;function _(Ve){var ot=Ro.name2id(Ve.split(".")[0]);return w[ot]=1,ot}for(var C in e){if(zi.hasParent(e,C))throw new Error("cannot set "+C+" and a parent attribute simultaneously");for(var E=a(r,C),M=e[C],I=E.parts.length,L=I-1;L>0&&typeof E.parts[L]!="string";)L--;var O=E.parts[L],H=E.parts[L-1]+"."+O,Y=E.parts.slice(0,L).join("."),K=An(t.layout,Y).get(),N=An(n,Y).get(),U=E.get();if(M!==void 0){y[C]=M,b[C]=O==="reverse"?M:_f(U);var B=p5.getLayoutValObject(n,E.parts);if(B&&B.impliedEdits&&M!==null)for(var $ in B.impliedEdits)x(xt.relativeAttr(C,$),B.impliedEdits[$]);if(["width","height"].indexOf(C)!==-1)if(M){x("autosize",null);var ee=C==="height"?"width":"height";x(ee,n[ee])}else n[C]=t._initialAutoSize[C];else if(C==="autosize")x("width",M?null:n.width),x("height",M?null:n.height);else if(H.match(zme))_(H),An(n,Y+"._inputRange").set(null);else if(H.match(Fme)){_(H),An(n,Y+"._inputRange").set(null);var te=An(n,Y).get();te._inputDomain&&(te._input.domain=te._inputDomain.slice())}else H.match(wZe)&&An(n,Y+"._inputDomain").set(null);if(O==="type"){S=K;var he=N.type==="linear"&&M==="log",we=N.type==="log"&&M==="linear";if(he||we){if(!S||!S.range)x(Y+".autorange",!0);else if(N.autorange)he&&(S.range=S.range[1]>S.range[0]?[1,2]:[2,1]);else{var Te=S.range[0],ce=S.range[1];he?(Te<=0&&ce<=0&&x(Y+".autorange",!0),Te<=0?Te=ce/1e6:ce<=0&&(ce=Te/1e6),x(Y+".range[0]",Math.log(Te)/Math.LN10),x(Y+".range[1]",Math.log(ce)/Math.LN10)):(x(Y+".range[0]",Math.pow(10,Te)),x(Y+".range[1]",Math.pow(10,ce)))}Array.isArray(n._subplots.polar)&&n._subplots.polar.length&&n[E.parts[0]]&&E.parts[1]==="radialaxis"&&delete n[E.parts[0]]._subplot.viewInitial["radialaxis.range"],ec.getComponentMethod("annotations","convertCoords")(t,N,M,x),ec.getComponentMethod("images","convertCoords")(t,N,M,x)}else x(Y+".autorange",!0),x(Y+".range",null);An(n,Y+"._inputRange").set(null)}else if(O.match(uZe)){var q=An(n,C).get(),X=(M||{}).type;(!X||X==="-")&&(X="linear"),ec.getComponentMethod("annotations","convertCoords")(t,q,X,x),ec.getComponentMethod("images","convertCoords")(t,q,X,x)}var G=a5.containerArrayMatch(C);if(G){u=G.array,d=G.index;var de=G.property,ue=B||{editType:"calc"};d!==""&&de===""&&(a5.isAddVal(M)?b[C]=null:a5.isRemoveVal(M)?b[C]=(An(r,u).get()||[])[d]:xt.warn("unrecognized full object value",e)),Tp.update(v,ue),c[u]||(c[u]={});var fe=c[u][d];fe||(fe=c[u][d]={}),fe[de]=M,delete e[C]}else O==="reverse"?(K.range?K.range.reverse():(x(Y+".autorange",!0),K.range=[1,0]),N.autorange?v.calc=!0:v.plot=!0):(C==="dragmode"&&(M===!1&&U!==!1||M!==!1&&U===!1)||n._has("scatter-like")&&n._has("regl")&&C==="dragmode"&&(M==="lasso"||M==="select")&&!(U==="lasso"||U==="select")?v.plot=!0:B?Tp.update(v,B):v.calc=!0,E.set(M))}}for(u in c){var _e=a5.applyContainerArrayChanges(t,a(r,u),c[u],v,a);_e||(v.plot=!0)}for(var Oe in w){S=Ro.getFromId(t,Oe);var Ce=S&&S._constraintGroup;if(Ce){v.calc=!0;for(var je in Ce)w[je]||(Ro.getFromId(t,je)._constraintShrinkable=!0)}}(qme(t)||e.height||e.width)&&(v.plot=!0);var qe=n.shapes;for(d=0;d<qe.length;d++)if(qe[d].showlegend){v.calc=!0;break}return(v.plot||v.calc)&&(v.layoutReplot=!0),{flags:v,rangesAltered:w,undoit:b,redoit:y,eventData:l}}function qme(t){var e=t._fullLayout,r=e.width,n=e.height;return t.layout.autosize&&rr.plotAutoSize(t,t.layout,e),e.width!==r||e.height!==n}function f5(t,e,r,n){t=xt.getGraphDiv(t),zi.clearPromiseQueue(t),xt.isPlainObject(e)||(e={}),xt.isPlainObject(r)||(r={}),Object.keys(e).length&&(t.changed=!0),Object.keys(r).length&&(t.changed=!0);var i=zi.coerceTraceIndices(t,n),a=Ome(t,xt.extendFlat({},e),i),o=a.flags,s=Hme(t,xt.extendFlat({},r)),l=s.flags;(o.calc||l.calc)&&(t.calcdata=void 0),o.clearAxisTypes&&zi.clearAxisTypes(t,i,r);var c=[];l.layoutReplot?c.push(hn.layoutReplot):o.fullReplot?c.push(jr._doPlot):(c.push(rr.previousPromises),Pme(t,l,s)||rr.supplyDefaults(t),o.style&&c.push(hn.doTraceStyle),(o.colorbars||l.colorbars)&&c.push(hn.doColorBars),l.legend&&c.push(hn.doLegend),l.layoutstyle&&c.push(hn.layoutStyles),l.axrange&&m5(c,s.rangesAltered),l.ticks&&c.push(hn.doTicksRelayout),l.modebar&&c.push(hn.doModeBar),l.camera&&c.push(hn.doCamera),c.push(x_)),c.push(rr.rehover,rr.redrag,rr.reselect),Go.add(t,f5,[t,a.undoit,s.undoit,a.traces],f5,[t,a.redoit,s.redoit,a.traces]);var u=xt.syncOrAsync(c,t);return(!u||!u.then)&&(u=Promise.resolve(t)),u.then(function(){return t.emit("plotly_update",{data:a.eventData,layout:s.eventData}),t})}function $9(t){return function(r){r._fullLayout._guiEditing=!0;var n=t.apply(null,arguments);return r._fullLayout._guiEditing=!1,n}}var xZe=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],TZe=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Tme(t,e){for(var r=0;r<e.length;r++){var n=e[r],i=t.match(n.pattern);if(i){var a=i[1]||"";return{head:a,tail:t.substr(a.length+1),attr:n.attr}}}}function Sme(t,e){var r=An(e,t).get();if(r!==void 0)return r;var n=t.split(".");for(n.pop();n.length>1;)if(n.pop(),r=An(e,n.join(".")+".uirevision").get(),r!==void 0)return r;return e.uirevision}function SZe(t,e){for(var r=0;r<e.length;r++)if(e[r]._fullInput.uid===t)return r;return-1}function _Ze(t,e,r){for(var n=0;n<e.length;n++)if(e[n].uid===t)return n;return!e[r]||e[r].uid?-1:r}function _me(t,e){var r=xt.isPlainObject(t),n=Array.isArray(t);return r||n?(r&&xt.isPlainObject(e)||n&&Array.isArray(e))&&JSON.stringify(t)===JSON.stringify(e):t===e}function CZe(t,e,r,n){var i=n._preGUI,a,o,s,l,c,u,d,f,h,p,m=[],v={},y={};for(a in i){if(c=Tme(a,xZe),c){if(h=c.head,p=c.tail,o=c.attr||h+".uirevision",s=An(n,o).get(),l=s&&Sme(o,e),l&&l===s){if(u=i[a],u===null&&(u=void 0),d=An(e,a),f=d.get(),_me(f,u)){f===void 0&&p==="autorange"&&m.push(h),d.set(_f(An(n,a).get()));continue}else if(p==="autorange"||p.substr(0,6)==="range["){var b=i[h+".range[0]"],x=i[h+".range[1]"],w=i[h+".autorange"];if(w||w===null&&b===null&&x===null){if(!(h in v)){var S=An(e,h).get();v[h]=S&&(S.autorange||S.autorange!==!1&&(!S.range||S.range.length!==2))}if(v[h]){d.set(_f(An(n,a).get()));continue}}}}}else xt.warn("unrecognized GUI edit: "+a);delete i[a],c&&c.tail.substr(0,6)==="range["&&(y[c.head]=1)}for(var _=0;_<m.length;_++){var C=m[_];if(y[C]){var E=An(e,C).get();E&&delete E.autorange}}var M=n._tracePreGUI;for(var I in M){var L=M[I],O=null,H;for(a in L){if(!O){var Y=SZe(I,r);if(Y<0){delete M[I];break}var K=r[Y];H=K._fullInput;var N=_Ze(I,t,H.index);if(N<0){delete M[I];break}O=t[N]}if(c=Tme(a,TZe),c){if(c.attr?(s=An(n,c.attr).get(),l=s&&Sme(c.attr,e)):(s=H.uirevision,l=O.uirevision,l===void 0&&(l=e.uirevision)),l&&l===s&&(u=L[a],u===null&&(u=void 0),d=An(O,a),f=d.get(),_me(f,u))){d.set(_f(An(H,a).get()));continue}}else xt.warn("unrecognized GUI edit: "+a+" in trace uid "+I);delete L[a]}}}function kZe(t,e,r,n){var i,a;function o(){return jr.addFrames(t,i)}t=xt.getGraphDiv(t),zi.clearPromiseQueue(t);var s=t._fullData,l=t._fullLayout;if(!xt.isPlotDiv(t)||!s||!l)a=jr.newPlot(t,e,r,n);else{if(xt.isPlainObject(e)){var c=e;e=c.data,r=c.layout,n=c.config,i=c.frames}var u=!1;if(n){var d=xt.extendDeep({},t._context);t._context=void 0,Eme(t,n),u=Z9(d,t._context)}t.data=e||[],zi.cleanData(t.data),t.layout=r||{},zi.cleanLayout(t.layout),CZe(t.data,t.layout,s,l),rr.supplyDefaults(t,{skipUpdateCalc:!0});var f=t._fullData,h=t._fullLayout,p=h.datarevision===void 0,m=h.transition,v=DZe(t,l,h,p,m),y=v.newDataRevision,b=EZe(t,s,f,p,m,y);if(qme(t)&&(v.layoutReplot=!0),b.calc||v.calc){t.calcdata=void 0;for(var x=Object.getOwnPropertyNames(h),w=0;w<x.length;w++){var S=x[w],_=S.substring(0,5);if(_==="xaxis"||_==="yaxis"){var C=h[S]._emptyCategories;C&&C()}}}else rr.supplyDefaultsUpdateCalc(t.calcdata,f);var E=[];if(i&&(t._transitionData={},rr.createTransitionData(t),E.push(o)),h.transition&&!u&&(b.anim||v.anim))v.ticks&&E.push(hn.doTicksRelayout),rr.doCalcdata(t),hn.doAutoRangeAndConstraints(t),E.push(function(){return rr.transitionFromReact(t,b,v,l)});else if(b.fullReplot||v.layoutReplot||u)t._fullLayout._skipDefaults=!0,E.push(jr._doPlot);else{for(var M in v.arrays){var I=v.arrays[M];if(I.length){var L=ec.getComponentMethod(M,"drawOne");if(L!==xt.noop)for(var O=0;O<I.length;O++)L(t,I[O]);else{var H=ec.getComponentMethod(M,"draw");if(H===xt.noop)throw new Error("cannot draw components: "+M);H(t)}}}E.push(rr.previousPromises),b.style&&E.push(hn.doTraceStyle),(b.colorbars||v.colorbars)&&E.push(hn.doColorBars),v.legend&&E.push(hn.doLegend),v.layoutstyle&&E.push(hn.layoutStyles),v.axrange&&m5(E),v.ticks&&E.push(hn.doTicksRelayout),v.modebar&&E.push(hn.doModeBar),v.camera&&E.push(hn.doCamera),E.push(x_)}E.push(rr.rehover,rr.redrag,rr.reselect),a=xt.syncOrAsync(E,t),(!a||!a.then)&&(a=Promise.resolve(t))}return a.then(function(){return t.emit("plotly_react",{data:e,layout:r}),t})}function EZe(t,e,r,n,i,a){var o=e.length===r.length;if(!i&&!o)return{fullReplot:!0,calc:!0};var s=Tp.traceFlags();s.arrays={},s.nChanges=0,s.nChangesAnim=0;var l,c;function u(h){var p=p5.getTraceValObject(c,h);return!c._module.animatable&&p.anim&&(p.anim=!1),p}var d={getValObject:u,flags:s,immutable:n,transition:i,newDataRevision:a,gd:t},f={};for(l=0;l<e.length;l++)if(r[l]){if(c=r[l]._fullInput,f[c.uid])continue;f[c.uid]=1,h5(e[l]._fullInput,c,[],d)}return(s.calc||s.plot)&&(s.fullReplot=!0),i&&s.nChanges&&s.nChangesAnim&&(s.anim=s.nChanges===s.nChangesAnim&&o?"all":"some"),s}function DZe(t,e,r,n,i){var a=Tp.layoutFlags();a.arrays={},a.rangesAltered={},a.nChanges=0,a.nChangesAnim=0;function o(f){return p5.getLayoutValObject(r,f)}for(var s in r)if(!(!s.startsWith("xaxis")&&!s.startsWith("yaxis"))&&e[s]){var l=r[s].domain,c=e[s].domain,u=e[s]._inputDomain;e[s]._inputDomain&&(l[0]===u[0]&&l[1]===u[1]?r[s].domain=e[s].domain:(l[0]!==c[0]||l[1]!==c[1])&&(r[s]._inputDomain=null))}var d={getValObject:o,flags:a,immutable:n,transition:i,gd:t};return h5(e,r,[],d),(a.plot||a.calc)&&(a.layoutReplot=!0),i&&a.nChanges&&a.nChangesAnim&&(a.anim=a.nChanges===a.nChangesAnim?"all":"some"),a}function h5(t,e,r,n){var i,a,o,s=n.getValObject,l=n.flags,c=n.immutable,u=n.inArray,d=n.arrayIndex;function f(){var Y=i.editType;if(u&&Y.indexOf("arraydraw")!==-1){xt.pushUnique(l.arrays[u],d);return}Tp.update(l,i),Y!=="none"&&l.nChanges++,n.transition&&i.anim&&l.nChangesAnim++,(zme.test(o)||Fme.test(o))&&(l.rangesAltered[r[0]]=1),a==="datarevision"&&(l.newDataRevision=1)}function h(Y){return Y.valType==="data_array"||Y.arrayOk}for(a in t){if(l.calc&&!n.transition)return;var p=t[a],m=e[a],v=r.concat(a);if(o=v.join("."),!(a.charAt(0)==="_"||typeof p=="function"||p===m)){if((a==="tick0"||a==="dtick")&&r[0]!=="geo"){var y=e.tickmode;if(y==="auto"||y==="array"||!y)continue}if(!(a==="range"&&e.autorange)&&!((a==="zmin"||a==="zmax")&&e.type==="contourcarpet")&&(i=s(v),!!i&&!(i._compareAsJSON&&JSON.stringify(p)===JSON.stringify(m)))){var b=i.valType,x,w=h(i),S=Array.isArray(p),_=Array.isArray(m);if(S&&_){var C="_input_"+a,E=t[C],M=e[C];if(Array.isArray(E)&&E===M)continue}if(m===void 0)w&&S?l.calc=!0:f();else if(i._isLinkedToArray){var I=[],L=!1;u||(l.arrays[a]=I);var O=Math.min(p.length,m.length),H=Math.max(p.length,m.length);if(O!==H)if(i.editType==="arraydraw")L=!0;else{f();continue}for(x=0;x<O;x++)h5(p[x],m[x],v.concat(x),xt.extendFlat({inArray:a,arrayIndex:x},n));if(L)for(x=O;x<H;x++)I.push(x)}else!b&&xt.isPlainObject(p)?h5(p,m,v,n):w?S&&_?(c&&(l.calc=!0),(c||n.newDataRevision)&&f()):S!==_?l.calc=!0:f():S&&_?(p.length!==m.length||String(p)!==String(m))&&f():f()}}}for(a in e)if(!(a in t||a.charAt(0)==="_"||typeof e[a]=="function"))if(i=s(r.concat(a)),h(i)&&Array.isArray(e[a])){l.calc=!0;return}else f()}function Z9(t,e){var r;for(r in t)if(r.charAt(0)!=="_"){var n=t[r],i=e[r];if(n!==i)if(xt.isPlainObject(n)&&xt.isPlainObject(i)){if(Z9(n,i))return!0}else if(Array.isArray(n)&&Array.isArray(i)){if(n.length!==i.length)return!0;for(var a=0;a<n.length;a++)if(n[a]!==i[a])if(xt.isPlainObject(n[a])&&xt.isPlainObject(i[a])){if(Z9(n[a],i[a]))return!0}else return!0}else return!0}}function AZe(t,e,r){if(t=xt.getGraphDiv(t),!xt.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var n=t._transitionData;n._frameQueue||(n._frameQueue=[]),r=rr.supplyAnimationDefaults(r);var i=r.transition,a=r.frame;n._frameWaitingCnt===void 0&&(n._frameWaitingCnt=0);function o(c){return Array.isArray(i)?c>=i.length?i[0]:i[c]:i}function s(c){return Array.isArray(a)?c>=a.length?a[0]:a[c]:a}function l(c,u){var d=0;return function(){if(c&&++d===u)return c()}}return new Promise(function(c,u){function d(){if(n._frameQueue.length!==0){for(;n._frameQueue.length;){var O=n._frameQueue.pop();O.onInterrupt&&O.onInterrupt()}t.emit("plotly_animationinterrupted",[])}}function f(O){if(O.length!==0){for(var H=0;H<O.length;H++){var Y;O[H].type==="byname"?Y=rr.computeFrame(t,O[H].name):Y=O[H].data;var K=s(H),N=o(H);N.duration=Math.min(N.duration,K.duration);var U={frame:Y,name:O[H].name,frameOpts:K,transitionOpts:N};H===O.length-1&&(U.onComplete=l(c,2),U.onInterrupt=u),n._frameQueue.push(U)}r.mode==="immediate"&&(n._lastFrameAt=-1/0),n._animationRaf||m()}}function h(){t.emit("plotly_animated"),window.cancelAnimationFrame(n._animationRaf),n._animationRaf=null}function p(){n._currentFrame&&n._currentFrame.onComplete&&n._currentFrame.onComplete();var O=n._currentFrame=n._frameQueue.shift();if(O){var H=O.name?O.name.toString():null;t._fullLayout._currentFrame=H,n._lastFrameAt=Date.now(),n._timeToNext=O.frameOpts.duration,rr.transition(t,O.frame.data,O.frame.layout,zi.coerceTraceIndices(t,O.frame.traces),O.frameOpts,O.transitionOpts).then(function(){O.onComplete&&O.onComplete()}),t.emit("plotly_animatingframe",{name:H,frame:O.frame,animation:{frame:O.frameOpts,transition:O.transitionOpts}})}else h()}function m(){t.emit("plotly_animating"),n._lastFrameAt=-1/0,n._timeToNext=0,n._runningTransitions=0,n._currentFrame=null;var O=function(){n._animationRaf=window.requestAnimationFrame(O),Date.now()-n._lastFrameAt>n._timeToNext&&p()};O()}var v=0;function y(O){return Array.isArray(i)?v>=i.length?O.transitionOpts=i[v]:O.transitionOpts=i[0]:O.transitionOpts=i,v++,O}var b,x,w=[],S=e==null,_=Array.isArray(e),C=!S&&!_&&xt.isPlainObject(e);if(C)w.push({type:"object",data:y(xt.extendFlat({},e))});else if(S||["string","number"].indexOf(typeof e)!==-1)for(b=0;b<n._frames.length;b++)x=n._frames[b],x&&(S||String(x.group)===String(e))&&w.push({type:"byname",name:String(x.name),data:y({name:x.name})});else if(_)for(b=0;b<e.length;b++){var E=e[b];["number","string"].indexOf(typeof E)!==-1?(E=String(E),w.push({type:"byname",name:E,data:y({name:E})})):xt.isPlainObject(E)&&w.push({type:"object",data:y(xt.extendFlat({},E))})}for(b=0;b<w.length;b++)if(x=w[b],x.type==="byname"&&!n._frameHash[x.data.name]){xt.warn('animate failure: frame not found: "'+x.data.name+'"'),u();return}["next","immediate"].indexOf(r.mode)!==-1&&d(),r.direction==="reverse"&&w.reverse();var M=t._fullLayout._currentFrame;if(M&&r.fromcurrent){var I=-1;for(b=0;b<w.length;b++)if(x=w[b],x.type==="byname"&&x.name===M){I=b;break}if(I>0&&I<w.length-1){var L=[];for(b=0;b<w.length;b++)x=w[b],(w[b].type!=="byname"||b>I)&&L.push(x);w=L}}w.length>0?f(w):(t.emit("plotly_animated"),c())})}function MZe(t,e,r){if(t=xt.getGraphDiv(t),e==null)return Promise.resolve();if(!xt.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var n,i,a,o,s=t._transitionData._frames,l=t._transitionData._frameHash;if(!Array.isArray(e))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+e);var c=s.length+e.length*2,u=[],d={};for(n=e.length-1;n>=0;n--)if(xt.isPlainObject(e[n])){var f=e[n].name,h=(l[f]||d[f]||{}).name,p=e[n].name,m=l[h]||d[h];h&&p&&typeof p=="number"&&m&&W9<xme&&(W9++,xt.warn('addFrames: overwriting frame "'+(l[h]||d[h]).name+'" with a frame whose name of type "number" also equates to "'+h+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),W9===xme&&xt.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),d[f]={name:f},u.push({frame:rr.supplyFrameDefaults(e[n]),index:r&&r[n]!==void 0&&r[n]!==null?r[n]:c+n})}u.sort(function(C,E){return C.index>E.index?-1:C.index<E.index?1:0});var v=[],y=[],b=s.length;for(n=u.length-1;n>=0;n--){if(i=u[n].frame,typeof i.name=="number"&&xt.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!i.name)for(;l[i.name="frame "+t._transitionData._counter++];);if(l[i.name]){for(a=0;a<s.length&&(s[a]||{}).name!==i.name;a++);v.push({type:"replace",index:a,value:i}),y.unshift({type:"replace",index:a,value:s[a]})}else o=Math.max(0,Math.min(u[n].index,b)),v.push({type:"insert",index:o,value:i}),y.unshift({type:"delete",index:o}),b++}var x=rr.modifyFrames,w=rr.modifyFrames,S=[t,y],_=[t,v];return Go&&Go.add(t,x,S,w,_),rr.modifyFrames(t,v)}function RZe(t,e){if(t=xt.getGraphDiv(t),!xt.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);var r,n,i=t._transitionData._frames,a=[],o=[];if(!e)for(e=[],r=0;r<i.length;r++)e.push(r);for(e=e.slice(),e.sort(),r=e.length-1;r>=0;r--)n=e[r],a.push({type:"delete",index:n}),o.unshift({type:"insert",index:n,value:i[n]});var s=rr.modifyFrames,l=rr.modifyFrames,c=[t,o],u=[t,a];return Go&&Go.add(t,s,c,l,u),rr.modifyFrames(t,a)}function IZe(t){t=xt.getGraphDiv(t);var e=t._fullLayout||{},r=t._fullData||[];return rr.cleanPlot([],{},r,e),rr.purge(t),G9.purge(t),e._container&&e._container.remove(),delete t._context,t}function NZe(t){var e=t._fullLayout,r=t.getBoundingClientRect();if(!xt.equalDomRects(r,e._lastBBox)){var n=e._invTransform=xt.inverseTransformMatrix(xt.getFullTransformMatrix(t));e._invScaleX=Math.sqrt(n[0][0]*n[0][0]+n[0][1]*n[0][1]+n[0][2]*n[0][2]),e._invScaleY=Math.sqrt(n[1][0]*n[1][0]+n[1][1]*n[1][1]+n[1][2]*n[1][2]),e._lastBBox=r}}function LZe(t){var e=s5.select(t),r=t._fullLayout;if(r._calcInverseTransform=NZe,r._calcInverseTransform(t),r._container=e.selectAll(".plot-container").data([0]),r._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0).style({width:"100%",height:"100%"}),r._paperdiv=r._container.selectAll(".svg-container").data([0]),r._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),r._glcontainer=r._paperdiv.selectAll(".gl-container").data([{}]),r._glcontainer.enter().append("div").classed("gl-container",!0),r._paperdiv.selectAll(".main-svg").remove(),r._paperdiv.select(".modebar-container").remove(),r._paper=r._paperdiv.insert("svg",":first-child").classed("main-svg",!0),r._toppaper=r._paperdiv.append("svg").classed("main-svg",!0),r._modebardiv=r._paperdiv.append("div"),delete r._modeBar,r._hoverpaper=r._paperdiv.append("svg").classed("main-svg",!0),!r._uid){var n={};s5.selectAll("defs").each(function(){this.id&&(n[this.id.split("-")[1]]=1)}),r._uid=xt.randstr(n)}r._paperdiv.selectAll(".main-svg").attr(lZe.svgAttrs),r._defs=r._paper.append("defs").attr("id","defs-"+r._uid),r._clips=r._defs.append("g").classed("clips",!0),r._topdefs=r._toppaper.append("defs").attr("id","topdefs-"+r._uid),r._topclips=r._topdefs.append("g").classed("clips",!0),r._bgLayer=r._paper.append("g").classed("bglayer",!0),r._draggers=r._paper.append("g").classed("draglayer",!0);var i=r._paper.append("g").classed("layer-below",!0);r._imageLowerLayer=i.append("g").classed("imagelayer",!0),r._shapeLowerLayer=i.append("g").classed("shapelayer",!0),r._cartesianlayer=r._paper.append("g").classed("cartesianlayer",!0),r._polarlayer=r._paper.append("g").classed("polarlayer",!0),r._smithlayer=r._paper.append("g").classed("smithlayer",!0),r._ternarylayer=r._paper.append("g").classed("ternarylayer",!0),r._geolayer=r._paper.append("g").classed("geolayer",!0),r._funnelarealayer=r._paper.append("g").classed("funnelarealayer",!0),r._pielayer=r._paper.append("g").classed("pielayer",!0),r._iciclelayer=r._paper.append("g").classed("iciclelayer",!0),r._treemaplayer=r._paper.append("g").classed("treemaplayer",!0),r._sunburstlayer=r._paper.append("g").classed("sunburstlayer",!0),r._indicatorlayer=r._toppaper.append("g").classed("indicatorlayer",!0),r._glimages=r._paper.append("g").classed("glimages",!0);var a=r._toppaper.append("g").classed("layer-above",!0);r._imageUpperLayer=a.append("g").classed("imagelayer",!0),r._shapeUpperLayer=a.append("g").classed("shapelayer",!0),r._selectionLayer=r._toppaper.append("g").classed("selectionlayer",!0),r._infolayer=r._toppaper.append("g").classed("infolayer",!0),r._menulayer=r._toppaper.append("g").classed("menulayer",!0),r._zoomlayer=r._toppaper.append("g").classed("zoomlayer",!0),r._hoverlayer=r._hoverpaper.append("g").classed("hoverlayer",!0),r._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),t.emit("plotly_framework")}jr.animate=AZe;jr.addFrames=MZe;jr.deleteFrames=RZe;jr.addTraces=Nme;jr.deleteTraces=Lme;jr.extendTraces=Rme;jr.moveTraces=Y9;jr.prependTraces=Ime;jr.newPlot=mZe;jr._doPlot=dZe;jr.purge=IZe;jr.react=kZe;jr.redraw=pZe;jr.relayout=w_;jr.restyle=u5;jr.setPlotConfig=fZe;jr.update=f5;jr._guiRelayout=$9(w_);jr._guiRestyle=$9(u5);jr._guiUpdate=$9(f5);jr._storeDirectGUIEdit=bZe});var Vv=J($u=>{"use strict";var OZe=Xt();$u.getDelay=function(t){return t._has&&(t._has("gl3d")||t._has("mapbox")||t._has("map"))?500:0};$u.getRedrawFunc=function(t){return function(){OZe.getComponentMethod("colorbar","draw")(t)}};$u.encodeSVG=function(t){return"data:image/svg+xml,"+encodeURIComponent(t)};$u.encodeJSON=function(t){return"data:application/json,"+encodeURIComponent(t)};var Ume=window.URL||window.webkitURL;$u.createObjectURL=function(t){return Ume.createObjectURL(t)};$u.revokeObjectURL=function(t){return Ume.revokeObjectURL(t)};$u.createBlob=function(t,e){if(e==="svg")return new window.Blob([t],{type:"image/svg+xml;charset=utf-8"});if(e==="full-json")return new window.Blob([t],{type:"application/json;charset=utf-8"});var r=PZe(window.atob(t));return new window.Blob([r],{type:"image/"+e})};$u.octetStream=function(t){document.location.href="data:application/octet-stream"+t};function PZe(t){for(var e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r),i=0;i<e;i++)n[i]=t.charCodeAt(i);return r}$u.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/});var v5=J((P1t,Bme)=>{"use strict";var Q9=Sr(),L1t=Qe(),zZe=Kr(),FZe=gr(),O1t=cp(),K9=/"/g,T_="TOBESTRIPPED",HZe=new RegExp('("'+T_+")|("+T_+'")',"g");function qZe(t){var e=Q9.select("body").append("div").style({display:"none"}).html(""),r=t.replace(/(&[^;]*;)/gi,function(n){return n==="&lt;"?"&#60;":n==="&rt;"?"&#62;":n.indexOf("<")!==-1||n.indexOf(">")!==-1?"":e.html(n).text()});return e.remove(),r}function UZe(t){return t.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}Bme.exports=function(e,r,n){var i=e._fullLayout,a=i._paper,o=i._toppaper,s=i.width,l=i.height,c;a.insert("rect",":first-child").call(zZe.setRect,0,0,s,l).call(FZe.fill,i.paper_bgcolor);var u=i._basePlotModules||[];for(c=0;c<u.length;c++){var d=u[c];d.toSVG&&d.toSVG(e)}if(o){var f=o.node().childNodes,h=Array.prototype.slice.call(f);for(c=0;c<h.length;c++){var p=h[c];p.childNodes.length&&a.node().appendChild(p)}}i._draggers&&i._draggers.remove(),a.node().style.background="",a.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var v=Q9.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){v.remove();return}else v.style({visibility:null,display:null});var y=this.style.fontFamily;y&&y.indexOf('"')!==-1&&v.style("font-family",y.replace(K9,T_));var b=this.style.fontWeight;b&&(b==="normal"||b==="400")&&v.style("font-weight",void 0);var x=this.style.fontStyle;x&&x==="normal"&&v.style("font-style",void 0);var w=this.style.fontVariant;w&&w==="normal"&&v.style("font-variant",void 0)}),a.selectAll(".gradient_filled,.pattern_filled").each(function(){var v=Q9.select(this),y=this.style.fill;y&&y.indexOf("url(")!==-1&&v.style("fill",y.replace(K9,T_));var b=this.style.stroke;b&&b.indexOf("url(")!==-1&&v.style("stroke",b.replace(K9,T_))}),(r==="pdf"||r==="eps")&&a.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),r==="svg"&&n&&(a.attr("width",n*s),a.attr("height",n*l),a.attr("viewBox","0 0 "+s+" "+l));var m=new window.XMLSerializer().serializeToString(a.node());return m=qZe(m),m=UZe(m),m=m.replace(HZe,"'"),m}});var g5=J((z1t,jme)=>{"use strict";var BZe=Qe(),jZe=require("events").EventEmitter,S_=Vv();function VZe(t){var e=t.emitter||new jZe,r=new Promise(function(n,i){var a=window.Image,o=t.svg,s=t.format||"png",l=t.canvas,c=t.scale||1,u=t.width||300,d=t.height||150,f=c*u,h=c*d,p=l.getContext("2d",{willReadFrequently:!0}),m=new a,v,y;s==="svg"||BZe.isSafari()?y=S_.encodeSVG(o):(v=S_.createBlob(o,"svg"),y=S_.createObjectURL(v)),l.width=f,l.height=h,m.onload=function(){var b;switch(v=null,S_.revokeObjectURL(y),s!=="svg"&&p.drawImage(m,0,0,f,h),s){case"jpeg":b=l.toDataURL("image/jpeg");break;case"png":b=l.toDataURL("image/png");break;case"webp":b=l.toDataURL("image/webp");break;case"svg":b=y;break;default:var x="Image format is not jpeg, png, svg or webp.";if(i(new Error(x)),!t.promise)return e.emit("error",x)}n(b),t.promise||e.emit("success",b)},m.onerror=function(b){if(v=null,S_.revokeObjectURL(y),i(b),!t.promise)return e.emit("error",b)},m.src=y});return t.promise?r:e}jme.exports=VZe});var eq=J((F1t,Gme)=>{"use strict";var Vme=_r(),Wme=X9(),WZe=ki(),Xu=Qe(),__=Vv(),GZe=v5(),YZe=g5(),ZZe=EA().version,J9={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png",description:"Sets the format of exported image."},width:{valType:"number",min:1,description:["Sets the exported image width.","Defaults to the value found in `layout.width`","If set to *null*, the exported image width will match the current graph width."].join(" ")},height:{valType:"number",min:1,description:["Sets the exported image height.","Defaults to the value found in `layout.height`","If set to *null*, the exported image height will match the current graph height."].join(" ")},scale:{valType:"number",min:0,dflt:1,description:["Sets a scaling for the generated image.","If set, all features of a graphs (e.g. text, line width)","are scaled, unlike simply setting","a bigger *width* and *height*."].join(" ")},setBackground:{valType:"any",dflt:!1,description:["Sets the image background mode.","By default, the image background is determined by `layout.paper_bgcolor`,","the *transparent* mode.","One might consider setting `setBackground` to *opaque*","when exporting a *jpeg* image as JPEGs do not support opacity."].join(" ")},imageDataOnly:{valType:"boolean",dflt:!1,description:["Determines whether or not the return value is prefixed by","the image format's corresponding 'data:image;' spec."].join(" ")}};function $Ze(t,e){e=e||{};var r,n,i,a;Xu.isPlainObject(t)?(r=t.data||[],n=t.layout||{},i=t.config||{},a={}):(t=Xu.getGraphDiv(t),r=Xu.extendDeep([],t.data),n=Xu.extendDeep({},t.layout),i=t._context,a=t._fullLayout||{});function o(_){return!(_ in e)||Xu.validate(e[_],J9[_])}if(!o("width")&&e.width!==null||!o("height")&&e.height!==null)throw new Error("Height and width should be pixel values.");if(!o("format"))throw new Error("Export format is not "+Xu.join2(J9.format.values,", "," or ")+".");var s={};function l(_,C){return Xu.coerce(e,s,J9,_,C)}var c=l("format"),u=l("width"),d=l("height"),f=l("scale"),h=l("setBackground"),p=l("imageDataOnly"),m=document.createElement("div");m.style.position="absolute",m.style.left="-5000px",document.body.appendChild(m);var v=Xu.extendFlat({},n);u?v.width=u:e.width===null&&Vme(a.width)&&(v.width=a.width),d?v.height=d:e.height===null&&Vme(a.height)&&(v.height=a.height);var y=Xu.extendFlat({},i,{_exportedPlot:!0,staticPlot:!0,setBackground:h}),b=__.getRedrawFunc(m);function x(){return new Promise(function(_){setTimeout(_,__.getDelay(m._fullLayout))})}function w(){return new Promise(function(_,C){var E=GZe(m,c,f),M=m._fullLayout.width,I=m._fullLayout.height;function L(){Wme.purge(m),document.body.removeChild(m)}if(c==="full-json"){var O=WZe.graphJson(m,!1,"keepdata","object",!0,!0);return O.version=ZZe,O=JSON.stringify(O),L(),_(p?O:__.encodeJSON(O))}if(L(),c==="svg")return _(p?E:__.encodeSVG(E));var H=document.createElement("canvas");H.id=Xu.randstr(),YZe({format:c,width:M,height:I,scale:f,canvas:H,svg:E,promise:!0}).then(_).catch(C)})}function S(_){return p?_.replace(__.IMAGE_URL_PREFIX,""):_}return new Promise(function(_,C){Wme.newPlot(m,r,v,y).then(b).then(x).then(w).then(function(E){_(S(E))}).catch(function(E){C(E)})})}Gme.exports=$Ze});var Xme=J((H1t,$me)=>{"use strict";var tc=Qe(),XZe=ki(),KZe=ib(),QZe=hv().dfltConfig,Yc=tc.isPlainObject,Gv=Array.isArray,Yme=tc.isArrayOrTypedArray;$me.exports=function(e,r){e===void 0&&(e=[]),r===void 0&&(r={});var n=KZe.get(),i=[],a={_context:tc.extendFlat({},QZe)},o,s;Gv(e)?(a.data=tc.extendDeep([],e),o=e):(a.data=[],o=[],i.push(la("array","data"))),Yc(r)?(a.layout=tc.extendDeep({},r),s=r):(a.layout={},s={},arguments.length>1&&i.push(la("object","layout"))),XZe.supplyDefaults(a);for(var l=a._fullData,c=o.length,u=0;u<c;u++){var d=o[u],f=["data",u];if(!Yc(d)){i.push(la("object",f));continue}var h=l[u],p=h.type,m=n.traces[p].attributes;m.type={valType:"enumerated",values:[p]},h.visible===!1&&d.visible!==!1&&i.push(la("invisible",f)),y5(d,h,m,i,f)}var v=a._fullLayout,y=JZe(n,l);return y5(s,v,y,i,"layout"),i.length===0?void 0:i};function y5(t,e,r,n,i,a){a=a||[];for(var o=Object.keys(t),s=0;s<o.length;s++){var l=o[s],c=a.slice();c.push(l);var u=t[l],d=e[l],f=r$e(r,l),h=(f||{}).valType,p=h==="info_array",m=h==="colorscale",v=(f||{}).items;if(!t$e(r,l))n.push(la("schema",i,c));else if(Yc(u)&&Yc(d)&&h!=="any")y5(u,d,f,n,i,c);else if(p&&Gv(u)){u.length>d.length&&n.push(la("unused",i,c.concat(d.length)));var y=d.length,b=Array.isArray(v);b&&(y=Math.min(y,v.length));var x,w,S,_,C;if(f.dimensions===2)for(w=0;w<y;w++)if(Gv(u[w])){u[w].length>d[w].length&&n.push(la("unused",i,c.concat(w,d[w].length)));var E=d[w].length;for(x=0;x<(b?Math.min(E,v[w].length):E);x++)S=b?v[w][x]:v,_=u[w][x],C=d[w][x],tc.validate(_,S)?C!==_&&C!==+_&&n.push(la("dynamic",i,c.concat(w,x),_,C)):n.push(la("value",i,c.concat(w,x),_))}else n.push(la("array",i,c.concat(w),u[w]));else for(w=0;w<y;w++)S=b?v[w]:v,_=u[w],C=d[w],tc.validate(_,S)?C!==_&&C!==+_&&n.push(la("dynamic",i,c.concat(w),_,C)):n.push(la("value",i,c.concat(w),_))}else if(f.items&&!p&&Gv(u)){var M=v[Object.keys(v)[0]],I=[],L,O;for(L=0;L<d.length;L++){var H=d[L]._index||L;if(O=c.slice(),O.push(H),Yc(u[H])&&Yc(d[L])){I.push(H);var Y=u[H],K=d[L];Yc(Y)&&Y.visible!==!1&&K.visible===!1?n.push(la("invisible",i,O)):y5(Y,K,M,n,i,O)}}for(L=0;L<u.length;L++)O=c.slice(),O.push(L),Yc(u[L])?I.indexOf(L)===-1&&n.push(la("unused",i,O)):n.push(la("object",i,O,u[L]))}else!Yc(u)&&Yc(d)?n.push(la("object",i,c,u)):!Yme(u)&&Yme(d)&&!p&&!m?n.push(la("array",i,c,u)):l in e?tc.validate(u,f)?f.valType==="enumerated"&&(f.coerceNumber&&u!==+d||u!==d)&&n.push(la("dynamic",i,c,u,d)):n.push(la("value",i,c,u)):n.push(la("unused",i,c,u))}return n}function JZe(t,e){for(var r=t.layout.layoutAttributes,n=0;n<e.length;n++){var i=e[n],a=t.traces[i.type],o=a.layoutAttributes;o&&(i.subplot?tc.extendFlat(r[a.attributes.subplot.dflt],o):tc.extendFlat(r,o))}return r}var e$e={object:function(t,e){var r;return t==="layout"&&e===""?r="The layout argument":t[0]==="data"&&e===""?r="Trace "+t[1]+" in the data argument":r=Wv(t)+"key "+e,r+" must be linked to an object container"},array:function(t,e){var r;return t==="data"?r="The data argument":r=Wv(t)+"key "+e,r+" must be linked to an array container"},schema:function(t,e){return Wv(t)+"key "+e+" is not part of the schema"},unused:function(t,e,r){var n=Yc(r)?"container":"key";return Wv(t)+n+" "+e+" did not get coerced"},dynamic:function(t,e,r,n){return[Wv(t)+"key",e,"(set to '"+r+"')","got reset to","'"+n+"'","during defaults."].join(" ")},invisible:function(t,e){return(e?Wv(t)+"item "+e:"Trace "+t[1])+" got defaulted to be not visible"},value:function(t,e,r){return[Wv(t)+"key "+e,"is set to an invalid value ("+r+")"].join(" ")}};function Wv(t){return Gv(t)?"In data trace "+t[1]+", ":"In "+t+", "}function la(t,e,r,n,i){r=r||"";var a,o;Gv(e)?(a=e[0],o=e[1]):(a=e,o=null);var s=i$e(r),l=e$e[t](e,s,n,i);return tc.log(l),{code:t,container:a,trace:o,path:r,astr:s,msg:l}}function t$e(t,e){var r=Zme(e),n=r.keyMinusId,i=r.id;return n in t&&t[n]._isSubplotObj&&i?!0:e in t}function r$e(t,e){if(e in t)return t[e];var r=Zme(e);return t[r.keyMinusId]}var n$e=tc.counterRegex("([a-z]+)");function Zme(t){var e=t.match(n$e);return{keyMinusId:e&&e[1],id:e&&e[2]}}function i$e(t){if(!Gv(t))return String(t);for(var e="",r=0;r<t.length;r++){var n=t[r];typeof n=="number"?e=e.substr(0,e.length-1)+"["+n+"]":e+=n,r<t.length-1&&(e+=".")}return e}});var Qme=J((q1t,Kme)=>{"use strict";var a$e=Qe(),b5=Vv();function o$e(t,e,r){var n=document.createElement("a"),i="download"in n,a=new Promise(function(o,s){var l,c;if(i)return l=b5.createBlob(t,r),c=b5.createObjectURL(l),n.href=c,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),b5.revokeObjectURL(c),l=null,o(e);if(a$e.isSafari()){var u=r==="svg"?",":";base64,";return b5.octetStream(u+encodeURIComponent(t)),o(e)}s(new Error("download error"))});return a}Kme.exports=o$e});var tq=J((B1t,eve)=>{"use strict";var Jme=Qe(),s$e=eq(),l$e=Qme(),U1t=Vv();function c$e(t,e){var r;return Jme.isPlainObject(t)||(r=Jme.getGraphDiv(t)),e=e||{},e.format=e.format||"png",e.width=e.width||null,e.height=e.height||null,e.imageDataOnly=!0,new Promise(function(n,i){r&&r._snapshotInProgress&&i(new Error("Snapshotting already in progress.")),r&&(r._snapshotInProgress=!0);var a=s$e(t,e),o=e.filename||t.fn||"newplot";o+="."+e.format.replace("-","."),a.then(function(s){return r&&(r._snapshotInProgress=!1),l$e(s,o,e.format)}).then(function(s){n(s)}).catch(function(s){r&&(r._snapshotInProgress=!1),i(s)})})}eve.exports=c$e});var ave=J(rq=>{"use strict";var xs=Qe(),Ts=xs.isPlainObject,tve=ib(),rve=ki(),u$e=Ws(),nve=On(),ive=hv().dfltConfig;rq.makeTemplate=function(t){t=xs.isPlainObject(t)?t:xs.getGraphDiv(t),t=xs.extendDeep({_context:ive},{data:t.data,layout:t.layout}),rve.supplyDefaults(t);var e=t.data||[],r=t.layout||{};r._basePlotModules=t._fullLayout._basePlotModules,r._modules=t._fullLayout._modules;var n={data:{},layout:{}};e.forEach(function(h){var p={};C_(h,p,f$e.bind(null,h));var m=xs.coerce(h,{},u$e,"type"),v=n.data[m];v||(v=n.data[m]=[]),v.push(p)}),C_(r,n.layout,d$e.bind(null,r)),delete n.layout.template;var i=r.template;if(Ts(i)){var a=i.layout,o,s,l,c,u,d;Ts(a)&&w5(a,n.layout);var f=i.data;if(Ts(f)){for(s in n.data)if(l=f[s],Array.isArray(l)){for(u=n.data[s],d=u.length,c=l.length,o=0;o<d;o++)w5(l[o%c],u[o]);for(o=d;o<c;o++)u.push(xs.extendDeep({},l[o]))}for(s in f)s in n.data||(n.data[s]=xs.extendDeep([],f[s]))}}return n};function w5(t,e){t=xs.extendDeep({},t);var r=Object.keys(t).sort(),n,i;function a(u,d,f){if(Ts(d)&&Ts(u))w5(u,d);else if(Array.isArray(d)&&Array.isArray(u)){var h=nve.arrayTemplater({_template:t},f);for(i=0;i<d.length;i++){var p=d[i],m=h.newItem(p)._template;m&&w5(m,p)}var v=h.defaultItems();for(i=0;i<v.length;i++)d.push(v[i]._template);for(i=0;i<d.length;i++)delete d[i].templateitemname}}for(n=0;n<r.length;n++){var o=r[n],s=t[o];if(o in e?a(s,e[o],o):e[o]=s,x5(o)===o)for(var l in e){var c=x5(l);l!==c&&c===o&&!(l in t)&&a(s,e[l],o)}}}function x5(t){return t.replace(/[0-9]+$/,"")}function C_(t,e,r,n,i){var a=i&&r(i);for(var o in t){var s=t[o],l=rc(t,o,n),c=rc(t,o,i),u=r(c);if(!u){var d=x5(o);d!==o&&(c=rc(t,d,i),u=r(c))}if(!(a&&a===u)&&!(!u||u._noTemplating||u.valType==="data_array"||u.arrayOk&&Array.isArray(s)))if(!u.valType&&Ts(s))C_(s,e,r,l,c);else if(u._isLinkedToArray&&Array.isArray(s))for(var f=!1,h=0,p={},m=0;m<s.length;m++){var v=s[m];if(Ts(v)){var y=v.name;if(y)p[y]||(C_(v,e,r,rc(s,h,l),rc(s,h,c)),h++,p[y]=1);else if(!f){var b=nve.arrayDefaultKey(o),x=rc(t,b,n),w=rc(s,h,l);C_(v,e,r,w,rc(s,h,c));var S=xs.nestedProperty(e,w),_=xs.nestedProperty(e,x);_.set(S.get()),S.set(null),f=!0}}}else{var C=xs.nestedProperty(e,l);C.set(s)}}}function d$e(t,e){return tve.getLayoutValObject(t,xs.nestedProperty({},e).parts)}function f$e(t,e){return tve.getTraceValObject(t,xs.nestedProperty({},e).parts)}function rc(t,e,r){var n;return r?Array.isArray(t)?n=r+"["+e+"]":n=r+"."+e:n=e,n}rq.validateTemplate=function(t,e){var r=xs.extendDeep({},{_context:ive,data:t.data,layout:t.layout}),n=r.layout||{};Ts(e)||(e=n.template||{});var i=e.layout,a=e.data,o=[];r.layout=n,r.layout.template=e,rve.supplyDefaults(r);var s=r._fullLayout,l=r._fullData,c={};function u(x,w){for(var S in x)if(S.charAt(0)!=="_"&&Ts(x[S])){var _=x5(S),C=[],E;for(E=0;E<w.length;E++)C.push(rc(x,S,w[E])),_!==S&&C.push(rc(x,_,w[E]));for(E=0;E<C.length;E++)c[C[E]]=1;u(x[S],C)}}function d(x,w){for(var S in x)if(S.indexOf("defaults")===-1&&Ts(x[S])){var _=rc(x,S,w);c[_]?d(x[S],_):o.push({code:"unused",path:_})}}if(Ts(i)?(u(s,["layout"]),d(i,"layout")):o.push({code:"layout"}),!Ts(a))o.push({code:"data"});else{for(var f={},h,p=0;p<l.length;p++){var m=l[p];h=m.type,f[h]=(f[h]||0)+1,m._fullInput._template||o.push({code:"missing",index:m.index,traceType:h})}for(h in a){var v=a[h].length,y=f[h]||0;v>y?o.push({code:"unused",traceType:h,templateCount:v,dataCount:y}):y>v&&o.push({code:"reused",traceType:h,templateCount:v,dataCount:y})}}function b(x,w){for(var S in x)if(S.charAt(0)!=="_"){var _=x[S],C=rc(x,S,w);Ts(_)?(Array.isArray(x)&&_._template===!1&&_.templateitemname&&o.push({code:"missing",path:C,templateitemname:_.templateitemname}),b(_,C)):Array.isArray(_)&&h$e(_)&&b(_,C)}}if(b({data:l,layout:s},""),o.length)return o.map(p$e)};function h$e(t){for(var e=0;e<t.length;e++)if(Ts(t[e]))return!0}function p$e(t){var e;switch(t.code){case"data":e="The template has no key data.";break;case"layout":e="The template has no key layout.";break;case"missing":t.path?e="There are no templates for item "+t.path+" with name "+t.templateitemname:e="There are no templates for trace "+t.index+", of type "+t.traceType+".";break;case"unused":t.path?e="The template item at "+t.path+" was not used in constructing the plot.":t.dataCount?e="Some of the templates of type "+t.traceType+" were not used. The template has "+t.templateCount+" traces, the data only has "+t.dataCount+" of this type.":e="The template has "+t.templateCount+" traces of type "+t.traceType+" but there are none in the data.";break;case"reused":e="Some of the templates of type "+t.traceType+" were used more than once. The template has "+t.templateCount+" traces, the data has "+t.dataCount+" of this type.";break}return t.msg=e,t}});var sve=J(Un=>{"use strict";var Yi=X9();Un._doPlot=Yi._doPlot;Un.newPlot=Yi.newPlot;Un.restyle=Yi.restyle;Un.relayout=Yi.relayout;Un.redraw=Yi.redraw;Un.update=Yi.update;Un._guiRestyle=Yi._guiRestyle;Un._guiRelayout=Yi._guiRelayout;Un._guiUpdate=Yi._guiUpdate;Un._storeDirectGUIEdit=Yi._storeDirectGUIEdit;Un.react=Yi.react;Un.extendTraces=Yi.extendTraces;Un.prependTraces=Yi.prependTraces;Un.addTraces=Yi.addTraces;Un.deleteTraces=Yi.deleteTraces;Un.moveTraces=Yi.moveTraces;Un.purge=Yi.purge;Un.addFrames=Yi.addFrames;Un.deleteFrames=Yi.deleteFrames;Un.animate=Yi.animate;Un.setPlotConfig=Yi.setPlotConfig;var m$e=vS().getGraphDiv,v$e=R3().eraseActiveShape;Un.deleteActiveShape=function(t){return v$e(m$e(t))};Un.toImage=eq();Un.validate=Xme();Un.downloadImage=tq();var ove=ave();Un.makeTemplate=ove.makeTemplate;Un.validateTemplate=ove.validateTemplate});var iq=J((W1t,lve)=>{"use strict";var nq=Qe(),g$e=Xt();lve.exports=function(e,r,n,i){var a=i("x"),o=i("y"),s,l=g$e.getComponentMethod("calendars","handleTraceDefaults");if(l(e,r,["x","y"],n),a){var c=nq.minRowLength(a);o?s=Math.min(c,nq.minRowLength(o)):(s=c,i("y0"),i("dy"))}else{if(!o)return 0;s=nq.minRowLength(o),i("x0"),i("dx")}return r._length=s,s}});var T5=J((G1t,dve)=>{"use strict";var cve=Qe().dateTick0,y$e=ei(),b$e=y$e.ONEWEEK;function uve(t,e){return t%b$e===0?cve(e,1):cve(e,0)}dve.exports=function(e,r,n,i,a){if(a||(a={x:!0,y:!0}),a.x){var o=i("xperiod");o&&(i("xperiod0",uve(o,r.xcalendar)),i("xperiodalignment"))}if(a.y){var s=i("yperiod");s&&(i("yperiod0",uve(s,r.ycalendar)),i("yperiodalignment"))}}});var pve=J((Y1t,hve)=>{"use strict";var fve=["orientation","groupnorm","stackgaps"];hve.exports=function(e,r,n,i){var a=n._scatterStackOpts,o=i("stackgroup");if(o){var s=r.xaxis+r.yaxis,l=a[s];l||(l=a[s]={});var c=l[o],u=!1;c?c.traces.push(r):(c=l[o]={traceIndices:[],traces:[r]},u=!0);for(var d={orientation:r.x&&!r.y?"h":"v"},f=0;f<fve.length;f++){var h=fve[f],p=h+"Found";if(!c[p]){var m=e[h]!==void 0,v=h==="orientation";if((m||u)&&(c[h]=i(h,d[h]),v&&(c.fillDflt=c[h]==="h"?"tonextx":"tonexty"),m&&(c[p]=!0,!u&&(delete c.traces[0][h],v))))for(var y=0;y<c.traces.length-1;y++){var b=c.traces[y];b._input.fill!==b.fill&&(b.fill=c.fillDflt)}}}return c}}});var bve=J((Z1t,yve)=>{"use strict";var mve=gr(),vve=Vl().hasColorscale,gve=Cv(),w$e=Zs();yve.exports=function(e,r,n,i,a,o){var s=w$e.isBubble(e),l=(e.line||{}).color,c;if(o=o||{},l&&(n=l),a("marker.symbol"),a("marker.opacity",s?.7:1),a("marker.size"),o.noAngle||(a("marker.angle"),o.noAngleRef||a("marker.angleref"),o.noStandOff||a("marker.standoff")),a("marker.color",n),vve(e,"marker")&&gve(e,r,i,a,{prefix:"marker.",cLetter:"c"}),o.noSelect||(a("selected.marker.color"),a("unselected.marker.color"),a("selected.marker.size"),a("unselected.marker.size")),o.noLine||(l&&!Array.isArray(l)&&r.marker.color!==l?c=l:s?c=mve.background:c=mve.defaultLine,a("marker.line.color",c),vve(e,"marker.line")&&gve(e,r,i,a,{prefix:"marker.line.",cLetter:"c"}),a("marker.line.width",s?1:0)),s&&(a("marker.sizeref"),a("marker.sizemin"),a("marker.sizemode")),o.gradient){var u=a("marker.gradient.type");u!=="none"&&a("marker.gradient.color")}}});var xve=J(($1t,wve)=>{"use strict";var x$e=Qe().isArrayOrTypedArray,T$e=Vl().hasColorscale,S$e=Cv();wve.exports=function(e,r,n,i,a,o){o||(o={});var s=(e.marker||{}).color;if(s&&s._inputArray&&(s=s._inputArray),a("line.color",n),T$e(e,"line"))S$e(e,r,i,a,{prefix:"line.",cLetter:"c"});else{var l=(x$e(s)?!1:s)||n;a("line.color",l)}a("line.width"),o.noDash||a("line.dash"),o.backoff&&a("line.backoff")}});var Sve=J((X1t,Tve)=>{"use strict";Tve.exports=function(e,r,n){var i=n("line.shape");i==="spline"&&n("line.smoothing")}});var Cve=J((K1t,_ve)=>{"use strict";var _$e=Qe();_ve.exports=function(t,e,r,n,i){i=i||{},n("textposition"),_$e.coerceFont(n,"textfont",i.font||r.font,i),i.noSelect||(n("selected.textfont.color"),n("unselected.textfont.color"))}});var Dve=J((Q1t,Eve)=>{"use strict";var S5=gr(),kve=Qe().isArrayOrTypedArray;function C$e(t){for(var e=S5.interpolate(t[0][1],t[1][1],.5),r=2;r<t.length;r++){var n=S5.interpolate(t[r-1][1],t[r][1],.5);e=S5.interpolate(e,n,t[r-1][0]/t[r][0])}return e}Eve.exports=function(e,r,n,i,a){a||(a={});var o=!1;if(r.marker){var s=r.marker.color,l=(r.marker.line||{}).color;s&&!kve(s)?o=s:l&&!kve(l)&&(o=l)}var c;if(a.moduleHasFillgradient){var u=i("fillgradient.type");if(u!=="none"){i("fillgradient.start"),i("fillgradient.stop");var d=i("fillgradient.colorscale");d&&(c=C$e(d))}}i("fillcolor",S5.addOpacity((r.line||{}).color||o||c||n,.5))}});var Ive=J((J1t,Rve)=>{"use strict";var Ave=Qe(),k$e=Xt(),E$e=wp(),D$e=$3(),Lb=Zs(),A$e=iq(),M$e=T5(),R$e=pve(),I$e=bve(),N$e=xve(),Mve=Sve(),L$e=Cve(),O$e=Dve(),P$e=Qe().coercePattern;Rve.exports=function(e,r,n,i){function a(h,p){return Ave.coerce(e,r,E$e,h,p)}var o=A$e(e,r,i,a);if(o||(r.visible=!1),!!r.visible){M$e(e,r,i,a),a("xhoverformat"),a("yhoverformat"),a("zorder");var s=R$e(e,r,i,a);i.scattermode==="group"&&r.orientation===void 0&&a("orientation","v");var l=!s&&o<D$e.PTS_LINESONLY?"lines+markers":"lines";a("text"),a("hovertext"),a("mode",l),Lb.hasMarkers(r)&&I$e(e,r,n,i,a,{gradient:!0}),Lb.hasLines(r)&&(N$e(e,r,n,i,a,{backoff:!0}),Mve(e,r,a),a("connectgaps"),a("line.simplify")),Lb.hasText(r)&&(a("texttemplate"),L$e(e,r,i,a));var c=[];(Lb.hasMarkers(r)||Lb.hasText(r))&&(a("cliponaxis"),a("marker.maxdisplayed"),c.push("points")),a("fill",s?s.fillDflt:"none"),r.fill!=="none"&&(O$e(e,r,n,a,{moduleHasFillgradient:!0}),Lb.hasLines(r)||Mve(e,r,a),P$e(a,"fillpattern",r.fillcolor,!1));var u=(r.line||{}).color,d=(r.marker||{}).color;(r.fill==="tonext"||r.fill==="toself")&&c.push("fills"),a("hoveron",c.join("+")||"points"),r.hoveron!=="fills"&&a("hovertemplate");var f=k$e.getComponentMethod("errorbars","supplyDefaults");f(e,r,u||d||n,{axis:"y"}),f(e,r,u||d||n,{axis:"x",inherit:"y"}),Ave.coerceSelectionMarkerOpacity(r,a)}}});var aq=J((ewt,Nve)=>{"use strict";var z$e=KS().getAxisGroup;Nve.exports=function(e,r,n,i,a){var o=r.orientation,s=r[{v:"x",h:"y"}[o]+"axis"],l=z$e(n,s)+o,c=n._alignmentOpts||{},u=i("alignmentgroup"),d=c[l];d||(d=c[l]={});var f=d[u];f?f.traces.push(r):f=d[u]={traces:[r],alignmentIndex:Object.keys(d).length,offsetGroups:{}};var h=i("offsetgroup")||"",p=f.offsetGroups,m=p[h];r._offsetIndex=0,(a!=="group"||h)&&(m||(m=p[h]={offsetIndex:Object.keys(p).length}),r._offsetIndex=m.offsetIndex)}});var Ove=J((twt,Lve)=>{"use strict";var F$e=Qe(),H$e=aq(),q$e=wp();Lve.exports=function(e,r){var n,i,a,o=r.scattermode;function s(f){return F$e.coerce(i._input,i,q$e,f)}if(r.scattermode==="group")for(a=0;a<e.length;a++)i=e[a],i.type==="scatter"&&(n=i._input,H$e(n,i,r,s,o));for(a=0;a<e.length;a++){var l=e[a];if(l.type==="scatter"){var c=l.fill;if(!(c==="none"||c==="toself")&&(l.opacity=void 0,c==="tonexty"||c==="tonextx"))for(var u=a-1;u>=0;u--){var d=e[u];if(d.type==="scatter"&&d.xaxis===l.xaxis&&d.yaxis===l.yaxis){d.opacity=void 0;break}}}}}});var zve=J((rwt,Pve)=>{"use strict";var U$e=Qe(),B$e=pM();Pve.exports=function(t,e){function r(i,a){return U$e.coerce(t,e,B$e,i,a)}var n=e.barmode==="group";e.scattermode==="group"&&r("scattergap",n?e.bargap:.2)}});var k_=J((nwt,Hve)=>{"use strict";var j$e=_r(),Fve=Qe(),V$e=Fve.dateTime2ms,_5=Fve.incrementMonth,W$e=ei(),G$e=W$e.ONEAVGMONTH;Hve.exports=function(e,r,n,i){if(r.type!=="date")return{vals:i};var a=e[n+"periodalignment"];if(!a)return{vals:i};var o=e[n+"period"],s;if(j$e(o)){if(o=+o,o<=0)return{vals:i}}else if(typeof o=="string"&&o.charAt(0)==="M"){var l=+o.substring(1);if(l>0&&Math.round(l)===l)s=l;else return{vals:i}}for(var c=r.calendar,u=a==="start",d=a==="end",f=e[n+"period0"],h=V$e(f,c)||0,p=[],m=[],v=[],y=i.length,b=0;b<y;b++){var x=i[b],w,S,_;if(s){for(w=Math.round((x-h)/(s*G$e)),_=_5(h,s*w,c);_>x;)_=_5(_,-s,c);for(;_<=x;)_=_5(_,s,c);S=_5(_,-s,c)}else{for(w=Math.round((x-h)/o),_=h+w*o;_>x;)_-=o;for(;_<=x;)_+=o;S=_-o}p[b]=u?S:d?_:(S+_)/2,m[b]=S,v[b]=_}return{vals:p,starts:m,ends:v}}});var Bve=J((iwt,Uve)=>{"use strict";var oq=Vl().hasColorscale,sq=RS(),qve=Zs();Uve.exports=function(e,r){qve.hasLines(r)&&oq(r,"line")&&sq(e,r,{vals:r.line.color,containerStr:"line",cLetter:"c"}),qve.hasMarkers(r)&&(oq(r,"marker")&&sq(e,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),oq(r,"marker.line")&&sq(e,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}});var lq=J((awt,jve)=>{"use strict";var di=Qe();jve.exports=function(e,r){for(var n=0;n<e.length;n++)e[n].i=n;di.mergeArray(r.text,e,"tx"),di.mergeArray(r.texttemplate,e,"txt"),di.mergeArray(r.hovertext,e,"htx"),di.mergeArray(r.customdata,e,"data"),di.mergeArray(r.textposition,e,"tp"),r.textfont&&(di.mergeArrayCastPositive(r.textfont.size,e,"ts"),di.mergeArray(r.textfont.color,e,"tc"),di.mergeArray(r.textfont.family,e,"tf"),di.mergeArray(r.textfont.weight,e,"tw"),di.mergeArray(r.textfont.style,e,"ty"),di.mergeArray(r.textfont.variant,e,"tv"),di.mergeArray(r.textfont.textcase,e,"tC"),di.mergeArray(r.textfont.lineposition,e,"tE"),di.mergeArray(r.textfont.shadow,e,"tS"));var i=r.marker;if(i){di.mergeArrayCastPositive(i.size,e,"ms"),di.mergeArrayCastPositive(i.opacity,e,"mo"),di.mergeArray(i.symbol,e,"mx"),di.mergeArray(i.angle,e,"ma"),di.mergeArray(i.standoff,e,"mf"),di.mergeArray(i.color,e,"mc");var a=i.line;i.line&&(di.mergeArray(a.color,e,"mlc"),di.mergeArrayCastPositive(a.width,e,"mlw"));var o=i.gradient;o&&o.type!=="none"&&(di.mergeArray(o.type,e,"mgt"),di.mergeArray(o.color,e,"mgc"))}}});var cq=J((owt,Wve)=>{"use strict";var Vve=Qe();Wve.exports=function(e,r){Vve.isArrayOrTypedArray(r.selectedpoints)&&Vve.tagSelected(e,r)}});var pq=J((swt,Qve)=>{"use strict";var Gve=_r(),dq=Qe(),E_=gn(),Yve=k_(),uq=ei().BADNUM,fq=Zs(),Y$e=Bve(),Z$e=lq(),$$e=cq();function X$e(t,e){var r=t._fullLayout,n=e._xA=E_.getFromId(t,e.xaxis||"x","x"),i=e._yA=E_.getFromId(t,e.yaxis||"y","y"),a=n.makeCalcdata(e,"x"),o=i.makeCalcdata(e,"y"),s=Yve(e,n,"x",a),l=Yve(e,i,"y",o),c=s.vals,u=l.vals,d=e._length,f=new Array(d),h=e.ids,p=hq(e,r,n,i),m=!1,v,y,b,x,w,S;Xve(r,e);var _="x",C="y",E;if(p)dq.pushUnique(p.traceIndices,e.index),v=p.orientation==="v",v?(C="s",E="x"):(_="s",E="y"),w=p.stackgaps==="interpolate";else{var M=$ve(e,d);Zve(t,e,n,i,c,u,M)}var I=!!e.xperiodalignment,L=!!e.yperiodalignment;for(y=0;y<d;y++){var O=f[y]={},H=Gve(c[y]),Y=Gve(u[y]);H&&Y?(O[_]=c[y],O[C]=u[y],I&&(O.orig_x=a[y],O.xEnd=s.ends[y],O.xStart=s.starts[y]),L&&(O.orig_y=o[y],O.yEnd=l.ends[y],O.yStart=l.starts[y])):p&&(v?H:Y)?(O[E]=v?c[y]:u[y],O.gap=!0,w?(O.s=uq,m=!0):O.s=0):O[_]=O[C]=uq,h&&(O.id=String(h[y]))}if(Z$e(f,e),Y$e(t,e),$$e(f,e),p){for(y=0;y<f.length;)f[y][E]===uq?f.splice(y,1):y++;if(dq.sort(f,function(B,$){return B[E]-$[E]||B.i-$.i}),m){for(y=0;y<f.length-1&&f[y].gap;)y++;for(S=f[y].s,S||(S=f[y].s=0),b=0;b<y;b++)f[b].s=S;for(x=f.length-1;x>y&&f[x].gap;)x--;for(S=f[x].s,b=f.length-1;b>x;b--)f[b].s=S;for(;y<x;)if(y++,f[y].gap){for(b=y+1;f[b].gap;)b++;for(var K=f[y-1][E],N=f[y-1].s,U=(f[b].s-N)/(f[b][E]-K);y<b;)f[y].s=N+(f[y][E]-K)*U,y++}}}return f}function Zve(t,e,r,n,i,a,o){var s=e._length,l=t._fullLayout,c=r._id,u=n._id,d=l._firstScatter[Kve(e)]===e.uid,f=(hq(e,l,r,n)||{}).orientation,h=e.fill;r._minDtick=0,n._minDtick=0;var p={padded:!0},m={padded:!0};o&&(p.ppad=m.ppad=o);var v=s<2||i[0]!==i[s-1]||a[0]!==a[s-1];v&&(h==="tozerox"||h==="tonextx"&&(d||f==="h"))?p.tozero=!0:!(e.error_y||{}).visible&&(h==="tonexty"||h==="tozeroy"||!fq.hasMarkers(e)&&!fq.hasText(e))&&(p.padded=!1,p.ppad=0),v&&(h==="tozeroy"||h==="tonexty"&&(d||f==="v"))?m.tozero=!0:(h==="tonextx"||h==="tozerox")&&(m.padded=!1),c&&(e._extremes[c]=E_.findExtremes(r,i,p)),u&&(e._extremes[u]=E_.findExtremes(n,a,m))}function $ve(t,e){if(fq.hasMarkers(t)){var r=t.marker,n=1.6*(t.marker.sizeref||1),i;if(t.marker.sizemode==="area"?i=function(c){return Math.max(Math.sqrt((c||0)/n),3)}:i=function(c){return Math.max((c||0)/n,3)},dq.isArrayOrTypedArray(r.size)){var a={type:"linear"};E_.setConvert(a);for(var o=a.makeCalcdata(t.marker,"size"),s=new Array(e),l=0;l<e;l++)s[l]=i(o[l]);return s}else return i(r.size)}}function Xve(t,e){var r=Kve(e),n=t._firstScatter;n[r]||(n[r]=e.uid)}function Kve(t){var e=t.stackgroup;return t.xaxis+t.yaxis+t.type+(e?"-"+e:"")}function hq(t,e,r,n){var i=t.stackgroup;if(i){var a=e._scatterStackOpts[r._id+n._id][i],o=a.orientation==="v"?n:r;if(o.type==="linear"||o.type==="log")return a}}Qve.exports={calc:X$e,calcMarkerSize:$ve,calcAxisExpansion:Zve,setFirstScatter:Xve,getStackOpts:hq}});var ege=J((lwt,Jve)=>{"use strict";Jve.exports=C5;var K$e=Qe().distinctVals;function C5(t,e){this.traces=t,this.sepNegVal=e.sepNegVal,this.overlapNoMerge=e.overlapNoMerge;for(var r=1/0,n=e.posAxis._id.charAt(0),i=[],a=0;a<t.length;a++){for(var o=t[a],s=0;s<o.length;s++){var l=o[s],c=l.p;c===void 0&&(c=l[n]),c!==void 0&&i.push(c)}o[0]&&o[0].width1&&(r=Math.min(o[0].width1,r))}this.positions=i;var u=K$e(i);this.distinctPositions=u.vals,u.vals.length===1&&r!==1/0?this.minDiff=r:this.minDiff=Math.min(u.minDiff,r);var d=(e.posAxis||{}).type;(d==="category"||d==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}C5.prototype.put=function(e,r,n){var i=this.getLabel(e,r,n),a=this.bins[i]||0;return this.bins[i]=a+n,a};C5.prototype.get=function(e,r,n){var i=this.getLabel(e,r,n);return this.bins[i]||0};C5.prototype.getLabel=function(e,r,n){var i=n<0&&this.sepNegVal?"v":"^",a=this.overlapNoMerge?e:Math.round(e/this.binWidth);return i+a+"g"+r}});var bq=J((cwt,ige)=>{"use strict";var nc=_r(),Sp=Qe().isArrayOrTypedArray,Ob=ei().BADNUM,Q$e=Xt(),D_=gn(),J$e=KS().getAxisGroup,k5=ege();function eXe(t,e){for(var r=e.xaxis,n=e.yaxis,i=t._fullLayout,a=t._fullData,o=t.calcdata,s=[],l=[],c=0;c<a.length;c++){var u=a[c];if(u.visible===!0&&Q$e.traceIs(u,"bar")&&u.xaxis===r._id&&u.yaxis===n._id&&(u.orientation==="h"?s.push(o[c]):l.push(o[c]),u._computePh))for(var d=t.calcdata[c],f=0;f<d.length;f++)typeof d[f].ph0=="function"&&(d[f].ph0=d[f].ph0()),typeof d[f].ph1=="function"&&(d[f].ph1=d[f].ph1())}var h={xCat:r.type==="category"||r.type==="multicategory",yCat:n.type==="category"||n.type==="multicategory",mode:i.barmode,norm:i.barnorm,gap:i.bargap,groupgap:i.bargroupgap};vq(t,r,n,l,h),vq(t,n,r,s,h)}function vq(t,e,r,n,i){if(n.length){var a,o,s,l,c;switch(nXe(r,n),i.mode){case"overlay":mq(t,e,r,n,i);break;case"group":for(a=[],o=[],s=0;s<n.length;s++)l=n[s],c=l[0].trace,c.offset===void 0?o.push(l):a.push(l);o.length&&iXe(t,e,r,o,i),a.length&&mq(t,e,r,a,i);break;case"stack":case"relative":for(a=[],o=[],s=0;s<n.length;s++)l=n[s],c=l[0].trace,c.base===void 0?o.push(l):a.push(l);rXe(o),o.length&&aXe(t,e,r,o,i),a.length&&mq(t,e,r,a,i);break}tXe(n),dXe(n,e)}}function tXe(t){var e,r,n,i,a,o,s;for(e=0;e<t.length;e++)r=t[e],n=r[0].trace,i=r[0].t,i.cornerradiusvalue===void 0&&(a=n.marker?n.marker.cornerradius:void 0,a!==void 0&&(o=nc(a)?+a:+a.slice(0,-1),s=nc(a)?"px":"%",i.cornerradiusvalue=o,i.cornerradiusform=s))}function rXe(t){if(!(t.length<2)){var e,r,n,i,a,o,s;for(e=0;e<t.length&&(r=t[e],n=r[0].trace,a=n.marker?n.marker.cornerradius:void 0,a===void 0);e++);if(a!==void 0)for(o=nc(a)?+a:+a.slice(0,-1),s=nc(a)?"px":"%",e=0;e<t.length;e++)r=t[e],i=r[0].t,i.cornerradiusvalue=o,i.cornerradiusform=s}}function nXe(t,e){var r,n;for(r=0;r<e.length;r++){var i=e[r],a=i[0].trace,o=a.type==="funnel"?a._base:a.base,s,l=a.orientation==="h"?a.xcalendar:a.ycalendar,c=t.type==="category"||t.type==="multicategory"?function(){return null}:t.d2c;if(Sp(o)){for(n=0;n<Math.min(o.length,i.length);n++)s=c(o[n],0,l),nc(s)?(i[n].b=+s,i[n].hasB=1):i[n].b=0;for(;n<i.length;n++)i[n].b=0}else{s=c(o,0,l);var u=nc(s);for(s=u?s:0,n=0;n<i.length;n++)i[n].b=s,u&&(i[n].hasB=1)}}}function mq(t,e,r,n,i){for(var a=0;a<n.length;a++){var o=n[a],s=new k5([o],{posAxis:e,sepNegVal:!1,overlapNoMerge:!i.norm});gq(t,e,s,i),i.norm?(nge(s),yq(r,s,i)):rge(r,s)}}function iXe(t,e,r,n,i){var a=new k5(n,{posAxis:e,sepNegVal:!1,overlapNoMerge:!i.norm});gq(t,e,a,i),cXe(a,e),i.norm?(nge(a),yq(r,a,i)):rge(r,a)}function aXe(t,e,r,n,i){var a=new k5(n,{posAxis:e,sepNegVal:i.mode==="relative",overlapNoMerge:!(i.norm||i.mode==="stack"||i.mode==="relative")});gq(t,e,a,i),lXe(r,a,i);for(var o=0;o<n.length;o++)for(var s=n[o],l=s[0].t.offsetindex,c=0;c<s.length;c++){var u=s[c];if(u.s!==Ob){var d=u.b+u.s===a.get(u.p,l,u.s);d&&(u._outmost=!0)}}i.norm&&yq(r,a,i)}function gq(t,e,r,n){var i=t._fullLayout,a=r.positions,o=r.distinctPositions,s=r.minDiff,l=r.traces,c=l.length,u=a.length!==o.length,d=s*(1-n.gap),f,h,p,m;if(e._id==="angularaxis")f=d,h=f*(1-(n.groupgap||0)),p=-h/2;else{var v=J$e(i,e._id)+l[0][0].trace.orientation;m=i._alignmentOpts[v]||{}}for(var y=0;y<c;y++){var b=l[y],x=b[0].trace;if(e._id!=="angularaxis"){var w=m[x.alignmentgroup]||{},S=Object.keys(w.offsetGroups||{}).length;S?f=d/S:f=u?d/c:d,h=f*(1-(n.groupgap||0)),S?p=((2*x._offsetIndex+1-S)*f-h)/2:p=u?((2*y+1-c)*f-h)/2:-h/2}var _=b[0].t;_.barwidth=h,_.offsetindex=x._offsetIndex||0,_.poffset=p,_.bargroupwidth=d,_.bardelta=s}r.binWidth=l[0][0].t.barwidth/100,oXe(r),sXe(e,r),e._id==="angularaxis"?tge(e,r):tge(e,r,u)}function oXe(t){var e=t.traces,r,n;for(r=0;r<e.length;r++){var i=e[r],a=i[0],o=a.trace,s=a.t,l=o._offset||o.offset,c=s.poffset,u;if(Sp(l)){for(u=Array.prototype.slice.call(l,0,i.length),n=0;n<u.length;n++)nc(u[n])||(u[n]=c);for(n=u.length;n<i.length;n++)u.push(c);s.poffset=u}else l!==void 0&&(s.poffset=l);var d=o._width||o.width,f=s.barwidth;if(Sp(d)){var h=Array.prototype.slice.call(d,0,i.length);for(n=0;n<h.length;n++)nc(h[n])||(h[n]=f);for(n=h.length;n<i.length;n++)h.push(f);if(s.barwidth=h,l===void 0){for(u=[],n=0;n<i.length;n++)u.push(c+(f-h[n])/2);s.poffset=u}}else d!==void 0&&(s.barwidth=d,l===void 0&&(s.poffset=c+(f-d)/2))}}function sXe(t,e){for(var r=e.traces,n=Pb(t),i=0;i<r.length;i++)for(var a=r[i],o=a[0].t,s=o.poffset,l=Sp(s),c=o.barwidth,u=Sp(c),d=0;d<a.length;d++){var f=a[d],h=f.w=u?c[d]:c;f.p===void 0&&(f.p=f[n],f["orig_"+n]=f[n]);var p=(l?s[d]:s)+h/2;f[n]=f.p+p}}function tge(t,e,r){var n=e.traces,i=e.minDiff,a=i/2;D_.minDtick(t,e.minDiff,e.distinctPositions[0],r);for(var o=0;o<n.length;o++){var s=n[o],l=s[0],c=l.trace,u=[],d,f,h,p;for(p=0;p<s.length;p++)d=s[p],f=d.p-a,h=d.p+a,u.push(f,h);if(c.width||c.offset){var m=l.t,v=m.poffset,y=m.barwidth,b=Sp(v),x=Sp(y);for(p=0;p<s.length;p++){d=s[p];var w=b?v[p]:v,S=x?y[p]:y;f=d.p+w,h=f+S,u.push(f,h)}}c._extremes[t._id]=D_.findExtremes(t,u,{padded:!1})}}function rge(t,e){for(var r=e.traces,n=Pb(t),i=0;i<r.length;i++){for(var a=r[i],o=a[0].trace,s=o.type==="scatter",l=o.orientation==="v",c=[],u=!1,d=0;d<a.length;d++){var f=a[d],h=s?0:f.b,p=s?l?f.y:f.x:h+f.s;f[n]=p,c.push(p),f.hasB&&c.push(h),(!f.hasB||!f.b)&&(u=!0)}o._extremes[t._id]=D_.findExtremes(t,c,{tozero:u,padded:!0})}}function lXe(t,e,r){var n=Pb(t),i=e.traces,a,o,s,l,c,u,d;for(l=0;l<i.length;l++)if(a=i[l],o=a[0].trace,o.type==="funnel")for(d=a[0].t.offsetindex,c=0;c<a.length;c++)u=a[c],u.s!==Ob&&e.put(u.p,d,-.5*u.s);for(l=0;l<i.length;l++){a=i[l],o=a[0].trace,s=o.type==="funnel",d=o.type==="barpolar"?0:a[0].t.offsetindex;var f=[];for(c=0;c<a.length;c++)if(u=a[c],u.s!==Ob){var h;s?h=u.s:h=u.s+u.b;var p=e.put(u.p,d,h),m=p+h;u.b=p,u[n]=m,r.norm||(f.push(m),u.hasB&&f.push(p))}r.norm||(o._extremes[t._id]=D_.findExtremes(t,f,{tozero:!0,padded:!0}))}}function nge(t){for(var e=t.traces,r=0;r<e.length;r++)for(var n=e[r],i=n[0].t.offsetindex,a=0;a<n.length;a++){var o=n[a];o.s!==Ob&&t.put(o.p,i,o.b+o.s)}}function cXe(t,e){for(var r=t.traces,n=0;n<r.length;n++){var i=r[n],a=i[0].trace,o=i[0].t.offsetindex;if(a.base===void 0)for(var s=new k5([i],{posAxis:e,sepNegVal:!0,overlapNoMerge:!0}),l=0;l<i.length;l++){var c=i[l];if(c.p!==Ob){var u=s.put(c.p,o,c.b+c.s);u&&(c.b=u)}}}}function yq(t,e,r){var n=e.traces,i=Pb(t),a=r.norm==="fraction"?1:100,o=a/1e9,s=t.l2c(t.c2l(0)),l=r.mode==="stack"?a:s;function c(_){return nc(t.c2l(_))&&(_<s-o||_>l+o||!nc(s))}for(var u=0;u<n.length;u++){for(var d=n[u],f=d[0].t.offsetindex,h=d[0].trace,p=[],m=!1,v=!1,y=0;y<d.length;y++){var b=d[y];if(b.s!==Ob){var x=Math.abs(a/e.get(b.p,f,b.s));b.b*=x,b.s*=x;var w=b.b,S=w+b.s;b[i]=S,p.push(S),v=v||c(S),b.hasB&&(p.push(w),v=v||c(w)),(!b.hasB||!b.b)&&(m=!0)}}h._extremes[t._id]=D_.findExtremes(t,p,{tozero:m,padded:v})}}function uXe(t,e,r,n){for(var i=Pb(n),a=0;a<t.length;a++)for(var o=t[a],s=0;s<o.length;s++){var l=o[s],c=l[i];l._sMin=e[c],l._sMax=r[c]}}function dXe(t,e){var r=Pb(e),n={},i,a,o,s=1/0,l=-1/0;for(i=0;i<t.length;i++)for(o=t[i],a=0;a<o.length;a++){var c=o[a].p;nc(c)&&(s=Math.min(s,c),l=Math.max(l,c))}var u=1e4/(l-s),d=n.round=function(E){return String(Math.round(u*(E-s)))},f={},h={},p=t.some(function(E){var M=E[0].trace;return"marker"in M&&M.marker.cornerradius});for(i=0;i<t.length;i++){o=t[i],o[0].t.extents=n;var m=o[0].t.poffset,v=Sp(m);for(a=0;a<o.length;a++){var y=o[a],b=y[r]-y.w/2;if(nc(b)){var x=y[r]+y.w/2,w=d(y.p);n[w]?n[w]=[Math.min(b,n[w][0]),Math.max(x,n[w][1])]:n[w]=[b,x]}if(y.p0=y.p+(v?m[a]:m),y.p1=y.p0+y.w,y.s0=y.b,y.s1=y.s0+y.s,p){var S=Math.min(y.s0,y.s1)||0,_=Math.max(y.s0,y.s1)||0,C=y[r];f[C]=C in f?Math.min(f[C],S):S,h[C]=C in h?Math.max(h[C],_):_}}}p&&uXe(t,f,h,e)}function Pb(t){return t._id.charAt(0)}ige.exports={crossTraceCalc:eXe,setGroupPositions:vq}});var lge=J((uwt,sge)=>{"use strict";var age=pq(),oge=bq().setGroupPositions;function fXe(t,e){for(var r=e.xaxis,n=e.yaxis,i=t._fullLayout,a=t._fullData,o=t.calcdata,s=[],l=[],c=0;c<a.length;c++){var u=a[c];u.visible===!0&&u.type==="scatter"&&u.xaxis===r._id&&u.yaxis===n._id&&(u.orientation==="h"?s.push(o[c]):u.orientation==="v"&&l.push(o[c]))}var d={mode:i.scattermode,gap:i.scattergap};oge(t,r,n,l,d),oge(t,n,r,s,d)}sge.exports=function(e,r){e._fullLayout.scattermode==="group"&&fXe(e,r);var n=r.xaxis,i=r.yaxis,a=n._id+i._id,o=e._fullLayout._scatterStackOpts[a];if(o){var s=e.calcdata,l,c,u,d,f,h,p,m,v,y,b,x,w,S,_;for(var C in o){y=o[C];var E=y.traceIndices;if(E.length){for(b=y.stackgaps==="interpolate",x=y.groupnorm,y.orientation==="v"?(w="x",S="y"):(w="y",S="x"),_=new Array(E.length),l=0;l<_.length;l++)_[l]=!1;h=s[E[0]];var M=new Array(h.length);for(l=0;l<h.length;l++)M[l]=h[l][w];for(l=1;l<E.length;l++){for(f=s[E[l]],c=u=0;c<f.length;c++){for(p=f[c][w];p>M[u]&&u<M.length;u++)wq(f,c,M[u],l,_,b,w),c++;if(p!==M[u]){for(d=0;d<l;d++)wq(s[E[d]],u,p,d,_,b,w);M.splice(u,0,p)}u++}for(;u<M.length;u++)wq(f,c,M[u],l,_,b,w),c++}var I=M.length;for(c=0;c<h.length;c++){for(m=h[c][S]=h[c].s,l=1;l<E.length;l++)f=s[E[l]],f[0].trace._rawLength=f[0].trace._length,f[0].trace._length=I,m+=f[c].s,f[c][S]=m;if(x)for(v=(x==="fraction"?m:m/100)||1,l=0;l<E.length;l++){var L=s[E[l]][c];L[S]/=v,L.sNorm=L.s/v}}for(l=0;l<E.length;l++){f=s[E[l]];var O=f[0].trace,H=age.calcMarkerSize(O,O._rawLength),Y=Array.isArray(H);if(H&&_[l]||Y){var K=H;for(H=new Array(I),c=0;c<I;c++)H[c]=f[c].gap?0:Y?K[f[c].i]:K}var N=new Array(I),U=new Array(I);for(c=0;c<I;c++)N[c]=f[c].x,U[c]=f[c].y;age.calcAxisExpansion(e,O,n,i,N,U,H),f[0].t.orientation=y.orientation}}}}};function wq(t,e,r,n,i,a,o){i[n]=!0;var s={i:null,gap:!0,s:0};if(s[o]=r,t.splice(e,0,s),e&&r===t[e-1][o]){var l=t[e-1];s.s=l.s,s.i=l.i,s.gap=l.gap}else a&&(s.s=hXe(t,e,r,o));e||(t[0].t=t[1].t,t[0].trace=t[1].trace,delete t[1].t,delete t[1].trace)}function hXe(t,e,r,n){var i=t[e-1],a=t[e+1];return a?i?i.s+(a.s-i.s)*(r-i[n])/(a[n]-i[n]):a.s:i.s}});var mge=J((dwt,pge)=>{"use strict";var pXe=Kr(),fge=ei(),A_=fge.BADNUM,hge=fge.LOG_CLIP,cge=hge+.5,uge=hge-.5,E5=Qe(),mXe=E5.segmentsIntersect,dge=E5.constrain,xq=$3();pge.exports=function(e,r){var n=r.trace||{},i=r.xaxis,a=r.yaxis,o=i.type==="log",s=a.type==="log",l=i._length,c=a._length,u=r.backoff,d=n.marker,f=r.connectGaps,h=r.baseTolerance,p=r.shape,m=p==="linear",v=n.fill&&n.fill!=="none",y=[],b=xq.minTolerance,x=e.length,w=new Array(x),S=0,_,C,E,M,I,L,O,H,Y,K,N,U,B,$,ee,te;function he(Ye){var bt=e[Ye];if(!bt)return!1;var ut=r.linearized?i.l2p(bt.x):i.c2p(bt.x),P=r.linearized?a.l2p(bt.y):a.c2p(bt.y);if(ut===A_){if(o&&(ut=i.c2p(bt.x,!0)),ut===A_)return!1;s&&P===A_&&(ut*=Math.abs(i._m*c*(i._m>0?cge:uge)/(a._m*l*(a._m>0?cge:uge)))),ut*=1e3}if(P===A_){if(s&&(P=a.c2p(bt.y,!0)),P===A_)return!1;P*=1e3}return[ut,P]}function we(Ye,bt,ut,P){var z=ut-Ye,Q=P-bt,le=.5-Ye,V=.5-bt,oe=z*z+Q*Q,be=z*le+Q*V;if(be>0&&be<oe){var xe=le*Q-V*z;if(xe*xe<oe)return!0}}var Te,ce;function q(Ye,bt){var ut=Ye[0]/l,P=Ye[1]/c,z=Math.max(0,-ut,ut-1,-P,P-1);return z&&Te!==void 0&&we(ut,P,Te,ce)&&(z=0),z&&bt&&we(ut,P,bt[0]/l,bt[1]/c)&&(z=0),(1+xq.toleranceGrowth*z)*h}function X(Ye,bt){var ut=Ye[0]-bt[0],P=Ye[1]-bt[1];return Math.sqrt(ut*ut+P*P)}var G=xq.maxScreensAway,de=-l*G,ue=l*(1+G),fe=-c*G,_e=c*(1+G),Oe=[[de,fe,ue,fe],[ue,fe,ue,_e],[ue,_e,de,_e],[de,_e,de,fe]],Ce,je,qe,Ve,ot,$e;function Xe(Ye,bt){for(var ut=[],P=0,z=0;z<4;z++){var Q=Oe[z],le=mXe(Ye[0],Ye[1],bt[0],bt[1],Q[0],Q[1],Q[2],Q[3]);le&&(!P||Math.abs(le.x-ut[0][0])>1||Math.abs(le.y-ut[0][1])>1)&&(le=[le.x,le.y],P&&X(le,Ye)<X(ut[0],Ye)?ut.unshift(le):ut.push(le),P++)}return ut}function Je(Ye){if(Ye[0]<de||Ye[0]>ue||Ye[1]<fe||Ye[1]>_e)return[dge(Ye[0],de,ue),dge(Ye[1],fe,_e)]}function nt(Ye,bt){if(Ye[0]===bt[0]&&(Ye[0]===de||Ye[0]===ue)||Ye[1]===bt[1]&&(Ye[1]===fe||Ye[1]===_e))return!0}function Ke(Ye,bt){var ut=[],P=Je(Ye),z=Je(bt);return P&&z&&nt(P,z)||(P&&ut.push(P),z&&ut.push(z)),ut}function Ae(Ye,bt,ut){return function(P,z){var Q=Je(P),le=Je(z),V=[];if(Q&&le&&nt(Q,le))return V;Q&&V.push(Q),le&&V.push(le);var oe=2*E5.constrain((P[Ye]+z[Ye])/2,bt,ut)-((Q||P)[Ye]+(le||z)[Ye]);if(oe){var be;Q&&le?be=oe>0==Q[Ye]>le[Ye]?Q:le:be=Q||le,be[Ye]+=oe}return V}}var it;p==="linear"||p==="spline"?it=Xe:p==="hv"||p==="vh"?it=Ke:p==="hvh"?it=Ae(0,de,ue):p==="vhv"&&(it=Ae(1,fe,_e));function at(Ye,bt){var ut=bt[0]-Ye[0],P=(bt[1]-Ye[1])/ut,z=(Ye[1]*bt[0]-bt[1]*Ye[0])/ut;return z>0?[P>0?de:ue,_e]:[P>0?ue:de,fe]}function ge(Ye){var bt=Ye[0],ut=Ye[1],P=bt===w[S-1][0],z=ut===w[S-1][1];if(!(P&&z))if(S>1){var Q=bt===w[S-2][0],le=ut===w[S-2][1];P&&(bt===de||bt===ue)&&Q?le?S--:w[S-1]=Ye:z&&(ut===fe||ut===_e)&&le?Q?S--:w[S-1]=Ye:w[S++]=Ye}else w[S++]=Ye}function Ne(Ye){w[S-1][0]!==Ye[0]&&w[S-1][1]!==Ye[1]&&ge([qe,Ve]),ge(Ye),ot=null,qe=Ve=0}var Le=E5.isArrayOrTypedArray(d);function St(Ye){if(Ye&&u&&(Ye.i=_,Ye.d=e,Ye.trace=n,Ye.marker=Le?d[Ye.i]:d,Ye.backoff=u),Te=Ye[0]/l,ce=Ye[1]/c,Ce=Ye[0]<de?de:Ye[0]>ue?ue:0,je=Ye[1]<fe?fe:Ye[1]>_e?_e:0,Ce||je){if(!S)w[S++]=[Ce||Ye[0],je||Ye[1]];else if(ot){var bt=it(ot,Ye);bt.length>1&&(Ne(bt[0]),w[S++]=bt[1])}else $e=it(w[S-1],Ye)[0],w[S++]=$e;var ut=w[S-1];Ce&&je&&(ut[0]!==Ce||ut[1]!==je)?(ot&&(qe!==Ce&&Ve!==je?ge(qe&&Ve?at(ot,Ye):[qe||Ce,Ve||je]):qe&&Ve&&ge([qe,Ve])),ge([Ce,je])):qe-Ce&&Ve-je&&ge([Ce||qe,je||Ve]),ot=Ye,qe=Ce,Ve=je}else ot&&Ne(it(ot,Ye)[0]),w[S++]=Ye}for(_=0;_<x;_++)if(C=he(_),!!C){for(S=0,ot=null,St(C),_++;_<x;_++){if(M=he(_),!M){if(f)continue;break}if(!m||!r.simplify){St(M);continue}var ht=he(_+1);if(K=X(M,C),!(!(v&&(S===0||S===x-1))&&K<q(M,ht)*b)){for(H=[(M[0]-C[0])/K,(M[1]-C[1])/K],I=C,N=K,U=$=ee=0,O=!1,E=M,_++;_<e.length;_++){if(L=ht,ht=he(_+1),!L){if(f)continue;break}if(Y=[L[0]-C[0],L[1]-C[1]],te=Y[0]*H[1]-Y[1]*H[0],$=Math.min($,te),ee=Math.max(ee,te),ee-$>q(L,ht))break;E=L,B=Y[0]*H[0]+Y[1]*H[1],B>N?(N=B,M=L,O=!1):B<U&&(U=B,I=L,O=!0)}if(O?(St(M),E!==I&&St(I)):(I!==C&&St(I),E!==M&&St(M)),St(E),_>=e.length||!L)break;St(L),C=L}}ot&&ge([qe||ot[0],Ve||ot[1]]),y.push(w.slice(0,S))}var He=p.slice(p.length-1);if(u&&He!=="h"&&He!=="v"){for(var Ue=!1,ct=-1,rt=[],lt=0;lt<y.length;lt++)for(var st=0;st<y[lt].length-1;st++){var mt=y[lt][st],kt=y[lt][st+1],_t=pXe.applyBackoff(kt,mt);(_t[0]!==kt[0]||_t[1]!==kt[1])&&(Ue=!0),rt[ct+1]||(ct++,rt[ct]=[mt,[_t[0],_t[1]]])}return Ue?rt:y}return y}});var yge=J((fwt,gge)=>{"use strict";var vge={tonextx:1,tonexty:1,tonext:1};gge.exports=function(e,r,n){var i,a,o,s,l,c={},u=!1,d=-1,f=0,h=-1;for(a=0;a<n.length;a++)i=n[a][0].trace,o=i.stackgroup||"",o?o in c?l=c[o]:(l=c[o]=f,f++):i.fill in vge&&h>=0?l=h:(l=h=f,f++),l<d&&(u=!0),i._groupIndex=d=l;var p=n.slice();u&&p.sort(function(v,y){var b=v[0].trace,x=y[0].trace;return b._groupIndex-x._groupIndex||b.index-x.index});var m={};for(a=0;a<p.length;a++)i=p[a][0].trace,o=i.stackgroup||"",i.visible===!0?(i._nexttrace=null,i.fill in vge&&(s=m[o],i._prevtrace=s||null,s&&(s._nexttrace=i)),i._ownfill=i.fill&&(i.fill.substr(0,6)==="tozero"||i.fill==="toself"||i.fill.substr(0,2)==="to"&&!i._prevtrace),m[o]=i):i._prevtrace=i._nexttrace=i._ownfill=null;return p}});var Tge=J((hwt,xge)=>{"use strict";var Zc=Sr(),vXe=Xt(),M_=Qe(),zb=M_.ensureSingle,wge=M_.identity,fi=Kr(),Fb=Zs(),gXe=mge(),yXe=yge(),D5=w9().tester;xge.exports=function(e,r,n,i,a,o){var s,l,c=!a,u=!!a&&a.duration>0,d=yXe(e,r,n);if(s=i.selectAll("g.trace").data(d,function(h){return h[0].trace.uid}),s.enter().append("g").attr("class",function(h){return"trace scatter trace"+h[0].trace.uid}).style("stroke-miterlimit",2),s.order(),bXe(e,s,r),u){o&&(l=o());var f=Zc.transition().duration(a.duration).ease(a.easing).each("end",function(){l&&l()}).each("interrupt",function(){l&&l()});f.each(function(){i.selectAll("g.trace").each(function(h,p){bge(e,p,r,h,d,this,a)})})}else s.each(function(h,p){bge(e,p,r,h,d,this,a)});c&&s.exit().remove(),i.selectAll("path:not([d])").remove()};function bXe(t,e,r){e.each(function(n){var i=zb(Zc.select(this),"g","fills");fi.setClipUrl(i,r.layerClipId,t);var a=n[0].trace,o=[];a._ownfill&&o.push("_ownFill"),a._nexttrace&&o.push("_nextFill");var s=i.selectAll("g").data(o,wge);s.enter().append("g"),s.exit().each(function(l){a[l]=null}).remove(),s.order().each(function(l){a[l]=zb(Zc.select(this),"path","js-fill")})})}function bge(t,e,r,n,i,a,o){var s=t._context.staticPlot,l;wXe(t,e,r,n,i);var c=!!o&&o.duration>0;function u(Ae){return c?Ae.transition():Ae}var d=r.xaxis,f=r.yaxis,h=n[0].trace,p=h.line,m=Zc.select(a),v=zb(m,"g","errorbars"),y=zb(m,"g","lines"),b=zb(m,"g","points"),x=zb(m,"g","text");if(vXe.getComponentMethod("errorbars","plot")(t,v,r,o),h.visible!==!0)return;u(m).style("opacity",h.opacity);var w,S,_=h.fill.charAt(h.fill.length-1);_!=="x"&&_!=="y"&&(_="");var C,E;_==="y"?(C=1,E=f.c2p(0,!0)):_==="x"&&(C=0,E=d.c2p(0,!0)),n[0][r.isRangePlot?"nodeRangePlot3":"node3"]=m;var M="",I=[],L=h._prevtrace,O=null,H=null;L&&(M=L._prevRevpath||"",S=L._nextFill,I=L._ownPolygons,O=L._fillsegments,H=L._fillElement);var Y,K,N="",U="",B,$,ee,te,he,we,Te=[];h._polygons=[];var ce=[],q=[],X=M_.noop;if(w=h._ownFill,Fb.hasLines(h)||h.fill!=="none"){S&&S.datum(n),["hv","vh","hvh","vhv"].indexOf(p.shape)!==-1?(B=fi.steps(p.shape),$=fi.steps(p.shape.split("").reverse().join(""))):p.shape==="spline"?B=$=function(Ae){var it=Ae[Ae.length-1];return Ae.length>1&&Ae[0][0]===it[0]&&Ae[0][1]===it[1]?fi.smoothclosed(Ae.slice(1),p.smoothing):fi.smoothopen(Ae,p.smoothing)}:B=$=function(Ae){return"M"+Ae.join("L")},ee=function(Ae){return $(Ae.reverse())},q=gXe(n,{xaxis:d,yaxis:f,trace:h,connectGaps:h.connectgaps,baseTolerance:Math.max(p.width||1,3)/4,shape:p.shape,backoff:p.backoff,simplify:p.simplify,fill:h.fill}),ce=new Array(q.length);var G=0;for(l=0;l<q.length;l++){var de,ue=q[l];!de||!_?(de=ue.slice(),ce[G]=de,G++):de.push.apply(de,ue)}h._fillElement=null,h._fillExclusionElement=H,h._fillsegments=ce.slice(0,G),ce=h._fillsegments,q.length&&(te=q[0][0].slice(),he=q[q.length-1],we=he[he.length-1].slice()),X=function(Ae){return function(it){if(Y=B(it),K=ee(it),N?_?(N+="L"+Y.substr(1),U=K+("L"+U.substr(1))):(N+="Z"+Y,U=K+"Z"+U):(N=Y,U=K),Fb.hasLines(h)){var at=Zc.select(this);if(at.datum(n),Ae)u(at.style("opacity",0).attr("d",Y).call(fi.lineGroupStyle)).style("opacity",1);else{var ge=u(at);ge.attr("d",Y),fi.singleLineStyle(n,ge)}}}}}var fe=y.selectAll(".js-line").data(q);u(fe.exit()).style("opacity",0).remove(),fe.each(X(!1)),fe.enter().append("path").classed("js-line",!0).style("vector-effect",s?"none":"non-scaling-stroke").call(fi.lineGroupStyle).each(X(!0)),fi.setClipUrl(fe,r.layerClipId,t);function _e(Ae){u(Ae).attr("d","M0,0Z")}var Oe=function(){var Ae=new Array(ce.length);for(l=0;l<ce.length;l++)Ae[l]=D5(ce[l]);return Ae},Ce=function(Ae){var it,at;if(!Ae||Ae.length===0)for(it=new Array(ce.length),at=0;at<ce.length;at++){var ge=ce[at][0].slice(),Ne=ce[at][ce[at].length-1].slice();ge[C]=Ne[C]=E;var Le=[Ne,ge],St=Le.concat(ce[at]);it[at]=D5(St)}else{for(it=new Array(Ae.length-1+ce.length),at=0;at<Ae.length-1;at++)it[at]=D5(Ae[at]);var ht=Ae[Ae.length-1].slice();for(ht.reverse(),at=0;at<ce.length;at++)it[Ae.length-1+at]=D5(ce[at].concat(ht))}return it};q.length?(w?(w.datum(n),te&&we&&(_?(te[C]=we[C]=E,u(w).attr("d","M"+we+"L"+te+"L"+N.substr(1)).call(fi.singleFillStyle,t),Te=Ce(null)):(u(w).attr("d",N+"Z").call(fi.singleFillStyle,t),Te=Oe())),h._polygons=Te,h._fillElement=w):S&&(h.fill.substr(0,6)==="tonext"&&N&&M?(h.fill==="tonext"?(u(S).attr("d",N+"Z"+M+"Z").call(fi.singleFillStyle,t),Te=Oe(),h._polygons=Te.concat(I)):(u(S).attr("d",N+"L"+M.substr(1)+"Z").call(fi.singleFillStyle,t),Te=Ce(O),h._polygons=Te),h._fillElement=S):_e(S)),h._prevRevpath=U):(w?_e(w):S&&_e(S),h._prevRevpath=null),h._ownPolygons=Te;function je(Ae){return Ae.filter(function(it){return!it.gap&&it.vis})}function qe(Ae){return Ae.filter(function(it){return it.vis})}function Ve(Ae){return Ae.filter(function(it){return!it.gap})}function ot(Ae){return Ae.id}function $e(Ae){if(Ae.ids)return ot}function Xe(){return!1}function Je(Ae,it,at){var ge,Ne,Le,St=at[0].trace,ht=Fb.hasMarkers(St),He=Fb.hasText(St),Ue=$e(St),ct=Xe,rt=Xe;if(ht||He){var lt=wge,st=St.stackgroup,mt=st&&t._fullLayout._scatterStackOpts[d._id+f._id][st].stackgaps==="infer zero";St.marker.maxdisplayed||St._needsCull?lt=mt?qe:je:st&&!mt&&(lt=Ve),ht&&(ct=lt),He&&(rt=lt)}Ne=Ae.selectAll("path.point"),ge=Ne.data(ct,Ue);var kt=ge.enter().append("path").classed("point",!0);c&&kt.call(fi.pointStyle,St,t).call(fi.translatePoints,d,f).style("opacity",0).transition().style("opacity",1),ge.order();var _t;ht&&(_t=fi.makePointStyleFns(St)),ge.each(function(Ye){var bt=Zc.select(this),ut=u(bt);Le=fi.translatePoint(Ye,ut,d,f),Le?(fi.singlePointStyle(Ye,ut,St,_t,t),r.layerClipId&&fi.hideOutsideRangePoint(Ye,ut,d,f,St.xcalendar,St.ycalendar),St.customdata&&bt.classed("plotly-customdata",Ye.data!==null&&Ye.data!==void 0)):ut.remove()}),c?ge.exit().transition().style("opacity",0).remove():ge.exit().remove(),Ne=it.selectAll("g"),ge=Ne.data(rt,Ue),ge.enter().append("g").classed("textpoint",!0).append("text"),ge.order(),ge.each(function(Ye){var bt=Zc.select(this),ut=u(bt.select("text"));Le=fi.translatePoint(Ye,ut,d,f),Le?r.layerClipId&&fi.hideOutsideRangePoint(Ye,bt,d,f,St.xcalendar,St.ycalendar):bt.remove()}),ge.selectAll("text").call(fi.textPointStyle,St,t).each(function(Ye){var bt=d.c2p(Ye.x),ut=f.c2p(Ye.y);Zc.select(this).selectAll("tspan.line").each(function(){u(Zc.select(this)).attr({x:bt,y:ut})})}),ge.exit().remove()}b.datum(n),x.datum(n),Je(b,x,n);var nt=h.cliponaxis===!1,Ke=nt?null:r.layerClipId;fi.setClipUrl(b,Ke,t),fi.setClipUrl(x,Ke,t)}function wXe(t,e,r,n,i){var a=r.xaxis,o=r.yaxis,s=Zc.extent(M_.simpleMap(a.range,a.r2c)),l=Zc.extent(M_.simpleMap(o.range,o.r2c)),c=n[0].trace;if(Fb.hasMarkers(c)){var u=c.marker.maxdisplayed;if(u!==0){var d=n.filter(function(m){return m.x>=s[0]&&m.x<=s[1]&&m.y>=l[0]&&m.y<=l[1]}),f=Math.ceil(d.length/u),h=0;i.forEach(function(m,v){var y=m[0].trace;Fb.hasMarkers(y)&&y.marker.maxdisplayed>0&&v<e&&h++});var p=Math.round(h*f/3+Math.floor(h/3)*f/7.1);n.forEach(function(m){delete m.vis}),d.forEach(function(m,v){Math.round((v+p)%f)===0&&(m.vis=!0)})}}}});var A5=J((pwt,Sge)=>{"use strict";Sge.exports={container:"marker",min:"cmin",max:"cmax"}});var Tq=J((mwt,_ge)=>{"use strict";var M5=gn();_ge.exports=function(e,r,n){var i={},a={_fullLayout:n},o=M5.getFromTrace(a,r,"x"),s=M5.getFromTrace(a,r,"y"),l=e.orig_x;l===void 0&&(l=e.x);var c=e.orig_y;return c===void 0&&(c=e.y),i.xLabel=M5.tickText(o,o.c2l(l),!0).text,i.yLabel=M5.tickText(s,s.c2l(c),!0).text,i}});var kq=J((vwt,Cge)=>{"use strict";var Sq=Sr(),Hb=Kr(),xXe=Xt();function TXe(t){var e=Sq.select(t).selectAll("g.trace.scatter");e.style("opacity",function(r){return r[0].trace.opacity}),e.selectAll("g.points").each(function(r){var n=Sq.select(this),i=r.trace||r[0].trace;_q(n,i,t)}),e.selectAll("g.text").each(function(r){var n=Sq.select(this),i=r.trace||r[0].trace;Cq(n,i,t)}),e.selectAll("g.trace path.js-line").call(Hb.lineGroupStyle),e.selectAll("g.trace path.js-fill").call(Hb.fillGroupStyle,t,!1),xXe.getComponentMethod("errorbars","style")(e)}function _q(t,e,r){Hb.pointStyle(t.selectAll("path.point"),e,r)}function Cq(t,e,r){Hb.textPointStyle(t.selectAll("text"),e,r)}function SXe(t,e,r){var n=e[0].trace;n.selectedpoints?(Hb.selectedPointStyle(r.selectAll("path.point"),n),Hb.selectedTextStyle(r.selectAll("text"),n)):(_q(r,n,t),Cq(r,n,t))}Cge.exports={style:TXe,stylePoints:_q,styleText:Cq,styleOnSelect:SXe}});var Ege=J((gwt,kge)=>{"use strict";var qb=gr(),_Xe=Zs();kge.exports=function(e,r){var n,i;if(e.mode==="lines")return n=e.line.color,n&&qb.opacity(n)?n:e.fillcolor;if(e.mode==="none")return e.fill?e.fillcolor:"";var a=r.mcc||(e.marker||{}).color,o=r.mlcc||((e.marker||{}).line||{}).color;return i=a&&qb.opacity(a)?a:o&&qb.opacity(o)&&(r.mlw||((e.marker||{}).line||{}).width)?o:"",i?qb.opacity(i)<.3?qb.addOpacity(i,.3):i:(n=(e.line||{}).color,n&&qb.opacity(n)&&_Xe.hasLines(e)&&e.line.width?n:e.fillcolor)}});var Mge=J((ywt,Age)=>{"use strict";var R5=Qe(),Dge=Zl(),CXe=Xt(),kXe=Ege(),Eq=gr(),EXe=R5.fillText;Age.exports=function(e,r,n,i){var a=e.cd,o=a[0].trace,s=e.xa,l=e.ya,c=s.c2p(r),u=l.c2p(n),d=[c,u],f=o.hoveron||"",h=o.mode.indexOf("markers")!==-1?3:.5,p=!!o.xperiodalignment,m=!!o.yperiodalignment;if(f.indexOf("points")!==-1){var v=function(U){if(p){var B=s.c2p(U.xStart),$=s.c2p(U.xEnd);return c>=Math.min(B,$)&&c<=Math.max(B,$)?0:1/0}var ee=Math.max(3,U.mrc||0),te=1-1/ee,he=Math.abs(s.c2p(U.x)-c);return he<ee?te*he/ee:he-ee+te},y=function(U){if(m){var B=l.c2p(U.yStart),$=l.c2p(U.yEnd);return u>=Math.min(B,$)&&u<=Math.max(B,$)?0:1/0}var ee=Math.max(3,U.mrc||0),te=1-1/ee,he=Math.abs(l.c2p(U.y)-u);return he<ee?te*he/ee:he-ee+te},b=function(U){var B=Math.max(h,U.mrc||0),$=s.c2p(U.x)-c,ee=l.c2p(U.y)-u;return Math.max(Math.sqrt($*$+ee*ee)-B,1-h/B)},x=Dge.getDistanceFunction(i,v,y,b);if(Dge.getClosest(a,x,e),e.index!==!1){var w=a[e.index],S=s.c2p(w.x,!0),_=l.c2p(w.y,!0),C=w.mrc||1;e.index=w.i;var E=a[0].t.orientation,M=E&&(w.sNorm||w.s),I=E==="h"?M:w.orig_x!==void 0?w.orig_x:w.x,L=E==="v"?M:w.orig_y!==void 0?w.orig_y:w.y;return R5.extendFlat(e,{color:kXe(o,w),x0:S-C,x1:S+C,xLabelVal:I,y0:_-C,y1:_+C,yLabelVal:L,spikeDistance:b(w),hovertemplate:o.hovertemplate}),EXe(w,o,e),CXe.getComponentMethod("errorbars","hoverInfo")(w,o,e),[e]}}function O(U){if(!U)return!1;var B=U.node();try{var $=new DOMPoint(d[0],d[1]);return B.isPointInFill($)}catch(te){var ee=B.ownerSVGElement.createSVGPoint();return ee.x=d[0],ee.y=d[1],B.isPointInFill(ee)}}function H(U){var B,$=[],ee=1/0,te=-1/0,he=1/0,we=-1/0,Te;for(B=0;B<U.length;B++){var ce=U[B];ce.contains(d)&&($.push(ce),he=Math.min(he,ce.ymin),we=Math.max(we,ce.ymax))}if($.length===0)return null;he=Math.max(he,0),we=Math.min(we,l._length),Te=(he+we)/2;var q,X,G,de,ue,fe,_e;for(B=0;B<$.length;B++)for(X=$[B].pts,q=1;q<X.length;q++)fe=X[q-1][1],_e=X[q][1],fe>Te!=_e>=Te&&(de=X[q-1][0],ue=X[q][0],_e-fe&&(G=de+(ue-de)*(Te-fe)/(_e-fe),ee=Math.min(ee,G),te=Math.max(te,G)));return ee=Math.max(ee,0),te=Math.min(te,s._length),{x0:ee,x1:te,y0:Te,y1:Te}}if(f.indexOf("fills")!==-1&&o._fillElement){var Y=O(o._fillElement)&&!O(o._fillExclusionElement);if(Y){var K=H(o._polygons);K===null&&(K={x0:d[0],x1:d[0],y0:d[1],y1:d[1]});var N=Eq.defaultLine;return Eq.opacity(o.fillcolor)?N=o.fillcolor:Eq.opacity((o.line||{}).color)&&(N=o.line.color),R5.extendFlat(e,{distance:e.maxHoverDistance,x0:K.x0,x1:K.x1,y0:K.y0,y1:K.y1,color:N,hovertemplate:!1}),delete e.index,o.text&&!R5.isArrayOrTypedArray(o.text)?e.text=String(o.text):e.text=o.name,[e]}}}});var Nge=J((bwt,Ige)=>{"use strict";var Rge=Zs();Ige.exports=function(e,r){var n=e.cd,i=e.xaxis,a=e.yaxis,o=[],s=n[0].trace,l,c,u,d,f=!Rge.hasMarkers(s)&&!Rge.hasText(s);if(f)return[];if(r===!1)for(l=0;l<n.length;l++)n[l].selected=0;else for(l=0;l<n.length;l++)c=n[l],u=i.c2p(c.x),d=a.c2p(c.y),c.i!==null&&r.contains([u,d],!1,l,e)?(o.push({pointNumber:c.i,x:i.c2d(c.x),y:a.c2d(c.y)}),c.selected=1):c.selected=0;return o}});var Oge=J((wwt,Lge)=>{"use strict";Lge.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's x coordinates and","a 2D cartesian x axis.","If *x* (the default value), the x coordinates refer to","`layout.xaxis`.","If *x2*, the x coordinates refer to `layout.xaxis2`, and so on."].join(" ")},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's y coordinates and","a 2D cartesian y axis.","If *y* (the default value), the y coordinates refer to","`layout.yaxis`.","If *y2*, the y coordinates refer to `layout.yaxis2`, and so on."].join(" ")}}});var Hge=J((xwt,Fge)=>{"use strict";var R_=Xt().traceIs,Dq=K7();Fge.exports=function(e,r,n,i){n("autotypenumbers",i.autotypenumbersDflt);var a=n("type",(i.splomStash||{}).type);a==="-"&&(DXe(r,i.data),r.type==="-"?r.type="linear":e.type=r.type)};function DXe(t,e){if(t.type==="-"){var r=t._id,n=r.charAt(0),i;r.indexOf("scene")!==-1&&(r=n);var a=AXe(e,r,n);if(a){if(a.type==="histogram"&&n==={v:"y",h:"x"}[a.orientation||"v"]){t.type="linear";return}var o=n+"calendar",s=a[o],l={noMultiCategory:!R_(a,"cartesian")||R_(a,"noMultiCategory")};if(a.type==="box"&&a._hasPreCompStats&&n==={h:"x",v:"y"}[a.orientation||"v"]&&(l.noMultiCategory=!0),l.autotypenumbers=t.autotypenumbers,zge(a,n)){var c=Pge(a),u=[];for(i=0;i<e.length;i++){var d=e[i];!R_(d,"box-violin")||(d[n+"axis"]||n)!==r||(d[c]!==void 0?u.push(d[c][0]):d.name!==void 0?u.push(d.name):u.push("text"),d[o]!==s&&(s=void 0))}t.type=Dq(u,s,l)}else if(a.type==="splom"){var f=a.dimensions,h=f[a._axesDim[r]];h.visible&&(t.type=Dq(h.values,s,l))}else t.type=Dq(a[n]||[a[n+"0"]],s,l)}}}function AXe(t,e,r){for(var n=0;n<t.length;n++){var i=t[n];if(i.type==="splom"&&i._length>0&&(i["_"+r+"axes"]||{})[e])return i;if((i[r+"axis"]||r)===e){if(zge(i,r))return i;if((i[r]||[]).length||i[r+"0"])return i}}}function Pge(t){return{v:"x",h:"y"}[t.orientation||"v"]}function zge(t,e){var r=Pge(t),n=R_(t,"box-violin"),i=R_(t._fullInput||{},"candlestick");return n&&!i&&e===r&&t[r]===void 0&&t[r+"0"]===void 0}});var Uge=J((Twt,qge)=>{"use strict";var MXe=js().isTypedArraySpec;function RXe(t,e){var r=e.dataAttr||t._id.charAt(0),n={},i,a,o;if(e.axData)i=e.axData;else for(i=[],a=0;a<e.data.length;a++){var s=e.data[a];s[r+"axis"]===t._id&&i.push(s)}for(a=0;a<i.length;a++){var l=i[a][r];for(o=0;o<l.length;o++){var c=l[o];c!=null&&(n[c]=1)}}return Object.keys(n)}qge.exports=function(e,r,n,i){if(r.type==="category"){var a=e.categoryarray,o=Array.isArray(a)&&a.length>0||MXe(a),s;o&&(s="array");var l=n("categoryorder",s),c;l==="array"&&(c=n("categoryarray")),!o&&l==="array"&&(l=r.categoryorder="trace"),l==="trace"?r._initialCategories=[]:l==="array"?r._initialCategories=c.slice():(c=RXe(r,i).sort(),l==="category ascending"?r._initialCategories=c:l==="category descending"&&(r._initialCategories=c.reverse()))}}});var Vge=J((Swt,jge)=>{"use strict";var Bge=Vs().mix,IXe=Pu(),NXe=Qe();jge.exports=function(e,r,n,i){i=i||{};var a=i.dfltColor;function o(C,E){return NXe.coerce2(e,r,i.attributes,C,E)}var s=o("linecolor",a),l=o("linewidth"),c=n("showline",i.showLine||!!s||!!l);c||(delete r.linecolor,delete r.linewidth);var u=Bge(a,i.bgColor,i.blend||IXe.lightFraction).toRgbString(),d=o("gridcolor",u),f=o("gridwidth"),h=o("griddash"),p=n("showgrid",i.showGrid||!!d||!!f||!!h);if(p||(delete r.gridcolor,delete r.gridwidth,delete r.griddash),i.hasMinor){var m=Bge(r.gridcolor,i.bgColor,67).toRgbString(),v=o("minor.gridcolor",m),y=o("minor.gridwidth",r.gridwidth||1),b=o("minor.griddash",r.griddash||"solid"),x=n("minor.showgrid",!!v||!!y||!!b);x||(delete r.minor.gridcolor,delete r.minor.gridwidth,delete r.minor.griddash)}if(!i.noZeroLine){var w=o("zerolinecolor",a),S=o("zerolinewidth"),_=n("zeroline",i.showGrid||!!w||!!S);_||(delete r.zerolinecolor,delete r.zerolinewidth)}}});var Mq=J((_wt,Xge)=>{"use strict";var Wge=_r(),LXe=Xt(),I_=Qe(),OXe=On(),PXe=Hc(),Aq=Fc(),Gge=x7(),Yge=S7(),zXe=k7(),FXe=E7(),HXe=Uge(),qXe=Vge(),UXe=gH(),Zge=FM(),I5=Ha().WEEKDAY_PATTERN,BXe=Ha().HOUR_PATTERN;Xge.exports=function(e,r,n,i,a){var o=i.letter,s=i.font||{},l=i.splomStash||{},c=n("visible",!i.visibleDflt),u=r._template||{},d=r.type||u.type||"-",f;if(d==="date"){var h=LXe.getComponentMethod("calendars","handleDefaults");h(e,r,"calendar",i.calendar),i.noTicklabelmode||(f=n("ticklabelmode"))}!i.noTicklabelindex&&(d==="date"||d==="linear")&&n("ticklabelindex");var p="";(!i.noTicklabelposition||d==="multicategory")&&(p=I_.coerce(e,r,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:f==="period"?["outside","inside"]:o==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),i.noTicklabeloverflow||n("ticklabeloverflow",p.indexOf("inside")!==-1?"hide past domain":d==="category"||d==="multicategory"?"allow":"hide past div"),Zge(r,a),UXe(e,r,n,i),HXe(e,r,n,i),d!=="category"&&!i.noHover&&n("hoverformat");var m=n("color"),v=m!==Aq.color.dflt?m:s.color,y=l.label||a._dfltTitle[o];if(FXe(e,r,n,d,i),!c)return r;n("title.text",y),I_.coerceFont(n,"title.font",s,{overrideDflt:{size:I_.bigFont(s.size),color:v}}),Gge(e,r,n,d);var b=i.hasMinor;if(b&&(OXe.newContainer(r,"minor"),Gge(e,r,n,d,{isMinor:!0})),zXe(e,r,n,d,i),Yge(e,r,n,i),b){var x=i.isMinor;i.isMinor=!0,Yge(e,r,n,i),i.isMinor=x}qXe(e,r,n,{dfltColor:m,bgColor:i.bgColor,showGrid:i.showGrid,hasMinor:b,attributes:Aq}),b&&!r.minor.ticks&&!r.minor.showgrid&&delete r.minor,(r.showline||r.ticks)&&n("mirror");var w=d==="multicategory";if(!i.noTickson&&(d==="category"||w)&&(r.ticks||r.showgrid)){var S;w&&(S="boundaries");var _=n("tickson",S);_==="boundaries"&&delete r.ticklabelposition}if(w){var C=n("showdividers");C&&(n("dividercolor"),n("dividerwidth"))}if(d==="date")if(PXe(e,r,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:jXe}),!r.rangebreaks.length)delete r.rangebreaks;else{for(var E=0;E<r.rangebreaks.length;E++)if(r.rangebreaks[E].pattern===I5){r._hasDayOfWeekBreaks=!0;break}if(Zge(r,a),a._has("scattergl")||a._has("splom"))for(var M=0;M<i.data.length;M++){var I=i.data[M];(I.type==="scattergl"||I.type==="splom")&&(I.visible=!1,I_.warn(I.type+" traces do not work on axes with rangebreaks. Setting trace "+I.index+" to `visible: false`."))}}return r};function jXe(t,e,r){function n(f,h){return I_.coerce(t,e,Aq.rangebreaks,f,h)}var i=n("enabled");if(i){var a=n("bounds");if(a&&a.length>=2){var o="",s,l;if(a.length===2){for(s=0;s<2;s++)if(l=$ge(a[s]),l){o=I5;break}}var c=n("pattern",o);if(c===I5)for(s=0;s<2;s++)l=$ge(a[s]),l&&(e.bounds[s]=a[s]=l-1);if(c)for(s=0;s<2;s++)switch(l=a[s],c){case I5:if(!Wge(l)){e.enabled=!1;return}if(l=+l,l!==Math.floor(l)||l<0||l>=7){e.enabled=!1;return}e.bounds[s]=a[s]=l;break;case BXe:if(!Wge(l)){e.enabled=!1;return}if(l=+l,l<0||l>24){e.enabled=!1;return}e.bounds[s]=a[s]=l;break}if(r.autorange===!1){var u=r.range;if(u[0]<u[1]){if(a[0]<u[0]&&a[1]>u[1]){e.enabled=!1;return}}else if(a[0]>u[0]&&a[1]<u[1]){e.enabled=!1;return}}}else{var d=n("values");if(d&&d.length)n("dvalue");else{e.enabled=!1;return}}}}var VXe={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function $ge(t){if(typeof t=="string")return VXe[t.substr(0,3).toLowerCase()]}});var Rq=J((Cwt,Kge)=>{"use strict";var WXe=_r(),N5=Qe();Kge.exports=function(e,r,n,i){var a=i.counterAxes||[],o=i.overlayableAxes||[],s=i.letter,l=i.grid,c=i.overlayingDomain,u,d,f,h,p,m;l&&(d=l._domains[s][l._axisMap[r._id]],u=l._anchors[r._id],d&&(f=l[s+"side"].split(" ")[0],h=l.domain[s][f==="right"||f==="top"?1:0])),d=d||[0,1],u=u||(WXe(e.position)?"free":a[0]||"free"),f=f||(s==="x"?"bottom":"left"),h=h||0,p=0,m=!1;var v=N5.coerce(e,r,{anchor:{valType:"enumerated",values:["free"].concat(a),dflt:u}},"anchor"),y=N5.coerce(e,r,{side:{valType:"enumerated",values:s==="x"?["bottom","top"]:["left","right"],dflt:f}},"side");if(v==="free"){if(s==="y"){var b=n("autoshift");b&&(h=y==="left"?c[0]:c[1],m=r.automargin?r.automargin:!0,p=y==="left"?-3:3),n("shift",p)}n("position",h)}n("automargin",m);var x=!1;if(o.length&&(x=N5.coerce(e,r,{overlaying:{valType:"enumerated",values:[!1].concat(o),dflt:!1}},"overlaying")),!x){var w=n("domain",d);w[0]>w[1]-1/4096&&(r.domain=d),N5.noneOrAll(e.domain,r.domain,d),r.tickmode==="sync"&&(r.tickmode="auto")}return n("layer"),r}});var oye=J((kwt,aye)=>{"use strict";var Yv=Qe(),Qge=gr(),GXe=qc().isUnifiedHover,YXe=jH(),Jge=On(),ZXe=Y0(),eye=Fc(),$Xe=Hge(),tye=Mq(),XXe=KS(),rye=Rq(),Nq=Wi(),Ku=Nq.id2name,nye=Nq.name2id,KXe=Ha().AX_ID_PATTERN,iye=Xt(),L5=iye.traceIs,Iq=iye.getComponentMethod;function O5(t,e,r){Array.isArray(t[e])?t[e].push(r):t[e]=[r]}aye.exports=function(e,r,n){var i=r.autotypenumbers,a={},o={},s={},l={},c={},u={},d={},f={},h={},p={},m,v;for(m=0;m<n.length;m++){var y=n[m];if(L5(y,"cartesian")){var b;if(y.xaxis)b=Ku(y.xaxis),O5(a,b,y);else if(y.xaxes)for(v=0;v<y.xaxes.length;v++)O5(a,Ku(y.xaxes[v]),y);var x;if(y.yaxis)x=Ku(y.yaxis),O5(a,x,y);else if(y.yaxes)for(v=0;v<y.yaxes.length;v++)O5(a,Ku(y.yaxes[v]),y);if(y.type==="funnel"?y.orientation==="h"?(b&&(o[b]=!0),x&&(d[x]=!0)):x&&(s[x]=!0):y.type==="image"?(x&&(f[x]=!0),b&&(f[b]=!0)):(x&&(c[x]=!0,u[x]=!0),(!L5(y,"carpet")||y.type==="carpet"&&!y._cheater)&&b&&(l[b]=!0)),y.type==="carpet"&&y._cheater&&b&&(o[b]=!0),L5(y,"2dMap")&&(h[b]=!0,h[x]=!0),L5(y,"oriented")){var w=y.orientation==="h"?x:b;p[w]=!0}}}var S=r._subplots,_=S.xaxis,C=S.yaxis,E=Yv.simpleMap(_,Ku),M=Yv.simpleMap(C,Ku),I=E.concat(M),L=Qge.background;_.length&&C.length&&(L=Yv.coerce(e,r,ZXe,"plot_bgcolor"));var O=Qge.combine(L,r.paper_bgcolor),H,Y,K,N,U;function B(){var Ne=a[H]||[];U._traceIndices=Ne.map(function(Le){return Le.index}),U._annIndices=[],U._shapeIndices=[],U._selectionIndices=[],U._imgIndices=[],U._subplotsWith=[],U._counterAxes=[],U._name=U._attr=H,U._id=Y}function $(Ne,Le){return Yv.coerce(N,U,eye,Ne,Le)}function ee(Ne,Le){return Yv.coerce2(N,U,eye,Ne,Le)}function te(Ne){return Ne==="x"?C:_}function he(Ne,Le){for(var St=Ne==="x"?E:M,ht=[],He=0;He<St.length;He++){var Ue=St[He];Ue!==Le&&!(e[Ue]||{}).overlaying&&ht.push(nye(Ue))}return ht}var we={x:te("x"),y:te("y")},Te=we.x.concat(we.y),ce={},q=[];function X(){var Ne=N.matches;KXe.test(Ne)&&Te.indexOf(Ne)===-1&&(ce[Ne]=N.type,q=Object.keys(ce))}var G=YXe(e,r),de=GXe(G);for(m=0;m<I.length;m++){H=I[m],Y=nye(H),K=H.charAt(0),Yv.isPlainObject(e[H])||(e[H]={}),N=e[H],U=Jge.newContainer(r,H,K+"axis"),B();var ue=K==="x"&&!l[H]&&o[H]||K==="y"&&!c[H]&&s[H],fe=K==="y"&&(!u[H]&&d[H]||f[H]),_e={hasMinor:!0,letter:K,font:r.font,outerTicks:h[H],showGrid:!p[H],data:a[H]||[],bgColor:O,calendar:r.calendar,automargin:!0,visibleDflt:ue,reverseDflt:fe,autotypenumbersDflt:i,splomStash:((r._splomAxes||{})[K]||{})[Y],noAutotickangles:K==="y"};$("uirevision",r.uirevision),$Xe(N,U,$,_e),tye(N,U,$,_e,r);var Oe=de&&K===G.charAt(0),Ce=ee("spikecolor",de?U.color:void 0),je=ee("spikethickness",de?1.5:void 0),qe=ee("spikedash",de?"dot":void 0),Ve=ee("spikemode",de?"across":void 0),ot=ee("spikesnap"),$e=$("showspikes",!!Oe||!!Ce||!!je||!!qe||!!Ve||!!ot);$e||(delete U.spikecolor,delete U.spikethickness,delete U.spikedash,delete U.spikemode,delete U.spikesnap);var Xe=Ku(N.overlaying),Je=[0,1];if(r[Xe]!==void 0){var nt=Ku(r[Xe].anchor);r[nt]!==void 0&&(Je=r[nt].domain)}rye(N,U,$,{letter:K,counterAxes:we[K],overlayableAxes:he(K,H),grid:r.grid,overlayingDomain:Je}),$("title.standoff"),X(),U._input=N}for(m=0;m<q.length;){Y=q[m++],H=Ku(Y),K=H.charAt(0),Yv.isPlainObject(e[H])||(e[H]={}),N=e[H],U=Jge.newContainer(r,H,K+"axis"),B();var Ke={letter:K,font:r.font,outerTicks:h[H],showGrid:!p[H],data:[],bgColor:O,calendar:r.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:i,splomStash:((r._splomAxes||{})[K]||{})[Y]};$("uirevision",r.uirevision),U.type=ce[Y]||"linear",tye(N,U,$,Ke,r),rye(N,U,$,{letter:K,counterAxes:we[K],overlayableAxes:he(K,H),grid:r.grid}),$("fixedrange"),X(),U._input=N}var Ae=Iq("rangeslider","handleDefaults"),it=Iq("rangeselector","handleDefaults");for(m=0;m<E.length;m++)H=E[m],N=e[H],U=r[H],Ae(e,r,H),U.type==="date"&&it(N,U,r,M,U.calendar),$("fixedrange");for(m=0;m<M.length;m++){H=M[m],N=e[H],U=r[H];var at=r[Ku(U.anchor)],ge=Iq("rangeslider","isVisible")(at);$("fixedrange",ge)}XXe.handleDefaults(e,r,{axIds:Te.concat(q).sort(Nq.idSort),axHasImage:f})}});var cye=J((Ewt,lye)=>{"use strict";var QXe=Sr(),sye=Xt(),P5=Qe(),Js=Kr(),z5=gn();lye.exports=function(e,r,n,i){var a=e._fullLayout;if(r.length===0){z5.redrawComponents(e);return}function o(v){var y=v.xaxis,b=v.yaxis;a._defs.select("#"+v.clipId+"> rect").call(Js.setTranslate,0,0).call(Js.setScale,1,1),v.plot.call(Js.setTranslate,y._offset,b._offset).call(Js.setScale,1,1);var x=v.plot.selectAll(".scatterlayer .trace");x.selectAll(".point").call(Js.setPointGroupScale,1,1),x.selectAll(".textpoint").call(Js.setTextPointsScale,1,1),x.call(Js.hideOutsideRangePoints,v)}function s(v,y){var b=v.plotinfo,x=b.xaxis,w=b.yaxis,S=x._length,_=w._length,C=!!v.xr1,E=!!v.yr1,M=[];if(C){var I=P5.simpleMap(v.xr0,x.r2l),L=P5.simpleMap(v.xr1,x.r2l),O=I[1]-I[0],H=L[1]-L[0];M[0]=(I[0]*(1-y)+y*L[0]-I[0])/(I[1]-I[0])*S,M[2]=S*(1-y+y*H/O),x.range[0]=x.l2r(I[0]*(1-y)+y*L[0]),x.range[1]=x.l2r(I[1]*(1-y)+y*L[1])}else M[0]=0,M[2]=S;if(E){var Y=P5.simpleMap(v.yr0,w.r2l),K=P5.simpleMap(v.yr1,w.r2l),N=Y[1]-Y[0],U=K[1]-K[0];M[1]=(Y[1]*(1-y)+y*K[1]-Y[1])/(Y[0]-Y[1])*_,M[3]=_*(1-y+y*U/N),w.range[0]=x.l2r(Y[0]*(1-y)+y*K[0]),w.range[1]=w.l2r(Y[1]*(1-y)+y*K[1])}else M[1]=0,M[3]=_;z5.drawOne(e,x,{skipTitle:!0}),z5.drawOne(e,w,{skipTitle:!0}),z5.redrawComponents(e,[x._id,w._id]);var B=C?S/M[2]:1,$=E?_/M[3]:1,ee=C?M[0]:0,te=E?M[1]:0,he=C?M[0]/M[2]*S:0,we=E?M[1]/M[3]*_:0,Te=x._offset-he,ce=w._offset-we;b.clipRect.call(Js.setTranslate,ee,te).call(Js.setScale,1/B,1/$),b.plot.call(Js.setTranslate,Te,ce).call(Js.setScale,B,$),Js.setPointGroupScale(b.zoomScalePts,1/B,1/$),Js.setTextPointsScale(b.zoomScaleTxt,1/B,1/$)}var l;i&&(l=i());function c(){for(var v={},y=0;y<r.length;y++){var b=r[y],x=b.plotinfo.xaxis,w=b.plotinfo.yaxis;b.xr1&&(v[x._name+".range"]=b.xr1.slice()),b.yr1&&(v[w._name+".range"]=b.yr1.slice())}return l&&l(),sye.call("relayout",e,v).then(function(){for(var S=0;S<r.length;S++)o(r[S].plotinfo)})}function u(){for(var v={},y=0;y<r.length;y++){var b=r[y],x=b.plotinfo.xaxis,w=b.plotinfo.yaxis;b.xr0&&(v[x._name+".range"]=b.xr0.slice()),b.yr0&&(v[w._name+".range"]=b.yr0.slice())}return sye.call("relayout",e,v).then(function(){for(var S=0;S<r.length;S++)o(r[S].plotinfo)})}var d,f,h,p=QXe.ease(n.easing);e._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(h),h=null,u()});function m(){f=Date.now();for(var v=Math.min(1,(f-d)/n.duration),y=p(v),b=0;b<r.length;b++)s(r[b],y);f-d>n.duration?(c(),h=window.cancelAnimationFrame(m)):h=window.requestAnimationFrame(m)}return d=Date.now(),h=window.requestAnimationFrame(m),Promise.resolve()}});var N_=J(lo=>{"use strict";var H5=Sr(),uye=Xt(),Zv=Qe(),JXe=ki(),eKe=Kr(),dye=n7().getModuleCalcData,_p=Wi(),$c=Ha(),tKe=cp(),an=Zv.ensureSingle;function F5(t,e,r){return Zv.ensureSingle(t,e,r,function(n){n.datum(r)})}var $v=$c.zindexSeparator;lo.name="cartesian";lo.attr=["xaxis","yaxis"];lo.idRoot=["x","y"];lo.idRegex=$c.idRegex;lo.attrRegex=$c.attrRegex;lo.attributes=Oge();lo.layoutAttributes=Fc();lo.supplyLayoutDefaults=oye();lo.transitionAxes=cye();lo.finalizeSubplots=function(t,e){var r=e._subplots,n=r.xaxis,i=r.yaxis,a=r.cartesian,o=a,s={},l={},c,u,d;for(c=0;c<o.length;c++){var f=o[c].split("y");s[f[0]]=1,l["y"+f[1]]=1}for(c=0;c<n.length;c++)u=n[c],s[u]||(d=(t[_p.id2name(u)]||{}).anchor,$c.idRegex.y.test(d)||(d="y"),a.push(u+d),o.push(u+d),l[d]||(l[d]=1,Zv.pushUnique(i,d)));for(c=0;c<i.length;c++)d=i[c],l[d]||(u=(t[_p.id2name(d)]||{}).anchor,$c.idRegex.x.test(u)||(u="x"),a.push(u+d),o.push(u+d),s[u]||(s[u]=1,Zv.pushUnique(n,u)));if(!o.length){u="",d="";for(var h in t)if($c.attrRegex.test(h)){var p=h.charAt(0);p==="x"?(!u||+h.substr(5)<+u.substr(5))&&(u=h):(!d||+h.substr(5)<+d.substr(5))&&(d=h)}u=u?_p.name2id(u):"x",d=d?_p.name2id(d):"y",n.push(u),i.push(d),a.push(u+d)}};lo.plot=function(t,e,r,n){var i=t._fullLayout,a=i._subplots.cartesian,o=t.calcdata,s;if(!Array.isArray(e))for(e=[],s=0;s<o.length;s++)e.push(s);for(var l=i._zindices,c=0;c<l.length;c++){var u=l[c];for(s=0;s<a.length;s++){var d=a[s],f=i._plots[d];if(c>0){var h=f.id;if(h.indexOf($v)!==-1)continue;h+=$v+(c+1),f=Zv.extendFlat({},f,{id:h,plot:i._cartesianlayer.selectAll(".subplot").select("."+h)})}for(var p=[],m,v=0;v<o.length;v++){var y=o[v],b=y[0].trace;u===(b.zorder||0)&&b.xaxis+b.yaxis===d&&((e.indexOf(b.index)!==-1||b.carpet)&&(m&&m[0].trace.xaxis+m[0].trace.yaxis===d&&["tonextx","tonexty","tonext"].indexOf(b.fill)!==-1&&p.indexOf(m)===-1&&p.push(m),p.push(y)),m=y)}fye(t,f,p,r,n)}}};function fye(t,e,r,n,i){for(var a=$c.traceLayerClasses,o=t._fullLayout,s=o._zindices,l=o._modules,c,u,d,f=[],h=[],p=0;p<s.length;p++)for(var m=s[p],v=0;v<l.length;v++){c=l[v];var y=c.name,b=uye.modules[y].categories;if(b.svg){var x=c.layerName||y+"layer",w=x+(p?Number(p)+1:""),S=c.plot;u=dye(r,S,m),d=u[0],r=u[1],d.length&&f.push({i:a.indexOf(x),zindex:p,className:w,plotMethod:S,cdModule:d}),b.zoomScale&&h.push("."+w)}}f.sort(function(E,M){return(E.zindex||0)-(M.zindex||0)||E.i-M.i});var _=e.plot.selectAll("g.mlayer").data(f,function(E){return E.className});if(_.enter().append("g").attr("class",function(E){return E.className}).classed("mlayer",!0).classed("rangeplot",e.isRangePlot),_.exit().remove(),_.order(),_.each(function(E){var M=H5.select(this),I=E.className;E.plotMethod(t,e,E.cdModule,M,n,i),$c.clipOnAxisFalseQuery.indexOf("."+I)===-1&&eKe.setClipUrl(M,e.layerClipId,t)}),o._has("scattergl")&&(c=uye.getModule("scattergl"),d=dye(r,c)[0],c.plot(t,e,d)),!t._context.staticPlot&&(e._hasClipOnAxisFalse&&(e.clipOnAxisFalseTraces=e.plot.selectAll($c.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),h.length)){var C=e.plot.selectAll(h.join(",")).selectAll(".trace");e.zoomScalePts=C.selectAll("path.point"),e.zoomScaleTxt=C.selectAll(".textpoint")}}lo.clean=function(t,e,r,n){var i=n._plots||{},a=e._plots||{},o=n._subplots||{},s,l,c;if(n._hasOnlyLargeSploms&&!e._hasOnlyLargeSploms)for(c in i)s=i[c],s.plotgroup&&s.plotgroup.remove();var u=n._has&&n._has("gl"),d=e._has&&e._has("gl");if(u&&!d)for(c in i)s=i[c],s._scene&&s._scene.destroy();if(o.xaxis&&o.yaxis){var f=_p.listIds({_fullLayout:n});for(l=0;l<f.length;l++){var h=f[l];e[_p.id2name(h)]||n._infolayer.selectAll(".g-"+h+"title").remove()}}var p=n._has&&n._has("cartesian"),m=e._has&&e._has("cartesian");if(p&&!m)pye(n._cartesianlayer.selectAll(".subplot"),n),n._defs.selectAll(".axesclip").remove(),delete n._axisConstraintGroups,delete n._axisMatchGroups;else if(o.cartesian)for(l=0;l<o.cartesian.length;l++){var v=o.cartesian[l];if(v.indexOf($v)===-1&&!a[v]){var y="."+v+",."+v+"-x,."+v+"-y";n._cartesianlayer.selectAll(y).remove(),mye(v,n)}}};lo.drawFramework=function(t){var e=t._fullLayout,r=t.calcdata,n,i={};for(n=0;n<r.length;n++){var a=r[n][0],o=a.trace,s=o.zorder||0;i[s]||(i[s]=[]),i[s].push(a)}var l=Object.keys(i).map(Number).sort(Zv.sorterAsc);l.length||(l=[0]),e._zindices=l;var c=rKe(t),u=c.length,d=[];for(n=0;n<u;n++)d[n]=c[n].slice();for(var f=1;f<l.length;f++){var h=[];for(n=0;n<u;n++)h[n]=c[n].slice(),h[n][0]+=$v+(f+1);d=d.concat(h)}var p=e._cartesianlayer.selectAll(".subplot").data(d,String);p.enter().append("g").attr("class",function(m){return"subplot "+m[0]}),p.order(),p.exit().call(pye,e),p.each(function(m){var v=m[0],y=v.indexOf($v),b=y!==-1,x=b?v.slice(0,y):v,w=e._plots[v];w||(w=Zv.extendFlat({},e._plots[x]),w&&(w.id=v,e._plots[v]=w,e._subplots.cartesian.push(v))),w&&(w.plotgroup=H5.select(this),hye(t,w),b||(w.draglayer=an(e._draggers,"g",v)))})};lo.rangePlot=function(t,e,r){hye(t,e),fye(t,e,r),JXe.style(t)};function rKe(t){var e=t._fullLayout,r=e._zindices.length,n=e._subplots.cartesian,i=n.length,a,o,s,l,c,u,d=[],f=[];for(a=0;a<i;a++){s=n[a],l=e._plots[s],c=l.xaxis,u=l.yaxis;var h=c._mainAxis,p=u._mainAxis,m=h._id+p._id,v=e._plots[m];l.overlays=[],m!==s&&v?(l.mainplot=m,l.mainplotinfo=v,f.push(s)):(l.mainplot=void 0,l.mainplotinfo=void 0,d.push(s))}for(a=0;a<f.length;a++)s=f[a],l=e._plots[s],l.mainplotinfo.overlays.push(l);var y=d.concat(f),b=[];for(a=0;a<i;a++){s=y[a],l=e._plots[s],c=l.xaxis,u=l.yaxis;for(var x=[],w=1;w<=r;w++){var S="";for(w>1&&(S+=$v+w),x.push(s+S),o=0;o<l.overlays.length;o++)x.push(l.overlays[o].id+S)}x=x.concat([c.layer,u.layer,c.overlaying||"",u.overlaying||""]),b.push(x)}return b}function hye(t,e){var r=t._fullLayout,n=e.plotgroup,i=e.id,a=i.indexOf($v),o=a!==-1,s=$c.layerValue2layerClass[e.xaxis.layer],l=$c.layerValue2layerClass[e.yaxis.layer],c=r._hasOnlyLargeSploms,u=r._zindices.length>1,d=e.mainplotinfo;if(!e.mainplot||u)if(c)e.xlines=an(n,"path","xlines-above"),e.ylines=an(n,"path","ylines-above"),e.xaxislayer=an(n,"g","xaxislayer-above"),e.yaxislayer=an(n,"g","yaxislayer-above");else{if(!o){var f=an(n,"g","layer-subplot");e.shapelayer=an(f,"g","shapelayer"),e.imagelayer=an(f,"g","imagelayer"),d&&u?(e.minorGridlayer=d.minorGridlayer,e.gridlayer=d.gridlayer,e.zerolinelayer=d.zerolinelayer):(e.minorGridlayer=an(n,"g","minor-gridlayer"),e.gridlayer=an(n,"g","gridlayer"),e.zerolinelayer=an(n,"g","zerolinelayer"));var h=an(n,"g","layer-between");e.shapelayerBetween=an(h,"g","shapelayer"),e.imagelayerBetween=an(h,"g","imagelayer"),an(n,"path","xlines-below"),an(n,"path","ylines-below"),e.overlinesBelow=an(n,"g","overlines-below"),an(n,"g","xaxislayer-below"),an(n,"g","yaxislayer-below"),e.overaxesBelow=an(n,"g","overaxes-below")}e.overplot=an(n,"g","overplot"),e.plot=an(e.overplot,"g",i),o||(e.xlines=an(n,"path","xlines-above"),e.ylines=an(n,"path","ylines-above"),e.overlinesAbove=an(n,"g","overlines-above"),an(n,"g","xaxislayer-above"),an(n,"g","yaxislayer-above"),e.overaxesAbove=an(n,"g","overaxes-above"),e.xlines=n.select(".xlines-"+s),e.ylines=n.select(".ylines-"+l),e.xaxislayer=n.select(".xaxislayer-"+s),e.yaxislayer=n.select(".yaxislayer-"+l))}else{var p=d.plotgroup,m=i+"-x",v=i+"-y";e.minorGridlayer=d.minorGridlayer,e.gridlayer=d.gridlayer,e.zerolinelayer=d.zerolinelayer,an(d.overlinesBelow,"path",m),an(d.overlinesBelow,"path",v),an(d.overaxesBelow,"g",m),an(d.overaxesBelow,"g",v),e.plot=an(d.overplot,"g",i),an(d.overlinesAbove,"path",m),an(d.overlinesAbove,"path",v),an(d.overaxesAbove,"g",m),an(d.overaxesAbove,"g",v),e.xlines=p.select(".overlines-"+s).select("."+m),e.ylines=p.select(".overlines-"+l).select("."+v),e.xaxislayer=p.select(".overaxes-"+s).select("."+m),e.yaxislayer=p.select(".overaxes-"+l).select("."+v)}o||(c||(F5(e.minorGridlayer,"g",e.xaxis._id),F5(e.minorGridlayer,"g",e.yaxis._id),e.minorGridlayer.selectAll("g").map(function(y){return y[0]}).sort(_p.idSort),F5(e.gridlayer,"g",e.xaxis._id),F5(e.gridlayer,"g",e.yaxis._id),e.gridlayer.selectAll("g").map(function(y){return y[0]}).sort(_p.idSort)),e.xlines.style("fill","none").classed("crisp",!0),e.ylines.style("fill","none").classed("crisp",!0))}function pye(t,e){if(t){var r={};t.each(function(l){var c=l[0],u=H5.select(this);u.remove(),mye(c,e),r[c]=!0});for(var n in e._plots)for(var i=e._plots[n],a=i.overlays||[],o=0;o<a.length;o++){var s=a[o];r[s.id]&&s.plot.selectAll(".trace").remove()}}}function mye(t,e){e._draggers.selectAll("g."+t).remove(),e._defs.select("#clip"+e._uid+t+"plot").remove()}lo.toSVG=function(t){var e=t._fullLayout._glimages,r=H5.select(t).selectAll(".svg-container"),n=r.filter(function(a,o){return o===r.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function i(){var a=this,o=a.toDataURL("image/png"),s=e.append("svg:image");s.attr({xmlns:tKe.svg,"xlink:href":o,preserveAspectRatio:"none",x:0,y:0,width:a.style.width,height:a.style.height})}n.each(i)};lo.updateFx=q9().updateFx});var Lq=J((Awt,vye)=>{"use strict";var q5=Zs();vye.exports={hasLines:q5.hasLines,hasMarkers:q5.hasMarkers,hasText:q5.hasText,isBubble:q5.isBubble,attributes:wp(),layoutAttributes:pM(),supplyDefaults:Ive(),crossTraceDefaults:Ove(),supplyLayoutDefaults:zve(),calc:pq().calc,crossTraceCalc:lge(),arraysToCalcdata:lq(),plot:Tge(),colorbar:A5(),formatLabels:Tq(),style:kq().style,styleOnSelect:kq().styleOnSelect,hoverPoints:Mge(),selectPoints:Nge(),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:N_(),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{description:["The scatter trace type encompasses line charts, scatter charts, text charts, and bubble charts.","The data visualized as scatter point or lines is set in `x` and `y`.","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to numerical arrays."].join(" ")}}});var bye=J((Mwt,yye)=>{"use strict";var nKe=Sr(),iKe=gr(),gye=I9(),Oq=Qe(),aKe=Oq.strScale,oKe=Oq.strRotate,sKe=Oq.strTranslate;yye.exports=function(e,r,n){var i=e.node(),a=gye[n.arrowhead||0],o=gye[n.startarrowhead||0],s=(n.arrowwidth||1)*(n.arrowsize||1),l=(n.arrowwidth||1)*(n.startarrowsize||1),c=r.indexOf("start")>=0,u=r.indexOf("end")>=0,d=a.backoff*s+n.standoff,f=o.backoff*l+n.startstandoff,h,p,m,v;if(i.nodeName==="line"){h={x:+e.attr("x1"),y:+e.attr("y1")},p={x:+e.attr("x2"),y:+e.attr("y2")};var y=h.x-p.x,b=h.y-p.y;if(m=Math.atan2(b,y),v=m+Math.PI,d&&f&&d+f>Math.sqrt(y*y+b*b)){Y();return}if(d){if(d*d>y*y+b*b){Y();return}var x=d*Math.cos(m),w=d*Math.sin(m);p.x+=x,p.y+=w,e.attr({x2:p.x,y2:p.y})}if(f){if(f*f>y*y+b*b){Y();return}var S=f*Math.cos(m),_=f*Math.sin(m);h.x-=S,h.y-=_,e.attr({x1:h.x,y1:h.y})}}else if(i.nodeName==="path"){var C=i.getTotalLength(),E="";if(C<d+f){Y();return}var M=i.getPointAtLength(0),I=i.getPointAtLength(.1);m=Math.atan2(M.y-I.y,M.x-I.x),h=i.getPointAtLength(Math.min(f,C)),E="0px,"+f+"px,";var L=i.getPointAtLength(C),O=i.getPointAtLength(C-.1);v=Math.atan2(L.y-O.y,L.x-O.x),p=i.getPointAtLength(Math.max(0,C-d));var H=E?f+d:d;E+=C-H+"px,"+C+"px",e.style("stroke-dasharray",E)}function Y(){e.style("stroke-dasharray","0px,100px")}function K(N,U,B,$){N.path&&(N.noRotate&&(B=0),nKe.select(i.parentNode).append("path").attr({class:e.attr("class"),d:N.path,transform:sKe(U.x,U.y)+oKe(B*180/Math.PI)+aKe($)}).style({fill:iKe.rgb(n.arrowcolor),"stroke-width":0}))}c&&K(o,h,m,l),u&&K(a,p,v,s)}});var U5=J((Rwt,_ye)=>{"use strict";var wye=Sr(),Pq=Xt(),lKe=ki(),kp=Qe(),zq=kp.strTranslate,O_=gn(),Xv=gr(),Cf=Kr(),xye=Zl(),Fq=wa(),Hq=bf(),L_=Bc(),cKe=On().arrayEditor,uKe=bye();_ye.exports={draw:dKe,drawOne:Tye,drawRaw:Sye};function dKe(t){var e=t._fullLayout;e._infolayer.selectAll(".annotation").remove();for(var r=0;r<e.annotations.length;r++)e.annotations[r].visible&&Tye(t,r);return lKe.previousPromises(t)}function Tye(t,e){var r=t._fullLayout,n=r.annotations[e]||{},i=O_.getFromId(t,n.xref),a=O_.getFromId(t,n.yref);i&&i.setScale(),a&&a.setScale(),Sye(t,n,e,!1,i,a)}function Cp(t,e,r,n,i){var a=i[r],o=i[r+"ref"],s=r.indexOf("y")!==-1,l=O_.getRefType(o)==="domain",c=s?n.h:n.w;return t?l?a+(s?-e:e)/t._length:t.p2r(t.r2p(a)+e):a+(s?-e:e)/c}function Sye(t,e,r,n,i,a){var o=t._fullLayout,s=t._fullLayout._size,l=t._context.edits,c,u;n?(c="annotation-"+n,u=n+".annotations"):(c="annotation",u="annotations");var d=cKe(t.layout,u,e),f=d.modifyBase,h=d.modifyItem,p=d.getUpdateObj;o._infolayer.selectAll("."+c+'[data-index="'+r+'"]').remove();var m="clip"+o._uid+"_ann"+r;if(!e._input||e.visible===!1){wye.selectAll("#"+m).remove();return}var v={x:{},y:{}},y=+e.textangle||0,b=o._infolayer.append("g").classed(c,!0).attr("data-index",String(r)).style("opacity",e.opacity),x=b.append("g").classed("annotation-text-g",!0),w=l[e.showarrow?"annotationTail":"annotationPosition"],S=e.captureevents||l.annotationText||w;function _($){var ee={index:r,annotation:e._input,fullAnnotation:e,event:$};return n&&(ee.subplotId=n),ee}var C=x.append("g").style("pointer-events",S?"all":null).call(Hq,"pointer").on("click",function(){t._dragging=!1,t.emit("plotly_clickannotation",_(wye.event))});e.hovertext&&C.on("mouseover",function(){var $=e.hoverlabel,ee=$.font,te=this.getBoundingClientRect(),he=t.getBoundingClientRect();xye.loneHover({x0:te.left-he.left,x1:te.right-he.left,y:(te.top+te.bottom)/2-he.top,text:e.hovertext,color:$.bgcolor,borderColor:$.bordercolor,fontFamily:ee.family,fontSize:ee.size,fontColor:ee.color,fontWeight:ee.weight,fontStyle:ee.style,fontVariant:ee.variant,fontShadow:ee.fontShadow,fontLineposition:ee.fontLineposition,fontTextcase:ee.fontTextcase},{container:o._hoverlayer.node(),outerContainer:o._paper.node(),gd:t})}).on("mouseout",function(){xye.loneUnhover(o._hoverlayer.node())});var E=e.borderwidth,M=e.borderpad,I=E+M,L=C.append("rect").attr("class","bg").style("stroke-width",E+"px").call(Xv.stroke,e.bordercolor).call(Xv.fill,e.bgcolor),O=e.width||e.height,H=o._topclips.selectAll("#"+m).data(O?[0]:[]);H.enter().append("clipPath").classed("annclip",!0).attr("id",m).append("rect"),H.exit().remove();var Y=e.font,K=o._meta?kp.templateString(e.text,o._meta):e.text,N=C.append("text").classed("annotation-text",!0).text(K);function U($){return $.call(Cf.font,Y).attr({"text-anchor":{left:"start",right:"end"}[e.align]||"middle"}),Fq.convertToTspans($,t,B),$}function B(){var $=N.selectAll("a");if($.size()===1&&$.text()===N.text()){var ee=C.insert("a",":first-child").attr({"xlink:xlink:href":$.attr("xlink:href"),"xlink:xlink:show":$.attr("xlink:show")}).style({cursor:"pointer"});ee.node().appendChild(L.node())}var te=C.select(".annotation-text-math-group"),he=!te.empty(),we=Cf.bBox((he?te:N).node()),Te=we.width,ce=we.height,q=e.width||Te,X=e.height||ce,G=Math.round(q+2*I),de=Math.round(X+2*I);function ue(P,z){return z==="auto"&&(P<1/3?z="left":P>2/3?z="right":z="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[z]}for(var fe=!1,_e=["x","y"],Oe=0;Oe<_e.length;Oe++){var Ce=_e[Oe],je=e[Ce+"ref"]||Ce,qe=e["a"+Ce+"ref"],Ve={x:i,y:a}[Ce],ot=(y+(Ce==="x"?0:-90))*Math.PI/180,$e=G*Math.cos(ot),Xe=de*Math.sin(ot),Je=Math.abs($e)+Math.abs(Xe),nt=e[Ce+"anchor"],Ke=e[Ce+"shift"]*(Ce==="x"?1:-1),Ae=v[Ce],it,at,ge,Ne,Le,St=O_.getRefType(je);if(Ve&&St!=="domain"){var ht=Ve.r2fraction(e[Ce]);(ht<0||ht>1)&&(qe===je?(ht=Ve.r2fraction(e["a"+Ce]),(ht<0||ht>1)&&(fe=!0)):fe=!0),it=Ve._offset+Ve.r2p(e[Ce]),Ne=.5}else{var He=St==="domain";Ce==="x"?(ge=e[Ce],it=He?Ve._offset+Ve._length*ge:it=s.l+s.w*ge):(ge=1-e[Ce],it=He?Ve._offset+Ve._length*ge:it=s.t+s.h*ge),Ne=e.showarrow?.5:ge}if(e.showarrow){Ae.head=it;var Ue=e["a"+Ce];if(Le=$e*ue(.5,e.xanchor)-Xe*ue(.5,e.yanchor),qe===je){var ct=O_.getRefType(qe);ct==="domain"?(Ce==="y"&&(Ue=1-Ue),Ae.tail=Ve._offset+Ve._length*Ue):ct==="paper"?Ce==="y"?(Ue=1-Ue,Ae.tail=s.t+s.h*Ue):Ae.tail=s.l+s.w*Ue:Ae.tail=Ve._offset+Ve.r2p(Ue),at=Le}else Ae.tail=it+Ue,at=Le+Ue;Ae.text=Ae.tail+Le;var rt=o[Ce==="x"?"width":"height"];if(je==="paper"&&(Ae.head=kp.constrain(Ae.head,1,rt-1)),qe==="pixel"){var lt=-Math.max(Ae.tail-3,Ae.text),st=Math.min(Ae.tail+3,Ae.text)-rt;lt>0?(Ae.tail+=lt,Ae.text+=lt):st>0&&(Ae.tail-=st,Ae.text-=st)}Ae.tail+=Ke,Ae.head+=Ke}else Le=Je*ue(Ne,nt),at=Le,Ae.text=it+Le;Ae.text+=Ke,Le+=Ke,at+=Ke,e["_"+Ce+"padplus"]=Je/2+at,e["_"+Ce+"padminus"]=Je/2-at,e["_"+Ce+"size"]=Je,e["_"+Ce+"shift"]=Le}if(fe){C.remove();return}var mt=0,kt=0;if(e.align!=="left"&&(mt=(q-Te)*(e.align==="center"?.5:1)),e.valign!=="top"&&(kt=(X-ce)*(e.valign==="middle"?.5:1)),he)te.select("svg").attr({x:I+mt-1,y:I+kt}).call(Cf.setClipUrl,O?m:null,t);else{var _t=I+kt-we.top,Ye=I+mt-we.left;N.call(Fq.positionText,Ye,_t).call(Cf.setClipUrl,O?m:null,t)}H.select("rect").call(Cf.setRect,I,I,q,X),L.call(Cf.setRect,E/2,E/2,G-E,de-E),C.call(Cf.setTranslate,Math.round(v.x.text-G/2),Math.round(v.y.text-de/2)),x.attr({transform:"rotate("+y+","+v.x.text+","+v.y.text+")"});var bt=function(P,z){b.selectAll(".annotation-arrow-g").remove();var Q=v.x.head,le=v.y.head,V=v.x.tail+P,oe=v.y.tail+z,be=v.x.text+P,xe=v.y.text+z,Ge=kp.rotationXYMatrix(y,be,xe),Ie=kp.apply2DTransform(Ge),tt=kp.apply2DTransform2(Ge),vt=+L.attr("width"),Ze=+L.attr("height"),Pt=be-.5*vt,Wt=Pt+vt,Vt=xe-.5*Ze,Jt=Vt+Ze,At=[[Pt,Vt,Pt,Jt],[Pt,Jt,Wt,Jt],[Wt,Jt,Wt,Vt],[Wt,Vt,Pt,Vt]].map(tt);if(!At.reduce(function(qr,Ki){return qr^!!kp.segmentsIntersect(Q,le,Q+1e6,le+1e6,Ki[0],Ki[1],Ki[2],Ki[3])},!1)){At.forEach(function(qr){var Ki=kp.segmentsIntersect(V,oe,Q,le,qr[0],qr[1],qr[2],qr[3]);Ki&&(V=Ki.x,oe=Ki.y)});var ir=e.arrowwidth,Qt=e.arrowcolor,kr=e.arrowside,br=b.append("g").style({opacity:Xv.opacity(Qt)}).classed("annotation-arrow-g",!0),mr=br.append("path").attr("d","M"+V+","+oe+"L"+Q+","+le).style("stroke-width",ir+"px").call(Xv.stroke,Xv.rgb(Qt));if(uKe(mr,kr,e),l.annotationPosition&&mr.node().parentNode&&!n){var vr=Q,Vr=le;if(e.standoff){var un=Math.sqrt(Math.pow(Q-V,2)+Math.pow(le-oe,2));vr+=e.standoff*(V-Q)/un,Vr+=e.standoff*(oe-le)/un}var Dn=br.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(V-vr)+","+(oe-Vr),transform:zq(vr,Vr)}).style("stroke-width",ir+6+"px").call(Xv.stroke,"rgba(0,0,0,0)").call(Xv.fill,"rgba(0,0,0,0)"),mi,Rn;L_.init({element:Dn.node(),gd:t,prepFn:function(){var qr=Cf.getTranslate(C);mi=qr.x,Rn=qr.y,i&&i.autorange&&f(i._name+".autorange",!0),a&&a.autorange&&f(a._name+".autorange",!0)},moveFn:function(qr,Ki){var ld=Ie(mi,Rn),cd=ld[0]+qr,dn=ld[1]+Ki;C.call(Cf.setTranslate,cd,dn),h("x",Cp(i,qr,"x",s,e)),h("y",Cp(a,Ki,"y",s,e)),e.axref===e.xref&&h("ax",Cp(i,qr,"ax",s,e)),e.ayref===e.yref&&h("ay",Cp(a,Ki,"ay",s,e)),br.attr("transform",zq(qr,Ki)),x.attr({transform:"rotate("+y+","+cd+","+dn+")"})},doneFn:function(){Pq.call("_guiRelayout",t,p());var qr=document.querySelector(".js-notes-box-panel");qr&&qr.redraw(qr.selectedObj)}})}}};if(e.showarrow&&bt(0,0),w){var ut;L_.init({element:C.node(),gd:t,prepFn:function(){ut=x.attr("transform")},moveFn:function(P,z){var Q="pointer";if(e.showarrow)e.axref===e.xref?h("ax",Cp(i,P,"ax",s,e)):h("ax",e.ax+P),e.ayref===e.yref?h("ay",Cp(a,z,"ay",s.w,e)):h("ay",e.ay+z),bt(P,z);else{if(n)return;var le,V;if(i)le=Cp(i,P,"x",s,e);else{var oe=e._xsize/s.w,be=e.x+(e._xshift-e.xshift)/s.w-oe/2;le=L_.align(be+P/s.w,oe,0,1,e.xanchor)}if(a)V=Cp(a,z,"y",s,e);else{var xe=e._ysize/s.h,Ge=e.y-(e._yshift+e.yshift)/s.h-xe/2;V=L_.align(Ge-z/s.h,xe,0,1,e.yanchor)}h("x",le),h("y",V),(!i||!a)&&(Q=L_.getCursor(i?.5:le,a?.5:V,e.xanchor,e.yanchor))}x.attr({transform:zq(P,z)+ut}),Hq(C,Q)},clickFn:function(P,z){e.captureevents&&t.emit("plotly_clickannotation",_(z))},doneFn:function(){Hq(C),Pq.call("_guiRelayout",t,p());var P=document.querySelector(".js-notes-box-panel");P&&P.redraw(P.selectedObj)}})}}l.annotationText?N.call(Fq.makeEditable,{delegate:C,gd:t}).call(U).on("edit",function($){e.text=$,this.call(U),h("text",$),i&&i.autorange&&f(i._name+".autorange",!0),a&&a.autorange&&f(a._name+".autorange",!0),Pq.call("_guiRelayout",t,p())}):N.call(U)}});var Mye=J((Iwt,Aye)=>{"use strict";var Cye=Qe(),fKe=Xt(),kye=On().arrayEditor;Aye.exports={hasClickToShow:hKe,onClick:pKe};function hKe(t,e){var r=Dye(t,e);return r.on.length>0||r.explicitOff.length>0}function pKe(t,e){var r=Dye(t,e),n=r.on,i=r.off.concat(r.explicitOff),a={},o=t._fullLayout.annotations,s,l;if(n.length||i.length){for(s=0;s<n.length;s++)l=kye(t.layout,"annotations",o[n[s]]),l.modifyItem("visible",!0),Cye.extendFlat(a,l.getUpdateObj());for(s=0;s<i.length;s++)l=kye(t.layout,"annotations",o[i[s]]),l.modifyItem("visible",!1),Cye.extendFlat(a,l.getUpdateObj());return fKe.call("update",t,{},a)}}function Dye(t,e){var r=t._fullLayout.annotations,n=[],i=[],a=[],o=(e||[]).length,s,l,c,u,d,f,h,p;for(s=0;s<r.length;s++)if(c=r[s],u=c.clicktoshow,u){for(l=0;l<o;l++)if(d=e[l],f=d.xaxis,h=d.yaxis,f._id===c.xref&&h._id===c.yref&&f.d2r(d.x)===Eye(c._xclick,f)&&h.d2r(d.y)===Eye(c._yclick,h)){c.visible?u==="onout"?p=i:p=a:p=n,p.push(s);break}l===o&&c.visible&&u==="onout"&&i.push(s)}return{on:n,off:i,explicitOff:a}}function Eye(t,e){return e.type==="log"?e.l2r(t):e.d2r(t)}});var Uq=J((Nwt,Rye)=>{"use strict";var qq=Qe(),Ub=gr();Rye.exports=function(e,r,n,i){i("opacity");var a=i("bgcolor"),o=i("bordercolor"),s=Ub.opacity(o);i("borderpad");var l=i("borderwidth"),c=i("showarrow");i("text",c?" ":n._dfltTitle.annotation),i("textangle"),qq.coerceFont(i,"font",n.font),i("width"),i("align");var u=i("height");if(u&&i("valign"),c){var d=i("arrowside"),f,h;d.indexOf("end")!==-1&&(f=i("arrowhead"),h=i("arrowsize")),d.indexOf("start")!==-1&&(i("startarrowhead",f),i("startarrowsize",h)),i("arrowcolor",s?r.bordercolor:Ub.defaultLine),i("arrowwidth",(s&&l||1)*2),i("standoff"),i("startstandoff")}var p=i("hovertext"),m=n.hoverlabel||{};if(p){var v=i("hoverlabel.bgcolor",m.bgcolor||(Ub.opacity(a)?Ub.rgb(a):Ub.defaultLine)),y=i("hoverlabel.bordercolor",m.bordercolor||Ub.contrast(v)),b=qq.extendFlat({},m.font);b.color||(b.color=y),qq.coerceFont(i,"hoverlabel.font",b)}i("captureevents",!!p)}});var Nye=J((Lwt,Iye)=>{"use strict";var Bq=Qe(),Kv=gn(),mKe=Hc(),vKe=Uq(),gKe=Rb();Iye.exports=function(e,r){mKe(e,r,{name:"annotations",handleItemDefaults:yKe})};function yKe(t,e,r){function n(x,w){return Bq.coerce(t,e,gKe,x,w)}var i=n("visible"),a=n("clicktoshow");if(i||a){vKe(t,e,r,n);for(var o=e.showarrow,s=["x","y"],l=[-10,-30],c={_fullLayout:r},u=0;u<2;u++){var d=s[u],f=Kv.coerceRef(t,e,c,d,"","paper");if(f!=="paper"){var h=Kv.getFromId(c,f);h._annIndices.push(e._index)}if(Kv.coercePosition(e,c,n,f,d,.5),o){var p="a"+d,m=Kv.coerceRef(t,e,c,p,"pixel",["pixel","paper"]);m!=="pixel"&&m!==f&&(m=e[p]="pixel");var v=m==="pixel"?l[u]:.4;Kv.coercePosition(e,c,n,m,p,v)}n(d+"anchor"),n(d+"shift")}if(Bq.noneOrAll(t,e,["x","y"]),o&&Bq.noneOrAll(t,e,["ax","ay"]),a){var y=n("xclick"),b=n("yclick");e._xclick=y===void 0?e.x:Kv.cleanPosition(y,c,e.xref),e._yclick=b===void 0?e.y:Kv.cleanPosition(b,c,e.yref)}}}});var Pye=J((Owt,Oye)=>{"use strict";var jq=Qe(),Qv=gn(),bKe=U5().draw;Oye.exports=function(e){var r=e._fullLayout,n=jq.filterVisible(r.annotations);if(n.length&&e._fullData.length)return jq.syncOrAsync([bKe,wKe],e)};function wKe(t){var e=t._fullLayout;jq.filterVisible(e.annotations).forEach(function(r){var n=Qv.getFromId(t,r.xref),i=Qv.getFromId(t,r.yref),a=Qv.getRefType(r.xref),o=Qv.getRefType(r.yref);r._extremes={},a==="range"&&Lye(r,n),o==="range"&&Lye(r,i)})}function Lye(t,e){var r=e._id,n=r.charAt(0),i=t[n],a=t["a"+n],o=t[n+"ref"],s=t["a"+n+"ref"],l=t["_"+n+"padplus"],c=t["_"+n+"padminus"],u={x:1,y:-1}[n]*t[n+"shift"],d=3*t.arrowsize*t.arrowwidth||0,f=d+u,h=d-u,p=3*t.startarrowsize*t.arrowwidth||0,m=p+u,v=p-u,y;if(s===o){var b=Qv.findExtremes(e,[e.r2c(i)],{ppadplus:f,ppadminus:h}),x=Qv.findExtremes(e,[e.r2c(a)],{ppadplus:Math.max(l,m),ppadminus:Math.max(c,v)});y={min:[b.min[0],x.min[0]],max:[b.max[0],x.max[0]]}}else m=a?m+a:m,v=a?v-a:v,y=Qv.findExtremes(e,[e.r2c(i)],{ppadplus:Math.max(l,f,m),ppadminus:Math.max(c,h,v)});t._extremes[r]=y}});var Fye=J((Pwt,zye)=>{"use strict";var xKe=_r(),TKe=zA();zye.exports=function(e,r,n,i){r=r||{};var a=n==="log"&&r.type==="linear",o=n==="linear"&&r.type==="log";if(!(a||o))return;var s=e._fullLayout.annotations,l=r._id.charAt(0),c,u;function d(h){var p=c[h],m=null;a?m=TKe(p,r.range):m=Math.pow(10,p),xKe(m)||(m=null),i(u+h,m)}for(var f=0;f<s.length;f++)c=s[f],u="annotations["+f+"].",c[l+"ref"]===r._id&&d(l),c["a"+l+"ref"]===r._id&&d("a"+l)}});var Uye=J((zwt,qye)=>{"use strict";var Vq=U5(),Hye=Mye();qye.exports={moduleType:"component",name:"annotations",layoutAttributes:Rb(),supplyLayoutDefaults:Nye(),includeBasePlot:p_()("annotations"),calcAutorange:Pye(),draw:Vq.draw,drawOne:Vq.drawOne,drawRaw:Vq.drawRaw,hasClickToShow:Hye.hasClickToShow,onClick:Hye.onClick,convertCoords:Fye()}});var B5=J((Fwt,Bye)=>{"use strict";var Mn=Rb(),SKe=Fu().overrideAll,_Ke=On().templatedArray;Bye.exports=SKe(_Ke("annotation",{visible:Mn.visible,x:{valType:"any",description:["Sets the annotation's x position."].join(" ")},y:{valType:"any",description:["Sets the annotation's y position."].join(" ")},z:{valType:"any",description:["Sets the annotation's z position."].join(" ")},ax:{valType:"number",description:["Sets the x component of the arrow tail about the arrow head (in pixels)."].join(" ")},ay:{valType:"number",description:["Sets the y component of the arrow tail about the arrow head (in pixels)."].join(" ")},xanchor:Mn.xanchor,xshift:Mn.xshift,yanchor:Mn.yanchor,yshift:Mn.yshift,text:Mn.text,textangle:Mn.textangle,font:Mn.font,width:Mn.width,height:Mn.height,opacity:Mn.opacity,align:Mn.align,valign:Mn.valign,bgcolor:Mn.bgcolor,bordercolor:Mn.bordercolor,borderpad:Mn.borderpad,borderwidth:Mn.borderwidth,showarrow:Mn.showarrow,arrowcolor:Mn.arrowcolor,arrowhead:Mn.arrowhead,startarrowhead:Mn.startarrowhead,arrowside:Mn.arrowside,arrowsize:Mn.arrowsize,startarrowsize:Mn.startarrowsize,arrowwidth:Mn.arrowwidth,standoff:Mn.standoff,startstandoff:Mn.startstandoff,hovertext:Mn.hovertext,hoverlabel:Mn.hoverlabel,captureevents:Mn.captureevents}),"calc","from-root")});var Vye=J((Hwt,jye)=>{"use strict";var Wq=Qe(),CKe=gn(),kKe=Hc(),EKe=Uq(),DKe=B5();jye.exports=function(e,r,n){kKe(e,r,{name:"annotations",handleItemDefaults:AKe,fullLayout:n.fullLayout})};function AKe(t,e,r,n){function i(s,l){return Wq.coerce(t,e,DKe,s,l)}function a(s){var l=s+"axis",c={_fullLayout:{}};return c._fullLayout[l]=r[l],CKe.coercePosition(e,c,i,s,s,.5)}var o=i("visible");o&&(EKe(t,e,n.fullLayout,i),a("x"),a("y"),a("z"),Wq.noneOrAll(t,e,["x","y","z"]),e.xref="x",e.yref="y",e.zref="z",i("xanchor"),i("yanchor"),i("xshift"),i("yshift"),e.showarrow&&(e.axref="pixel",e.ayref="pixel",i("ax",-10),i("ay",-30),Wq.noneOrAll(t,e,["ax","ay"])))}});var Zye=J((qwt,Yye)=>{"use strict";var Wye=Qe(),Gye=gn();Yye.exports=function(e){for(var r=e.fullSceneLayout,n=r.annotations,i=0;i<n.length;i++)MKe(n[i],e);e.fullLayout._infolayer.selectAll(".annotation-"+e.id).remove()};function MKe(t,e){var r=e.fullSceneLayout,n=r.domain,i=e.fullLayout._size,a={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};t._xa={},Wye.extendFlat(t._xa,a),Gye.setConvert(t._xa),t._xa._offset=i.l+n.x[0]*i.w,t._xa.l2p=function(){return .5*(1+t._pdata[0]/t._pdata[3])*i.w*(n.x[1]-n.x[0])},t._ya={},Wye.extendFlat(t._ya,a),Gye.setConvert(t._ya),t._ya._offset=i.t+(1-n.y[1])*i.h,t._ya.l2p=function(){return .5*(1-t._pdata[1]/t._pdata[3])*i.h*(n.y[1]-n.y[0])}}});var Xye=J((Uwt,$ye)=>{"use strict";function Gq(t,e){var r=[0,0,0,0],n,i;for(n=0;n<4;++n)for(i=0;i<4;++i)r[i]+=t[4*n+i]*e[n];return r}function RKe(t,e){var r=Gq(t.projection,Gq(t.view,Gq(t.model,[e[0],e[1],e[2],1])));return r}$ye.exports=RKe});var Qye=J((Bwt,Kye)=>{"use strict";var IKe=U5().drawRaw,NKe=Xye(),LKe=["x","y","z"];Kye.exports=function(e){for(var r=e.fullSceneLayout,n=e.dataScale,i=r.annotations,a=0;a<i.length;a++){for(var o=i[a],s=!1,l=0;l<3;l++){var c=LKe[l],u=o[c],d=r[c+"axis"],f=d.r2fraction(u);if(f<0||f>1){s=!0;break}}s?e.fullLayout._infolayer.select(".annotation-"+e.id+'[data-index="'+a+'"]').remove():(o._pdata=NKe(e.glplot.cameraParams,[r.xaxis.r2l(o.x)*n[0],r.yaxis.r2l(o.y)*n[1],r.zaxis.r2l(o.z)*n[2]]),IKe(e.graphDiv,o,a,e.id,o._xa,o._ya))}}});var t0e=J((jwt,e0e)=>{"use strict";var OKe=Xt(),Jye=Qe();e0e.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:B5()}}},layoutAttributes:B5(),handleDefaults:Vye(),includeBasePlot:PKe,convert:Zye(),draw:Qye()};function PKe(t,e){var r=OKe.subplotsRegistry.gl3d;if(r)for(var n=r.attrRegex,i=Object.keys(t),a=0;a<i.length;a++){var o=i[a];n.test(o)&&(t[o].annotations||[]).length&&(Jye.pushUnique(e._basePlotModules,r),Jye.pushUnique(e._subplots.gl3d,o))}}});var Yq=J((Vwt,o0e)=>{"use strict";var r0e=Rb(),n0e=ba(),i0e=wp().line,zKe=Lc().dash,Xc=Ti().extendFlat,FKe=On().templatedArray,a0e=h_(),Bb=Ws(),HKe=Gs().shapeTexttemplateAttrs,qKe=XA();o0e.exports=FKe("shape",{visible:Xc({},Bb.visible,{editType:"calc+arraydraw",description:["Determines whether or not this shape is visible.","If *legendonly*, the shape is not drawn,","but can appear as a legend item","(provided that the legend itself is visible)."].join(" ")}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw",description:["Determines whether or not this","shape is shown in the legend."].join(" ")},legend:Xc({},Bb.legend,{editType:"calc+arraydraw",description:["Sets the reference to a legend to show this shape in.","References to these legends are *legend*, *legend2*, *legend3*, etc.","Settings for these legends are set in the layout, under","`layout.legend`, `layout.legend2`, etc."].join(" ")}),legendgroup:Xc({},Bb.legendgroup,{editType:"calc+arraydraw",description:["Sets the legend group for this shape.","Traces and shapes part of the same legend group hide/show at the same time","when toggling legend items."].join(" ")}),legendgrouptitle:{text:Xc({},Bb.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:n0e({editType:"calc+arraydraw",description:["Sets this legend group's title font."].join(" ")}),editType:"calc+arraydraw"},legendrank:Xc({},Bb.legendrank,{editType:"calc+arraydraw",description:["Sets the legend rank for this shape.","Items and groups with smaller ranks are presented on top/left side while","with *reversed* `legend.traceorder` they are on bottom/right side.","The default legendrank is 1000,","so that you can use ranks less than 1000 to place certain items before all unranked items,","and ranks greater than 1000 to go after all unranked items.","When having unranked or equal rank items shapes would be displayed after traces","i.e. according to their order in data and layout."].join(" ")}),legendwidth:Xc({},Bb.legendwidth,{editType:"calc+arraydraw",description:"Sets the width (in px or fraction) of the legend for this shape."}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw",description:["Specifies the shape type to be drawn.","If *line*, a line is drawn from (`x0`,`y0`) to (`x1`,`y1`)","with respect to the axes' sizing mode.","If *circle*, a circle is drawn from","((`x0`+`x1`)/2, (`y0`+`y1`)/2))","with radius","(|(`x0`+`x1`)/2 - `x0`|, |(`y0`+`y1`)/2 -`y0`)|)","with respect to the axes' sizing mode.","If *rect*, a rectangle is drawn linking","(`x0`,`y0`), (`x1`,`y0`), (`x1`,`y1`), (`x0`,`y1`), (`x0`,`y0`)","with respect to the axes' sizing mode.","If *path*, draw a custom SVG path using `path`.","with respect to the axes' sizing mode."].join(" ")},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw",description:["Specifies whether shapes are drawn below gridlines (*below*),","between gridlines and traces (*between*) or above traces (*above*)."].join(" ")},xref:Xc({},r0e.xref,{description:["Sets the shape's x coordinate axis.",a0e.axisRefDescription("x","left","right")].join(" ")}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw",description:["Sets the shapes's sizing mode along the x axis.","If set to *scaled*, `x0`, `x1` and x coordinates within `path` refer to","data values on the x axis or a fraction of the plot area's width","(`xref` set to *paper*).","If set to *pixel*, `xanchor` specifies the x position in terms","of data or plot fraction but `x0`, `x1` and x coordinates within `path`","are pixels relative to `xanchor`. This way, the shape can have","a fixed width while maintaining a position relative to data or","plot fraction."].join(" ")},xanchor:{valType:"any",editType:"calc+arraydraw",description:["Only relevant in conjunction with `xsizemode` set to *pixel*.","Specifies the anchor point on the x axis to which `x0`, `x1`","and x coordinates within `path` are relative to.","E.g. useful to attach a pixel sized shape to a certain data value.","No effect when `xsizemode` not set to *pixel*."].join(" ")},x0:{valType:"any",editType:"calc+arraydraw",description:["Sets the shape's starting x position.","See `type` and `xsizemode` for more info."].join(" ")},x1:{valType:"any",editType:"calc+arraydraw",description:["Sets the shape's end x position.","See `type` and `xsizemode` for more info."].join(" ")},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc",description:["Shifts `x0` away from the center of the category when `xref` is a *category* or","*multicategory* axis. -0.5 corresponds to the start of the category and 0.5","corresponds to the end of the category."].join(" ")},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc",description:["Shifts `x1` away from the center of the category when `xref` is a *category* or","*multicategory* axis. -0.5 corresponds to the start of the category and 0.5","corresponds to the end of the category."].join(" ")},yref:Xc({},r0e.yref,{description:["Sets the shape's y coordinate axis.",a0e.axisRefDescription("y","bottom","top")].join(" ")}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw",description:["Sets the shapes's sizing mode along the y axis.","If set to *scaled*, `y0`, `y1` and y coordinates within `path` refer to","data values on the y axis or a fraction of the plot area's height","(`yref` set to *paper*).","If set to *pixel*, `yanchor` specifies the y position in terms","of data or plot fraction but `y0`, `y1` and y coordinates within `path`","are pixels relative to `yanchor`. This way, the shape can have","a fixed height while maintaining a position relative to data or","plot fraction."].join(" ")},yanchor:{valType:"any",editType:"calc+arraydraw",description:["Only relevant in conjunction with `ysizemode` set to *pixel*.","Specifies the anchor point on the y axis to which `y0`, `y1`","and y coordinates within `path` are relative to.","E.g. useful to attach a pixel sized shape to a certain data value.","No effect when `ysizemode` not set to *pixel*."].join(" ")},y0:{valType:"any",editType:"calc+arraydraw",description:["Sets the shape's starting y position.","See `type` and `ysizemode` for more info."].join(" ")},y1:{valType:"any",editType:"calc+arraydraw",description:["Sets the shape's end y position.","See `type` and `ysizemode` for more info."].join(" ")},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc",description:["Shifts `y0` away from the center of the category when `yref` is a *category* or","*multicategory* axis. -0.5 corresponds to the start of the category and 0.5","corresponds to the end of the category."].join(" ")},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc",description:["Shifts `y1` away from the center of the category when `yref` is a *category* or","*multicategory* axis. -0.5 corresponds to the start of the category and 0.5","corresponds to the end of the category."].join(" ")},path:{valType:"string",editType:"calc+arraydraw",description:["For `type` *path* - a valid SVG path with the pixel values","replaced by data values in `xsizemode`/`ysizemode` being *scaled*","and taken unmodified as pixels relative to `xanchor` and `yanchor`","in case of *pixel* size mode.","There are a few restrictions / quirks","only absolute instructions, not relative. So the allowed segments","are: M, L, H, V, Q, C, T, S, and Z","arcs (A) are not allowed because radius rx and ry are relative.","In the future we could consider supporting relative commands,","but we would have to decide on how to handle date and log axes.","Note that even as is, Q and C Bezier paths that are smooth on","linear axes may not be smooth on log, and vice versa.",'no chained "polybezier" commands - specify the segment type for',"each one.","On category axes, values are numbers scaled to the serial numbers","of categories because using the categories themselves there would","be no way to describe fractional positions","On data axes: because space and T are both normal components of path","strings, we can't use either to separate date from time parts.","Therefore we'll use underscore for this purpose:","2015-02-21_13:45:56.789"].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw",description:"Sets the opacity of the shape."},line:{color:Xc({},i0e.color,{editType:"arraydraw"}),width:Xc({},i0e.width,{editType:"calc+arraydraw"}),dash:Xc({},zKe,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw",description:["Sets the color filling the shape's interior. Only applies to closed shapes."].join(" ")},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw",description:["Determines which regions of complex paths constitute the interior.","For more info please visit https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill-rule"].join(" ")},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw",description:["Determines whether the shape could be activated for edit or not.","Has no effect when the older editable shapes mode is enabled via","`config.editable` or `config.edits.shapePosition`."].join(" ")},label:{text:{valType:"string",dflt:"",editType:"arraydraw",description:["Sets the text to display with shape.","It is also used for legend item if `name` is not provided."].join(" ")},texttemplate:HKe({},{keys:Object.keys(qKe)}),font:n0e({editType:"calc+arraydraw",colorEditType:"arraydraw",description:"Sets the shape label text font."}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw",description:["Sets the position of the label text relative to the shape.","Supported values for rectangles, circles and paths are","*top left*, *top center*, *top right*, *middle left*,","*middle center*, *middle right*, *bottom left*, *bottom center*,","and *bottom right*.","Supported values for lines are *start*, *middle*, and *end*.","Default: *middle center* for rectangles, circles, and paths; *middle* for lines."].join(" ")},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw",description:["Sets the angle at which the label text is drawn","with respect to the horizontal. For lines, angle *auto*","is the same angle as the line. For all other shapes,","angle *auto* is horizontal."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw",description:["Sets the label's horizontal position anchor","This anchor binds the specified `textposition` to the *left*, *center*","or *right* of the label text.","For example, if `textposition` is set to *top right* and","`xanchor` to *right* then the right-most portion of the","label text lines up with the right-most edge of the","shape."].join(" ")},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw",description:["Sets the label's vertical position anchor","This anchor binds the specified `textposition` to the *top*, *middle*","or *bottom* of the label text.","For example, if `textposition` is set to *top right* and","`yanchor` to *top* then the top-most portion of the","label text lines up with the top-most edge of the","shape."].join(" ")},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw",description:"Sets padding (in px) between edge of label and edge of shape."},editType:"arraydraw"},editType:"arraydraw"})});var c0e=J((Wwt,l0e)=>{"use strict";var P_=Qe(),jb=gn(),UKe=Hc(),BKe=Yq(),s0e=yp();l0e.exports=function(e,r){UKe(e,r,{name:"shapes",handleItemDefaults:VKe})};function jKe(t,e){return t?"bottom":e.indexOf("top")!==-1?"top":e.indexOf("bottom")!==-1?"bottom":"middle"}function VKe(t,e,r){function n($,ee){return P_.coerce(t,e,BKe,$,ee)}e._isShape=!0;var i=n("visible");if(i){var a=n("showlegend");a&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),P_.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var o=n("path"),s=o?"path":"rect",l=n("type",s),c=l!=="path";c&&delete e.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var u=n("line.width");u&&(n("line.color"),n("line.dash"));for(var d=n("xsizemode"),f=n("ysizemode"),h=["x","y"],p=0;p<2;p++){var m=h[p],v=m+"anchor",y=m==="x"?d:f,b={_fullLayout:r},x,w,S,_=jb.coerceRef(t,e,b,m,void 0,"paper"),C=jb.getRefType(_);if(C==="range"?(x=jb.getFromId(b,_),x._shapeIndices.push(e._index),S=s0e.rangeToShapePosition(x),w=s0e.shapePositionToRange(x),(x.type==="category"||x.type==="multicategory")&&(n(m+"0shift"),n(m+"1shift"))):w=S=P_.identity,c){var E=.25,M=.75,I=m+"0",L=m+"1",O=t[I],H=t[L];t[I]=w(t[I],!0),t[L]=w(t[L],!0),y==="pixel"?(n(I,0),n(L,10)):(jb.coercePosition(e,b,n,_,I,E),jb.coercePosition(e,b,n,_,L,M)),e[I]=S(e[I]),e[L]=S(e[L]),t[I]=O,t[L]=H}if(y==="pixel"){var Y=t[v];t[v]=w(t[v],!0),jb.coercePosition(e,b,n,_,v,.25),e[v]=S(e[v]),t[v]=Y}}c&&P_.noneOrAll(t,e,["x0","x1","y0","y1"]);var K=l==="line",N,U;if(c&&(N=n("label.texttemplate")),N||(U=n("label.text")),U||N){n("label.textangle");var B=n("label.textposition",K?"middle":"middle center");n("label.xanchor"),n("label.yanchor",jKe(K,B)),n("label.padding"),P_.coerceFont(n,"label.font",r.font)}}}});var f0e=J((Gwt,d0e)=>{"use strict";var WKe=gr(),u0e=Qe();function GKe(t,e){return t?"bottom":e.indexOf("top")!==-1?"top":e.indexOf("bottom")!==-1?"bottom":"middle"}d0e.exports=function(e,r,n){n("newshape.visible"),n("newshape.name"),n("newshape.showlegend"),n("newshape.legend"),n("newshape.legendwidth"),n("newshape.legendgroup"),n("newshape.legendgrouptitle.text"),u0e.coerceFont(n,"newshape.legendgrouptitle.font"),n("newshape.legendrank"),n("newshape.drawdirection"),n("newshape.layer"),n("newshape.fillcolor"),n("newshape.fillrule"),n("newshape.opacity");var i=n("newshape.line.width");if(i){var a=(e||{}).plot_bgcolor||"#FFF";n("newshape.line.color",WKe.contrast(a)),n("newshape.line.dash")}var o=e.dragmode==="drawline",s=n("newshape.label.text"),l=n("newshape.label.texttemplate");if(s||l){n("newshape.label.textangle");var c=n("newshape.label.textposition",o?"middle":"middle center");n("newshape.label.xanchor"),n("newshape.label.yanchor",GKe(o,c)),n("newshape.label.padding"),u0e.coerceFont(n,"newshape.label.font",r.font)}n("activeshape.fillcolor"),n("activeshape.opacity")}});var g0e=J((Ywt,v0e)=>{"use strict";var Zq=Qe(),Vb=gn(),Wb=YS(),p0e=yp();v0e.exports=function(e){var r=e._fullLayout,n=Zq.filterVisible(r.shapes);if(!(!n.length||!e._fullData.length))for(var i=0;i<n.length;i++){var a=n[i];a._extremes={};var o,s,l=Vb.getRefType(a.xref),c=Vb.getRefType(a.yref);a.xref!=="paper"&&l!=="domain"&&(o=Vb.getFromId(e,a.xref),s=h0e(o,a,Wb.paramIsX),s&&(a._extremes[o._id]=Vb.findExtremes(o,s,YKe(a)))),a.yref!=="paper"&&c!=="domain"&&(o=Vb.getFromId(e,a.yref),s=h0e(o,a,Wb.paramIsY),s&&(a._extremes[o._id]=Vb.findExtremes(o,s,ZKe(a))))}};function YKe(t){return m0e(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function ZKe(t){return m0e(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function m0e(t,e,r,n,i,a){var o=t/2,s=a;if(e==="pixel"){var l=i?p0e.extractPathCoords(i,a?Wb.paramIsY:Wb.paramIsX):[r,n],c=Zq.aggNums(Math.max,null,l),u=Zq.aggNums(Math.min,null,l),d=u<0?Math.abs(u)+o:o,f=c>0?c+o:o;return{ppad:o,ppadplus:s?d:f,ppadminus:s?f:d}}else return{ppad:o}}function h0e(t,e,r){var n=t._id.charAt(0)==="x"?"x":"y",i=t.type==="category"||t.type==="multicategory",a,o,s=0,l=0,c=i?t.r2c:t.d2c,u=e[n+"sizemode"]==="scaled";if(u?(a=e[n+"0"],o=e[n+"1"],i&&(s=e[n+"0shift"],l=e[n+"1shift"])):(a=e[n+"anchor"],o=e[n+"anchor"]),a!==void 0)return[c(a)+s,c(o)+l];if(e.path){var d=1/0,f=-1/0,h=e.path.match(Wb.segmentRE),p,m,v,y,b;for(t.type==="date"&&(c=p0e.decodeDate(c)),p=0;p<h.length;p++)m=h[p],v=r[m.charAt(0)].drawn,v!==void 0&&(y=h[p].substr(1).match(Wb.paramRE),!(!y||y.length<v)&&(b=c(y[v]),b<d&&(d=b),b>f&&(f=b)));if(f>=d)return[d,f]}}});var w0e=J((Zwt,b0e)=>{"use strict";var y0e=R3();b0e.exports={moduleType:"component",name:"shapes",layoutAttributes:Yq(),supplyLayoutDefaults:c0e(),supplyDrawNewShapeDefaults:f0e(),includeBasePlot:p_()("shapes"),calcAutorange:g0e(),draw:y0e.draw,drawOne:y0e.drawOne}});var $q=J(($wt,S0e)=>{"use strict";var x0e=Ha(),$Ke=On().templatedArray,T0e=h_();S0e.exports=$Ke("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw",description:["Determines whether or not this image is visible."].join(" ")},source:{valType:"string",editType:"arraydraw",description:["Specifies the URL of the image to be used.","The URL must be accessible from the domain where the","plot code is run, and can be either relative or absolute."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw",description:["Specifies whether images are drawn below or above traces.","When `xref` and `yref` are both set to `paper`,","image is drawn below the entire plot area."].join(" ")},sizex:{valType:"number",dflt:0,editType:"arraydraw",description:["Sets the image container size horizontally.","The image will be sized based on the `position` value.","When `xref` is set to `paper`, units are sized relative","to the plot width.","When `xref` ends with ` domain`, units are sized relative","to the axis width."].join(" ")},sizey:{valType:"number",dflt:0,editType:"arraydraw",description:["Sets the image container size vertically.","The image will be sized based on the `position` value.","When `yref` is set to `paper`, units are sized relative","to the plot height.","When `yref` ends with ` domain`, units are sized relative","to the axis height."].join(" ")},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw",description:["Specifies which dimension of the image to constrain."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw",description:"Sets the opacity of the image."},x:{valType:"any",dflt:0,editType:"arraydraw",description:["Sets the image's x position.","When `xref` is set to `paper`, units are sized relative","to the plot height.","See `xref` for more info"].join(" ")},y:{valType:"any",dflt:0,editType:"arraydraw",description:["Sets the image's y position.","When `yref` is set to `paper`, units are sized relative","to the plot height.","See `yref` for more info"].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw",description:"Sets the anchor for the x position"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw",description:"Sets the anchor for the y position."},xref:{valType:"enumerated",values:["paper",x0e.idRegex.x.toString()],dflt:"paper",editType:"arraydraw",description:["Sets the images's x coordinate axis.",T0e.axisRefDescription("x","left","right")].join(" ")},yref:{valType:"enumerated",values:["paper",x0e.idRegex.y.toString()],dflt:"paper",editType:"arraydraw",description:["Sets the images's y coordinate axis.",T0e.axisRefDescription("y","bottom","top")].join(" ")},editType:"arraydraw"})});var C0e=J((Xwt,_0e)=>{"use strict";var XKe=Qe(),Xq=gn(),KKe=Hc(),QKe=$q(),JKe="images";_0e.exports=function(e,r){var n={name:JKe,handleItemDefaults:eQe};KKe(e,r,n)};function eQe(t,e,r){function n(f,h){return XKe.coerce(t,e,QKe,f,h)}var i=n("source"),a=n("visible",!!i);if(!a)return e;n("layer"),n("xanchor"),n("yanchor"),n("sizex"),n("sizey"),n("sizing"),n("opacity");for(var o={_fullLayout:r},s=["x","y"],l=0;l<2;l++){var c=s[l],u=Xq.coerceRef(t,e,o,c,"paper",void 0);if(u!=="paper"){var d=Xq.getFromId(o,u);d._imgIndices.push(e._index)}Xq.coercePosition(e,o,n,u,c,0)}return e}});var A0e=J((Kwt,D0e)=>{"use strict";var k0e=Sr(),tQe=Kr(),Gb=gn(),E0e=Wi(),rQe=cp();D0e.exports=function(e){var r=e._fullLayout,n=[],i={},a=[],o,s;for(s=0;s<r.images.length;s++){var l=r.images[s];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){o=E0e.ref2id(l.xref)+E0e.ref2id(l.yref);var c=r._plots[o];if(!c){a.push(l);continue}c.mainplot&&(o=c.mainplot.id),i[o]||(i[o]=[]),i[o].push(l)}else l.layer==="above"?n.push(l):a.push(l)}var u={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function d(w){var S=k0e.select(this);if(this._imgSrc!==w.source)if(S.attr("xmlns",rQe.svg),!e._context.staticPlot||w.source&&w.source.slice(0,5)==="data:")S.attr("xlink:href",w.source),this._imgSrc=w.source;else{var _=new Promise(function(C){var E=new Image;this.img=E,E.setAttribute("crossOrigin","anonymous"),E.onerror=M,E.onload=function(){var I=document.createElement("canvas");I.width=this.width,I.height=this.height;var L=I.getContext("2d",{willReadFrequently:!0});L.drawImage(this,0,0);var O=I.toDataURL("image/png");S.attr("xlink:href",O),C()},S.on("error",M),E.src=w.source,this._imgSrc=w.source;function M(){S.remove(),C()}}.bind(this));e._promises.push(_)}}function f(w){var S=k0e.select(this),_=Gb.getFromId(e,w.xref),C=Gb.getFromId(e,w.yref),E=Gb.getRefType(w.xref)==="domain",M=Gb.getRefType(w.yref)==="domain",I=r._size,L,O;_!==void 0?L=typeof w.xref=="string"&&E?_._length*w.sizex:Math.abs(_.l2p(w.sizex)-_.l2p(0)):L=w.sizex*I.w,C!==void 0?O=typeof w.yref=="string"&&M?C._length*w.sizey:Math.abs(C.l2p(w.sizey)-C.l2p(0)):O=w.sizey*I.h;var H=L*u.x[w.xanchor].offset,Y=O*u.y[w.yanchor].offset,K=u.x[w.xanchor].sizing+u.y[w.yanchor].sizing,N,U;switch(_!==void 0?N=typeof w.xref=="string"&&E?_._length*w.x+_._offset:_.r2p(w.x)+_._offset:N=w.x*I.w+I.l,N+=H,C!==void 0?U=typeof w.yref=="string"&&M?C._length*(1-w.y)+C._offset:C.r2p(w.y)+C._offset:U=I.h-w.y*I.h+I.t,U+=Y,w.sizing){case"fill":K+=" slice";break;case"stretch":K="none";break}S.attr({x:N,y:U,width:L,height:O,preserveAspectRatio:K,opacity:w.opacity});var B=_&&Gb.getRefType(w.xref)!=="domain"?_._id:"",$=C&&Gb.getRefType(w.yref)!=="domain"?C._id:"",ee=B+$;tQe.setClipUrl(S,ee?"clip"+r._uid+ee:null,e)}function h(w){return[w.xref,w.x,w.sizex,w.yref,w.y,w.sizey].join("_")}function p(w,S){return w._index-S._index}var m=r._imageLowerLayer.selectAll("image").data(a,h),v=r._imageUpperLayer.selectAll("image").data(n,h);m.enter().append("image"),v.enter().append("image"),m.exit().remove(),v.exit().remove(),m.each(function(w){d.bind(this)(w),f.bind(this)(w)}),v.each(function(w){d.bind(this)(w),f.bind(this)(w)}),m.sort(p),v.sort(p);var y=Object.keys(r._plots);for(s=0;s<y.length;s++){o=y[s];var b=r._plots[o];if(b.imagelayer){var x=b.imagelayer.selectAll("image").data(i[o]||[],h);x.enter().append("image"),x.exit().remove(),x.each(function(w){d.bind(this)(w),f.bind(this)(w)}),x.sort(p)}}}});var I0e=J((Qwt,R0e)=>{"use strict";var M0e=_r(),nQe=zA();R0e.exports=function(e,r,n,i){r=r||{};var a=n==="log"&&r.type==="linear",o=n==="linear"&&r.type==="log";if(a||o){for(var s=e._fullLayout.images,l=r._id.charAt(0),c,u,d=0;d<s.length;d++)if(c=s[d],u="images["+d+"].",c[l+"ref"]===r._id){var f=c[l],h=c["size"+l],p=null,m=null;if(a){p=nQe(f,r.range);var v=h/Math.pow(10,p)/2;m=2*Math.log(v+Math.sqrt(1+v*v))/Math.LN10}else p=Math.pow(10,f),m=p*(Math.pow(10,h/2)-Math.pow(10,-h/2));M0e(p)?M0e(m)||(m=null):(p=null,m=null),i(u+l,p),i(u+"size"+l,m)}}}});var L0e=J((Jwt,N0e)=>{"use strict";N0e.exports={moduleType:"component",name:"images",layoutAttributes:$q(),supplyLayoutDefaults:C0e(),includeBasePlot:p_()("images"),draw:A0e(),convertCoords:I0e()}});var j5=J((ext,O0e)=>{"use strict";O0e.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25C4",right:"\u25BA",up:"\u25B2",down:"\u25BC"}}});var Kq=J((txt,z0e)=>{"use strict";var iQe=ba(),aQe=Pu(),oQe=Ti().extendFlat,sQe=Fu().overrideAll,lQe=KA(),P0e=On().templatedArray,cQe=P0e("button",{visible:{valType:"boolean",description:"Determines whether or not this button is visible."},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle",description:["Sets the Plotly method to be called on click.","If the `skip` method is used, the API updatemenu will function as normal","but will perform no API calls and will not bind automatically to state","updates. This may be used to create a component interface and attach to","updatemenu events manually via JavaScript."].join(" ")},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on click."].join(" ")},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets a 2nd set of `args`,","these arguments values are passed to the Plotly","method set in `method` when clicking this button while in the active state.","Use this to create toggle buttons."].join(" ")},label:{valType:"string",dflt:"",description:"Sets the text label to appear on the button."},execute:{valType:"boolean",dflt:!0,description:["When true, the API method is executed. When false, all other behaviors are the same","and command execution is skipped. This may be useful when hooking into, for example,","the `plotly_buttonclicked` method and executing the API command manually without losing","the benefit of the updatemenu automatically binding to the state of the plot through the","specification of `method` and `args`."].join(" ")}});z0e.exports=sQe(P0e("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean",description:["Determines whether or not the update menu is visible."].join(" ")},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown",description:["Determines whether the buttons are accessible via a dropdown menu","or whether the buttons are stacked horizontally or vertically"].join(" ")},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down",description:["Determines the direction in which the buttons are laid out, whether","in a dropdown menu or a row/column of buttons. For `left` and `up`,","the buttons will still appear in left-to-right or top-to-bottom order","respectively."].join(" ")},active:{valType:"integer",min:-1,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},showactive:{valType:"boolean",dflt:!0,description:"Highlights active dropdown item or active button if true."},buttons:cQe,x:{valType:"number",min:-2,max:3,dflt:-.05,description:"Sets the x position (in normalized coordinates) of the update menu."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right",description:["Sets the update menu's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:1,description:"Sets the y position (in normalized coordinates) of the update menu."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",description:["Sets the update menu's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},pad:oQe(lQe({editType:"arraydraw"}),{description:"Sets the padding around the buttons or dropdown menu."}),font:iQe({description:"Sets the font of the update menu button text."}),bgcolor:{valType:"color",description:"Sets the background color of the update menu buttons."},bordercolor:{valType:"color",dflt:aQe.borderLine,description:"Sets the color of the border enclosing the update menu."},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw",description:"Sets the width (in px) of the border enclosing the update menu."}}),"arraydraw","from-root")});var U0e=J((rxt,q0e)=>{"use strict";var V5=Qe(),F0e=Hc(),H0e=Kq(),uQe=j5(),dQe=uQe.name,fQe=H0e.buttons;q0e.exports=function(e,r){var n={name:dQe,handleItemDefaults:hQe};F0e(e,r,n)};function hQe(t,e,r){function n(o,s){return V5.coerce(t,e,H0e,o,s)}var i=F0e(t,e,{name:"buttons",handleItemDefaults:pQe}),a=n("visible",i.length>0);a&&(n("active"),n("direction"),n("type"),n("showactive"),n("x"),n("y"),V5.noneOrAll(t,e,["x","y"]),n("xanchor"),n("yanchor"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),V5.coerceFont(n,"font",r.font),n("bgcolor",r.paper_bgcolor),n("bordercolor"),n("borderwidth"))}function pQe(t,e){function r(i,a){return V5.coerce(t,e,fQe,i,a)}var n=r("visible",t.method==="skip"||Array.isArray(t.args));n&&(r("method"),r("args"),r("args2"),r("label"),r("execute"))}});var V0e=J((nxt,j0e)=>{"use strict";j0e.exports=Zn;var Kc=Sr(),B0e=gr(),Yb=Kr(),W5=Qe();function Zn(t,e,r){this.gd=t,this.container=e,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}Zn.barWidth=2;Zn.barLength=20;Zn.barRadius=2;Zn.barPad=1;Zn.barColor="#808BA4";Zn.prototype.enable=function(e,r,n){var i=this.gd._fullLayout,a=i.width,o=i.height;this.position=e;var s=this.position.l,l=this.position.w,c=this.position.t,u=this.position.h,d=this.position.direction,f=d==="down",h=d==="left",p=d==="right",m=d==="up",v=l,y=u,b,x,w,S;!f&&!h&&!p&&!m&&(this.position.direction="down",f=!0);var _=f||m;_?(b=s,x=b+v,f?(w=c,S=Math.min(w+y,o),y=S-w):(S=c+y,w=Math.max(S-y,0),y=S-w)):(w=c,S=w+y,h?(x=s+v,b=Math.max(x-v,0),v=x-b):(b=s,x=Math.min(b+v,a),v=x-b)),this._box={l:b,t:w,w:v,h:y};var C=l>v,E=Zn.barLength+2*Zn.barPad,M=Zn.barWidth+2*Zn.barPad,I=s,L=c+u;L+M>o&&(L=o-M);var O=this.container.selectAll("rect.scrollbar-horizontal").data(C?[0]:[]);O.exit().on(".drag",null).remove(),O.enter().append("rect").classed("scrollbar-horizontal",!0).call(B0e.fill,Zn.barColor),C?(this.hbar=O.attr({rx:Zn.barRadius,ry:Zn.barRadius,x:I,y:L,width:E,height:M}),this._hbarXMin=I+E/2,this._hbarTranslateMax=v-E):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var H=u>y,Y=Zn.barWidth+2*Zn.barPad,K=Zn.barLength+2*Zn.barPad,N=s+l,U=c;N+Y>a&&(N=a-Y);var B=this.container.selectAll("rect.scrollbar-vertical").data(H?[0]:[]);B.exit().on(".drag",null).remove(),B.enter().append("rect").classed("scrollbar-vertical",!0).call(B0e.fill,Zn.barColor),H?(this.vbar=B.attr({rx:Zn.barRadius,ry:Zn.barRadius,x:N,y:U,width:Y,height:K}),this._vbarYMin=U+K/2,this._vbarTranslateMax=y-K):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var $=this.id,ee=b-.5,te=H?x+Y+.5:x+.5,he=w-.5,we=C?S+M+.5:S+.5,Te=i._topdefs.selectAll("#"+$).data(C||H?[0]:[]);if(Te.exit().remove(),Te.enter().append("clipPath").attr("id",$).append("rect"),C||H?(this._clipRect=Te.select("rect").attr({x:Math.floor(ee),y:Math.floor(he),width:Math.ceil(te)-Math.floor(ee),height:Math.ceil(we)-Math.floor(he)}),this.container.call(Yb.setClipUrl,$,this.gd),this.bg.attr({x:s,y:c,width:l,height:u})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(Yb.setClipUrl,null),delete this._clipRect),C||H){var ce=Kc.behavior.drag().on("dragstart",function(){Kc.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(ce);var q=Kc.behavior.drag().on("dragstart",function(){Kc.event.sourceEvent.preventDefault(),Kc.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));C&&this.hbar.on(".drag",null).call(q),H&&this.vbar.on(".drag",null).call(q)}this.setTranslate(r,n)};Zn.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(Yb.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)};Zn.prototype._onBoxDrag=function(){var e=this.translateX,r=this.translateY;this.hbar&&(e-=Kc.event.dx),this.vbar&&(r-=Kc.event.dy),this.setTranslate(e,r)};Zn.prototype._onBoxWheel=function(){var e=this.translateX,r=this.translateY;this.hbar&&(e+=Kc.event.deltaY),this.vbar&&(r+=Kc.event.deltaY),this.setTranslate(e,r)};Zn.prototype._onBarDrag=function(){var e=this.translateX,r=this.translateY;if(this.hbar){var n=e+this._hbarXMin,i=n+this._hbarTranslateMax,a=W5.constrain(Kc.event.x,n,i),o=(a-n)/(i-n),s=this.position.w-this._box.w;e=o*s}if(this.vbar){var l=r+this._vbarYMin,c=l+this._vbarTranslateMax,u=W5.constrain(Kc.event.y,l,c),d=(u-l)/(c-l),f=this.position.h-this._box.h;r=d*f}this.setTranslate(e,r)};Zn.prototype.setTranslate=function(e,r){var n=this.position.w-this._box.w,i=this.position.h-this._box.h;if(e=W5.constrain(e||0,0,n),r=W5.constrain(r||0,0,i),this.translateX=e,this.translateY=r,this.container.call(Yb.setTranslate,this._box.l-this.position.l-e,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+e-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar){var a=e/n;this.hbar.call(Yb.setTranslate,e+a*this._hbarTranslateMax,r)}if(this.vbar){var o=r/i;this.vbar.call(Yb.setTranslate,e,r+o*this._vbarTranslateMax)}}});var ebe=J((ixt,J0e)=>{"use strict";var Zb=Sr(),z_=ki(),F_=gr(),$b=Kr(),el=Qe(),G5=wa(),mQe=On().arrayEditor,G0e=ao().LINE_SPACING,nr=j5(),vQe=V0e();J0e.exports=function(e){var r=e._fullLayout,n=el.filterVisible(r[nr.name]);function i(f){z_.autoMargin(e,K0e(f))}var a=r._menulayer.selectAll("g."+nr.containerClassName).data(n.length>0?[0]:[]);if(a.enter().append("g").classed(nr.containerClassName,!0).style("cursor","pointer"),a.exit().each(function(){Zb.select(this).selectAll("g."+nr.headerGroupClassName).each(i)}).remove(),n.length!==0){var o=a.selectAll("g."+nr.headerGroupClassName).data(n,gQe);o.enter().append("g").classed(nr.headerGroupClassName,!0);for(var s=el.ensureSingle(a,"g",nr.dropdownButtonGroupClassName,function(f){f.style("pointer-events","all")}),l=0;l<n.length;l++){var c=n[l];SQe(e,c)}var u="updatemenus"+r._uid,d=new vQe(e,s,u);o.enter().size()&&(s.node().parentNode.appendChild(s.node()),s.call(Jq)),o.exit().each(function(f){s.call(Jq),i(f)}).remove(),o.each(function(f){var h=Zb.select(this),p=f.type==="dropdown"?s:null;z_.manageCommandObserver(e,f,f.buttons,function(m){Qq(e,f,f.buttons[m.index],h,p,d,m.index,!0)}),f.type==="dropdown"?(Z0e(e,h,s,d,f),Y0e(s,f)&&H_(e,h,s,d,f)):H_(e,h,null,null,f)})}};function gQe(t){return t._index}function yQe(t){return+t.attr(nr.menuIndexAttrName)==-1}function Y0e(t,e){return+t.attr(nr.menuIndexAttrName)===e._index}function Qq(t,e,r,n,i,a,o,s){e.active=o,mQe(t.layout,nr.name,e).applyUpdate("active",o),e.type==="buttons"?H_(t,n,null,null,e):e.type==="dropdown"&&(i.attr(nr.menuIndexAttrName,"-1"),Z0e(t,n,i,a,e),s||H_(t,n,i,a,e))}function Z0e(t,e,r,n,i){var a=el.ensureSingle(e,"g",nr.headerClassName,function(f){f.style("pointer-events","all")}),o=i._dims,s=i.active,l=i.buttons[s]||nr.blankHeaderOpts,c={y:i.pad.t,yPad:0,x:i.pad.l,xPad:0,index:0},u={width:o.headerWidth,height:o.headerHeight};a.call(eU,i,l,t).call(Q0e,i,c,u);var d=el.ensureSingle(e,"text",nr.headerArrowClassName,function(f){f.attr("text-anchor","end").call($b.font,i.font).text(nr.arrowSymbol[i.direction])});d.attr({x:o.headerWidth-nr.arrowOffsetX+i.pad.l,y:o.headerHeight/2+nr.textOffsetY+i.pad.t}),a.on("click",function(){r.call(Jq,String(Y0e(r,i)?-1:i._index)),H_(t,e,r,n,i)}),a.on("mouseover",function(){a.call($0e)}),a.on("mouseout",function(){a.call(X0e,i)}),$b.setTranslate(e,o.lx,o.ly)}function H_(t,e,r,n,i){r||(r=e,r.attr("pointer-events","all"));var a=!yQe(r)||i.type==="buttons"?i.buttons:[],o=i.type==="dropdown"?nr.dropdownButtonClassName:nr.buttonClassName,s=r.selectAll("g."+o).data(el.filterVisible(a)),l=s.enter().append("g").classed(o,!0),c=s.exit();i.type==="dropdown"?(l.attr("opacity","0").transition().attr("opacity","1"),c.transition().attr("opacity","0").remove()):c.remove();var u=0,d=0,f=i._dims,h=["up","down"].indexOf(i.direction)!==-1;i.type==="dropdown"&&(h?d=f.headerHeight+nr.gapButtonHeader:u=f.headerWidth+nr.gapButtonHeader),i.type==="dropdown"&&i.direction==="up"&&(d=-nr.gapButtonHeader+nr.gapButton-f.openHeight),i.type==="dropdown"&&i.direction==="left"&&(u=-nr.gapButtonHeader+nr.gapButton-f.openWidth);var p={x:f.lx+u+i.pad.l,y:f.ly+d+i.pad.t,yPad:nr.gapButton,xPad:nr.gapButton,index:0},m={l:p.x+i.borderwidth,t:p.y+i.borderwidth};s.each(function(v,y){var b=Zb.select(this);b.call(eU,i,v,t).call(Q0e,i,p),b.on("click",function(){Zb.event.defaultPrevented||(v.execute&&(v.args2&&i.active===y?(Qq(t,i,v,e,r,n,-1),z_.executeAPICommand(t,v.method,v.args2)):(Qq(t,i,v,e,r,n,y),z_.executeAPICommand(t,v.method,v.args))),t.emit("plotly_buttonclicked",{menu:i,button:v,active:i.active}))}),b.on("mouseover",function(){b.call($0e)}),b.on("mouseout",function(){b.call(X0e,i),s.call(W0e,i)})}),s.call(W0e,i),h?(m.w=Math.max(f.openWidth,f.headerWidth),m.h=p.y-m.t):(m.w=p.x-m.l,m.h=Math.max(f.openHeight,f.headerHeight)),m.direction=i.direction,n&&(s.size()?bQe(t,e,r,n,i,m):wQe(n))}function bQe(t,e,r,n,i,a){var o=i.direction,s=o==="up"||o==="down",l=i._dims,c=i.active,u,d,f;if(s)for(d=0,f=0;f<c;f++)d+=l.heights[f]+nr.gapButton;else for(u=0,f=0;f<c;f++)u+=l.widths[f]+nr.gapButton;n.enable(a,u,d),n.hbar&&n.hbar.attr("opacity","0").transition().attr("opacity","1"),n.vbar&&n.vbar.attr("opacity","0").transition().attr("opacity","1")}function wQe(t){var e=!!t.hbar,r=!!t.vbar;e&&t.hbar.transition().attr("opacity","0").each("end",function(){e=!1,r||t.disable()}),r&&t.vbar.transition().attr("opacity","0").each("end",function(){r=!1,e||t.disable()})}function eU(t,e,r,n){t.call(xQe,e).call(TQe,e,r,n)}function xQe(t,e){var r=el.ensureSingle(t,"rect",nr.itemRectClassName,function(n){n.attr({rx:nr.rx,ry:nr.ry,"shape-rendering":"crispEdges"})});r.call(F_.stroke,e.bordercolor).call(F_.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px")}function TQe(t,e,r,n){var i=el.ensureSingle(t,"text",nr.itemTextClassName,function(s){s.attr({"text-anchor":"start","data-notex":1})}),a=r.label,o=n._fullLayout._meta;o&&(a=el.templateString(a,o)),i.call($b.font,e.font).text(a).call(G5.convertToTspans,n)}function W0e(t,e){var r=e.active;t.each(function(n,i){var a=Zb.select(this);i===r&&e.showactive&&a.select("rect."+nr.itemRectClassName).call(F_.fill,nr.activeColor)})}function $0e(t){t.select("rect."+nr.itemRectClassName).call(F_.fill,nr.hoverColor)}function X0e(t,e){t.select("rect."+nr.itemRectClassName).call(F_.fill,e.bgcolor)}function SQe(t,e){var r=e._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},n=$b.tester.selectAll("g."+nr.dropdownButtonClassName).data(el.filterVisible(e.buttons));n.enter().append("g").classed(nr.dropdownButtonClassName,!0);var i=["up","down"].indexOf(e.direction)!==-1;n.each(function(u,d){var f=Zb.select(this);f.call(eU,e,u,t);var h=f.select("."+nr.itemTextClassName),p=h.node()&&$b.bBox(h.node()).width,m=Math.max(p+nr.textPadX,nr.minWidth),v=e.font.size*G0e,y=G5.lineCount(h),b=Math.max(v*y,nr.minHeight)+nr.textOffsetY;b=Math.ceil(b),m=Math.ceil(m),r.widths[d]=m,r.heights[d]=b,r.height1=Math.max(r.height1,b),r.width1=Math.max(r.width1,m),i?(r.totalWidth=Math.max(r.totalWidth,m),r.openWidth=r.totalWidth,r.totalHeight+=b+nr.gapButton,r.openHeight+=b+nr.gapButton):(r.totalWidth+=m+nr.gapButton,r.openWidth+=m+nr.gapButton,r.totalHeight=Math.max(r.totalHeight,b),r.openHeight=r.totalHeight)}),i?r.totalHeight-=nr.gapButton:r.totalWidth-=nr.gapButton,r.headerWidth=r.width1+nr.arrowPadX,r.headerHeight=r.height1,e.type==="dropdown"&&(i?(r.width1+=nr.arrowPadX,r.totalHeight=r.height1):r.totalWidth=r.width1,r.totalWidth+=nr.arrowPadX),n.remove();var a=r.totalWidth+e.pad.l+e.pad.r,o=r.totalHeight+e.pad.t+e.pad.b,s=t._fullLayout._size;r.lx=s.l+s.w*e.x,r.ly=s.t+s.h*(1-e.y);var l="left";el.isRightAnchor(e)&&(r.lx-=a,l="right"),el.isCenterAnchor(e)&&(r.lx-=a/2,l="center");var c="top";el.isBottomAnchor(e)&&(r.ly-=o,c="bottom"),el.isMiddleAnchor(e)&&(r.ly-=o/2,c="middle"),r.totalWidth=Math.ceil(r.totalWidth),r.totalHeight=Math.ceil(r.totalHeight),r.lx=Math.round(r.lx),r.ly=Math.round(r.ly),z_.autoMargin(t,K0e(e),{x:e.x,y:e.y,l:a*({right:1,center:.5}[l]||0),r:a*({left:1,center:.5}[l]||0),b:o*({top:1,middle:.5}[c]||0),t:o*({bottom:1,middle:.5}[c]||0)})}function K0e(t){return nr.autoMarginIdRoot+t._index}function Q0e(t,e,r,n){n=n||{};var i=t.select("."+nr.itemRectClassName),a=t.select("."+nr.itemTextClassName),o=e.borderwidth,s=r.index,l=e._dims;$b.setTranslate(t,o+r.x,o+r.y);var c=["up","down"].indexOf(e.direction)!==-1,u=n.height||(c?l.heights[s]:l.height1);i.attr({x:0,y:0,width:n.width||(c?l.width1:l.widths[s]),height:u});var d=e.font.size*G0e,f=G5.lineCount(a),h=(f-1)*d/2;G5.positionText(a,nr.textOffsetX,u/2-h+nr.textOffsetY),c?r.y+=l.heights[s]+r.yPad:r.x+=l.widths[s]+r.xPad,r.index++}function Jq(t,e){t.attr(nr.menuIndexAttrName,e||"-1").selectAll("g."+nr.dropdownButtonClassName).remove()}});var rbe=J((axt,tbe)=>{"use strict";var _Qe=j5();tbe.exports={moduleType:"component",name:_Qe.name,layoutAttributes:Kq(),supplyLayoutDefaults:U0e(),draw:ebe()}});var q_=J((oxt,nbe)=>{"use strict";nbe.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}});var tU=J((sxt,obe)=>{"use strict";var ibe=ba(),CQe=KA(),kQe=Ti().extendDeepAll,EQe=Fu().overrideAll,DQe=gS(),abe=On().templatedArray,Jv=q_(),AQe=abe("step",{visible:{valType:"boolean",dflt:!0,description:["Determines whether or not this step is included in the slider."].join(" ")},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle",description:["Sets the Plotly method to be called when the slider value is changed.","If the `skip` method is used, the API slider will function as normal","but will perform no API calls and will not bind automatically to state","updates. This may be used to create a component interface and attach to","slider events manually via JavaScript."].join(" ")},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on slide."].join(" ")},label:{valType:"string",description:"Sets the text label to appear on the slider"},value:{valType:"string",description:["Sets the value of the slider step, used to refer to the step programatically.","Defaults to the slider label if not provided."].join(" ")},execute:{valType:"boolean",dflt:!0,description:["When true, the API method is executed. When false, all other behaviors are the same","and command execution is skipped. This may be useful when hooking into, for example,","the `plotly_sliderchange` method and executing the API command manually without losing","the benefit of the slider automatically binding to the state of the plot through the","specification of `method` and `args`."].join(" ")}});obe.exports=EQe(abe("slider",{visible:{valType:"boolean",dflt:!0,description:["Determines whether or not the slider is visible."].join(" ")},active:{valType:"number",min:0,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},steps:AQe,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction",description:["Determines whether this slider length","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,description:["Sets the length of the slider","This measure excludes the padding of both ends.","That is, the slider's length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",min:-2,max:3,dflt:0,description:"Sets the x position (in normalized coordinates) of the slider."},pad:kQe(CQe({editType:"arraydraw"}),{description:"Set the padding of the slider component along each side."},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",description:["Sets the slider's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:0,description:"Sets the y position (in normalized coordinates) of the slider."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",description:["Sets the slider's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},transition:{duration:{valType:"number",min:0,dflt:150,description:"Sets the duration of the slider transition"},easing:{valType:"enumerated",values:DQe.transition.easing.values,dflt:"cubic-in-out",description:"Sets the easing function of the slider transition"}},currentvalue:{visible:{valType:"boolean",dflt:!0,description:["Shows the currently-selected value above the slider."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",description:["The alignment of the value readout relative to the length of the slider."].join(" ")},offset:{valType:"number",dflt:10,description:["The amount of space, in pixels, between the current value label","and the slider."].join(" ")},prefix:{valType:"string",description:"When currentvalue.visible is true, this sets the prefix of the label."},suffix:{valType:"string",description:"When currentvalue.visible is true, this sets the suffix of the label."},font:ibe({description:"Sets the font of the current value label text."})},font:ibe({description:"Sets the font of the slider step labels."}),activebgcolor:{valType:"color",dflt:Jv.gripBgActiveColor,description:["Sets the background color of the slider grip","while dragging."].join(" ")},bgcolor:{valType:"color",dflt:Jv.railBgColor,description:"Sets the background color of the slider."},bordercolor:{valType:"color",dflt:Jv.railBorderColor,description:"Sets the color of the border enclosing the slider."},borderwidth:{valType:"number",min:0,dflt:Jv.railBorderWidth,description:"Sets the width (in px) of the border enclosing the slider."},ticklen:{valType:"number",min:0,dflt:Jv.tickLength,description:"Sets the length in pixels of step tick marks"},tickcolor:{valType:"color",dflt:Jv.tickColor,description:"Sets the color of the border enclosing the slider."},tickwidth:{valType:"number",min:0,dflt:1,description:"Sets the tick width (in px)."},minorticklen:{valType:"number",min:0,dflt:Jv.minorTickLength,description:"Sets the length in pixels of minor step tick marks"}}),"arraydraw","from-root")});var ube=J((lxt,cbe)=>{"use strict";var Xb=Qe(),sbe=Hc(),lbe=tU(),MQe=q_(),RQe=MQe.name,IQe=lbe.steps;cbe.exports=function(e,r){sbe(e,r,{name:RQe,handleItemDefaults:NQe})};function NQe(t,e,r){function n(d,f){return Xb.coerce(t,e,lbe,d,f)}for(var i=sbe(t,e,{name:"steps",handleItemDefaults:LQe}),a=0,o=0;o<i.length;o++)i[o].visible&&a++;var s;if(a<2?s=e.visible=!1:s=n("visible"),!!s){e._stepCount=a;var l=e._visibleSteps=Xb.filterVisible(i),c=n("active");(i[c]||{}).visible||(e.active=l[0]._index),n("x"),n("y"),Xb.noneOrAll(t,e,["x","y"]),n("xanchor"),n("yanchor"),n("len"),n("lenmode"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),Xb.coerceFont(n,"font",r.font);var u=n("currentvalue.visible");u&&(n("currentvalue.xanchor"),n("currentvalue.prefix"),n("currentvalue.suffix"),n("currentvalue.offset"),Xb.coerceFont(n,"currentvalue.font",e.font)),n("transition.duration"),n("transition.easing"),n("bgcolor"),n("activebgcolor"),n("bordercolor"),n("borderwidth"),n("ticklen"),n("tickwidth"),n("tickcolor"),n("minorticklen")}}function LQe(t,e){function r(a,o){return Xb.coerce(t,e,IQe,a,o)}var n;if(t.method!=="skip"&&!Array.isArray(t.args)?n=e.visible=!1:n=r("visible"),n){r("method"),r("args");var i=r("label","step-"+e._index);r("value",i),r("execute")}}});var wbe=J((cxt,bbe)=>{"use strict";var Qc=Sr(),Y5=ki(),Ep=gr(),Jc=Kr(),tl=Qe(),OQe=tl.strTranslate,U_=wa(),PQe=On().arrayEditor,xr=q_(),iU=ao(),hbe=iU.LINE_SPACING,rU=iU.FROM_TL,nU=iU.FROM_BR;bbe.exports=function(e){var r=e._context.staticPlot,n=e._fullLayout,i=zQe(n,e),a=n._infolayer.selectAll("g."+xr.containerClassName).data(i.length>0?[0]:[]);a.enter().append("g").classed(xr.containerClassName,!0).style("cursor",r?null:"ew-resize");function o(u){u._commandObserver&&(u._commandObserver.remove(),delete u._commandObserver),Y5.autoMargin(e,pbe(u))}if(a.exit().each(function(){Qc.select(this).selectAll("g."+xr.groupClassName).each(o)}).remove(),i.length!==0){var s=a.selectAll("g."+xr.groupClassName).data(i,FQe);s.enter().append("g").classed(xr.groupClassName,!0),s.exit().each(o).remove();for(var l=0;l<i.length;l++){var c=i[l];HQe(e,c)}s.each(function(u){var d=Qc.select(this);VQe(u),Y5.manageCommandObserver(e,u,u._visibleSteps,function(f){var h=d.data()[0];h.active!==f.index&&(h._dragging||vbe(e,d,h,f.index,!1,!0))}),qQe(e,Qc.select(this),u)})}};function pbe(t){return xr.autoMarginIdRoot+t._index}function zQe(t,e){for(var r=t[xr.name],n=[],i=0;i<r.length;i++){var a=r[i];a.visible&&(a._gd=e,n.push(a))}return n}function FQe(t){return t._index}function HQe(t,e){var r=Jc.tester.selectAll("g."+xr.labelGroupClass).data(e._visibleSteps);r.enter().append("g").classed(xr.labelGroupClass,!0);var n=0,i=0;r.each(function(p){var m=Qc.select(this),v=mbe(m,{step:p},e),y=v.node();if(y){var b=Jc.bBox(y);i=Math.max(i,b.height),n=Math.max(n,b.width)}}),r.remove();var a=e._dims={};a.inputAreaWidth=Math.max(xr.railWidth,xr.gripHeight);var o=t._fullLayout._size;a.lx=o.l+o.w*e.x,a.ly=o.t+o.h*(1-e.y),e.lenmode==="fraction"?a.outerLength=Math.round(o.w*e.len):a.outerLength=e.len,a.inputAreaStart=0,a.inputAreaLength=Math.round(a.outerLength-e.pad.l-e.pad.r);var s=a.inputAreaLength-2*xr.stepInset,l=s/(e._stepCount-1),c=n+xr.labelPadding;if(a.labelStride=Math.max(1,Math.ceil(c/l)),a.labelHeight=i,a.currentValueMaxWidth=0,a.currentValueHeight=0,a.currentValueTotalHeight=0,a.currentValueMaxLines=1,e.currentvalue.visible){var u=Jc.tester.append("g");r.each(function(p){var m=Z5(u,e,p.label),v=m.node()&&Jc.bBox(m.node())||{width:0,height:0},y=U_.lineCount(m);a.currentValueMaxWidth=Math.max(a.currentValueMaxWidth,Math.ceil(v.width)),a.currentValueHeight=Math.max(a.currentValueHeight,Math.ceil(v.height)),a.currentValueMaxLines=Math.max(a.currentValueMaxLines,y)}),a.currentValueTotalHeight=a.currentValueHeight+e.currentvalue.offset,u.remove()}a.height=a.currentValueTotalHeight+xr.tickOffset+e.ticklen+xr.labelOffset+a.labelHeight+e.pad.t+e.pad.b;var d="left";tl.isRightAnchor(e)&&(a.lx-=a.outerLength,d="right"),tl.isCenterAnchor(e)&&(a.lx-=a.outerLength/2,d="center");var f="top";tl.isBottomAnchor(e)&&(a.ly-=a.height,f="bottom"),tl.isMiddleAnchor(e)&&(a.ly-=a.height/2,f="middle"),a.outerLength=Math.ceil(a.outerLength),a.height=Math.ceil(a.height),a.lx=Math.round(a.lx),a.ly=Math.round(a.ly);var h={y:e.y,b:a.height*nU[f],t:a.height*rU[f]};e.lenmode==="fraction"?(h.l=0,h.xl=e.x-e.len*rU[d],h.r=0,h.xr=e.x+e.len*nU[d]):(h.x=e.x,h.l=a.outerLength*rU[d],h.r=a.outerLength*nU[d]),Y5.autoMargin(t,pbe(e),h)}function qQe(t,e,r){(r.steps[r.active]||{}).visible||(r.active=r._visibleSteps[0]._index),e.call(Z5,r).call(GQe,r).call(BQe,r).call(jQe,r).call(WQe,t,r).call(UQe,t,r);var n=r._dims;Jc.setTranslate(e,n.lx+r.pad.l,n.ly+r.pad.t),e.call(ybe,r,!1),e.call(Z5,r)}function Z5(t,e,r){if(e.currentvalue.visible){var n=e._dims,i,a;switch(e.currentvalue.xanchor){case"right":i=n.inputAreaLength-xr.currentValueInset-n.currentValueMaxWidth,a="left";break;case"center":i=n.inputAreaLength*.5,a="middle";break;default:i=xr.currentValueInset,a="left"}var o=tl.ensureSingle(t,"text",xr.labelClass,function(f){f.attr({"text-anchor":a,"data-notex":1})}),s=e.currentvalue.prefix?e.currentvalue.prefix:"";if(typeof r=="string")s+=r;else{var l=e.steps[e.active].label,c=e._gd._fullLayout._meta;c&&(l=tl.templateString(l,c)),s+=l}e.currentvalue.suffix&&(s+=e.currentvalue.suffix),o.call(Jc.font,e.currentvalue.font).text(s).call(U_.convertToTspans,e._gd);var u=U_.lineCount(o),d=(n.currentValueMaxLines+1-u)*e.currentvalue.font.size*hbe;return U_.positionText(o,i,d),o}}function UQe(t,e,r){var n=tl.ensureSingle(t,"rect",xr.gripRectClass,function(i){i.call(gbe,e,t,r).style("pointer-events","all")});n.attr({width:xr.gripWidth,height:xr.gripHeight,rx:xr.gripRadius,ry:xr.gripRadius}).call(Ep.stroke,r.bordercolor).call(Ep.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px")}function mbe(t,e,r){var n=tl.ensureSingle(t,"text",xr.labelClass,function(o){o.attr({"text-anchor":"middle","data-notex":1})}),i=e.step.label,a=r._gd._fullLayout._meta;return a&&(i=tl.templateString(i,a)),n.call(Jc.font,r.font).text(i).call(U_.convertToTspans,r._gd),n}function BQe(t,e){var r=tl.ensureSingle(t,"g",xr.labelsClass),n=e._dims,i=r.selectAll("g."+xr.labelGroupClass).data(n.labelSteps);i.enter().append("g").classed(xr.labelGroupClass,!0),i.exit().remove(),i.each(function(a){var o=Qc.select(this);o.call(mbe,a,e),Jc.setTranslate(o,aU(e,a.fraction),xr.tickOffset+e.ticklen+e.font.size*hbe+xr.labelOffset+n.currentValueTotalHeight)})}function dbe(t,e,r,n,i){var a=Math.round(n*(r._stepCount-1)),o=r._visibleSteps[a]._index;o!==r.active&&vbe(t,e,r,o,!0,i)}function vbe(t,e,r,n,i,a){var o=r.active;r.active=n,PQe(t.layout,xr.name,r).applyUpdate("active",n);var s=r.steps[r.active];e.call(ybe,r,a),e.call(Z5,r),t.emit("plotly_sliderchange",{slider:r,step:r.steps[r.active],interaction:i,previousActive:o}),s&&s.method&&i&&(e._nextMethod?(e._nextMethod.step=s,e._nextMethod.doCallback=i,e._nextMethod.doTransition=a):(e._nextMethod={step:s,doCallback:i,doTransition:a},e._nextMethodRaf=window.requestAnimationFrame(function(){var l=e._nextMethod.step;l.method&&(l.execute&&Y5.executeAPICommand(t,l.method,l.args),e._nextMethod=null,e._nextMethodRaf=null)})))}function gbe(t,e,r){if(e._context.staticPlot)return;var n=r.node(),i=Qc.select(e);function a(){return r.data()[0]}function o(){var s=a();e.emit("plotly_sliderstart",{slider:s});var l=r.select("."+xr.gripRectClass);Qc.event.stopPropagation(),Qc.event.preventDefault(),l.call(Ep.fill,s.activebgcolor);var c=fbe(s,Qc.mouse(n)[0]);dbe(e,r,s,c,!0),s._dragging=!0;function u(){var f=a(),h=fbe(f,Qc.mouse(n)[0]);dbe(e,r,f,h,!1)}i.on("mousemove",u),i.on("touchmove",u);function d(){var f=a();f._dragging=!1,l.call(Ep.fill,f.bgcolor),i.on("mouseup",null),i.on("mousemove",null),i.on("touchend",null),i.on("touchmove",null),e.emit("plotly_sliderend",{slider:f,step:f.steps[f.active]})}i.on("mouseup",d),i.on("touchend",d)}t.on("mousedown",o),t.on("touchstart",o)}function jQe(t,e){var r=t.selectAll("rect."+xr.tickRectClass).data(e._visibleSteps),n=e._dims;r.enter().append("rect").classed(xr.tickRectClass,!0),r.exit().remove(),r.attr({width:e.tickwidth+"px","shape-rendering":"crispEdges"}),r.each(function(i,a){var o=a%n.labelStride===0,s=Qc.select(this);s.attr({height:o?e.ticklen:e.minorticklen}).call(Ep.fill,e.tickcolor),Jc.setTranslate(s,aU(e,a/(e._stepCount-1))-.5*e.tickwidth,(o?xr.tickOffset:xr.minorTickOffset)+n.currentValueTotalHeight)})}function VQe(t){var e=t._dims;e.labelSteps=[];for(var r=t._stepCount,n=0;n<r;n+=e.labelStride)e.labelSteps.push({fraction:n/(r-1),step:t._visibleSteps[n]})}function ybe(t,e,r){for(var n=t.select("rect."+xr.gripRectClass),i=0,a=0;a<e._stepCount;a++)if(e._visibleSteps[a]._index===e.active){i=a;break}var o=aU(e,i/(e._stepCount-1));if(!e._invokingCommand){var s=n;r&&e.transition.duration>0&&(s=s.transition().duration(e.transition.duration).ease(e.transition.easing)),s.attr("transform",OQe(o-xr.gripWidth*.5,e._dims.currentValueTotalHeight))}}function aU(t,e){var r=t._dims;return r.inputAreaStart+xr.stepInset+(r.inputAreaLength-2*xr.stepInset)*Math.min(1,Math.max(0,e))}function fbe(t,e){var r=t._dims;return Math.min(1,Math.max(0,(e-xr.stepInset-r.inputAreaStart)/(r.inputAreaLength-2*xr.stepInset-2*r.inputAreaStart)))}function WQe(t,e,r){var n=r._dims,i=tl.ensureSingle(t,"rect",xr.railTouchRectClass,function(a){a.call(gbe,e,t,r).style("pointer-events","all")});i.attr({width:n.inputAreaLength,height:Math.max(n.inputAreaWidth,xr.tickOffset+r.ticklen+n.labelHeight)}).call(Ep.fill,r.bgcolor).attr("opacity",0),Jc.setTranslate(i,0,n.currentValueTotalHeight)}function GQe(t,e){var r=e._dims,n=r.inputAreaLength-xr.railInset*2,i=tl.ensureSingle(t,"rect",xr.railRectClass);i.attr({width:n,height:xr.railWidth,rx:xr.railRadius,ry:xr.railRadius,"shape-rendering":"crispEdges"}).call(Ep.stroke,e.bordercolor).call(Ep.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px"),Jc.setTranslate(i,xr.railInset,(r.inputAreaWidth-xr.railWidth)*.5+r.currentValueTotalHeight)}});var Tbe=J((uxt,xbe)=>{"use strict";var YQe=q_();xbe.exports={moduleType:"component",name:YQe.name,layoutAttributes:tU(),supplyLayoutDefaults:ube(),draw:wbe()}});var $5=J((dxt,_be)=>{"use strict";var Sbe=Pu();_be.exports={bgcolor:{valType:"color",dflt:Sbe.background,editType:"plot",description:"Sets the background color of the range slider."},bordercolor:{valType:"color",dflt:Sbe.defaultLine,editType:"plot",description:"Sets the border color of the range slider."},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot",description:"Sets the border width of the range slider."},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Determines whether or not the range slider range is","computed in relation to the input data.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1},description:["Sets the range of the range slider.","If not set, defaults to the full xaxis range.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot",description:["The height of the range slider as a fraction of the","total plot area height."].join(" ")},visible:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether or not the range slider will be visible.","If visible, perpendicular axes will be set to `fixedrange`"].join(" ")},editType:"calc"}});var oU=J((fxt,Cbe)=>{"use strict";Cbe.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc",description:["Determines whether or not the range of this axis in","the rangeslider use the same value than in the main plot","when zooming in/out.","If *auto*, the autorange will be used.","If *fixed*, the `range` is used.","If *match*, the current range of the corresponding y-axis on the main subplot is used."].join(" ")},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot",description:["Sets the range of this axis for the rangeslider."].join(" ")},editType:"calc"}});var X5=J((hxt,kbe)=>{"use strict";kbe.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}});var Abe=J(Q5=>{"use strict";var ZQe=Wi(),$Qe=wa(),Ebe=X5(),XQe=ao().LINE_SPACING,K5=Ebe.name;function Dbe(t){var e=t&&t[K5];return e&&e.visible}Q5.isVisible=Dbe;Q5.makeData=function(t){for(var e=ZQe.list({_fullLayout:t},"x",!0),r=t.margin,n=[],i=0;i<e.length;i++){var a=e[i];if(Dbe(a)){n.push(a);var o=a[K5];o._id=K5+a._id,o._height=(t.height-r.b-r.t)*o.thickness,o._offsetShift=Math.floor(o.borderwidth/2)}}t._rangeSliderData=n};Q5.autoMarginOpts=function(t,e){var r=t._fullLayout,n=e[K5],i=e._id.charAt(0),a=0,o=0;if(e.side==="bottom"&&(a=e._depth,e.title.text!==r._dfltTitle[i])){o=1.5*e.title.font.size+10+n._offsetShift;var s=(e.title.text.match($Qe.BR_TAG_ALL)||[]).length;o+=s*e.title.font.size*XQe}return{x:0,y:e._counterDomainMin,l:0,r:0,t:0,b:n._height+a+Math.max(r.margin.b,o),pad:Ebe.extraPad+n._offsetShift*2}}});var Nbe=J((mxt,Ibe)=>{"use strict";var J5=Qe(),Mbe=On(),Rbe=Wi(),KQe=$5(),QQe=oU();Ibe.exports=function(e,r,n){var i=e[n],a=r[n];if(!(i.rangeslider||r._requestRangeslider[a._id]))return;J5.isPlainObject(i.rangeslider)||(i.rangeslider={});var o=i.rangeslider,s=Mbe.newContainer(a,"rangeslider");function l(S,_){return J5.coerce(o,s,KQe,S,_)}var c,u;function d(S,_){return J5.coerce(c,u,QQe,S,_)}var f=l("visible");if(f){l("bgcolor",r.plot_bgcolor),l("bordercolor"),l("borderwidth"),l("thickness"),l("autorange",!a.isValidRange(o.range)),l("range");var h=r._subplots;if(h)for(var p=h.cartesian.filter(function(S){return S.substr(0,S.indexOf("y"))===Rbe.name2id(n)}).map(function(S){return S.substr(S.indexOf("y"),S.length)}),m=J5.simpleMap(p,Rbe.id2name),v=0;v<m.length;v++){var y=m[v];c=o[y]||{},u=Mbe.newContainer(s,y,"yaxis");var b=r[y],x;c.range&&b.isValidRange(c.range)&&(x="fixed");var w=d("rangemode",x);w!=="match"&&d("range",b.range.slice())}s._input=o}}});var Obe=J((vxt,Lbe)=>{"use strict";var JQe=Wi().list,eJe=PS().getAutoRange,tJe=X5();Lbe.exports=function(e){for(var r=JQe(e,"x",!0),n=0;n<r.length;n++){var i=r[n],a=i[tJe.name];a&&a.visible&&a.autorange&&(a._input.autorange=!0,a._input.range=a.range=eJe(e,i))}}});var Hbe=J((gxt,Fbe)=>{"use strict";var eR=Sr(),rJe=Xt(),nJe=ki(),hi=Qe(),tR=hi.strTranslate,zbe=Kr(),Dp=gr(),iJe=LS(),aJe=N_(),sU=Wi(),oJe=Bc(),sJe=bf(),Ir=X5();Fbe.exports=function(t){for(var e=t._fullLayout,r=e._rangeSliderData,n=0;n<r.length;n++){var i=r[n][Ir.name];i._clipId=i._id+"-"+e._uid}function a(s){return s._name}var o=e._infolayer.selectAll("g."+Ir.containerClassName).data(r,a);o.exit().each(function(s){var l=s[Ir.name];e._topdefs.select("#"+l._clipId).remove()}).remove(),r.length!==0&&(o.enter().append("g").classed(Ir.containerClassName,!0).attr("pointer-events","all"),o.each(function(s){var l=eR.select(this),c=s[Ir.name],u=e[sU.id2name(s.anchor)],d=c[sU.id2name(s.anchor)];if(c.range){var f=hi.simpleMap(c.range,s.r2l),h=hi.simpleMap(s.range,s.r2l),p;h[0]<h[1]?p=[Math.min(f[0],h[0]),Math.max(f[1],h[1])]:p=[Math.max(f[0],h[0]),Math.min(f[1],h[1])],c.range=c._input.range=hi.simpleMap(p,s.l2r)}s.cleanRange("rangeslider.range");var m=e._size,v=s.domain;c._width=m.w*(v[1]-v[0]);var y=Math.round(m.l+m.w*v[0]),b=Math.round(m.t+m.h*(1-s._counterDomainMin)+(s.side==="bottom"?s._depth:0)+c._offsetShift+Ir.extraPad);l.attr("transform",tR(y,b)),c._rl=hi.simpleMap(c.range,s.r2l);var x=c._rl[0],w=c._rl[1],S=w-x;if(c.p2d=function(K){return K/c._width*S+x},c.d2p=function(K){return(K-x)/S*c._width},s.rangebreaks){var _=s.locateBreaks(x,w);if(_.length){var C,E,M=0;for(C=0;C<_.length;C++)E=_[C],M+=E.max-E.min;var I=c._width/(w-x-M),L=[-I*x];for(C=0;C<_.length;C++)E=_[C],L.push(L[L.length-1]-I*(E.max-E.min));for(c.d2p=function(K){for(var N=L[0],U=0;U<_.length;U++){var B=_[U];if(K>=B.max)N=L[U+1];else if(K<B.min)break}return N+I*K},C=0;C<_.length;C++)E=_[C],E.pmin=c.d2p(E.min),E.pmax=c.d2p(E.max);c.p2d=function(K){for(var N=L[0],U=0;U<_.length;U++){var B=_[U];if(K>=B.pmax)N=L[U+1];else if(K<B.pmin)break}return(K-N)/I}}}if(d.rangemode!=="match"){var O=u.r2l(d.range[0]),H=u.r2l(d.range[1]),Y=H-O;c.d2pOppAxis=function(K){return(K-O)/Y*c._height}}l.call(dJe,t,s,c).call(fJe,t,s,c).call(hJe,t,s,c).call(mJe,t,s,c,d).call(vJe,t,s,c).call(gJe,t,s,c),lJe(l,t,s,c),uJe(l,t,s,c,u,d),s.side==="bottom"&&iJe.draw(t,s._id+"title",{propContainer:s,propName:s._name+".title",placeholder:e._dfltTitle.x,attributes:{x:s._offset+s._length/2,y:b+c._height+c._offsetShift+10+1.5*s.title.font.size,"text-anchor":"middle"}})}))};function Pbe(t){return typeof t.clientX=="number"?t.clientX:t.touches&&t.touches.length>0?t.touches[0].clientX:0}function lJe(t,e,r,n){if(e._context.staticPlot)return;var i=t.select("rect."+Ir.slideBoxClassName).node(),a=t.select("rect."+Ir.grabAreaMinClassName).node(),o=t.select("rect."+Ir.grabAreaMaxClassName).node();function s(){var l=eR.event,c=l.target,u=Pbe(l),d=u-t.node().getBoundingClientRect().left,f=n.d2p(r._rl[0]),h=n.d2p(r._rl[1]),p=oJe.coverSlip();this.addEventListener("touchmove",m),this.addEventListener("touchend",v),p.addEventListener("mousemove",m),p.addEventListener("mouseup",v);function m(y){var b=Pbe(y),x=+b-u,w,S,_;switch(c){case i:if(_="ew-resize",f+x>r._length||h+x<0)return;w=f+x,S=h+x;break;case a:if(_="col-resize",f+x>r._length)return;w=f+x,S=h;break;case o:if(_="col-resize",h+x<0)return;w=f,S=h+x;break;default:_="ew-resize",w=d,S=d+x;break}if(S<w){var C=S;S=w,w=C}n._pixelMin=w,n._pixelMax=S,sJe(eR.select(p),_),cJe(t,e,r,n)}function v(){p.removeEventListener("mousemove",m),p.removeEventListener("mouseup",v),this.removeEventListener("touchmove",m),this.removeEventListener("touchend",v),hi.removeElement(p)}}t.on("mousedown",s),t.on("touchstart",s)}function cJe(t,e,r,n){function i(s){return r.l2r(hi.constrain(s,n._rl[0],n._rl[1]))}var a=i(n.p2d(n._pixelMin)),o=i(n.p2d(n._pixelMax));window.requestAnimationFrame(function(){rJe.call("_guiRelayout",e,r._name+".range",[a,o])})}function uJe(t,e,r,n,i,a){var o=Ir.handleWidth/2;function s(y){return hi.constrain(y,0,n._width)}function l(y){return hi.constrain(y,0,n._height)}function c(y){return hi.constrain(y,-o,n._width+o)}var u=s(n.d2p(r._rl[0])),d=s(n.d2p(r._rl[1]));if(t.select("rect."+Ir.slideBoxClassName).attr("x",u).attr("width",d-u),t.select("rect."+Ir.maskMinClassName).attr("width",u),t.select("rect."+Ir.maskMaxClassName).attr("x",d).attr("width",n._width-d),a.rangemode!=="match"){var f=n._height-l(n.d2pOppAxis(i._rl[1])),h=n._height-l(n.d2pOppAxis(i._rl[0]));t.select("rect."+Ir.maskMinOppAxisClassName).attr("x",u).attr("height",f).attr("width",d-u),t.select("rect."+Ir.maskMaxOppAxisClassName).attr("x",u).attr("y",h).attr("height",n._height-h).attr("width",d-u),t.select("rect."+Ir.slideBoxClassName).attr("y",f).attr("height",h-f)}var p=.5,m=Math.round(c(u-o))-p,v=Math.round(c(d-o))+p;t.select("g."+Ir.grabberMinClassName).attr("transform",tR(m,p)),t.select("g."+Ir.grabberMaxClassName).attr("transform",tR(v,p))}function dJe(t,e,r,n){var i=hi.ensureSingle(t,"rect",Ir.bgClassName,function(l){l.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),a=n.borderwidth%2===0?n.borderwidth:n.borderwidth-1,o=-n._offsetShift,s=zbe.crispRound(e,n.borderwidth);i.attr({width:n._width+a,height:n._height+a,transform:tR(o,o),"stroke-width":s}).call(Dp.stroke,n.bordercolor).call(Dp.fill,n.bgcolor)}function fJe(t,e,r,n){var i=e._fullLayout,a=hi.ensureSingleById(i._topdefs,"clipPath",n._clipId,function(o){o.append("rect").attr({x:0,y:0})});a.select("rect").attr({width:n._width,height:n._height})}function hJe(t,e,r,n){var i=e.calcdata,a=t.selectAll("g."+Ir.rangePlotClassName).data(r._subplotsWith,hi.identity);a.enter().append("g").attr("class",function(s){return Ir.rangePlotClassName+" "+s}).call(zbe.setClipUrl,n._clipId,e),a.order(),a.exit().remove();var o;a.each(function(s,l){var c=eR.select(this),u=l===0,d=sU.getFromId(e,s,"y"),f=d._name,h=n[f],p={data:[],layout:{xaxis:{type:r.type,domain:[0,1],range:n.range.slice(),calendar:r.calendar},width:n._width,height:n._height,margin:{t:0,b:0,l:0,r:0}},_context:e._context};r.rangebreaks&&(p.layout.xaxis.rangebreaks=r.rangebreaks),p.layout[f]={type:d.type,domain:[0,1],range:h.rangemode!=="match"?h.range.slice():d.range.slice(),calendar:d.calendar},d.rangebreaks&&(p.layout[f].rangebreaks=d.rangebreaks),nJe.supplyDefaults(p);var m=p._fullLayout.xaxis,v=p._fullLayout[f];m.clearCalc(),m.setScale(),v.clearCalc(),v.setScale();var y={id:s,plotgroup:c,xaxis:m,yaxis:v,isRangePlot:!0};u?o=y:(y.mainplot="xy",y.mainplotinfo=o),aJe.rangePlot(e,y,pJe(i,s))})}function pJe(t,e){for(var r=[],n=0;n<t.length;n++){var i=t[n],a=i[0].trace;a.xaxis+a.yaxis===e&&r.push(i)}return r}function mJe(t,e,r,n,i){var a=hi.ensureSingle(t,"rect",Ir.maskMinClassName,function(c){c.attr({x:0,y:0,"shape-rendering":"crispEdges"})});a.attr("height",n._height).call(Dp.fill,Ir.maskColor);var o=hi.ensureSingle(t,"rect",Ir.maskMaxClassName,function(c){c.attr({y:0,"shape-rendering":"crispEdges"})});if(o.attr("height",n._height).call(Dp.fill,Ir.maskColor),i.rangemode!=="match"){var s=hi.ensureSingle(t,"rect",Ir.maskMinOppAxisClassName,function(c){c.attr({y:0,"shape-rendering":"crispEdges"})});s.attr("width",n._width).call(Dp.fill,Ir.maskOppAxisColor);var l=hi.ensureSingle(t,"rect",Ir.maskMaxOppAxisClassName,function(c){c.attr({y:0,"shape-rendering":"crispEdges"})});l.attr("width",n._width).style("border-top",Ir.maskOppBorder).call(Dp.fill,Ir.maskOppAxisColor)}}function vJe(t,e,r,n){if(!e._context.staticPlot){var i=hi.ensureSingle(t,"rect",Ir.slideBoxClassName,function(a){a.attr({y:0,cursor:Ir.slideBoxCursor,"shape-rendering":"crispEdges"})});i.attr({height:n._height,fill:Ir.slideBoxFill})}}function gJe(t,e,r,n){var i=hi.ensureSingle(t,"g",Ir.grabberMinClassName),a=hi.ensureSingle(t,"g",Ir.grabberMaxClassName),o={x:0,width:Ir.handleWidth,rx:Ir.handleRadius,fill:Dp.background,stroke:Dp.defaultLine,"stroke-width":Ir.handleStrokeWidth,"shape-rendering":"crispEdges"},s={y:Math.round(n._height/4),height:Math.round(n._height/2)},l=hi.ensureSingle(i,"rect",Ir.handleMinClassName,function(h){h.attr(o)});l.attr(s);var c=hi.ensureSingle(a,"rect",Ir.handleMaxClassName,function(h){h.attr(o)});c.attr(s);var u={width:Ir.grabAreaWidth,x:0,y:0,fill:Ir.grabAreaFill,cursor:e._context.staticPlot?void 0:Ir.grabAreaCursor},d=hi.ensureSingle(i,"rect",Ir.grabAreaMinClassName,function(h){h.attr(u)});d.attr("height",n._height);var f=hi.ensureSingle(a,"rect",Ir.grabAreaMaxClassName,function(h){h.attr(u)});f.attr("height",n._height)}});var Ube=J((yxt,qbe)=>{"use strict";var yJe=Qe(),bJe=$5(),wJe=oU(),lU=Abe();qbe.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:yJe.extendFlat({},bJe,{yaxis:wJe})}}},layoutAttributes:$5(),handleDefaults:Nbe(),calcAutorange:Obe(),draw:Hbe(),isVisible:lU.isVisible,makeData:lU.makeData,autoMarginOpts:lU.autoMarginOpts}});var rR=J((bxt,jbe)=>{"use strict";var xJe=ba(),Bbe=Pu(),TJe=On().templatedArray,SJe=TJe("button",{visible:{valType:"boolean",dflt:!0,editType:"plot",description:"Determines whether or not this button is visible."},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot",description:["The unit of measurement that the `count` value will set the range by."].join(" ")},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot",description:["Sets the range update mode.","If *backward*, the range update shifts the start of range","back *count* times *step* milliseconds.","If *todate*, the range update shifts the start of range","back to the first timestamp from *count* times","*step* milliseconds back.","For example, with `step` set to *year* and `count` set to *1*","the range update shifts the start of the range back to","January 01 of the current year.","Month and year *todate* are currently available only","for the built-in (Gregorian) calendar."].join(" ")},count:{valType:"number",min:0,dflt:1,editType:"plot",description:["Sets the number of steps to take to update the range.","Use with `step` to specify the update interval."].join(" ")},label:{valType:"string",editType:"plot",description:"Sets the text label to appear on the button."},editType:"plot",description:["Sets the specifications for each buttons.","By default, a range selector comes with no buttons."].join(" ")});jbe.exports={visible:{valType:"boolean",editType:"plot",description:["Determines whether or not this range selector is visible.","Note that range selectors are only available for x axes of","`type` set to or auto-typed to *date*."].join(" ")},buttons:SJe,x:{valType:"number",min:-2,max:3,editType:"plot",description:"Sets the x position (in normalized coordinates) of the range selector."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot",description:["Sets the range selector's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,editType:"plot",description:"Sets the y position (in normalized coordinates) of the range selector."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot",description:["Sets the range selector's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},font:xJe({editType:"plot",description:"Sets the font of the range selector button text."}),bgcolor:{valType:"color",dflt:Bbe.lightLine,editType:"plot",description:"Sets the background color of the range selector buttons."},activecolor:{valType:"color",editType:"plot",description:"Sets the background color of the active range selector button."},bordercolor:{valType:"color",dflt:Bbe.defaultLine,editType:"plot",description:"Sets the color of the border enclosing the range selector."},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot",description:"Sets the width (in px) of the border enclosing the range selector."},editType:"plot"}});var cU=J((wxt,Vbe)=>{"use strict";Vbe.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}});var Ybe=J((xxt,Gbe)=>{"use strict";var nR=Qe(),_Je=gr(),CJe=On(),kJe=Hc(),Wbe=rR(),uU=cU();Gbe.exports=function(e,r,n,i,a){var o=e.rangeselector||{},s=CJe.newContainer(r,"rangeselector");function l(h,p){return nR.coerce(o,s,Wbe,h,p)}var c=kJe(o,s,{name:"buttons",handleItemDefaults:EJe,calendar:a}),u=l("visible",c.length>0);if(u){var d=DJe(r,n,i);l("x",d[0]),l("y",d[1]),nR.noneOrAll(e,r,["x","y"]),l("xanchor"),l("yanchor"),nR.coerceFont(l,"font",n.font);var f=l("bgcolor");l("activecolor",_Je.contrast(f,uU.lightAmount,uU.darkAmount)),l("bordercolor"),l("borderwidth")}};function EJe(t,e,r,n){var i=n.calendar;function a(l,c){return nR.coerce(t,e,Wbe.buttons,l,c)}var o=a("visible");if(o){var s=a("step");s!=="all"&&(i&&i!=="gregorian"&&(s==="month"||s==="year")?e.stepmode="backward":a("stepmode"),a("count")),a("label")}}function DJe(t,e,r){for(var n=r.filter(function(s){return e[s].anchor===t._id}),i=0,a=0;a<n.length;a++){var o=e[n[a]].domain;o&&(i=Math.max(o[1],i))}return[t.domain[0],i+uU.yPad]}});var $be=J((Txt,Zbe)=>{"use strict";var AJe=o8(),MJe=Qe().titleCase;Zbe.exports=function(e,r){var n=e._name,i={};if(r.step==="all")i[n+".autorange"]=!0;else{var a=RJe(e,r);i[n+".range[0]"]=a[0],i[n+".range[1]"]=a[1]}return i};function RJe(t,e){var r=t.range,n=new Date(t.r2l(r[1])),i=e.step,a=AJe["utc"+MJe(i)],o=e.count,s;switch(e.stepmode){case"backward":s=t.l2r(+a.offset(n,-o));break;case"todate":var l=a.offset(n,-o);s=t.l2r(+a.ceil(l));break}var c=r[1];return[s,c]}});var n1e=J((Sxt,r1e)=>{"use strict";var aR=Sr(),IJe=Xt(),NJe=ki(),Xbe=gr(),t1e=Kr(),kf=Qe(),Kbe=kf.strTranslate,iR=wa(),LJe=Wi(),hU=ao(),Qbe=hU.LINE_SPACING,Jbe=hU.FROM_TL,e1e=hU.FROM_BR,fU=cU(),OJe=$be();r1e.exports=function(e){var r=e._fullLayout,n=r._infolayer.selectAll(".rangeselector").data(PJe(e),zJe);n.enter().append("g").classed("rangeselector",!0),n.exit().remove(),n.style({cursor:"pointer","pointer-events":"all"}),n.each(function(i){var a=aR.select(this),o=i,s=o.rangeselector,l=a.selectAll("g.button").data(kf.filterVisible(s.buttons));l.enter().append("g").classed("button",!0),l.exit().remove(),l.each(function(c){var u=aR.select(this),d=OJe(o,c);c._isActive=FJe(o,c,d),u.call(dU,s,c),u.call(qJe,s,c,e),u.on("click",function(){e._dragged||IJe.call("_guiRelayout",e,d)}),u.on("mouseover",function(){c._isHovered=!0,u.call(dU,s,c)}),u.on("mouseout",function(){c._isHovered=!1,u.call(dU,s,c)})}),BJe(e,l,s,o._name,a)})};function PJe(t){for(var e=LJe.list(t,"x",!0),r=[],n=0;n<e.length;n++){var i=e[n];i.rangeselector&&i.rangeselector.visible&&r.push(i)}return r}function zJe(t){return t._id}function FJe(t,e,r){if(e.step==="all")return t.autorange===!0;var n=Object.keys(r);return t.range[0]===r[n[0]]&&t.range[1]===r[n[1]]}function dU(t,e,r){var n=kf.ensureSingle(t,"rect","selector-rect",function(i){i.attr("shape-rendering","crispEdges")});n.attr({rx:fU.rx,ry:fU.ry}),n.call(Xbe.stroke,e.bordercolor).call(Xbe.fill,HJe(e,r)).style("stroke-width",e.borderwidth+"px")}function HJe(t,e){return e._isActive||e._isHovered?t.activecolor:t.bgcolor}function qJe(t,e,r,n){function i(o){iR.convertToTspans(o,n)}var a=kf.ensureSingle(t,"text","selector-text",function(o){o.attr("text-anchor","middle")});a.call(t1e.font,e.font).text(UJe(r,n._fullLayout._meta)).call(i)}function UJe(t,e){return t.label?e?kf.templateString(t.label,e):t.label:t.step==="all"?"all":t.count+t.step.charAt(0)}function BJe(t,e,r,n,i){var a=0,o=0,s=r.borderwidth;e.each(function(){var h=aR.select(this),p=h.select(".selector-text"),m=r.font.size*Qbe,v=Math.max(m*iR.lineCount(p),16)+3;o=Math.max(o,v)}),e.each(function(){var h=aR.select(this),p=h.select(".selector-rect"),m=h.select(".selector-text"),v=m.node()&&t1e.bBox(m.node()).width,y=r.font.size*Qbe,b=iR.lineCount(m),x=Math.max(v+10,fU.minButtonWidth);h.attr("transform",Kbe(s+a,s)),p.attr({x:0,y:0,width:x,height:o}),iR.positionText(m,x/2,o/2-(b-1)*y/2+3),a+=x+5});var l=t._fullLayout._size,c=l.l+l.w*r.x,u=l.t+l.h*(1-r.y),d="left";kf.isRightAnchor(r)&&(c-=a,d="right"),kf.isCenterAnchor(r)&&(c-=a/2,d="center");var f="top";kf.isBottomAnchor(r)&&(u-=o,f="bottom"),kf.isMiddleAnchor(r)&&(u-=o/2,f="middle"),a=Math.ceil(a),o=Math.ceil(o),c=Math.round(c),u=Math.round(u),NJe.autoMargin(t,n+"-range-selector",{x:r.x,y:r.y,l:a*Jbe[d],r:a*e1e[d],b:o*e1e[f],t:o*Jbe[f]}),i.attr("transform",Kbe(c,u))}});var a1e=J((_xt,i1e)=>{"use strict";i1e.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:rR()}}},layoutAttributes:rR(),handleDefaults:Ybe(),draw:n1e()}});var Kb=J(pU=>{"use strict";var o1e=Ti().extendFlat;pU.attributes=function(t,e){t=t||{},e=e||{};var r={valType:"info_array",editType:t.editType,items:[{valType:"number",min:0,max:1,editType:t.editType},{valType:"number",min:0,max:1,editType:t.editType}],dflt:[0,1]},n=t.name?t.name+" ":"",i=t.trace?"trace ":"subplot ",a=e.description?" "+e.description:"",o={x:o1e({},r,{description:["Sets the horizontal domain of this ",n,i,"(in plot fraction).",a].join("")}),y:o1e({},r,{description:["Sets the vertical domain of this ",n,i,"(in plot fraction).",a].join("")}),editType:t.editType};return t.noGridCell||(o.row={valType:"integer",min:0,dflt:0,editType:t.editType,description:["If there is a layout grid, use the domain ","for this row in the grid for this ",n,i,".",a].join("")},o.column={valType:"integer",min:0,dflt:0,editType:t.editType,description:["If there is a layout grid, use the domain ","for this column in the grid for this ",n,i,".",a].join("")}),o};pU.defaults=function(t,e,r,n){var i=n&&n.x||[0,1],a=n&&n.y||[0,1],o=e.grid;if(o){var s=r("domain.column");s!==void 0&&(s<o.columns?i=o._domains.x[s]:delete t.domain.column);var l=r("domain.row");l!==void 0&&(l<o.rows?a=o._domains.y[l]:delete t.domain.row)}var c=r("domain.x",i),u=r("domain.y",a);c[0]<c[1]||(t.domain.x=i.slice()),u[0]<u[1]||(t.domain.y=a.slice())}});var d1e=J((kxt,u1e)=>{"use strict";var jJe=Qe(),VJe=V0().counter,WJe=Kb().attributes,s1e=Ha().idRegex,GJe=On(),mU={rows:{valType:"integer",min:1,editType:"plot",description:["The number of rows in the grid. If you provide a 2D `subplots`","array or a `yaxes` array, its length is used as the default.","But it's also possible to have a different length, if you","want to leave a row at the end for non-cartesian subplots."].join(" ")},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot",description:["Is the first row the top or the bottom? Note that columns","are always enumerated from left to right."].join(" ")},columns:{valType:"integer",min:1,editType:"plot",description:["The number of columns in the grid. If you provide a 2D `subplots`","array, the length of its longest row is used as the default.","If you give an `xaxes` array, its length is used as the default.","But it's also possible to have a different length, if you","want to leave a row at the end for non-cartesian subplots."].join(" ")},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[VJe("xy").toString(),""],editType:"plot"},editType:"plot",description:["Used for freeform grids, where some axes may be shared across subplots","but others are not. Each entry should be a cartesian subplot id, like","*xy* or *x3y2*, or ** to leave that cell empty. You may reuse x axes","within the same column, and y axes within the same row.","Non-cartesian subplots and traces that support `domain` can place themselves","in this grid separately using the `gridcell` attribute."].join(" ")},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[s1e.x.toString(),""],editType:"plot"},editType:"plot",description:["Used with `yaxes` when the x and y axes are shared across columns and rows.","Each entry should be an x axis id like *x*, *x2*, etc., or ** to","not put an x axis in that column. Entries other than ** must be unique.","Ignored if `subplots` is present. If missing but `yaxes` is present,","will generate consecutive IDs."].join(" ")},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[s1e.y.toString(),""],editType:"plot"},editType:"plot",description:["Used with `yaxes` when the x and y axes are shared across columns and rows.","Each entry should be an y axis id like *y*, *y2*, etc., or ** to","not put a y axis in that row. Entries other than ** must be unique.","Ignored if `subplots` is present. If missing but `xaxes` is present,","will generate consecutive IDs."].join(" ")},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot",description:["If no `subplots`, `xaxes`, or `yaxes` are given but we do have `rows` and `columns`,","we can generate defaults using consecutive axis IDs, in two ways:","*coupled* gives one x axis per column and one y axis per row.","*independent* uses a new xy pair for each cell, left-to-right across each row","then iterating rows according to `roworder`."].join(" ")},xgap:{valType:"number",min:0,max:1,editType:"plot",description:["Horizontal space between grid cells, expressed as a fraction","of the total width available to one cell. Defaults to 0.1","for coupled-axes grids and 0.2 for independent grids."].join(" ")},ygap:{valType:"number",min:0,max:1,editType:"plot",description:["Vertical space between grid cells, expressed as a fraction","of the total height available to one cell. Defaults to 0.1","for coupled-axes grids and 0.3 for independent grids."].join(" ")},domain:WJe({name:"grid",editType:"plot",noGridCell:!0},{description:["The first and last cells end exactly at the domain","edges, with no grout around the edges."].join(" ")}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot",description:["Sets where the x axis labels and titles go. *bottom* means","the very bottom of the grid. *bottom plot* is the lowest plot","that each x axis is used in. *top* and *top plot* are similar."].join(" ")},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot",description:["Sets where the y axis labels and titles go. *left* means","the very left edge of the grid. *left plot* is the leftmost plot","that each y axis is used in. *right* and *right plot* are similar."].join(" ")},editType:"plot"};function oR(t,e,r){var n=e[r+"axes"],i=Object.keys((t._splomAxes||{})[r]||{});if(Array.isArray(n))return n;if(i.length)return i}function YJe(t,e){var r=t.grid||{},n=oR(e,r,"x"),i=oR(e,r,"y");if(!t.grid&&!n&&!i)return;var a=Array.isArray(r.subplots)&&Array.isArray(r.subplots[0]),o=Array.isArray(n),s=Array.isArray(i),l=o&&n!==r.xaxes&&s&&i!==r.yaxes,c,u;a?(c=r.subplots.length,u=r.subplots[0].length):(s&&(c=i.length),o&&(u=n.length));var d=GJe.newContainer(e,"grid");function f(_,C){return jJe.coerce(r,d,mU,_,C)}var h=f("rows",c),p=f("columns",u);if(!(h*p>1)){delete e.grid;return}if(!a&&!o&&!s){var m=f("pattern")==="independent";m&&(a=!0)}d._hasSubplotGrid=a;var v=f("roworder"),y=v==="top to bottom",b=a?.2:.1,x=a?.3:.1,w,S;l&&e._splomGridDflt&&(w=e._splomGridDflt.xside,S=e._splomGridDflt.yside),d._domains={x:l1e("x",f,b,w,p),y:l1e("y",f,x,S,h,y)}}function l1e(t,e,r,n,i,a){var o=e(t+"gap",r),s=e("domain."+t);e(t+"side",n);for(var l=new Array(i),c=s[0],u=(s[1]-c)/(i-o),d=u*(1-o),f=0;f<i;f++){var h=c+u*f;l[a?i-1-f:f]=[h,h+d]}return l}function ZJe(t,e){var r=e.grid;if(!(!r||!r._domains)){var n=t.grid||{},i=e._subplots,a=r._hasSubplotGrid,o=r.rows,s=r.columns,l=r.pattern==="independent",c,u,d,f,h,p,m,v=r._axisMap={};if(a){var y=n.subplots||[];p=r.subplots=new Array(o);var b=1;for(c=0;c<o;c++){var x=p[c]=new Array(s),w=y[c]||[];for(u=0;u<s;u++)if(l?(h=b===1?"xy":"x"+b+"y"+b,b++):h=w[u],x[u]="",i.cartesian.indexOf(h)!==-1){if(m=h.indexOf("y"),d=h.slice(0,m),f=h.slice(m),v[d]!==void 0&&v[d]!==u||v[f]!==void 0&&v[f]!==c)continue;x[u]=h,v[d]=u,v[f]=c}}}else{var S=oR(e,n,"x"),_=oR(e,n,"y");r.xaxes=c1e(S,i.xaxis,s,v,"x"),r.yaxes=c1e(_,i.yaxis,o,v,"y")}var C=r._anchors={},E=r.roworder==="top to bottom";for(var M in v){var I=M.charAt(0),L=r[I+"side"],O,H,Y;if(L.length<8)C[M]="free";else if(I==="x"){if(L.charAt(0)==="t"===E?(O=0,H=1,Y=o):(O=o-1,H=-1,Y=-1),a){var K=v[M];for(c=O;c!==Y;c+=H)if(h=p[c][K],!!h&&(m=h.indexOf("y"),h.slice(0,m)===M)){C[M]=h.slice(m);break}}else for(c=O;c!==Y;c+=H)if(f=r.yaxes[c],i.cartesian.indexOf(M+f)!==-1){C[M]=f;break}}else if(L.charAt(0)==="l"?(O=0,H=1,Y=s):(O=s-1,H=-1,Y=-1),a){var N=v[M];for(c=O;c!==Y;c+=H)if(h=p[N][c],!!h&&(m=h.indexOf("y"),h.slice(m)===M)){C[M]=h.slice(0,m);break}}else for(c=O;c!==Y;c+=H)if(d=r.xaxes[c],i.cartesian.indexOf(d+M)!==-1){C[M]=d;break}}}}function c1e(t,e,r,n,i){var a=new Array(r),o;function s(l,c){e.indexOf(c)!==-1&&n[c]===void 0?(a[l]=c,n[c]=l):a[l]=""}if(Array.isArray(t))for(o=0;o<r;o++)s(o,t[o]);else for(s(0,i),o=1;o<r;o++)s(o,i+(o+1));return a}u1e.exports={moduleType:"component",name:"grid",schema:{layout:{grid:mU}},layoutAttributes:mU,sizeDefaults:YJe,contentDefaults:ZJe}});var vU=J((Ext,f1e)=>{"use strict";f1e.exports={visible:{valType:"boolean",editType:"calc",description:["Determines whether or not this set of error bars is visible."].join(" ")},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc",description:["Determines the rule used to generate the error bars.","If *constant`, the bar lengths are of a constant value.","Set this constant in `value`.","If *percent*, the bar lengths correspond to a percentage of","underlying data. Set this percentage in `value`.","If *sqrt*, the bar lengths correspond to the square of the","underlying data.","If *data*, the bar lengths are set with data set `array`."].join(" ")},symmetric:{valType:"boolean",editType:"calc",description:["Determines whether or not the error bars have the same length","in both direction","(top/bottom for vertical bars, left/right for horizontal bars."].join(" ")},array:{valType:"data_array",editType:"calc",description:["Sets the data corresponding the length of each error bar.","Values are plotted relative to the underlying data."].join(" ")},arrayminus:{valType:"data_array",editType:"calc",description:["Sets the data corresponding the length of each error bar in the","bottom (left) direction for vertical (horizontal) bars","Values are plotted relative to the underlying data."].join(" ")},value:{valType:"number",min:0,dflt:10,editType:"calc",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars."].join(" ")},valueminus:{valType:"number",min:0,dflt:10,editType:"calc",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars in the","bottom (left) direction for vertical (horizontal) bars"].join(" ")},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style",description:"Sets the stroke color of the error bars."},thickness:{valType:"number",min:0,dflt:2,editType:"style",description:"Sets the thickness (in px) of the error bars."},width:{valType:"number",min:0,editType:"plot",description:["Sets the width (in px) of the cross-bar at both ends","of the error bars."].join(" ")},editType:"calc"}});var m1e=J((Dxt,p1e)=>{"use strict";var h1e=_r(),$Je=Xt(),XJe=Qe(),KJe=On(),QJe=vU();p1e.exports=function(t,e,r,n){var i="error_"+n.axis,a=KJe.newContainer(e,i),o=t[i]||{};function s(p,m){return XJe.coerce(o,a,QJe,p,m)}var l=o.array!==void 0||o.value!==void 0||o.type==="sqrt",c=s("visible",l);if(c!==!1){var u=s("type","array"in o?"data":"percent"),d=!0;u!=="sqrt"&&(d=s("symmetric",!((u==="data"?"arrayminus":"valueminus")in o))),u==="data"?(s("array"),s("traceref"),d||(s("arrayminus"),s("tracerefminus"))):(u==="percent"||u==="constant")&&(s("value"),d||s("valueminus"));var f="copy_"+n.inherit+"style";if(n.inherit){var h=e["error_"+n.inherit];(h||{}).visible&&s(f,!(o.color||h1e(o.thickness)||h1e(o.width)))}(!n.inherit||!a[f])&&(s("color",r),s("thickness"),s("width",$Je.traceIs(e,"gl3d")?0:4))}}});var gU=J((Axt,g1e)=>{"use strict";g1e.exports=function(e){var r=e.type,n=e.symmetric;if(r==="data"){var i=e.array||[];if(n)return function(c,u){var d=+i[u];return[d,d]};var a=e.arrayminus||[];return function(c,u){var d=+i[u],f=+a[u];return!isNaN(d)||!isNaN(f)?[f||0,d||0]:[NaN,NaN]}}else{var o=v1e(r,e.value),s=v1e(r,e.valueminus);return n||e.valueminus===void 0?function(c){var u=o(c);return[u,u]}:function(c){return[s(c),o(c)]}}};function v1e(t,e){if(t==="percent")return function(r){return Math.abs(r*e/100)};if(t==="constant")return function(){return Math.abs(e)};if(t==="sqrt")return function(r){return Math.sqrt(Math.abs(r))}}});var w1e=J((Mxt,b1e)=>{"use strict";var yU=_r(),JJe=Xt(),bU=gn(),eet=Qe(),tet=gU();b1e.exports=function(e){for(var r=e.calcdata,n=0;n<r.length;n++){var i=r[n],a=i[0].trace;if(a.visible===!0&&JJe.traceIs(a,"errorBarsOK")){var o=bU.getFromId(e,a.xaxis),s=bU.getFromId(e,a.yaxis);y1e(i,a,o,"x"),y1e(i,a,s,"y")}}};function y1e(t,e,r,n){var i=e["error_"+n]||{},a=i.visible&&["linear","log"].indexOf(r.type)!==-1,o=[];if(a){for(var s=tet(i),l=0;l<t.length;l++){var c=t[l],u=c.i;if(u===void 0)u=l;else if(u===null)continue;var d=c[n];if(yU(r.c2l(d))){var f=s(d,u);if(yU(f[0])&&yU(f[1])){var h=c[n+"s"]=d-f[0],p=c[n+"h"]=d+f[1];o.push(h,p)}}}var m=r._id,v=e._extremes[m],y=bU.findExtremes(r,o,eet.extendFlat({tozero:v.opts.tozero},{padded:!0}));v.min=v.min.concat(y.min),v.max=v.max.concat(y.max)}}});var S1e=J((Rxt,T1e)=>{"use strict";var x1e=Sr(),Ap=_r(),ret=Kr(),net=Zs();T1e.exports=function(e,r,n,i){var a,o=n.xaxis,s=n.yaxis,l=i&&i.duration>0,c=e._context.staticPlot;r.each(function(u){var d=u[0].trace,f=d.error_x||{},h=d.error_y||{},p;d.ids&&(p=function(b){return b.id});var m=net.hasMarkers(d)&&d.marker.maxdisplayed>0;!h.visible&&!f.visible&&(u=[]);var v=x1e.select(this).selectAll("g.errorbar").data(u,p);if(v.exit().remove(),!!u.length){f.visible||v.selectAll("path.xerror").remove(),h.visible||v.selectAll("path.yerror").remove(),v.style("opacity",1);var y=v.enter().append("g").classed("errorbar",!0);l&&y.style("opacity",0).transition().duration(i.duration).style("opacity",1),ret.setClipUrl(v,n.layerClipId,e),v.each(function(b){var x=x1e.select(this),w=iet(b,o,s);if(!(m&&!b.vis)){var S,_=x.select("path.yerror");if(h.visible&&Ap(w.x)&&Ap(w.yh)&&Ap(w.ys)){var C=h.width;S="M"+(w.x-C)+","+w.yh+"h"+2*C+"m-"+C+",0V"+w.ys,w.noYS||(S+="m-"+C+",0h"+2*C),a=!_.size(),a?_=x.append("path").style("vector-effect",c?"none":"non-scaling-stroke").classed("yerror",!0):l&&(_=_.transition().duration(i.duration).ease(i.easing)),_.attr("d",S)}else _.remove();var E=x.select("path.xerror");if(f.visible&&Ap(w.y)&&Ap(w.xh)&&Ap(w.xs)){var M=(f.copy_ystyle?h:f).width;S="M"+w.xh+","+(w.y-M)+"v"+2*M+"m0,-"+M+"H"+w.xs,w.noXS||(S+="m0,-"+M+"v"+2*M),a=!E.size(),a?E=x.append("path").style("vector-effect",c?"none":"non-scaling-stroke").classed("xerror",!0):l&&(E=E.transition().duration(i.duration).ease(i.easing)),E.attr("d",S)}else E.remove()}})}})};function iet(t,e,r){var n={x:e.c2p(t.x),y:r.c2p(t.y)};return t.yh!==void 0&&(n.yh=r.c2p(t.yh),n.ys=r.c2p(t.ys),Ap(n.ys)||(n.noYS=!0,n.ys=r.c2p(t.ys,!0))),t.xh!==void 0&&(n.xh=e.c2p(t.xh),n.xs=e.c2p(t.xs),Ap(n.xs)||(n.noXS=!0,n.xs=e.c2p(t.xs,!0))),n}});var k1e=J((Ixt,C1e)=>{"use strict";var aet=Sr(),_1e=gr();C1e.exports=function(e){e.each(function(r){var n=r[0].trace,i=n.error_y||{},a=n.error_x||{},o=aet.select(this);o.selectAll("path.yerror").style("stroke-width",i.thickness+"px").call(_1e.stroke,i.color),a.copy_ystyle&&(a=i),o.selectAll("path.xerror").style("stroke-width",a.thickness+"px").call(_1e.stroke,a.color)})}});var A1e=J((Nxt,D1e)=>{"use strict";var B_=Qe(),E1e=Fu().overrideAll,j_=vU(),eg={error_x:B_.extendFlat({},j_),error_y:B_.extendFlat({},j_)};delete eg.error_x.copy_zstyle;delete eg.error_y.copy_zstyle;delete eg.error_y.copy_ystyle;var V_={error_x:B_.extendFlat({},j_),error_y:B_.extendFlat({},j_),error_z:B_.extendFlat({},j_)};delete V_.error_x.copy_ystyle;delete V_.error_y.copy_ystyle;delete V_.error_z.copy_ystyle;delete V_.error_z.copy_zstyle;D1e.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:eg,bar:eg,histogram:eg,scatter3d:E1e(V_,"calc","nested"),scattergl:E1e(eg,"calc","nested")}},supplyDefaults:m1e(),calc:w1e(),makeComputeError:gU(),plot:S1e(),style:k1e(),hoverInfo:oet};function oet(t,e,r){(e.error_y||{}).visible&&(r.yerr=t.yh-t.y,e.error_y.symmetric||(r.yerrneg=t.y-t.ys)),(e.error_x||{}).visible&&(r.xerr=t.xh-t.x,e.error_x.symmetric||(r.xerrneg=t.x-t.xs))}});var R1e=J((Lxt,M1e)=>{"use strict";M1e.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}});var F1e=J((Oxt,z1e)=>{"use strict";var Mp=Sr(),wU=Vs(),lR=ki(),I1e=Xt(),Ef=gn(),sR=Bc(),ic=Qe(),tu=ic.strTranslate,P1e=Ti().extendFlat,xU=bf(),eu=Kr(),TU=gr(),set=LS(),cet=wa(),uet=Vl().flipScale,det=Mq(),fet=Rq(),het=Fc(),SU=ao(),N1e=SU.LINE_SPACING,L1e=SU.FROM_TL,O1e=SU.FROM_BR,Wn=R1e().cn;function pet(t){var e=t._fullLayout,r=e._infolayer.selectAll("g."+Wn.colorbar).data(met(t),function(n){return n._id});r.enter().append("g").attr("class",function(n){return n._id}).classed(Wn.colorbar,!0),r.each(function(n){var i=Mp.select(this);ic.ensureSingle(i,"rect",Wn.cbbg),ic.ensureSingle(i,"g",Wn.cbfills),ic.ensureSingle(i,"g",Wn.cblines),ic.ensureSingle(i,"g",Wn.cbaxis,function(o){o.classed(Wn.crisp,!0)}),ic.ensureSingle(i,"g",Wn.cbtitleunshift,function(o){o.append("g").classed(Wn.cbtitle,!0)}),ic.ensureSingle(i,"rect",Wn.cboutline);var a=vet(i,n,t);a&&a.then&&(t._promises||[]).push(a),t._context.edits.colorbarPosition&&get(i,n,t)}),r.exit().each(function(n){lR.autoMargin(t,n._id)}).remove(),r.order()}function met(t){var e=t._fullLayout,r=t.calcdata,n=[],i,a,o,s;function l(x){return P1e(x,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function c(){typeof s.calc=="function"?s.calc(t,o,i):(i._fillgradient=a.reversescale?uet(a.colorscale):a.colorscale,i._zrange=[a[s.min],a[s.max]])}for(var u=0;u<r.length;u++){var d=r[u];if(o=d[0].trace,!!o._module){var f=o._module.colorbar;if(o.visible===!0&&f)for(var h=Array.isArray(f),p=h?f:[f],m=0;m<p.length;m++){s=p[m];var v=s.container;a=v?o[v]:o,a&&a.showscale&&(i=l(a.colorbar),i._id="cb"+o.uid+(h&&v?"-"+v:""),i._traceIndex=o.index,i._propPrefix=(v?v+".":"")+"colorbar.",i._meta=o._meta,c(),n.push(i))}}}for(var y in e._colorAxes)if(a=e[y],a.showscale){var b=e._colorAxes[y];i=l(a.colorbar),i._id="cb"+y,i._propPrefix=y+".colorbar.",i._meta=e._meta,s={min:"cmin",max:"cmax"},b[0]!=="heatmap"&&(o=b[1],s.calc=o._module.colorbar.calc),c(),n.push(i)}return n}function vet(t,e,r){var n=e.orientation==="v",i=e.len,a=e.lenmode,o=e.thickness,s=e.thicknessmode,l=e.outlinewidth,c=e.borderwidth,u=e.bgcolor,d=e.xanchor,f=e.yanchor,h=e.xpad,p=e.ypad,m=e.x,v=n?e.y:1-e.y,y=e.yref==="paper",b=e.xref==="paper",x=r._fullLayout,w=x._size,S=e._fillcolor,_=e._line,C=e.title,E=C.side,M=e._zrange||Mp.extent((typeof S=="function"?S:_.color).domain()),I=typeof _.color=="function"?_.color:function(){return _.color},L=typeof S=="function"?S:function(){return S},O=e._levels,H=yet(r,e,M),Y=H.fill,K=H.line,N=Math.round(o*(s==="fraction"?n?w.w:w.h:1)),U=N/(n?w.w:w.h),B=Math.round(i*(a==="fraction"?n?w.h:w.w:1)),$=B/(n?w.h:w.w),ee=b?w.w:r._fullLayout.width,te=y?w.h:r._fullLayout.height,he=Math.round(n?m*ee+h:v*te+p),we={center:.5,right:1}[d]||0,Te={top:1,middle:.5}[f]||0,ce=n?m-we*U:v-Te*U,q=n?v-Te*$:m-we*$,X=Math.round(n?te*(1-q):ee*q);e._lenFrac=$,e._thickFrac=U,e._uFrac=ce,e._vFrac=q;var G=e._axis=bet(r,e,M);G.position=U+(n?m+h/w.w:v+p/w.h);var de=["top","bottom"].indexOf(E)!==-1;if(n&&de&&(G.title.side=E,G.titlex=m+h/w.w,G.titley=q+(C.side==="top"?$-p/w.h:p/w.h)),!n&&!de&&(G.title.side=E,G.titley=v+p/w.h,G.titlex=q+h/w.w),_.color&&e.tickmode==="auto"){G.tickmode="linear",G.tick0=O.start;var ue=O.size,fe=ic.constrain(B/50,4,15)+1,_e=(M[1]-M[0])/((e.nticks||fe)*ue);if(_e>1){var Oe=Math.pow(10,Math.floor(Math.log(_e)/Math.LN10));ue*=Oe*ic.roundUp(_e/Oe,[2,5,10]),(Math.abs(O.start)/O.size+1e-6)%1<2e-6&&(G.tick0=0)}G.dtick=ue}G.domain=n?[q+p/w.h,q+$-p/w.h]:[q+h/w.w,q+$-h/w.w],G.setScale(),t.attr("transform",tu(Math.round(w.l),Math.round(w.t)));var Ce=t.select("."+Wn.cbtitleunshift).attr("transform",tu(-Math.round(w.l),-Math.round(w.t))),je=G.ticklabelposition,qe=G.title.font.size,Ve=t.select("."+Wn.cbaxis),ot,$e=0,Xe=0;function Je(at,ge){var Ne={propContainer:G,propName:e._propPrefix+"title",traceIndex:e._traceIndex,_meta:e._meta,placeholder:x._dfltTitle.colorbar,containerGroup:t.select("."+Wn.cbtitle)},Le=at.charAt(0)==="h"?at.substr(1):"h"+at;t.selectAll("."+Le+",."+Le+"-math-group").remove(),set.draw(r,at,P1e(Ne,ge||{}))}function nt(){if(n&&de||!n&&!de){var at,ge;E==="top"&&(at=h+w.l+ee*m,ge=p+w.t+te*(1-q-$)+3+qe*.75),E==="bottom"&&(at=h+w.l+ee*m,ge=p+w.t+te*(1-q)-3-qe*.25),E==="right"&&(ge=p+w.t+te*v+3+qe*.75,at=h+w.l+ee*q),Je(G._id+"title",{attributes:{x:at,y:ge,"text-anchor":n?"start":"middle"}})}}function Ke(){if(n&&!de||!n&&de){var at=G.position||0,ge=G._offset+G._length/2,Ne,Le;if(E==="right")Le=ge,Ne=w.l+ee*at+10+qe*(G.showticklabels?1:.5);else if(Ne=ge,E==="bottom"&&(Le=w.t+te*at+10+(je.indexOf("inside")===-1?G.tickfont.size:0)+(G.ticks!=="intside"&&e.ticklen||0)),E==="top"){var St=C.text.split("<br>").length;Le=w.t+te*at+10-N-N1e*qe*St}Je((n?"h":"v")+G._id+"title",{avoid:{selection:Mp.select(r).selectAll("g."+G._id+"tick"),side:E,offsetTop:n?0:w.t,offsetLeft:n?w.l:0,maxShift:n?x.width:x.height},attributes:{x:Ne,y:Le,"text-anchor":"middle"},transform:{rotate:n?-90:0,offset:0}})}}function Ae(){if(!n&&!de||n&&de){var at=t.select("."+Wn.cbtitle),ge=at.select("text"),Ne=[-l/2,l/2],Le=at.select(".h"+G._id+"title-math-group").node(),St=15.6;ge.node()&&(St=parseInt(ge.node().style.fontSize,10)*N1e);var ht;if(Le?(ht=eu.bBox(Le),Xe=ht.width,$e=ht.height,$e>St&&(Ne[1]-=($e-St)/2)):ge.node()&&!ge.classed(Wn.jsPlaceholder)&&(ht=eu.bBox(ge.node()),Xe=ht.width,$e=ht.height),n){if($e){if($e+=5,E==="top")G.domain[1]-=$e/w.h,Ne[1]*=-1;else{G.domain[0]+=$e/w.h;var He=cet.lineCount(ge);Ne[1]+=(1-He)*St}at.attr("transform",tu(Ne[0],Ne[1])),G.setScale()}}else Xe&&(E==="right"&&(G.domain[0]+=(Xe+qe/2)/w.w),at.attr("transform",tu(Ne[0],Ne[1])),G.setScale())}t.selectAll("."+Wn.cbfills+",."+Wn.cblines).attr("transform",n?tu(0,Math.round(w.h*(1-G.domain[1]))):tu(Math.round(w.w*G.domain[0]),0)),Ve.attr("transform",n?tu(0,Math.round(-w.t)):tu(Math.round(-w.l),0));var Ue=t.select("."+Wn.cbfills).selectAll("rect."+Wn.cbfill).attr("style","").data(Y);Ue.enter().append("rect").classed(Wn.cbfill,!0).attr("style",""),Ue.exit().remove();var ct=M.map(G.c2p).map(Math.round).sort(function(kt,_t){return kt-_t});Ue.each(function(kt,_t){var Ye=[_t===0?M[0]:(Y[_t]+Y[_t-1])/2,_t===Y.length-1?M[1]:(Y[_t]+Y[_t+1])/2].map(G.c2p).map(Math.round);n&&(Ye[1]=ic.constrain(Ye[1]+(Ye[1]>Ye[0])?1:-1,ct[0],ct[1]));var bt=Mp.select(this).attr(n?"x":"y",he).attr(n?"y":"x",Mp.min(Ye)).attr(n?"width":"height",Math.max(N,2)).attr(n?"height":"width",Math.max(Mp.max(Ye)-Mp.min(Ye),2));if(e._fillgradient)eu.gradient(bt,r,e._id,n?"vertical":"horizontalreversed",e._fillgradient,"fill");else{var ut=L(kt).replace("e-","");bt.attr("fill",wU(ut).toHexString())}});var rt=t.select("."+Wn.cblines).selectAll("path."+Wn.cbline).data(_.color&&_.width?K:[]);rt.enter().append("path").classed(Wn.cbline,!0),rt.exit().remove(),rt.each(function(kt){var _t=he,Ye=Math.round(G.c2p(kt))+_.width/2%1;Mp.select(this).attr("d","M"+(n?_t+","+Ye:Ye+","+_t)+(n?"h":"v")+N).call(eu.lineGroupStyle,_.width,I(kt),_.dash)}),Ve.selectAll("g."+G._id+"tick,path").remove();var lt=he+N+(l||0)/2-(e.ticks==="outside"?1:0),st=Ef.calcTicks(G),mt=Ef.getTickSigns(G)[2];return Ef.drawTicks(r,G,{vals:G.ticks==="inside"?Ef.clipEnds(G,st):st,layer:Ve,path:Ef.makeTickPath(G,lt,mt),transFn:Ef.makeTransTickFn(G)}),Ef.drawLabels(r,G,{vals:st,layer:Ve,transFn:Ef.makeTransTickLabelFn(G),labelFns:Ef.makeLabelFns(G,lt)})}function it(){var at,ge=N+l/2;je.indexOf("inside")===-1&&(at=eu.bBox(Ve.node()),ge+=n?at.width:at.height),ot=Ce.select("text");var Ne=0,Le=n&&E==="top",St=!n&&E==="right",ht=0;if(ot.node()&&!ot.classed(Wn.jsPlaceholder)){var He,Ue=Ce.select(".h"+G._id+"title-math-group").node();Ue&&(n&&de||!n&&!de)?(at=eu.bBox(Ue),Ne=at.width,He=at.height):(at=eu.bBox(Ce.node()),Ne=at.right-w.l-(n?he:X),He=at.bottom-w.t-(n?X:he),!n&&E==="top"&&(ge+=at.height,ht=at.height)),St&&(ot.attr("transform",tu(Ne/2+qe/2,0)),Ne*=2),ge=Math.max(ge,n?Ne:He)}var ct=(n?h:p)*2+ge+c+l/2,rt=0;!n&&C.text&&f==="bottom"&&v<=0&&(rt=ct/2,ct+=rt,ht+=rt),x._hColorbarMoveTitle=rt,x._hColorbarMoveCBTitle=ht;var lt=c+l,st=(n?he:X)-lt/2-(n?h:0),mt=(n?X:he)-(n?B:p+ht-rt);t.select("."+Wn.cbbg).attr("x",st).attr("y",mt).attr(n?"width":"height",Math.max(ct-rt,2)).attr(n?"height":"width",Math.max(B+lt,2)).call(TU.fill,u).call(TU.stroke,e.bordercolor).style("stroke-width",c);var kt=St?Math.max(Ne-10,0):0;t.selectAll("."+Wn.cboutline).attr("x",(n?he:X+h)+kt).attr("y",(n?X+p-B:he)+(Le?$e:0)).attr(n?"width":"height",Math.max(N,2)).attr(n?"height":"width",Math.max(B-(n?2*p+$e:2*h+kt),2)).call(TU.stroke,e.outlinecolor).style({fill:"none","stroke-width":l});var _t=n?we*ct:0,Ye=n?0:(1-Te)*ct-ht;if(_t=b?w.l-_t:-_t,Ye=y?w.t-Ye:-Ye,t.attr("transform",tu(_t,Ye)),!n&&(c||wU(u).getAlpha()&&!wU.equals(x.paper_bgcolor,u))){var bt=Ve.selectAll("text"),ut=bt[0].length,P=t.select("."+Wn.cbbg).node(),z=eu.bBox(P),Q=eu.getTranslate(t),le=2;bt.each(function(Pt,Wt){var Vt=0,Jt=ut-1;if(Wt===Vt||Wt===Jt){var At=eu.bBox(this),ir=eu.getTranslate(this),Qt;if(Wt===Jt){var kr=At.right+ir.x,br=z.right+Q.x+X-c-le+m;Qt=br-kr,Qt>0&&(Qt=0)}else if(Wt===Vt){var mr=At.left+ir.x,vr=z.left+Q.x+X+c+le;Qt=vr-mr,Qt<0&&(Qt=0)}Qt&&(ut<3?this.setAttribute("transform","translate("+Qt+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var V={},oe=L1e[d],be=O1e[d],xe=L1e[f],Ge=O1e[f],Ie=ct-N;n?(a==="pixels"?(V.y=v,V.t=B*xe,V.b=B*Ge):(V.t=V.b=0,V.yt=v+i*xe,V.yb=v-i*Ge),s==="pixels"?(V.x=m,V.l=ct*oe,V.r=ct*be):(V.l=Ie*oe,V.r=Ie*be,V.xl=m-o*oe,V.xr=m+o*be)):(a==="pixels"?(V.x=m,V.l=B*oe,V.r=B*be):(V.l=V.r=0,V.xl=m+i*oe,V.xr=m-i*be),s==="pixels"?(V.y=1-v,V.t=ct*xe,V.b=ct*Ge):(V.t=Ie*xe,V.b=Ie*Ge,V.yt=v-o*xe,V.yb=v+o*Ge));var tt=e.y<.5?"b":"t",vt=e.x<.5?"l":"r";r._fullLayout._reservedMargin[e._id]={};var Ze={r:x.width-st-_t,l:st+V.r,b:x.height-mt-Ye,t:mt+V.b};b&&y?lR.autoMargin(r,e._id,V):b?r._fullLayout._reservedMargin[e._id][tt]=Ze[tt]:y||n?r._fullLayout._reservedMargin[e._id][vt]=Ze[vt]:r._fullLayout._reservedMargin[e._id][tt]=Ze[tt]}return ic.syncOrAsync([lR.previousPromises,nt,Ae,Ke,lR.previousPromises,it],r)}function get(t,e,r){var n=e.orientation==="v",i=r._fullLayout,a=i._size,o,s,l;sR.init({element:t.node(),gd:r,prepFn:function(){o=t.attr("transform"),xU(t)},moveFn:function(c,u){t.attr("transform",o+tu(c,u)),s=sR.align((n?e._uFrac:e._vFrac)+c/a.w,n?e._thickFrac:e._lenFrac,0,1,e.xanchor),l=sR.align((n?e._vFrac:1-e._uFrac)-u/a.h,n?e._lenFrac:e._thickFrac,0,1,e.yanchor);var d=sR.getCursor(s,l,e.xanchor,e.yanchor);xU(t,d)},doneFn:function(){if(xU(t),s!==void 0&&l!==void 0){var c={};c[e._propPrefix+"x"]=s,c[e._propPrefix+"y"]=l,e._traceIndex!==void 0?I1e.call("_guiRestyle",r,c,e._traceIndex):I1e.call("_guiRelayout",r,c)}}})}function yet(t,e,r){var n=e._levels,i=[],a=[],o,s,l=n.end+n.size/100,c=n.size,u=1.001*r[0]-.001*r[1],d=1.001*r[1]-.001*r[0];for(s=0;s<1e5&&(o=n.start+s*c,!(c>0?o>=l:o<=l));s++)o>u&&o<d&&i.push(o);if(e._fillgradient)a=[0];else if(typeof e._fillcolor=="function"){var f=e._filllevels;if(f)for(l=f.end+f.size/100,c=f.size,s=0;s<1e5&&(o=f.start+s*c,!(c>0?o>=l:o<=l));s++)o>r[0]&&o<r[1]&&a.push(o);else a=i.map(function(h){return h-n.size/2}),a.push(a[a.length-1]+n.size)}else e._fillcolor&&typeof e._fillcolor=="string"&&(a=[0]);return n.size<0&&(i.reverse(),a.reverse()),{line:i,fill:a}}function bet(t,e,r){var n=t._fullLayout,i=e.orientation==="v",a={type:"linear",range:r,tickmode:e.tickmode,nticks:e.nticks,tick0:e.tick0,dtick:e.dtick,tickvals:e.tickvals,ticktext:e.ticktext,ticks:e.ticks,ticklen:e.ticklen,tickwidth:e.tickwidth,tickcolor:e.tickcolor,showticklabels:e.showticklabels,labelalias:e.labelalias,ticklabelposition:e.ticklabelposition,ticklabeloverflow:e.ticklabeloverflow,ticklabelstep:e.ticklabelstep,tickfont:e.tickfont,tickangle:e.tickangle,tickformat:e.tickformat,exponentformat:e.exponentformat,minexponent:e.minexponent,separatethousands:e.separatethousands,showexponent:e.showexponent,showtickprefix:e.showtickprefix,tickprefix:e.tickprefix,showticksuffix:e.showticksuffix,ticksuffix:e.ticksuffix,title:e.title,showline:!0,anchor:"free",side:i?"right":"bottom",position:1},o=i?"y":"x",s={type:"linear",_id:o+e._id},l={letter:o,font:n.font,noAutotickangles:o==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:n.calendar};function c(u,d){return ic.coerce(a,s,het,u,d)}return det(a,s,c,l,n),fet(a,s,c,l),s}z1e.exports={draw:pet}});var q1e=J((Pxt,H1e)=>{"use strict";H1e.exports={moduleType:"component",name:"colorbar",attributes:SM(),supplyDefaults:D7(),draw:F1e().draw,hasColorbar:g7()}});var B1e=J((zxt,U1e)=>{"use strict";U1e.exports={moduleType:"component",name:"legend",layoutAttributes:SH(),supplyLayoutDefaults:kH(),draw:FH(),style:LH()}});var V1e=J((Fxt,j1e)=>{"use strict";j1e.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}});var G1e=J((Hxt,W1e)=>{"use strict";W1e.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}});var CU=J((qxt,X1e)=>{"use strict";var wet=Xt(),$1e=Qe(),_U=$1e.extendFlat,Y1e=$1e.extendDeep;function Z1e(t){var e;switch(t){case"themes__thumb":e={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":e={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:e={}}return e}function xet(t){var e=["xaxis","yaxis","zaxis"];return e.indexOf(t.slice(0,5))>-1}X1e.exports=function(e,r){var n,i=e.data,a=e.layout,o=Y1e([],i),s=Y1e({},a,Z1e(r.tileClass)),l=e._context||{};if(r.width&&(s.width=r.width),r.height&&(s.height=r.height),r.tileClass==="thumbnail"||r.tileClass==="themes__thumb"){s.annotations=[];var c=Object.keys(s);for(n=0;n<c.length;n++)xet(c[n])&&(s[c[n]].title={text:""});for(n=0;n<o.length;n++){var u=o[n];u.showscale=!1,u.marker&&(u.marker.showscale=!1),wet.traceIs(u,"pie-like")&&(u.textposition="none")}}if(Array.isArray(r.annotations))for(n=0;n<r.annotations.length;n++)s.annotations.push(r.annotations[n]);var d=Object.keys(s).filter(function(v){return v.match(/^scene\d*$/)});if(d.length){var f={};for(r.tileClass==="thumbnail"&&(f={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<d.length;n++){var h=s[d[n]];h.xaxis||(h.xaxis={}),h.yaxis||(h.yaxis={}),h.zaxis||(h.zaxis={}),_U(h.xaxis,f),_U(h.yaxis,f),_U(h.zaxis,f),h._scene=null}}var p=document.createElement("div");r.tileClass&&(p.className=r.tileClass);var m={gd:p,td:p,layout:s,data:o,config:{staticPlot:r.staticPlot===void 0?!0:r.staticPlot,plotGlPixelRatio:r.plotGlPixelRatio===void 0?2:r.plotGlPixelRatio,displaylogo:r.displaylogo||!1,showLink:r.showLink||!1,showTips:r.showTips||!1,mapboxAccessToken:l.mapboxAccessToken}};return r.setBackground!=="transparent"&&(m.config.setBackground=r.setBackground||"opaque"),m.gd.defaultLayout=Z1e(r.tileClass),m}});var J1e=J((Uxt,Q1e)=>{"use strict";var Tet=require("events").EventEmitter,_et=Xt(),Cet=Qe(),K1e=Vv(),ket=CU(),Eet=v5(),Det=g5();function Aet(t,e){var r=new Tet,n=ket(t,{format:"png"}),i=n.gd;i.style.position="absolute",i.style.left="-5000px",document.body.appendChild(i);function a(){var s=K1e.getDelay(i._fullLayout);setTimeout(function(){var l=Eet(i),c=document.createElement("canvas");c.id=Cet.randstr(),r=Det({format:e.format,width:i._fullLayout.width,height:i._fullLayout.height,canvas:c,emitter:r,svg:l}),r.clean=function(){i&&document.body.removeChild(i)}},s)}var o=K1e.getRedrawFunc(i);return _et.call("_doPlot",i,n.data,n.layout,n.config).then(o).then(a).catch(function(s){r.emit("error",s)}),r}Q1e.exports=Aet});var rwe=J((Bxt,twe)=>{"use strict";var ewe=Vv(),Met={getDelay:ewe.getDelay,getRedrawFunc:ewe.getRedrawFunc,clone:CU(),toSVG:v5(),svgToImg:g5(),toImage:J1e(),downloadImage:tq()};twe.exports=Met});var iwe=J(Df=>{"use strict";Df.version=EA().version;Zre();Uoe();var Ret=Xt(),W_=Df.register=Ret.register,EU=sve(),nwe=Object.keys(EU);for(cR=0;cR<nwe.length;cR++)Qb=nwe[cR],Qb.charAt(0)!=="_"&&(Df[Qb]=EU[Qb]),W_({moduleType:"apiMethod",name:Qb,fn:EU[Qb]});var Qb,cR;W_(Lq());W_([Uye(),t0e(),Ib(),w0e(),L0e(),rbe(),Tbe(),Ube(),a1e(),d1e(),A1e(),gf(),q1e(),B1e(),Zl(),c9()]);W_([V1e(),G1e()]);window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(W_(window.PlotlyLocales),delete window.PlotlyLocales);Df.Icons=v3();var uR=Zl(),kU=ki();Df.Plots={resize:kU.resize,graphJson:kU.graphJson,sendDataToCloud:kU.sendDataToCloud};Df.Fx={hover:uR.hover,unhover:uR.unhover,loneHover:uR.loneHover,loneUnhover:uR.loneUnhover};Df.Snapshot=rwe();Df.PlotSchema=ib()});var owe=J((Vxt,awe)=>{"use strict";awe.exports=iwe()});var fR=J((Wxt,swe)=>{"use strict";var Iet=Ws(),Net=Kb().attributes,Let=ba(),Oet=Pu(),Pet=Gs().hovertemplateAttrs,zet=Gs().texttemplateAttrs,G_=Ti().extendFlat,Fet=Lc().pattern,dR=Let({editType:"plot",arrayOk:!0,colorEditType:"plot",description:"Sets the font used for `textinfo`."});swe.exports={labels:{valType:"data_array",editType:"calc",description:["Sets the sector labels.","If `labels` entries are duplicated, we sum associated `values`","or simply count occurrences if `values` is not provided.","For other array attributes (including color) we use the first","non-empty entry among all occurrences of the label."].join(" ")},label0:{valType:"number",dflt:0,editType:"calc",description:["Alternate to `labels`.","Builds a numeric set of labels.","Use with `dlabel`","where `label0` is the starting label and `dlabel` the step."].join(" ")},dlabel:{valType:"number",dflt:1,editType:"calc",description:"Sets the label step. See `label0` for more info."},values:{valType:"data_array",editType:"calc",description:["Sets the values of the sectors.","If omitted, we count occurrences of each label."].join(" ")},marker:{colors:{valType:"data_array",editType:"calc",description:["Sets the color of each sector.","If not specified, the default trace color set is used","to pick the sector colors."].join(" ")},line:{color:{valType:"color",dflt:Oet.defaultLine,arrayOk:!0,editType:"style",description:["Sets the color of the line enclosing each sector."].join(" ")},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style",description:["Sets the width (in px) of the line enclosing each sector."].join(" ")},editType:"calc"},pattern:Fet,editType:"calc"},text:{valType:"data_array",editType:"plot",description:["Sets text elements associated with each sector.","If trace `textinfo` contains a *text* flag, these elements will be seen","on the chart.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style",description:["Sets hover text elements associated with each sector.","If a single string, the same string appears for","all data points.","If an array of string, the items are mapped in order of","this trace's sectors.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")},scalegroup:{valType:"string",dflt:"",editType:"calc",description:["If there are multiple pie charts that should be sized according to","their totals, link them by providing a non-empty group id here","shared by every trace in the same group."].join(" ")},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc",description:["Determines which trace information appear on the graph."].join(" ")},hoverinfo:G_({},Iet.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:Pet({},{keys:["label","color","value","percent","text"]}),texttemplate:zet({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot",description:["Specifies the location of the `textinfo`."].join(" ")},textfont:G_({},dR,{description:"Sets the font used for `textinfo`."}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot",description:["Controls the orientation of the text inside chart sectors.","When set to *auto*, text may be oriented in any direction in order","to be as big as possible in the middle of a sector.","The *horizontal* option orients text to be parallel with the bottom","of the chart, and may make text smaller in order to achieve that goal.","The *radial* option orients text along the radius of the sector.","The *tangential* option orients text perpendicular to the radius of the sector."].join(" ")},insidetextfont:G_({},dR,{description:"Sets the font used for `textinfo` lying inside the sector."}),outsidetextfont:G_({},dR,{description:"Sets the font used for `textinfo` lying outside the sector."}),automargin:{valType:"boolean",dflt:!1,editType:"plot",description:["Determines whether outside text labels can push the margins."].join(" ")},title:{text:{valType:"string",dflt:"",editType:"plot",description:["Sets the title of the chart.","If it is empty, no title is displayed."].join(" ")},font:G_({},dR,{description:"Sets the font used for `title`."}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot",description:["Specifies the location of the `title`."].join(" ")},editType:"plot"},domain:Net({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc",description:["Sets the fraction of the radius to cut out of the pie.","Use this to make a donut chart."].join(" ")},sort:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether or not the sectors are reordered","from largest to smallest."].join(" ")},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc",description:["Specifies the direction at which succeeding sectors follow","one another."].join(" ")},rotation:{valType:"angle",dflt:0,editType:"calc",description:["Instead of the first slice starting at 12 o'clock,","rotate to some other angle."].join(" ")},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc",description:["Sets the fraction of larger radius to pull the sectors","out from the center. This can be a constant","to pull all slices apart from each other equally","or an array to highlight one or more slices."].join(" ")}}});var dwe=J((Gxt,uwe)=>{"use strict";var Het=gr(),lwe=Vl().hasColorscale,cwe=Cv(),qet=Qe().coercePattern;uwe.exports=function(e,r,n,i,a){var o=n("marker.color",i),s=lwe(e,"marker");s&&cwe(e,r,a,n,{prefix:"marker.",cLetter:"c"}),n("marker.line.color",Het.defaultLine),lwe(e,"marker.line")&&cwe(e,r,a,n,{prefix:"marker.line.",cLetter:"c"}),n("marker.line.width"),n("marker.opacity"),qet(n,"marker.pattern",o,s),n("selected.marker.color"),n("unselected.marker.color")}});var hR=J((Yxt,fwe)=>{"use strict";fwe.exports={TEXTPAD:3,eventDataKeys:["value","label"]}});var Y_=J((Zxt,vwe)=>{"use strict";var ti=wp(),hwe=AS().axisHoverFormat,Uet=Gs().hovertemplateAttrs,Bet=Gs().texttemplateAttrs,mwe=_v(),jet=ba(),pwe=hR(),Vet=Lc().pattern,tg=Ti().extendFlat,DU=jet({editType:"calc",arrayOk:!0,colorEditType:"style",description:""}),Wet=ti.marker,Get=Wet.line,Yet=tg({},Get.width,{dflt:0}),Zet=tg({width:Yet,editType:"calc"},mwe("marker.line")),$et=tg({line:Zet,editType:"calc"},mwe("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style",description:"Sets the opacity of the bars."},pattern:Vet,cornerradius:{valType:"any",editType:"calc",description:["Sets the rounding of corners. May be an integer number of pixels,","or a percentage of bar width (as a string ending in %). Defaults to `layout.barcornerradius`.","In stack or relative barmode, the first trace to set cornerradius is used for the whole stack."].join(" ")}});vwe.exports={x:ti.x,x0:ti.x0,dx:ti.dx,y:ti.y,y0:ti.y0,dy:ti.dy,xperiod:ti.xperiod,yperiod:ti.yperiod,xperiod0:ti.xperiod0,yperiod0:ti.yperiod0,xperiodalignment:ti.xperiodalignment,yperiodalignment:ti.yperiodalignment,xhoverformat:hwe("x"),yhoverformat:hwe("y"),text:ti.text,texttemplate:Bet({editType:"plot"},{keys:pwe.eventDataKeys}),hovertext:ti.hovertext,hovertemplate:Uet({},{keys:pwe.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc",description:["Specifies the location of the `text`.","*inside* positions `text` inside, next to the bar end","(rotated and scaled if needed).","*outside* positions `text` outside, next to the bar end","(scaled if needed), unless there is another bar stacked on","this one, then the text gets pushed inside.","*auto* tries to position `text` inside the bar, but if","the bar is too small and no bar is stacked on this one","the text is moved outside.","If *none*, no text appears."].join(" ")},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot",description:["Determines if texts are kept at center or start/end points in `textposition` *inside* mode."].join(" ")},textangle:{valType:"angle",dflt:"auto",editType:"plot",description:["Sets the angle of the tick labels with respect to the bar.","For example, a `tickangle` of -90 draws the tick labels","vertically. With *auto* the texts may automatically be","rotated to fit with the maximum size in bars."].join(" ")},textfont:tg({},DU,{description:"Sets the font used for `text`."}),insidetextfont:tg({},DU,{description:"Sets the font used for `text` lying inside the bar."}),outsidetextfont:tg({},DU,{description:"Sets the font used for `text` lying outside the bar."}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc",description:["Constrain the size of text inside or outside a bar to be no","larger than the bar itself."].join(" ")},cliponaxis:tg({},ti.cliponaxis,{description:["Determines whether the text nodes","are clipped about the subplot axes.","To show the text nodes above axis lines and tick labels,","make sure to set `xaxis.layer` and `yaxis.layer` to *below traces*."].join(" ")}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes",description:["Sets the orientation of the bars.","With *v* (*h*), the value of the each bar spans","along the vertical (horizontal)."].join(" ")},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc",description:["Sets where the bar base is drawn (in position axis units).","In *stack* or *relative* barmode,","traces that set *base* will be excluded","and drawn in *overlay* mode instead."].join(" ")},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc",description:["Shifts the position where the bar is drawn","(in position axis units).","In *group* barmode,","traces that set *offset* will be excluded","and drawn in *overlay* mode instead."].join(" ")},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc",description:["Sets the bar width (in position axis units)."].join(" ")},marker:$et,offsetgroup:ti.offsetgroup,alignmentgroup:ti.alignmentgroup,selected:{marker:{opacity:ti.selected.marker.opacity,color:ti.selected.marker.color,editType:"style"},textfont:ti.selected.textfont,editType:"style"},unselected:{marker:{opacity:ti.unselected.marker.opacity,color:ti.unselected.marker.color,editType:"style"},textfont:ti.unselected.textfont,editType:"style"},zorder:ti.zorder}});var e1=J(($xt,Twe)=>{"use strict";var gwe=_r(),Jb=Qe(),ywe=gr(),Xet=Xt(),Ket=iq(),Qet=T5(),Jet=dwe(),ett=aq(),bwe=Y_(),pR=Jb.coerceFont;function ttt(t,e,r,n){function i(c,u){return Jb.coerce(t,e,bwe,c,u)}var a=Ket(t,e,n,i);if(!a){e.visible=!1;return}Qet(t,e,n,i),i("xhoverformat"),i("yhoverformat"),i("zorder"),i("orientation",e.x&&!e.y?"h":"v"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate");var o=i("textposition");xwe(t,e,n,i,o,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),Jet(t,e,i,r,n);var s=(e.marker.line||{}).color,l=Xet.getComponentMethod("errorbars","supplyDefaults");l(t,e,s||ywe.defaultLine,{axis:"y"}),l(t,e,s||ywe.defaultLine,{axis:"x",inherit:"y"}),Jb.coerceSelectionMarkerOpacity(e,i)}function rtt(t,e){var r,n;function i(s,l){return Jb.coerce(n._input,n,bwe,s,l)}for(var a=0;a<t.length;a++)if(n=t[a],n.type==="bar"){r=n._input;var o=i("marker.cornerradius",e.barcornerradius);n.marker&&(n.marker.cornerradius=wwe(o)),ett(r,n,e,i,e.barmode)}}function wwe(t){if(gwe(t)){if(t=+t,t>=0)return t}else if(typeof t=="string"&&(t=t.trim(),t.slice(-1)==="%"&&gwe(t.slice(0,-1))&&(t=+t.slice(0,-1),t>=0)))return t+"%"}function xwe(t,e,r,n,i,a){a=a||{};var o=a.moduleHasSelected!==!1,s=a.moduleHasUnselected!==!1,l=a.moduleHasConstrain!==!1,c=a.moduleHasCliponaxis!==!1,u=a.moduleHasTextangle!==!1,d=a.moduleHasInsideanchor!==!1,f=!!a.hasPathbar,h=Array.isArray(i)||i==="auto",p=h||i==="inside",m=h||i==="outside";if(p||m){var v=pR(n,"textfont",r.font),y=Jb.extendFlat({},v),b=t.textfont&&t.textfont.color,x=!b;if(x&&delete y.color,pR(n,"insidetextfont",y),f){var w=Jb.extendFlat({},v);x&&delete w.color,pR(n,"pathbar.textfont",w)}m&&pR(n,"outsidetextfont",v),o&&n("selected.textfont.color"),s&&n("unselected.textfont.color"),l&&n("constraintext"),c&&n("cliponaxis"),u&&n("textangle"),n("texttemplate")}p&&d&&n("insidetextanchor")}Twe.exports={supplyDefaults:ttt,crossTraceDefaults:rtt,handleText:xwe,validateCornerradius:wwe}});var AU=J((Xxt,Cwe)=>{"use strict";var ntt=_r(),Z_=Qe(),itt=fR(),att=Kb().defaults,ott=e1().handleText,stt=Qe().coercePattern;function Swe(t,e){var r=Z_.isArrayOrTypedArray(t),n=Z_.isArrayOrTypedArray(e),i=Math.min(r?t.length:1/0,n?e.length:1/0);if(isFinite(i)||(i=0),i&&n){for(var a,o=0;o<i;o++){var s=e[o];if(ntt(s)&&s>0){a=!0;break}}a||(i=0)}return{hasLabels:r,hasValues:n,len:i}}function _we(t,e,r,n,i){var a=n("marker.line.width");a&&n("marker.line.color",i?void 0:r.paper_bgcolor);var o=n("marker.colors");stt(n,"marker.pattern",o),t.marker&&!e.marker.pattern.fgcolor&&(e.marker.pattern.fgcolor=t.marker.colors),e.marker.pattern.bgcolor||(e.marker.pattern.bgcolor=r.paper_bgcolor)}function ltt(t,e,r,n){function i(b,x){return Z_.coerce(t,e,itt,b,x)}var a=i("labels"),o=i("values"),s=Swe(a,o),l=s.len;if(e._hasLabels=s.hasLabels,e._hasValues=s.hasValues,!e._hasLabels&&e._hasValues&&(i("label0"),i("dlabel")),!l){e.visible=!1;return}e._length=l,_we(t,e,n,i,!0),i("scalegroup");var c=i("text"),u=i("texttemplate"),d;if(u||(d=i("textinfo",Z_.isArrayOrTypedArray(c)?"text+percent":"percent")),i("hovertext"),i("hovertemplate"),u||d&&d!=="none"){var f=i("textposition");ott(t,e,n,i,f,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var h=Array.isArray(f)||f==="auto",p=h||f==="outside";p&&i("automargin"),(f==="inside"||f==="auto"||Array.isArray(f))&&i("insidetextorientation")}else d==="none"&&i("textposition","none");att(e,n,i);var m=i("hole"),v=i("title.text");if(v){var y=i("title.position",m?"middle center":"top center");!m&&y==="middle center"&&(e.title.position="top center"),Z_.coerceFont(i,"title.font",n.font)}i("sort"),i("direction"),i("rotation"),i("pull")}Cwe.exports={handleLabelsAndValues:Swe,handleMarkerDefaults:_we,supplyDefaults:ltt}});var MU=J((Kxt,kwe)=>{"use strict";kwe.exports={hiddenlabels:{valType:"data_array",editType:"calc",description:["hiddenlabels is the funnelarea & pie chart analog of","visible:'legendonly'","but it can contain many labels, and can simultaneously","hide slices from several pies/funnelarea charts"].join(" ")},piecolorway:{valType:"colorlist",editType:"calc",description:["Sets the default pie slice colors. Defaults to the main","`colorway` used for trace colors. If you specify a new","list here it can still be extended with lighter and darker","colors, see `extendpiecolors`."].join(" ")},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc",description:["If `true`, the pie slice colors (whether given by `piecolorway` or","inherited from `colorway`) will be extended to three times its","original length by first repeating every color 20% lighter then","each color 20% darker. This is intended to reduce the likelihood","of reusing the same color when you have many slices, but you can","set `false` to disable.","Colors provided in the trace, using `marker.colors`, are never","extended."].join(" ")}}});var Dwe=J((Qxt,Ewe)=>{"use strict";var ctt=Qe(),utt=MU();Ewe.exports=function(e,r){function n(i,a){return ctt.coerce(e,r,utt,i,a)}n("hiddenlabels"),n("piecolorway",r.colorway),n("extendpiecolors")}});var $_=J((Jxt,Rwe)=>{"use strict";var dtt=_r(),RU=Vs(),ftt=gr(),htt={};function ptt(t,e){var r=[],n=t._fullLayout,i=n.hiddenlabels||[],a=e.labels,o=e.marker.colors||[],s=e.values,l=e._length,c=e._hasValues&&l,u,d;if(e.dlabel)for(a=new Array(l),u=0;u<l;u++)a[u]=String(e.label0+u*e.dlabel);var f={},h=Awe(n["_"+e.type+"colormap"]),p=0,m=!1;for(u=0;u<l;u++){var v,y,b;if(c){if(v=s[u],!dtt(v))continue;v=+v}else v=1;y=a[u],(y===void 0||y==="")&&(y=u),y=String(y);var x=f[y];x===void 0?(f[y]=r.length,b=i.indexOf(y)!==-1,b||(p+=v),r.push({v,label:y,color:h(o[u],y),i:u,pts:[u],hidden:b})):(m=!0,d=r[x],d.v+=v,d.pts.push(u),d.hidden||(p+=v),d.color===!1&&o[u]&&(d.color=h(o[u],y)))}r=r.filter(function(S){return S.v>=0});var w=e.type==="funnelarea"?m:e.sort;return w&&r.sort(function(S,_){return _.v-S.v}),r[0]&&(r[0].vTotal=p),r}function Awe(t){return function(r,n){return!r||(r=RU(r),!r.isValid())?!1:(r=ftt.addOpacity(r,r.getAlpha()),t[n]||(t[n]=r),r)}}function mtt(t,e){var r=(e||{}).type;r||(r="pie");var n=t._fullLayout,i=t.calcdata,a=n[r+"colorway"],o=n["_"+r+"colormap"];n["extend"+r+"colors"]&&(a=Mwe(a,htt));for(var s=0,l=0;l<i.length;l++){var c=i[l],u=c[0].trace.type;if(u===r)for(var d=0;d<c.length;d++){var f=c[d];f.color===!1&&(o[f.label]?f.color=o[f.label]:(o[f.label]=f.color=a[s%a.length],s++))}}}function Mwe(t,e){var r,n=JSON.stringify(t),i=e[n];if(!i){for(i=t.slice(),r=0;r<t.length;r++)i.push(RU(t[r]).lighten(20).toHexString());for(r=0;r<t.length;r++)i.push(RU(t[r]).darken(20).toHexString());e[n]=i}return i}Rwe.exports={calc:ptt,crossTraceCalc:mtt,makePullColorFn:Awe,generateExtendedColors:Mwe}});var rg=J((eTt,Nwe)=>{"use strict";var vtt=Sr(),gtt=Qe();function ytt(t,e,r){var n=t._fullLayout,i=n["_"+r+"Text_minsize"];if(i){var a=n.uniformtext.mode==="hide",o;switch(r){case"funnelarea":case"pie":case"sunburst":o="g.slice";break;case"treemap":case"icicle":o="g.slice, g.pathbar";break;default:o="g.points > g.point"}e.selectAll(o).each(function(s){var l=s.transform;if(l){l.scale=a&&l.hide?0:i/l.fontSize;var c=vtt.select(this).select("text");gtt.setTransormAndDisplay(c,l)}})}}function btt(t,e,r){if(r.uniformtext.mode){var n=Iwe(t),i=r.uniformtext.minsize,a=e.scale*e.fontSize;e.hide=a<i,r[n]=r[n]||1/0,e.hide||(r[n]=Math.min(r[n],Math.max(a,i)))}}function wtt(t,e){var r=Iwe(t);e[r]=void 0}function Iwe(t){return"_"+t+"Text_minsize"}Nwe.exports={recordMinTextSize:btt,clearMinTextSize:wtt,resizeText:ytt}});var Owe=J((tTt,Lwe)=>{"use strict";var xtt=qc().appendArrayMultiPointValues;Lwe.exports=function(e,r){var n={curveNumber:r.index,pointNumbers:e.pts,data:r._input,fullData:r,label:e.label,color:e.color,value:e.v,percent:e.percent,text:e.text,bbox:e.bbox,v:e.v};return e.pts.length===1&&(n.pointNumber=n.i=e.pts[0]),xtt(n,r,e.pts),r.type==="funnelarea"&&(delete n.v,delete n.i),n}});var LU=J((rTt,rxe)=>{"use strict";var Ss=Sr(),Ttt=ki(),mR=Zl(),Uwe=gr(),Af=Kr(),Ba=Qe(),Stt=Ba.strScale,Pwe=Ba.strTranslate,IU=wa(),Bwe=rg(),_tt=Bwe.recordMinTextSize,Ctt=Bwe.clearMinTextSize,jwe=hR().TEXTPAD,ar=Pv(),vR=Owe(),zwe=Qe().isValidTextValue;function ktt(t,e){var r=t._context.staticPlot,n=t._fullLayout,i=n._size;Ctt("pie",n),Gwe(e,t),Jwe(e,i);var a=Ba.makeTraceGroups(n._pielayer,e,"trace").each(function(o){var s=Ss.select(this),l=o[0],c=l.trace;Ott(o),s.attr("stroke-linejoin","round"),s.each(function(){var u=Ss.select(this).selectAll("g.slice").data(o);u.enter().append("g").classed("slice",!0),u.exit().remove();var d=[[[],[]],[[],[]]],f=!1;u.each(function(w,S){if(w.hidden){Ss.select(this).selectAll("path,g").remove();return}w.pointNumber=w.i,w.curveNumber=c.index,d[w.pxmid[1]<0?0:1][w.pxmid[0]<0?0:1].push(w);var _=l.cx,C=l.cy,E=Ss.select(this),M=E.selectAll("path.surface").data([w]);if(M.enter().append("path").classed("surface",!0).style({"pointer-events":r?"none":"all"}),E.call(Vwe,t,o),c.pull){var I=+ar.castOption(c.pull,w.pts)||0;I>0&&(_+=I*w.pxmid[0],C+=I*w.pxmid[1])}w.cxFinal=_,w.cyFinal=C;function L(B,$,ee,te){var he=te*($[0]-B[0]),we=te*($[1]-B[1]);return"a"+te*l.r+","+te*l.r+" 0 "+w.largeArc+(ee?" 1 ":" 0 ")+he+","+we}var O=c.hole;if(w.v===l.vTotal){var H="M"+(_+w.px0[0])+","+(C+w.px0[1])+L(w.px0,w.pxmid,!0,1)+L(w.pxmid,w.px0,!0,1)+"Z";O?M.attr("d","M"+(_+O*w.px0[0])+","+(C+O*w.px0[1])+L(w.px0,w.pxmid,!1,O)+L(w.pxmid,w.px0,!1,O)+"Z"+H):M.attr("d",H)}else{var Y=L(w.px0,w.px1,!0,1);if(O){var K=1-O;M.attr("d","M"+(_+O*w.px1[0])+","+(C+O*w.px1[1])+L(w.px1,w.px0,!1,O)+"l"+K*w.px0[0]+","+K*w.px0[1]+Y+"Z")}else M.attr("d","M"+_+","+C+"l"+w.px0[0]+","+w.px0[1]+Y+"Z")}exe(t,w,l);var N=ar.castOption(c.textposition,w.pts),U=E.selectAll("g.slicetext").data(w.text&&N!=="none"?[0]:[]);U.enter().append("g").classed("slicetext",!0),U.exit().remove(),U.each(function(){var B=Ba.ensureSingle(Ss.select(this),"text","",function(q){q.attr("data-notex",1)}),$=Ba.ensureUniformFontSize(t,N==="outside"?Dtt(c,w,n.font):Wwe(c,w,n.font));B.text(w.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(Af.font,$).call(IU.convertToTspans,t);var ee=Af.bBox(B.node()),te;if(N==="outside")te=qwe(ee,w);else if(te=Ywe(ee,w,l),N==="auto"&&te.scale<1){var he=Ba.ensureUniformFontSize(t,c.outsidetextfont);B.call(Af.font,he),ee=Af.bBox(B.node()),te=qwe(ee,w)}var we=te.textPosAngle,Te=we===void 0?w.pxmid:gR(l.r,we);if(te.targetX=_+Te[0]*te.rCenter+(te.x||0),te.targetY=C+Te[1]*te.rCenter+(te.y||0),txe(te,ee),te.outside){var ce=te.targetY;w.yLabelMin=ce-ee.height/2,w.yLabelMid=ce,w.yLabelMax=ce+ee.height/2,w.labelExtraX=0,w.labelExtraY=0,f=!0}te.fontSize=$.size,_tt(c.type,te,n),o[S].transform=te,Ba.setTransormAndDisplay(B,te)})});var h=Ss.select(this).selectAll("g.titletext").data(c.title.text?[0]:[]);if(h.enter().append("g").classed("titletext",!0),h.exit().remove(),h.each(function(){var w=Ba.ensureSingle(Ss.select(this),"text","",function(C){C.attr("data-notex",1)}),S=c.title.text;c._meta&&(S=Ba.templateString(S,c._meta)),w.text(S).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(Af.font,c.title.font).call(IU.convertToTspans,t);var _;c.title.position==="middle center"?_=Rtt(l):_=Kwe(l,i),w.attr("transform",Pwe(_.x,_.y)+Stt(Math.min(1,_.scale))+Pwe(_.tx,_.ty))}),f&&Ntt(d,c),Ett(u,c),f&&c.automargin){var p=Af.bBox(s.node()),m=c.domain,v=i.w*(m.x[1]-m.x[0]),y=i.h*(m.y[1]-m.y[0]),b=(.5*v-l.r)/i.w,x=(.5*y-l.r)/i.h;Ttt.autoMargin(t,"pie."+c.uid+".automargin",{xl:m.x[0]-b,xr:m.x[1]+b,yb:m.y[0]-x,yt:m.y[1]+x,l:Math.max(l.cx-l.r-p.left,0),r:Math.max(p.right-(l.cx+l.r),0),b:Math.max(p.bottom-(l.cy+l.r),0),t:Math.max(l.cy-l.r-p.top,0),pad:5})}})});setTimeout(function(){a.selectAll("tspan").each(function(){var o=Ss.select(this);o.attr("dy")&&o.attr("dy",o.attr("dy"))})},0)}function Ett(t,e){t.each(function(r){var n=Ss.select(this);if(!r.labelExtraX&&!r.labelExtraY){n.select("path.textline").remove();return}var i=n.select("g.slicetext text");r.transform.targetX+=r.labelExtraX,r.transform.targetY+=r.labelExtraY,Ba.setTransormAndDisplay(i,r.transform);var a=r.cxFinal+r.pxmid[0],o=r.cyFinal+r.pxmid[1],s="M"+a+","+o,l=(r.yLabelMax-r.yLabelMin)*(r.pxmid[0]<0?-1:1)/4;if(r.labelExtraX){var c=r.labelExtraX*r.pxmid[1]/r.pxmid[0],u=r.yLabelMid+r.labelExtraY-(r.cyFinal+r.pxmid[1]);Math.abs(c)>Math.abs(u)?s+="l"+u*r.pxmid[0]/r.pxmid[1]+","+u+"H"+(a+r.labelExtraX+l):s+="l"+r.labelExtraX+","+c+"v"+(u-c)+"h"+l}else s+="V"+(r.yLabelMid+r.labelExtraY)+"h"+l;Ba.ensureSingle(n,"path","textline").call(Uwe.stroke,e.outsidetextfont.color).attr({"stroke-width":Math.min(2,e.outsidetextfont.size/8),d:s,fill:"none"})})}function Vwe(t,e,r){var n=r[0],i=n.cx,a=n.cy,o=n.trace,s=o.type==="funnelarea";"_hasHoverLabel"in o||(o._hasHoverLabel=!1),"_hasHoverEvent"in o||(o._hasHoverEvent=!1),t.on("mouseover",function(l){var c=e._fullLayout,u=e._fullData[o.index];if(!(e._dragging||c.hovermode===!1)){var d=u.hoverinfo;if(Array.isArray(d)&&(d=mR.castHoverinfo({hoverinfo:[ar.castOption(d,l.pts)],_module:o._module},c,0)),d==="all"&&(d="label+text+value+percent+name"),u.hovertemplate||d!=="none"&&d!=="skip"&&d){var f=l.rInscribed||0,h=i+l.pxmid[0]*(1-f),p=a+l.pxmid[1]*(1-f),m=c.separators,v=[];if(d&&d.indexOf("label")!==-1&&v.push(l.label),l.text=ar.castOption(u.hovertext||u.text,l.pts),d&&d.indexOf("text")!==-1){var y=l.text;Ba.isValidTextValue(y)&&v.push(y)}l.value=l.v,l.valueLabel=ar.formatPieValue(l.v,m),d&&d.indexOf("value")!==-1&&v.push(l.valueLabel),l.percent=l.v/n.vTotal,l.percentLabel=ar.formatPiePercent(l.percent,m),d&&d.indexOf("percent")!==-1&&v.push(l.percentLabel);var b=u.hoverlabel,x=b.font,w=[];mR.loneHover({trace:o,x0:h-f*n.r,x1:h+f*n.r,y:p,_x0:s?i+l.TL[0]:h-f*n.r,_x1:s?i+l.TR[0]:h+f*n.r,_y0:s?a+l.TL[1]:p-f*n.r,_y1:s?a+l.BL[1]:p+f*n.r,text:v.join("<br>"),name:u.hovertemplate||d.indexOf("name")!==-1?u.name:void 0,idealAlign:l.pxmid[0]<0?"left":"right",color:ar.castOption(b.bgcolor,l.pts)||l.color,borderColor:ar.castOption(b.bordercolor,l.pts),fontFamily:ar.castOption(x.family,l.pts),fontSize:ar.castOption(x.size,l.pts),fontColor:ar.castOption(x.color,l.pts),nameLength:ar.castOption(b.namelength,l.pts),textAlign:ar.castOption(b.align,l.pts),hovertemplate:ar.castOption(u.hovertemplate,l.pts),hovertemplateLabels:l,eventData:[vR(l,u)]},{container:c._hoverlayer.node(),outerContainer:c._paper.node(),gd:e,inOut_bbox:w}),l.bbox=w[0],o._hasHoverLabel=!0}o._hasHoverEvent=!0,e.emit("plotly_hover",{points:[vR(l,u)],event:Ss.event})}}),t.on("mouseout",function(l){var c=e._fullLayout,u=e._fullData[o.index],d=Ss.select(this).datum();o._hasHoverEvent&&(l.originalEvent=Ss.event,e.emit("plotly_unhover",{points:[vR(d,u)],event:Ss.event}),o._hasHoverEvent=!1),o._hasHoverLabel&&(mR.loneUnhover(c._hoverlayer.node()),o._hasHoverLabel=!1)}),t.on("click",function(l){var c=e._fullLayout,u=e._fullData[o.index];e._dragging||c.hovermode===!1||(e._hoverdata=[vR(l,u)],mR.click(e,Ss.event))})}function Dtt(t,e,r){var n=ar.castOption(t.outsidetextfont.color,e.pts)||ar.castOption(t.textfont.color,e.pts)||r.color,i=ar.castOption(t.outsidetextfont.family,e.pts)||ar.castOption(t.textfont.family,e.pts)||r.family,a=ar.castOption(t.outsidetextfont.size,e.pts)||ar.castOption(t.textfont.size,e.pts)||r.size,o=ar.castOption(t.outsidetextfont.weight,e.pts)||ar.castOption(t.textfont.weight,e.pts)||r.weight,s=ar.castOption(t.outsidetextfont.style,e.pts)||ar.castOption(t.textfont.style,e.pts)||r.style,l=ar.castOption(t.outsidetextfont.variant,e.pts)||ar.castOption(t.textfont.variant,e.pts)||r.variant,c=ar.castOption(t.outsidetextfont.textcase,e.pts)||ar.castOption(t.textfont.textcase,e.pts)||r.textcase,u=ar.castOption(t.outsidetextfont.lineposition,e.pts)||ar.castOption(t.textfont.lineposition,e.pts)||r.lineposition,d=ar.castOption(t.outsidetextfont.shadow,e.pts)||ar.castOption(t.textfont.shadow,e.pts)||r.shadow;return{color:n,family:i,size:a,weight:o,style:s,variant:l,textcase:c,lineposition:u,shadow:d}}function Wwe(t,e,r){var n=ar.castOption(t.insidetextfont.color,e.pts);!n&&t._input.textfont&&(n=ar.castOption(t._input.textfont.color,e.pts));var i=ar.castOption(t.insidetextfont.family,e.pts)||ar.castOption(t.textfont.family,e.pts)||r.family,a=ar.castOption(t.insidetextfont.size,e.pts)||ar.castOption(t.textfont.size,e.pts)||r.size,o=ar.castOption(t.insidetextfont.weight,e.pts)||ar.castOption(t.textfont.weight,e.pts)||r.weight,s=ar.castOption(t.insidetextfont.style,e.pts)||ar.castOption(t.textfont.style,e.pts)||r.style,l=ar.castOption(t.insidetextfont.variant,e.pts)||ar.castOption(t.textfont.variant,e.pts)||r.variant,c=ar.castOption(t.insidetextfont.textcase,e.pts)||ar.castOption(t.textfont.textcase,e.pts)||r.textcase,u=ar.castOption(t.insidetextfont.lineposition,e.pts)||ar.castOption(t.textfont.lineposition,e.pts)||r.lineposition,d=ar.castOption(t.insidetextfont.shadow,e.pts)||ar.castOption(t.textfont.shadow,e.pts)||r.shadow;return{color:n||Uwe.contrast(e.color),family:i,size:a,weight:o,style:s,variant:l,textcase:c,lineposition:u,shadow:d}}function Gwe(t,e){for(var r,n,i=0;i<t.length;i++)if(r=t[i][0],n=r.trace,n.title.text){var a=n.title.text;n._meta&&(a=Ba.templateString(a,n._meta));var o=Af.tester.append("text").attr("data-notex",1).text(a).call(Af.font,n.title.font).call(IU.convertToTspans,e),s=Af.bBox(o.node(),!0);r.titleBox={width:s.width,height:s.height},o.remove()}}function Ywe(t,e,r){var n=r.r||e.rpx1,i=e.rInscribed,a=e.startangle===e.stopangle;if(a)return{rCenter:1-i,scale:0,rotate:0,textPosAngle:0};var o=e.ring,s=o===1&&Math.abs(e.startangle-e.stopangle)===Math.PI*2,l=e.halfangle,c=e.midangle,u=r.trace.insidetextorientation,d=u==="horizontal",f=u==="tangential",h=u==="radial",p=u==="auto",m=[],v;if(!p){var y=function(E,M){if(Att(e,E)){var I=Math.abs(E-e.startangle),L=Math.abs(E-e.stopangle),O=I<L?I:L;M==="tan"?v=Hwe(t,n,o,O,0):v=Fwe(t,n,o,O,Math.PI/2),v.textPosAngle=E,m.push(v)}},b;if(d||f){for(b=4;b>=-4;b-=2)y(Math.PI*b,"tan");for(b=4;b>=-4;b-=2)y(Math.PI*(b+1),"tan")}if(d||h){for(b=4;b>=-4;b-=2)y(Math.PI*(b+1.5),"rad");for(b=4;b>=-4;b-=2)y(Math.PI*(b+.5),"rad")}}if(s||p||d){var x=Math.sqrt(t.width*t.width+t.height*t.height);if(v={scale:i*n*2/x,rCenter:1-i,rotate:0},v.textPosAngle=(e.startangle+e.stopangle)/2,v.scale>=1)return v;m.push(v)}(p||h)&&(v=Fwe(t,n,o,l,c),v.textPosAngle=(e.startangle+e.stopangle)/2,m.push(v)),(p||f)&&(v=Hwe(t,n,o,l,c),v.textPosAngle=(e.startangle+e.stopangle)/2,m.push(v));for(var w=0,S=0,_=0;_<m.length;_++){var C=m[_].scale;if(S<C&&(S=C,w=_),!p&&S>=1)break}return m[w]}function Att(t,e){var r=t.startangle,n=t.stopangle;return r>e&&e>n||r<e&&e<n}function Fwe(t,e,r,n,i){e=Math.max(0,e-2*jwe);var a=t.width/t.height,o=Xwe(a,n,e,r);return{scale:o*2/t.height,rCenter:Zwe(a,o/e),rotate:$we(i)}}function Hwe(t,e,r,n,i){e=Math.max(0,e-2*jwe);var a=t.height/t.width,o=Xwe(a,n,e,r);return{scale:o*2/t.width,rCenter:Zwe(a,o/e),rotate:$we(i+Math.PI/2)}}function Zwe(t,e){return Math.cos(e)-t*e}function $we(t){return(180/Math.PI*t+720)%180-90}function Xwe(t,e,r,n){var i=t+1/(2*Math.tan(e));return r*Math.min(1/(Math.sqrt(i*i+.5)+i),n/(Math.sqrt(t*t+n/2)+t))}function Mtt(t,e){return t.v===e.vTotal&&!e.trace.hole?1:Math.min(1/(1+1/Math.sin(t.halfangle)),t.ring/2)}function qwe(t,e){var r=e.pxmid[0],n=e.pxmid[1],i=t.width/2,a=t.height/2;return r<0&&(i*=-1),n<0&&(a*=-1),{scale:1,rCenter:1,rotate:0,x:i+Math.abs(a)*(i>0?1:-1)/2,y:a/(1+r*r/(n*n)),outside:!0}}function Rtt(t){var e=Math.sqrt(t.titleBox.width*t.titleBox.width+t.titleBox.height*t.titleBox.height);return{x:t.cx,y:t.cy,scale:t.trace.hole*t.r*2/e,tx:0,ty:-t.titleBox.height/2+t.trace.title.font.size}}function Kwe(t,e){var r=1,n=1,i,a=t.trace,o={x:t.cx,y:t.cy},s={tx:0,ty:0};s.ty+=a.title.font.size,i=Qwe(a),a.title.position.indexOf("top")!==-1?(o.y-=(1+i)*t.r,s.ty-=t.titleBox.height):a.title.position.indexOf("bottom")!==-1&&(o.y+=(1+i)*t.r);var l=Itt(t.r,t.trace.aspectratio),c=e.w*(a.domain.x[1]-a.domain.x[0])/2;return a.title.position.indexOf("left")!==-1?(c=c+l,o.x-=(1+i)*l,s.tx+=t.titleBox.width/2):a.title.position.indexOf("center")!==-1?c*=2:a.title.position.indexOf("right")!==-1&&(c=c+l,o.x+=(1+i)*l,s.tx-=t.titleBox.width/2),r=c/t.titleBox.width,n=NU(t,e)/t.titleBox.height,{x:o.x,y:o.y,scale:Math.min(r,n),tx:s.tx,ty:s.ty}}function Itt(t,e){return t/(e===void 0?1:e)}function NU(t,e){var r=t.trace,n=e.h*(r.domain.y[1]-r.domain.y[0]);return Math.min(t.titleBox.height,n/2)}function Qwe(t){var e=t.pull;if(!e)return 0;var r;if(Ba.isArrayOrTypedArray(e))for(e=0,r=0;r<t.pull.length;r++)t.pull[r]>e&&(e=t.pull[r]);return e}function Ntt(t,e){var r,n,i,a,o,s,l,c,u,d,f,h,p;function m(x,w){return x.pxmid[1]-w.pxmid[1]}function v(x,w){return w.pxmid[1]-x.pxmid[1]}function y(x,w){w||(w={});var S=w.labelExtraY+(n?w.yLabelMax:w.yLabelMin),_=n?x.yLabelMin:x.yLabelMax,C=n?x.yLabelMax:x.yLabelMin,E=x.cyFinal+o(x.px0[1],x.px1[1]),M=S-_,I,L,O,H,Y,K;if(M*l>0&&(x.labelExtraY=M),!!Ba.isArrayOrTypedArray(e.pull))for(L=0;L<d.length;L++)O=d[L],!(O===x||(ar.castOption(e.pull,x.pts)||0)>=(ar.castOption(e.pull,O.pts)||0))&&((x.pxmid[1]-O.pxmid[1])*l>0?(H=O.cyFinal+o(O.px0[1],O.px1[1]),M=H-_-x.labelExtraY,M*l>0&&(x.labelExtraY+=M)):(C+x.labelExtraY-E)*l>0&&(I=3*s*Math.abs(L-d.indexOf(x)),Y=O.cxFinal+a(O.px0[0],O.px1[0]),K=Y+I-(x.cxFinal+x.pxmid[0])-x.labelExtraX,K*s>0&&(x.labelExtraX+=K)))}for(n=0;n<2;n++)for(i=n?m:v,o=n?Math.max:Math.min,l=n?1:-1,r=0;r<2;r++){for(a=r?Math.max:Math.min,s=r?1:-1,c=t[n][r],c.sort(i),u=t[1-n][r],d=u.concat(c),h=[],f=0;f<c.length;f++)c[f].yLabelMid!==void 0&&h.push(c[f]);for(p=!1,f=0;n&&f<u.length;f++)if(u[f].yLabelMid!==void 0){p=u[f];break}for(f=0;f<h.length;f++){var b=f&&h[f-1];p&&!f&&(b=p),y(h[f],b)}}}function Jwe(t,e){for(var r=[],n=0;n<t.length;n++){var i=t[n][0],a=i.trace,o=a.domain,s=e.w*(o.x[1]-o.x[0]),l=e.h*(o.y[1]-o.y[0]);a.title.text&&a.title.position!=="middle center"&&(l-=NU(i,e));var c=s/2,u=l/2;a.type==="funnelarea"&&!a.scalegroup&&(u/=a.aspectratio),i.r=Math.min(c,u)/(1+Qwe(a)),i.cx=e.l+e.w*(a.domain.x[1]+a.domain.x[0])/2,i.cy=e.t+e.h*(1-a.domain.y[0])-l/2,a.title.text&&a.title.position.indexOf("bottom")!==-1&&(i.cy-=NU(i,e)),a.scalegroup&&r.indexOf(a.scalegroup)===-1&&r.push(a.scalegroup)}Ltt(t,r)}function Ltt(t,e){for(var r,n,i,a=0;a<e.length;a++){var o=1/0,s=e[a];for(n=0;n<t.length;n++)if(r=t[n][0],i=r.trace,i.scalegroup===s){var l;if(i.type==="pie")l=r.r*r.r;else if(i.type==="funnelarea"){var c,u;i.aspectratio>1?(c=r.r,u=c/i.aspectratio):(u=r.r,c=u*i.aspectratio),c*=(1+i.baseratio)/2,l=c*u}o=Math.min(o,l/r.vTotal)}for(n=0;n<t.length;n++)if(r=t[n][0],i=r.trace,i.scalegroup===s){var d=o*r.vTotal;i.type==="funnelarea"&&(d/=(1+i.baseratio)/2,d/=i.aspectratio),r.r=Math.sqrt(d)}}}function Ott(t){var e=t[0],r=e.r,n=e.trace,i=ar.getRotationAngle(n.rotation),a=2*Math.PI/e.vTotal,o="px0",s="px1",l,c,u;if(n.direction==="counterclockwise"){for(l=0;l<t.length&&t[l].hidden;l++);if(l===t.length)return;i+=a*t[l].v,a*=-1,o="px1",s="px0"}for(u=gR(r,i),l=0;l<t.length;l++)c=t[l],!c.hidden&&(c[o]=u,c.startangle=i,i+=a*c.v/2,c.pxmid=gR(r,i),c.midangle=i,i+=a*c.v/2,u=gR(r,i),c.stopangle=i,c[s]=u,c.largeArc=c.v>e.vTotal/2?1:0,c.halfangle=Math.PI*Math.min(c.v/e.vTotal,.5),c.ring=1-n.hole,c.rInscribed=Mtt(c,e))}function gR(t,e){return[t*Math.sin(e),-t*Math.cos(e)]}function exe(t,e,r){var n=t._fullLayout,i=r.trace,a=i.texttemplate,o=i.textinfo;if(!a&&o&&o!=="none"){var s=o.split("+"),l=function(w){return s.indexOf(w)!==-1},c=l("label"),u=l("text"),d=l("value"),f=l("percent"),h=n.separators,p;if(p=c?[e.label]:[],u){var m=ar.getFirstFilled(i.text,e.pts);zwe(m)&&p.push(m)}d&&p.push(ar.formatPieValue(e.v,h)),f&&p.push(ar.formatPiePercent(e.v/r.vTotal,h)),e.text=p.join("<br>")}function v(w){return{label:w.label,value:w.v,valueLabel:ar.formatPieValue(w.v,n.separators),percent:w.v/r.vTotal,percentLabel:ar.formatPiePercent(w.v/r.vTotal,n.separators),color:w.color,text:w.text,customdata:Ba.castOption(i,w.i,"customdata")}}if(a){var y=Ba.castOption(i,e.i,"texttemplate");if(!y)e.text="";else{var b=v(e),x=ar.getFirstFilled(i.text,e.pts);(zwe(x)||x==="")&&(b.text=x),e.text=Ba.texttemplateString(y,b,t._fullLayout._d3locale,b,i._meta||{})}}}function txe(t,e){var r=t.rotate*Math.PI/180,n=Math.cos(r),i=Math.sin(r),a=(e.left+e.right)/2,o=(e.top+e.bottom)/2;t.textX=a*n-o*i,t.textY=a*i+o*n,t.noCenter=!0}rxe.exports={plot:ktt,formatSliceLabel:exe,transformInsideText:Ywe,determineInsideTextFont:Wwe,positionTitleOutside:Kwe,prerenderTitles:Gwe,layoutAreas:Jwe,attachFxHandlers:Vwe,computeTransform:txe}});var axe=J((nTt,ixe)=>{"use strict";var nxe=Sr(),Ptt=i3(),ztt=rg().resizeText;ixe.exports=function(e){var r=e._fullLayout._pielayer.selectAll(".trace");ztt(e,r,"pie"),r.each(function(n){var i=n[0],a=i.trace,o=nxe.select(this);o.style({opacity:a.opacity}),o.selectAll("path.surface").each(function(s){nxe.select(this).call(Ptt,s,a,e)})})}});var sxe=J(t1=>{"use strict";var oxe=ki();t1.name="pie";t1.plot=function(t,e,r,n){oxe.plotBasePlot(t1.name,t,e,r,n)};t1.clean=function(t,e,r,n){oxe.cleanBasePlot(t1.name,t,e,r,n)}});var cxe=J((aTt,lxe)=>{"use strict";lxe.exports={attributes:fR(),supplyDefaults:AU().supplyDefaults,supplyLayoutDefaults:Dwe(),layoutAttributes:MU(),calc:$_().calc,crossTraceCalc:$_().crossTraceCalc,plot:LU().plot,style:axe(),styleOne:i3(),moduleType:"trace",name:"pie",basePlotModule:sxe(),categories:["pie-like","pie","showLegend"],meta:{description:["A data visualized by the sectors of the pie is set in `values`.","The sector labels are set in `labels`.","The sector colors are set in `marker.colors`"].join(" ")}}});var dxe=J((oTt,uxe)=>{"use strict";uxe.exports=cxe()});var hxe=J(r1=>{"use strict";var fxe=ki();r1.name="sunburst";r1.plot=function(t,e,r,n){fxe.plotBasePlot(r1.name,t,e,r,n)};r1.clean=function(t,e,r,n){fxe.cleanBasePlot(r1.name,t,e,r,n)}});var OU=J((lTt,pxe)=>{"use strict";pxe.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}});var PU=J((cTt,vxe)=>{"use strict";var Ftt=Ws(),Htt=Gs().hovertemplateAttrs,qtt=Gs().texttemplateAttrs,Utt=_v(),Btt=Kb().attributes,Mf=fR(),mxe=OU(),X_=Ti().extendFlat,jtt=Lc().pattern;vxe.exports={labels:{valType:"data_array",editType:"calc",description:["Sets the labels of each of the sectors."].join(" ")},parents:{valType:"data_array",editType:"calc",description:["Sets the parent sectors for each of the sectors.","Empty string items '' are understood to reference","the root node in the hierarchy.",'If `ids` is filled, `parents` items are understood to be "ids" themselves.',"When `ids` is not set, plotly attempts to find matching items in `labels`,","but beware they must be unique."].join(" ")},values:{valType:"data_array",editType:"calc",description:["Sets the values associated with each of the sectors.","Use with `branchvalues` to determine how the values are summed."].join(" ")},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc",description:["Determines how the items in `values` are summed.","When set to *total*, items in `values` are taken to be value of all its descendants.","When set to *remainder*, items in `values` corresponding to the root and the branches sectors","are taken to be the extra part not part of the sum of the values at their leaves."].join(" ")},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc",description:["Determines default for `values` when it is not provided,","by inferring a 1 for each of the *leaves* and/or *branches*, otherwise 0."].join(" ")},level:{valType:"any",editType:"plot",anim:!0,description:["Sets the level from which this trace hierarchy is rendered.","Set `level` to `''` to start from the root node in the hierarchy.",'Must be an "id" if `ids` is filled in, otherwise plotly attempts to find a matching',"item in `labels`."].join(" ")},maxdepth:{valType:"integer",editType:"plot",dflt:-1,description:["Sets the number of rendered sectors from any given `level`.","Set `maxdepth` to *-1* to render all the levels in the hierarchy."].join(" ")},marker:X_({colors:{valType:"data_array",editType:"calc",description:["Sets the color of each sector of this trace.","If not specified, the default trace color set is used","to pick the sector colors."].join(" ")},line:{color:X_({},Mf.marker.line.color,{dflt:null,description:["Sets the color of the line enclosing each sector.","Defaults to the `paper_bgcolor` value."].join(" ")}),width:X_({},Mf.marker.line.width,{dflt:1}),editType:"calc"},pattern:jtt,editType:"calc"},Utt("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1,description:["Sets the opacity of the leaves. With colorscale","it is defaulted to 1; otherwise it is defaulted to 0.7"].join(" ")},editType:"plot"},text:Mf.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot",description:["Determines which trace information appear on the graph."].join(" ")},texttemplate:qtt({editType:"plot"},{keys:mxe.eventDataKeys.concat(["label","value"])}),hovertext:Mf.hovertext,hoverinfo:X_({},Ftt.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:Htt({},{keys:mxe.eventDataKeys}),textfont:Mf.textfont,insidetextorientation:Mf.insidetextorientation,insidetextfont:Mf.insidetextfont,outsidetextfont:X_({},Mf.outsidetextfont,{description:["Sets the font used for `textinfo` lying outside the sector.","This option refers to the root of the hierarchy","presented at the center of a sunburst graph.","Please note that if a hierarchy has multiple root nodes,","this option won't have any effect and `insidetextfont` would be used."].join(" ")}),rotation:{valType:"angle",dflt:0,editType:"plot",description:["Rotates the whole diagram counterclockwise by some angle.","By default the first slice starts at 3 o'clock."].join(" ")},sort:Mf.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)",description:["sets the color of the root node for a sunburst/treemap/icicle trace.","this has no effect when a colorscale is used to set the markers."].join(" ")},editType:"calc"},domain:Btt({name:"sunburst",trace:!0,editType:"calc"})}});var zU=J((uTt,gxe)=>{"use strict";gxe.exports={sunburstcolorway:{valType:"colorlist",editType:"calc",description:["Sets the default sunburst slice colors. Defaults to the main","`colorway` used for trace colors. If you specify a new","list here it can still be extended with lighter and darker","colors, see `extendsunburstcolors`."].join(" ")},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc",description:["If `true`, the sunburst slice colors (whether given by `sunburstcolorway` or","inherited from `colorway`) will be extended to three times its","original length by first repeating every color 20% lighter then","each color 20% darker. This is intended to reduce the likelihood","of reusing the same color when you have many slices, but you can","set `false` to disable.","Colors provided in the trace, using `marker.colors`, are never","extended."].join(" ")}}});var xxe=J((dTt,wxe)=>{"use strict";var yxe=Qe(),Vtt=PU(),Wtt=Kb().defaults,Gtt=e1().handleText,Ytt=AU().handleMarkerDefaults,bxe=gf(),Ztt=bxe.hasColorscale,$tt=bxe.handleDefaults;wxe.exports=function(e,r,n,i){function a(f,h){return yxe.coerce(e,r,Vtt,f,h)}var o=a("labels"),s=a("parents");if(!o||!o.length||!s||!s.length){r.visible=!1;return}var l=a("values");l&&l.length?a("branchvalues"):a("count"),a("level"),a("maxdepth"),Ytt(e,r,i,a);var c=r._hasColorscale=Ztt(e,"marker","colors")||(e.marker||{}).coloraxis;c&&$tt(e,r,i,a,{prefix:"marker.",cLetter:"c"}),a("leaf.opacity",c?1:.7);var u=a("text");a("texttemplate"),r.texttemplate||a("textinfo",yxe.isArrayOrTypedArray(u)?"text+label":"label"),a("hovertext"),a("hovertemplate");var d="auto";Gtt(e,r,i,a,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),a("insidetextorientation"),a("sort"),a("rotation"),a("root.color"),Wtt(r,i,a),r._length=null}});var Sxe=J((fTt,Txe)=>{"use strict";var Xtt=Qe(),Ktt=zU();Txe.exports=function(e,r){function n(i,a){return Xtt.coerce(e,r,Ktt,i,a)}n("sunburstcolorway",r.colorway),n("extendsunburstcolors")}});var FU=J((yR,_xe)=>{(function(t,e){typeof yR=="object"&&typeof _xe!="undefined"?e(yR):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.d3=t.d3||{}))})(yR,function(t){"use strict";function e(P,z){return P.parent===z.parent?1:2}function r(P){return P.reduce(n,0)/P.length}function n(P,z){return P+z.x}function i(P){return 1+P.reduce(a,0)}function a(P,z){return Math.max(P,z.y)}function o(P){for(var z;z=P.children;)P=z[0];return P}function s(P){for(var z;z=P.children;)P=z[z.length-1];return P}function l(){var P=e,z=1,Q=1,le=!1;function V(oe){var be,xe=0;oe.eachAfter(function(Ze){var Pt=Ze.children;Pt?(Ze.x=r(Pt),Ze.y=i(Pt)):(Ze.x=be?xe+=P(Ze,be):0,Ze.y=0,be=Ze)});var Ge=o(oe),Ie=s(oe),tt=Ge.x-P(Ge,Ie)/2,vt=Ie.x+P(Ie,Ge)/2;return oe.eachAfter(le?function(Ze){Ze.x=(Ze.x-oe.x)*z,Ze.y=(oe.y-Ze.y)*Q}:function(Ze){Ze.x=(Ze.x-tt)/(vt-tt)*z,Ze.y=(1-(oe.y?Ze.y/oe.y:1))*Q})}return V.separation=function(oe){return arguments.length?(P=oe,V):P},V.size=function(oe){return arguments.length?(le=!1,z=+oe[0],Q=+oe[1],V):le?null:[z,Q]},V.nodeSize=function(oe){return arguments.length?(le=!0,z=+oe[0],Q=+oe[1],V):le?[z,Q]:null},V}function c(P){var z=0,Q=P.children,le=Q&&Q.length;if(!le)z=1;else for(;--le>=0;)z+=Q[le].value;P.value=z}function u(){return this.eachAfter(c)}function d(P){var z=this,Q,le=[z],V,oe,be;do for(Q=le.reverse(),le=[];z=Q.pop();)if(P(z),V=z.children,V)for(oe=0,be=V.length;oe<be;++oe)le.push(V[oe]);while(le.length);return this}function f(P){for(var z=this,Q=[z],le,V;z=Q.pop();)if(P(z),le=z.children,le)for(V=le.length-1;V>=0;--V)Q.push(le[V]);return this}function h(P){for(var z=this,Q=[z],le=[],V,oe,be;z=Q.pop();)if(le.push(z),V=z.children,V)for(oe=0,be=V.length;oe<be;++oe)Q.push(V[oe]);for(;z=le.pop();)P(z);return this}function p(P){return this.eachAfter(function(z){for(var Q=+P(z.data)||0,le=z.children,V=le&&le.length;--V>=0;)Q+=le[V].value;z.value=Q})}function m(P){return this.eachBefore(function(z){z.children&&z.children.sort(P)})}function v(P){for(var z=this,Q=y(z,P),le=[z];z!==Q;)z=z.parent,le.push(z);for(var V=le.length;P!==Q;)le.splice(V,0,P),P=P.parent;return le}function y(P,z){if(P===z)return P;var Q=P.ancestors(),le=z.ancestors(),V=null;for(P=Q.pop(),z=le.pop();P===z;)V=P,P=Q.pop(),z=le.pop();return V}function b(){for(var P=this,z=[P];P=P.parent;)z.push(P);return z}function x(){var P=[];return this.each(function(z){P.push(z)}),P}function w(){var P=[];return this.eachBefore(function(z){z.children||P.push(z)}),P}function S(){var P=this,z=[];return P.each(function(Q){Q!==P&&z.push({source:Q.parent,target:Q})}),z}function _(P,z){var Q=new L(P),le=+P.value&&(Q.value=P.value),V,oe=[Q],be,xe,Ge,Ie;for(z==null&&(z=E);V=oe.pop();)if(le&&(V.value=+V.data.value),(xe=z(V.data))&&(Ie=xe.length))for(V.children=new Array(Ie),Ge=Ie-1;Ge>=0;--Ge)oe.push(be=V.children[Ge]=new L(xe[Ge])),be.parent=V,be.depth=V.depth+1;return Q.eachBefore(I)}function C(){return _(this).eachBefore(M)}function E(P){return P.children}function M(P){P.data=P.data.data}function I(P){var z=0;do P.height=z;while((P=P.parent)&&P.height<++z)}function L(P){this.data=P,this.depth=this.height=0,this.parent=null}L.prototype=_.prototype={constructor:L,count:u,each:d,eachAfter:h,eachBefore:f,sum:p,sort:m,path:v,ancestors:b,descendants:x,leaves:w,links:S,copy:C};var O=Array.prototype.slice;function H(P){for(var z=P.length,Q,le;z;)le=Math.random()*z--|0,Q=P[z],P[z]=P[le],P[le]=Q;return P}function Y(P){for(var z=0,Q=(P=H(O.call(P))).length,le=[],V,oe;z<Q;)V=P[z],oe&&U(oe,V)?++z:(oe=$(le=K(le,V)),z=0);return oe}function K(P,z){var Q,le;if(B(z,P))return[z];for(Q=0;Q<P.length;++Q)if(N(z,P[Q])&&B(te(P[Q],z),P))return[P[Q],z];for(Q=0;Q<P.length-1;++Q)for(le=Q+1;le<P.length;++le)if(N(te(P[Q],P[le]),z)&&N(te(P[Q],z),P[le])&&N(te(P[le],z),P[Q])&&B(he(P[Q],P[le],z),P))return[P[Q],P[le],z];throw new Error}function N(P,z){var Q=P.r-z.r,le=z.x-P.x,V=z.y-P.y;return Q<0||Q*Q<le*le+V*V}function U(P,z){var Q=P.r-z.r+1e-6,le=z.x-P.x,V=z.y-P.y;return Q>0&&Q*Q>le*le+V*V}function B(P,z){for(var Q=0;Q<z.length;++Q)if(!U(P,z[Q]))return!1;return!0}function $(P){switch(P.length){case 1:return ee(P[0]);case 2:return te(P[0],P[1]);case 3:return he(P[0],P[1],P[2])}}function ee(P){return{x:P.x,y:P.y,r:P.r}}function te(P,z){var Q=P.x,le=P.y,V=P.r,oe=z.x,be=z.y,xe=z.r,Ge=oe-Q,Ie=be-le,tt=xe-V,vt=Math.sqrt(Ge*Ge+Ie*Ie);return{x:(Q+oe+Ge/vt*tt)/2,y:(le+be+Ie/vt*tt)/2,r:(vt+V+xe)/2}}function he(P,z,Q){var le=P.x,V=P.y,oe=P.r,be=z.x,xe=z.y,Ge=z.r,Ie=Q.x,tt=Q.y,vt=Q.r,Ze=le-be,Pt=le-Ie,Wt=V-xe,Vt=V-tt,Jt=Ge-oe,At=vt-oe,ir=le*le+V*V-oe*oe,Qt=ir-be*be-xe*xe+Ge*Ge,kr=ir-Ie*Ie-tt*tt+vt*vt,br=Pt*Wt-Ze*Vt,mr=(Wt*kr-Vt*Qt)/(br*2)-le,vr=(Vt*Jt-Wt*At)/br,Vr=(Pt*Qt-Ze*kr)/(br*2)-V,un=(Ze*At-Pt*Jt)/br,Dn=vr*vr+un*un-1,mi=2*(oe+mr*vr+Vr*un),Rn=mr*mr+Vr*Vr-oe*oe,qr=-(Dn?(mi+Math.sqrt(mi*mi-4*Dn*Rn))/(2*Dn):Rn/mi);return{x:le+mr+vr*qr,y:V+Vr+un*qr,r:qr}}function we(P,z,Q){var le=P.x-z.x,V,oe,be=P.y-z.y,xe,Ge,Ie=le*le+be*be;Ie?(oe=z.r+Q.r,oe*=oe,Ge=P.r+Q.r,Ge*=Ge,oe>Ge?(V=(Ie+Ge-oe)/(2*Ie),xe=Math.sqrt(Math.max(0,Ge/Ie-V*V)),Q.x=P.x-V*le-xe*be,Q.y=P.y-V*be+xe*le):(V=(Ie+oe-Ge)/(2*Ie),xe=Math.sqrt(Math.max(0,oe/Ie-V*V)),Q.x=z.x+V*le-xe*be,Q.y=z.y+V*be+xe*le)):(Q.x=z.x+Q.r,Q.y=z.y)}function Te(P,z){var Q=P.r+z.r-1e-6,le=z.x-P.x,V=z.y-P.y;return Q>0&&Q*Q>le*le+V*V}function ce(P){var z=P._,Q=P.next._,le=z.r+Q.r,V=(z.x*Q.r+Q.x*z.r)/le,oe=(z.y*Q.r+Q.y*z.r)/le;return V*V+oe*oe}function q(P){this._=P,this.next=null,this.previous=null}function X(P){if(!(V=P.length))return 0;var z,Q,le,V,oe,be,xe,Ge,Ie,tt,vt;if(z=P[0],z.x=0,z.y=0,!(V>1))return z.r;if(Q=P[1],z.x=-Q.r,Q.x=z.r,Q.y=0,!(V>2))return z.r+Q.r;we(Q,z,le=P[2]),z=new q(z),Q=new q(Q),le=new q(le),z.next=le.previous=Q,Q.next=z.previous=le,le.next=Q.previous=z;e:for(xe=3;xe<V;++xe){we(z._,Q._,le=P[xe]),le=new q(le),Ge=Q.next,Ie=z.previous,tt=Q._.r,vt=z._.r;do if(tt<=vt){if(Te(Ge._,le._)){Q=Ge,z.next=Q,Q.previous=z,--xe;continue e}tt+=Ge._.r,Ge=Ge.next}else{if(Te(Ie._,le._)){z=Ie,z.next=Q,Q.previous=z,--xe;continue e}vt+=Ie._.r,Ie=Ie.previous}while(Ge!==Ie.next);for(le.previous=z,le.next=Q,z.next=Q.previous=Q=le,oe=ce(z);(le=le.next)!==Q;)(be=ce(le))<oe&&(z=le,oe=be);Q=z.next}for(z=[Q._],le=Q;(le=le.next)!==Q;)z.push(le._);for(le=Y(z),xe=0;xe<V;++xe)z=P[xe],z.x-=le.x,z.y-=le.y;return le.r}function G(P){return X(P),P}function de(P){return P==null?null:ue(P)}function ue(P){if(typeof P!="function")throw new Error;return P}function fe(){return 0}function _e(P){return function(){return P}}function Oe(P){return Math.sqrt(P.value)}function Ce(){var P=null,z=1,Q=1,le=fe;function V(oe){return oe.x=z/2,oe.y=Q/2,P?oe.eachBefore(je(P)).eachAfter(qe(le,.5)).eachBefore(Ve(1)):oe.eachBefore(je(Oe)).eachAfter(qe(fe,1)).eachAfter(qe(le,oe.r/Math.min(z,Q))).eachBefore(Ve(Math.min(z,Q)/(2*oe.r))),oe}return V.radius=function(oe){return arguments.length?(P=de(oe),V):P},V.size=function(oe){return arguments.length?(z=+oe[0],Q=+oe[1],V):[z,Q]},V.padding=function(oe){return arguments.length?(le=typeof oe=="function"?oe:_e(+oe),V):le},V}function je(P){return function(z){z.children||(z.r=Math.max(0,+P(z)||0))}}function qe(P,z){return function(Q){if(le=Q.children){var le,V,oe=le.length,be=P(Q)*z||0,xe;if(be)for(V=0;V<oe;++V)le[V].r+=be;if(xe=X(le),be)for(V=0;V<oe;++V)le[V].r-=be;Q.r=xe+be}}}function Ve(P){return function(z){var Q=z.parent;z.r*=P,Q&&(z.x=Q.x+P*z.x,z.y=Q.y+P*z.y)}}function ot(P){P.x0=Math.round(P.x0),P.y0=Math.round(P.y0),P.x1=Math.round(P.x1),P.y1=Math.round(P.y1)}function $e(P,z,Q,le,V){for(var oe=P.children,be,xe=-1,Ge=oe.length,Ie=P.value&&(le-z)/P.value;++xe<Ge;)be=oe[xe],be.y0=Q,be.y1=V,be.x0=z,be.x1=z+=be.value*Ie}function Xe(){var P=1,z=1,Q=0,le=!1;function V(be){var xe=be.height+1;return be.x0=be.y0=Q,be.x1=P,be.y1=z/xe,be.eachBefore(oe(z,xe)),le&&be.eachBefore(ot),be}function oe(be,xe){return function(Ge){Ge.children&&$e(Ge,Ge.x0,be*(Ge.depth+1)/xe,Ge.x1,be*(Ge.depth+2)/xe);var Ie=Ge.x0,tt=Ge.y0,vt=Ge.x1-Q,Ze=Ge.y1-Q;vt<Ie&&(Ie=vt=(Ie+vt)/2),Ze<tt&&(tt=Ze=(tt+Ze)/2),Ge.x0=Ie,Ge.y0=tt,Ge.x1=vt,Ge.y1=Ze}}return V.round=function(be){return arguments.length?(le=!!be,V):le},V.size=function(be){return arguments.length?(P=+be[0],z=+be[1],V):[P,z]},V.padding=function(be){return arguments.length?(Q=+be,V):Q},V}var Je="$",nt={depth:-1},Ke={};function Ae(P){return P.id}function it(P){return P.parentId}function at(){var P=Ae,z=it;function Q(le){var V,oe,be=le.length,xe,Ge,Ie,tt=new Array(be),vt,Ze,Pt={};for(oe=0;oe<be;++oe)V=le[oe],Ie=tt[oe]=new L(V),(vt=P(V,oe,le))!=null&&(vt+="")&&(Ze=Je+(Ie.id=vt),Pt[Ze]=Ze in Pt?Ke:Ie);for(oe=0;oe<be;++oe)if(Ie=tt[oe],vt=z(le[oe],oe,le),vt==null||!(vt+="")){if(xe)throw new Error("multiple roots");xe=Ie}else{if(Ge=Pt[Je+vt],!Ge)throw new Error("missing: "+vt);if(Ge===Ke)throw new Error("ambiguous: "+vt);Ge.children?Ge.children.push(Ie):Ge.children=[Ie],Ie.parent=Ge}if(!xe)throw new Error("no root");if(xe.parent=nt,xe.eachBefore(function(Wt){Wt.depth=Wt.parent.depth+1,--be}).eachBefore(I),xe.parent=null,be>0)throw new Error("cycle");return xe}return Q.id=function(le){return arguments.length?(P=ue(le),Q):P},Q.parentId=function(le){return arguments.length?(z=ue(le),Q):z},Q}function ge(P,z){return P.parent===z.parent?1:2}function Ne(P){var z=P.children;return z?z[0]:P.t}function Le(P){var z=P.children;return z?z[z.length-1]:P.t}function St(P,z,Q){var le=Q/(z.i-P.i);z.c-=le,z.s+=Q,P.c+=le,z.z+=Q,z.m+=Q}function ht(P){for(var z=0,Q=0,le=P.children,V=le.length,oe;--V>=0;)oe=le[V],oe.z+=z,oe.m+=z,z+=oe.s+(Q+=oe.c)}function He(P,z,Q){return P.a.parent===z.parent?P.a:Q}function Ue(P,z){this._=P,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=z}Ue.prototype=Object.create(L.prototype);function ct(P){for(var z=new Ue(P,0),Q,le=[z],V,oe,be,xe;Q=le.pop();)if(oe=Q._.children)for(Q.children=new Array(xe=oe.length),be=xe-1;be>=0;--be)le.push(V=Q.children[be]=new Ue(oe[be],be)),V.parent=Q;return(z.parent=new Ue(null,0)).children=[z],z}function rt(){var P=ge,z=1,Q=1,le=null;function V(Ie){var tt=ct(Ie);if(tt.eachAfter(oe),tt.parent.m=-tt.z,tt.eachBefore(be),le)Ie.eachBefore(Ge);else{var vt=Ie,Ze=Ie,Pt=Ie;Ie.eachBefore(function(ir){ir.x<vt.x&&(vt=ir),ir.x>Ze.x&&(Ze=ir),ir.depth>Pt.depth&&(Pt=ir)});var Wt=vt===Ze?1:P(vt,Ze)/2,Vt=Wt-vt.x,Jt=z/(Ze.x+Wt+Vt),At=Q/(Pt.depth||1);Ie.eachBefore(function(ir){ir.x=(ir.x+Vt)*Jt,ir.y=ir.depth*At})}return Ie}function oe(Ie){var tt=Ie.children,vt=Ie.parent.children,Ze=Ie.i?vt[Ie.i-1]:null;if(tt){ht(Ie);var Pt=(tt[0].z+tt[tt.length-1].z)/2;Ze?(Ie.z=Ze.z+P(Ie._,Ze._),Ie.m=Ie.z-Pt):Ie.z=Pt}else Ze&&(Ie.z=Ze.z+P(Ie._,Ze._));Ie.parent.A=xe(Ie,Ze,Ie.parent.A||vt[0])}function be(Ie){Ie._.x=Ie.z+Ie.parent.m,Ie.m+=Ie.parent.m}function xe(Ie,tt,vt){if(tt){for(var Ze=Ie,Pt=Ie,Wt=tt,Vt=Ze.parent.children[0],Jt=Ze.m,At=Pt.m,ir=Wt.m,Qt=Vt.m,kr;Wt=Le(Wt),Ze=Ne(Ze),Wt&&Ze;)Vt=Ne(Vt),Pt=Le(Pt),Pt.a=Ie,kr=Wt.z+ir-Ze.z-Jt+P(Wt._,Ze._),kr>0&&(St(He(Wt,Ie,vt),Ie,kr),Jt+=kr,At+=kr),ir+=Wt.m,Jt+=Ze.m,Qt+=Vt.m,At+=Pt.m;Wt&&!Le(Pt)&&(Pt.t=Wt,Pt.m+=ir-At),Ze&&!Ne(Vt)&&(Vt.t=Ze,Vt.m+=Jt-Qt,vt=Ie)}return vt}function Ge(Ie){Ie.x*=z,Ie.y=Ie.depth*Q}return V.separation=function(Ie){return arguments.length?(P=Ie,V):P},V.size=function(Ie){return arguments.length?(le=!1,z=+Ie[0],Q=+Ie[1],V):le?null:[z,Q]},V.nodeSize=function(Ie){return arguments.length?(le=!0,z=+Ie[0],Q=+Ie[1],V):le?[z,Q]:null},V}function lt(P,z,Q,le,V){for(var oe=P.children,be,xe=-1,Ge=oe.length,Ie=P.value&&(V-Q)/P.value;++xe<Ge;)be=oe[xe],be.x0=z,be.x1=le,be.y0=Q,be.y1=Q+=be.value*Ie}var st=(1+Math.sqrt(5))/2;function mt(P,z,Q,le,V,oe){for(var be=[],xe=z.children,Ge,Ie,tt=0,vt=0,Ze=xe.length,Pt,Wt,Vt=z.value,Jt,At,ir,Qt,kr,br,mr;tt<Ze;){Pt=V-Q,Wt=oe-le;do Jt=xe[vt++].value;while(!Jt&&vt<Ze);for(At=ir=Jt,br=Math.max(Wt/Pt,Pt/Wt)/(Vt*P),mr=Jt*Jt*br,kr=Math.max(ir/mr,mr/At);vt<Ze;++vt){if(Jt+=Ie=xe[vt].value,Ie<At&&(At=Ie),Ie>ir&&(ir=Ie),mr=Jt*Jt*br,Qt=Math.max(ir/mr,mr/At),Qt>kr){Jt-=Ie;break}kr=Qt}be.push(Ge={value:Jt,dice:Pt<Wt,children:xe.slice(tt,vt)}),Ge.dice?$e(Ge,Q,le,V,Vt?le+=Wt*Jt/Vt:oe):lt(Ge,Q,le,Vt?Q+=Pt*Jt/Vt:V,oe),Vt-=Jt,tt=vt}return be}var kt=function P(z){function Q(le,V,oe,be,xe){mt(z,le,V,oe,be,xe)}return Q.ratio=function(le){return P((le=+le)>1?le:1)},Q}(st);function _t(){var P=kt,z=!1,Q=1,le=1,V=[0],oe=fe,be=fe,xe=fe,Ge=fe,Ie=fe;function tt(Ze){return Ze.x0=Ze.y0=0,Ze.x1=Q,Ze.y1=le,Ze.eachBefore(vt),V=[0],z&&Ze.eachBefore(ot),Ze}function vt(Ze){var Pt=V[Ze.depth],Wt=Ze.x0+Pt,Vt=Ze.y0+Pt,Jt=Ze.x1-Pt,At=Ze.y1-Pt;Jt<Wt&&(Wt=Jt=(Wt+Jt)/2),At<Vt&&(Vt=At=(Vt+At)/2),Ze.x0=Wt,Ze.y0=Vt,Ze.x1=Jt,Ze.y1=At,Ze.children&&(Pt=V[Ze.depth+1]=oe(Ze)/2,Wt+=Ie(Ze)-Pt,Vt+=be(Ze)-Pt,Jt-=xe(Ze)-Pt,At-=Ge(Ze)-Pt,Jt<Wt&&(Wt=Jt=(Wt+Jt)/2),At<Vt&&(Vt=At=(Vt+At)/2),P(Ze,Wt,Vt,Jt,At))}return tt.round=function(Ze){return arguments.length?(z=!!Ze,tt):z},tt.size=function(Ze){return arguments.length?(Q=+Ze[0],le=+Ze[1],tt):[Q,le]},tt.tile=function(Ze){return arguments.length?(P=ue(Ze),tt):P},tt.padding=function(Ze){return arguments.length?tt.paddingInner(Ze).paddingOuter(Ze):tt.paddingInner()},tt.paddingInner=function(Ze){return arguments.length?(oe=typeof Ze=="function"?Ze:_e(+Ze),tt):oe},tt.paddingOuter=function(Ze){return arguments.length?tt.paddingTop(Ze).paddingRight(Ze).paddingBottom(Ze).paddingLeft(Ze):tt.paddingTop()},tt.paddingTop=function(Ze){return arguments.length?(be=typeof Ze=="function"?Ze:_e(+Ze),tt):be},tt.paddingRight=function(Ze){return arguments.length?(xe=typeof Ze=="function"?Ze:_e(+Ze),tt):xe},tt.paddingBottom=function(Ze){return arguments.length?(Ge=typeof Ze=="function"?Ze:_e(+Ze),tt):Ge},tt.paddingLeft=function(Ze){return arguments.length?(Ie=typeof Ze=="function"?Ze:_e(+Ze),tt):Ie},tt}function Ye(P,z,Q,le,V){var oe=P.children,be,xe=oe.length,Ge,Ie=new Array(xe+1);for(Ie[0]=Ge=be=0;be<xe;++be)Ie[be+1]=Ge+=oe[be].value;tt(0,xe,P.value,z,Q,le,V);function tt(vt,Ze,Pt,Wt,Vt,Jt,At){if(vt>=Ze-1){var ir=oe[vt];ir.x0=Wt,ir.y0=Vt,ir.x1=Jt,ir.y1=At;return}for(var Qt=Ie[vt],kr=Pt/2+Qt,br=vt+1,mr=Ze-1;br<mr;){var vr=br+mr>>>1;Ie[vr]<kr?br=vr+1:mr=vr}kr-Ie[br-1]<Ie[br]-kr&&vt+1<br&&--br;var Vr=Ie[br]-Qt,un=Pt-Vr;if(Jt-Wt>At-Vt){var Dn=(Wt*un+Jt*Vr)/Pt;tt(vt,br,Vr,Wt,Vt,Dn,At),tt(br,Ze,un,Dn,Vt,Jt,At)}else{var mi=(Vt*un+At*Vr)/Pt;tt(vt,br,Vr,Wt,Vt,Jt,mi),tt(br,Ze,un,Wt,mi,Jt,At)}}}function bt(P,z,Q,le,V){(P.depth&1?lt:$e)(P,z,Q,le,V)}var ut=function P(z){function Q(le,V,oe,be,xe){if((Ge=le._squarify)&&Ge.ratio===z)for(var Ge,Ie,tt,vt,Ze=-1,Pt,Wt=Ge.length,Vt=le.value;++Ze<Wt;){for(Ie=Ge[Ze],tt=Ie.children,vt=Ie.value=0,Pt=tt.length;vt<Pt;++vt)Ie.value+=tt[vt].value;Ie.dice?$e(Ie,V,oe,be,oe+=(xe-oe)*Ie.value/Vt):lt(Ie,V,oe,V+=(be-V)*Ie.value/Vt,xe),Vt-=Ie.value}else le._squarify=Ge=mt(z,le,V,oe,be,xe),Ge.ratio=z}return Q.ratio=function(le){return P((le=+le)>1?le:1)},Q}(st);t.cluster=l,t.hierarchy=_,t.pack=Ce,t.packEnclose=Y,t.packSiblings=G,t.partition=Xe,t.stratify=at,t.tree=rt,t.treemap=_t,t.treemapBinary=Ye,t.treemapDice=$e,t.treemapResquarify=ut,t.treemapSlice=lt,t.treemapSliceDice=bt,t.treemapSquarify=kt,Object.defineProperty(t,"__esModule",{value:!0})})});var HU=J(K_=>{"use strict";var Cxe=FU(),Qtt=_r(),n1=Qe(),Jtt=gf().makeColorScaleFuncFromTrace,ert=$_().makePullColorFn,trt=$_().generateExtendedColors,rrt=gf().calc,nrt=ei().ALMOST_EQUAL,irt={},art={},ort={};K_.calc=function(t,e){var r=t._fullLayout,n=e.ids,i=n1.isArrayOrTypedArray(n),a=e.labels,o=e.parents,s=e.values,l=n1.isArrayOrTypedArray(s),c=[],u={},d={},f=function(U,B){u[U]?u[U].push(B):u[U]=[B],d[B]=1},h=function(U){return U||typeof U=="number"},p=function(U){return!l||Qtt(s[U])&&s[U]>=0},m,v,y;i?(m=Math.min(n.length,o.length),v=function(U){return h(n[U])&&p(U)},y=function(U){return String(n[U])}):(m=Math.min(a.length,o.length),v=function(U){return h(a[U])&&p(U)},y=function(U){return String(a[U])}),l&&(m=Math.min(m,s.length));for(var b=0;b<m;b++)if(v(b)){var x=y(b),w=h(o[b])?String(o[b]):"",S={i:b,id:x,pid:w,label:h(a[b])?String(a[b]):""};l&&(S.v=+s[b]),c.push(S),f(w,x)}if(u[""]){if(u[""].length>1){for(var E=n1.randstr(),M=0;M<c.length;M++)c[M].pid===""&&(c[M].pid=E);c.unshift({hasMultipleRoots:!0,id:E,pid:"",label:""})}}else{var _=[],C;for(C in u)d[C]||_.push(C);if(_.length===1)C=_[0],c.unshift({hasImpliedRoot:!0,id:C,pid:"",label:C});else return n1.warn(["Multiple implied roots, cannot build",e.type,"hierarchy of",e.name+".","These roots include:",_.join(", ")].join(" "))}var I;try{I=Cxe.stratify().id(function(U){return U.id}).parentId(function(U){return U.pid})(c)}catch(U){return n1.warn(["Failed to build",e.type,"hierarchy of",e.name+".","Error:",U.message].join(" "))}var L=Cxe.hierarchy(I),O=!1;if(l)switch(e.branchvalues){case"remainder":L.sum(function(U){return U.data.v});break;case"total":L.each(function(U){var B=U.data.data,$=B.v;if(U.children){var ee=U.children.reduce(function(te,he){return te+he.data.data.v},0);if((B.hasImpliedRoot||B.hasMultipleRoots)&&($=ee),$<ee*nrt)return O=!0,n1.warn(["Total value for node",U.data.data.id,"of",e.name,"is smaller than the sum of its children.",`
parent value =`,$,`
children sum =`,ee].join(" "))}U.value=$});break}else kxe(L,e,{branches:e.count.indexOf("branches")!==-1,leaves:e.count.indexOf("leaves")!==-1});if(!O){e.sort&&L.sort(function(U,B){return B.value-U.value});var H,Y,K=e.marker.colors||[],N=!!K.length;return e._hasColorscale?(N||(K=l?e.values:e._values),rrt(t,e,{vals:K,containerStr:"marker",cLetter:"c"}),Y=Jtt(e.marker)):H=ert(r["_"+e.type+"colormap"]),L.each(function(U){var B=U.data.data;B.color=e._hasColorscale?Y(K[B.i]):H(K[B.i],B.id)}),c[0].hierarchy=L,c}};K_._runCrossTraceCalc=function(t,e){var r=e._fullLayout,n=e.calcdata,i=r[t+"colorway"],a=r["_"+t+"colormap"];r["extend"+t+"colors"]&&(i=trt(i,t==="icicle"?ort:t==="treemap"?art:irt));var o=0,s;function l(f){var h=f.data.data,p=h.id;h.color===!1&&(a[p]?h.color=a[p]:f.parent?f.parent.parent?h.color=f.parent.data.data.color:(a[p]=h.color=i[o%i.length],o++):h.color=s)}for(var c=0;c<n.length;c++){var u=n[c],d=u[0];d.trace.type===t&&d.hierarchy&&(s=d.trace.root.color,d.hierarchy.each(l))}};K_.crossTraceCalc=function(t){return K_._runCrossTraceCalc("sunburst",t)};function kxe(t,e,r){var n=0,i=t.children;if(i){for(var a=i.length,o=0;o<a;o++)n+=kxe(i[o],e,r);r.branches&&n++}else r.leaves&&n++;return t.value=t.data.data.value=n,e._values||(e._values=[]),e._values[t.data.data.i]=n,n}});function Rf(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Rp(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}var bR=Re(()=>{});function Ju(){}function Dxe(){return this.rgb().formatHex()}function prt(){return this.rgb().formatHex8()}function mrt(){return Oxe(this).formatHsl()}function Axe(){return this.rgb().formatRgb()}function Np(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=srt.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Mxe(e):r===3?new ca(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?wR(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?wR(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=lrt.exec(t))?new ca(e[1],e[2],e[3],1):(e=crt.exec(t))?new ca(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=urt.exec(t))?wR(e[1],e[2],e[3],e[4]):(e=drt.exec(t))?wR(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=frt.exec(t))?Nxe(e[1],e[2]/100,e[3]/100,1):(e=hrt.exec(t))?Nxe(e[1],e[2]/100,e[3]/100,e[4]):Exe.hasOwnProperty(t)?Mxe(Exe[t]):t==="transparent"?new ca(NaN,NaN,NaN,0):null}function Mxe(t){return new ca(t>>16&255,t>>8&255,t&255,1)}function wR(t,e,r,n){return n<=0&&(t=e=r=NaN),new ca(t,e,r,n)}function J_(t){return t instanceof Ju||(t=Np(t)),t?(t=t.rgb(),new ca(t.r,t.g,t.b,t.opacity)):new ca}function a1(t,e,r,n){return arguments.length===1?J_(t):new ca(t,e,r,n==null?1:n)}function ca(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}function Rxe(){return`#${ng(this.r)}${ng(this.g)}${ng(this.b)}`}function vrt(){return`#${ng(this.r)}${ng(this.g)}${ng(this.b)}${ng((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ixe(){let t=TR(this.opacity);return`${t===1?"rgb(":"rgba("}${ig(this.r)}, ${ig(this.g)}, ${ig(this.b)}${t===1?")":`, ${t})`}`}function TR(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ig(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ng(t){return t=ig(t),(t<16?"0":"")+t.toString(16)}function Nxe(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ru(t,e,r,n)}function Oxe(t){if(t instanceof ru)return new ru(t.h,t.s,t.l,t.opacity);if(t instanceof Ju||(t=Np(t)),!t)return new ru;if(t instanceof ru)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new ru(o,s,l,t.opacity)}function e2(t,e,r,n){return arguments.length===1?Oxe(t):new ru(t,e,r,n==null?1:n)}function ru(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}function Lxe(t){return t=(t||0)%360,t<0?t+360:t}function xR(t){return Math.max(0,Math.min(1,t||0))}function qU(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}var Ip,ag,i1,Q_,Qu,srt,lrt,crt,urt,drt,frt,hrt,Exe,SR=Re(()=>{bR();Ip=.7,ag=1/Ip,i1="\\s*([+-]?\\d+)\\s*",Q_="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",srt=/^#([0-9a-f]{3,8})$/,lrt=new RegExp(`^rgb\\(${i1},${i1},${i1}\\)$`),crt=new RegExp(`^rgb\\(${Qu},${Qu},${Qu}\\)$`),urt=new RegExp(`^rgba\\(${i1},${i1},${i1},${Q_}\\)$`),drt=new RegExp(`^rgba\\(${Qu},${Qu},${Qu},${Q_}\\)$`),frt=new RegExp(`^hsl\\(${Q_},${Qu},${Qu}\\)$`),hrt=new RegExp(`^hsla\\(${Q_},${Qu},${Qu},${Q_}\\)$`),Exe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rf(Ju,Np,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Dxe,formatHex:Dxe,formatHex8:prt,formatHsl:mrt,formatRgb:Axe,toString:Axe});Rf(ca,a1,Rp(Ju,{brighter(t){return t=t==null?ag:Math.pow(ag,t),new ca(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ip:Math.pow(Ip,t),new ca(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ca(ig(this.r),ig(this.g),ig(this.b),TR(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rxe,formatHex:Rxe,formatHex8:vrt,formatRgb:Ixe,toString:Ixe}));Rf(ru,e2,Rp(Ju,{brighter(t){return t=t==null?ag:Math.pow(ag,t),new ru(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ip:Math.pow(Ip,t),new ru(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new ca(qU(t>=240?t-240:t+120,i,n),qU(t,i,n),qU(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ru(Lxe(this.h),xR(this.s),xR(this.l),TR(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=TR(this.opacity);return`${t===1?"hsl(":"hsla("}${Lxe(this.h)}, ${xR(this.s)*100}%, ${xR(this.l)*100}%${t===1?")":`, ${t})`}`}}))});var _R,CR,UU=Re(()=>{_R=Math.PI/180,CR=180/Math.PI});function Uxe(t){if(t instanceof ed)return new ed(t.l,t.a,t.b,t.opacity);if(t instanceof If)return Bxe(t);t instanceof ca||(t=J_(t));var e=WU(t.r),r=WU(t.g),n=WU(t.b),i=BU((.2225045*e+.7168786*r+.0606169*n)/zxe),a,o;return e===r&&r===n?a=o=i:(a=BU((.4360747*e+.3850649*r+.1430804*n)/Pxe),o=BU((.0139322*e+.0971045*r+.7141733*n)/Fxe)),new ed(116*i-16,500*(a-i),200*(i-o),t.opacity)}function s1(t,e,r,n){return arguments.length===1?Uxe(t):new ed(t,e,r,n==null?1:n)}function ed(t,e,r,n){this.l=+t,this.a=+e,this.b=+r,this.opacity=+n}function BU(t){return t>grt?Math.pow(t,1/3):t/qxe+Hxe}function jU(t){return t>o1?t*t*t:qxe*(t-Hxe)}function VU(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function WU(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function yrt(t){if(t instanceof If)return new If(t.h,t.c,t.l,t.opacity);if(t instanceof ed||(t=Uxe(t)),t.a===0&&t.b===0)return new If(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*CR;return new If(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function t2(t,e,r,n){return arguments.length===1?yrt(t):new If(t,e,r,n==null?1:n)}function If(t,e,r,n){this.h=+t,this.c=+e,this.l=+r,this.opacity=+n}function Bxe(t){if(isNaN(t.h))return new ed(t.l,0,0,t.opacity);var e=t.h*_R;return new ed(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}var kR,Pxe,zxe,Fxe,Hxe,o1,qxe,grt,jxe=Re(()=>{bR();SR();UU();kR=18,Pxe=.96422,zxe=1,Fxe=.82521,Hxe=4/29,o1=6/29,qxe=3*o1*o1,grt=o1*o1*o1;Rf(ed,s1,Rp(Ju,{brighter(t){return new ed(this.l+kR*(t==null?1:t),this.a,this.b,this.opacity)},darker(t){return new ed(this.l-kR*(t==null?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return e=Pxe*jU(e),t=zxe*jU(t),r=Fxe*jU(r),new ca(VU(3.1338561*e-1.6168667*t-.4906146*r),VU(-.9787684*e+1.9161415*t+.033454*r),VU(.0719453*e-.2289914*t+1.4052427*r),this.opacity)}}));Rf(If,t2,Rp(Ju,{brighter(t){return new If(this.h,this.c,this.l+kR*(t==null?1:t),this.opacity)},darker(t){return new If(this.h,this.c,this.l-kR*(t==null?1:t),this.opacity)},rgb(){return Bxe(this).rgb()}}))});function brt(t){if(t instanceof og)return new og(t.h,t.s,t.l,t.opacity);t instanceof ca||(t=J_(t));var e=t.r/255,r=t.g/255,n=t.b/255,i=(Gxe*n+Vxe*e-Wxe*r)/(Gxe+Vxe-Wxe),a=n-i,o=(r2*(r-i)-YU*a)/ER,s=Math.sqrt(o*o+a*a)/(r2*i*(1-i)),l=s?Math.atan2(o,a)*CR-120:NaN;return new og(l<0?l+360:l,s,i,t.opacity)}function l1(t,e,r,n){return arguments.length===1?brt(t):new og(t,e,r,n==null?1:n)}function og(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}var Yxe,GU,YU,ER,r2,Vxe,Wxe,Gxe,Zxe=Re(()=>{bR();SR();UU();Yxe=-.14861,GU=1.78277,YU=-.29227,ER=-.90649,r2=1.97294,Vxe=r2*ER,Wxe=r2*GU,Gxe=GU*YU-ER*Yxe;Rf(og,l1,Rp(Ju,{brighter(t){return t=t==null?ag:Math.pow(ag,t),new og(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ip:Math.pow(Ip,t),new og(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*_R,e=+this.l,r=isNaN(this.s)?0:this.s*e*(1-e),n=Math.cos(t),i=Math.sin(t);return new ca(255*(e+r*(Yxe*n+GU*i)),255*(e+r*(YU*n+ER*i)),255*(e+r*(r2*n)),this.opacity)}}))});var sg=Re(()=>{SR();jxe();Zxe()});function ZU(t,e,r,n,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*r+(1+3*t+3*a-3*o)*n+o*i)/6}function DR(t){var e=t.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),i=t[n],a=t[n+1],o=n>0?t[n-1]:2*i-a,s=n<e-1?t[n+2]:2*a-i;return ZU((r-n/e)*e,o,i,a,s)}}var AR=Re(()=>{});function MR(t){var e=t.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*e),i=t[(n+e-1)%e],a=t[n%e],o=t[(n+1)%e],s=t[(n+2)%e];return ZU((r-n/e)*e,i,a,o,s)}}var $U=Re(()=>{AR()});var c1,XU=Re(()=>{c1=t=>()=>t});function $xe(t,e){return function(r){return t+r*e}}function wrt(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Lp(t,e){var r=e-t;return r?$xe(t,r>180||r<-180?r-360*Math.round(r/360):r):c1(isNaN(t)?e:t)}function Xxe(t){return(t=+t)==1?pi:function(e,r){return r-e?wrt(e,r,t):c1(isNaN(e)?r:e)}}function pi(t,e){var r=e-t;return r?$xe(t,r):c1(isNaN(t)?e:t)}var lg=Re(()=>{XU()});function Kxe(t){return function(e){var r=e.length,n=new Array(r),i=new Array(r),a=new Array(r),o,s;for(o=0;o<r;++o)s=a1(e[o]),n[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return n=t(n),i=t(i),a=t(a),s.opacity=1,function(l){return s.r=n(l),s.g=i(l),s.b=a(l),s+""}}}var n2,Qxe,Jxe,KU=Re(()=>{sg();AR();$U();lg();n2=function t(e){var r=Xxe(e);function n(i,a){var o=r((i=a1(i)).r,(a=a1(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),c=pi(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);Qxe=Kxe(DR),Jxe=Kxe(MR)});function u1(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function RR(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}var IR=Re(()=>{});function eTe(t,e){return(RR(e)?u1:QU)(t,e)}function QU(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Op(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}var JU=Re(()=>{i2();IR()});function NR(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}var eB=Re(()=>{});function _s(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}var a2=Re(()=>{});function LR(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Op(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var tB=Re(()=>{i2()});function xrt(t){return function(){return t}}function Trt(t){return function(e){return t(e)+""}}function OR(t,e){var r=nB.lastIndex=rB.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=nB.exec(t))&&(i=rB.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:_s(n,i)})),r=rB.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Trt(l[0].x):xrt(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}var nB,rB,iB=Re(()=>{a2();nB=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rB=new RegExp(nB.source,"g")});function Op(t,e){var r=typeof e,n;return e==null||r==="boolean"?c1(e):(r==="number"?_s:r==="string"?(n=Np(e))?(e=n,n2):OR:e instanceof Np?n2:e instanceof Date?NR:RR(e)?u1:Array.isArray(e)?QU:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?LR:_s)(t,e)}var i2=Re(()=>{sg();KU();JU();eB();a2();tB();iB();XU();IR()});function tTe(t){var e=t.length;return function(r){return t[Math.max(0,Math.min(e-1,Math.floor(r*e)))]}}var rTe=Re(()=>{});function nTe(t,e){var r=Lp(+t,+e);return function(n){var i=r(n);return i-360*Math.floor(i/360)}}var iTe=Re(()=>{lg()});function aTe(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}var oTe=Re(()=>{});function aB(t,e,r,n,i,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*r+e*n)&&(r-=t*l,n-=e*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),t*n<e*r&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*sTe,skewX:Math.atan(l)*sTe,scaleX:o,scaleY:s}}var sTe,PR,lTe=Re(()=>{sTe=180/Math.PI,PR={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}});function cTe(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?PR:aB(e.a,e.b,e.c,e.d,e.e,e.f)}function uTe(t){return t==null?PR:(zR||(zR=document.createElementNS("http://www.w3.org/2000/svg","g")),zR.setAttribute("transform",t),(t=zR.transform.baseVal.consolidate())?(t=t.matrix,aB(t.a,t.b,t.c,t.d,t.e,t.f)):PR)}var zR,dTe=Re(()=>{lTe()});function fTe(t,e,r,n){function i(c){return c.length?c.pop()+" ":""}function a(c,u,d,f,h,p){if(c!==d||u!==f){var m=h.push("translate(",null,e,null,r);p.push({i:m-4,x:_s(c,d)},{i:m-2,x:_s(u,f)})}else(d||f)&&h.push("translate("+d+e+f+r)}function o(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,n)-2,x:_s(c,u)})):u&&d.push(i(d)+"rotate("+u+n)}function s(c,u,d,f){c!==u?f.push({i:d.push(i(d)+"skewX(",null,n)-2,x:_s(c,u)}):u&&d.push(i(d)+"skewX("+u+n)}function l(c,u,d,f,h,p){if(c!==d||u!==f){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:_s(c,d)},{i:m-2,x:_s(u,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=t(c),u=t(u),a(c.translateX,c.translateY,u.translateX,u.translateY,d,f),o(c.rotate,u.rotate,d,f),s(c.skewX,u.skewX,d,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(h){for(var p=-1,m=f.length,v;++p<m;)d[(v=f[p]).i]=v.x(h);return d.join("")}}}var hTe,pTe,mTe=Re(()=>{a2();dTe();hTe=fTe(cTe,"px, ","px)","deg)"),pTe=fTe(uTe,", ",")",")")});function vTe(t){return((t=Math.exp(t))+1/t)/2}function _rt(t){return((t=Math.exp(t))-1/t)/2}function Crt(t){return((t=Math.exp(2*t))-1)/(t+1)}var Srt,gTe,yTe=Re(()=>{Srt=1e-12;gTe=function t(e,r,n){function i(a,o){var s=a[0],l=a[1],c=a[2],u=o[0],d=o[1],f=o[2],h=u-s,p=d-l,m=h*h+p*p,v,y;if(m<Srt)y=Math.log(f/c)/e,v=function(C){return[s+C*h,l+C*p,c*Math.exp(e*C*y)]};else{var b=Math.sqrt(m),x=(f*f-c*c+n*m)/(2*c*r*b),w=(f*f-c*c-n*m)/(2*f*r*b),S=Math.log(Math.sqrt(x*x+1)-x),_=Math.log(Math.sqrt(w*w+1)-w);y=(_-S)/e,v=function(C){var E=C*y,M=vTe(S),I=c/(r*b)*(M*Crt(e*E+S)-_rt(S));return[s+I*h,l+I*p,c*M/vTe(e*E+S)]}}return v.duration=y*1e3*e/Math.SQRT2,v}return i.rho=function(a){var o=Math.max(.001,+a),s=o*o,l=s*s;return t(o,s,l)},i}(Math.SQRT2,2,4)});function bTe(t){return function(e,r){var n=t((e=e2(e)).h,(r=e2(r)).h),i=pi(e.s,r.s),a=pi(e.l,r.l),o=pi(e.opacity,r.opacity);return function(s){return e.h=n(s),e.s=i(s),e.l=a(s),e.opacity=o(s),e+""}}}var wTe,xTe,TTe=Re(()=>{sg();lg();wTe=bTe(Lp),xTe=bTe(pi)});function oB(t,e){var r=pi((t=s1(t)).l,(e=s1(e)).l),n=pi(t.a,e.a),i=pi(t.b,e.b),a=pi(t.opacity,e.opacity);return function(o){return t.l=r(o),t.a=n(o),t.b=i(o),t.opacity=a(o),t+""}}var STe=Re(()=>{sg();lg()});function _Te(t){return function(e,r){var n=t((e=t2(e)).h,(r=t2(r)).h),i=pi(e.c,r.c),a=pi(e.l,r.l),o=pi(e.opacity,r.opacity);return function(s){return e.h=n(s),e.c=i(s),e.l=a(s),e.opacity=o(s),e+""}}}var CTe,kTe,ETe=Re(()=>{sg();lg();CTe=_Te(Lp),kTe=_Te(pi)});function DTe(t){return function e(r){r=+r;function n(i,a){var o=t((i=l1(i)).h,(a=l1(a)).h),s=pi(i.s,a.s),l=pi(i.l,a.l),c=pi(i.opacity,a.opacity);return function(u){return i.h=o(u),i.s=s(u),i.l=l(Math.pow(u,r)),i.opacity=c(u),i+""}}return n.gamma=e,n}(1)}var ATe,MTe,RTe=Re(()=>{sg();lg();ATe=DTe(Lp),MTe=DTe(pi)});function sB(t,e){e===void 0&&(e=t,t=Op);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}var ITe=Re(()=>{i2()});function NTe(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t(n/(e-1));return r}var LTe=Re(()=>{});var OTe={};Wr(OTe,{interpolate:()=>Op,interpolateArray:()=>eTe,interpolateBasis:()=>DR,interpolateBasisClosed:()=>MR,interpolateCubehelix:()=>ATe,interpolateCubehelixLong:()=>MTe,interpolateDate:()=>NR,interpolateDiscrete:()=>tTe,interpolateHcl:()=>CTe,interpolateHclLong:()=>kTe,interpolateHsl:()=>wTe,interpolateHslLong:()=>xTe,interpolateHue:()=>nTe,interpolateLab:()=>oB,interpolateNumber:()=>_s,interpolateNumberArray:()=>u1,interpolateObject:()=>LR,interpolateRgb:()=>n2,interpolateRgbBasis:()=>Qxe,interpolateRgbBasisClosed:()=>Jxe,interpolateRound:()=>aTe,interpolateString:()=>OR,interpolateTransformCss:()=>hTe,interpolateTransformSvg:()=>pTe,interpolateZoom:()=>gTe,piecewise:()=>sB,quantize:()=>NTe});var PTe=Re(()=>{i2();JU();AR();$U();eB();rTe();iTe();a2();IR();tB();oTe();iB();mTe();yTe();KU();TTe();STe();ETe();RTe();ITe();LTe()});var FTe=J((r_t,zTe)=>{"use strict";var krt=Kr(),Ert=gr();zTe.exports=function(e,r,n,i,a){var o=r.data.data,s=o.i,l=a||o.color;if(s>=0){r.i=o.i;var c=n.marker;c.pattern?(!c.colors||!c.pattern.shape)&&(c.color=l,r.color=l):(c.color=l,r.color=l),krt.pointStyle(e,n,i,r)}else Ert.fill(e,l)}});var lB=J((n_t,jTe)=>{"use strict";var HTe=Sr(),qTe=gr(),UTe=Qe(),Drt=rg().resizeText,Art=FTe();function Mrt(t){var e=t._fullLayout._sunburstlayer.selectAll(".trace");Drt(t,e,"sunburst"),e.each(function(r){var n=HTe.select(this),i=r[0],a=i.trace;n.style("opacity",a.opacity),n.selectAll("path.surface").each(function(o){HTe.select(this).call(BTe,o,a,t)})})}function BTe(t,e,r,n){var i=e.data.data,a=!e.children,o=i.i,s=UTe.castOption(r,o,"marker.line.color")||qTe.defaultLine,l=UTe.castOption(r,o,"marker.line.width")||0;t.call(Art,e,r,n).style("stroke-width",l).call(qTe.stroke,s).style("opacity",a?r.leaf.opacity:null)}jTe.exports={style:Mrt,styleOne:BTe}});var FR=J(cg=>{"use strict";var Rrt=_r(),Irt=Vs(),VTe=Qe().isArrayOrTypedArray;cg.coerceString=function(t,e,r){if(typeof e=="string"){if(e||!t.noBlank)return e}else if((typeof e=="number"||e===!0)&&!t.strict)return String(e);return r!==void 0?r:t.dflt};cg.coerceNumber=function(t,e,r){if(Rrt(e)){e=+e;var n=t.min,i=t.max,a=n!==void 0&&e<n||i!==void 0&&e>i;if(!a)return e}return r!==void 0?r:t.dflt};cg.coerceColor=function(t,e,r){return Irt(e).isValid()?e:r!==void 0?r:t.dflt};cg.coerceEnumerated=function(t,e,r){return t.coerceNumber&&(e=+e),t.values.indexOf(e)!==-1?e:r!==void 0?r:t.dflt};cg.getValue=function(t,e){var r;return VTe(t)?e<t.length&&(r=t[e]):r=t,r};cg.getLineWidth=function(t,e){var r=0<e.mlw?e.mlw:VTe(t.marker.line.width)?0:t.marker.line.width;return r}});var l2=J((a_t,tSe)=>{"use strict";var o2=Sr(),Nrt=gr(),s2=Kr(),WTe=Qe(),GTe=Xt(),YTe=rg().resizeText,cB=Y_(),Lrt=cB.textfont,Ort=cB.insidetextfont,Prt=cB.outsidetextfont,ja=FR();function zrt(t){var e=o2.select(t).selectAll('g[class^="barlayer"]').selectAll("g.trace");YTe(t,e,"bar");var r=e.size(),n=t._fullLayout;e.style("opacity",function(i){return i[0].trace.opacity}).each(function(i){(n.barmode==="stack"&&r>1||n.bargap===0&&n.bargroupgap===0&&!i[0].trace.marker.line.width)&&o2.select(this).attr("shape-rendering","crispEdges")}),e.selectAll("g.points").each(function(i){var a=o2.select(this),o=i[0].trace;ZTe(a,o,t)}),GTe.getComponentMethod("errorbars","style")(e)}function ZTe(t,e,r){s2.pointStyle(t.selectAll("path"),e,r),$Te(t,e,r)}function $Te(t,e,r){t.selectAll("text").each(function(n){var i=o2.select(this),a=WTe.ensureUniformFontSize(r,XTe(i,n,e,r));s2.font(i,a)})}function Frt(t,e,r){var n=e[0].trace;n.selectedpoints?Hrt(r,n,t):(ZTe(r,n,t),GTe.getComponentMethod("errorbars","style")(r))}function Hrt(t,e,r){s2.selectedPointStyle(t.selectAll("path"),e),qrt(t.selectAll("text"),e,r)}function qrt(t,e,r){t.each(function(n){var i=o2.select(this),a;if(n.selected){a=WTe.ensureUniformFontSize(r,XTe(i,n,e,r));var o=e.selected.textfont&&e.selected.textfont.color;o&&(a.color=o),s2.font(i,a)}else s2.selectedTextStyle(i,e)})}function XTe(t,e,r,n){var i=n._fullLayout.font,a=r.textfont;if(t.classed("bartext-inside")){var o=eSe(e,r);a=QTe(r,e.i,i,o)}else t.classed("bartext-outside")&&(a=JTe(r,e.i,i));return a}function KTe(t,e,r){return uB(Lrt,t.textfont,e,r)}function QTe(t,e,r,n){var i=KTe(t,e,r),a=t._input.textfont===void 0||t._input.textfont.color===void 0||Array.isArray(t.textfont.color)&&t.textfont.color[e]===void 0;return a&&(i={color:Nrt.contrast(n),family:i.family,size:i.size,weight:i.weight,style:i.style,variant:i.variant,textcase:i.textcase,lineposition:i.lineposition,shadow:i.shadow}),uB(Ort,t.insidetextfont,e,i)}function JTe(t,e,r){var n=KTe(t,e,r);return uB(Prt,t.outsidetextfont,e,n)}function uB(t,e,r,n){e=e||{};var i=ja.getValue(e.family,r),a=ja.getValue(e.size,r),o=ja.getValue(e.color,r),s=ja.getValue(e.weight,r),l=ja.getValue(e.style,r),c=ja.getValue(e.variant,r),u=ja.getValue(e.textcase,r),d=ja.getValue(e.lineposition,r),f=ja.getValue(e.shadow,r);return{family:ja.coerceString(t.family,i,n.family),size:ja.coerceNumber(t.size,a,n.size),color:ja.coerceColor(t.color,o,n.color),weight:ja.coerceString(t.weight,s,n.weight),style:ja.coerceString(t.style,l,n.style),variant:ja.coerceString(t.variant,c,n.variant),textcase:ja.coerceString(t.variant,u,n.textcase),lineposition:ja.coerceString(t.variant,d,n.lineposition),shadow:ja.coerceString(t.variant,f,n.shadow)}}function eSe(t,e){return e.type==="waterfall"?e[t.dir].marker.color:t.mcc||t.mc||e.marker.color}tSe.exports={style:zrt,styleTextPoints:$Te,styleOnSelect:Frt,getInsideTextFont:QTe,getOutsideTextFont:JTe,getBarColor:eSe,resizeText:YTe}});var dB=J(Cr=>{"use strict";var ug=Qe(),Urt=gr(),Brt=bf(),rSe=Pv();Cr.findEntryWithLevel=function(t,e){var r;return e&&t.eachAfter(function(n){if(Cr.getPtId(n)===e)return r=n.copy()}),r||t};Cr.findEntryWithChild=function(t,e){var r;return t.eachAfter(function(n){for(var i=n.children||[],a=0;a<i.length;a++){var o=i[a];if(Cr.getPtId(o)===e)return r=n.copy()}}),r||t};Cr.isEntry=function(t){return!t.parent};Cr.isLeaf=function(t){return!t.children};Cr.getPtId=function(t){return t.data.data.id};Cr.getPtLabel=function(t){return t.data.data.label};Cr.getValue=function(t){return t.value};Cr.isHierarchyRoot=function(t){return nSe(t)===""};Cr.setSliceCursor=function(t,e,r){var n=r.isTransitioning;if(!n){var i=t.datum();n=r.hideOnRoot&&Cr.isHierarchyRoot(i)||r.hideOnLeaves&&Cr.isLeaf(i)}Brt(t,n?null:"pointer")};function jrt(t,e,r){return{color:Cr.getOutsideTextFontKey("color",t,e,r),family:Cr.getOutsideTextFontKey("family",t,e,r),size:Cr.getOutsideTextFontKey("size",t,e,r),weight:Cr.getOutsideTextFontKey("weight",t,e,r),style:Cr.getOutsideTextFontKey("style",t,e,r),variant:Cr.getOutsideTextFontKey("variant",t,e,r),textcase:Cr.getOutsideTextFontKey("textcase",t,e,r),lineposition:Cr.getOutsideTextFontKey("lineposition",t,e,r),shadow:Cr.getOutsideTextFontKey("shadow",t,e,r)}}function Vrt(t,e,r,n){var i=(n||{}).onPathbar,a=e.data.data,o=a.i,s=ug.castOption(t,o,(i?"pathbar.textfont":"insidetextfont")+".color");return!s&&t._input.textfont&&(s=ug.castOption(t._input,o,"textfont.color")),{color:s||Urt.contrast(a.color),family:Cr.getInsideTextFontKey("family",t,e,r,n),size:Cr.getInsideTextFontKey("size",t,e,r,n),weight:Cr.getInsideTextFontKey("weight",t,e,r,n),style:Cr.getInsideTextFontKey("style",t,e,r,n),variant:Cr.getInsideTextFontKey("variant",t,e,r,n),textcase:Cr.getInsideTextFontKey("textcase",t,e,r,n),lineposition:Cr.getInsideTextFontKey("lineposition",t,e,r,n),shadow:Cr.getInsideTextFontKey("shadow",t,e,r,n)}}Cr.getInsideTextFontKey=function(t,e,r,n,i){var a=(i||{}).onPathbar,o=a?"pathbar.textfont":"insidetextfont",s=r.data.data.i;return ug.castOption(e,s,o+"."+t)||ug.castOption(e,s,"textfont."+t)||n.size};Cr.getOutsideTextFontKey=function(t,e,r,n){var i=r.data.data.i;return ug.castOption(e,i,"outsidetextfont."+t)||ug.castOption(e,i,"textfont."+t)||n.size};Cr.isOutsideText=function(t,e){return!t._hasColorscale&&Cr.isHierarchyRoot(e)};Cr.determineTextFont=function(t,e,r,n){return Cr.isOutsideText(t,e)?jrt(t,e,r):Vrt(t,e,r,n)};Cr.hasTransition=function(t){return!!(t&&t.duration>0)};Cr.getMaxDepth=function(t){return t.maxdepth>=0?t.maxdepth:1/0};Cr.isHeader=function(t,e){return!(Cr.isLeaf(t)||t.depth===e._maxDepth-1)};function nSe(t){return t.data.data.pid}Cr.getParent=function(t,e){return Cr.findEntryWithLevel(t,nSe(e))};Cr.listPath=function(t,e){var r=t.parent;if(!r)return[];var n=e?[r.data[e]]:[r];return Cr.listPath(r,e).concat(n)};Cr.getPath=function(t){return Cr.listPath(t,"label").join("/")+"/"};Cr.formatValue=rSe.formatPieValue;Cr.formatPercent=function(t,e){var r=ug.formatPercent(t,0);return r==="0%"&&(r=rSe.formatPiePercent(t,e)),r}});var sSe=J((s_t,oSe)=>{"use strict";var d1=Sr(),iSe=Xt(),Wrt=qc().appendArrayPointValue,c2=Zl(),aSe=Qe(),Grt=tb(),Zi=dB(),Yrt=Pv(),Zrt=Yrt.formatPieValue;oSe.exports=function(e,r,n,i,a){var o=i[0],s=o.trace,l=o.hierarchy,c=s.type==="sunburst",u=s.type==="treemap"||s.type==="icicle";"_hasHoverLabel"in s||(s._hasHoverLabel=!1),"_hasHoverEvent"in s||(s._hasHoverEvent=!1);var d=function(p){var m=n._fullLayout;if(!(n._dragging||m.hovermode===!1)){var v=n._fullData[s.index],y=p.data.data,b=y.i,x=Zi.isHierarchyRoot(p),w=Zi.getParent(l,p),S=Zi.getValue(p),_=function(we){return aSe.castOption(v,b,we)},C=_("hovertemplate"),E=c2.castHoverinfo(v,m,b),M=m.separators,I;if(C||E&&E!=="none"&&E!=="skip"){var L,O;c&&(L=o.cx+p.pxmid[0]*(1-p.rInscribed),O=o.cy+p.pxmid[1]*(1-p.rInscribed)),u&&(L=p._hoverX,O=p._hoverY);var H={},Y=[],K=[],N=function(we){return Y.indexOf(we)!==-1};E&&(Y=E==="all"?v._module.attributes.hoverinfo.flags:E.split("+")),H.label=y.label,N("label")&&H.label&&K.push(H.label),y.hasOwnProperty("v")&&(H.value=y.v,H.valueLabel=Zrt(H.value,M),N("value")&&K.push(H.valueLabel)),H.currentPath=p.currentPath=Zi.getPath(p.data),N("current path")&&!x&&K.push(H.currentPath);var U,B=[],$=function(){B.indexOf(U)===-1&&(K.push(U),B.push(U))};H.percentParent=p.percentParent=S/Zi.getValue(w),H.parent=p.parentString=Zi.getPtLabel(w),N("percent parent")&&(U=Zi.formatPercent(H.percentParent,M)+" of "+H.parent,$()),H.percentEntry=p.percentEntry=S/Zi.getValue(r),H.entry=p.entry=Zi.getPtLabel(r),N("percent entry")&&!x&&!p.onPathbar&&(U=Zi.formatPercent(H.percentEntry,M)+" of "+H.entry,$()),H.percentRoot=p.percentRoot=S/Zi.getValue(l),H.root=p.root=Zi.getPtLabel(l),N("percent root")&&!x&&(U=Zi.formatPercent(H.percentRoot,M)+" of "+H.root,$()),H.text=_("hovertext")||_("text"),N("text")&&(U=H.text,aSe.isValidTextValue(U)&&K.push(U)),I=[u2(p,v,a.eventDataKeys)];var ee={trace:v,y:O,_x0:p._x0,_x1:p._x1,_y0:p._y0,_y1:p._y1,text:K.join("<br>"),name:C||N("name")?v.name:void 0,color:_("hoverlabel.bgcolor")||y.color,borderColor:_("hoverlabel.bordercolor"),fontFamily:_("hoverlabel.font.family"),fontSize:_("hoverlabel.font.size"),fontColor:_("hoverlabel.font.color"),fontWeight:_("hoverlabel.font.weight"),fontStyle:_("hoverlabel.font.style"),fontVariant:_("hoverlabel.font.variant"),nameLength:_("hoverlabel.namelength"),textAlign:_("hoverlabel.align"),hovertemplate:C,hovertemplateLabels:H,eventData:I};c&&(ee.x0=L-p.rInscribed*p.rpx1,ee.x1=L+p.rInscribed*p.rpx1,ee.idealAlign=p.pxmid[0]<0?"left":"right"),u&&(ee.x=L,ee.idealAlign=L<0?"left":"right");var te=[];c2.loneHover(ee,{container:m._hoverlayer.node(),outerContainer:m._paper.node(),gd:n,inOut_bbox:te}),I[0].bbox=te[0],s._hasHoverLabel=!0}if(u){var he=e.select("path.surface");a.styleOne(he,p,v,n,{hovered:!0})}s._hasHoverEvent=!0,n.emit("plotly_hover",{points:I||[u2(p,v,a.eventDataKeys)],event:d1.event})}},f=function(p){var m=n._fullLayout,v=n._fullData[s.index],y=d1.select(this).datum();if(s._hasHoverEvent&&(p.originalEvent=d1.event,n.emit("plotly_unhover",{points:[u2(y,v,a.eventDataKeys)],event:d1.event}),s._hasHoverEvent=!1),s._hasHoverLabel&&(c2.loneUnhover(m._hoverlayer.node()),s._hasHoverLabel=!1),u){var b=e.select("path.surface");a.styleOne(b,y,v,n,{hovered:!1})}},h=function(p){var m=n._fullLayout,v=n._fullData[s.index],y=c&&(Zi.isHierarchyRoot(p)||Zi.isLeaf(p)),b=Zi.getPtId(p),x=Zi.isEntry(p)?Zi.findEntryWithChild(l,b):Zi.findEntryWithLevel(l,b),w=Zi.getPtId(x),S={points:[u2(p,v,a.eventDataKeys)],event:d1.event};y||(S.nextLevel=w);var _=Grt.triggerHandler(n,"plotly_"+s.type+"click",S);if(_!==!1&&m.hovermode&&(n._hoverdata=[u2(p,v,a.eventDataKeys)],c2.click(n,d1.event)),!y&&_!==!1&&!n._dragging&&!n._transitioning){iSe.call("_storeDirectGUIEdit",v,m._tracePreGUI[v.uid],{level:v.level});var C={data:[{level:w}],traces:[s.index]},E={frame:{redraw:!1,duration:a.transitionTime},transition:{duration:a.transitionTime,easing:a.transitionEasing},mode:"immediate",fromcurrent:!0};c2.loneUnhover(m._hoverlayer.node()),iSe.call("animate",n,C,E)}};e.on("mouseover",d),e.on("mouseout",f),e.on("click",h)};function u2(t,e,r){for(var n=t.data.data,i={curveNumber:e.index,pointNumber:n.i,data:e._input,fullData:e},a=0;a<r.length;a++){var o=r[a];o in t&&(i[o]=t[o])}return"parentString"in t&&!Zi.isHierarchyRoot(t)&&(i.parent=t.parentString),Wrt(i,e,n.i),i}});var pSe=J(HR=>{"use strict";var d2=Sr(),$rt=FU(),nu=(PTe(),IV(OTe)).interpolate,lSe=Kr(),co=Qe(),Xrt=wa(),fSe=rg(),cSe=fSe.recordMinTextSize,Krt=fSe.clearMinTextSize,hSe=LU(),Qrt=Pv().getRotationAngle,Jrt=hSe.computeTransform,ent=hSe.transformInsideText,tnt=lB().styleOne,rnt=l2().resizeText,nnt=sSe(),fB=OU(),Hr=dB();HR.plot=function(t,e,r,n){var i=t._fullLayout,a=i._sunburstlayer,o,s,l=!r,c=!i.uniformtext.mode&&Hr.hasTransition(r);if(Krt("sunburst",i),o=a.selectAll("g.trace.sunburst").data(e,function(d){return d[0].trace.uid}),o.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),o.order(),c){n&&(s=n());var u=d2.transition().duration(r.duration).ease(r.easing).each("end",function(){s&&s()}).each("interrupt",function(){s&&s()});u.each(function(){a.selectAll("g.trace").each(function(d){uSe(t,d,this,r)})})}else o.each(function(d){uSe(t,d,this,r)}),i.uniformtext.mode&&rnt(t,i._sunburstlayer.selectAll(".trace"),"sunburst");l&&o.exit().remove()};function uSe(t,e,r,n){var i=t._context.staticPlot,a=t._fullLayout,o=!a.uniformtext.mode&&Hr.hasTransition(n),s=d2.select(r),l=s.selectAll("g.slice"),c=e[0],u=c.trace,d=c.hierarchy,f=Hr.findEntryWithLevel(d,u.level),h=Hr.getMaxDepth(u),p=a._size,m=u.domain,v=p.w*(m.x[1]-m.x[0]),y=p.h*(m.y[1]-m.y[0]),b=.5*Math.min(v,y),x=c.cx=p.l+p.w*(m.x[1]+m.x[0])/2,w=c.cy=p.t+p.h*(1-m.y[0])-y/2;if(!f)return l.remove();var S=null,_={};o&&l.each(function(ce){_[Hr.getPtId(ce)]={rpx0:ce.rpx0,rpx1:ce.rpx1,x0:ce.x0,x1:ce.x1,transform:ce.transform},!S&&Hr.isEntry(ce)&&(S=ce)});var C=int(f).descendants(),E=f.height+1,M=0,I=h;c.hasMultipleRoots&&Hr.isHierarchyRoot(f)&&(C=C.slice(1),E-=1,M=1,I+=1),C=C.filter(function(ce){return ce.y1<=I});var L=Qrt(u.rotation);L&&C.forEach(function(ce){ce.x0+=L,ce.x1+=L});var O=Math.min(E,h),H=function(ce){return(ce-M)/O*b},Y=function(ce,q){return[ce*Math.cos(q),-ce*Math.sin(q)]},K=function(ce){return co.pathAnnulus(ce.rpx0,ce.rpx1,ce.x0,ce.x1,x,w)},N=function(ce){return x+dSe(ce)[0]*(ce.transform.rCenter||0)+(ce.transform.x||0)},U=function(ce){return w+dSe(ce)[1]*(ce.transform.rCenter||0)+(ce.transform.y||0)};l=l.data(C,Hr.getPtId),l.enter().append("g").classed("slice",!0),o?l.exit().transition().each(function(){var ce=d2.select(this),q=ce.select("path.surface");q.transition().attrTween("d",function(G){var de=te(G);return function(ue){return K(de(ue))}});var X=ce.select("g.slicetext");X.attr("opacity",0)}).remove():l.exit().remove(),l.order();var B=null;if(o&&S){var $=Hr.getPtId(S);l.each(function(ce){B===null&&Hr.getPtId(ce)===$&&(B=ce.x1)})}var ee=l;o&&(ee=ee.transition().each("end",function(){var ce=d2.select(this);Hr.setSliceCursor(ce,t,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),ee.each(function(ce){var q=d2.select(this),X=co.ensureSingle(q,"path","surface",function(Oe){Oe.style("pointer-events",i?"none":"all")});ce.rpx0=H(ce.y0),ce.rpx1=H(ce.y1),ce.xmid=(ce.x0+ce.x1)/2,ce.pxmid=Y(ce.rpx1,ce.xmid),ce.midangle=-(ce.xmid-Math.PI/2),ce.startangle=-(ce.x0-Math.PI/2),ce.stopangle=-(ce.x1-Math.PI/2),ce.halfangle=.5*Math.min(co.angleDelta(ce.x0,ce.x1)||Math.PI,Math.PI),ce.ring=1-ce.rpx0/ce.rpx1,ce.rInscribed=ant(ce,u),o?X.transition().attrTween("d",function(Oe){var Ce=he(Oe);return function(je){return K(Ce(je))}}):X.attr("d",K),q.call(nnt,f,t,e,{eventDataKeys:fB.eventDataKeys,transitionTime:fB.CLICK_TRANSITION_TIME,transitionEasing:fB.CLICK_TRANSITION_EASING}).call(Hr.setSliceCursor,t,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:t._transitioning}),X.call(tnt,ce,u,t);var G=co.ensureSingle(q,"g","slicetext"),de=co.ensureSingle(G,"text","",function(Oe){Oe.attr("data-notex",1)}),ue=co.ensureUniformFontSize(t,Hr.determineTextFont(u,ce,a.font));de.text(HR.formatSliceLabel(ce,f,u,e,a)).classed("slicetext",!0).attr("text-anchor","middle").call(lSe.font,ue).call(Xrt.convertToTspans,t);var fe=lSe.bBox(de.node());ce.transform=ent(fe,ce,c),ce.transform.targetX=N(ce),ce.transform.targetY=U(ce);var _e=function(Oe,Ce){var je=Oe.transform;return Jrt(je,Ce),je.fontSize=ue.size,cSe(u.type,je,a),co.getTextTransform(je)};o?de.transition().attrTween("transform",function(Oe){var Ce=we(Oe);return function(je){return _e(Ce(je),fe)}}):de.attr("transform",_e(ce,fe))});function te(ce){var q=Hr.getPtId(ce),X=_[q],G=_[Hr.getPtId(f)],de;if(G){var ue=(ce.x1>G.x1?2*Math.PI:0)+L;de=ce.rpx1<G.rpx1?{x0:ce.x0,x1:ce.x1,rpx0:0,rpx1:0}:{x0:ue,x1:ue,rpx0:ce.rpx0,rpx1:ce.rpx1}}else{var fe,_e=Hr.getPtId(ce.parent);l.each(function(Ve){if(Hr.getPtId(Ve)===_e)return fe=Ve});var Oe=fe.children,Ce;Oe.forEach(function(Ve,ot){if(Hr.getPtId(Ve)===q)return Ce=ot});var je=Oe.length,qe=nu(fe.x0,fe.x1);de={rpx0:b,rpx1:b,x0:qe(Ce/je),x1:qe((Ce+1)/je)}}return nu(X,de)}function he(ce){var q=_[Hr.getPtId(ce)],X,G={x0:ce.x0,x1:ce.x1,rpx0:ce.rpx0,rpx1:ce.rpx1};if(q)X=q;else if(S)if(ce.parent)if(B){var de=(ce.x1>B?2*Math.PI:0)+L;X={x0:de,x1:de}}else X={rpx0:b,rpx1:b},co.extendFlat(X,Te(ce));else X={rpx0:0,rpx1:0};else X={x0:L,x1:L};return nu(X,G)}function we(ce){var q=_[Hr.getPtId(ce)],X,G=ce.transform;if(q)X=q;else if(X={rpx1:ce.rpx1,transform:{textPosAngle:G.textPosAngle,scale:0,rotate:G.rotate,rCenter:G.rCenter,x:G.x,y:G.y}},S)if(ce.parent)if(B){var de=ce.x1>B?2*Math.PI:0;X.x0=X.x1=de}else co.extendFlat(X,Te(ce));else X.x0=X.x1=L;else X.x0=X.x1=L;var ue=nu(X.transform.textPosAngle,ce.transform.textPosAngle),fe=nu(X.rpx1,ce.rpx1),_e=nu(X.x0,ce.x0),Oe=nu(X.x1,ce.x1),Ce=nu(X.transform.scale,G.scale),je=nu(X.transform.rotate,G.rotate),qe=G.rCenter===0?3:X.transform.rCenter===0?1/3:1,Ve=nu(X.transform.rCenter,G.rCenter),ot=function($e){return Ve(Math.pow($e,qe))};return function($e){var Xe=fe($e),Je=_e($e),nt=Oe($e),Ke=ot($e),Ae=Y(Xe,(Je+nt)/2),it=ue($e),at={pxmid:Ae,rpx1:Xe,transform:{textPosAngle:it,rCenter:Ke,x:G.x,y:G.y}};return cSe(u.type,G,a),{transform:{targetX:N(at),targetY:U(at),scale:Ce($e),rotate:je($e),rCenter:Ke}}}}function Te(ce){var q=ce.parent,X=_[Hr.getPtId(q)],G={};if(X){var de=q.children,ue=de.indexOf(ce),fe=de.length,_e=nu(X.x0,X.x1);G.x0=_e(ue/fe),G.x1=_e(ue/fe)}else G.x0=G.x1=0;return G}}function int(t){return $rt.partition().size([2*Math.PI,t.height+1])(t)}HR.formatSliceLabel=function(t,e,r,n,i){var a=r.texttemplate,o=r.textinfo;if(!a&&(!o||o==="none"))return"";var s=i.separators,l=n[0],c=t.data.data,u=l.hierarchy,d=Hr.isHierarchyRoot(t),f=Hr.getParent(u,t),h=Hr.getValue(t);if(!a){var p=o.split("+"),m=function(M){return p.indexOf(M)!==-1},v=[],y;if(m("label")&&c.label&&v.push(c.label),c.hasOwnProperty("v")&&m("value")&&v.push(Hr.formatValue(c.v,s)),!d){m("current path")&&v.push(Hr.getPath(t.data));var b=0;m("percent parent")&&b++,m("percent entry")&&b++,m("percent root")&&b++;var x=b>1;if(b){var w,S=function(M){y=Hr.formatPercent(w,s),x&&(y+=" of "+M),v.push(y)};m("percent parent")&&!d&&(w=h/Hr.getValue(f),S("parent")),m("percent entry")&&(w=h/Hr.getValue(e),S("entry")),m("percent root")&&(w=h/Hr.getValue(u),S("root"))}}return m("text")&&(y=co.castOption(r,c.i,"text"),co.isValidTextValue(y)&&v.push(y)),v.join("<br>")}var _=co.castOption(r,c.i,"texttemplate");if(!_)return"";var C={};c.label&&(C.label=c.label),c.hasOwnProperty("v")&&(C.value=c.v,C.valueLabel=Hr.formatValue(c.v,s)),C.currentPath=Hr.getPath(t.data),d||(C.percentParent=h/Hr.getValue(f),C.percentParentLabel=Hr.formatPercent(C.percentParent,s),C.parent=Hr.getPtLabel(f)),C.percentEntry=h/Hr.getValue(e),C.percentEntryLabel=Hr.formatPercent(C.percentEntry,s),C.entry=Hr.getPtLabel(e),C.percentRoot=h/Hr.getValue(u),C.percentRootLabel=Hr.formatPercent(C.percentRoot,s),C.root=Hr.getPtLabel(u),c.hasOwnProperty("color")&&(C.color=c.color);var E=co.castOption(r,c.i,"text");return(co.isValidTextValue(E)||E==="")&&(C.text=E),C.customdata=co.castOption(r,c.i,"customdata"),co.texttemplateString(_,C,i._d3locale,C,r._meta||{})};function ant(t){return t.rpx0===0&&co.isFullCircle([t.x0,t.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(t.halfangle)),t.ring/2))}function dSe(t){return ont(t.rpx1,t.transform.textPosAngle)}function ont(t,e){return[t*Math.sin(e),-t*Math.cos(e)]}});var vSe=J((c_t,mSe)=>{"use strict";mSe.exports={moduleType:"trace",name:"sunburst",basePlotModule:hxe(),categories:[],animatable:!0,attributes:PU(),layoutAttributes:zU(),supplyDefaults:xxe(),supplyLayoutDefaults:Sxe(),calc:HU().calc,crossTraceCalc:HU().crossTraceCalc,plot:pSe().plot,style:lB().style,colorbar:A5(),meta:{description:["Visualize hierarchal data spanning outward radially from root to leaves.","The sunburst sectors are determined by the entries in *labels* or *ids*","and in *parents*."].join(" ")}}});var ySe=J((u_t,gSe)=>{"use strict";gSe.exports=vSe()});var wSe=J((d_t,bSe)=>{"use strict";bSe.exports=Lq()});var hB=J((f_t,xSe)=>{"use strict";xSe.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc",description:["Determines how bars at the same location coordinate","are displayed on the graph.","With *stack*, the bars are stacked on top of one another","With *relative*, the bars are stacked on top of one another,","with negative values below the axis, positive values above","With *group*, the bars are plotted next to one another","centered around the shared location.","With *overlay*, the bars are plotted over one another,","you might need to reduce *opacity* to see multiple bars."].join(" ")},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc",description:["Sets the normalization for bar traces on the graph.","With *fraction*, the value of each bar is divided by the sum of all","values at that location coordinate.","*percent* is the same but multiplied by 100 to show percentages."].join(" ")},bargap:{valType:"number",min:0,max:1,editType:"calc",description:["Sets the gap (in plot fraction) between bars of","adjacent location coordinates."].join(" ")},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc",description:["Sets the gap (in plot fraction) between bars of","the same location coordinate."].join(" ")},barcornerradius:{valType:"any",editType:"calc",description:["Sets the rounding of bar corners. May be an integer number of pixels,","or a percentage of bar width (as a string ending in %)."].join(" ")}}});var SSe=J((h_t,TSe)=>{"use strict";var snt=Xt(),lnt=gn(),cnt=Qe(),unt=hB(),dnt=e1().validateCornerradius;TSe.exports=function(t,e,r){function n(m,v){return cnt.coerce(t,e,unt,m,v)}for(var i=!1,a=!1,o=!1,s={},l=n("barmode"),c=l==="group",u=0;u<r.length;u++){var d=r[u];if(snt.traceIs(d,"bar")&&d.visible)i=!0;else continue;var f=d.xaxis+d.yaxis;if(c?(s[f]&&(o=!0),s[f]=!0):(f+=d._input.offsetgroup,s.length>0&&!s[f]&&(o=!0),s[f]=!0),d.visible&&d.type==="histogram"){var h=lnt.getFromId({_fullLayout:e},d[d.orientation==="v"?"xaxis":"yaxis"]);h.type!=="category"&&(a=!0)}}if(!i){delete e.barmode;return}l!=="overlay"&&n("barnorm"),n("bargap",a&&!o?0:.2),n("bargroupgap");var p=n("barcornerradius");e.barcornerradius=dnt(p)}});var qR=J((p_t,_Se)=>{"use strict";var f1=Qe();_Se.exports=function(e,r){for(var n=0;n<e.length;n++)e[n].i=n;f1.mergeArray(r.text,e,"tx"),f1.mergeArray(r.hovertext,e,"htx");var i=r.marker;if(i){f1.mergeArray(i.opacity,e,"mo",!0),f1.mergeArray(i.color,e,"mc");var a=i.line;a&&(f1.mergeArray(a.color,e,"mlc"),f1.mergeArrayCastPositive(a.width,e,"mlw"))}}});var MSe=J((m_t,ASe)=>{"use strict";var CSe=gn(),kSe=k_(),ESe=Vl().hasColorscale,DSe=RS(),fnt=qR(),hnt=cq();ASe.exports=function(e,r){var n=CSe.getFromId(e,r.xaxis||"x"),i=CSe.getFromId(e,r.yaxis||"y"),a,o,s,l,c,u,d={msUTC:!!(r.base||r.base===0)};r.orientation==="h"?(a=n.makeCalcdata(r,"x",d),s=i.makeCalcdata(r,"y"),l=kSe(r,i,"y",s),c=!!r.yperiodalignment,u="y"):(a=i.makeCalcdata(r,"y",d),s=n.makeCalcdata(r,"x"),l=kSe(r,n,"x",s),c=!!r.xperiodalignment,u="x"),o=l.vals;for(var f=Math.min(o.length,a.length),h=new Array(f),p=0;p<f;p++)h[p]={p:o[p],s:a[p]},c&&(h[p].orig_p=s[p],h[p][u+"End"]=l.ends[p],h[p][u+"Start"]=l.starts[p]),r.ids&&(h[p].id=String(r.ids[p]));return ESe(r,"marker")&&DSe(e,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),ESe(r,"marker.line")&&DSe(e,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}),fnt(h,r),hnt(h,r),h}});var HSe=J((v_t,FSe)=>{"use strict";var UR=Sr(),BR=_r(),Ta=Qe(),pnt=wa(),mnt=gr(),Pp=Kr(),vnt=Xt(),jR=gn().tickText,RSe=rg(),gnt=RSe.recordMinTextSize,ynt=RSe.clearMinTextSize,pB=l2(),h1=FR(),bnt=hR(),ISe=Y_(),wnt=ISe.text,xnt=ISe.textposition,Tnt=qc().appendArrayPointValue,Io=bnt.TEXTPAD;function Snt(t){return t.id}function _nt(t){if(t.ids)return Snt}function mB(t){return(t>0)-(t<0)}function td(t,e){return t<e?1:-1}function Cnt(t,e,r,n){var i=[],a=[],o=n?e:r,s=n?r:e;return i[0]=o.c2p(t.s0,!0),a[0]=s.c2p(t.p0,!0),i[1]=o.c2p(t.s1,!0),a[1]=s.c2p(t.p1,!0),n?[i,a]:[a,i]}function NSe(t,e,r,n){if(!e.uniformtext.mode&&LSe(r)){var i;return n&&(i=n()),t.transition().duration(r.duration).ease(r.easing).each("end",function(){i&&i()}).each("interrupt",function(){i&&i()})}else return t}function LSe(t){return t&&t.duration>0}function knt(t,e,r,n,i,a){var o=e.xaxis,s=e.yaxis,l=t._fullLayout,c=t._context.staticPlot;i||(i={mode:l.barmode,norm:l.barmode,gap:l.bargap,groupgap:l.bargroupgap},ynt("bar",l));var u=Ta.makeTraceGroups(n,r,"trace bars").each(function(d){var f=UR.select(this),h=d[0].trace,p=d[0].t,m=h.type==="waterfall",v=h.type==="funnel",y=h.type==="histogram",b=h.type==="bar",x=b||v,w=0;m&&h.connector.visible&&h.connector.mode==="between"&&(w=h.connector.line.width/2);var S=h.orientation==="h",_=LSe(i),C=Ta.ensureSingle(f,"g","points"),E=_nt(h),M=C.selectAll("g.point").data(Ta.identity,E);M.enter().append("g").classed("point",!0),M.exit().remove(),M.each(function(L,O){var H=UR.select(this),Y=Cnt(L,o,s,S),K=Y[0][0],N=Y[0][1],U=Y[1][0],B=Y[1][1],$=(S?N-K:B-U)===0;$&&x&&h1.getLineWidth(h,L)&&($=!1),$||($=!BR(K)||!BR(N)||!BR(U)||!BR(B)),L.isBlank=$,$&&(S?N=K:B=U),w&&!$&&(S?(K-=td(K,N)*w,N+=td(K,N)*w):(U-=td(U,B)*w,B+=td(U,B)*w));var ee,te;if(h.type==="waterfall"){if(!$){var he=h[L.dir].marker;ee=he.line.width,te=he.color}}else ee=h1.getLineWidth(h,L),te=L.mc||h.marker.color;function we(ge){var Ne=UR.round(ee/2%1,2);return i.gap===0&&i.groupgap===0?UR.round(Math.round(ge)-Ne,2):ge}function Te(ge,Ne,Le){return Le&&ge===Ne?ge:Math.abs(ge-Ne)>=2?we(ge):ge>Ne?Math.ceil(ge):Math.floor(ge)}var ce=mnt.opacity(te),q=ce<1||ee>.01?we:Te;t._context.staticPlot||(K=q(K,N,S),N=q(N,K,S),U=q(U,B,!S),B=q(B,U,!S));var X=S?o.c2p:s.c2p,G;L.s0>0?G=L._sMax:L.s0<0?G=L._sMin:G=L.s1>0?L._sMax:L._sMin;function de(ge,Ne){if(!ge)return 0;var Le=Math.abs(S?B-U:N-K),St=Math.abs(S?N-K:B-U),ht=q(Math.abs(X(G,!0)-X(0,!0))),He=L.hasB?Math.min(Le/2,St/2):Math.min(Le/2,ht),Ue;if(Ne==="%"){var ct=Math.min(50,ge);Ue=Le*(ct/100)}else Ue=ge;return q(Math.max(Math.min(Ue,He),0))}var ue=b||y?de(p.cornerradiusvalue,p.cornerradiusform):0,fe,_e,Oe="M"+K+","+U+"V"+B+"H"+N+"V"+U+"Z",Ce=0;if(ue&&L.s){var je=mB(L.s0)===0||mB(L.s)===mB(L.s0)?L.s1:L.s0;if(Ce=q(L.hasB?0:Math.abs(X(G,!0)-X(je,!0))),Ce<ue){var qe=td(K,N),Ve=td(U,B),ot=qe===-Ve?1:0;if(S)if(L.hasB)fe="M"+(K+ue*qe)+","+U+"A "+ue+","+ue+" 0 0 "+ot+" "+K+","+(U+ue*Ve)+"V"+(B-ue*Ve)+"A "+ue+","+ue+" 0 0 "+ot+" "+(K+ue*qe)+","+B+"H"+(N-ue*qe)+"A "+ue+","+ue+" 0 0 "+ot+" "+N+","+(B-ue*Ve)+"V"+(U+ue*Ve)+"A "+ue+","+ue+" 0 0 "+ot+" "+(N-ue*qe)+","+U+"Z";else{_e=Math.abs(N-K)+Ce;var $e=_e<ue?ue-Math.sqrt(_e*(2*ue-_e)):0,Xe=Ce>0?Math.sqrt(Ce*(2*ue-Ce)):0,Je=qe>0?Math.max:Math.min;fe="M"+K+","+U+"V"+(B-$e*Ve)+"H"+Je(N-(ue-Ce)*qe,K)+"A "+ue+","+ue+" 0 0 "+ot+" "+N+","+(B-ue*Ve-Xe)+"V"+(U+ue*Ve+Xe)+"A "+ue+","+ue+" 0 0 "+ot+" "+Je(N-(ue-Ce)*qe,K)+","+(U+$e*Ve)+"Z"}else if(L.hasB)fe="M"+(K+ue*qe)+","+U+"A "+ue+","+ue+" 0 0 "+ot+" "+K+","+(U+ue*Ve)+"V"+(B-ue*Ve)+"A "+ue+","+ue+" 0 0 "+ot+" "+(K+ue*qe)+","+B+"H"+(N-ue*qe)+"A "+ue+","+ue+" 0 0 "+ot+" "+N+","+(B-ue*Ve)+"V"+(U+ue*Ve)+"A "+ue+","+ue+" 0 0 "+ot+" "+(N-ue*qe)+","+U+"Z";else{_e=Math.abs(B-U)+Ce;var nt=_e<ue?ue-Math.sqrt(_e*(2*ue-_e)):0,Ke=Ce>0?Math.sqrt(Ce*(2*ue-Ce)):0,Ae=Ve>0?Math.max:Math.min;fe="M"+(K+nt*qe)+","+U+"V"+Ae(B-(ue-Ce)*Ve,U)+"A "+ue+","+ue+" 0 0 "+ot+" "+(K+ue*qe-Ke)+","+B+"H"+(N-ue*qe+Ke)+"A "+ue+","+ue+" 0 0 "+ot+" "+(N-nt*qe)+","+Ae(B-(ue-Ce)*Ve,U)+"V"+U+"Z"}}else fe=Oe}else fe=Oe;var it=NSe(Ta.ensureSingle(H,"path"),l,i,a);if(it.style("vector-effect",c?"none":"non-scaling-stroke").attr("d",isNaN((N-K)*(B-U))||$&&t._context.staticPlot?"M0,0Z":fe).call(Pp.setClipUrl,e.layerClipId,t),!l.uniformtext.mode&&_){var at=Pp.makePointStyleFns(h);Pp.singlePointStyle(L,it,h,at,t)}Ent(t,e,H,d,O,K,N,U,B,ue,Ce,i,a),e.layerClipId&&Pp.hideOutsideRangePoint(L,H.select("text"),o,s,h.xcalendar,h.ycalendar)});var I=h.cliponaxis===!1;Pp.setClipUrl(f,I?null:e.layerClipId,t)});vnt.getComponentMethod("errorbars","plot")(t,u,e,i)}function Ent(t,e,r,n,i,a,o,s,l,c,u,d,f){var h=e.xaxis,p=e.yaxis,m=t._fullLayout,v;function y(_e,Oe,Ce){var je=Ta.ensureSingle(_e,"text").text(Oe).attr({class:"bartext bartext-"+v,"text-anchor":"middle","data-notex":1}).call(Pp.font,Ce).call(pnt.convertToTspans,t);return je}var b=n[0].trace,x=b.orientation==="h",w=Mnt(m,n,i,h,p);v=Rnt(b,i);var S=d.mode==="stack"||d.mode==="relative",_=n[i],C=!S||_._outmost,E=_.hasB,M=c&&c-u>Io;if(!w||v==="none"||(_.isBlank||a===o||s===l)&&(v==="auto"||v==="inside")){r.select("text").remove();return}var I=m.font,L=pB.getBarColor(n[i],b),O=pB.getInsideTextFont(b,i,I,L),H=pB.getOutsideTextFont(b,i,I),Y=b.insidetextanchor||"end",K=r.datum();x?h.type==="log"&&K.s0<=0&&(h.range[0]<h.range[1]?a=0:a=h._length):p.type==="log"&&K.s0<=0&&(p.range[0]<p.range[1]?s=p._length:s=0);var N=Math.abs(o-a),U=Math.abs(l-s),B=N-2*Io,$=U-2*Io,ee,te,he,we,Te;if(v==="outside"&&!C&&!_.hasB&&(v="inside"),v==="auto")if(C){v="inside",Te=Ta.ensureUniformFontSize(t,O),ee=y(r,w,Te),te=Pp.bBox(ee.node()),he=te.width,we=te.height;var ce=he>0&&we>0,q;M?E?q=dg(B-2*c,$,he,we,x)||dg(B,$-2*c,he,we,x):x?q=dg(B-(c-u),$,he,we,x)||dg(B,$-2*(c-u),he,we,x):q=dg(B,$-(c-u),he,we,x)||dg(B-2*(c-u),$,he,we,x):q=dg(B,$,he,we,x),ce&&q?v="inside":(v="outside",ee.remove(),ee=null)}else v="inside";if(!ee){Te=Ta.ensureUniformFontSize(t,v==="outside"?H:O),ee=y(r,w,Te);var X=ee.attr("transform");if(ee.attr("transform",""),te=Pp.bBox(ee.node()),he=te.width,we=te.height,ee.attr("transform",X),he<=0||we<=0){ee.remove();return}}var G=b.textangle,de,ue;v==="outside"?(ue=b.constraintext==="both"||b.constraintext==="outside",de=Ant(a,o,s,l,te,{isHorizontal:x,constrained:ue,angle:G})):(ue=b.constraintext==="both"||b.constraintext==="inside",de=zSe(a,o,s,l,te,{isHorizontal:x,constrained:ue,angle:G,anchor:Y,hasB:E,r:c,overhead:u})),de.fontSize=Te.size,gnt(b.type==="histogram"?"bar":b.type,de,m),_.transform=de;var fe=NSe(ee,m,d,f);Ta.setTransormAndDisplay(fe,de)}function dg(t,e,r,n,i){if(t<0||e<0)return!1;var a=r<=t&&n<=e,o=r<=e&&n<=t,s=i?t>=r*(e/n):e>=n*(t/r);return a||o||s}function OSe(t){return t==="auto"?0:t}function PSe(t,e){var r=Math.PI/180*e,n=Math.abs(Math.sin(r)),i=Math.abs(Math.cos(r));return{x:t.width*i+t.height*n,y:t.width*n+t.height*i}}function zSe(t,e,r,n,i,a){var o=!!a.isHorizontal,s=!!a.constrained,l=a.angle||0,c=a.anchor,u=c==="end",d=c==="start",f=a.leftToRight||0,h=(f+1)/2,p=1-h,m=a.hasB,v=a.r,y=a.overhead,b=i.width,x=i.height,w=Math.abs(e-t),S=Math.abs(n-r),_=w>2*Io&&S>2*Io?Io:0;w-=2*_,S-=2*_;var C=OSe(l);l==="auto"&&!(b<=w&&x<=S)&&(b>w||x>S)&&(!(b>S||x>w)||b<x!=w<S)&&(C+=90);var E=PSe(i,C),M,I;if(v&&v-y>Io){var L=Dnt(t,e,r,n,E,v,y,o,m);M=L.scale,I=L.pad}else M=1,s&&(M=Math.min(1,w/E.x,S/E.y)),I=0;var O=i.left*p+i.right*h,H=(i.top+i.bottom)/2,Y=(t+Io)*p+(e-Io)*h,K=(r+n)/2,N=0,U=0;if(d||u){var B=(o?E.x:E.y)/2;v&&(u||m)&&(_+=I);var $=o?td(t,e):td(r,n);o?d?(Y=t+$*_,N=-$*B):(Y=e-$*_,N=$*B):d?(K=r+$*_,U=-$*B):(K=n-$*_,U=$*B)}return{textX:O,textY:H,targetX:Y,targetY:K,anchorX:N,anchorY:U,scale:M,rotate:C}}function Dnt(t,e,r,n,i,a,o,s,l){var c=Math.max(0,Math.abs(e-t)-2*Io),u=Math.max(0,Math.abs(n-r)-2*Io),d=a-Io,f=o?d-Math.sqrt(d*d-(d-o)*(d-o)):d,h=l?d*2:s?d-o:2*f,p=l?d*2:s?2*f:d-o,m,v,y,b,x;return i.y/i.x>=u/(c-h)?b=u/i.y:i.y/i.x<=(u-p)/c?b=c/i.x:!l&&s?(m=i.x*i.x+i.y*i.y/4,v=-2*i.x*(c-d)-i.y*(u/2-d),y=(c-d)*(c-d)+(u/2-d)*(u/2-d)-d*d,b=(-v+Math.sqrt(v*v-4*m*y))/(2*m)):l?(m=(i.x*i.x+i.y*i.y)/4,v=-i.x*(c/2-d)-i.y*(u/2-d),y=(c/2-d)*(c/2-d)+(u/2-d)*(u/2-d)-d*d,b=(-v+Math.sqrt(v*v-4*m*y))/(2*m)):(m=i.x*i.x/4+i.y*i.y,v=-i.x*(c/2-d)-2*i.y*(u-d),y=(c/2-d)*(c/2-d)+(u-d)*(u-d)-d*d,b=(-v+Math.sqrt(v*v-4*m*y))/(2*m)),b=Math.min(1,b),s?x=Math.max(0,d-Math.sqrt(Math.max(0,d*d-(d-(u-i.y*b)/2)*(d-(u-i.y*b)/2)))-o):x=Math.max(0,d-Math.sqrt(Math.max(0,d*d-(d-(c-i.x*b)/2)*(d-(c-i.x*b)/2)))-o),{scale:b,pad:x}}function Ant(t,e,r,n,i,a){var o=!!a.isHorizontal,s=!!a.constrained,l=a.angle||0,c=i.width,u=i.height,d=Math.abs(e-t),f=Math.abs(n-r),h;o?h=f>2*Io?Io:0:h=d>2*Io?Io:0;var p=1;s&&(p=o?Math.min(1,f/u):Math.min(1,d/c));var m=OSe(l),v=PSe(i,m),y=(o?v.x:v.y)/2,b=(i.left+i.right)/2,x=(i.top+i.bottom)/2,w=(t+e)/2,S=(r+n)/2,_=0,C=0,E=o?td(e,t):td(r,n);return o?(w=e-E*h,_=E*y):(S=n+E*h,C=-E*y),{textX:b,textY:x,targetX:w,targetY:S,anchorX:_,anchorY:C,scale:p,rotate:m}}function Mnt(t,e,r,n,i){var a=e[0].trace,o=a.texttemplate,s;return o?s=Int(t,e,r,n,i):a.textinfo?s=Nnt(e,r,n,i):s=h1.getValue(a.text,r),h1.coerceString(wnt,s)}function Rnt(t,e){var r=h1.getValue(t.textposition,e);return h1.coerceEnumerated(xnt,r)}function Int(t,e,r,n,i){var a=e[0].trace,o=Ta.castOption(a,r,"texttemplate");if(!o)return"";var s=a.type==="histogram",l=a.type==="waterfall",c=a.type==="funnel",u=a.orientation==="h",d,f,h,p;u?(d="y",f=i,h="x",p=n):(d="x",f=n,h="y",p=i);function m(_){return jR(f,f.c2l(_),!0).text}function v(_){return jR(p,p.c2l(_),!0).text}var y=e[r],b={};b.label=y.p,b.labelLabel=b[d+"Label"]=m(y.p);var x=Ta.castOption(a,y.i,"text");(x===0||x)&&(b.text=x),b.value=y.s,b.valueLabel=b[h+"Label"]=v(y.s);var w={};Tnt(w,a,y.i),(s||w.x===void 0)&&(w.x=u?b.value:b.label),(s||w.y===void 0)&&(w.y=u?b.label:b.value),(s||w.xLabel===void 0)&&(w.xLabel=u?b.valueLabel:b.labelLabel),(s||w.yLabel===void 0)&&(w.yLabel=u?b.labelLabel:b.valueLabel),l&&(b.delta=+y.rawS||y.s,b.deltaLabel=v(b.delta),b.final=y.v,b.finalLabel=v(b.final),b.initial=b.final-b.delta,b.initialLabel=v(b.initial)),c&&(b.value=y.s,b.valueLabel=v(b.value),b.percentInitial=y.begR,b.percentInitialLabel=Ta.formatPercent(y.begR),b.percentPrevious=y.difR,b.percentPreviousLabel=Ta.formatPercent(y.difR),b.percentTotal=y.sumR,b.percenTotalLabel=Ta.formatPercent(y.sumR));var S=Ta.castOption(a,y.i,"customdata");return S&&(b.customdata=S),Ta.texttemplateString(o,b,t._d3locale,w,b,a._meta||{})}function Nnt(t,e,r,n){var i=t[0].trace,a=i.orientation==="h",o=i.type==="waterfall",s=i.type==="funnel";function l(S){var _=a?n:r;return jR(_,S,!0).text}function c(S){var _=a?r:n;return jR(_,+S,!0).text}var u=i.textinfo,d=t[e],f=u.split("+"),h=[],p,m=function(S){return f.indexOf(S)!==-1};if(m("label")&&h.push(l(t[e].p)),m("text")&&(p=Ta.castOption(i,d.i,"text"),(p===0||p)&&h.push(p)),o){var v=+d.rawS||d.s,y=d.v,b=y-v;m("initial")&&h.push(c(b)),m("delta")&&h.push(c(v)),m("final")&&h.push(c(y))}if(s){m("value")&&h.push(c(d.s));var x=0;m("percent initial")&&x++,m("percent previous")&&x++,m("percent total")&&x++;var w=x>1;m("percent initial")&&(p=Ta.formatPercent(d.begR),w&&(p+=" of initial"),h.push(p)),m("percent previous")&&(p=Ta.formatPercent(d.difR),w&&(p+=" of previous"),h.push(p)),m("percent total")&&(p=Ta.formatPercent(d.sumR),w&&(p+=" of total"),h.push(p))}return h.join("<br>")}FSe.exports={plot:knt,toMoveInsideBar:zSe}});var VSe=J((g_t,jSe)=>{"use strict";var f2=Zl(),Lnt=Xt(),qSe=gr(),Ont=Qe().fillText,Pnt=FR().getLineWidth,vB=gn().hoverLabelText,znt=ei().BADNUM;function Fnt(t,e,r,n,i){var a=USe(t,e,r,n,i);if(a){var o=a.cd,s=o[0].trace,l=o[a.index];return a.color=BSe(s,l),Lnt.getComponentMethod("errorbars","hoverInfo")(l,s,a),[a]}}function USe(t,e,r,n,i){var a=t.cd,o=a[0].trace,s=a[0].t,l=n==="closest",c=o.type==="waterfall",u=t.maxHoverDistance,d=t.maxSpikeDistance,f,h,p,m,v,y,b;o.orientation==="h"?(f=r,h=e,p="y",m="x",v=K,y=O):(f=e,h=r,p="x",m="y",y=K,v=O);var x=o[p+"period"],w=l||x;function S(q){return C(q,-1)}function _(q){return C(q,1)}function C(q,X){var G=q.w;return q[p]+X*G/2}function E(q){return q[p+"End"]-q[p+"Start"]}var M=l?S:x?function(q){return q.p-E(q)/2}:function(q){return Math.min(S(q),q.p-s.bardelta/2)},I=l?_:x?function(q){return q.p+E(q)/2}:function(q){return Math.max(_(q),q.p+s.bardelta/2)};function L(q,X,G){return i.finiteRange&&(G=0),f2.inbox(q-f,X-f,G+Math.min(1,Math.abs(X-q)/b)-1)}function O(q){return L(M(q),I(q),u)}function H(q){return L(S(q),_(q),d)}function Y(q){var X=q[m];if(c){var G=Math.abs(q.rawS)||0;h>0?X+=G:h<0&&(X-=G)}return X}function K(q){var X=h,G=q.b,de=Y(q);return f2.inbox(G-X,de-X,u+(de-X)/(de-G)-1)}function N(q){var X=h,G=q.b,de=Y(q);return f2.inbox(G-X,de-X,d+(de-X)/(de-G)-1)}var U=t[p+"a"],B=t[m+"a"];b=Math.abs(U.r2c(U.range[1])-U.r2c(U.range[0]));function $(q){return(v(q)+y(q))/2}var ee=f2.getDistanceFunction(n,v,y,$);if(f2.getClosest(a,ee,t),t.index!==!1&&a[t.index].p!==znt){w||(M=function(q){return Math.min(S(q),q.p-s.bargroupwidth/2)},I=function(q){return Math.max(_(q),q.p+s.bargroupwidth/2)});var te=t.index,he=a[te],we=o.base?he.b+he.s:he.s;t[m+"0"]=t[m+"1"]=B.c2p(he[m],!0),t[m+"LabelVal"]=we;var Te=s.extents[s.extents.round(he.p)];t[p+"0"]=U.c2p(l?M(he):Te[0],!0),t[p+"1"]=U.c2p(l?I(he):Te[1],!0);var ce=he.orig_p!==void 0;return t[p+"LabelVal"]=ce?he.orig_p:he.p,t.labelLabel=vB(U,t[p+"LabelVal"],o[p+"hoverformat"]),t.valueLabel=vB(B,t[m+"LabelVal"],o[m+"hoverformat"]),t.baseLabel=vB(B,he.b,o[m+"hoverformat"]),t.spikeDistance=(N(he)+H(he))/2,t[p+"Spike"]=U.c2p(he.p,!0),Ont(he,o,t),t.hovertemplate=o.hovertemplate,t}}function BSe(t,e){var r=e.mcc||t.marker.color,n=e.mlcc||t.marker.line.color,i=Pnt(t,e);if(qSe.opacity(r))return r;if(qSe.opacity(n)&&i)return n}jSe.exports={hoverPoints:Fnt,hoverOnBars:USe,getTraceColor:BSe}});var GSe=J((y_t,WSe)=>{"use strict";WSe.exports=function(e,r,n){return e.x="xVal"in r?r.xVal:r.x,e.y="yVal"in r?r.yVal:r.y,r.xa&&(e.xaxis=r.xa),r.ya&&(e.yaxis=r.ya),n.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}});var ZSe=J((b_t,YSe)=>{"use strict";YSe.exports=function(e,r){var n=e.cd,i=e.xaxis,a=e.yaxis,o=n[0].trace,s=o.type==="funnel",l=o.orientation==="h",c=[],u;if(r===!1)for(u=0;u<n.length;u++)n[u].selected=0;else for(u=0;u<n.length;u++){var d=n[u],f="ct"in d?d.ct:Hnt(d,i,a,l,s);r.contains(f,!1,u,e)?(c.push({pointNumber:u,x:i.c2d(d.x),y:a.c2d(d.y)}),d.selected=1):d.selected=0}return c};function Hnt(t,e,r,n,i){var a=e.c2p(n?t.s0:t.p0,!0),o=e.c2p(n?t.s1:t.p1,!0),s=r.c2p(n?t.p0:t.s0,!0),l=r.c2p(n?t.p1:t.s1,!0);return i?[(a+o)/2,(s+l)/2]:n?[o,(s+l)/2]:[(a+o)/2,l]}});var XSe=J((w_t,$Se)=>{"use strict";$Se.exports={attributes:Y_(),layoutAttributes:hB(),supplyDefaults:e1().supplyDefaults,crossTraceDefaults:e1().crossTraceDefaults,supplyLayoutDefaults:SSe(),calc:MSe(),crossTraceCalc:bq().crossTraceCalc,colorbar:A5(),arraysToCalcdata:qR(),plot:HSe().plot,style:l2().style,styleOnSelect:l2().styleOnSelect,hoverPoints:VSe().hoverPoints,eventData:GSe(),selectPoints:ZSe(),moduleType:"trace",name:"bar",basePlotModule:N_(),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{description:["The data visualized by the span of the bars is set in `y`","if `orientation` is set to *v* (the default)","and the labels are set in `x`.","By setting `orientation` to *h*, the roles are interchanged."].join(" ")}}});var QSe=J((x_t,KSe)=>{"use strict";KSe.exports=XSe()});var yB=J((T_t,JSe)=>{"use strict";var rl=wp(),qnt=Ws(),Unt=ba(),gB=AS().axisHoverFormat,Bnt=Gs().hovertemplateAttrs,jnt=Gs().texttemplateAttrs,Vnt=_v(),Cs=Ti().extendFlat;JSe.exports=Cs({z:{valType:"data_array",editType:"calc",description:"Sets the z data."},x:Cs({},rl.x,{impliedEdits:{xtype:"array"}}),x0:Cs({},rl.x0,{impliedEdits:{xtype:"scaled"}}),dx:Cs({},rl.dx,{impliedEdits:{xtype:"scaled"}}),y:Cs({},rl.y,{impliedEdits:{ytype:"array"}}),y0:Cs({},rl.y0,{impliedEdits:{ytype:"scaled"}}),dy:Cs({},rl.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:Cs({},rl.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:Cs({},rl.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:Cs({},rl.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:Cs({},rl.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:Cs({},rl.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:Cs({},rl.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc",description:"Sets the text elements associated with each z value."},hovertext:{valType:"data_array",editType:"calc",description:"Same as `text`."},transpose:{valType:"boolean",dflt:!1,editType:"calc",description:"Transposes the z data."},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes",description:["If *array*, the heatmap's x coordinates are given by *x*","(the default behavior when `x` is provided).","If *scaled*, the heatmap's x coordinates are given by *x0* and *dx*","(the default behavior when `x` is not provided)."].join(" ")},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes",description:["If *array*, the heatmap's y coordinates are given by *y*","(the default behavior when `y` is provided)","If *scaled*, the heatmap's y coordinates are given by *y0* and *dy*","(the default behavior when `y` is not provided)"].join(" ")},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc",description:["Picks a smoothing algorithm use to smooth `z` data."].join(" ")},hoverongaps:{valType:"boolean",dflt:!0,editType:"none",description:["Determines whether or not gaps","(i.e. {nan} or missing values)","in the `z` data have hover labels associated with them."].join(" ")},connectgaps:{valType:"boolean",editType:"calc",description:["Determines whether or not gaps","(i.e. {nan} or missing values)","in the `z` data are filled in.","It is defaulted to true if `z` is a","one dimensional array and `zsmooth` is not false;","otherwise it is defaulted to false."].join(" ")},xgap:{valType:"number",dflt:0,min:0,editType:"plot",description:"Sets the horizontal gap (in pixels) between bricks."},ygap:{valType:"number",dflt:0,min:0,editType:"plot",description:"Sets the vertical gap (in pixels) between bricks."},xhoverformat:gB("x"),yhoverformat:gB("y"),zhoverformat:gB("z",1),hovertemplate:Bnt(),texttemplate:jnt({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:Unt({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style",description:"Sets the text font."}),showlegend:Cs({},qnt.showlegend,{dflt:!1}),zorder:rl.zorder},Vnt("",{cLetter:"z",autoColorDflt:!1}))});var r_e=J((S_t,t_e)=>{"use strict";var Wnt=_r(),VR=Qe(),Gnt=Xt();t_e.exports=function(e,r,n,i,a,o){var s=n("z");a=a||"x",o=o||"y";var l,c;if(s===void 0||!s.length)return 0;if(VR.isArray1D(s)){l=n(a),c=n(o);var u=VR.minRowLength(l),d=VR.minRowLength(c);if(u===0||d===0)return 0;r._length=Math.min(u,d,s.length)}else{if(l=e_e(a,n),c=e_e(o,n),!Ynt(s))return 0;n("transpose"),r._length=null}var f=Gnt.getComponentMethod("calendars","handleTraceDefaults");return f(e,r,[a,o],i),!0};function e_e(t,e){var r=e(t),n=r?e(t+"type","array"):"scaled";return n==="scaled"&&(e(t+"0"),e("d"+t)),r}function Ynt(t){for(var e=!0,r=!1,n=!1,i,a=0;a<t.length;a++){if(i=t[a],!VR.isArrayOrTypedArray(i)){e=!1;break}i.length>0&&(r=!0);for(var o=0;o<i.length;o++)if(Wnt(i[o])){n=!0;break}}return e&&r&&n}});var a_e=J((__t,i_e)=>{"use strict";var n_e=Qe();i_e.exports=function(e,r){e("texttemplate");var n=n_e.extendFlat({},r.font,{color:"auto",size:"auto"});n_e.coerceFont(e,"textfont",n)}});var s_e=J((C_t,o_e)=>{"use strict";o_e.exports=function(e,r,n){var i=n("zsmooth");i===!1&&(n("xgap"),n("ygap")),n("zhoverformat")}});var u_e=J((k_t,c_e)=>{"use strict";var l_e=Qe(),Znt=r_e(),$nt=a_e(),Xnt=T5(),Knt=s_e(),Qnt=Cv(),Jnt=yB();c_e.exports=function(e,r,n,i){function a(s,l){return l_e.coerce(e,r,Jnt,s,l)}var o=Znt(e,r,a,i);if(!o){r.visible=!1;return}Xnt(e,r,i,a),a("xhoverformat"),a("yhoverformat"),a("text"),a("hovertext"),a("hovertemplate"),$nt(a,i),Knt(e,r,a,i),a("hoverongaps"),a("connectgaps",l_e.isArray1D(r.z)&&r.zsmooth!==!1),Qnt(e,r,i,a,{prefix:"",cLetter:"z"}),a("zorder")}});var bB=J((E_t,d_e)=>{"use strict";var p1=_r();d_e.exports={count:function(t,e,r){return r[t]++,1},sum:function(t,e,r,n){var i=n[e];return p1(i)?(i=Number(i),r[t]+=i,i):0},avg:function(t,e,r,n,i){var a=n[e];return p1(a)&&(a=Number(a),r[t]+=a,i[t]++),0},min:function(t,e,r,n){var i=n[e];if(p1(i))if(i=Number(i),p1(r[t])){if(r[t]>i){var a=i-r[t];return r[t]=i,a}}else return r[t]=i,i;return 0},max:function(t,e,r,n){var i=n[e];if(p1(i))if(i=Number(i),p1(r[t])){if(r[t]<i){var a=i-r[t];return r[t]=i,a}}else return r[t]=i,i;return 0}}});var wB=J((D_t,f_e)=>{"use strict";f_e.exports={percent:function(t,e){for(var r=t.length,n=100/e,i=0;i<r;i++)t[i]*=n},probability:function(t,e){for(var r=t.length,n=0;n<r;n++)t[n]/=e},density:function(t,e,r,n){var i=t.length;n=n||1;for(var a=0;a<i;a++)t[a]*=r[a]*n},"probability density":function(t,e,r,n){var i=t.length;n&&(e/=n);for(var a=0;a<i;a++)t[a]*=r[a]/e}}});var xB=J((A_t,h_e)=>{"use strict";h_e.exports=function(e,r){for(var n=e.length,i=0,a=0;a<n;a++)r[a]?(e[a]/=r[a],i+=e[a]):e[a]=null;return i}});var TB=J((M_t,x_e)=>{"use strict";var m1=ei(),fg=m1.ONEAVGYEAR,p_e=m1.ONEAVGMONTH,GR=m1.ONEDAY,m_e=m1.ONEHOUR,v_e=m1.ONEMIN,g_e=m1.ONESEC,y_e=gn().tickIncrement;x_e.exports=function(e,r,n,i,a){var o=-1.1*r,s=-.1*r,l=e-s,c=n[0],u=n[1],d=Math.min(WR(c+s,c+l,i,a),WR(u+s,u+l,i,a)),f=Math.min(WR(c+o,c+s,i,a),WR(u+o,u+s,i,a)),h,p;if(d>f&&f<Math.abs(u-c)/4e3?(h=d,p=!1):(h=Math.min(d,f),p=!0),i.type==="date"&&h>GR){var m=h===fg?1:6,v=h===fg?"M12":"M1";return function(y,b){var x=i.c2d(y,fg,a),w=x.indexOf("-",m);w>0&&(x=x.substr(0,w));var S=i.d2c(x,0,a);if(S<y){var _=y_e(S,v,!1,a);(S+_)/2<y+e&&(S=_)}return b&&p?y_e(S,v,!0,a):S}}return function(y,b){var x=h*Math.round(y/h);return x+h/10<y&&x+h*.9<y+e&&(x+=h),b&&p&&(x-=h),x}};function WR(t,e,r,n){if(t*e<=0)return 1/0;for(var i=Math.abs(e-t),a=r.type==="date",o=b_e(i,a),s=0;s<10;s++){var l=b_e(o*80,a);if(o===l)break;if(eit(l,t,e,a,r,n))o=l;else break}return o}function b_e(t,e){return e&&t>g_e?t>GR?t>fg*1.1?fg:t>p_e*1.1?p_e:GR:t>m_e?m_e:t>v_e?v_e:g_e:Math.pow(10,Math.floor(Math.log(t)/Math.LN10))}function eit(t,e,r,n,i,a){if(n&&t>GR){var o=w_e(e,i,a),s=w_e(r,i,a),l=t===fg?0:1;return o[l]!==s[l]}return Math.floor(r/t)-Math.floor(e/t)>.1}function w_e(t,e,r){var n=e.c2d(t,fg,r).split("-");return n[0]===""&&(n.unshift(),n[0]="-"+n[0]),n}});var C_e=J((R_t,__e)=>{"use strict";var SB=_r(),No=Qe(),T_e=Xt(),ac=gn(),tit=qR(),S_e=bB(),rit=wB(),nit=xB(),iit=TB();function ait(t,e){var r=[],n=[],i=e.orientation==="h",a=ac.getFromId(t,i?e.yaxis:e.xaxis),o=i?"y":"x",s={x:"y",y:"x"}[o],l=e[o+"calendar"],c=e.cumulative,u,d=_B(t,e,a,o),f=d[0],h=d[1],p=typeof f.size=="string",m=[],v=p?m:f,y=[],b=[],x=[],w=0,S=e.histnorm,_=e.histfunc,C=S.indexOf("density")!==-1,E,M,I;c.enabled&&C&&(S=S.replace(/ ?density$/,""),C=!1);var L=_==="max"||_==="min",O=L?null:0,H=S_e.count,Y=rit[S],K=!1,N=function(_e){return a.r2c(_e,0,l)},U;for(No.isArrayOrTypedArray(e[s])&&_!=="count"&&(U=e[s],K=_==="avg",H=S_e[_]),u=N(f.start),M=N(f.end)+(u-ac.tickIncrement(u,f.size,!1,l))/1e6;u<M&&r.length<1e6&&(E=ac.tickIncrement(u,f.size,!1,l),r.push((u+E)/2),n.push(O),x.push([]),m.push(u),C&&y.push(1/(E-u)),K&&b.push(0),!(E<=u));)u=E;m.push(u),!p&&a.type==="date"&&(v={start:N(v.start),end:N(v.end),size:v.size}),t._fullLayout._roundFnOpts||(t._fullLayout._roundFnOpts={});var B=e["_"+o+"bingroup"],$={leftGap:1/0,rightGap:1/0};B&&(t._fullLayout._roundFnOpts[B]||(t._fullLayout._roundFnOpts[B]=$),$=t._fullLayout._roundFnOpts[B]);var ee=n.length,te=!0,he=$.leftGap,we=$.rightGap,Te={};for(u=0;u<h.length;u++){var ce=h[u];I=No.findBin(ce,v),I>=0&&I<ee&&(w+=H(I,u,n,U,b),te&&x[I].length&&ce!==h[x[I][0]]&&(te=!1),x[I].push(u),Te[u]=I,he=Math.min(he,ce-m[I]),we=Math.min(we,m[I+1]-ce))}$.leftGap=he,$.rightGap=we;var q;te||(q=function(_e,Oe){return function(){var Ce=t._fullLayout._roundFnOpts[B];return iit(Ce.leftGap,Ce.rightGap,m,a,l)(_e,Oe)}}),K&&(w=nit(n,b)),Y&&Y(n,w,y),c.enabled&&lit(n,c.direction,c.currentbin);var X=Math.min(r.length,n.length),G=[],de=0,ue=X-1;for(u=0;u<X;u++)if(n[u]){de=u;break}for(u=X-1;u>=de;u--)if(n[u]){ue=u;break}for(u=de;u<=ue;u++)if(SB(r[u])&&SB(n[u])){var fe={p:r[u],s:n[u],b:0};c.enabled||(fe.pts=x[u],te?fe.ph0=fe.ph1=x[u].length?h[x[u][0]]:r[u]:(e._computePh=!0,fe.ph0=q(m[u]),fe.ph1=q(m[u+1],!0))),G.push(fe)}return G.length===1&&(G[0].width1=ac.tickIncrement(G[0].p,f.size,!1,l)-G[0].p),tit(G,e),No.isArrayOrTypedArray(e.selectedpoints)&&No.tagSelected(G,e,Te),G}function _B(t,e,r,n,i){var a=n+"bins",o=t._fullLayout,s=e["_"+n+"bingroup"],l=o._histogramBinOpts[s],c=o.barmode==="overlay",u,d,f,h,p,m,v,y=function(ce){return r.r2c(ce,0,h)},b=function(ce){return r.c2r(ce,0,h)},x=r.type==="date"?function(ce){return ce||ce===0?No.cleanDate(ce,null,h):null}:function(ce){return SB(ce)?Number(ce):null};function w(ce,q,X){q[ce+"Found"]?(q[ce]=x(q[ce]),q[ce]===null&&(q[ce]=X[ce])):(m[ce]=q[ce]=X[ce],No.nestedProperty(d[0],a+"."+ce).set(X[ce]))}if(e["_"+n+"autoBinFinished"])delete e["_"+n+"autoBinFinished"];else{d=l.traces;var S=[],_=!0,C=!1,E=!1;for(u=0;u<d.length;u++)if(f=d[u],f.visible){var M=l.dirs[u];p=f["_"+M+"pos0"]=r.makeCalcdata(f,M),S=No.concat(S,p),delete f["_"+n+"autoBinFinished"],e.visible===!0&&(_?_=!1:(delete f._autoBin,f["_"+n+"autoBinFinished"]=1),T_e.traceIs(f,"2dMap")&&(C=!0),f.type==="histogram2dcontour"&&(E=!0))}h=d[0][n+"calendar"];var I=ac.autoBin(S,r,l.nbins,C,h,l.sizeFound&&l.size),L=d[0]._autoBin={};if(m=L[l.dirs[0]]={},E&&(l.size||(I.start=b(ac.tickIncrement(y(I.start),I.size,!0,h))),l.end===void 0&&(I.end=b(ac.tickIncrement(y(I.end),I.size,!1,h)))),c&&!T_e.traceIs(e,"2dMap")&&I._dataSpan===0&&r.type!=="category"&&r.type!=="multicategory"&&e.bingroup===""&&typeof e.xbins=="undefined"){if(i)return[I,p,!0];I=oit(t,e,r,n,a)}v=f.cumulative||{},v.enabled&&v.currentbin!=="include"&&(v.direction==="decreasing"?I.start=b(ac.tickIncrement(y(I.start),I.size,!0,h)):I.end=b(ac.tickIncrement(y(I.end),I.size,!1,h))),l.size=I.size,l.sizeFound||(m.size=I.size,No.nestedProperty(d[0],a+".size").set(I.size)),w("start",l,I),w("end",l,I)}p=e["_"+n+"pos0"],delete e["_"+n+"pos0"];var O=e._input[a]||{},H=No.extendFlat({},l),Y=l.start,K=r.r2l(O.start),N=K!==void 0;if((l.startFound||N)&&K!==r.r2l(Y)){var U=N?K:No.aggNums(Math.min,null,p),B={type:r.type==="category"||r.type==="multicategory"?"linear":r.type,r2l:r.r2l,dtick:l.size,tick0:Y,calendar:h,range:[U,ac.tickIncrement(U,l.size,!1,h)].map(r.l2r)},$=ac.tickFirst(B);$>r.r2l(U)&&($=ac.tickIncrement($,l.size,!0,h)),H.start=r.l2r($),N||No.nestedProperty(e,a+".start").set(H.start)}var ee=l.end,te=r.r2l(O.end),he=te!==void 0;if((l.endFound||he)&&te!==r.r2l(ee)){var we=he?te:No.aggNums(Math.max,null,p);H.end=r.l2r(we),he||No.nestedProperty(e,a+".start").set(H.end)}var Te="autobin"+n;return e._input[Te]===!1&&(e._input[a]=No.extendFlat({},e[a]||{}),delete e._input[Te],delete e[Te]),[H,p]}function oit(t,e,r,n,i){var a=t._fullLayout,o=sit(t,e),s=!1,l=1/0,c=[e],u,d,f;for(u=0;u<o.length;u++)if(d=o[u],d===e)s=!0;else if(!s)f=a._histogramBinOpts[d["_"+n+"bingroup"]],l=Math.min(l,f.size||d[i].size);else{var h=_B(t,d,r,n,!0),p=h[0],m=h[2];d["_"+n+"autoBinFinished"]=1,d["_"+n+"pos0"]=h[1],m?c.push(d):l=Math.min(l,p.size)}var v=new Array(c.length);for(u=0;u<c.length;u++)for(var y=c[u]["_"+n+"pos0"],b=0;b<y.length;b++)if(y[b]!==void 0){v[u]=y[b];break}for(isFinite(l)||(l=No.distinctVals(v).minDiff),u=0;u<c.length;u++){d=c[u];var x=d[n+"calendar"],w={start:r.c2r(v[u]-l/2,0,x),end:r.c2r(v[u]+l/2,0,x),size:l};d._input[i]=d[i]=w,f=a._histogramBinOpts[d["_"+n+"bingroup"]],f&&No.extendFlat(f,w)}return e[i]}function sit(t,e){for(var r=e.xaxis,n=e.yaxis,i=e.orientation,a=[],o=t._fullData,s=0;s<o.length;s++){var l=o[s];l.type==="histogram"&&l.visible===!0&&l.orientation===i&&l.xaxis===r&&l.yaxis===n&&a.push(l)}return a}function lit(t,e,r){var n,i,a;function o(l){a=t[l],t[l]/=2}function s(l){i=t[l],t[l]=a+i/2,a+=i}if(r==="half")if(e==="increasing")for(o(0),n=1;n<t.length;n++)s(n);else for(o(t.length-1),n=t.length-2;n>=0;n--)s(n);else if(e==="increasing"){for(n=1;n<t.length;n++)t[n]+=t[n-1];r==="exclude"&&(t.unshift(0),t.pop())}else{for(n=t.length-2;n>=0;n--)t[n]+=t[n+1];r==="exclude"&&(t.push(0),t.shift())}}__e.exports={calc:ait,calcAllAutoBins:_B}});var N_e=J((I_t,I_e)=>{"use strict";var k_e=Qe(),v1=gn(),E_e=bB(),cit=wB(),uit=xB(),dit=TB(),D_e=C_e().calcAllAutoBins;I_e.exports=function(e,r){var n=v1.getFromId(e,r.xaxis),i=v1.getFromId(e,r.yaxis),a=r.xcalendar,o=r.ycalendar,s=function(He){return n.r2c(He,0,a)},l=function(He){return i.r2c(He,0,o)},c=function(He){return n.c2r(He,0,a)},u=function(He){return i.c2r(He,0,o)},d,f,h,p,m=D_e(e,r,n,"x"),v=m[0],y=m[1],b=D_e(e,r,i,"y"),x=b[0],w=b[1],S=r._length;y.length>S&&y.splice(S,y.length-S),w.length>S&&w.splice(S,w.length-S);var _=[],C=[],E=[],M=typeof v.size=="string",I=typeof x.size=="string",L=[],O=[],H=M?L:v,Y=I?O:x,K=0,N=[],U=[],B=r.histnorm,$=r.histfunc,ee=B.indexOf("density")!==-1,te=$==="max"||$==="min",he=te?null:0,we=E_e.count,Te=cit[B],ce=!1,q=[],X=[],G="z"in r?r.z:"marker"in r&&Array.isArray(r.marker.color)?r.marker.color:"";G&&$!=="count"&&(ce=$==="avg",we=E_e[$]);var de=v.size,ue=s(v.start),fe=s(v.end)+(ue-v1.tickIncrement(ue,de,!1,a))/1e6;for(d=ue;d<fe;d=v1.tickIncrement(d,de,!1,a))C.push(he),L.push(d),ce&&E.push(0);L.push(d);var _e=C.length,Oe=(d-ue)/_e,Ce=c(ue+Oe/2),je=x.size,qe=l(x.start),Ve=l(x.end)+(qe-v1.tickIncrement(qe,je,!1,o))/1e6;for(d=qe;d<Ve;d=v1.tickIncrement(d,je,!1,o)){_.push(C.slice()),O.push(d);var ot=new Array(_e);for(f=0;f<_e;f++)ot[f]=[];U.push(ot),ce&&N.push(E.slice())}O.push(d);var $e=_.length,Xe=(d-qe)/$e,Je=u(qe+Xe/2);ee&&(q=A_e(C.length,H,Oe,M),X=A_e(_.length,Y,Xe,I)),!M&&n.type==="date"&&(H=M_e(s,H)),!I&&i.type==="date"&&(Y=M_e(l,Y));var nt=!0,Ke=!0,Ae=new Array(_e),it=new Array($e),at=1/0,ge=1/0,Ne=1/0,Le=1/0;for(d=0;d<S;d++){var St=y[d],ht=w[d];h=k_e.findBin(St,H),p=k_e.findBin(ht,Y),h>=0&&h<_e&&p>=0&&p<$e&&(K+=we(h,d,_[p],G,N[p]),U[p][h].push(d),nt&&(Ae[h]===void 0?Ae[h]=St:Ae[h]!==St&&(nt=!1)),Ke&&(it[p]===void 0?it[p]=ht:it[p]!==ht&&(Ke=!1)),at=Math.min(at,St-L[h]),ge=Math.min(ge,L[h+1]-St),Ne=Math.min(Ne,ht-O[p]),Le=Math.min(Le,O[p+1]-ht))}if(ce)for(p=0;p<$e;p++)K+=uit(_[p],N[p]);if(Te)for(p=0;p<$e;p++)Te(_[p],K,q,X[p]);return{x:y,xRanges:R_e(L,nt&&Ae,at,ge,n,a),x0:Ce,dx:Oe,y:w,yRanges:R_e(O,Ke&&it,Ne,Le,i,o),y0:Je,dy:Xe,z:_,pts:U}};function A_e(t,e,r,n){var i=new Array(t),a;if(n)for(a=0;a<t;a++)i[a]=1/(e[a+1]-e[a]);else{var o=1/r;for(a=0;a<t;a++)i[a]=o}return i}function M_e(t,e){return{start:t(e.start),end:t(e.end),size:e.size}}function R_e(t,e,r,n,i,a){var o,s=t.length-1,l=new Array(s),c=dit(r,n,t,i,a);for(o=0;o<s;o++){var u=(e||[])[o];l[o]=u===void 0?[c(t[o]),c(t[o+1],!0)]:[u,u]}return l}});var z_e=J((N_t,P_e)=>{"use strict";var rd=Qe(),L_e=ei().BADNUM,O_e=k_();P_e.exports=function(e,r,n,i,a,o){var s=e._length,l=r.makeCalcdata(e,i),c=n.makeCalcdata(e,a);l=O_e(e,r,i,l).vals,c=O_e(e,n,a,c).vals;var u=e.text,d=u!==void 0&&rd.isArray1D(u),f=e.hovertext,h=f!==void 0&&rd.isArray1D(f),p,m,v=rd.distinctVals(l),y=v.vals,b=rd.distinctVals(c),x=b.vals,w=[],S,_,C=x.length,E=y.length;for(p=0;p<o.length;p++)w[p]=rd.init2dArray(C,E);d&&(S=rd.init2dArray(C,E)),h&&(_=rd.init2dArray(C,E));var M=rd.init2dArray(C,E);for(p=0;p<s;p++)if(l[p]!==L_e&&c[p]!==L_e){var I=rd.findBin(l[p]+v.minDiff/2,y),L=rd.findBin(c[p]+b.minDiff/2,x);for(m=0;m<o.length;m++){var O=o[m],H=e[O],Y=w[m];Y[L][I]=H[p],M[L][I]=p}d&&(S[L][I]=u[p]),h&&(_[L][I]=f[p])}for(e["_"+i]=y,e["_"+a]=x,m=0;m<o.length;m++)e["_"+o[m]]=w[m];d&&(e._text=S),h&&(e._hovertext=_),r&&r.type==="category"&&(e["_"+i+"CategoryMap"]=y.map(function(K){return r._categories[K]})),n&&n.type==="category"&&(e["_"+a+"CategoryMap"]=x.map(function(K){return n._categories[K]})),e._after2before=M}});var H_e=J((L_t,F_e)=>{"use strict";var fit=_r(),hit=Qe(),YR=ei().BADNUM;F_e.exports=function(e,r,n,i){var a,o,s,l,c,u;function d(y){if(fit(y))return+y}if(r&&r.transpose){for(a=0,c=0;c<e.length;c++)a=Math.max(a,e[c].length);if(a===0)return!1;s=function(y){return y.length},l=function(y,b,x){return(y[x]||[])[b]}}else a=e.length,s=function(y,b){return y[b].length},l=function(y,b,x){return(y[b]||[])[x]};var f=function(y,b,x){return b===YR||x===YR?YR:l(y,b,x)};function h(y){if(r&&r.type!=="carpet"&&r.type!=="contourcarpet"&&y&&y.type==="category"&&r["_"+y._id.charAt(0)].length){var b=y._id.charAt(0),x={},w=r["_"+b+"CategoryMap"]||r[b];for(c=0;c<w.length;c++)x[w[c]]=c;return function(S){var _=x[y._categories[S]];return _+1?_:YR}}else return hit.identity}var p=h(n),m=h(i);i&&i.type==="category"&&(a=i._categories.length);var v=new Array(a);for(c=0;c<a;c++)for(n&&n.type==="category"?o=n._categories.length:o=s(e,c),v[c]=new Array(o),u=0;u<o;u++)v[c][u]=d(f(e,m(c),p(u)));return v}});var j_e=J((O_t,B_e)=>{"use strict";var pit=Qe(),q_e=.01,mit=[[-1,0],[1,0],[0,-1],[0,1]];function vit(t){return .5-.25*Math.min(1,t*.5)}B_e.exports=function(e,r){var n=1,i;for(U_e(e,r),i=0;i<r.length&&!(r[i][2]<4);i++);for(r=r.slice(i),i=0;i<100&&n>q_e;i++)n=U_e(e,r,vit(n));return n>q_e&&pit.log("interp2d didn't converge quickly",n),e};function U_e(t,e,r){var n=0,i,a,o,s,l,c,u,d,f,h,p,m,v;for(s=0;s<e.length;s++){for(i=e[s],a=i[0],o=i[1],p=t[a][o],h=0,f=0,l=0;l<4;l++)c=mit[l],u=t[a+c[0]],u&&(d=u[o+c[1]],d!==void 0&&(h===0?m=v=d:(m=Math.min(m,d),v=Math.max(v,d)),f++,h+=d));if(f===0)throw"iterateInterp2d order is wrong: no defined neighbors";t[a][o]=h/f,p===void 0?f<4&&(n=1):(t[a][o]=(1+r)*t[a][o]-r*p,v>m&&(n=Math.max(n,Math.abs(t[a][o]-p)/(v-m))))}return n}});var W_e=J((P_t,V_e)=>{"use strict";var git=Qe().maxRowLength;V_e.exports=function(e){var r=[],n={},i=[],a=e[0],o=[],s=[0,0,0],l=git(e),c,u,d,f,h,p,m,v;for(u=0;u<e.length;u++)for(c=o,o=a,a=e[u+1]||[],d=0;d<l;d++)o[d]===void 0&&(p=(o[d-1]!==void 0?1:0)+(o[d+1]!==void 0?1:0)+(c[d]!==void 0?1:0)+(a[d]!==void 0?1:0),p?(u===0&&p++,d===0&&p++,u===e.length-1&&p++,d===o.length-1&&p++,p<4&&(n[[u,d]]=[u,d,p]),r.push([u,d,p])):i.push([u,d]));for(;i.length;){for(m={},v=!1,h=i.length-1;h>=0;h--)f=i[h],u=f[0],d=f[1],p=((n[[u-1,d]]||s)[2]+(n[[u+1,d]]||s)[2]+(n[[u,d-1]]||s)[2]+(n[[u,d+1]]||s)[2])/20,p&&(m[f]=[u,d,p],i.splice(h,1),v=!0);if(!v)throw"findEmpties iterated with no new neighbors";for(f in m)n[f]=m[f],r.push(m[f])}return r.sort(function(y,b){return b[2]-y[2]})}});var $_e=J((z_t,Z_e)=>{"use strict";var G_e=Xt(),Y_e=Qe().isArrayOrTypedArray;Z_e.exports=function(e,r,n,i,a,o){var s=[],l=G_e.traceIs(e,"contour"),c=G_e.traceIs(e,"histogram"),u,d,f,h=Y_e(r)&&r.length>1;if(h&&!c&&o.type!=="category"){var p=r.length;if(p<=a){if(l)s=Array.from(r).slice(0,a);else if(a===1)o.type==="log"?s=[.5*r[0],2*r[0]]:s=[r[0]-.5,r[0]+.5];else if(o.type==="log"){for(s=[Math.pow(r[0],1.5)/Math.pow(r[1],.5)],f=1;f<p;f++)s.push(Math.sqrt(r[f-1]*r[f]));s.push(Math.pow(r[p-1],1.5)/Math.pow(r[p-2],.5))}else{for(s=[1.5*r[0]-.5*r[1]],f=1;f<p;f++)s.push((r[f-1]+r[f])*.5);s.push(1.5*r[p-1]-.5*r[p-2])}if(p<a){var m=s[s.length-1],v;if(o.type==="log")for(v=m/s[s.length-2],f=p;f<a;f++)m*=v,s.push(m);else for(v=m-s[s.length-2],f=p;f<a;f++)m+=v,s.push(m)}}else return l?r.slice(0,a):r.slice(0,a+1)}else{var y=e[o._id.charAt(0)+"calendar"];if(c)u=o.r2c(n,0,y);else if(Y_e(r)&&r.length===1)u=r[0];else if(n===void 0)u=0;else{var b=o.type==="log"?o.d2c:o.r2c;u=b(n,0,y)}for(d=i||1,f=l?0:-.5;f<a;f++)s.push(u+d*f)}return s}});var e2e=J((F_t,J_e)=>{"use strict";var X_e=Xt(),CB=Qe(),ZR=gn(),K_e=k_(),yit=N_e(),bit=RS(),wit=z_e(),xit=H_e(),Tit=j_e(),Sit=W_e(),$R=$_e(),kB=ei().BADNUM;J_e.exports=function(e,r){var n=ZR.getFromId(e,r.xaxis||"x"),i=ZR.getFromId(e,r.yaxis||"y"),a=X_e.traceIs(r,"contour"),o=X_e.traceIs(r,"histogram"),s=a?"best":r.zsmooth,l,c,u,d,f,h,p,m,v,y,b;if(n._minDtick=0,i._minDtick=0,o)b=yit(e,r),d=b.orig_x,l=b.x,c=b.x0,u=b.dx,m=b.orig_y,f=b.y,h=b.y0,p=b.dy,v=b.z;else{var x=r.z;CB.isArray1D(x)?(wit(r,n,i,"x","y",["z"]),l=r._x,f=r._y,x=r._z):(d=r.x?n.makeCalcdata(r,"x"):[],m=r.y?i.makeCalcdata(r,"y"):[],l=K_e(r,n,"x",d).vals,f=K_e(r,i,"y",m).vals,r._x=l,r._y=f),c=r.x0,u=r.dx,h=r.y0,p=r.dy,v=xit(x,r,n,i)}(n.rangebreaks||i.rangebreaks)&&(v=_it(l,f,v),o||(l=Q_e(l),f=Q_e(f),r._x=l,r._y=f)),!o&&(a||r.connectgaps)&&(r._emptypoints=Sit(v),Tit(v,r._emptypoints));function w(H){s=r._input.zsmooth=r.zsmooth=!1,CB.warn('cannot use zsmooth: "fast": '+H)}function S(H){if(H.length>1){var Y=(H[H.length-1]-H[0])/(H.length-1),K=Math.abs(Y/100);for(y=0;y<H.length-1;y++)if(Math.abs(H[y+1]-H[y]-Y)>K)return!1}return!0}r._islinear=!1,n.type==="log"||i.type==="log"?s==="fast"&&w("log axis found"):S(l)?S(f)?r._islinear=!0:s==="fast"&&w("y scale is not linear"):s==="fast"&&w("x scale is not linear");var _=CB.maxRowLength(v),C=r.xtype==="scaled"?"":l,E=$R(r,C,c,u,_,n),M=r.ytype==="scaled"?"":f,I=$R(r,M,h,p,v.length,i);r._extremes[n._id]=ZR.findExtremes(n,E),r._extremes[i._id]=ZR.findExtremes(i,I);var L={x:E,y:I,z:v,text:r._text||r.text,hovertext:r._hovertext||r.hovertext};if(r.xperiodalignment&&d&&(L.orig_x=d),r.yperiodalignment&&m&&(L.orig_y=m),C&&C.length===E.length-1&&(L.xCenter=C),M&&M.length===I.length-1&&(L.yCenter=M),o&&(L.xRanges=b.xRanges,L.yRanges=b.yRanges,L.pts=b.pts),a||bit(e,r,{vals:v,cLetter:"z"}),a&&r.contours&&r.contours.coloring==="heatmap"){var O={type:r.type==="contour"?"heatmap":"histogram2d",xcalendar:r.xcalendar,ycalendar:r.ycalendar};L.xfill=$R(O,C,c,u,_,n),L.yfill=$R(O,M,h,p,v.length,i)}return[L]};function Q_e(t){for(var e=[],r=t.length,n=0;n<r;n++){var i=t[n];i!==kB&&e.push(i)}return e}function _it(t,e,r){for(var n=[],i=-1,a=0;a<r.length;a++)if(e[a]!==kB){i++,n[i]=[];for(var o=0;o<r[a].length;o++)t[o]!==kB&&n[i].push(r[a][o])}return n}});var EB=J(XR=>{"use strict";XR.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]];XR.STYLE=XR.CSS_DECLARATIONS.map(function(t){return t.join(": ")+"; "}).join("")});var n2e=J((q_t,r2e)=>{"use strict";var t2e=EB(),Cit=Kr(),DB=Qe(),g1=null;function kit(){if(g1!==null)return g1;g1=!1;var t=DB.isSafari()||DB.isMacWKWebView()||DB.isIOS();if(window.navigator.userAgent&&!t){var e=Array.from(t2e.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")g1=e.some(function(o){return r.apply(null,o)});else{var n=Cit.tester.append("image").attr("style",t2e.STYLE),i=window.getComputedStyle(n.node()),a=i.imageRendering;g1=e.some(function(o){var s=o[1];return a===s||a===s.toLowerCase()}),n.remove()}}return g1}r2e.exports=kit});var h2e=J((U_t,f2e)=>{"use strict";var i2e=Sr(),Eit=Vs(),Dit=Xt(),Ait=Kr(),Mit=gn(),oc=Qe(),a2e=wa(),Rit=Tq(),Iit=gr(),Nit=gf().extractOpts,Lit=gf().makeColorScaleFuncFromTrace,Oit=cp(),Pit=ao(),AB=Pit.LINE_SPACING,zit=n2e(),Fit=EB().STYLE,u2e="heatmap-label";function d2e(t){return t.selectAll("g."+u2e)}function o2e(t){d2e(t).remove()}f2e.exports=function(t,e,r,n){var i=e.xaxis,a=e.yaxis;oc.makeTraceGroups(n,r,"hm").each(function(o){var s=i2e.select(this),l=o[0],c=l.trace,u=c.xgap||0,d=c.ygap||0,f=l.z,h=l.x,p=l.y,m=l.xCenter,v=l.yCenter,y=Dit.traceIs(c,"contour"),b=y?"best":c.zsmooth,x=f.length,w=oc.maxRowLength(f),S=!1,_=!1,C,E,M,I,L,O,H,Y;for(O=0;C===void 0&&O<h.length-1;)C=i.c2p(h[O]),O++;for(O=h.length-1;E===void 0&&O>0;)E=i.c2p(h[O]),O--;for(E<C&&(M=E,E=C,C=M,S=!0),O=0;I===void 0&&O<p.length-1;)I=a.c2p(p[O]),O++;for(O=p.length-1;L===void 0&&O>0;)L=a.c2p(p[O]),O--;L<I&&(M=I,I=L,L=M,_=!0),y&&(m=h,v=p,h=l.xfill,p=l.yfill);var K="default";if(b?K=b==="best"?"smooth":"fast":c._islinear&&u===0&&d===0&&zit()&&(K="fast"),K!=="fast"){var N=b==="best"?0:.5;C=Math.max(-N*i._length,C),E=Math.min((1+N)*i._length,E),I=Math.max(-N*a._length,I),L=Math.min((1+N)*a._length,L)}var U=Math.round(E-C),B=Math.round(L-I),$=C>=i._length||E<=0||I>=a._length||L<=0;if($){var ee=s.selectAll("image").data([]);ee.exit().remove(),o2e(s);return}var te,he;K==="fast"?(te=w,he=x):(te=U,he=B);var we=document.createElement("canvas");we.width=te,we.height=he;var Te=we.getContext("2d",{willReadFrequently:!0}),ce=Lit(c,{noNumericCheck:!0,returnArray:!0}),q,X;K==="fast"?(q=S?function(dn){return w-1-dn}:oc.identity,X=_?function(dn){return x-1-dn}:oc.identity):(q=function(dn){return oc.constrain(Math.round(i.c2p(h[dn])-C),0,U)},X=function(dn){return oc.constrain(Math.round(a.c2p(p[dn])-I),0,B)});var G=X(0),de=[G,G],ue=S?0:1,fe=_?0:1,_e=0,Oe=0,Ce=0,je=0,qe,Ve,ot,$e,Xe;function Je(dn,Zo){if(dn!==void 0){var Bn=ce(dn);return Bn[0]=Math.round(Bn[0]),Bn[1]=Math.round(Bn[1]),Bn[2]=Math.round(Bn[2]),_e+=Zo,Oe+=Bn[0]*Zo,Ce+=Bn[1]*Zo,je+=Bn[2]*Zo,Bn}return[0,0,0,0]}function nt(dn,Zo,Bn,qp){var Oo=dn[Bn.bin0];if(Oo===void 0)return Je(void 0,1);var lc=dn[Bn.bin1],ii=Zo[Bn.bin0],cc=Zo[Bn.bin1],zf=lc-Oo||0,Ff=ii-Oo||0,Va;return lc===void 0?cc===void 0?Va=0:ii===void 0?Va=2*(cc-Oo):Va=(2*cc-ii-Oo)*2/3:cc===void 0?ii===void 0?Va=0:Va=(2*Oo-lc-ii)*2/3:ii===void 0?Va=(2*cc-lc-Oo)*2/3:Va=cc+Oo-lc-ii,Je(Oo+Bn.frac*zf+qp.frac*(Ff+Bn.frac*Va))}if(K!=="default"){var Ke=0,Ae;try{Ae=new Uint8Array(te*he*4)}catch(dn){Ae=new Array(te*he*4)}if(K==="smooth"){var it=m||h,at=v||p,ge=new Array(it.length),Ne=new Array(at.length),Le=new Array(U),St=m?l2e:s2e,ht=v?l2e:s2e,He,Ue,ct;for(O=0;O<it.length;O++)ge[O]=Math.round(i.c2p(it[O])-C);for(O=0;O<at.length;O++)Ne[O]=Math.round(a.c2p(at[O])-I);for(O=0;O<U;O++)Le[O]=St(O,ge);for(H=0;H<B;H++)for(He=ht(H,Ne),Ue=f[He.bin0],ct=f[He.bin1],O=0;O<U;O++,Ke+=4)Xe=nt(Ue,ct,Le[O],He),c2e(Ae,Ke,Xe)}else for(H=0;H<x;H++)for($e=f[H],de=X(H),O=0;O<w;O++)Xe=Je($e[O],1),Ke=(de*w+q(O))*4,c2e(Ae,Ke,Xe);var rt=Te.createImageData(te,he);try{rt.data.set(Ae)}catch(dn){var lt=rt.data,st=lt.length;for(H=0;H<st;H++)lt[H]=Ae[H]}Te.putImageData(rt,0,0)}else{var mt=Math.floor(u/2),kt=Math.floor(d/2);for(H=0;H<x;H++)if($e=f[H],de.reverse(),de[fe]=X(H+1),!(de[0]===de[1]||de[0]===void 0||de[1]===void 0))for(Ve=q(0),qe=[Ve,Ve],O=0;O<w;O++)qe.reverse(),qe[ue]=q(O+1),!(qe[0]===qe[1]||qe[0]===void 0||qe[1]===void 0)&&(ot=$e[O],Xe=Je(ot,(qe[1]-qe[0])*(de[1]-de[0])),Te.fillStyle="rgba("+Xe.join(",")+")",Te.fillRect(qe[0]+mt,de[0]+kt,qe[1]-qe[0]-u,de[1]-de[0]-d))}Oe=Math.round(Oe/_e),Ce=Math.round(Ce/_e),je=Math.round(je/_e);var _t=Eit("rgb("+Oe+","+Ce+","+je+")");t._hmpixcount=(t._hmpixcount||0)+_e,t._hmlumcount=(t._hmlumcount||0)+_e*_t.getLuminance();var Ye=s.selectAll("image").data(o);Ye.enter().append("svg:image").attr({xmlns:Oit.svg,preserveAspectRatio:"none"}),Ye.attr({height:B,width:U,x:C,y:I,"xlink:href":we.toDataURL("image/png")}),K==="fast"&&!b&&Ye.attr("style",Fit),o2e(s);var bt=c.texttemplate;if(bt){var ut=Nit(c),P={type:"linear",range:[ut.min,ut.max],_separators:i._separators,_numFormat:i._numFormat},z=c.type==="histogram2dcontour",Q=c.type==="contour",le=Q?1:0,V=Q?x-1:x,oe=Q?1:0,be=Q?w-1:w,xe=[];for(O=le;O<V;O++){var Ge;if(Q)Ge=l.y[O];else if(z){if(O===0||O===x-1)continue;Ge=l.y[O]}else if(l.yCenter)Ge=l.yCenter[O];else{if(O+1===x&&l.y[O+1]===void 0)continue;Ge=(l.y[O]+l.y[O+1])/2}var Ie=Math.round(a.c2p(Ge));if(!(0>Ie||Ie>a._length))for(H=oe;H<be;H++){var tt;if(Q)tt=l.x[H];else if(z){if(H===0||H===w-1)continue;tt=l.x[H]}else if(l.xCenter)tt=l.xCenter[H];else{if(H+1===w&&l.x[H+1]===void 0)continue;tt=(l.x[H]+l.x[H+1])/2}var vt=Math.round(i.c2p(tt));if(!(0>vt||vt>i._length)){var Ze=Rit({x:tt,y:Ge},c,t._fullLayout);Ze.x=tt,Ze.y=Ge;var Pt=l.z[O][H];Pt===void 0?(Ze.z="",Ze.zLabel=""):(Ze.z=Pt,Ze.zLabel=Mit.tickText(P,Pt,"hover").text);var Wt=l.text&&l.text[O]&&l.text[O][H];(Wt===void 0||Wt===!1)&&(Wt=""),Ze.text=Wt;var Vt=oc.texttemplateString(bt,Ze,t._fullLayout._d3locale,Ze,c._meta||{});if(Vt){var Jt=Vt.split("<br>"),At=Jt.length,ir=0;for(Y=0;Y<At;Y++)ir=Math.max(ir,Jt[Y].length);xe.push({l:At,c:ir,t:Vt,x:vt,y:Ie,z:Pt})}}}}var Qt=c.textfont,kr=Qt.size,br=t._fullLayout.font.size;if(!kr||kr==="auto"){var mr=1/0,vr=1/0,Vr=0,un=0;for(Y=0;Y<xe.length;Y++){var Dn=xe[Y];if(Vr=Math.max(Vr,Dn.l),un=Math.max(un,Dn.c),Y<xe.length-1){var mi=xe[Y+1],Rn=Math.abs(mi.x-Dn.x),qr=Math.abs(mi.y-Dn.y);Rn&&(mr=Math.min(mr,Rn)),qr&&(vr=Math.min(vr,qr))}}!isFinite(mr)||!isFinite(vr)?kr=br:(mr-=u,vr-=d,mr/=un,vr/=Vr,mr/=AB/2,vr/=AB,kr=Math.min(Math.floor(mr),Math.floor(vr),br))}if(kr<=0||!isFinite(kr))return;var Ki=function(dn){return dn.x},ld=function(dn){return dn.y-kr*(dn.l*AB/2-1)},cd=d2e(s).data(xe);cd.enter().append("g").classed(u2e,1).append("text").attr("text-anchor","middle").each(function(dn){var Zo=i2e.select(this),Bn=Qt.color;(!Bn||Bn==="auto")&&(Bn=Iit.contrast(dn.z===void 0?t._fullLayout.plot_bgcolor:"rgba("+ce(dn.z).join()+")")),Zo.attr("data-notex",1).call(a2e.positionText,Ki(dn),ld(dn)).call(Ait.font,{family:Qt.family,size:kr,color:Bn,weight:Qt.weight,style:Qt.style,variant:Qt.variant,textcase:Qt.textcase,lineposition:Qt.lineposition,shadow:Qt.shadow}).text(dn.t).call(a2e.convertToTspans,t)})}})};function s2e(t,e){var r=e.length-2,n=oc.constrain(oc.findBin(t,e),0,r),i=e[n],a=e[n+1],o=oc.constrain(n+(t-i)/(a-i)-.5,0,r),s=Math.round(o),l=Math.abs(o-s);return!o||o===r||!l?{bin0:s,bin1:s,frac:0}:{bin0:s,frac:l,bin1:Math.round(s+l/(o-s))}}function l2e(t,e){var r=e.length-1,n=oc.constrain(oc.findBin(t,e),0,r),i=e[n],a=e[n+1],o=(t-i)/(a-i)||0;return o<=0?{bin0:n,bin1:n,frac:0}:o<.5?{bin0:n,bin1:n+1,frac:o}:{bin0:n+1,bin1:n,frac:1-o}}function c2e(t,e,r){t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=Math.round(r[3]*255)}});var m2e=J((B_t,p2e)=>{"use strict";p2e.exports={min:"zmin",max:"zmax"}});var g2e=J((j_t,v2e)=>{"use strict";var Hit=Sr();v2e.exports=function(e){Hit.select(e).selectAll(".hm image").style("opacity",function(r){return r.trace.opacity})}});var w2e=J((V_t,b2e)=>{"use strict";var y2e=Zl(),h2=Qe(),KR=h2.isArrayOrTypedArray,qit=gn(),Uit=gf().extractOpts;b2e.exports=function(e,r,n,i,a){a||(a={});var o=a.isContour,s=e.cd[0],l=s.trace,c=e.xa,u=e.ya,d=s.x,f=s.y,h=s.z,p=s.xCenter,m=s.yCenter,v=s.zmask,y=l.zhoverformat,b=d,x=f,w,S,_,C;if(e.index!==!1){try{_=Math.round(e.index[1]),C=Math.round(e.index[0])}catch(ee){h2.error("Error hovering on heatmap, pointNumber must be [row,col], found:",e.index);return}if(_<0||_>=h[0].length||C<0||C>h.length)return}else{if(y2e.inbox(r-d[0],r-d[d.length-1],0)>0||y2e.inbox(n-f[0],n-f[f.length-1],0)>0)return;if(o){var E;for(b=[2*d[0]-d[1]],E=1;E<d.length;E++)b.push((d[E]+d[E-1])/2);for(b.push([2*d[d.length-1]-d[d.length-2]]),x=[2*f[0]-f[1]],E=1;E<f.length;E++)x.push((f[E]+f[E-1])/2);x.push([2*f[f.length-1]-f[f.length-2]])}_=Math.max(0,Math.min(b.length-2,h2.findBin(r,b))),C=Math.max(0,Math.min(x.length-2,h2.findBin(n,x)))}var M=c.c2p(d[_]),I=c.c2p(d[_+1]),L=u.c2p(f[C]),O=u.c2p(f[C+1]),H,Y;o?(H=s.orig_x||d,Y=s.orig_y||f,I=M,w=H[_],O=L,S=Y[C]):(H=s.orig_x||p||d,Y=s.orig_y||m||f,w=p?H[_]:(H[_]+H[_+1])/2,S=m?Y[C]:(Y[C]+Y[C+1])/2,c&&c.type==="category"&&(w=d[_]),u&&u.type==="category"&&(S=f[C]),l.zsmooth&&(M=I=c.c2p(w),L=O=u.c2p(S)));var K=h[C][_];if(v&&!v[C][_]&&(K=void 0),!(K===void 0&&!l.hoverongaps)){var N;KR(s.hovertext)&&KR(s.hovertext[C])?N=s.hovertext[C][_]:KR(s.text)&&KR(s.text[C])&&(N=s.text[C][_]);var U=Uit(l),B={type:"linear",range:[U.min,U.max],hoverformat:y,_separators:c._separators,_numFormat:c._numFormat},$=qit.tickText(B,K,"hover").text;return[h2.extendFlat(e,{index:l._after2before?l._after2before[C][_]:[C,_],distance:e.maxHoverDistance,spikeDistance:e.maxSpikeDistance,x0:M,x1:I,y0:L,y1:O,xLabelVal:w,yLabelVal:S,zLabelVal:K,zLabel:$,text:N})]}}});var T2e=J((W_t,x2e)=>{"use strict";x2e.exports={attributes:yB(),supplyDefaults:u_e(),calc:e2e(),plot:h2e(),colorbar:m2e(),style:g2e(),hoverPoints:w2e(),moduleType:"trace",name:"heatmap",basePlotModule:N_(),categories:["cartesian","svg","2dMap","showLegend"],meta:{description:["The data that describes the heatmap value-to-color mapping","is set in `z`.","Data in `z` can either be a {2D array} of values (ragged or not)","or a 1D array of values.","In the case where `z` is a {2D array},","say that `z` has N rows and M columns.","Then, by default, the resulting heatmap will have N partitions along","the y axis and M partitions along the x axis.","In other words, the i-th row/ j-th column cell in `z`","is mapped to the i-th partition of the y axis","(starting from the bottom of the plot) and the j-th partition","of the x-axis (starting from the left of the plot).","This behavior can be flipped by using `transpose`.","Moreover, `x` (`y`) can be provided with M or M+1 (N or N+1) elements.","If M (N), then the coordinates correspond to the center of the","heatmap cells and the cells have equal width.","If M+1 (N+1), then the coordinates correspond to the edges of the","heatmap cells.","In the case where `z` is a 1D {array}, the x and y coordinates must be","provided in `x` and `y` respectively to form data triplets."].join(" ")}}});var _2e=J((G_t,S2e)=>{"use strict";S2e.exports=T2e()});var MB,C2e,k2e,E2e,D2e,A2e,Nf,M2e=Re(()=>{"use strict";MB=Lt(owe()),C2e=Lt(dxe()),k2e=Lt(ySe()),E2e=Lt(wSe()),D2e=Lt(QSe()),A2e=Lt(_2e());MB.default.register([C2e.default,k2e.default,E2e.default,D2e.default,A2e.default]);Nf=MB.default});var R2e,I2e,N2e,L2e=Re(()=>{"use strict";R2e={paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",font:{family:"var(--font-default)",size:12},showlegend:!0},I2e={font:{color:"var(--text-normal)"},xaxis:{gridcolor:"var(--background-modifier-border)",linecolor:"var(--background-modifier-border)",zerolinecolor:"var(--background-modifier-accent-hover)"},yaxis:{gridcolor:"var(--background-modifier-border)",linecolor:"var(--background-modifier-border)",zerolinecolor:"var(--background-modifier-accent-hover)"},legend:{bordercolor:"var(--background-modifier-border)"}},N2e={font:{color:"var(--text-normal)"},xaxis:{gridcolor:"var(--background-modifier-border)",linecolor:"var(--background-modifier-border)",zerolinecolor:"var(--background-modifier-accent)"},yaxis:{gridcolor:"var(--background-modifier-border)",linecolor:"var(--background-modifier-border)",zerolinecolor:"var(--background-modifier-accent)"},legend:{bordercolor:"var(--background-modifier-border)"}}});function Sa(t){return!t||isNaN(t.getTime())?null:t.toISOString().split("T")[0]}function O2e(t){if(!(t instanceof Date)||isNaN(t.getTime()))return null;let e=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())),r=e.getUTCDay(),n=e.getUTCDate()-r+(r===0?-6:1);return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),n))}function P2e(t){return!t||isNaN(t.getTime())?null:new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),1))}function p2(t){if(t==null)return null;if(typeof t=="number"){let n=Math.floor(t);return n>=0&&n<=23?n:null}let e=String(t),r=e.match(/^(\d{1,2}):(\d{2})/);if(r){let n=parseInt(r[1],10);return n>=0&&n<=23?n:null}try{let n=new Date(e);if(!isNaN(n.getTime())){let i=n.getUTCHours();return i>=0&&i<=23?i:null}}catch(n){}return null}function Bit(t){return{U:0,M:1,T:2,W:3,R:4,F:5,S:6}[String(t).trim().toUpperCase()]}function RB(t,e,r=1){let n=i=>{if(i==null)return null;if(typeof i=="number")return isNaN(i)||!isFinite(i)?null:{hours:Math.floor(i),minutes:Math.round((i-Math.floor(i))*60)};let a=String(i),o=a.match(/^(\d{1,2}):(\d{2})/);if(o)return{hours:parseInt(o[1]),minutes:parseInt(o[2])};try{let s=new Date(a);if(!isNaN(s.getTime()))return{hours:s.getUTCHours(),minutes:s.getUTCMinutes()}}catch(s){}return null};try{let i=n(t),a=n(e);if(!i||!a)return 0;let o=i.hours*60+i.minutes,s=a.hours*60+a.minutes;s<o&&(s+=24*60);let l=(s-o)/60,c=Number(r)||0;return l*Math.max(0,c)}catch(i){return 0}}function z2e(t,e,r){if(t.type!=="recurring")return null;let{startRecur:n,endRecur:i,daysOfWeek:a}=t;if(!n||!a)return null;let o=null,s=new Date(n);if(isNaN(s.getTime())||(o=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate()))),!o)return null;let l=new Date(Date.UTC(9999,11,31));if(i){let f=new Date(i);isNaN(f.getTime())||(l=new Date(Date.UTC(f.getFullYear(),f.getMonth(),f.getDate())))}let c=new Date(Math.max(o.getTime(),(e==null?void 0:e.getTime())||o.getTime())),u=new Date(Math.min(l.getTime(),(r==null?void 0:r.getTime())||l.getTime()));if(c>u)return null;let d=(Array.isArray(a)?a:String(a).replace(/[[\]\s]/g,"").split(",")).map(f=>Bit(f)).filter(f=>f!==void 0);return d.length===0?null:{effectiveStart:c,effectiveEnd:u,targetDays:d}}function F2e(t,e,r){if(t.metadata.type!=="recurring")return[];let n=z2e(t.metadata,e,r);if(!n)return[];let{effectiveStart:i,effectiveEnd:a,targetDays:o}=n,s=[],l=new Date(i.getTime()),c=new Set(t.metadata.skipDates||[]);for(;l.getTime()<=a.getTime();){if(o.includes(l.getUTCDay())){let u=Sa(l);u&&!c.has(u)&&s.push(new Date(l.getTime()))}l.setUTCDate(l.getUTCDate()+1)}return s}function H2e(t,e,r){if(t.type!=="recurring")return 0;let n=z2e(t,e,r);if(!n)return 0;let{effectiveStart:i,effectiveEnd:a,targetDays:o}=n,s=0,l=new Date(i.getTime()),c=new Set(t.skipDates||[]);for(;l.getTime()<=a.getTime();){if(o.includes(l.getUTCDay())){let u=Sa(l);u&&!c.has(u)&&s++}l.setUTCDate(l.getUTCDate()+1)}return s}function q2e(t,e,r){if(t.metadata.type!=="rrule")return[];let{rrule:n,startDate:i,skipDates:a=[]}=t.metadata;if(!n||!i)return[];try{let o=new Date(i);if(isNaN(o.getTime()))return[];let s=ji(n,{dtstart:o}),l=e||new Date("1900-01-01"),c=r||new Date("2100-12-31"),u=s.between(l,c,!0),d=new Set(a);return u.filter(f=>{let h=Sa(f);return h&&!d.has(h)})}catch(o){return console.warn("Failed to expand rrule:",n,o),[]}}function U2e(t,e,r){if(t.type!=="rrule")return 0;let{rrule:n,startDate:i,skipDates:a=[]}=t;if(!n||!i)return 0;try{let o=new Date(i);if(isNaN(o.getTime()))return 0;let s=ji(n,{dtstart:o}),l=e||new Date("1900-01-01"),c=r||new Date("2100-12-31"),u=s.between(l,c,!0),d=new Set(a);return u.filter(f=>{let h=Sa(f);return h&&!d.has(h)}).length}catch(o){return console.warn("Failed to count rrule instances:",n,o),0}}var y1=Re(()=>{"use strict";Wd()});function pg(t){let e=t;typeof e.empty=="function"?(e.empty(),t.innerHTML=""):t.textContent=""}function hg(t,e,r){let n=t;if(typeof n.createEl=="function")return n.createEl(e,r);let i=document.createElement(e);return r&&(r.cls&&(i.className=r.cls),r.text&&(i.textContent=r.text),r.attr&&Object.entries(r.attr).forEach(([a,o])=>i.setAttribute(a,o))),t.appendChild(i),i}function QR(t,e){return hg(t,"div",e)}function jit(t,e){if(t==null||t==="")return`(No ${e})`;if(typeof t=="object")try{return JSON.stringify(t)}catch(r){return console.error("[ChronoAnalyzer] Failed to stringify category value:",r),`(No ${e})`}return String(t)}function NB(t,e,r){var i,a;let n=t;(i=n.removeAllListeners)==null||i.call(n,e),(a=n.on)==null||a.call(n,e,r)}function Vit(t,e){let r=null;return(...n)=>{r!==null&&window.clearTimeout(r),r=window.setTimeout(()=>t(...n),e)}}function Git(t){b1&&IB.unobserve(b1),IB.observe(t),b1=t}function zp(t,e){let r=t.querySelector("#mainChart");r&&(b1&&(IB.unobserve(b1),b1=null),Nf.purge(r),pg(r),hg(r,"p",{cls:"chart-message",text:e}))}function Yit(t){let r=document.body.classList.contains("theme-dark")?N2e:I2e;return ae(ae(ae({},R2e),r),t)}function JR(t,e,r,n){let i=Yit(r);n?Nf.react(t,e,i,{responsive:!0}):Nf.newPlot(t,e,i,{responsive:!0}),Git(t)}function B2e(t,e,r,n,i,a){let o=t.querySelector("#mainChart");if(!o)return;i&&(Nf.purge(o),pg(o));let s=t.querySelector("#levelSelect_pie"),l=s?s.selectedOptions[0].text.split("(")[0].trim():"Category",c=[{type:"pie",labels:Array.from(e.hours.keys()),values:Array.from(e.hours.values()),textinfo:"label+percent",textposition:"outside",hoverinfo:"label+value+percent",marker:{line:{color:"white",width:2}}}],u={title:{text:`${a==="count"?"Event Count":"Time"} Distribution by ${l}`},showlegend:!0,margin:{l:40,r:40,t:60,b:80}};JR(o,c,u,n),NB(o,"plotly_click",d=>{let f=d==null?void 0:d.points,h=f==null?void 0:f[0];if(!h||h.label===void 0)return;let p=String(h.label);e.recordsByCategory.has(p)&&r(p,e.recordsByCategory.get(p),{type:"pie",value:typeof h.value=="number"?h.value:Number(h.value)||null})})}function j2e(t,e,r,n,i,a){let o=t.querySelector("#mainChart");if(!o)return;if(i){Nf.purge(o),pg(o);let d=QR(o,{cls:"sunburst-wrapper"});QR(d,{cls:"sunburst-chart-div"}),QR(d,{cls:"custom-legend",attr:{id:"customLegend"}})}let s=o.querySelector(".sunburst-chart-div"),l=o.querySelector(".custom-legend");if(!s||!l)return;let c=[{type:"sunburst",ids:e.ids,labels:e.labels,parents:e.parents,values:e.values,branchvalues:"total",hoverinfo:"text"}];JR(s,c,{title:{text:a==="count"?"Event Count Breakdown":"Time Breakdown"},margin:{l:0,r:0,b:0,t:40},showlegend:!1},n),l&&pg(l),NB(s,"plotly_sunburstclick",d=>{let f=d==null?void 0:d.points,h=f==null?void 0:f[0];!h||h.id===void 0||h.label===void 0||e.recordsByLabel.has(String(h.id))&&r(String(h.label),e.recordsByLabel.get(String(h.id)),{type:"sunburst",value:typeof h.value=="number"?h.value:Number(h.value)||null})})}function V2e(t,e,r,n,i){var h,p,m;let a=t.querySelector("#mainChart");if(!a)return;if(n&&(Nf.purge(a),pg(a)),!e||e.length===0){zp(t,"No data available for Time-Series chart.");return}let o=(h=t.querySelector("#timeSeriesGranularitySelect"))==null?void 0:h.value,s=(p=t.querySelector("#timeSeriesTypeSelect"))==null?void 0:p.value,l=(m=t.querySelector("#timeSeriesStackingLevelSelect"))==null?void 0:m.value;if(!o||!s||!l)return;let c=new Map;e.forEach(v=>{if(!v.date||isNaN(v.date.getTime()))return;let y=i==="count"?1:v._effectiveDurationInPeriod||0;if(i==="duration"&&y<=0)return;let b;if(o==="daily"?b=Sa(v.date):o==="weekly"?b=Sa(O2e(v.date)):b=Sa(P2e(v.date)),!b)return;c.has(b)||c.set(b,{total:0,categories:{}});let x=c.get(b);if(x.total+=y,s==="stackedArea"){let w=jit(v[l],l);x.categories[w]=(x.categories[w]||0)+y}});let u=Array.from(c.keys()).sort((v,y)=>new Date(v).getTime()-new Date(y).getTime()),d=[];if(u.length===0){zp(t,"No data points to plot for Time-Series.");return}if(s==="line")d.push({x:u,y:u.map(v=>Number(c.get(v).total.toFixed(2))),type:"scatter",mode:"lines+markers",name:i==="count"?"Total Events":"Total Hours"});else{let v=new Set;u.forEach(y=>Object.keys(c.get(y).categories).forEach(b=>v.add(b))),Array.from(v).sort().forEach(y=>{d.push({x:u,y:u.map(b=>Number((c.get(b).categories[y]||0).toFixed(2))),type:"scatter",mode:"lines",stackgroup:"one",name:y,hoverinfo:"x+y+name"})})}let f={title:{text:`${i==="count"?"Event Count":"Time Spent"} (${o}) - ${s==="line"?"Overall Trend":`Stacked by ${l}`}`},xaxis:{title:{text:"Period"},type:"date"},yaxis:{title:{text:i==="count"?"Count":"Hours"}},margin:{t:50,b:80,l:60,r:30},hovermode:"x unified"};JR(a,d,f,r)}function W2e(t,e,r,n,i,a){var b;let o=t.querySelector("#mainChart");if(!o)return;if(i&&(Nf.purge(o),pg(o)),!e||e.length===0){zp(t,"No data available for Activity Patterns.");return}let s=t.querySelector("#activityPatternTypeSelect");if(!s)return;let l=s.value,c=((b=s.selectedOptions[0])==null?void 0:b.text)||"Activity Pattern",u=[],d={},f="bar",h=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=Array.from({length:24},(x,w)=>`${w}`),m={t:50,b:60,l:70,r:30};if(l==="dayOfWeek"){let x=Array.from({length:7},()=>0);e.forEach(w=>{if(w.date&&!isNaN(w.date.getTime())){let S=w.date.getUTCDay(),_=a==="count"?1:w._effectiveDurationInPeriod||0;x[S]+=_}}),u=[{x:h,y:x.map(w=>Number(w.toFixed(2))),type:"bar"}],d={title:{text:`Total ${a==="count"?"Events":"Hours"} by Day of Week`},yaxis:{title:{text:a==="count"?"Count":"Hours"}},margin:m}}else if(l==="hourOfDay"){let x=Array.from({length:24},()=>0);e.forEach(w=>{let S="startTime"in w.metadata?w.metadata.startTime:null,_=S?p2(S):null;if(_!==null){let C=a==="count"?1:w._effectiveDurationInPeriod||0;x[_]+=C}}),u=[{x:p,y:x.map(w=>Number(w.toFixed(2))),type:"bar"}],d={title:{text:`Total ${a==="count"?"Events":"Hours"} by Task Start Hour`},xaxis:{title:{text:"Hour of Day (0-23)"}},yaxis:{title:{text:a==="count"?"Count":"Hours"}},margin:m}}else if(l==="heatmapDOWvsHOD"){f="heatmap";let x=Array.from({length:7},()=>Array.from({length:24},()=>0));e.forEach(w=>{let S="startTime"in w.metadata?w.metadata.startTime:null,_=S?p2(S):null;if(_!==null&&w.date&&!isNaN(w.date.getTime())){let C=w.date.getUTCDay(),E=a==="count"?1:w._effectiveDurationInPeriod||0;x[C][_]+=E}}),u=[{z:x.map(w=>w.map(S=>S>0?Number(S.toFixed(2)):null)),x:p,y:h,type:"heatmap",colorscale:"Viridis",hoverongaps:!1}],d={title:{text:"Activity Heatmap (Day vs Task Start Hour)"},xaxis:{title:{text:"Hour of Day (0-23)"}},margin:m}}function v(x){if(!x.length)return!0;let w=x[0];return f==="bar"&&w&&"y"in w&&Array.isArray(w.y)?w.y.every(S=>parseFloat(String(S))===0):!1}function y(x){if(!x.length)return!0;let w=x[0];return f==="heatmap"&&w&&"z"in w&&Array.isArray(w.z)?w.z.flat().every(_=>_===null):!1}if(!u.length||v(u)||y(u)){zp(t,`No data to plot for ${c}.`);return}JR(o,u,d,n),NB(o,"plotly_click",x=>{let w=x==null?void 0:x.points;if(!w||w.length===0)return;let S=w[0],_=[],C="",E=null;if(f==="bar"){let M=S.x;if(M==null)return;let I=String(M);if(E=typeof S.y=="number"?S.y:parseFloat(String(S.y)),l==="dayOfWeek"){let L=h.indexOf(I);if(L===-1)return;C=`${I} (Day)`,_=e.filter(O=>O.date&&O.date.getUTCDay()===L)}else if(l==="hourOfDay"){let L=parseInt(I,10);if(isNaN(L))return;C=`${I}:00 (Start Hour)`,_=e.filter(O=>{let H="startTime"in O.metadata?O.metadata.startTime:null;return H&&p2(H)===L})}}else if(f==="heatmap"){let M=typeof S.x=="number"?S.x:parseInt(String(S.x),10),I=h.indexOf(String(S.y));if(E=typeof S.z=="number"?S.z:parseFloat(String(S.z)),Number.isNaN(M)||I===-1||!E||E===0)return;let L=(M+1)%24;C=`Activity: ${S.y}, ${String(M).padStart(2,"0")}:00 - ${String(L).padStart(2,"0")}:00`,_=e.filter(O=>{let H="startTime"in O.metadata?O.metadata.startTime:null;return H&&p2(H)===M&&O.date&&O.date.getUTCDay()===I})}_.length>0&&r(C,_,{value:E})})}function G2e(t,e,r){let n=t.querySelector("#errorLogContainer"),i=t.querySelector("#errorLogSummary"),a=t.querySelector("#errorLogEntries");if(!(!n||!i||!a)){if(pg(a),e.length===0){i.textContent="No processing issues found; all data is sourced from the main cache.",n.addClass("is-hidden"),n.removeClass("is-visible");return}i.textContent=`Found ${e.length} issue(s) during data translation:`,e.forEach(o=>{let s=hg(a,"details",{cls:"log-entry"}),l=hg(s,"summary"),c=QR(s,{cls:"log-entry-content"});l.textContent=`\u26A0\uFE0F ${o.file||"Unknown file"}`,hg(c,"strong",{text:"Path: "}),c.appendChild(document.createTextNode(o.path||"N/A")),hg(c,"br"),hg(c,"strong",{text:"Reason: "}),c.appendChild(document.createTextNode(o.reason||"No specific reason provided."))}),n.removeClass("is-hidden"),n.addClass("is-visible")}}var Wit,IB,b1,Y2e=Re(()=>{"use strict";M2e();L2e();y1();Wit=Vit(t=>{Nf.Plots.resize(t)},100),IB=new ResizeObserver(t=>{for(let e of t){let r=e.target;r.offsetParent!==null&&Wit(r)}}),b1=null});var sc,nd,id,mg,vg,eI,Z2e=Re(()=>{"use strict";y1();eI=class{constructor(){Eg(this,sc,new Map);Eg(this,nd,new Map);Eg(this,id,new Map);Eg(this,mg,new Map);Eg(this,vg,new Map);this.getKnownHierarchies=()=>Array.from(wn(this,mg).values()).sort();this.getKnownProjects=()=>Array.from(wn(this,vg).values()).sort();this.getTotalRecordCount=()=>wn(this,sc).size}clear(){wn(this,sc).clear(),wn(this,nd).clear(),wn(this,id).clear(),wn(this,mg).clear(),wn(this,vg).clear()}addRecord(e){wn(this,sc).has(e._id)&&this.removeRecord(e._id),wn(this,sc).set(e._id,e);let r=e.hierarchy.toLowerCase();wn(this,nd).has(r)||(wn(this,nd).set(r,new Set),wn(this,mg).set(r,e.hierarchy)),wn(this,nd).get(r).add(e._id);let n=e.project.toLowerCase();wn(this,id).has(n)||(wn(this,id).set(n,new Set),wn(this,vg).set(n,e.project)),wn(this,id).get(n).add(e._id)}finalize(){}removeRecord(e){let r=wn(this,sc).get(e);if(!r)return;let n=r.hierarchy.toLowerCase(),i=r.project.toLowerCase(),a=wn(this,nd).get(n);a&&(a.delete(e),a.size===0&&(wn(this,nd).delete(n),wn(this,mg).delete(n)));let o=wn(this,id).get(i);o&&(o.delete(e),o.size===0&&(wn(this,id).delete(i),wn(this,vg).delete(i))),wn(this,sc).delete(e)}getAllRecords(){return Array.from(wn(this,sc).values())}getAnalyzedData(e,r,n={}){var p,m;let i={records:[],totalHours:0,fileCount:0,aggregation:new Map,recordsByCategory:new Map,error:null},{expandRecurring:a=!1}=n,o=[],s=null;if(e.pattern)try{let v=e.pattern,y=[],b=/\s-(?:"[^"]+"|'[^']+'|\S+)/g,x=v.match(b);if(x){for(let w of x){let S=w.substring(2),_=S.charAt(0),C=S.charAt(S.length-1);(_==='"'&&C==='"'||_==="'"&&C==="'")&&(S=S.slice(1,-1)),S&&y.push(S)}v=v.replace(b,"").trim()}if(y.length>0&&(s=new RegExp(y.join("|"),"i")),v){let w=/"[^"]+"|'[^']+'|\S+/g,S=v.match(w);if(S)for(let _ of S){let C=_.charAt(0),E=_.charAt(_.length-1);(C==='"'&&E==='"'||C==="'"&&E==="'")&&(_=_.slice(1,-1)),_&&o.push(new RegExp(_,"i"))}}}catch(v){return i.error=v instanceof Error?v.message:String(v),i}let l=null;if(e.hierarchy){let v=e.hierarchy.toLowerCase();l=wn(this,nd).get(v)||new Set}if(e.project){let v=e.project.toLowerCase(),y=wn(this,id).get(v)||new Set;l=l?new Set([...l].filter(b=>y.has(b))):y}let c=l?Array.from(l).map(v=>wn(this,sc).get(v)).filter(Boolean):wn(this,sc).values(),u=new Set,d=(p=e.filterStartDate)!=null?p:null,f=(m=e.filterEndDate)!=null?m:null,h=!!(d||f);for(let v of c){let y=v.project;if(!(s&&s.test(y))&&!(o.length>0&&!o.every(b=>b.test(y))))if(v.metadata.type==="recurring"&&h)if(a){let b=F2e(v,d,f);for(let x of b){let w,S={title:v.metadata.title,id:v.metadata.id,category:v.metadata.category,timezone:v.metadata.timezone,type:"single",date:Sa(x),endDate:Sa(x)};v.metadata.allDay?w=We(ae({},S),{allDay:!0}):w=We(ae({},S),{allDay:!1,startTime:"startTime"in v.metadata?v.metadata.startTime:"00:00",endTime:"endTime"in v.metadata?v.metadata.endTime:"00:00"});let _=We(ae({},v),{date:x,metadata:w,_effectiveDurationInPeriod:v.duration});this.processRecord(_,v.duration,r,i,u)}}else{let b=H2e(v.metadata,d,f);if(b>0){let x=v.duration*b,w=We(ae({},v),{_effectiveDurationInPeriod:x});this.processRecord(w,x,r,i,u)}}else if(v.metadata.type==="rrule"&&h)if(a){let b=q2e(v,d,f);for(let x of b){let w,S={title:v.metadata.title,id:v.metadata.id,category:v.metadata.category,timezone:v.metadata.timezone,type:"single",date:Sa(x),endDate:Sa(x)};v.metadata.allDay?w=We(ae({},S),{allDay:!0}):w=We(ae({},S),{allDay:!1,startTime:"startTime"in v.metadata?v.metadata.startTime:"00:00",endTime:"endTime"in v.metadata?v.metadata.endTime:"00:00"});let _=We(ae({},v),{date:x,metadata:w,_effectiveDurationInPeriod:v.duration});this.processRecord(_,v.duration,r,i,u)}}else{let b=U2e(v.metadata,d,f);if(b>0){let x=v.duration*b,w=We(ae({},v),{_effectiveDurationInPeriod:x});this.processRecord(w,x,r,i,u)}}else{let b=v.duration,x=!1;if((v.metadata.type==="recurring"||v.metadata.type==="rrule")&&!h?x=!0:v.metadata.type!=="recurring"&&v.metadata.type!=="rrule"&&(h?this.isWithinDateRange(v.date,d,f)&&(x=!0):x=!0),x){let w=We(ae({},v),{_effectiveDurationInPeriod:b});this.processRecord(w,b,r,i,u)}}}return i.fileCount=u.size,i}preparePieChartData(e,r,n){let i=new Map,a=new Map;for(let o of e){let s=this.formatBreakdownValue(o[r],r),l=n==="count"?1:o._effectiveDurationInPeriod||0;n==="duration"&&l<=0||(i.set(s,(i.get(s)||0)+l),a.has(s)||a.set(s,[]),a.get(s).push(o))}return{hours:i,recordsByCategory:a,error:!1}}prepareSunburstData(e,r,n){let i={ids:[],labels:[],parents:[],values:[],recordsByLabel:new Map},a,o;r==="project"?(a="hierarchy",o="project"):(a="project",o="subproject");let s=new Map;for(let d of e){let f=n==="count"?1:d._effectiveDurationInPeriod;if(typeof f!="number"||isNaN(f)||n==="duration"&&f<=0)continue;let h=String(d[a]||`(No ${a})`).trim(),p=String(d[o]||`(No ${o})`).trim(),m=`${h} - ${p}`;s.has(m)||s.set(m,{value:0,records:[],inner:h,outer:p});let v=s.get(m);v.value+=f,v.records.push(d)}let l=new Map,c=0;for(let{value:d,inner:f}of s.values())l.set(f,(l.get(f)||0)+d);for(let d of l.values())c+=d;let u="Total";i.ids.push(u),i.labels.push(u),i.parents.push(""),i.values.push(c),i.recordsByLabel.set(u,e);for(let[d,f]of l.entries()){i.ids.push(d),i.labels.push(d),i.parents.push(u),i.values.push(f);let h=e.filter(p=>String(p[a]||`(No ${a})`).trim()===d);i.recordsByLabel.set(d,h)}for(let[d,{value:f,records:h,inner:p,outer:m}]of s.entries())i.ids.push(d),i.labels.push(m),i.parents.push(p),i.values.push(f),i.recordsByLabel.set(d,h);return i}processRecord(e,r,n,i,a){if(n){let o=this.formatBreakdownValue(e[n],n);i.aggregation.set(o,(i.aggregation.get(o)||0)+r),i.recordsByCategory.has(o)||i.recordsByCategory.set(o,[]),i.recordsByCategory.get(o).push(e)}i.records.push(e),i.totalHours+=r,a.add(e.path)}isWithinDateRange(e,r,n){if(!e||isNaN(e.getTime()))return!1;let i=new Date(e.valueOf());i.setUTCHours(0,0,0,0);let a=i.getTime();if(r){let o=new Date(r.valueOf());if(o.setUTCHours(0,0,0,0),a<o.getTime())return!1}if(n){let o=new Date(n.valueOf());if(o.setUTCHours(0,0,0,0),a>o.getTime())return!1}return!0}formatBreakdownValue(e,r){var n;if(!e)return`(No ${r})`;if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return String(e);if(e instanceof Date)return(n=Sa(e))!=null?n:`(No ${r})`;if(e==null)return`(No ${r})`;if(typeof e=="object")try{return JSON.stringify(e)}catch(i){return console.error("[ChronoAnalyzer] Failed to stringify breakdown value:",i),"(Unserializable value)"}return String(e)}};sc=new WeakMap,nd=new WeakMap,id=new WeakMap,mg=new WeakMap,vg=new WeakMap});function rI(t,e,r){t.querySelector("input")&&new LB(t,e,r)}var Lo,LB,tI,OB=Re(()=>{"use strict";Lo=require("obsidian");Pr();LB=class{constructor(e,r,n){this.activeSuggestionIndex=-1;this.isSelectionInProgress=!1;this.onBlur=()=>{setTimeout(()=>{this.suggestionsEl.removeClass("is-visible"),this.suggestionsEl.addClass("is-hidden")},200)};this.onKeyDown=e=>{var n;let r=Array.from(this.suggestionsEl.children).filter(i=>i instanceof HTMLElement);if(!(r.length===0&&e.key!=="Enter"&&e.key!=="Escape"))switch(e.key){case"Enter":{e.preventDefault();let i=this.activeSuggestionIndex>-1?(n=r[this.activeSuggestionIndex])==null?void 0:n.textContent:null,a=i!=null?i:this.inputEl.value;this.isSelectionInProgress=!0,this.onSelectCallback(a),this.suggestionsEl.removeClass("is-visible"),this.suggestionsEl.addClass("is-hidden"),this.inputEl.blur(),this.isSelectionInProgress=!1;break}case"Escape":this.suggestionsEl.removeClass("is-visible"),this.suggestionsEl.addClass("is-hidden");break;case"ArrowDown":case"ArrowUp":e.preventDefault(),this.activeSuggestionIndex=e.key==="ArrowDown"?(this.activeSuggestionIndex+1)%r.length:(this.activeSuggestionIndex-1+r.length)%r.length,this.updateActiveSuggestion(r,this.activeSuggestionIndex);break}};this.updateFilteredSuggestions=()=>{if(this.isSelectionInProgress)return;let e=this.inputEl.value.toLowerCase().trim(),r=this.getDataFunc(),n=e===""?r:r.filter(i=>i.toLowerCase().includes(e));this.populateSuggestions(n)};this.populateSuggestions=e=>{this.suggestionsEl.empty(),this.activeSuggestionIndex=-1,e.length>0?(e.forEach((r,n)=>{let i=document.createElement("div");i.textContent=r,i.classList.add("autocomplete-suggestion-item"),i.addEventListener("mousedown",a=>{a.preventDefault(),this.isSelectionInProgress=!0,this.onSelectCallback(r),this.suggestionsEl.removeClass("is-visible"),this.suggestionsEl.addClass("is-hidden"),this.isSelectionInProgress=!1}),this.suggestionsEl.appendChild(i)}),this.suggestionsEl.removeClass("is-hidden"),this.suggestionsEl.addClass("is-visible")):(this.suggestionsEl.removeClass("is-visible"),this.suggestionsEl.addClass("is-hidden"))};this.wrapperEl=e,this.inputEl=e.querySelector("input"),this.onSelectCallback=r,this.getDataFunc=n,this.suggestionsEl=this.wrapperEl.createDiv({cls:"autocomplete-suggestions"}),this.bindEvents()}bindEvents(){this.inputEl.addEventListener("focus",this.updateFilteredSuggestions),this.inputEl.addEventListener("input",this.updateFilteredSuggestions),this.inputEl.addEventListener("blur",this.onBlur),this.inputEl.addEventListener("keydown",this.onKeyDown)}updateActiveSuggestion(e,r){e.forEach((n,i)=>{n.classList.toggle("is-active",i===r)})}};tI=class extends Lo.Modal{constructor(r,n,i,a,o){super(r);this.expandedGroupName=null;this.originalConfigString="";this.hasUnsavedChanges=!1;this.isSaving=!1;this.onSave=o,this.knownHierarchies=i,this.knownProjects=a;let s={version:1,lastUpdated:new Date().toISOString(),insightGroups:{Work:{persona:"productivity",rules:{hierarchies:["Work"],projects:[],subprojectKeywords:[],mutedSubprojectKeywords:[],mutedProjects:[]}},Personal:{persona:"wellness",rules:{hierarchies:["Personal"],projects:[],subprojectKeywords:[],mutedSubprojectKeywords:[],mutedProjects:[]}}}},l=n||s;l&&l.insightGroups&&Object.entries(l.insightGroups).forEach(([u,d])=>{d&&(d.persona===void 0&&(d.persona="productivity"),d.rules.mutedProjects===void 0&&(d.rules.mutedProjects=[]),d.rules.mutedSubprojectKeywords===void 0&&(d.rules.subprojectKeywords_exclude?d.rules.mutedSubprojectKeywords=d.rules.subprojectKeywords_exclude:d.rules.mutedSubprojectKeywords=[]),d.rules.subprojectKeywords_exclude!==void 0&&delete d.rules.subprojectKeywords_exclude)}),this.config=l}rerender(){this.renderGroups(this.groupsContainerEl)}onOpen(){let{contentEl:r}=this;r.empty(),r.addClass("chrono-analyser-modal"),r.createEl("h2",{text:W("chrono.ui.title")}),r.createEl("p",{text:W("chrono.ui.description")}),this.groupsContainerEl=r.createDiv(),this.rerender(),new Lo.Setting(r).addButton(n=>n.setButtonText(W("chrono.ui.save")).setCta().onClick(()=>{Object.keys(this.config.insightGroups).forEach(i=>{i||delete this.config.insightGroups[i]}),this.config.lastUpdated=new Date().toISOString(),this.onSave(this.config),this.isSaving=!0,this.close()})).addButton(n=>n.setButtonText(W("chrono.ui.cancel")).onClick(()=>this.close())),this.originalConfigString=JSON.stringify(this.config),this.hasUnsavedChanges=!1,this.isSaving=!1}renderGroups(r){r.empty();let n=r.createDiv("insight-groups-container");for(let i in this.config.insightGroups){let a=this.config.insightGroups[i];a&&a.rules?this.renderGroupSetting(n,i,a):(console.warn(`[Chrono Analyser] Found and removed corrupt insight group: "${i}"`),delete this.config.insightGroups[i])}new Lo.Setting(r).addButton(i=>i.setButtonText(W("chrono.ui.addGroup")).onClick(()=>{let a=`New Group ${Object.keys(this.config.insightGroups).length+1}`;this.config.insightGroups[a]={persona:"productivity",rules:{hierarchies:[],projects:[],subprojectKeywords:[],mutedSubprojectKeywords:[],mutedProjects:[]}},this.checkForUnsavedChanges(),this.expandedGroupName=a,this.rerender()}))}renderGroupSetting(r,n,i){let a=n,{rules:o,persona:s}=i,l=this.expandedGroupName===a,c=r.createDiv({cls:"insight-group-setting"});c.toggleClass("is-expanded",l),c.addEventListener("click",f=>{l||(this.expandedGroupName=a,this.rerender())}),new Lo.Setting(c).setName(W("chrono.ui.groupName")).addText(f=>{f.setValue(a).setPlaceholder(W("chrono.ui.groupNamePlaceholder")).setDisabled(!l).onChange(()=>{this.checkForUnsavedChanges()}),f.inputEl.addEventListener("blur",()=>{if(!this.config.insightGroups[a])return;let h=f.inputEl.value.trim();if(!h||h===a){f.inputEl.value=a;return}if(this.config.insightGroups[h]){new Lo.Notice(W("chrono.ui.errors.groupExists",{name:h})),f.inputEl.value=a;return}let p=this.config.insightGroups[a];p&&(delete this.config.insightGroups[a],this.config.insightGroups[h]=p,this.expandedGroupName=h,this.rerender())})}).addExtraButton(f=>{f.setIcon("trash").setTooltip(W("chrono.ui.deleteGroup")).setDisabled(!l).onClick(()=>{delete this.config.insightGroups[a],this.checkForUnsavedChanges(),this.expandedGroupName===a&&(this.expandedGroupName=null),this.rerender()})}).settingEl.addEventListener("click",f=>{f.target.closest("input, button, .tag-remove")||l&&(this.expandedGroupName=null,this.rerender())});let d=c.createDiv("foldable-content");new Lo.Setting(d).setName(W("chrono.ui.persona.name")).setDesc(W("chrono.ui.persona.desc")).setDisabled(!l).addDropdown(f=>{f.addOption("productivity",W("chrono.ui.persona.productivity")).addOption("wellness",W("chrono.ui.persona.wellness")).addOption("none",W("chrono.ui.persona.none")).setValue(s||"productivity").onChange(h=>{(h==="productivity"||h==="wellness"||h==="none")&&(i.persona=h,this.checkForUnsavedChanges())})}),this.createTagInput(d,W("chrono.ui.hierarchies.name"),W("chrono.ui.hierarchies.desc"),W("chrono.ui.hierarchies.add"),o.hierarchies||[],this.knownHierarchies,()=>this.checkForUnsavedChanges()),this.createTagInput(d,W("chrono.ui.projects.name"),W("chrono.ui.projects.desc"),W("chrono.ui.projects.add"),o.projects||[],this.knownProjects,()=>this.checkForUnsavedChanges()),this.createTagInput(d,W("chrono.ui.mutedProjects.name"),W("chrono.ui.mutedProjects.desc"),W("chrono.ui.mutedProjects.add"),o.mutedProjects||[],this.knownProjects,()=>this.checkForUnsavedChanges()),new Lo.Setting(d).setName(W("chrono.ui.subprojectKeywords.name")).setDesc(W("chrono.ui.subprojectKeywords.desc")).addTextArea(f=>{f.setValue((o.subprojectKeywords||[]).join(`
`)).setPlaceholder(W("chrono.ui.subprojectKeywords.placeholder")).setDisabled(!l).onChange(h=>{o.subprojectKeywords=h.split(`
`).map(p=>p.trim()).filter(Boolean),this.checkForUnsavedChanges()})}),new Lo.Setting(d).setName(W("chrono.ui.mutedSubprojectKeywords.name")).setDesc(W("chrono.ui.mutedSubprojectKeywords.desc")).addTextArea(f=>{f.setValue((o.mutedSubprojectKeywords||[]).join(`
`)).setPlaceholder(W("chrono.ui.mutedSubprojectKeywords.placeholder")).setDisabled(!l).onChange(h=>{o.mutedSubprojectKeywords=h.split(`
`).map(p=>p.trim()).filter(Boolean),this.checkForUnsavedChanges()})})}createTagInput(r,n,i,a,o,s,l){let u=new Lo.Setting(r).setName(n).setDesc(i).controlEl.createDiv({cls:"autocomplete-wrapper"}),d=u.createDiv({cls:"tag-input-container"}),f=d.createDiv({cls:"tags"}),h=d.createEl("input",{cls:"tag-input"});h.setAttribute("type","text"),h.setAttribute("placeholder",a);let p=()=>{f.empty(),o.forEach((m,v)=>{let y=f.createDiv({cls:"tag"});y.setText(m);let b=y.createSpan({cls:"tag-remove"});b.setText("\xD7"),b.onClickEvent(()=>{o.splice(v,1),p(),l&&l()})})};h.addEventListener("keydown",m=>{if(m.key==="Enter"&&h.value){m.preventDefault();let v=h.value.trim();v&&!o.includes(v)&&(o.push(v),p(),l&&l()),h.value=""}}),rI(u,m=>{let v=m.trim();v&&!o.includes(v)&&(o.push(v),p(),l&&l()),h.value="",h.focus()},()=>s),p()}checkForUnsavedChanges(){let r=JSON.stringify(this.config);this.hasUnsavedChanges=r!==this.originalConfigString}close(){this.checkForUnsavedChanges(),this.hasUnsavedChanges&&!this.isSaving?this.showConfirmationModal():super.close()}showConfirmationModal(){let r=new Lo.Modal(this.app);r.contentEl.addClass("chrono-analyser-modal"),r.contentEl.createEl("h2",{text:W("chrono.ui.unsavedChanges.title")}),r.contentEl.createEl("p",{text:W("chrono.ui.unsavedChanges.message")}),new Lo.Setting(r.contentEl).addButton(n=>n.setButtonText(W("chrono.ui.unsavedChanges.saveAndClose")).setCta().onClick(()=>{this.isSaving=!0;let i=this.modalEl.querySelector(".mod-cta");i==null||i.click(),r.close()})).addButton(n=>n.setButtonText(W("chrono.ui.unsavedChanges.discard")).onClick(()=>{this.isSaving=!0,r.close(),this.close()})),r.open()}onClose(){this.contentEl.empty()}}});var nI,$2e=Re(()=>{"use strict";y1();nI=class{constructor(e,r){this.app=e;this.rootEl=r;this.show=(e,r,n={})=>{var l;if(!this.popupEl||!this.overlayEl||!this.tableBodyEl)return;this.popupBodyEl.scrollTop=0,this.titleEl.textContent=`Details for: ${e}`;let i=new Set(r.map(c=>c.path)).size,a=(l=n.value)!=null?l:r.reduce((c,u)=>c+(u._effectiveDurationInPeriod||0),0);typeof this.statsEl.empty=="function"?this.statsEl.empty():this.statsEl.textContent="";let o=(c,u)=>{var f,h;if(typeof this.statsEl.createDiv!="function"){let p=document.createElement("div");p.className="summary-stat";let m=document.createElement("div");m.className="summary-stat-value",m.textContent=c;let v=document.createElement("div");v.className="summary-stat-label",v.textContent=u,p.appendChild(m),p.appendChild(v),this.statsEl.appendChild(p);return}let d=this.statsEl.createDiv({cls:"summary-stat"});(f=d.createDiv)==null||f.call(d,{cls:"summary-stat-value",text:c}),(h=d.createDiv)==null||h.call(d,{cls:"summary-stat-label",text:u})};o(String(i),"Unique Files"),o(a.toFixed(2),"Total Hours"),typeof this.tableBodyEl.empty=="function"?this.tableBodyEl.empty():this.tableBodyEl.textContent="",r.forEach(c=>{let u=this.tableBodyEl.insertRow();u.insertCell().textContent=c.project,u.insertCell().textContent=c.subprojectFull,u.insertCell().textContent=(c._effectiveDurationInPeriod||c.duration).toFixed(2);let d=u.insertCell();d.textContent=c.date?Sa(c.date):"Recurring";let f=u.insertCell();typeof f.createSpan=="function"?f.createSpan({cls:"file-path-cell",text:c.path,attr:{title:c.path}}):f.textContent=c.path}),this.overlayEl.classList.add("visible"),this.popupEl.classList.add("visible"),this.app.workspace.containerEl.ownerDocument.body.classList.add("no-scroll")};this.hide=()=>{this.overlayEl.classList.remove("visible"),this.popupEl.classList.remove("visible"),this.app.workspace.containerEl.ownerDocument.body.classList.remove("no-scroll")};this.popupEl=this.rootEl.querySelector("#detailPopup"),this.overlayEl=this.rootEl.querySelector("#detailOverlay"),this.titleEl=this.rootEl.querySelector("#popupTitle"),this.statsEl=this.rootEl.querySelector("#popupSummaryStats"),this.tableBodyEl=this.rootEl.querySelector("#popupTableBody"),this.closeBtn=this.rootEl.querySelector("#popupCloseBtn"),this.popupBodyEl=this.rootEl.querySelector(".popup-body"),this.setupEventListeners()}setupEventListeners(){this.closeBtn.addEventListener("click",this.hide),this.overlayEl.addEventListener("click",this.hide)}}});var iI,aI,X2e=Re(()=>{"use strict";iI=require("obsidian"),aI=class{constructor(e,r,n){this.containerEl=e;this.insights=r;this.onActionClick=n;this.iconMap={neutral:"info",positive:"trending-up",warning:"alert-triangle"}}render(){if(this.containerEl.replaceChildren(),this.insights.length===0){this.containerEl.createDiv({cls:"insights-placeholder"}).appendText("No specific insights found for the current period.");return}let e=this.groupInsightsByCategory();for(let r in e){let n=this.containerEl.createDiv({cls:"insight-group"});n.createEl("h3",{cls:"insight-group-title",text:r}),e[r].forEach(i=>{this.renderInsightCard(n,i)})}}groupInsightsByCategory(){return this.insights.reduce((e,r)=>{let n=r.category;return e[n]||(e[n]=[]),e[n].push(r),e},{})}renderInsightCard(e,r){let n=e.createDiv({cls:`insight-card sentiment-${r.sentiment}`}),i=n.createDiv({cls:"insight-card-header"}),a=n.createDiv({cls:"insight-card-body is-folded"}),o=this.iconMap[r.sentiment]||"info",s=i.createDiv({cls:"insight-icon"});(0,iI.setIcon)(s,o);let l=i.createDiv({cls:"insight-text"});r.displayTextFragments.forEach(u=>{u.bold?l.createEl("strong",{text:u.text}):l.appendText(u.text)});let c=this.createGraphButton(r.action);c&&i.appendChild(c),i.addEventListener("click",()=>{a.classList.toggle("is-folded"),n.classList.toggle("is-unfolded")}),r.payload&&r.payload.length>0&&r.payload.forEach(u=>{this.renderSubItem(a,u)})}renderSubItem(e,r){let n=e.createDiv({cls:"insight-sub-item"}),i=n.createDiv({cls:"insight-sub-item-header"}),a=i.createDiv({cls:"insight-sub-item-left-group"});if(r.subItems&&r.subItems.length>0){let s=a.createDiv({cls:"insight-sub-item-expander"});(0,iI.setIcon)(s,"chevron-right"),n.classList.add("is-expandable")}if(a.createEl("span",{cls:"insight-sub-item-project",text:r.project}),r.detailsFragments){let s=i.createEl("span",{cls:"insight-sub-item-details"});r.detailsFragments.forEach(l=>{(l.bold?s.createEl("strong"):s).appendText(l.text)})}let o=this.createGraphButton(r.action);if(o&&i.appendChild(o),r.subItems&&r.subItems.length>0){let s=n.createDiv({cls:"insight-nested-container"});r.subItems.forEach(l=>{this.renderNestedItem(s,l)}),i.addEventListener("click",()=>{n.classList.toggle("is-expanded")})}}renderNestedItem(e,r){let n=e.createDiv({cls:"insight-nested-item"});if(n.createEl("span",{cls:"insight-nested-item-project",text:r.project}),r.detailsFragments){let a=n.createEl("span",{cls:"insight-nested-item-details"});r.detailsFragments.forEach(o=>{(o.bold?a.createEl("strong"):a).appendText(o.text)})}let i=this.createGraphButton(r.action);i&&n.appendChild(i)}createGraphButton(e){if(!e)return null;let r=document.createElement("button");return r.className="insight-action-button clickable-icon",r.setAttribute("aria-label","View in chart"),(0,iI.setIcon)(r,"bar-chart-horizontal"),r.addEventListener("click",n=>{n.stopPropagation(),this.onActionClick(e)}),r}}});var K2e,oI,Q2e=Re(()=>{"use strict";K2e=require("obsidian");Gz();OB();y1();$2e();X2e();oI=class{constructor(e,r,n,i,a,o){this.app=e;this.rootEl=r;this.plugin=n;this.onFilterChange=i;this.onGenerateInsights=a;this.onOpenConfig=o;this.flatpickrInstance=null;this.uiStateKey="ChronoAnalyzerUIState_v5";this.insightsConfig=null;this.proTipsPanel=null;this.proTipTextEl=null;this.currentTipIndex=-1;this.proTips=['Enable "Category Coloring" in the main Full Calendar settings for the best experience. This allows ChronoAnalyser to group activities by their assigned category.','Log your activities for at least a month to unlock more powerful and accurate trend insights, like the "Lapsed Habits" detector.','Use the \u2699\uFE0F icon to create "Insight Groups" like "Work", "Learning", or "Exercise". This helps the engine understand your time on a deeper level.','Click on any item in an insight card (e.g., "Project Phoenix") to instantly filter the main chart and explore the data behind the insight.','The "Filter by Category" input is a powerful search tool. Use it to find specific tasks (e.g., "meeting") or exclude others (e.g., "-break -lunch").',"Combine filters! You can filter by Hierarchy, Project, Date Range, and Category all at once to drill down into your data."];this.showDetailPopup=(e,r,n={})=>{this.detailPopup.show(e,r,n)};this.setupEventListeners=()=>{var r,n,i,a,o,s,l,c,u,d,f,h,p,m,v,y;(r=this.rootEl.querySelector("#configureInsightsBtn"))==null||r.addEventListener("click",()=>this.onOpenConfig()),(n=this.rootEl.querySelector("#generateInsightsBtn"))==null||n.addEventListener("click",()=>this.onGenerateInsights());let e=this.rootEl.querySelector("#dateRangePicker");e&&(this.flatpickrInstance=eA(e,{mode:"range",dateFormat:"Y-m-d",altInput:!0,altFormat:"M j, Y",onChange:this.onFilterChange})),(i=this.rootEl.querySelector("#clearDatesBtn"))==null||i.addEventListener("click",this.clearDateFilters),(a=this.rootEl.querySelector("#setTodayBtn"))==null||a.addEventListener("click",()=>this.setPresetDateRange("today")),(o=this.rootEl.querySelector("#setYesterdayBtn"))==null||o.addEventListener("click",()=>this.setPresetDateRange("yesterday")),(s=this.rootEl.querySelector("#setThisWeekBtn"))==null||s.addEventListener("click",()=>this.setPresetDateRange("thisWeek")),(l=this.rootEl.querySelector("#setThisMonthBtn"))==null||l.addEventListener("click",()=>this.setPresetDateRange("thisMonth")),(c=this.rootEl.querySelector("#metricSelect"))==null||c.addEventListener("change",this.onFilterChange),(u=this.rootEl.querySelector("#analysisTypeSelect"))==null||u.addEventListener("change",()=>this.handleAnalysisTypeChange()),(d=this.rootEl.querySelector("#levelSelect_pie"))==null||d.addEventListener("change",this.onFilterChange),(f=this.rootEl.querySelector("#levelSelect"))==null||f.addEventListener("change",this.onFilterChange),(h=this.rootEl.querySelector("#patternInput"))==null||h.addEventListener("input",(0,K2e.debounce)(this.onFilterChange,300)),(p=this.rootEl.querySelector("#timeSeriesGranularitySelect"))==null||p.addEventListener("change",this.onFilterChange),(m=this.rootEl.querySelector("#timeSeriesTypeSelect"))==null||m.addEventListener("change",()=>{this.handleTimeSeriesTypeVis(),this.onFilterChange()}),(v=this.rootEl.querySelector("#timeSeriesStackingLevelSelect"))==null||v.addEventListener("change",this.onFilterChange),(y=this.rootEl.querySelector("#activityPatternTypeSelect"))==null||y.addEventListener("change",this.onFilterChange)};this.saveState=e=>{let r=i=>{var a;return(a=this.rootEl.querySelector(`#${i}`))==null?void 0:a.value},n={metric:r("metricSelect"),analysisTypeSelect:r("analysisTypeSelect"),hierarchyFilter:r("hierarchyFilterInput"),projectFilter:r("projectFilterInput"),levelSelect_pie:r("levelSelect_pie"),levelSelect:r("levelSelect"),patternInput:r("patternInput"),timeSeriesGranularity:r("timeSeriesGranularitySelect"),timeSeriesType:r("timeSeriesTypeSelect"),timeSeriesStackingLevel:r("timeSeriesStackingLevelSelect"),activityPatternType:r("activityPatternTypeSelect")};this.flatpickrInstance&&this.flatpickrInstance.selectedDates.length===2?(n.startDate=Sa(this.flatpickrInstance.selectedDates[0]),n.endDate=Sa(this.flatpickrInstance.selectedDates[1])):(n.startDate="",n.endDate=""),this.app.saveLocalStorage(this.uiStateKey,JSON.stringify(Object.fromEntries(Object.entries(n).filter(([i,a])=>a!=null))))};this.loadFilterState=()=>{let e=this.app.loadLocalStorage(this.uiStateKey);if(typeof e!="string")return;let r=this.parsePersistedState(e);if(!r){this.app.saveLocalStorage(this.uiStateKey,"");return}let n=s=>typeof s=="string"?s:void 0,i=(s,l)=>{let c=this.rootEl.querySelector(`#${s}`);if(c){let u=n(l);u!==void 0&&(c.value=u)}};i("metricSelect",r.metric),i("analysisTypeSelect",r.analysisTypeSelect),i("hierarchyFilterInput",r.hierarchyFilter),i("projectFilterInput",r.projectFilter);let a=n(r.startDate),o=n(r.endDate);if(a&&o&&this.flatpickrInstance){let s=[a,o];setTimeout(()=>{var l;return(l=this.flatpickrInstance)==null?void 0:l.setDate(s,!1)},0)}i("levelSelect_pie",r.levelSelect_pie),i("levelSelect",r.levelSelect),i("patternInput",r.patternInput),i("timeSeriesGranularitySelect",r.timeSeriesGranularity),i("timeSeriesTypeSelect",r.timeSeriesType),i("timeSeriesStackingLevelSelect",r.timeSeriesStackingLevel),i("activityPatternTypeSelect",r.activityPatternType),this.handleAnalysisTypeChange(!1)};this.handleAnalysisTypeChange=(e=!0)=>{var i,a,o,s,l,c;let r=(i=this.rootEl.querySelector("#analysisTypeSelect"))==null?void 0:i.value;["sunburstBreakdownLevelContainer","pieBreakdownLevelContainer","timeSeriesGranularityContainer","timeSeriesTypeContainer","timeSeriesStackingLevelContainer","activityPatternTypeContainer"].forEach(u=>{var d;return(d=this.rootEl.querySelector(`#${u}`))==null?void 0:d.classList.add("hidden-controls")}),r==="sunburst"?(a=this.rootEl.querySelector("#sunburstBreakdownLevelContainer"))==null||a.classList.remove("hidden-controls"):r==="pie"?(o=this.rootEl.querySelector("#pieBreakdownLevelContainer"))==null||o.classList.remove("hidden-controls"):r==="time-series"?((s=this.rootEl.querySelector("#timeSeriesGranularityContainer"))==null||s.classList.remove("hidden-controls"),(l=this.rootEl.querySelector("#timeSeriesTypeContainer"))==null||l.classList.remove("hidden-controls"),this.handleTimeSeriesTypeVis()):r==="activity"&&((c=this.rootEl.querySelector("#activityPatternTypeContainer"))==null||c.classList.remove("hidden-controls")),e&&this.onFilterChange()};this.handleTimeSeriesTypeVis=()=>{var n;let e=(n=this.rootEl.querySelector("#timeSeriesTypeSelect"))==null?void 0:n.value,r=this.rootEl.querySelector("#timeSeriesStackingLevelContainer");r&&r.classList.toggle("hidden-controls",e!=="stackedArea")};this.clearDateFilters=()=>{this.flatpickrInstance&&this.flatpickrInstance.clear(!0,!0)};this.setupProTips=()=>{if(this.proTipsPanel=this.rootEl.querySelector("#proTipsPanel"),this.proTipTextEl=this.rootEl.querySelector("#proTipText"),!this.proTipsPanel||!this.proTipTextEl)return;let e=()=>{this.proTipTextEl&&(this.proTipTextEl.removeClass("is-opaque"),this.proTipTextEl.addClass("is-transparent"),setTimeout(()=>{this.proTipTextEl&&(this.currentTipIndex=(this.currentTipIndex+1)%this.proTips.length,this.proTipTextEl.textContent=this.proTips[this.currentTipIndex],this.proTipTextEl.removeClass("is-transparent"),this.proTipTextEl.addClass("is-opaque"))},150))};e(),this.proTipsPanel.addEventListener("click",e)};this.detailPopup=new nI(this.app,this.rootEl)}initialize(){return ye(this,null,function*(){this.setupEventListeners(),this.loadFilterState(),yield this.loadInsightsConfig(),this.setupProTips()})}loadInsightsConfig(){return ye(this,null,function*(){this.insightsConfig=this.plugin.settings.chrono_analyser_config||null})}setControlPanelState(e){var r;this.rootEl.querySelector("#hierarchyFilterInput").value="",this.rootEl.querySelector("#projectFilterInput").value="",this.rootEl.querySelector("#patternInput").value="",this.rootEl.querySelector("#metricSelect").value="duration";for(let n in e)if(n==="dateRangePicker"){let i=e[n];i&&this.flatpickrInstance&&this.flatpickrInstance.setDate(i,!1)}else{let i=this.rootEl.querySelector(`#${n}`);i&&(i.value=e[n])}this.handleAnalysisTypeChange(!1),this.handleTimeSeriesTypeVis(),this.onFilterChange(),(r=this.rootEl.querySelector(".controls"))==null||r.scrollIntoView({behavior:"smooth"})}setInsightsLoading(e){var i;let r=this.rootEl.querySelector("#generateInsightsBtn"),n=this.rootEl.querySelector("#insightsResultContainer");if(!(!r||!n))if(e){r.textContent="Processing...",r.disabled=!0,r.classList.add("is-loading");let a=n;(i=a.empty)==null||i.call(a);let o=a.createDiv?a.createDiv({cls:"loading-container"}):(()=>{let l=document.createElement("div");return l.className="loading-container",n.appendChild(l),l})(),s=o.createDiv;if(s)s.call(o,{cls:"loading-spinner"}),s.call(o,{text:"Analyzing your data..."});else{let l=document.createElement("div");l.className="loading-spinner",o.appendChild(l);let c=document.createElement("div");c.textContent="Analyzing your data...",o.appendChild(c)}}else r.textContent="Generate insights",r.disabled=!1,r.classList.remove("is-loading")}renderInsights(e){let r=this.rootEl.querySelector("#insightsResultContainer");if(!r)return;new aI(r,e,i=>{this.setControlPanelState(i)}).render()}destroy(){var e;(e=this.flatpickrInstance)==null||e.destroy()}getFilterState(){var u,d,f,h,p,m,v,y;let e=((u=this.rootEl.querySelector("#metricSelect"))==null?void 0:u.value)||"duration",r=((d=this.rootEl.querySelector("#hierarchyFilterInput"))==null?void 0:d.value.trim().toLowerCase())||void 0,n=((f=this.rootEl.querySelector("#projectFilterInput"))==null?void 0:f.value.trim().toLowerCase())||void 0,i=(h=this.flatpickrInstance)==null?void 0:h.selectedDates,a=i&&i.length===2?i[0]:null,o=i&&i.length===2?i[1]:null,s=(m=(p=this.rootEl.querySelector("#patternInput"))==null?void 0:p.value)!=null?m:"",l={hierarchy:r,project:n,filterStartDate:a,filterEndDate:o,pattern:s},c=(y=(v=this.rootEl.querySelector("#analysisTypeSelect"))==null?void 0:v.value)!=null?y:null;return{filters:l,newChartType:c,metric:e}}getChartSpecificFilter(e){var r,n,i,a,o,s;switch(e){case"pie":return{chart:"pie",breakdownBy:((r=this.rootEl.querySelector("#levelSelect_pie"))==null?void 0:r.value)||"hierarchy"};case"sunburst":return{chart:"sunburst",level:((n=this.rootEl.querySelector("#levelSelect"))==null?void 0:n.value)||"project"};case"time-series":{let l=((i=this.rootEl.querySelector("#timeSeriesGranularitySelect"))==null?void 0:i.value)||"daily",c=((a=this.rootEl.querySelector("#timeSeriesTypeSelect"))==null?void 0:a.value)||"line",u=c==="stackedArea"?((o=this.rootEl.querySelector("#timeSeriesStackingLevelSelect"))==null?void 0:o.value)||"hierarchy":void 0;return{chart:"time-series",granularity:l,type:c,stackingLevel:u}}case"activity":return{chart:"activity",patternType:((s=this.rootEl.querySelector("#activityPatternTypeSelect"))==null?void 0:s.value)||"dayOfWeek"};default:return{chart:null}}}renderStats(e,r){this.rootEl.querySelector("#totalHours").textContent=typeof e=="number"?e.toFixed(2):e,this.rootEl.querySelector("#totalFiles").textContent=String(r)}updateActiveAnalysisStat(e){let r=this.rootEl.querySelector("#currentAnalysisTypeStat");r&&(r.textContent=e)}showMainContainers(){this.rootEl.querySelector("#statsGrid").classList.remove("hidden-controls"),this.rootEl.querySelector("#mainChartContainer").classList.remove("hidden-controls")}hideMainContainers(){this.rootEl.querySelector("#statsGrid").classList.add("hidden-controls"),this.rootEl.querySelector("#mainChartContainer").classList.add("hidden-controls")}parsePersistedState(e){try{let r=JSON.parse,n=r(e);return!n||typeof n!="object"?null:n}catch(r){return console.error("[ChronoAnalyzer] Error loading UI state:",r),null}}setPresetDateRange(e){let r=new Date,n,i;switch(e){case"today":n=r,i=r;break;case"yesterday":n=new Date(r),n.setDate(r.getDate()-1),i=n;break;case"thisWeek":{n=new Date(r);let a=r.getDay();n.setDate(r.getDate()-(a===0?6:a-1)),i=new Date(n),i.setDate(n.getDate()+6);break}case"thisMonth":n=new Date(r.getFullYear(),r.getMonth(),1),i=new Date(r.getFullYear(),r.getMonth()+1,0);break;default:return}this.flatpickrInstance&&this.flatpickrInstance.setDate([n,i],!0)}populateFilterDataSources(e,r){var a,o;let n=(a=this.rootEl.querySelector("#hierarchyFilterInput"))==null?void 0:a.closest(".autocomplete-wrapper");n instanceof HTMLElement&&rI(n,s=>{let l=n.querySelector("input");l&&(l.value=s),this.onFilterChange()},e);let i=(o=this.rootEl.querySelector("#projectFilterInput"))==null?void 0:o.closest(".autocomplete-wrapper");i instanceof HTMLElement&&rI(i,s=>{let l=i.querySelector("input");l&&(l.value=s),this.onFilterChange()},r)}}});function J2e(t,e,r){let{event:n,location:i}=t,a=(i==null?void 0:i.path)||`remote-event-${t.id}`,o=`${a}::${t.id}`,s="startTime"in n?n.startTime:null,l="endTime"in n?n.endTime:null,c="days"in n&&typeof n.days=="number"?n.days:void 0,u=n.type==="recurring"?RB(s,l,1):RB(s,l,c);if(typeof u!="number"||isNaN(u)||u<0)return null;let d=a.split("/").pop()||n.title,{hierarchy:f,project:h,subproject:p}=(()=>{let y=b=>{var _;let x=b.split(" - "),w=((_=x[0])==null?void 0:_.trim())||"Unknown Project",S=x.length>1?x.slice(1).join(" - ").trim():"none";return S===""&&(S="none"),{project:w,subproject:S}};if(e){if(!n.category)return{hierarchy:null,project:null,subproject:null};let x=n.category.split("/")[0]||n.category,w=n.subCategory;w||(w=n.title);let S="none";return n.subCategory&&(S=n.title),{hierarchy:x,project:w,subproject:S}}else{let b=d.endsWith(".md")?d.slice(0,-3):d,x=/^(?:\d{4}-\d{2}-\d{2}\s+)?(?:\([^)]+\)\s*)?/,w=b.replace(x,""),{project:S,subproject:_}=y(w);return{hierarchy:r,project:S,subproject:_}}})();if(!f||!h||!p)return null;let m=null;if("date"in n&&n.date){let y=new Date(n.date);isNaN(y.getTime())||(m=y)}let v=ae({},n);if(v.type==="recurring"){if(typeof v.startRecur=="string"){let y=new Date(v.startRecur);isNaN(y.getTime())||(v.startRecur=y)}if(typeof v.endRecur=="string"){let y=new Date(v.endRecur);isNaN(y.getTime())||(v.endRecur=y)}}return{_id:o,path:a,hierarchy:f,project:h,subproject:p,subprojectFull:p,duration:u,file:d,date:m,metadata:v,_effectiveDurationInPeriod:u}}var eCe=Re(()=>{"use strict";y1()});var sI,tCe=Re(()=>{"use strict";eCe();sI=class{constructor(e,r,n,i){this.eventCache=e;this.dataManager=r;this.settings=n;this.onDataReady=i;this.processingErrors=[];this.eventCacheUpdateCallback=()=>{this.repopulateDataManager(),this.onDataReady()}}initialize(){this.eventCache.on("update",this.eventCacheUpdateCallback),this.repopulateDataManager(),this.onDataReady()}repopulateDataManager(){this.dataManager.clear();let e=[],r=this.settings.enableAdvancedCategorization;for(let[n,i]of this.eventCache.calendars.entries()){if(!r&&i.type!=="local")continue;let a=i.type==="local"?n.split("::")[1]||"local":i.displayName,o=this.eventCache.store.getEventsInCalendar(n);for(let s of o){let l=J2e(s,r,a);l&&e.push(l)}}for(let n of e)this.dataManager.addRecord(n);this.dataManager.finalize()}destroy(){this.eventCache.off("update",this.eventCacheUpdateCallback)}}});var rCe,lI,nCe=Re(()=>{"use strict";rCe=500,lI=class{constructor(){}generateInsights(e,r){return ye(this,null,function*(){let n=yield this._tagRecordsInBatches(e,r),i=[],a=this._createHierarchyExtremesInsight(e);a&&(a.category="\u{1F310} GLOBAL SNAPSHOT",i.push(a));let o=this._calculateGroupDistribution(n);o&&i.push(o);let s=new Map;if(r&&r.insightGroups)for(let d in r.insightGroups)s.set(d,r.insightGroups[d].persona);let l=[],c=[],u=0;for(let d of n){let f=d._semanticTags||[],h=d.duration;f.some(p=>s.get(p)==="productivity")&&(l.push(d),u+=h),f.some(p=>s.get(p)==="wellness")&&c.push(d)}return l.length>0&&i.push(...this._generateProductivityInsights(l)),c.length>0&&i.push(...this._generateWellnessInsights(c,u)),i.length===0?[{displayTextFragments:[{text:"No insights found. Log more activities or configure your Insight Groups with Personas to unlock powerful analytics.",bold:!1}],category:"Getting Started",sentiment:"neutral",payload:null,action:null}]:i})}_buildTextFragments(e){let r=[],n=/\*\*'(.+?)'\*\*/g,i=0,a;for(;(a=n.exec(e))!==null;)a.index>i&&r.push({text:e.substring(i,a.index),bold:!1}),r.push({text:a[1],bold:!0}),i=n.lastIndex;return i<e.length&&r.push({text:e.substring(i),bold:!1}),r}_tagRecordsInBatches(e,r){return ye(this,null,function*(){let n=[];for(let i=0;i<e.length;i+=rCe){let o=e.slice(i,i+rCe).map(s=>this._tagRecord(s,r));n=n.concat(o),yield new Promise(s=>setTimeout(s,0))}return n})}_tagRecord(e,r){let n=new Set,i=!1,a=e.subproject.toLowerCase();for(let o in r.insightGroups){let s=r.insightGroups[o];if(!s||!s.rules)continue;let l=s.rules;(l.hierarchies.some(u=>u.toLowerCase()===e.hierarchy.toLowerCase())||l.projects.some(u=>u.toLowerCase()===e.project.toLowerCase())||l.subprojectKeywords.some(u=>u&&a.includes(u.toLowerCase())))&&(n.add(o),((l.mutedProjects||[]).includes(e.project)||(l.mutedSubprojectKeywords||[]).some(d=>d&&a.includes(d.toLowerCase())))&&(i=!0))}return e._semanticTags=Array.from(n),e._isMuted=i,e}_createHierarchyExtremesInsight(e){let r=new Date;r.setHours(0,0,0,0);let n=new Date(r);n.setDate(r.getDate()-7);let i=new Date(n);i.setDate(n.getDate()-30);let a=new Map,o=new Map,s=0,l=0,c=new Map;for(let b of e){if(!b.date)continue;let x=new Date(b.date);if(x.setHours(0,0,0,0),x>=n&&x<=r){s+=b.duration,a.set(b.hierarchy,(a.get(b.hierarchy)||0)+b.duration),c.has(b.hierarchy)||c.set(b.hierarchy,new Map);let w=c.get(b.hierarchy);w.set(b.project,(w.get(b.project)||0)+b.duration)}else x>=i&&x<n&&(l+=b.duration,o.set(b.hierarchy,(o.get(b.hierarchy)||0)+b.duration))}if(a.size<2||s===0)return null;let u=Array.from(a.entries()).map(([b,x])=>({name:b,hours:x})).sort((b,x)=>b.hours-x.hours),d=u[0],f=u[u.length-1];if(d.name===f.name||f.hours===0)return null;let h=f.hours/s*100,p=d.hours/s*100,m=`Last week, your main focus was **'${f.name}'** for **'${h.toFixed(0)}%'**, while **'${d.name}'** for **'${p.toFixed(0)}%'** took a backseat.`;if(l>0){let b=o.get(f.name)||0,x=o.get(d.name)||0;if(b>0||x>0){let w=b/l*100,S=x/l*100,_=` This compares to last month's **'${w.toFixed(0)}%'** on **'${f.name}'** and **'${S.toFixed(0)}%'** on **'${d.name}'**.`;m+=_}}let v=b=>{let x=c.get(b);return x?Array.from(x.entries()).sort((w,S)=>S[1]-w[1]).slice(0,3).map(([w,S])=>({project:`\u2022 ${w}`,detailsFragments:this._buildTextFragments(`${S.toFixed(1)} hours`),action:{analysisTypeSelect:"time-series",projectFilterInput:w,dateRangePicker:[n,new Date]}})):[]},y=[{project:f.name,detailsFragments:this._buildTextFragments(`**'${h.toFixed(0)}%'** (${f.hours.toFixed(1)} hours last week)`),action:{analysisTypeSelect:"pie",hierarchyFilterInput:f.name,dateRangePicker:[n,new Date],levelSelect_pie:"project"},subItems:v(f.name)},{project:d.name,detailsFragments:this._buildTextFragments(`**'${p.toFixed(0)}%'** (${d.hours.toFixed(1)} hours last week)`),action:{analysisTypeSelect:"pie",hierarchyFilterInput:d.name,dateRangePicker:[n,new Date],levelSelect_pie:"project"},subItems:v(d.name)}];return{displayTextFragments:this._buildTextFragments(m),category:"WEEKLY SNAPSHOT",sentiment:"neutral",payload:y,action:null}}_calculateGroupDistribution(e){var p;let r=new Date;r.setHours(0,0,0,0),r.setDate(r.getDate()-30);let n=new Map,i=new Map,a=0;for(let m of e){let v=m.date;if(!v)continue;let y=new Date(v);if(y.setHours(0,0,0,0),y<r)continue;a+=m.duration;let b=m._semanticTags||[];for(let x of b){n.set(x,(n.get(x)||0)+m.duration),i.has(x)||i.set(x,new Map);let w=i.get(x);w.set(m.project,(w.get(m.project)||0)+m.duration)}}if(a===0)return null;let s=Array.from(n.entries()).map(([m,v])=>({groupName:m,hours:v})).sort((m,v)=>v.hours-m.hours).slice(0,3);if(s.length===0)return null;let l=s.map(m=>`**'${m.groupName}'**`),c;if(l.length===1)c=l[0];else if(l.length===2)c=l.join(" and ");else{let m=(p=l.slice(-1)[0])!=null?p:"";c=`${l.slice(0,-1).join(", ")}, and ${m}`}let d=s.reduce((m,v)=>m+v.hours,0)/a*100,f=`Your top ${s.length===1?"activity was":"activities were"} ${c}, accounting for **'${d.toFixed(0)}%'** of your total logged time.`,h=s.map(m=>{let v=m.hours/a*100,y=i.get(m.groupName),b=[];return y&&Array.from(y.entries()).sort((x,w)=>w[1]-x[1]).slice(0,5).forEach(([x,w])=>{b.push({project:`\u2022 ${x}`,detailsFragments:this._buildTextFragments(`${w.toFixed(1)} hours`),action:{analysisTypeSelect:"time-series",projectFilterInput:x,dateRangePicker:[r,new Date]}})}),{project:m.groupName,detailsFragments:this._buildTextFragments(`**'${v.toFixed(0)}%'** (${m.hours.toFixed(1)} hours)`),action:{analysisTypeSelect:"pie",hierarchyFilterInput:m.groupName,dateRangePicker:[r,new Date],levelSelect_pie:"project"},subItems:b.length>0?b:void 0}});return{displayTextFragments:this._buildTextFragments(f),category:"Activity Overview",sentiment:"neutral",payload:h,action:null}}_generateProductivityInsights(e){var p;let r=[],n=new Date;n.setHours(0,0,0,0);let i=new Date(n);i.setDate(n.getDate()-7);let a=new Date(i);a.setDate(i.getDate()-7);let o=new Map,s=new Map,l=0;for(let m of e){if(!m.date)continue;let v=new Date(m.date);v.setHours(0,0,0,0),v>=i&&v<=n?(o.set(m.project,(o.get(m.project)||0)+m.duration),l+=m.duration):v>=a&&v<i&&s.set(m.project,(s.get(m.project)||0)+m.duration)}if(l>0){let m=0;for(let x of o.values()){let w=x/l;m+=w*w}let v="";m>.5?v="highly focused":m>.25?v="focused":m>.1?v="balanced":v="scattered";let y=[...o.entries()].sort((x,w)=>w[1]-x[1]),b=y.length>0?`'${y[0][0]}'`:"various projects";r.push({displayTextFragments:this._buildTextFragments(`Your productive time was **'${v}'** this week, with a significant portion dedicated to **${b}**.`),category:"\u{1F3AF} PRODUCTIVITY",sentiment:m>.25?"positive":"neutral",payload:null,action:null})}let c=new Map,u=new Set([...o.keys(),...s.keys()]);for(let m of u){let v=o.get(m)||0,y=s.get(m)||0;c.set(m,v-y)}let f=[...c.entries()].sort((m,v)=>Math.abs(v[1])-Math.abs(m[1])).slice(0,2).filter(m=>Math.abs(m[1])>1);if(f.length>0){let m=f.map(([v,y])=>({project:v,detailsFragments:this._buildTextFragments(`**'${y>0?"+":""}${y.toFixed(1)}'** hours vs last week`),action:{analysisTypeSelect:"time-series",projectFilterInput:v,dateRangePicker:[a,n]}}));r.push({displayTextFragments:this._buildTextFragments(`This week's biggest productivity movers were **'${f.map(v=>v[0]).join("'** and **'")}'**`),category:"\u{1F3AF} PRODUCTIVITY",sentiment:"neutral",payload:m,action:null})}let h=this._consolidateLapsedHabits(e);return h&&(h.category="\u{1F3AF} PRODUCTIVITY",h.sentiment="warning",h.displayTextFragments=this._buildTextFragments(`You have **'${(p=h.payload)==null?void 0:p.length}'** at-risk initiatives that haven't been logged in over a week.`),r.push(h)),r}_generateWellnessInsights(e,r){if(e.length<5)return[];let n=[],i=new Date;i.setHours(0,0,0,0);let a=new Date(i);a.setDate(i.getDate()-7);let o=new Date(i);o.setDate(i.getDate()-30);let s=new Map,l=new Map,c=0;for(let d of e){if(!d.date)continue;let f=new Date(d.date);f.setHours(0,0,0,0);let h=d.hierarchy,p=(m,v)=>(m.has(v)||m.set(v,{duration:0,count:0}),m.get(v));if(f>=a){let m=p(s,h);m.duration+=d.duration,m.count+=1}if(f>=o){let m=p(l,h);m.duration+=d.duration,m.count+=1,c+=d.duration}}let u=[];for(let[d,f]of s.entries()){let h=l.get(d);if(h&&h.duration>1&&h.count>3){let p=f.duration/7,m=h.duration/30;p<m*.8&&u.push({project:d,detailsFragments:this._buildTextFragments(`Time was **${((1-p/m)*100).toFixed(0)}% lower** than your 30-day average.`),action:null})}}if(u.length>0?n.push({displayTextFragments:this._buildTextFragments(`**Consistency Check:** Found deviations in ${u.length} of your wellness routines this week.`),category:"\u2764\uFE0F WELLNESS & ROUTINE",sentiment:"warning",payload:u,action:null}):s.size>0&&n.push({displayTextFragments:[{text:"Your wellness routines were consistent this week. Keep it up!",bold:!1}],category:"\u2764\uFE0F WELLNESS & ROUTINE",sentiment:"positive",payload:null,action:null}),c>0&&r>0){let d=c+r,f=c/d*100;n.push({displayTextFragments:this._buildTextFragments(`This month, wellness and routine activities made up **'${f.toFixed(0)}%'** of your tracked time.`),category:"\u2764\uFE0F WELLNESS & ROUTINE",sentiment:"neutral",payload:[{project:"Wellness & Routine Hours",detailsFragments:this._buildTextFragments(`${c.toFixed(1)} hours`),action:null},{project:"Productivity Hours",detailsFragments:this._buildTextFragments(`${r.toFixed(1)} hours`),action:null}],action:null})}return n}_consolidateLapsedHabits(e){let r=new Date;r.setHours(0,0,0,0);let n=new Date(r);n.setDate(r.getDate()-7);let i=new Date(n);i.setDate(n.getDate()-30);let a=new Set,o=new Map;for(let l of e){if(l._isMuted)continue;let c=l.date;if(!c)continue;let u=new Date(c);u.setHours(0,0,0,0),u>=n?a.add(l.project):u>=i&&o.set(l.project,(o.get(l.project)||0)+1)}let s=[];for(let[l,c]of o.entries())c>=2&&!a.has(l)&&s.push({project:l,detailsFragments:this._buildTextFragments(`(logged **'${c}'** times in the month prior)`),action:{analysisTypeSelect:"time-series",projectFilterInput:l,dateRangePicker:[i,new Date]}});return s.length===0?null:(s.sort((l,c)=>{var f,h;let u=parseInt(((f=l.detailsFragments.find(p=>p.bold))==null?void 0:f.text)||"0",10);return parseInt(((h=c.detailsFragments.find(p=>p.bold))==null?void 0:h.text)||"0",10)-u}),{displayTextFragments:this._buildTextFragments(`You have **'${s.length} activities'** that you haven't logged in over a week, but were previously consistent.`),category:"Habit Consistency",sentiment:"warning",payload:s,action:null})}}});var w1,cI,iCe=Re(()=>{"use strict";w1=require("obsidian");Y2e();Z2e();Q2e();tCe();nCe();OB();Pr();cI=class{constructor(e,r,n){this.app=e;this.plugin=n;this.activeChartType=null;this.isChartRendered=!1;this.activePieBreakdown=null;this.activeSunburstLevel=null;this.activeTimeSeriesGranularity=null;this.activeTimeSeriesType=null;this.activeActivityPattern=null;this.rootEl=r,this.dataManager=new eI,this.insightsEngine=new lI,this.uiService=new oI(e,r,n,()=>this.updateAnalysis(),()=>{this.handleGenerateInsights()},()=>this.openInsightsConfigModal()),this.dataService=new sI(this.plugin.cache,this.dataManager,this.plugin.settings,()=>this.handleDataReady())}handleGenerateInsights(){return ye(this,null,function*(){let e=this.uiService.insightsConfig;if(!e||Object.keys(e.insightGroups).length===0){new w1.Notice(W("notices.chronoAnalyserConfigureFirst"),5e3);return}new w1.Notice(W("notices.chronoAnalyserGeneratingInsights")),this.uiService.setInsightsLoading(!0);let r=this.dataManager.getAllRecords();try{let n=yield this.insightsEngine.generateInsights(r,e);this.uiService.renderInsights(n)}catch(n){console.error("Error generating insights:",n),new w1.Notice(W("notices.chronoAnalyserInsightsFailed"))}finally{this.uiService.setInsightsLoading(!1)}})}openInsightsConfigModal(){new tI(this.app,this.uiService.insightsConfig,this.dataManager.getKnownHierarchies(),this.dataManager.getKnownProjects(),e=>{this.plugin.settings.chrono_analyser_config=e,this.plugin.saveSettings(),this.uiService.insightsConfig=e,new w1.Notice(W("notices.chronoAnalyserInsightsSaved"))}).open()}initialize(){return ye(this,null,function*(){yield this.uiService.initialize(),this.plugin.cache.initialized||(new w1.Notice(W("notices.chronoAnalyserInitializing"),2e3),yield this.plugin.cache.populate()),this.dataService.initialize()})}destroy(){this.uiService.destroy(),this.dataService.destroy()}handleDataReady(){this.activeChartType=null,this.isChartRendered=!1,this.uiService.populateFilterDataSources(()=>this.dataManager.getKnownHierarchies(),()=>this.dataManager.getKnownProjects()),this.updateAnalysis()}updateAnalysis(){this.uiService.saveState(null);let{filters:e,newChartType:r,metric:n}=this.uiService.getFilterState(),i=this.uiService.getChartSpecificFilter(r),a=this.activeChartType!==r,o=!a&&this.isChartRendered;if(!a)switch(i.chart){case"pie":this.activePieBreakdown!==i.breakdownBy&&(o=!1);break;case"sunburst":this.activeSunburstLevel!==i.level&&(o=!1);break;case"time-series":(this.activeTimeSeriesGranularity!==i.granularity||this.activeTimeSeriesType!==i.type)&&(o=!1);break;case"activity":this.activeActivityPattern!==i.patternType&&(o=!1);break}let s=i.chart==="time-series"||i.chart==="activity",{records:l,totalHours:c,fileCount:u}=this.dataManager.getAnalyzedData(e,null,{expandRecurring:s});switch(this.renderUI(l,c,u,o,a,n),this.activeChartType=r,i.chart){case"pie":this.activePieBreakdown=i.breakdownBy,this.activeSunburstLevel=null,this.activeTimeSeriesGranularity=null,this.activeTimeSeriesType=null,this.activeActivityPattern=null;break;case"sunburst":this.activeSunburstLevel=i.level,this.activePieBreakdown=null,this.activeTimeSeriesGranularity=null,this.activeTimeSeriesType=null,this.activeActivityPattern=null;break;case"time-series":this.activeTimeSeriesGranularity=i.granularity,this.activeTimeSeriesType=i.type,this.activePieBreakdown=null,this.activeSunburstLevel=null,this.activeActivityPattern=null;break;case"activity":this.activeActivityPattern=i.patternType,this.activePieBreakdown=null,this.activeSunburstLevel=null,this.activeTimeSeriesGranularity=null,this.activeTimeSeriesType=null;break;default:this.activePieBreakdown=null,this.activeSunburstLevel=null,this.activeTimeSeriesGranularity=null,this.activeTimeSeriesType=null,this.activeActivityPattern=null}}renderUI(e,r,n,i,a,o){if(G2e(this.rootEl,[],this.dataManager.getTotalRecordCount()),this.dataManager.getTotalRecordCount()===0){this.uiService.hideMainContainers(),zp(this.rootEl,"No time-tracking events found in your configured Full Calendar sources."),this.isChartRendered=!1;return}if(this.uiService.showMainContainers(),e.length===0){this.uiService.renderStats("-","-"),this.uiService.updateActiveAnalysisStat("N/A"),zp(this.rootEl,"No data matches the current filters."),this.isChartRendered=!1;return}if(o==="count"){let c=e.length;this.uiService.renderStats(c,n);let u=this.rootEl.querySelector("#totalHours + .stat-label");u&&(u.textContent="Total events")}else{this.uiService.renderStats(r,n);let c=this.rootEl.querySelector("#totalHours + .stat-label");c&&(c.textContent="Total hours (filtered)")}let{newChartType:s}=this.uiService.getFilterState(),l=this.uiService.getChartSpecificFilter(s);if(this.uiService.updateActiveAnalysisStat(s?s.charAt(0).toUpperCase()+s.slice(1):"None"),!s){this.uiService.hideMainContainers();return}switch(this.isChartRendered=!0,l.chart){case"pie":{let c=this.dataManager.preparePieChartData(e,l.breakdownBy,o);B2e(this.rootEl,c,this.uiService.showDetailPopup,i,a,o);break}case"sunburst":{let c=this.dataManager.prepareSunburstData(e,l.level,o);j2e(this.rootEl,c,this.uiService.showDetailPopup,i,a,o);break}case"time-series":V2e(this.rootEl,e,i,a,o);break;case"activity":W2e(this.rootEl,e,this.uiService.showDetailPopup,i,a,o);break;default:zp(this.rootEl,`Unknown chart type: ${s}`),this.isChartRendered=!1}}}});var aCe=Re(()=>{});var oCe=Re(()=>{});var zB={};Wr(zB,{ANALYSIS_VIEW_TYPE:()=>v2,AnalysisView:()=>PB,activateAnalysisView:()=>Kit});function Kit(t){return ye(this,null,function*(){t.workspace.detachLeavesOfType(v2);let e=t.workspace.getLeavesOfType(v2);if(e.length>0){yield t.workspace.revealLeaf(e[0]);return}yield t.workspace.getLeaf("tab").setViewState({type:v2,active:!0})})}var sCe,v2,PB,FB=Re(()=>{"use strict";sCe=require("obsidian");Wre();iCe();aCe();oCe();v2="full-calendar-analysis-view",PB=class extends sCe.ItemView{constructor(r,n){super(r);this.plugin=n;this.controller=null}getViewType(){return v2}getDisplayText(){return"Chrono analyser"}getIcon(){return"bar-chart-horizontal"}onOpen(){return ye(this,null,function*(){let r=this.containerEl.children[1];r.empty(),r.addClass("chrono-analyser-view"),Vre(r);let n=new cI(this.app,r,this.plugin);this.controller=n,yield Promise.resolve(n.initialize())})}onClose(){var r;return(r=this.controller)==null||r.destroy(),this.controller=null,Promise.resolve()}}});function tat(t){return(t==null?void 0:t.type)!=="recurring"?"none":t.daysOfWeek&&t.daysOfWeek.length>0?"weekly":t.month?"yearly":t.dayOfMonth?"monthly":"none"}var ri,pt,Qit,Jit,eat,HB,lCe=Re(()=>{"use strict";da();ri=Lt(zn());b6();Pm();Pr();pt=Lt(Lr());Qit=({code:t,label:e,isSelected:r,onClick:n})=>(0,pt.jsx)("button",{type:"button",className:`day-choice-button ${r?"is-selected":""}`,onClick:()=>n(t),children:(0,pt.jsx)("b",{children:e[0]})}),Jit=()=>({U:W("settings.weekdays.sunday"),M:W("settings.weekdays.monday"),T:W("settings.weekdays.tuesday"),W:W("settings.weekdays.wednesday"),R:W("settings.weekdays.thursday"),F:W("settings.weekdays.friday"),S:W("settings.weekdays.saturday")}),eat=({value:t,onChange:e})=>{let r=Jit();return(0,pt.jsx)("div",{children:Object.entries(r).map(([n,i])=>(0,pt.jsx)(Qit,{code:n,label:i,isSelected:t.includes(n),onClick:()=>t.includes(n)?e(t.filter(a=>a!==n)):e([n,...t])},n))})};HB=({initialEvent:t,submit:e,open:r,deleteEvent:n,calendars:i,defaultCalendarIndex:a,availableCategories:o=[],enableCategory:s,enableBackgroundEvents:l=!1,enableReminders:c,onAttemptEditInherited:u})=>{var Je,nt,Ke;let d=!!(t!=null&&t.recurringEventId),f="This property is inherited. Click to edit the parent recurring event.",[h,p]=(0,ri.useState)(t?t.type==="single"?t.date:t.type==="recurring"?t.startRecur:t.type==="rrule"?t.startDate:"":""),[m]=(0,ri.useState)(t&&t.type==="single"?t.endDate:void 0),[v,y]=(0,ri.useState)((t==null?void 0:t.allDay)===!1&&t.startTime||""),[b,x]=(0,ri.useState)((t==null?void 0:t.allDay)===!1&&t.endTime||""),[w,S]=(0,ri.useState)(s?is(void 0,t==null?void 0:t.subCategory,(t==null?void 0:t.title)||""):(t==null?void 0:t.title)||""),[_,C]=(0,ri.useState)((t==null?void 0:t.category)||""),[E,M]=(0,ri.useState)(tat(t)),I=E!=="none",[L,O]=(0,ri.useState)((t==null?void 0:t.allDay)||!1),[H,Y]=(0,ri.useState)(a),[K,N]=(0,ri.useState)((t==null?void 0:t.type)==="single"&&t.completed!==void 0&&t.completed!==null||(t==null?void 0:t.type)==="recurring"&&t.isTask||(t==null?void 0:t.type)==="rrule"&&t.isTask||!1),[U,B]=(0,ri.useState)((t==null?void 0:t.type)==="single"&&t.completed),[$,ee]=(0,ri.useState)((t==null?void 0:t.type)==="recurring"?t.daysOfWeek||[]:[]),[te,he]=(0,ri.useState)((t==null?void 0:t.type)==="recurring"?t.endRecur:void 0),[we,Te]=(0,ri.useState)((t==null?void 0:t.type)==="recurring"&&t.repeatInterval||1),[ce,q]=(0,ri.useState)(((Je=t==null?void 0:t.notify)==null?void 0:Je.value)!==void 0?t.notify.value:""),X=()=>(t==null?void 0:t.type)==="recurring"&&t.repeatOn?"onThe":"dayOfMonth",[G,de]=(0,ri.useState)(X()),[ue,fe]=(0,ri.useState)((t==null?void 0:t.type)==="recurring"&&((nt=t.repeatOn)==null?void 0:nt.week)||1),[_e,Oe]=(0,ri.useState)((t==null?void 0:t.type)==="recurring"&&((Ke=t.repeatOn)==null?void 0:Ke.weekday)||0),[Ce,je]=(0,ri.useState)((t==null?void 0:t.display)||"auto"),qe=(0,ri.useRef)(null);(0,ri.useEffect)(()=>{qe.current&&qe.current.focus()},[qe]);let ot=i[H].type==="dailynote",$e=ot?W("modals.editEvent.tooltips.dailyNoteRecurring"):"";(0,ri.useEffect)(()=>{ot&&M("none")},[ot]);let Xe=Ae=>ye(null,null,function*(){Ae.preventDefault();let it=null;K&&(it=U||!1);let at=L?{allDay:!0}:{allDay:!1,startTime:v||"",endTime:b||null},ge;if(E==="none")ge={type:"single",date:h||"",endDate:m||null,completed:it};else{let ht={type:"recurring",startRecur:h||void 0,endRecur:te,isTask:K,skipDates:(t==null?void 0:t.type)==="recurring"?t.skipDates:[],repeatInterval:we>1?we:void 0};if(E==="weekly")ht.daysOfWeek=$;else if(E==="monthly"&&h)G==="onThe"?(ht.repeatOn={week:ue,weekday:_e},ht.dayOfMonth=void 0):(ht.dayOfMonth=et.fromISO(h).day,ht.repeatOn=void 0);else if(E==="yearly"&&h){let He=et.fromISO(h);ht.month=He.month,ht.dayOfMonth=He.day}ge=ht}let Ne,Le;if(s){let ht=rQ(w);Ne=ht.subCategory,Le=ht.title}else{let ht=xu(w);Ne=ht.subCategory,Le=ht.title}let St=ae(ae({title:Le,category:_||void 0,display:Ce!=="auto"?Ce:void 0,subCategory:Ne,notify:ce!==""?{value:Number(ce)}:void 0},at),ge);yield e(St,H)});return(0,pt.jsx)("div",{className:"full-calendar-edit-modal",children:(0,pt.jsxs)("form",{onSubmit:Ae=>void Xe(Ae),children:[(0,pt.jsxs)("div",{className:"modal-header",children:[(0,pt.jsx)("h2",{children:t!=null&&t.title?W("modals.editEvent.title.edit"):W("modals.editEvent.title.new")}),r&&(0,pt.jsx)("button",{type:"button",className:"mod-subtle",onClick:()=>void r(),children:W("modals.editEvent.buttons.openNote")})]}),(0,pt.jsxs)("div",{className:"setting-item",children:[(0,pt.jsx)("div",{className:"setting-item-info",children:(0,pt.jsx)("div",{className:"setting-item-name",children:W("modals.editEvent.fields.title.label")})}),(0,pt.jsx)("div",{className:`setting-item-control ${d?"is-override-disabled":""}`,onClick:d?u:void 0,title:d?f:"",children:(0,pt.jsx)("input",{ref:qe,type:"text",value:w,placeholder:W("modals.editEvent.fields.title.placeholder"),required:!0,onChange:Ae=>S(Ae.target.value),readOnly:d})})]}),s&&(0,pt.jsxs)("div",{className:"setting-item",children:[(0,pt.jsx)("div",{className:"setting-item-info",children:(0,pt.jsx)("div",{className:"setting-item-name",children:W("modals.editEvent.fields.category.label")})}),(0,pt.jsx)("div",{className:`setting-item-control ${d?"is-override-disabled":""}`,onClick:d?u:void 0,title:d?f:"",children:(0,pt.jsx)(gE,{id:"category-autocomplete",value:_,onChange:C,suggestions:o,placeholder:W("modals.editEvent.fields.category.placeholder"),readOnly:d})})]}),l&&(0,pt.jsxs)("div",{className:"setting-item",children:[(0,pt.jsx)("div",{className:"setting-item-info",title:"Choose how this event appears on the calendar",children:(0,pt.jsx)("div",{className:"setting-item-name",children:W("modals.editEvent.fields.display.label")})}),(0,pt.jsx)("div",{className:`setting-item-control ${d?"is-override-disabled":""}`,onClick:d?u:void 0,title:d?f:"",children:(0,pt.jsxs)("select",{value:Ce,onChange:Ae=>je(Ae.target.value),disabled:d,children:[(0,pt.jsx)("option",{value:"auto",children:W("modals.editEvent.fields.display.options.auto")}),(0,pt.jsx)("option",{value:"background",children:W("modals.editEvent.fields.display.options.background")}),(0,pt.jsx)("option",{value:"inverse-background",children:W("modals.editEvent.fields.display.options.inverseBackground")}),(0,pt.jsx)("option",{value:"none",children:W("modals.editEvent.fields.display.options.none")})]})})]}),(0,pt.jsxs)("div",{className:"setting-item",children:[(0,pt.jsx)("div",{className:"setting-item-info",children:(0,pt.jsx)("div",{className:"setting-item-name",children:W("modals.editEvent.fields.inCalendar.label")})}),(0,pt.jsx)("div",{className:"setting-item-control",children:(0,pt.jsx)("select",{value:H,onChange:Ae=>Y(parseInt(Ae.target.value)),children:i.map((Ae,it)=>(0,pt.jsx)("option",{value:it,children:Ae.name},it))})})]}),(0,pt.jsx)("hr",{className:"modal-hr"}),(0,pt.jsxs)("div",{className:"setting-item",children:[(0,pt.jsx)("div",{className:"setting-item-info",children:(0,pt.jsx)("div",{className:"setting-item-name",children:W("modals.editEvent.fields.date.label")})}),(0,pt.jsx)("div",{className:"setting-item-control",children:(0,pt.jsx)("input",{type:"date",value:h,required:!0,onChange:Ae=>p(Ae.target.value)})})]}),(0,pt.jsxs)("div",{className:`setting-item time-setting-item ${L?"is-disabled":""}`,children:[(0,pt.jsx)("div",{className:"setting-item-info",children:(0,pt.jsx)("div",{className:"setting-item-name",children:W("modals.editEvent.fields.time.label")})}),(0,pt.jsxs)("div",{className:"setting-item-control time-group",children:[(0,pt.jsx)("input",{type:"time",value:v,required:!L,disabled:L,onChange:Ae=>y(Ae.target.value)}),(0,pt.jsx)("span",{children:"-"}),(0,pt.jsx)("input",{type:"time",value:b,disabled:L,onChange:Ae=>x(Ae.target.value)})]})]}),(0,pt.jsxs)("div",{className:"setting-item",children:[(0,pt.jsx)("div",{className:"setting-item-info",children:(0,pt.jsx)("div",{className:"setting-item-name",children:W("modals.editEvent.fields.options.label")})}),(0,pt.jsxs)("div",{className:"setting-item-control options-group",children:[(0,pt.jsxs)("label",{title:d?f:"",children:[(0,pt.jsx)("input",{type:"checkbox",checked:L,onChange:Ae=>O(Ae.target.checked),disabled:d})," ",W("modals.editEvent.fields.options.allDay")]}),(0,pt.jsxs)("label",{children:[(0,pt.jsx)("input",{type:"checkbox",checked:K,onChange:Ae=>N(Ae.target.checked)})," ",W("modals.editEvent.fields.options.isTask")]}),K&&(0,pt.jsxs)("label",{title:I?W("modals.editEvent.tooltips.recurringTaskCompletion"):"",children:[(0,pt.jsx)("input",{type:"checkbox",checked:I?!1:!!U,onChange:Ae=>!I&&B(Ae.target.checked?et.now().toISO():!1),disabled:I})," ",W("modals.editEvent.fields.options.completed")]}),c&&(0,pt.jsxs)("div",{className:"u-flex-align-center u-gap-8px u-pl-4px",children:[(0,pt.jsx)("span",{children:W("modals.editEvent.fields.notification.label")}),(0,pt.jsx)("input",{type:"number",min:"0",max:"1440",placeholder:W("modals.editEvent.fields.notification.mins"),value:ce,onChange:Ae=>q(Ae.target.value),className:"u-w-60px"}),(0,pt.jsxs)("select",{onChange:Ae=>{let it=Ae.target.value;it&&q(it)},value:"",children:[(0,pt.jsx)("option",{value:"",disabled:!0,children:W("modals.editEvent.fields.notification.select")}),(0,pt.jsx)("option",{value:"30",children:W("modals.editEvent.fields.notification.presets.30m")}),(0,pt.jsx)("option",{value:"60",children:W("modals.editEvent.fields.notification.presets.1h")}),(0,pt.jsx)("option",{value:"360",children:W("modals.editEvent.fields.notification.presets.6h")}),(0,pt.jsx)("option",{value:"720",children:W("modals.editEvent.fields.notification.presets.12h")}),(0,pt.jsx)("option",{value:"1440",children:W("modals.editEvent.fields.notification.presets.24h")})]})]})]})]}),(0,pt.jsxs)("div",{className:"setting-item",children:[(0,pt.jsx)("div",{className:"setting-item-info",children:(0,pt.jsx)("div",{className:"setting-item-name",children:W("modals.editEvent.fields.repeats.label")})}),(0,pt.jsx)("div",{className:"setting-item-control",children:(0,pt.jsxs)("select",{value:E,onChange:Ae=>M(Ae.target.value),disabled:ot,title:$e,children:[(0,pt.jsx)("option",{value:"none",children:W("modals.editEvent.fields.repeats.options.none")}),(0,pt.jsx)("option",{value:"weekly",children:W("modals.editEvent.fields.repeats.options.weekly")}),(0,pt.jsx)("option",{value:"monthly",children:W("modals.editEvent.fields.repeats.options.monthly")}),(0,pt.jsx)("option",{value:"yearly",children:W("modals.editEvent.fields.repeats.options.yearly")})]})})]}),I&&(0,pt.jsxs)("div",{className:"setting-item",children:[(0,pt.jsx)("div",{className:"setting-item-info"}),(0,pt.jsxs)("div",{className:"setting-item-control u-flex-align-center u-gap-8px",children:[(0,pt.jsx)("span",{children:W("modals.editEvent.fields.repeats.repeatEvery")}),(0,pt.jsx)("input",{type:"number",min:"1",value:we,onChange:Ae=>Te(parseInt(Ae.target.value,10)||1),className:"u-w-60px"}),(0,pt.jsxs)("span",{children:[E==="weekly"&&(we>1?W("modals.editEvent.fields.repeats.weeks"):W("modals.editEvent.fields.repeats.week")),E==="monthly"&&(we>1?W("modals.editEvent.fields.repeats.months"):W("modals.editEvent.fields.repeats.month")),E==="yearly"&&(we>1?W("modals.editEvent.fields.repeats.years"):W("modals.editEvent.fields.repeats.year"))]})]})]}),I&&(0,pt.jsxs)(pt.Fragment,{children:[E==="weekly"&&(0,pt.jsxs)("div",{className:"setting-item",children:[(0,pt.jsx)("div",{className:"setting-item-info",children:(0,pt.jsx)("div",{className:"setting-item-name",children:W("modals.editEvent.fields.repeats.repeatOn")})}),(0,pt.jsx)("div",{className:"setting-item-control",children:(0,pt.jsx)(eat,{value:$,onChange:ee})})]}),E==="monthly"&&h&&(0,pt.jsxs)("div",{className:"setting-item",children:[(0,pt.jsx)("div",{className:"setting-item-info"}),(0,pt.jsxs)("div",{className:"setting-item-control u-display-block",children:[(0,pt.jsxs)("div",{children:[(0,pt.jsx)("input",{type:"radio",id:"monthly-day-of-month",name:"monthly-mode",value:"dayOfMonth",checked:G==="dayOfMonth",onChange:()=>de("dayOfMonth")}),(0,pt.jsxs)("label",{htmlFor:"monthly-day-of-month",children:[" ",W("modals.editEvent.fields.repeats.onDay",{day:et.fromISO(h).day})]})]}),(0,pt.jsxs)("div",{className:"u-flex-align-center u-gap-8px u-mt-8px",children:[(0,pt.jsx)("input",{type:"radio",id:"monthly-on-the",name:"monthly-mode",value:"onThe",checked:G==="onThe",onChange:()=>de("onThe")}),(0,pt.jsx)("label",{htmlFor:"monthly-on-the",children:W("modals.editEvent.fields.repeats.onThe")}),(0,pt.jsxs)("select",{value:ue,onChange:Ae=>fe(parseInt(Ae.target.value,10)),disabled:G!=="onThe",children:[(0,pt.jsx)("option",{value:"1",children:W("modals.editEvent.fields.repeats.ordinal.first")}),(0,pt.jsx)("option",{value:"2",children:W("modals.editEvent.fields.repeats.ordinal.second")}),(0,pt.jsx)("option",{value:"3",children:W("modals.editEvent.fields.repeats.ordinal.third")}),(0,pt.jsx)("option",{value:"4",children:W("modals.editEvent.fields.repeats.ordinal.fourth")}),(0,pt.jsx)("option",{value:"-1",children:W("modals.editEvent.fields.repeats.ordinal.last")})]}),(0,pt.jsx)("select",{value:_e,onChange:Ae=>Oe(parseInt(Ae.target.value,10)),disabled:G!=="onThe",children:[W("settings.weekdays.sunday"),W("settings.weekdays.monday"),W("settings.weekdays.tuesday"),W("settings.weekdays.wednesday"),W("settings.weekdays.thursday"),W("settings.weekdays.friday"),W("settings.weekdays.saturday")].map((Ae,it)=>(0,pt.jsx)("option",{value:it,children:Ae},it))})]})]})]}),E==="yearly"&&h&&(0,pt.jsxs)("div",{className:"setting-item",children:[(0,pt.jsx)("div",{className:"setting-item-info"}),(0,pt.jsx)("div",{className:"setting-item-control",children:W("modals.editEvent.fields.repeats.yearlyText",{date:et.fromISO(h).toFormat("MMMM d")})})]}),(0,pt.jsxs)("div",{className:"setting-item",children:[(0,pt.jsx)("div",{className:"setting-item-info",children:(0,pt.jsx)("div",{className:"setting-item-name",children:W("modals.editEvent.fields.repeats.endRepeat")})}),(0,pt.jsx)("div",{className:"setting-item-control",children:(0,pt.jsx)("input",{type:"date",value:te||"",onChange:Ae=>he(Ae.target.value||void 0)})})]})]}),(0,pt.jsx)("hr",{className:"modal-hr"}),(0,pt.jsxs)("div",{className:"modal-footer",children:[(0,pt.jsx)("div",{className:"footer-actions-left",children:n&&(0,pt.jsx)("button",{type:"button",className:"mod-warning",onClick:()=>void n(),children:"Delete"})}),(0,pt.jsx)("div",{className:"footer-actions-right",children:(0,pt.jsx)("button",{type:"submit",className:"mod-cta",children:"Save Event"})})]})]})})}});var ad,cCe,Zr,x1,uCe,dCe=Re(()=>{"use strict";ad=Lt(zn());Pr();da();cCe=require("obsidian");Wd();Zr=Lt(Lr()),x1=({name:t})=>{let e=ad.useRef(null);return ad.useEffect(()=>{e.current&&(0,cCe.setIcon)(e.current,t)},[t]),(0,Zr.jsx)("div",{ref:e,className:"event-details-icon"})},uCe=({event:t,calendarName:e,location:r,onClose:n,onOpenNote:i})=>{let[a,o]=ad.useState(!1),[s,l]=ad.useState([]);ad.useEffect(()=>{if(a&&t.type==="rrule"&&t.rrule)try{let v=ji(t.rrule).between(new Date,new Date(Date.now()+31536e6*2),!0,(y,b)=>b<5);l(v)}catch(m){console.error("Failed to parse RRULE",m)}},[a,t]);let c=m=>et.fromISO(m).toLocaleString({weekday:"short",year:"numeric",month:"2-digit",day:"2-digit"}),u=m=>et.fromJSDate(m).toLocaleString({weekday:"short",year:"numeric",month:"2-digit",day:"2-digit"}),d=m=>et.fromFormat(m,"HH:mm").toLocaleString(et.TIME_SIMPLE),f=t.type==="single"?c(t.date):t.type==="recurring"&&t.startRecur?c(t.startRecur):t.type==="rrule"?c(t.startDate):"",h=t.allDay?W("modals.editEvent.fields.options.allDay"):`${t.startTime?d(t.startTime):""} - ${t.endTime?d(t.endTime):""}`,p=t.type==="rrule"||t.type==="recurring";return(0,Zr.jsxs)("div",{className:"full-calendar-event-details",children:[(0,Zr.jsxs)("div",{className:"event-details-header",children:[(0,Zr.jsx)("div",{className:"event-details-icon-box",children:(0,Zr.jsx)(x1,{name:"calendar"})}),(0,Zr.jsx)("h2",{className:"event-details-title",children:t.title||W("modals.editEvent.title.edit")})]}),(0,Zr.jsxs)("div",{className:"event-details-row",children:[(0,Zr.jsx)(x1,{name:"clock"}),(0,Zr.jsxs)("div",{className:"event-details-content",children:[(0,Zr.jsxs)("span",{children:[f," ",h]}),p&&(0,Zr.jsxs)("span",{className:"event-details-action",onClick:()=>o(!a),children:[(0,Zr.jsx)(x1,{name:"refresh-ccw"}),a?"Hide series":"View series"]})]})]}),a&&s.length>0&&(0,Zr.jsxs)("div",{className:"event-details-row",children:[(0,Zr.jsx)("div",{className:"event-details-icon"})," ",(0,Zr.jsx)("div",{className:"event-details-content",children:(0,Zr.jsxs)("div",{className:"upcoming-instances",children:[(0,Zr.jsx)("strong",{children:"Upcoming Instances:"}),(0,Zr.jsx)("ul",{children:s.map((m,v)=>(0,Zr.jsx)("li",{children:u(m)},v))})]})})]}),(t.url||r&&r.path)&&(0,Zr.jsxs)("div",{className:"event-details-row",children:[(0,Zr.jsx)(x1,{name:"map-pin"}),(0,Zr.jsx)("div",{className:"event-details-content",children:t.url?(0,Zr.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"event-link",children:t.url}):r&&(0,Zr.jsx)("span",{className:"u-selectable u-clickable-accent",onClick:i,children:r.path})})]}),t.description&&(0,Zr.jsxs)("div",{className:"event-details-row",children:[(0,Zr.jsx)(x1,{name:"align-left"}),(0,Zr.jsx)("div",{className:"event-details-content description",children:t.description.split(`
`).map((m,v)=>(0,Zr.jsxs)(ad.Fragment,{children:[m,(0,Zr.jsx)("br",{})]},v))})]}),(0,Zr.jsxs)("div",{className:"event-details-row",children:[(0,Zr.jsx)(x1,{name:"calendar-days"}),(0,Zr.jsx)("div",{className:"event-details-content",children:(0,Zr.jsx)("span",{className:"u-muted",children:e})})]}),(0,Zr.jsx)("hr",{className:"modal-hr"}),(0,Zr.jsx)("div",{className:"modal-footer",children:(0,Zr.jsx)("div",{className:"footer-actions-right",children:(0,Zr.jsx)("button",{type:"button",className:"mod-cta",onClick:n,children:"Close"})})})]})}});var dI,uI,fCe=Re(()=>{"use strict";dI=require("obsidian");uI=class extends dI.Modal{constructor(r,n,i,a){super(r);this.titleText=n;this.bodyText=i;this.onConfirm=a}onOpen(){this.modalEl.addClass("full-calendar-confirm-modal");let{contentEl:r}=this;r.createEl("h2",{text:this.titleText}),r.createEl("p",{text:this.bodyText}),new dI.Setting(r).addButton(n=>n.setButtonText("Yes, open parent").setCta().onClick(()=>{this.close(),this.onConfirm()})).addButton(n=>n.setButtonText("Cancel").onClick(()=>this.close()))}onClose(){this.contentEl.empty()}}});var T1={};Wr(T1,{launchCreateModal:()=>rat,launchEditModal:()=>hCe,launchEventDetailsModal:()=>nat});function rat(t,e){let r=t.providerRegistry.getAllSources().filter(i=>i.type!=="FOR_TEST_ONLY").map(i=>{let a=t.providerRegistry.getInstance(i.id);return!a||!a.getCapabilities().canCreate?null:{id:i.id,type:i.type,name:i.name}}).filter(i=>!!i);if(r.length===0){new Fp.Notice(W("modals.event.errors.createNoCalendars"));return}let n=t.cache.getAllCategories();new xc(t.app,i=>ye(null,null,function*(){return fI.createElement(HB,{initialEvent:e,calendars:r,defaultCalendarIndex:0,availableCategories:n,enableCategory:t.settings.enableAdvancedCategorization,enableBackgroundEvents:t.settings.enableBackgroundEvents,enableReminders:t.settings.enableReminders,submit:(a,o)=>ye(null,null,function*(){let s=r[o].id;try{yield t.cache.addEvent(s,a)}catch(l){l instanceof Error&&(new Fp.Notice(W("modals.event.errors.createError",{message:l.message})),console.error(l))}i()})})})).open()}function hCe(t,e){let r=t.cache.getEventById(e);if(!r)throw new Error("Cannot edit event that doesn't exist.");let n=t.cache.store.getEventDetails(e);if(!n)throw new Error(`Cannot edit event with ID ${e} that doesn't exist in the store.`);let i=n.calendarId,a=t.providerRegistry.getAllSources().filter(l=>l.type!=="FOR_TEST_ONLY").map(l=>{let c=t.providerRegistry.getInstance(l.id);if(!c)return null;let u=c.getCapabilities();return!u.canEdit&&!u.canCreate?null:{id:l.id,type:l.type,name:l.name}}).filter(l=>!!l),o=a.findIndex(({id:l})=>l===i),s=t.cache.getAllCategories();new xc(t.app,l=>ye(null,null,function*(){let c=()=>{new uI(t.app,W("modals.event.confirmations.editParentTitle"),W("modals.event.confirmations.editParentMessage"),()=>{ye(null,null,function*(){if(r.type==="single"&&r.recurringEventId){let u=r.recurringEventId,d=`${i}::${u}`,f=yield t.cache.getSessionId(d);f?(l(),hCe(t,f)):new Fp.Notice(W("modals.event.errors.parentNotFound"))}})}).open()};return fI.createElement(HB,{initialEvent:r,calendars:a,defaultCalendarIndex:o,availableCategories:s,enableCategory:t.settings.enableAdvancedCategorization,enableBackgroundEvents:t.settings.enableBackgroundEvents,enableReminders:t.settings.enableReminders,submit:(u,d)=>ye(null,null,function*(){try{let f=a[d].id,h=n.calendarId;f!==h?yield t.cache.moveEventToCalendar(e,f,u):yield t.cache.updateEventWithId(e,u)}catch(f){f instanceof Error&&(new Fp.Notice(W("modals.event.errors.updateError",{message:f.message})),console.error(f))}l()}),open:()=>ye(null,null,function*(){yield Ld(t.cache,t.app,e),l()}),deleteEvent:()=>ye(null,null,function*(){try{yield t.cache.deleteEvent(e),l()}catch(u){u instanceof Error&&(new Fp.Notice(W("modals.event.errors.deleteError",{message:u.message})),console.error(u))}}),onAttemptEditInherited:c})})).open()}function nat(t,e){let r=t.cache.getEventById(e);if(!r){new Fp.Notice(W("modals.event.errors.eventNotFound"));return}let n=t.cache.store.getEventDetails(e);if(!n){new Fp.Notice(W("modals.event.errors.detailsNotFound"));return}let i=n.calendarId,a=t.providerRegistry.getSource(i),o=a&&a.name?a.name:W("modals.event.misc.unknownCalendar"),s=n.location;new xc(t.app,l=>ye(null,null,function*(){return fI.createElement(uCe,{event:r,calendarName:o,location:s,onClose:()=>l(),onOpenNote:s?()=>{ye(null,null,function*(){yield Ld(t.cache,t.app,e),l()})}:void 0})})).open()}var fI,Fp,S1=Re(()=>{"use strict";fI=Lt(zn());eE();Fp=require("obsidian");lCe();dCe();fCe();Uy();Pr();});var vCe={};Wr(vCe,{CalendarView:()=>UB,FULL_CALENDAR_SIDEBAR_VIEW_TYPE:()=>mCe,FULL_CALENDAR_VIEW_TYPE:()=>pCe,getCalendarColors:()=>jB});function iat(t,e){let r=!1,n;return function(...i){if(!r){r=!0,setTimeout(()=>r=!1,e);let a=t.apply(this,i);return n=a,a}return n}}function jB(t){let e=getComputedStyle(document.body).getPropertyValue("--text-on-accent");if(t){let r=t.slice(1).match(t.length==7?/(\S{2})/g:/(\S{1})/g);if(r){let n=parseInt(r[0],16),i=parseInt(r[1],16),a=parseInt(r[2],16);(n*299+i*587+a*114)/1e3>150&&(e="black")}}return{color:t||getComputedStyle(document.body).getPropertyValue("--interactive-accent"),textColor:e}}var $i,pCe,mCe,qB,UB,VB=Re(()=>{"use strict";da();$i=require("obsidian");LJ();PJ();Ah();zz();Pr();WD();Ote();Xz();pCe="full-calendar-view",mCe="full-calendar-sidebar-view",qB={timeGrid:{defaultIndex:1,levels:[{slotDuration:"01:00:00",slotLabelInterval:"01:00:00"},{slotDuration:"00:30:00",slotLabelInterval:"01:00:00"},{slotDuration:"00:15:00",slotLabelInterval:"00:30:00"},{slotDuration:"00:05:00",slotLabelInterval:"00:15:00"}]},resourceTimelineWeek:{defaultIndex:2,levels:[{slotDuration:"06:00:00",slotLabelInterval:"06:00:00"},{slotDuration:"04:00:00",slotLabelInterval:"04:00:00"},{slotDuration:"02:00:00",slotLabelInterval:"02:00:00"},{slotDuration:"01:00:00",slotLabelInterval:"01:00:00"}]},resourceTimeline:{defaultIndex:1,levels:[{slotDuration:"01:00:00",slotLabelInterval:"01:00:00"},{slotDuration:"00:30:00",slotLabelInterval:"01:00:00"},{slotDuration:"00:15:00",slotLabelInterval:"00:30:00"},{slotDuration:"00:05:00",slotLabelInterval:"00:15:00"}]}};UB=class extends $i.ItemView{constructor(r,n,i=!1){super(r);this.fullCalendarView=null;this.callback=null;this.viewEnhancer=null;this.timelineResources=null;this.dateNavigation=null;this.zoomIndexByView={};this.workspaceSwitchTimeout=null;this.plugin=n,this.inSidebar=i,this.throttledZoom=iat(this.handleWheelZoom.bind(this),100)}findBestZoomConfigKey(r){let n=null;for(let i in qB)r.startsWith(i)&&(!n||i.length>n.length)&&(n=i);return n}handleWheelZoom(r){var u;if(!this.fullCalendarView||!(r.ctrlKey||r.metaKey))return;let n=this.fullCalendarView.view.type,i=this.findBestZoomConfigKey(n);if(!i)return;r.preventDefault();let a=qB[i],o=a.levels.length-1,s=(u=this.zoomIndexByView[i])!=null?u:a.defaultIndex,l=r.deltaY<0?"in":"out",c=s;if(l==="in"&&s<o?c++:l==="out"&&s>0&&c--,c!==s){this.zoomIndexByView[i]=c;let d=a.levels[c];this.fullCalendarView.setOption("slotDuration",d.slotDuration),this.fullCalendarView.setOption("slotLabelInterval",d.slotLabelInterval)}}getIcon(){return"calendar-glyph"}getViewType(){return this.inSidebar?mCe:pCe}getDisplayText(){return this.inSidebar?"Full Calendar":"Calendar"}switchToWorkspace(r){return ye(this,null,function*(){this.workspaceSwitchTimeout&&clearTimeout(this.workspaceSwitchTimeout),this.plugin.settings.activeWorkspace=r,yield this.plugin.saveSettings(),this.workspaceSwitchTimeout=setTimeout(()=>{this.onOpen()},100)})}getWorkspaceSwitcherText(){var a;let r=(a=this.viewEnhancer)==null?void 0:a.getActiveWorkspace();if(!r)return`${W("ui.view.workspace.switcherLabel")} \u25BE`;let n=this.plugin.isMobile?8:12;return`${r.name.length>n?r.name.substring(0,n)+"...":r.name} \u25BE`}showWorkspaceSwitcher(r){let n=new $i.Menu;if(n.addItem(i=>{i.setTitle(W("ui.view.buttons.defaultView")).setIcon(this.plugin.settings.activeWorkspace===null?"check":"").onClick(()=>ye(this,null,function*(){yield this.switchToWorkspace(null)}))}),this.plugin.settings.workspaces.length>0&&(n.addSeparator(),this.plugin.settings.workspaces.forEach(i=>{n.addItem(a=>{a.setTitle(i.name).setIcon(this.plugin.settings.activeWorkspace===i.id?"check":"").onClick(()=>ye(this,null,function*(){yield this.switchToWorkspace(i.id)}))})})),r)n.showAtMouseEvent(r);else{let i=this.containerEl.getBoundingClientRect();n.showAtPosition({x:i.left+i.width/2,y:i.top+i.height/2})}}generateShadowEvents(r,n=!1){var o,s;let i=[];if(!this.plugin.settings.enableAdvancedCategorization)return i;let a=(s=(o=this.fullCalendarView)==null?void 0:o.view)==null?void 0:s.type;if(!n&&a&&!a.includes("resourceTimeline"))return i;for(let l of r)if(l.resourceId&&l.resourceId.includes("::")){let c=l.resourceId.split("::")[0],u=We(ae({},l),{id:`${l.id}-shadow`,resourceId:c,extendedProps:We(ae({},l.extendedProps),{isShadow:!0,originalEventId:l.id}),className:"fc-event-shadow",editable:!1,durationEditable:!1,startEditable:!1});i.push(u)}return i}addShadowEventsToView(){if(!(!this.plugin.settings.enableAdvancedCategorization||!this.fullCalendarView))for(let r of this.fullCalendarView.getEventSources()){let n=r.id,i=this.plugin.cache.getAllEvents().find(d=>d.id===n);if(!i)continue;let{events:a}=i,o=this.plugin.settings,s=a.map(d=>I0(d.id,d.event,o)).filter(d=>!!d),l=this.generateShadowEvents(s,!0),c=0,u=()=>{c<l.length&&requestAnimationFrame(()=>{var d;(d=this.fullCalendarView)==null||d.addEvent(l[c],n),c++,u()})};u()}}buildTimelineResources(){var u;let r=[];if(!this.plugin.settings.enableAdvancedCategorization)return r;let n=this.plugin.settings.categorySettings||[];if(!this.viewEnhancer)return r;let i=this.plugin.cache.getAllEvents(),a=this.viewEnhancer.getFilteredSources(i),o=(u=this.viewEnhancer)==null?void 0:u.getActiveWorkspace(),s=d=>{if(!(o!=null&&o.categoryFilter))return!0;let{mode:f,categories:h}=o.categoryFilter;return f==="show-only"&&h.length===0?!0:f==="show-only"?h.includes(d):!h.includes(d)};(o!=null&&o.categoryFilter?n.filter(d=>s(d.name)):n).forEach(d=>{r.push({id:d.name,title:d.name,eventColor:d.color,extendedProps:{isParent:!0}})});let c=new Map;for(let d of a)for(let f of d.events){let{category:h,subCategory:p}=f.event;if(h){if(!s(h))continue;c.has(h)||c.set(h,new Set);let m=p||"__NONE__";c.get(h).add(m)}}for(let[d,f]of c.entries())if(s(d)){r.find(h=>h.id===d)||r.push({id:d,title:d,extendedProps:{isParent:!0}});for(let h of f)r.push({id:`${d}::${h}`,title:h==="__NONE__"?"(none)":h,parentId:d,extendedProps:{}})}return r}removeShadowEventsFromView(){if(!this.fullCalendarView)return;this.fullCalendarView.getEvents().forEach(n=>{n.extendedProps.isShadow&&n.remove()})}onOpen(){return ye(this,null,function*(){var u,d,f,h,p;if(yield this.plugin.loadSettings(),!this.plugin.cache){new $i.Notice(W("ui.view.errors.cacheNotLoaded"));return}this.plugin.cache.initialized||(yield this.plugin.cache.populate()),this.viewEnhancer=new GD(this.plugin.settings);let r=this.containerEl.children[1];r.empty();let n=r.createEl("div");if(this.registerDomEvent(n,"wheel",m=>{this.throttledZoom(m)},{passive:!1}),this.plugin.settings.calendarSources.filter(m=>m.type!=="FOR_TEST_ONLY").length===0){OJ(this.plugin,n);return}if(!this.viewEnhancer){new $i.Notice(W("ui.view.errors.viewEnhancerNotInitialized"));return}let i=this.plugin.cache.getAllEvents(),{sources:a,config:o}=this.viewEnhancer.getEnhancedData(i);this.fullCalendarView&&(this.fullCalendarView.destroy(),this.fullCalendarView=null);let{renderCalendar:s}=yield Promise.resolve().then(()=>(Bre(),Ure)),l="",c=()=>{var x,w,S,_,C,E,M;let m=((w=(x=this.fullCalendarView)==null?void 0:x.view)==null?void 0:w.type)||"",v=l.includes("resourceTimeline"),y=m.includes("resourceTimeline");v!==y&&(y?(this.timelineResources||(this.timelineResources=this.buildTimelineResources(),(S=this.fullCalendarView)==null||S.setOption("resources",this.timelineResources),(_=this.fullCalendarView)==null||_.setOption("resourcesInitiallyExpanded",!1)),this.addShadowEventsToView()):this.removeShadowEventsFromView());let b=this.findBestZoomConfigKey(m);if(b){let I=qB[b],L=(C=this.zoomIndexByView[b])!=null?C:I.defaultIndex,O=I.levels[L];(E=this.fullCalendarView)==null||E.setOption("slotDuration",O.slotDuration),(M=this.fullCalendarView)==null||M.setOption("slotLabelInterval",O.slotLabelInterval)}l=m};this.fullCalendarView=yield s(n,a,{forceNarrow:this.inSidebar,enableAdvancedCategorization:this.plugin.settings.enableAdvancedCategorization,onViewChange:c,initialView:o.initialView,businessHours:(()=>{let m=o.businessHours||this.plugin.settings.businessHours;return m.enabled?{daysOfWeek:m.daysOfWeek,startTime:m.startTime,endTime:m.endTime}:!1})(),firstDay:o.firstDay,timeFormat24h:o.timeFormat24h,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,weekends:o.weekends,hiddenDays:o.hiddenDays,dayMaxEvents:o.dayMaxEvents,customButtons:{workspace:{text:this.getWorkspaceSwitcherText(),click:m=>{m&&this.showWorkspaceSwitcher(m)}},analysis:{text:W("ui.view.buttons.analysis"),click:()=>{ye(this,null,function*(){if(this.plugin.isMobile){new $i.Notice(W("ui.view.errors.chronoAnalyserDesktopOnly"));return}try{let{activateAnalysisView:m}=yield Promise.resolve().then(()=>(FB(),zB));yield m(this.plugin.app)}catch(m){console.error("Full Calendar: Failed to activate Chrono Analyser view",m),new $i.Notice(W("ui.view.errors.chronoAnalyserFailed"))}})}}},eventClick:m=>{ye(this,null,function*(){try{if(m.jsEvent.getModifierState("Control")||m.jsEvent.getModifierState("Meta")){let{openFileForEvent:x}=yield Promise.resolve().then(()=>(Uy(),XO));yield x(this.plugin.cache,this.app,m.event.id);return}if(!this.plugin.cache.isEventEditable(m.event.id)){let{launchEventDetailsModal:x}=yield Promise.resolve().then(()=>(S1(),T1));x(this.plugin,m.event.id);return}let v=this.plugin.cache.store.getEventDetails(m.event.id);if(!v)return;let{calendarId:y}=v,b=this.plugin.providerRegistry.getCapabilities(y);if(b!=null&&b.hasCustomEditUI){let x=this.plugin.providerRegistry.getInstance(y);if(x&&"editInProviderUI"in x&&typeof x.editInProviderUI=="function")yield x.editInProviderUI(m.event.id);else{console.error(`Provider for ${y} claims hasCustomEditUI but method is not implemented.`);let{launchEditModal:w}=yield Promise.resolve().then(()=>(S1(),T1));w(this.plugin,m.event.id)}}else{let{launchEditModal:x}=yield Promise.resolve().then(()=>(S1(),T1));x(this.plugin,m.event.id)}}catch(v){v instanceof Error&&(console.warn(v),new $i.Notice(v.message))}})},select:(m,v,y,b)=>ye(this,null,function*(){var w,S;b==="dayGridMonth"&&v.setDate(v.getDate()-1);let x=gCe(m,v,y);try{if(this.plugin.settings.clickToCreateEventFromMonthView||b!=="dayGridMonth"){let{launchCreateModal:_}=yield Promise.resolve().then(()=>(S1(),T1));_(this.plugin,x)}else(w=this.fullCalendarView)==null||w.changeView("timeGridDay"),(S=this.fullCalendarView)==null||S.gotoDate(m)}catch(_){_ instanceof Error&&(console.error(_),new $i.Notice(_.message))}}),modifyEvent:(m,v,y)=>ye(this,null,function*(){try{let b=this.plugin.cache.getEventById(v.id);if(!b)throw new Error("Original event not found in cache.");if(b.type==="single"&&b.recurringEventId){let x=v.start?et.fromJSDate(v.start).toISODate():null,w=m.start?et.fromJSDate(m.start).toISODate():null;if(x&&w&&x!==w)return new $i.Notice(W("ui.view.errors.moveRecurringDayError"),6e3),!1}if(b.type==="rrule"||b.type==="recurring"){let x=v.start?et.fromJSDate(v.start).toISODate():null,w=m.start?et.fromJSDate(m.start).toISODate():null;if(x&&w&&x!==w)return new $i.Notice(W("ui.view.errors.moveRecurringInstanceError"),6e3),!1;if(!v.start)throw new Error("Recurring instance is missing original start date.");let S=et.fromJSDate(v.start).toISODate();if(!S)throw new Error("Could not determine instance date from recurring event.");let _=BB(m,y);return yield this.plugin.cache.modifyRecurringInstance(v.id,S,_),!0}else return!!(yield this.plugin.cache.updateEventWithId(v.id,BB(m,y)))}catch(b){return console.error(b),b instanceof Error?new $i.Notice(b.message):new $i.Notice(W("ui.view.errors.modifyEventFailed")),!1}}),eventMouseEnter:m=>{var v;try{let y=(v=this.plugin.cache.store.getEventDetails(m.event.id))==null?void 0:v.location;y&&this.app.workspace.trigger("hover-link",{event:m.jsEvent,source:bE,hoverParent:n,targetEl:m.jsEvent.target,linktext:y.path,sourcePath:y.path})}catch(y){}},openContextMenuForEvent:(m,v)=>ye(this,null,function*(){let y=new $i.Menu;if(!this.plugin.cache)return;let b=this.plugin.cache.getEventById(m.id);if(b){if(this.plugin.cache.isEventEditable(m.id)){let x=yield Promise.resolve().then(()=>(qE(),Z6));x.isTask(b)?y.addItem(w=>w.setTitle(W("ui.view.contextMenu.removeCheckbox")).onClick(()=>ye(this,null,function*(){yield this.plugin.cache.processEvent(m.id,x.unmakeTask)}))):y.addItem(w=>w.setTitle(W("ui.view.contextMenu.turnIntoTask")).onClick(()=>ye(this,null,function*(){yield this.plugin.cache.processEvent(m.id,S=>x.toggleTask(S,!1))}))),y.addSeparator(),y.addItem(w=>w.setTitle(W("ui.view.contextMenu.goToNote")).onClick(()=>{this.plugin.cache&&Promise.resolve().then(()=>(Uy(),XO)).then(({openFileForEvent:S})=>S(this.plugin.cache,this.app,m.id))})),y.addItem(w=>w.setTitle(W("ui.view.contextMenu.delete")).onClick(()=>ye(this,null,function*(){if(!this.plugin.cache)return;let S=this.plugin.cache.getEventById(m.id);if(S&&(S.type==="recurring"||S.type==="rrule")&&m.start){let _=m.start instanceof Date?m.start.toISOString().slice(0,10):void 0;yield this.plugin.cache.deleteEvent(m.id,{instanceDate:_})}else yield this.plugin.cache.deleteEvent(m.id);new $i.Notice(W("ui.view.success.deletedEvent",{title:m.title}))})))}else y.addItem(x=>{x.setTitle(W("ui.view.contextMenu.noActions")).setDisabled(!0)});y.showAtMouseEvent(v)}}),toggleTask:(m,v)=>ye(this,null,function*(){let y=m.id,b=this.plugin.cache.store.getEventDetails(y);if(!b)return!1;let{event:x,calendarId:w}=b,S=this.plugin.providerRegistry.getInstance(w);if(S&&S.toggleComplete)return yield S.toggleComplete(y,v);if(!(x.type==="recurring"||x.type==="rrule"||x.recurringEventId)){let{toggleTask:E}=yield Promise.resolve().then(()=>(qE(),Z6));return yield this.plugin.cache.updateEventWithId(y,E(x,v)),!0}if(!m.start)return!1;let C=et.fromJSDate(m.start).toISODate();if(!C)return!1;try{return yield this.plugin.cache.toggleRecurringInstance(y,C,v),!0}catch(E){return E instanceof Error&&new $i.Notice(E.message),!1}}),dateRightClick:(m,v)=>{var y;!this.dateNavigation&&this.fullCalendarView&&(this.dateNavigation=O0(this.fullCalendarView,n)),(y=this.dateNavigation)==null||y.showDateContextMenu(v,m)},viewRightClick:(m,v)=>{var y;!this.dateNavigation&&this.fullCalendarView&&(this.dateNavigation=O0(this.fullCalendarView,n)),(y=this.dateNavigation)==null||y.showViewContextMenu(m,v)},drop:(m,v)=>ye(this,null,function*(){try{if(!this.plugin.cache)throw new Error("Event cache not available");let y=yield this.plugin.cache.validateTaskSchedule(m,v);if(!y.isValid){new $i.Notice(y.reason||"This task cannot be scheduled on this date.");return}yield this.plugin.cache.scheduleTask(m,v),new $i.Notice(W("ui.view.success.taskScheduled"));let b=this.app.workspace.getLeavesOfType(lf);for(let x of b)x.view instanceof sv&&x.view.refresh();this.onOpen()}catch(y){console.error("Failed to schedule task:",y);let b=y instanceof Error?y.message:"Unknown error occurred";new $i.Notice(W("ui.view.errors.taskScheduleFailed",{message:b}))}})}),l=((d=(u=this.fullCalendarView)==null?void 0:u.view)==null?void 0:d.type)||"",l.includes("resourceTimeline")&&(this.timelineResources||(this.timelineResources=this.buildTimelineResources(),(f=this.fullCalendarView)==null||f.setOption("resources",this.timelineResources),(h=this.fullCalendarView)==null||h.setOption("resourcesInitiallyExpanded",!1)),this.addShadowEventsToView()),window.fc=(p=this.fullCalendarView)!=null?p:void 0,this.fullCalendarView&&!this.dateNavigation&&(this.dateNavigation=O0(this.fullCalendarView,n)),this.registerDomEvent(this.containerEl,"mouseenter",()=>{this.plugin.providerRegistry.revalidateRemoteCalendars()}),this.callback&&(this.plugin.cache.off("update",this.callback),this.callback=null),this.callback=this.plugin.cache.on("update",m=>{var x;if(!this.viewEnhancer||!this.fullCalendarView)return;if(m.type==="resync"){this.viewEnhancer.updateSettings(this.plugin.settings);let w=this.plugin.cache.getAllEvents(),{sources:S}=this.viewEnhancer.getEnhancedData(w);requestAnimationFrame(()=>{this.fullCalendarView&&(this.fullCalendarView.removeAllEventSources(),S.forEach(_=>this.fullCalendarView.addEventSource(_)))});return}this.viewEnhancer.updateSettings(this.plugin.settings);let v=this.plugin.cache.getAllEvents(),{sources:y}=this.viewEnhancer.getEnhancedData(v);this.fullCalendarView&&requestAnimationFrame(()=>{this.fullCalendarView&&(this.fullCalendarView.removeAllEventSources(),y.forEach(w=>this.fullCalendarView.addEventSource(w)))});let b=(x=this.fullCalendarView.view)==null?void 0:x.type;b&&b.includes("resourceTimeline")&&this.addShadowEventsToView()})})}onResize(){this.fullCalendarView&&requestAnimationFrame(()=>{this.fullCalendarView.render()})}onunload(){this.fullCalendarView&&(this.fullCalendarView.destroy(),this.fullCalendarView=null),this.dateNavigation&&(this.dateNavigation.destroy(),this.dateNavigation=null),this.callback&&(this.plugin.cache.off("update",this.callback),this.callback=null)}}});function gCe(t,e,r){let n=_1(t),i=_1(e);return ae({type:"single",date:n,endDate:n!==i?i:void 0,allDay:r},r?{}:{startTime:hI(t),endTime:hI(e)})}function I0(t,e,r){var a,o;let n=e.subCategory?`${e.subCategory} - ${e.title}`:e.title,i=ae({id:t,title:n,allDay:e.allDay,extendedProps:{uid:e.uid,recurringEventId:e.recurringEventId,category:e.category,subCategory:e.subCategory,cleanTitle:e.title,isShadow:!1}},e.display&&{display:e.display});if(r.enableAdvancedCategorization&&e.category){let s=(r.categorySettings||[]).find(c=>c.name===e.category);if(s){let{color:c,textColor:u}=jB(s.color);i.color=c,i.textColor=u}let l=e.subCategory||"__NONE__";i.resourceId=`${e.category}::${l}`}if(e.type==="recurring"){let s=e.timezone||r.displayTimezone||et.local().zoneName,l=e.startRecur||et.local().startOf("year").toISODate()||et.local().toISODate()||"2025-01-01",c;if(e.allDay)c=et.fromISO(l,{zone:s}).startOf("day");else{let m=yg(e.startTime);if(!m)return null;c=et.fromISO(l,{zone:s}).set({hour:m.hours,minute:m.minutes,second:0,millisecond:0})}let u,d={U:"SU",M:"MO",T:"TU",W:"WE",R:"TH",F:"FR",S:"SA"},f=["SU","MO","TU","WE","TH","FR","SA"];if((a=e.daysOfWeek)!=null&&a.length)u=`FREQ=WEEKLY;BYDAY=${e.daysOfWeek.map(v=>d[v]).join(",")}`;else if(e.repeatOn){let m=f[e.repeatOn.weekday],v=e.repeatOn.week;u=`FREQ=MONTHLY;BYDAY=${m};BYSETPOS=${v}`}else if(e.month&&e.dayOfMonth)u=`FREQ=YEARLY;BYMONTH=${e.month};BYMONTHDAY=${e.dayOfMonth}`;else if(e.dayOfMonth)u=`FREQ=MONTHLY;BYMONTHDAY=${e.dayOfMonth}`;else return console.error("FullCalendar: invalid recurring event frontmatter.",e),null;if(e.repeatInterval&&e.repeatInterval>1&&(u+=`;INTERVAL=${e.repeatInterval}`),e.endRecur){let m=et.fromISO(e.endRecur,{zone:s}).endOf("day"),v=ji(`RRULE:${u}`,{dtstart:c.toJSDate()}).after(c.toJSDate(),!0);if(v){let y=et.fromJSDate(v,{zone:s});if(m>=y.startOf("day")){let b=m.toUTC().toFormat("yyyyMMdd'T'HHmmss'Z'");u+=`;UNTIL=${b}`}}}let h=`DTSTART;TZID=${s}:${c.toFormat("yyyyMMdd'T'HHmmss")}`,p=(e.skipDates||[]).map(m=>{if(e.allDay){let v=et.fromISO(m,{zone:s}).startOf("day");return`EXDATE;TZID=${s}:${v.toFormat("yyyyMMdd'T'HHmmss")}`}else{let v=yg(e.startTime);if(!v)return null;let y=et.fromISO(m,{zone:s}).set({hour:v.hours,minute:v.minutes,second:0,millisecond:0});return`EXDATE;TZID=${s}:${y.toFormat("yyyyMMdd'T'HHmmss")}`}}).filter(Boolean);if(i.rrule=[h,`RRULE:${u}`,...p].join(`
`),!e.allDay&&e.startTime&&e.endTime){let m=yg(e.startTime),v=yg(e.endTime);if(m&&v){let y=et.fromISO(gg(e.startRecur||"2025-01-01",e.startTime)),b=et.fromISO(gg(e.endDate||e.startRecur||"2025-01-01",e.endTime));b<y&&(b=b.plus({days:1}));let x=b.diff(y);x.as("milliseconds")>0&&(i.duration=x.toFormat("hh:mm"))}}i.extendedProps=We(ae({},i.extendedProps),{isTask:!!e.isTask}),i.allDay=!!e.allDay}else if(e.type==="rrule"){let s=e,l=e.title==="123123";l&&(console.debug('[FC DEBUG] toEventInput processing rrule event "123123"'),console.debug("[FC DEBUG] Input frontmatter:",JSON.stringify(e,null,2)),console.debug("[FC DEBUG] Settings displayTimezone:",r.displayTimezone));let c=e.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone,u=r.displayTimezone||Intl.DateTimeFormat().resolvedOptions().timeZone;l&&(console.debug("[FC DEBUG] sourceZone:",c),console.debug("[FC DEBUG] displayZone:",u));let d=e.allDay?null:gg(s.startDate,s.startTime);if(!e.allDay&&!d)return null;let f=e.allDay?et.fromISO(s.startDate,{zone:c}):et.fromISO(d,{zone:c});if(!f.isValid)return console.error(`Invalid start date for rrule event "${e.title}": ${f.invalidReason}`,{startDate:s.startDate,startTime:s.startTime,sourceZone:c}),null;let h=f.setZone(u);if(!h.isValid)return console.error(`Invalid date after timezone conversion for rrule event "${e.title}": ${h.invalidReason}`,{sourceZone:c,displayZone:u}),null;let p=h.ordinal-f.ordinal+(h.year-f.year)*365;l&&(console.debug("[FC DEBUG] dtInSource:",f.toString()),console.debug("[FC DEBUG] dtInSource weekday:",f.weekdayLong),console.debug("[FC DEBUG] dtInDisplay:",h.toString()),console.debug("[FC DEBUG] dtInDisplay weekday:",h.weekdayLong),console.debug("[FC DEBUG] dayOffset:",p));let m=e.rrule;if(p!==0&&m.includes("BYDAY=")){let w=["MO","TU","WE","TH","FR","SA","SU"],S=m.match(/BYDAY=([A-Z,]+)/);if(S){let _=S[1].split(","),C=_.map(E=>{let M=w.indexOf(E);if(M===-1)return E;let I=(M+p)%7;return I<0&&(I+=7),w[I]});m=m.replace(/BYDAY=[A-Z,]+/,`BYDAY=${C.join(",")}`),l&&(console.debug("[FC DEBUG] Original BYDAY:",_),console.debug("[FC DEBUG] Adjusted BYDAY:",C),console.debug("[FC DEBUG] Adjusted rrule:",m))}}let v=h;l&&(console.debug("[FC DEBUG] Final dtstart:",v.toString()),console.debug("[FC DEBUG] dtstart weekday:",v.weekdayLong));let y=(s.skipDates||[]).filter(w=>w&&w.trim()!=="").map(w=>{if(e.allDay){let E=et.fromISO(w,{zone:u});if(!E.isValid)return console.warn(`Invalid skip date "${w}" for all-day event: ${E.invalidReason}`),null;let M=new Date(Date.UTC(E.year,E.month-1,E.day,0,0,0,0));return isNaN(M.getTime())?(console.warn(`Invalid Date object created from all-day skip date "${w}"`),null):M.toISOString()}if(!s.startTime)return console.warn(`Missing startTime for timed event skip date "${w}"`),null;let S=et.fromISO(`${w}T${s.startTime}`,{zone:c});if(!S.isValid)return console.warn(`Invalid skip date "${w}" with start time "${s.startTime}" in timezone "${c}": ${S.invalidReason}`),null;let _=S.setZone(u);if(!_.isValid)return console.warn(`Invalid date after timezone conversion from "${c}" to "${u}": ${_.invalidReason}`),null;let C=new Date(Date.UTC(_.year,_.month-1,_.day,_.hour,_.minute,_.second,_.millisecond));return isNaN(C.getTime())?(console.warn(`Invalid Date object created from skip date "${w}" with components: year=${_.year}, month=${_.month}, day=${_.day}`),null):C.toISOString()}).flatMap(w=>w?[w]:[]),b=`DTSTART;TZID=${u}:${v.toFormat("yyyyMMdd'T'HHmmss")}`,x=m;if(l&&(console.debug("[FC DEBUG] dtstartString:",b),console.debug("[FC DEBUG] rruleString (adjusted):",x),console.debug("[FC DEBUG] Combined rrule for FullCalendar:",[b,x].join(`
`)),console.debug("[FC DEBUG] exdates:",y)),i.rrule=[b,x].join(`
`),i.exdate=y,i.extendedProps=We(ae({},i.extendedProps),{isTask:!!e.isTask}),!e.allDay&&yg(e.startTime)&&e.endTime&&yg(e.endTime)){let _=et.fromISO(gg(e.startDate,e.startTime),{zone:c}),C=et.fromISO(gg(e.endDate||e.startDate,e.endTime),{zone:c});C<_&&(C=C.plus({days:1}));let E=C.diff(_);E.as("milliseconds")>0&&(i.duration=E.toISOTime({includePrefix:!1,suppressMilliseconds:!0,suppressSeconds:!0}),l&&(console.debug("[FC DEBUG] startDt (source):",_.toString()),console.debug("[FC DEBUG] endDt (source):",C.toString()),console.debug("[FC DEBUG] Calculated duration:",i.duration)))}l&&console.debug("[FC DEBUG] Final baseEvent for FullCalendar:",JSON.stringify(i,null,2))}else if(e.type==="single")if(e.allDay){let s;e.endDate&&(s=(o=et.fromISO(e.endDate).plus({days:1}).toISODate())!=null?o:void 0),i.start=e.date,i.end=s,i.extendedProps=We(ae({},i.extendedProps),{isTask:e.completed!==void 0&&e.completed!==null,taskCompleted:e.completed})}else{let s=gg(e.date,e.startTime);if(!s)return null;let l;if(e.endTime&&(l=gg(e.endDate||e.date,e.endTime),!l))return null;i.start=s,i.end=l,i.extendedProps=We(ae({},i.extendedProps),{isTask:e.completed!==void 0&&e.completed!==null,taskCompleted:e.completed})}return i}function BB(t,e){let r=t.extendedProps.category,n=t.extendedProps.subCategory,i=e||(()=>{var d;return(d=t.resource)==null?void 0:d.id})();if(i){let u=i.split("::");u.length===2?(r=u[0],n=u[1]==="__NONE__"?void 0:u[1]):(r=i,n=void 0)}let a=t.extendedProps.daysOfWeek!==void 0,o=_1(t.start),s=t.end?_1(new Date(t.end.getTime()-1)):o,l=t.extendedProps||{},c=l.taskCompleted;return ae(ae({uid:l.uid,title:l.cleanTitle||t.title,category:r,subCategory:n,recurringEventId:l.recurringEventId},t.allDay?{allDay:!0}:{allDay:!1,startTime:hI(t.start),endTime:hI(t.end)}),a?{type:"recurring",endDate:null,daysOfWeek:l.daysOfWeek.map(u=>oat[u]),startRecur:l.startRecur?_1(l.startRecur):void 0,endRecur:l.endRecur?_1(l.endRecur):void 0,skipDates:[],isTask:l.isTask}:We(ae({type:"single",date:o},o!==s?{endDate:s}:{endDate:null}),{completed:l.isTask?c!=null?c:!1:c}))}var yg,aat,hI,_1,gg,oat,WD=Re(()=>{"use strict";Wd();da();VB();yg=t=>{let e=et.fromFormat(t,"h:mm a");if(e.invalidReason&&(e=et.fromFormat(t,"HH:mm")),e.invalidReason&&(e=et.fromFormat(t,"HH:mm:ss")),e.invalidReason)return console.error(`FC: Error parsing time string '${t}': ${e.invalidReason}'`),null;let r=e.toISOTime({includeOffset:!1,includePrefix:!1});return r?Xn.fromISOTime(r):(console.error(`FC: Could not convert parsed time to ISO for '${t}'`),null)},aat=(t,e)=>{let r=e.hours,n=e.minutes;return t.set({hour:r,minute:n})},hI=t=>{let e=et.fromJSDate(t).toISOTime({suppressMilliseconds:!0,includeOffset:!1,suppressSeconds:!0});return e||(console.error("FC: Invalid time conversion from date:",t),"")},_1=t=>{var e;return(e=et.fromJSDate(t).toISODate())!=null?e:""},gg=(t,e)=>{let r=et.fromISO(t);if(r.invalidReason)return console.error(`FC: Error parsing time string '${t}': ${r.invalidReason}`),null;let n=yg(e);return n?aat(r,n).toISO({includeOffset:!1,suppressMilliseconds:!0}):null},oat="UMTWRFS"});function wCe(t){return t.startsWith(y2)&&t.slice(3).indexOf(y2)!==-1}function sat(t){return wCe(t)?t.split(y2)[1]:null}function lat(t){return wCe(t)?t.split(y2).slice(2).join(y2):t}function WB(t,e){let r=lat(t);return!e||e.trim()===""?r:`---
${e.trim()}
---${r}`}function cat(t,e){return e===null?`${t}:`:Array.isArray(e)?`${t}: [${e.join(",")}]`:typeof e=="object"?`${t}: ${JSON.stringify(e)}`:`${t}: ${e}`}function GB(t){let e=ae({},t);return e.type==="single"&&delete e.type,e.allDay||delete e.allDay,delete e.uid,Object.entries(e).filter(([r,n])=>n!==void 0).map(([r,n])=>cat(r,n)).join(`
`)}function xCe(t,e){let r=sat(t),n=r?(0,bCe.parseYaml)(r):{},i=ae(ae({},n),e);return Object.keys(i).forEach(a=>{(i[a]===null||i[a]===void 0)&&delete i[a]}),WB(t,GB(i))}var bCe,y2,TCe=Re(()=>{"use strict";bCe=require("obsidian");y2="---"});function b2({value:t,onChange:e,readOnly:r,placeholder:n,required:i}){return(0,SCe.jsx)("input",{type:"text",value:t||"",onChange:a=>e(a.target.value),readOnly:r,placeholder:n,required:i})}var SCe,YB=Re(()=>{"use strict";SCe=Lt(Lr())});function _Ce({value:t,onChange:e,directories:r,readOnly:n}){if(n)return(0,C1.jsx)(b2,{value:t||"",onChange:()=>{},readOnly:!0});let i=[...r];return i.sort(),(0,C1.jsxs)("select",{required:!0,value:t||"",onChange:a=>e(a.target.value),children:[(0,C1.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Choose a directory"}),i.map((a,o)=>(0,C1.jsx)("option",{value:a,children:a},o))]})}var C1,CCe=Re(()=>{"use strict";YB();C1=Lt(Lr())});var ZB,nl,kCe,ECe=Re(()=>{"use strict";ZB=Lt(zn());CCe();Pr();nl=Lt(Lr()),kCe=({config:t,onConfigChange:e,context:r,onSave:n,onClose:i})=>{let[a,o]=ZB.useState(t.directory||""),[s,l]=ZB.useState(!1);return(0,nl.jsxs)("form",{onSubmit:u=>{u.preventDefault(),a&&(l(!0),n(We(ae({},t),{id:t.id||"",directory:a})))},children:[(0,nl.jsxs)("div",{className:"setting-item",children:[(0,nl.jsxs)("div",{className:"setting-item-info",children:[(0,nl.jsx)("div",{className:"setting-item-name",children:W("settings.calendars.fullNote.directory.label")}),(0,nl.jsx)("div",{className:"setting-item-description",children:W("settings.calendars.fullNote.directory.description")})]}),(0,nl.jsx)("div",{className:"setting-item-control",children:(0,nl.jsx)(_Ce,{value:a,onChange:u=>{o(u),e(We(ae({},t),{directory:u}))},directories:r.allDirectories})})]}),(0,nl.jsxs)("div",{className:"setting-item",children:[(0,nl.jsx)("div",{className:"setting-item-info"}),(0,nl.jsx)("div",{className:"setting-item-control",children:(0,nl.jsx)("button",{className:"mod-cta",type:"submit",disabled:s||!a,children:W("ui.buttons.addCalendar")})})]})]})}});var MCe={};Wr(MCe,{FullNoteProvider:()=>w2});function dat(t){return t.replace(/[\\/:"*?<>|]/g," ").replace(/\s+/g," ").trim()}function ACe(t,e,r){let n=(0,Hp.normalizePath)(`${e}/${r}.md`);if(!t.getAbstractFileByPath(n))return n;let i=1;for(;;){let a=`${hat}${i}`;if(n=(0,Hp.normalizePath)(`${e}/${r}${a}.md`),!t.getAbstractFileByPath(n))return n;i++}}var Hp,vI,uat,mI,fat,hat,DCe,w2,RCe=Re(()=>{"use strict";Wd();da();Hp=require("obsidian"),vI=Lt(zn());Ah();Pm();TCe();ECe();uat=({source:t})=>vI.createElement("div",{className:"setting-item-control"},vI.createElement("input",{disabled:!0,type:"text",value:(()=>{var i;let r=t.directory,n=(i=t.config)==null?void 0:i.directory;return typeof r=="string"?r:typeof n=="string"?n:""})(),className:"fc-setting-input"}));mI=(t,e)=>{let r=e.enableAdvancedCategorization?is(t.category,t.subCategory,t.title):t.title,n=dat(r);switch(t.type){case void 0:case"single":return`${t.date} ${n}`;case"recurring":return t.daysOfWeek&&t.daysOfWeek.length>0?`(Every ${t.daysOfWeek.join(",")}) ${n}`:t.month&&t.dayOfMonth?`(Every year on ${et.fromObject({month:t.month}).toFormat("MMM")} ${t.dayOfMonth}) ${n}`:t.dayOfMonth?`(Every month on the ${t.dayOfMonth}) ${n}`:`(Recurring) ${n}`;case"rrule":return`(${ji(t.rrule).toText()}) ${n}`}},fat=(t,e)=>`${mI(t,e)}.md`,hat="-_-_-",DCe=t=>{let i=t,{onSave:e}=i,r=dd(i,["onSave"]),n=a=>e(a);return vI.createElement(kCe,We(ae({},r),{onSave:n}))};w2=class{constructor(e,r,n){this.type="local";this.displayName="Local Notes";this.isRemote=!1;this.loadPriority=10;if(!n)throw new Error("FullNoteProvider requires an Obsidian app interface.");this.app=n,this.plugin=r,this.source=e}static getConfigurationComponent(){return DCe}getCapabilities(){return{canCreate:!0,canEdit:!0,canDelete:!0}}getEventHandle(e){if(e.uid)return{persistentId:e.uid};let r=fat(e,this.plugin.settings);return{persistentId:(0,Hp.normalizePath)(`${this.source.directory}/${r}`)}}isFileRelevant(e){let r=this.source.directory;return!!r&&e.path.startsWith(r+"/")}getEventsInFile(e){return ye(this,null,function*(){let r=this.app.getMetadata(e);if(!(r!=null&&r.frontmatter))return[];let n=We(ae({},r.frontmatter),{title:r.frontmatter.title||e.basename}),i=Fs(n);return i?(i.uid=e.path,[[i,{file:e,lineNumber:void 0}]]):[]})}getEvents(){return ye(this,null,function*(){let e=this.app.getAbstractFileByPath(this.source.directory);if(!e||!(e instanceof Hp.TFolder))throw new Error(`${this.source.directory} is not a valid directory.`);let r=[];for(let n of e.children)if(n instanceof Hp.TFile){let i=yield this.getEventsInFile(n);r.push(...i)}return r})}createEvent(e){return ye(this,null,function*(){let r=mI(e,this.plugin.settings),n=ACe(this.app,this.source.directory,r),i=WB("",GB(e)),a=yield this.app.create(n,i);return[We(ae({},e),{uid:a.path}),{file:a,lineNumber:void 0}]})}updateEvent(e,r,n){return ye(this,null,function*(){let i=e.persistentId,a=this.app.getFileByPath(i);if(!a)throw new Error(`File ${i} not found.`);let o=mI(r,this.plugin.settings),s=mI(n,this.plugin.settings),l=i;return o!==s&&(l=ACe(this.app,this.source.directory,s),yield this.app.rename(a,l)),yield this.app.rewrite(a,c=>xCe(c,n)),{file:{path:l},lineNumber:void 0}})}deleteEvent(e){return ye(this,null,function*(){let r=e.persistentId,n=this.app.getFileByPath(r);if(!n)throw new Error(`File ${r} not found.`);return this.app.delete(n)})}createInstanceOverride(e,r,n){var s;let i=(s=this.getEventHandle(e))==null?void 0:s.persistentId;if(!i)throw new Error("Could not get persistent ID for master event.");let a=i.split("/").pop();if(!a)throw new Error(`Could not extract filename from master event path: ${i}`);let o=We(ae({},n),{recurringEventId:a});return this.createEvent(o)}getConfigurationComponent(){return DCe}getSettingsRowComponent(){return uat}};w2.type="local",w2.displayName="Local Notes"});function ICe({value:t,onChange:e,headings:r,readOnly:n}){return n?(0,od.jsxs)("div",{className:"fc-heading-setting-control",children:[(0,od.jsx)("span",{children:"Under heading"}),(0,od.jsx)(b2,{value:t||"",onChange:()=>{},readOnly:!0}),(0,od.jsx)("span",{className:"fc-heading-setting-suffix",children:"in daily notes"})]}):r.length>0?(0,od.jsxs)("select",{required:!0,value:t||"",onChange:i=>e(i.target.value),children:[(0,od.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Choose a heading"}),r.map((i,a)=>(0,od.jsx)("option",{value:i,children:i},a))]}):(0,od.jsx)(b2,{value:t||"",onChange:e,placeholder:"Enter heading name"})}var od,NCe=Re(()=>{"use strict";YB();od=Lt(Lr())});var $B,il,LCe,OCe=Re(()=>{"use strict";$B=Lt(zn());NCe();Pr();il=Lt(Lr()),LCe=({config:t,onConfigChange:e,context:r,onSave:n,onClose:i})=>{let[a,o]=$B.useState(t.heading||""),[s,l]=$B.useState(!1);return(0,il.jsxs)("form",{onSubmit:u=>{u.preventDefault(),a&&(l(!0),n(We(ae({},t),{id:t.id||"",heading:a})))},children:[(0,il.jsxs)("div",{className:"setting-item",children:[(0,il.jsxs)("div",{className:"setting-item-info",children:[(0,il.jsx)("div",{className:"setting-item-name",children:W("settings.calendars.dailyNote.heading.label")}),(0,il.jsx)("div",{className:"setting-item-description",children:W("settings.calendars.dailyNote.heading.description")})]}),(0,il.jsx)("div",{className:"setting-item-control",children:(0,il.jsx)(ICe,{value:a,onChange:u=>{o(u),e(We(ae({},t),{heading:u}))},headings:r.headings})})]}),(0,il.jsxs)("div",{className:"setting-item",children:[(0,il.jsx)("div",{className:"setting-item-info"}),(0,il.jsx)("div",{className:"setting-item-control",children:(0,il.jsx)("button",{className:"mod-cta",type:"submit",disabled:s||!a,children:W("ui.buttons.addCalendar")})})]})]})}});var zCe={};Wr(zCe,{DailyNoteProvider:()=>x2});var gI,k1,ua,XB,pat,PCe,x2,FCe=Re(()=>{"use strict";gI=require("obsidian"),k1=Lt(zn()),ua=Lt(iE());T6();Pm();OCe();XB=gI.moment,pat=({source:t})=>{let e=()=>{var i;let r=t.heading,n=(i=t.config)==null?void 0:i.heading;return typeof r=="string"?r:typeof n=="string"?n:""};return k1.createElement("div",{className:"setting-item-control fc-heading-setting-control"},k1.createElement("span",{},"Under heading"),k1.createElement("input",{disabled:!0,type:"text",value:e(),className:"fc-setting-input is-inline"}),k1.createElement("span",{className:"fc-heading-setting-suffix"},"in daily notes"))},PCe=t=>{let i=t,{onSave:e}=i,r=dd(i,["onSave"]),n=a=>e(a);return k1.createElement(LCe,We(ae({},r),{onSave:n}))},x2=class{constructor(e,r,n){this.type="dailynote";this.displayName="Daily Note";this.isRemote=!1;this.loadPriority=120;if(!n)throw new Error("DailyNoteProvider requires an Obsidian app interface.");(0,ua.appHasDailyNotesPluginLoaded)(),this.app=n,this.plugin=r,this.source=e}static getConfigurationComponent(){return PCe}getCapabilities(){return{canCreate:!0,canEdit:!0,canDelete:!0}}getEventHandle(e){if(e.type==="single"&&e.date){let r=is(e.category,e.subCategory,e.title),n=`${e.date}::${r}`,i=XB(e.date),a=(0,ua.getDailyNote)(i,(0,ua.getAllDailyNotes)());return!a||!(a instanceof gI.TFile)?null:{persistentId:n,location:{path:a.path}}}return null}isFileRelevant(e){let{folder:r}=(0,ua.getDailyNoteSettings)();return r?e.path.startsWith(r+"/"):!0}_findEventLineNumber(e,r){return ye(this,null,function*(){var o;let i=(yield this.app.read(e)).split(`
`),a=(o=(0,ua.getDateFromFile)(e,"day"))==null?void 0:o.format("YYYY-MM-DD");if(!a)throw new Error(`Could not determine date from file: ${e.path}`);for(let s=0;s<i.length;s++){let l=i[s],c=t0(l,{date:a});if(c&&c.type==="single"){let u=is(c.category,c.subCategory,c.title);if(`${c.date}::${u}`===r)return s}}throw new Error(`Could not find event with ID "${r}" in file "${e.path}".`)})}getEventsInFile(e){return ye(this,null,function*(){var o;let r=(o=(0,ua.getDateFromFile)(e,"day"))==null?void 0:o.format("YYYY-MM-DD"),n=this.app.getMetadata(e);if(!n)return[];let i=$x(this.source.heading,n);return(yield this.app.process(e,s=>tQ(s,i,{date:r}))).map(({event:s,lineNumber:l})=>[s,{file:e,lineNumber:l}])})}getEvents(){return ye(this,null,function*(){let e=(0,ua.getAllDailyNotes)(),r=Object.values(e);return(yield Promise.all(r.map(i=>this.getEventsInFile(i)))).flat()})}createEvent(e){return ye(this,null,function*(){var s;if(e.type!=="single")throw new Error("Daily Note provider can only create single events.");let r=XB(e.date),n=(0,ua.getDailyNote)(r,(0,ua.getAllDailyNotes)());n||(n=yield(0,ua.createDailyNote)(r));let a=(s=(yield this.app.waitForMetadata(n)).headings)==null?void 0:s.find(l=>l.heading==this.source.heading),o=yield this.app.rewrite(n,l=>{let{page:c,lineNumber:u}=x6(l,{heading:a,item:e,headingText:this.source.heading},this.plugin.settings);return[c,u]});return[e,{file:n,lineNumber:o}]})}updateEvent(e,r,n){return ye(this,null,function*(){var l,c,u;if(n.type!=="single")throw new Error("Daily Note provider can only update events to be single events.");if(!((l=e.location)!=null&&l.path))throw new Error("DailyNoteProvider updateEvent requires a file path in the event handle.");let{path:i}=e.location,a=this.app.getFileByPath(i);if(!a)throw new Error(`File not found at path: ${i}`);let o=yield this._findEventLineNumber(a,e.persistentId),s=(c=(0,ua.getDateFromFile)(a,"day"))==null?void 0:c.format("YYYY-MM-DD");if(!s)throw new Error(`Could not get date from file at path ${a.path}`);if(n.date!==s){let d=XB(n.date),f=(0,ua.getDailyNote)(d,(0,ua.getAllDailyNotes)());f||(f=yield(0,ua.createDailyNote)(d)),yield this.app.rewrite(a,v=>{let y=v.split(`
`);return y.splice(o,1),y.join(`
`)});let p=(u=(yield this.app.waitForMetadata(f)).headings)==null?void 0:u.find(v=>v.heading==this.source.heading),m=yield this.app.rewrite(f,v=>{let{page:y,lineNumber:b}=x6(v,{heading:p,item:n,headingText:this.source.heading},this.plugin.settings);return[y,b]});return{file:f,lineNumber:m}}else return yield this.app.rewrite(a,d=>{let f=d.split(`
`),h=Xx(f[o],n,this.plugin.settings);if(!h)throw new Error("Did not successfully update line.");return f[o]=h,f.join(`
`)}),{file:a,lineNumber:o}})}deleteEvent(e){return ye(this,null,function*(){var a;if(!((a=e.location)!=null&&a.path))throw new Error("DailyNoteProvider deleteEvent requires a file path.");let{path:r}=e.location,n=this.app.getFileByPath(r);if(!n)throw new Error(`File not found at path: ${r}`);let i=yield this._findEventLineNumber(n,e.persistentId);yield this.app.rewrite(n,o=>{let s=o.split(`
`);return s.splice(i,1),s.join(`
`)})})}getConfigurationComponent(){return PCe}getSettingsRowComponent(){return pat}createInstanceOverride(e,r,n){var o;let i=(o=this.getEventHandle(e))==null?void 0:o.persistentId;if(!i)throw new Error("Could not get persistent ID for master event.");let a=We(ae({},n),{recurringEventId:i});return this.createEvent(a)}};x2.type="dailynote",x2.displayName="Daily Note"});var yI=J((hkt,KB)=>{var ne;(function(){typeof KB=="object"?ne=KB.exports:typeof HTMLScriptElement!="undefined"&&"noModule"in HTMLScriptElement.prototype?window.ICAL=ne={}:typeof ne!="object"&&(ne={})})();ne.foldLength=75;ne.newLineChar=`\r
`;ne.helpers={updateTimezones:function(t){var e,r,n,i,a,o;if(!t||t.name!=="vcalendar")return t;for(e=t.getAllSubcomponents(),r=[],n={},a=0;a<e.length;a++)e[a].name==="vtimezone"?(o=e[a].getFirstProperty("tzid").getFirstValue(),n[o]=e[a]):r=r.concat(e[a].getAllProperties());for(i={},a=0;a<r.length;a++)(o=r[a].getParameter("tzid"))&&(i[o]=!0);for(a in n)n.hasOwnProperty(a)&&!i[a]&&t.removeSubcomponent(n[a]);for(a in i)i.hasOwnProperty(a)&&!n[a]&&ne.TimezoneService.has(a)&&t.addSubcomponent(ne.TimezoneService.get(a).component);return t},isStrictlyNaN:function(t){return typeof t=="number"&&isNaN(t)},strictParseInt:function(t){var e=parseInt(t,10);if(ne.helpers.isStrictlyNaN(e))throw new Error('Could not extract integer from "'+t+'"');return e},formatClassType:function(e,r){if(typeof e!="undefined")return e instanceof r?e:new r(e)},unescapedIndexOf:function(t,e,r){for(;(r=t.indexOf(e,r))!==-1;)if(r>0&&t[r-1]==="\\")r+=1;else return r;return-1},binsearchInsert:function(t,e,r){if(!t.length)return 0;for(var n=0,i=t.length-1,a,o;n<=i;)if(a=n+Math.floor((i-n)/2),o=r(e,t[a]),o<0)i=a-1;else if(o>0)n=a+1;else break;return o<0?a:o>0?a+1:a},dumpn:function(){ne.debug&&(typeof console!="undefined"&&"log"in console?ne.helpers.dumpn=function(e){console.log(e)}:ne.helpers.dumpn=function(e){dump(e+`
`)},ne.helpers.dumpn(arguments[0]))},clone:function(t,e){if(!t||typeof t!="object")return t;if(t instanceof Date)return new Date(t.getTime());if("clone"in t)return t.clone();if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++)r.push(e?ne.helpers.clone(t[n],!0):t[n]);return r}else{var i={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e?i[a]=ne.helpers.clone(t[a],!0):i[a]=t[a]);return i}},foldline:function(e){for(var r="",n=e||"",i=0,a=0;n.length;){var o=n.codePointAt(i);o<128?++a:o<2048?a+=2:o<65536?a+=3:a+=4,a<ne.foldLength+1?i+=o>65535?2:1:(r+=ne.newLineChar+" "+n.substring(0,i),n=n.substring(i),i=a=0)}return r.substr(ne.newLineChar.length+1)},pad2:function(e){typeof e!="string"&&(typeof e=="number"&&(e=parseInt(e)),e=String(e));var r=e.length;switch(r){case 0:return"00";case 1:return"0"+e;default:return e}},trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)},inherits:function(t,e,r){function n(){}n.prototype=t.prototype,e.prototype=new n,r&&ne.helpers.extend(r,e.prototype)},extend:function(t,e){for(var r in t){var n=Object.getOwnPropertyDescriptor(t,r);n&&!Object.getOwnPropertyDescriptor(e,r)&&Object.defineProperty(e,r,n)}return e}};ne.design=function(){"use strict";var t=/\\\\|\\;|\\,|\\[Nn]/g,e=/\\|;|,|\n/g,r=/\\\\|\\,|\\[Nn]/g,n=/\\|,|\n/g;function i(N,U){var B={matches:/.*/,fromICAL:function($,ee){return v($,N,ee)},toICAL:function($,ee){var te=U;return ee&&(te=new RegExp(te.source+"|"+ee)),$.replace(te,function(he){switch(he){case"\\":return"\\\\";case";":return"\\;";case",":return"\\,";case`
`:return"\\n";default:return he}})}};return B}var a={defaultType:"text"},o={defaultType:"text",multiValue:","},s={defaultType:"text",structuredValue:";"},l={defaultType:"integer"},c={defaultType:"date-time",allowedTypes:["date-time","date"]},u={defaultType:"date-time"},d={defaultType:"uri"},f={defaultType:"utc-offset"},h={defaultType:"recur"},p={defaultType:"date-and-or-time",allowedTypes:["date-time","date","text"]};function m(N){switch(N){case"\\\\":return"\\";case"\\;":return";";case"\\,":return",";case"\\n":case"\\N":return`
`;default:return N}}function v(N,U,B){return N.indexOf("\\")===-1?N:(B&&(U=new RegExp(U.source+"|\\\\"+B)),N.replace(U,m))}var y={categories:o,url:d,version:a,uid:a},b={boolean:{values:["TRUE","FALSE"],fromICAL:function(N){switch(N){case"TRUE":return!0;case"FALSE":return!1;default:return!1}},toICAL:function(N){return N?"TRUE":"FALSE"}},float:{matches:/^[+-]?\d+\.\d+$/,fromICAL:function(N){var U=parseFloat(N);return ne.helpers.isStrictlyNaN(U)?0:U},toICAL:function(N){return String(N)}},integer:{fromICAL:function(N){var U=parseInt(N);return ne.helpers.isStrictlyNaN(U)?0:U},toICAL:function(N){return String(N)}},"utc-offset":{toICAL:function(N){return N.length<7?N.substr(0,3)+N.substr(4,2):N.substr(0,3)+N.substr(4,2)+N.substr(7,2)},fromICAL:function(N){return N.length<6?N.substr(0,3)+":"+N.substr(3,2):N.substr(0,3)+":"+N.substr(3,2)+":"+N.substr(5,2)},decorate:function(N){return ne.UtcOffset.fromString(N)},undecorate:function(N){return N.toString()}}},x={cutype:{values:["INDIVIDUAL","GROUP","RESOURCE","ROOM","UNKNOWN"],allowXName:!0,allowIanaToken:!0},"delegated-from":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},"delegated-to":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},encoding:{values:["8BIT","BASE64"]},fbtype:{values:["FREE","BUSY","BUSY-UNAVAILABLE","BUSY-TENTATIVE"],allowXName:!0,allowIanaToken:!0},member:{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},partstat:{values:["NEEDS-ACTION","ACCEPTED","DECLINED","TENTATIVE","DELEGATED","COMPLETED","IN-PROCESS"],allowXName:!0,allowIanaToken:!0},range:{values:["THISANDFUTURE"]},related:{values:["START","END"]},reltype:{values:["PARENT","CHILD","SIBLING"],allowXName:!0,allowIanaToken:!0},role:{values:["REQ-PARTICIPANT","CHAIR","OPT-PARTICIPANT","NON-PARTICIPANT"],allowXName:!0,allowIanaToken:!0},rsvp:{values:["TRUE","FALSE"]},"sent-by":{valueType:"cal-address"},tzid:{matches:/^\//},value:{values:["binary","boolean","cal-address","date","date-time","duration","float","integer","period","recur","text","time","uri","utc-offset"],allowXName:!0,allowIanaToken:!0}},w=ne.helpers.extend(b,{text:i(t,e),uri:{},binary:{decorate:function(N){return ne.Binary.fromString(N)},undecorate:function(N){return N.toString()}},"cal-address":{},date:{decorate:function(N,U){return K.strict?ne.Time.fromDateString(N,U):ne.Time.fromString(N,U)},undecorate:function(N){return N.toString()},fromICAL:function(N){return!K.strict&&N.length>=15?w["date-time"].fromICAL(N):N.substr(0,4)+"-"+N.substr(4,2)+"-"+N.substr(6,2)},toICAL:function(N){var U=N.length;return U==10?N.substr(0,4)+N.substr(5,2)+N.substr(8,2):U>=19?w["date-time"].toICAL(N):N}},"date-time":{fromICAL:function(N){if(!K.strict&&N.length==8)return w.date.fromICAL(N);var U=N.substr(0,4)+"-"+N.substr(4,2)+"-"+N.substr(6,2)+"T"+N.substr(9,2)+":"+N.substr(11,2)+":"+N.substr(13,2);return N[15]&&N[15]==="Z"&&(U+="Z"),U},toICAL:function(N){var U=N.length;if(U==10&&!K.strict)return w.date.toICAL(N);if(U>=19){var B=N.substr(0,4)+N.substr(5,2)+N.substr(8,5)+N.substr(14,2)+N.substr(17,2);return N[19]&&N[19]==="Z"&&(B+="Z"),B}else return N},decorate:function(N,U){return K.strict?ne.Time.fromDateTimeString(N,U):ne.Time.fromString(N,U)},undecorate:function(N){return N.toString()}},duration:{decorate:function(N){return ne.Duration.fromString(N)},undecorate:function(N){return N.toString()}},period:{fromICAL:function(N){var U=N.split("/");return U[0]=w["date-time"].fromICAL(U[0]),ne.Duration.isValueString(U[1])||(U[1]=w["date-time"].fromICAL(U[1])),U},toICAL:function(N){return!K.strict&&N[0].length==10?N[0]=w.date.toICAL(N[0]):N[0]=w["date-time"].toICAL(N[0]),ne.Duration.isValueString(N[1])||(!K.strict&&N[1].length==10?N[1]=w.date.toICAL(N[1]):N[1]=w["date-time"].toICAL(N[1])),N.join("/")},decorate:function(N,U){return ne.Period.fromJSON(N,U,!K.strict)},undecorate:function(N){return N.toJSON()}},recur:{fromICAL:function(N){return ne.Recur._stringToData(N,!0)},toICAL:function(N){var U="";for(var B in N)if(Object.prototype.hasOwnProperty.call(N,B)){var $=N[B];B=="until"?$.length>10?$=w["date-time"].toICAL($):$=w.date.toICAL($):B=="wkst"?typeof $=="number"&&($=ne.Recur.numericDayToIcalDay($)):Array.isArray($)&&($=$.join(",")),U+=B.toUpperCase()+"="+$+";"}return U.substr(0,U.length-1)},decorate:function(U){return ne.Recur.fromData(U)},undecorate:function(N){return N.toJSON()}},time:{fromICAL:function(N){if(N.length<6)return N;var U=N.substr(0,2)+":"+N.substr(2,2)+":"+N.substr(4,2);return N[6]==="Z"&&(U+="Z"),U},toICAL:function(N){if(N.length<8)return N;var U=N.substr(0,2)+N.substr(3,2)+N.substr(6,2);return N[8]==="Z"&&(U+="Z"),U}}}),S=ne.helpers.extend(y,{action:a,attach:{defaultType:"uri"},attendee:{defaultType:"cal-address"},calscale:a,class:a,comment:a,completed:u,contact:a,created:u,description:a,dtend:c,dtstamp:u,dtstart:c,due:c,duration:{defaultType:"duration"},exdate:{defaultType:"date-time",allowedTypes:["date-time","date"],multiValue:","},exrule:h,freebusy:{defaultType:"period",multiValue:","},geo:{defaultType:"float",structuredValue:";"},"last-modified":u,location:a,method:a,organizer:{defaultType:"cal-address"},"percent-complete":l,priority:l,prodid:a,"related-to":a,repeat:l,rdate:{defaultType:"date-time",allowedTypes:["date-time","date","period"],multiValue:",",detectType:function(N){return N.indexOf("/")!==-1?"period":N.indexOf("T")===-1?"date":"date-time"}},"recurrence-id":c,resources:o,"request-status":s,rrule:h,sequence:l,status:a,summary:a,transp:a,trigger:{defaultType:"duration",allowedTypes:["duration","date-time"]},tzoffsetfrom:f,tzoffsetto:f,tzurl:d,tzid:a,tzname:a}),_=ne.helpers.extend(b,{text:i(r,n),uri:i(r,n),date:{decorate:function(N){return ne.VCardTime.fromDateAndOrTimeString(N,"date")},undecorate:function(N){return N.toString()},fromICAL:function(N){return N.length==8?w.date.fromICAL(N):N[0]=="-"&&N.length==6?N.substr(0,4)+"-"+N.substr(4):N},toICAL:function(N){return N.length==10?w.date.toICAL(N):N[0]=="-"&&N.length==7?N.substr(0,4)+N.substr(5):N}},time:{decorate:function(N){return ne.VCardTime.fromDateAndOrTimeString("T"+N,"time")},undecorate:function(N){return N.toString()},fromICAL:function(N){var U=_.time._splitZone(N,!0),B=U[0],$=U[1];return $.length==6?$=$.substr(0,2)+":"+$.substr(2,2)+":"+$.substr(4,2):$.length==4&&$[0]!="-"?$=$.substr(0,2)+":"+$.substr(2,2):$.length==5&&($=$.substr(0,3)+":"+$.substr(3,2)),B.length==5&&(B[0]=="-"||B[0]=="+")&&(B=B.substr(0,3)+":"+B.substr(3)),$+B},toICAL:function(N){var U=_.time._splitZone(N),B=U[0],$=U[1];return $.length==8?$=$.substr(0,2)+$.substr(3,2)+$.substr(6,2):$.length==5&&$[0]!="-"?$=$.substr(0,2)+$.substr(3,2):$.length==6&&($=$.substr(0,3)+$.substr(4,2)),B.length==6&&(B[0]=="-"||B[0]=="+")&&(B=B.substr(0,3)+B.substr(4)),$+B},_splitZone:function(N,U){var B=N.length-1,$=N.length-(U?5:6),ee=N[$],te,he;return N[B]=="Z"?(te=N[B],he=N.substr(0,B)):N.length>6&&(ee=="-"||ee=="+")?(te=N.substr($),he=N.substr(0,$)):(te="",he=N),[te,he]}},"date-time":{decorate:function(N){return ne.VCardTime.fromDateAndOrTimeString(N,"date-time")},undecorate:function(N){return N.toString()},fromICAL:function(N){return _["date-and-or-time"].fromICAL(N)},toICAL:function(N){return _["date-and-or-time"].toICAL(N)}},"date-and-or-time":{decorate:function(N){return ne.VCardTime.fromDateAndOrTimeString(N,"date-and-or-time")},undecorate:function(N){return N.toString()},fromICAL:function(N){var U=N.split("T");return(U[0]?_.date.fromICAL(U[0]):"")+(U[1]?"T"+_.time.fromICAL(U[1]):"")},toICAL:function(N){var U=N.split("T");return _.date.toICAL(U[0])+(U[1]?"T"+_.time.toICAL(U[1]):"")}},timestamp:w["date-time"],"language-tag":{matches:/^[a-zA-Z0-9-]+$/}}),C={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","time","date-time","date-and-or-time","timestamp","boolean","integer","float","utc-offset","language-tag"],allowXName:!0,allowIanaToken:!0}},E=ne.helpers.extend(y,{adr:{defaultType:"text",structuredValue:";",multiValue:","},anniversary:p,bday:p,caladruri:d,caluri:d,clientpidmap:s,email:a,fburl:d,fn:a,gender:s,geo:d,impp:d,key:d,kind:a,lang:{defaultType:"language-tag"},logo:d,member:d,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:o,note:a,org:{defaultType:"text",structuredValue:";"},photo:d,related:d,rev:{defaultType:"timestamp"},role:a,sound:d,source:d,tel:{defaultType:"uri",allowedTypes:["uri","text"]},title:a,tz:{defaultType:"text",allowedTypes:["text","utc-offset","uri"]},xml:a}),M=ne.helpers.extend(b,{binary:w.binary,date:_.date,"date-time":_["date-time"],"phone-number":{},uri:w.uri,text:w.text,time:w.time,vcard:w.text,"utc-offset":{toICAL:function(N){return N.substr(0,7)},fromICAL:function(N){return N.substr(0,7)},decorate:function(N){return ne.UtcOffset.fromString(N)},undecorate:function(N){return N.toString()}}}),I={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","date-time","phone-number","time","boolean","integer","float","utc-offset","vcard","binary"],allowXName:!0,allowIanaToken:!0}},L=ne.helpers.extend(y,{fn:a,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:o,photo:{defaultType:"binary",allowedTypes:["binary","uri"]},bday:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(N){return N.indexOf("T")===-1?"date":"date-time"}},adr:{defaultType:"text",structuredValue:";",multiValue:","},label:a,tel:{defaultType:"phone-number"},email:a,mailer:a,tz:{defaultType:"utc-offset",allowedTypes:["utc-offset","text"]},geo:{defaultType:"float",structuredValue:";"},title:a,role:a,logo:{defaultType:"binary",allowedTypes:["binary","uri"]},agent:{defaultType:"vcard",allowedTypes:["vcard","text","uri"]},org:s,note:o,prodid:a,rev:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(N){return N.indexOf("T")===-1?"date":"date-time"}},"sort-string":a,sound:{defaultType:"binary",allowedTypes:["binary","uri"]},class:a,key:{defaultType:"binary",allowedTypes:["binary","text"]}}),O={value:w,param:x,property:S},H={value:_,param:C,property:E},Y={value:M,param:I,property:L},K={strict:!0,defaultSet:O,defaultType:"unknown",components:{vcard:H,vcard3:Y,vevent:O,vtodo:O,vjournal:O,valarm:O,vtimezone:O,daylight:O,standard:O},icalendar:O,vcard:H,vcard3:Y,getDesignSet:function(N){var U=N&&N in K.components;return U?K.components[N]:K.defaultSet}};return K}();ne.stringify=function(){"use strict";var t=`\r
`,e="unknown",r=ne.design,n=ne.helpers;function i(o){typeof o[0]=="string"&&(o=[o]);for(var s=0,l=o.length,c="";s<l;s++)c+=i.component(o[s])+t;return c}i.component=function(o,s){var l=o[0].toUpperCase(),c="BEGIN:"+l+t,u=o[1],d=0,f=u.length,h=o[0];for(h==="vcard"&&o[1].length>0&&!(o[1][0][0]==="version"&&o[1][0][3]==="4.0")&&(h="vcard3"),s=s||r.getDesignSet(h);d<f;d++)c+=i.property(u[d],s)+t;for(var p=o[2]||[],m=0,v=p.length;m<v;m++)c+=i.component(p[m],s)+t;return c+="END:"+l,c},i.property=function(o,s,l){var c=o[0].toUpperCase(),u=o[0],d=o[1],f=c,h;for(h in d){var p=d[h];if(d.hasOwnProperty(h)){var y=h in s.param&&s.param[h].multiValue;y&&Array.isArray(p)?(s.param[h].multiValueSeparateDQuote&&(y='"'+y+'"'),p=p.map(i._rfc6868Unescape),p=i.multiValue(p,y,"unknown",null,s)):p=i._rfc6868Unescape(p),f+=";"+h.toUpperCase(),f+="="+i.propertyValue(p)}}if(o.length===3)return f+":";var m=o[2];s||(s=r.defaultSet);var v,y=!1,b=!1,x=!1;return u in s.property?(v=s.property[u],"multiValue"in v&&(y=v.multiValue),"structuredValue"in v&&Array.isArray(o[3])&&(b=v.structuredValue),"defaultType"in v?m===v.defaultType&&(x=!0):m===e&&(x=!0)):m===e&&(x=!0),x||(f+=";VALUE="+m.toUpperCase()),f+=":",y&&b?f+=i.multiValue(o[3],b,m,y,s,b):y?f+=i.multiValue(o.slice(3),y,m,null,s,!1):b?f+=i.multiValue(o[3],b,m,null,s,b):f+=i.value(o[3],m,s,!1),l?f:ne.helpers.foldline(f)},i.propertyValue=function(o){return n.unescapedIndexOf(o,",")===-1&&n.unescapedIndexOf(o,":")===-1&&n.unescapedIndexOf(o,";")===-1?o:'"'+o+'"'},i.multiValue=function(o,s,l,c,u,d){for(var f="",h=o.length,p=0;p<h;p++)c&&Array.isArray(o[p])?f+=i.multiValue(o[p],c,l,null,u,d):f+=i.value(o[p],l,u,d),p!==h-1&&(f+=s);return f},i.value=function(o,s,l,c){return s in l.value&&"toICAL"in l.value[s]?l.value[s].toICAL(o,c):o},i._rfc6868Unescape=function(o){return o.replace(/[\n^"]/g,function(s){return a[s]})};var a={'"':"^'","\n":"^n","^":"^^"};return i}();ne.parse=function(){"use strict";var t=/[^ \t]/,e=",",r=":",n=";",i="=",a="unknown",o="text",s=ne.design,l=ne.helpers;function c(f){this.message=f,this.name="ParserError";try{throw new Error}catch(p){if(p.stack){var h=p.stack.split(`
`);h.shift(),this.stack=h.join(`
`)}}}c.prototype=Error.prototype;function u(f){var h={},p=h.component=[];if(h.stack=[p],u._eachLine(f,function(m,v){u._handleContentLine(v,h)}),h.stack.length>1)throw new c("invalid ical body. component began but did not end");return h=null,p.length==1?p[0]:p}u.property=function(f,h){var p={component:[[],[]],designSet:h||s.defaultSet};return u._handleContentLine(f,p),p.component[1][0]},u.component=function(f){return u(f)},u.ParserError=c,u._handleContentLine=function(f,h){var p=f.indexOf(r),m=f.indexOf(n),v,y,b,x,w={};m!==-1&&p!==-1&&m>p&&(m=-1);var S;if(m!==-1){if(b=f.substring(0,m).toLowerCase(),S=u._parseParameters(f.substring(m),0,h.designSet),S[2]==-1)throw new c("Invalid parameters in '"+f+"'");if(w=S[0],v=S[1].length+S[2]+m,(y=f.substring(v).indexOf(r))!==-1)x=f.substring(v+y+1);else throw new c("Missing parameter value in '"+f+"'")}else if(p!==-1){if(b=f.substring(0,p).toLowerCase(),x=f.substring(p+1),b==="begin"){var _=[x.toLowerCase(),[],[]];h.stack.length===1?h.component.push(_):h.component[2].push(_),h.stack.push(h.component),h.component=_,h.designSet||(h.designSet=s.getDesignSet(h.component[0]));return}else if(b==="end"){h.component=h.stack.pop();return}}else throw new c('invalid line (no token ";" or ":") "'+f+'"');var C,E=!1,M=!1,I;b in h.designSet.property&&(I=h.designSet.property[b],"multiValue"in I&&(E=I.multiValue),"structuredValue"in I&&(M=I.structuredValue),x&&"detectType"in I&&(C=I.detectType(x))),C||("value"in w?C=w.value.toLowerCase():I?C=I.defaultType:C=a),delete w.value;var L;E&&M?(x=u._parseMultiValue(x,M,C,[],E,h.designSet,M),L=[b,w,C,x]):E?(L=[b,w,C],u._parseMultiValue(x,E,C,L,null,h.designSet,!1)):M?(x=u._parseMultiValue(x,M,C,[],null,h.designSet,M),L=[b,w,C,x]):(x=u._parseValue(x,C,h.designSet,!1),L=[b,w,C,x]),h.component[0]==="vcard"&&h.component[1].length===0&&!(b==="version"&&x==="4.0")&&(h.designSet=s.getDesignSet("vcard3")),h.component[1].push(L)},u._parseValue=function(f,h,p,m){return h in p.value&&"fromICAL"in p.value[h]?p.value[h].fromICAL(f,m):f},u._parseParameters=function(f,h,p){for(var m=h,v=0,y=i,b={},x,w,S,_=-1,C,E,M;v!==!1&&(v=l.unescapedIndexOf(f,y,v+1))!==-1;){if(x=f.substr(m+1,v-m-1),x.length==0)throw new c("Empty parameter name in '"+f+"'");w=x.toLowerCase(),M=!1,E=!1,w in p.param&&p.param[w].valueType?C=p.param[w].valueType:C=o,w in p.param&&(E=p.param[w].multiValue,p.param[w].multiValueSeparateDQuote&&(M=u._rfc6868Escape('"'+E+'"')));var I=f[v+1];if(I==='"'){if(_=v+2,v=l.unescapedIndexOf(f,'"',_),E&&v!=-1)for(var L=!0;L;)f[v+1]==E&&f[v+2]=='"'?v=l.unescapedIndexOf(f,'"',v+3):L=!1;if(v===-1)throw new c('invalid line (no matching double quote) "'+f+'"');S=f.substr(_,v-_),m=l.unescapedIndexOf(f,n,v),m===-1&&(v=!1)}else{_=v+1;var O=l.unescapedIndexOf(f,n,_),H=l.unescapedIndexOf(f,r,_);H!==-1&&O>H?(O=H,v=!1):O===-1?(H===-1?O=f.length:O=H,v=!1):(m=O,v=O),S=f.substr(_,O-_)}if(S=u._rfc6868Escape(S),E){var Y=M||E;S=u._parseMultiValue(S,Y,C,[],null,p)}else S=u._parseValue(S,C,p);E&&w in b?Array.isArray(b[w])?b[w].push(S):b[w]=[b[w],S]:b[w]=S}return[b,S,_]},u._rfc6868Escape=function(f){return f.replace(/\^['n^]/g,function(h){return d[h]})};var d={"^'":'"',"^n":`
`,"^^":"^"};return u._parseMultiValue=function(f,h,p,m,v,y,b){var x=0,w=0,S;if(h.length===0)return f;for(;(x=l.unescapedIndexOf(f,h,w))!==-1;)S=f.substr(w,x-w),v?S=u._parseMultiValue(S,v,p,[],null,y,b):S=u._parseValue(S,p,y,b),m.push(S),w=x+h.length;return S=f.substr(w),v?S=u._parseMultiValue(S,v,p,[],null,y,b):S=u._parseValue(S,p,y,b),m.push(S),m.length==1?m[0]:m},u._eachLine=function(f,h){var p=f.length,m=f.search(t),v=m,y,b,x;do v=f.indexOf(`
`,m)+1,v>1&&f[v-2]==="\r"?x=2:x=1,v===0&&(v=p,x=0),b=f[m],b===" "||b==="	"?y+=f.substr(m+1,v-m-(x+1)):(y&&h(null,y),y=f.substr(m,v-m-x)),m=v;while(v!==p);y=y.trim(),y.length&&h(null,y)},u}();ne.Component=function(){"use strict";var t=1,e=2,r=0;function n(i,a){typeof i=="string"&&(i=[i,[],[]]),this.jCal=i,this.parent=a||null}return n.prototype={_hydratedPropertyCount:0,_hydratedComponentCount:0,get name(){return this.jCal[r]},get _designSet(){var i=this.parent&&this.parent._designSet;return i||ne.design.getDesignSet(this.name)},_hydrateComponent:function(i){if(this._components||(this._components=[],this._hydratedComponentCount=0),this._components[i])return this._components[i];var a=new n(this.jCal[e][i],this);return this._hydratedComponentCount++,this._components[i]=a},_hydrateProperty:function(i){if(this._properties||(this._properties=[],this._hydratedPropertyCount=0),this._properties[i])return this._properties[i];var a=new ne.Property(this.jCal[t][i],this);return this._hydratedPropertyCount++,this._properties[i]=a},getFirstSubcomponent:function(i){if(i){for(var a=0,o=this.jCal[e],s=o.length;a<s;a++)if(o[a][r]===i){var l=this._hydrateComponent(a);return l}}else if(this.jCal[e].length)return this._hydrateComponent(0);return null},getAllSubcomponents:function(i){var a=this.jCal[e].length,o=0;if(i){for(var s=this.jCal[e],l=[];o<a;o++)i===s[o][r]&&l.push(this._hydrateComponent(o));return l}else{if(!this._components||this._hydratedComponentCount!==a)for(;o<a;o++)this._hydrateComponent(o);return this._components||[]}},hasProperty:function(i){for(var a=this.jCal[t],o=a.length,s=0;s<o;s++)if(a[s][r]===i)return!0;return!1},getFirstProperty:function(i){if(i){for(var a=0,o=this.jCal[t],s=o.length;a<s;a++)if(o[a][r]===i){var l=this._hydrateProperty(a);return l}}else if(this.jCal[t].length)return this._hydrateProperty(0);return null},getFirstPropertyValue:function(i){var a=this.getFirstProperty(i);return a?a.getFirstValue():null},getAllProperties:function(i){var a=this.jCal[t].length,o=0;if(i){for(var s=this.jCal[t],l=[];o<a;o++)i===s[o][r]&&l.push(this._hydrateProperty(o));return l}else{if(!this._properties||this._hydratedPropertyCount!==a)for(;o<a;o++)this._hydrateProperty(o);return this._properties||[]}},_removeObjectByIndex:function(i,a,o){if(a=a||[],a[o]){var s=a[o];"parent"in s&&(s.parent=null)}a.splice(o,1),this.jCal[i].splice(o,1)},_removeObject:function(i,a,o){var s=0,l=this.jCal[i],c=l.length,u=this[a];if(typeof o=="string"){for(;s<c;s++)if(l[s][r]===o)return this._removeObjectByIndex(i,u,s),!0}else if(u){for(;s<c;s++)if(u[s]&&u[s]===o)return this._removeObjectByIndex(i,u,s),!0}return!1},_removeAllObjects:function(i,a,o){for(var s=this[a],l=this.jCal[i],c=l.length-1;c>=0;c--)(!o||l[c][r]===o)&&this._removeObjectByIndex(i,s,c)},addSubcomponent:function(i){this._components||(this._components=[],this._hydratedComponentCount=0),i.parent&&i.parent.removeSubcomponent(i);var a=this.jCal[e].push(i.jCal);return this._components[a-1]=i,this._hydratedComponentCount++,i.parent=this,i},removeSubcomponent:function(i){var a=this._removeObject(e,"_components",i);return a&&this._hydratedComponentCount--,a},removeAllSubcomponents:function(i){var a=this._removeAllObjects(e,"_components",i);return this._hydratedComponentCount=0,a},addProperty:function(i){if(!(i instanceof ne.Property))throw new TypeError("must instance of ICAL.Property");this._properties||(this._properties=[],this._hydratedPropertyCount=0),i.parent&&i.parent.removeProperty(i);var a=this.jCal[t].push(i.jCal);return this._properties[a-1]=i,this._hydratedPropertyCount++,i.parent=this,i},addPropertyWithValue:function(i,a){var o=new ne.Property(i);return o.setValue(a),this.addProperty(o),o},updatePropertyWithValue:function(i,a){var o=this.getFirstProperty(i);return o?o.setValue(a):o=this.addPropertyWithValue(i,a),o},removeProperty:function(i){var a=this._removeObject(t,"_properties",i);return a&&this._hydratedPropertyCount--,a},removeAllProperties:function(i){var a=this._removeAllObjects(t,"_properties",i);return this._hydratedPropertyCount=0,a},toJSON:function(){return this.jCal},toString:function(){return ne.stringify.component(this.jCal,this._designSet)}},n.fromString=function(i){return new n(ne.parse.component(i))},n}();ne.Property=function(){"use strict";var t=0,e=1,r=2,n=3,i=ne.design;function a(o,s){this._parent=s||null,typeof o=="string"?(this.jCal=[o,{},i.defaultType],this.jCal[r]=this.getDefaultType()):this.jCal=o,this._updateType()}return a.prototype={get type(){return this.jCal[r]},get name(){return this.jCal[t]},get parent(){return this._parent},set parent(o){var s=!this._parent||o&&o._designSet!=this._parent._designSet;return this._parent=o,this.type==i.defaultType&&s&&(this.jCal[r]=this.getDefaultType(),this._updateType()),o},get _designSet(){return this.parent?this.parent._designSet:i.defaultSet},_updateType:function(){var o=this._designSet;if(this.type in o.value){var s=o.value[this.type];"decorate"in o.value[this.type]?this.isDecorated=!0:this.isDecorated=!1,this.name in o.property&&(this.isMultiValue="multiValue"in o.property[this.name],this.isStructuredValue="structuredValue"in o.property[this.name])}},_hydrateValue:function(o){return this._values&&this._values[o]?this._values[o]:this.jCal.length<=n+o?null:this.isDecorated?(this._values||(this._values=[]),this._values[o]=this._decorate(this.jCal[n+o])):this.jCal[n+o]},_decorate:function(o){return this._designSet.value[this.type].decorate(o,this)},_undecorate:function(o){return this._designSet.value[this.type].undecorate(o,this)},_setDecoratedValue:function(o,s){this._values||(this._values=[]),typeof o=="object"&&"icaltype"in o?(this.jCal[n+s]=this._undecorate(o),this._values[s]=o):(this.jCal[n+s]=o,this._values[s]=this._decorate(o))},getParameter:function(o){if(o in this.jCal[e])return this.jCal[e][o]},getFirstParameter:function(o){var s=this.getParameter(o);return Array.isArray(s)?s[0]:s},setParameter:function(o,s){var l=o.toLowerCase();typeof s=="string"&&l in this._designSet.param&&"multiValue"in this._designSet.param[l]&&(s=[s]),this.jCal[e][o]=s},removeParameter:function(o){delete this.jCal[e][o]},getDefaultType:function(){var o=this.jCal[t],s=this._designSet;if(o in s.property){var l=s.property[o];if("defaultType"in l)return l.defaultType}return i.defaultType},resetType:function(o){this.removeAllValues(),this.jCal[r]=o,this._updateType()},getFirstValue:function(){return this._hydrateValue(0)},getValues:function(){var o=this.jCal.length-n;if(o<1)return[];for(var s=0,l=[];s<o;s++)l[s]=this._hydrateValue(s);return l},removeAllValues:function(){this._values&&(this._values.length=0),this.jCal.length=3},setValues:function(o){if(!this.isMultiValue)throw new Error(this.name+`: does not not support mulitValue.
override isMultiValue`);var s=o.length,l=0;if(this.removeAllValues(),s>0&&typeof o[0]=="object"&&"icaltype"in o[0]&&this.resetType(o[0].icaltype),this.isDecorated)for(;l<s;l++)this._setDecoratedValue(o[l],l);else for(;l<s;l++)this.jCal[n+l]=o[l]},setValue:function(o){this.removeAllValues(),typeof o=="object"&&"icaltype"in o&&this.resetType(o.icaltype),this.isDecorated?this._setDecoratedValue(o,0):this.jCal[n]=o},toJSON:function(){return this.jCal},toICALString:function(){return ne.stringify.property(this.jCal,this._designSet,!0)}},a.fromString=function(o,s){return new a(ne.parse.property(o,s))},a}();ne.UtcOffset=function(){function t(e){this.fromData(e)}return t.prototype={hours:0,minutes:0,factor:1,icaltype:"utc-offset",clone:function(){return ne.UtcOffset.fromSeconds(this.toSeconds())},fromData:function(e){if(e)for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r]);this._normalize()},fromSeconds:function(e){var r=Math.abs(e);return this.factor=e<0?-1:1,this.hours=ne.helpers.trunc(r/3600),r-=this.hours*3600,this.minutes=ne.helpers.trunc(r/60),this},toSeconds:function(){return this.factor*(60*this.minutes+3600*this.hours)},compare:function(r){var n=this.toSeconds(),i=r.toSeconds();return(n>i)-(i>n)},_normalize:function(){for(var e=this.toSeconds(),r=this.factor;e<-43200;)e+=97200;for(;e>50400;)e-=97200;this.fromSeconds(e),e==0&&(this.factor=r)},toICALString:function(){return ne.design.icalendar.value["utc-offset"].toICAL(this.toString())},toString:function(){return(this.factor==1?"+":"-")+ne.helpers.pad2(this.hours)+":"+ne.helpers.pad2(this.minutes)}},t.fromString=function(e){var r={};return r.factor=e[0]==="+"?1:-1,r.hours=ne.helpers.strictParseInt(e.substr(1,2)),r.minutes=ne.helpers.strictParseInt(e.substr(4,2)),new ne.UtcOffset(r)},t.fromSeconds=function(e){var r=new t;return r.fromSeconds(e),r},t}();ne.Binary=function(){function t(e){this.value=e}return t.prototype={icaltype:"binary",decodeValue:function(){return this._b64_decode(this.value)},setEncodedValue:function(r){this.value=this._b64_encode(r)},_b64_encode:function(r){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i,a,o,s,l,c,u,d,f=0,h=0,p="",m=[];if(!r)return r;do i=r.charCodeAt(f++),a=r.charCodeAt(f++),o=r.charCodeAt(f++),d=i<<16|a<<8|o,s=d>>18&63,l=d>>12&63,c=d>>6&63,u=d&63,m[h++]=n.charAt(s)+n.charAt(l)+n.charAt(c)+n.charAt(u);while(f<r.length);p=m.join("");var v=r.length%3;return(v?p.slice(0,v-3):p)+"===".slice(v||3)},_b64_decode:function(r){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i,a,o,s,l,c,u,d,f=0,h=0,p="",m=[];if(!r)return r;r+="";do s=n.indexOf(r.charAt(f++)),l=n.indexOf(r.charAt(f++)),c=n.indexOf(r.charAt(f++)),u=n.indexOf(r.charAt(f++)),d=s<<18|l<<12|c<<6|u,i=d>>16&255,a=d>>8&255,o=d&255,c==64?m[h++]=String.fromCharCode(i):u==64?m[h++]=String.fromCharCode(i,a):m[h++]=String.fromCharCode(i,a,o);while(f<r.length);return p=m.join(""),p},toString:function(){return this.value}},t.fromString=function(e){return new t(e)},t}();(function(){ne.Period=function(e){if(this.wrappedJSObject=this,e&&"start"in e){if(e.start&&!(e.start instanceof ne.Time))throw new TypeError(".start must be an instance of ICAL.Time");this.start=e.start}if(e&&e.end&&e.duration)throw new Error("cannot accept both end and duration");if(e&&"end"in e){if(e.end&&!(e.end instanceof ne.Time))throw new TypeError(".end must be an instance of ICAL.Time");this.end=e.end}if(e&&"duration"in e){if(e.duration&&!(e.duration instanceof ne.Duration))throw new TypeError(".duration must be an instance of ICAL.Duration");this.duration=e.duration}},ne.Period.prototype={start:null,end:null,duration:null,icalclass:"icalperiod",icaltype:"period",clone:function(){return ne.Period.fromData({start:this.start?this.start.clone():null,end:this.end?this.end.clone():null,duration:this.duration?this.duration.clone():null})},getDuration:function(){return this.duration?this.duration:this.end.subtractDate(this.start)},getEnd:function(){if(this.end)return this.end;var t=this.start.clone();return t.addDuration(this.duration),t},toString:function(){return this.start+"/"+(this.end||this.duration)},toJSON:function(){return[this.start.toString(),(this.end||this.duration).toString()]},toICALString:function(){return this.start.toICALString()+"/"+(this.end||this.duration).toICALString()}},ne.Period.fromString=function(e,r){var n=e.split("/");if(n.length!==2)throw new Error('Invalid string value: "'+e+'" must contain a "/" char.');var i={start:ne.Time.fromDateTimeString(n[0],r)},a=n[1];return ne.Duration.isValueString(a)?i.duration=ne.Duration.fromString(a):i.end=ne.Time.fromDateTimeString(a,r),new ne.Period(i)},ne.Period.fromData=function(e){return new ne.Period(e)},ne.Period.fromJSON=function(t,e,r){function n(i,a){return r?ne.Time.fromString(i,a):ne.Time.fromDateTimeString(i,a)}return ne.Duration.isValueString(t[1])?ne.Period.fromData({start:n(t[0],e),duration:ne.Duration.fromString(t[1])}):ne.Period.fromData({start:n(t[0],e),end:n(t[1],e)})}})();(function(){var t=/([PDWHMTS]{1,1})/;ne.Duration=function(n){this.wrappedJSObject=this,this.fromData(n)},ne.Duration.prototype={weeks:0,days:0,hours:0,minutes:0,seconds:0,isNegative:!1,icalclass:"icalduration",icaltype:"duration",clone:function(){return ne.Duration.fromData(this)},toSeconds:function(){var n=this.seconds+60*this.minutes+3600*this.hours+86400*this.days+604800*this.weeks;return this.isNegative?-n:n},fromSeconds:function(n){var i=Math.abs(n);return this.isNegative=n<0,this.days=ne.helpers.trunc(i/86400),this.days%7==0?(this.weeks=this.days/7,this.days=0):this.weeks=0,i-=(this.days+7*this.weeks)*86400,this.hours=ne.helpers.trunc(i/3600),i-=this.hours*3600,this.minutes=ne.helpers.trunc(i/60),i-=this.minutes*60,this.seconds=i,this},fromData:function(n){var i=["weeks","days","hours","minutes","seconds","isNegative"];for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];n&&o in n?this[o]=n[o]:this[o]=0}},reset:function(){this.isNegative=!1,this.weeks=0,this.days=0,this.hours=0,this.minutes=0,this.seconds=0},compare:function(n){var i=this.toSeconds(),a=n.toSeconds();return(i>a)-(i<a)},normalize:function(){this.fromSeconds(this.toSeconds())},toString:function(){if(this.toSeconds()==0)return"PT0S";var n="";return this.isNegative&&(n+="-"),n+="P",this.weeks&&(n+=this.weeks+"W"),this.days&&(n+=this.days+"D"),(this.hours||this.minutes||this.seconds)&&(n+="T",this.hours&&(n+=this.hours+"H"),this.minutes&&(n+=this.minutes+"M"),this.seconds&&(n+=this.seconds+"S")),n},toICALString:function(){return this.toString()}},ne.Duration.fromSeconds=function(n){return new ne.Duration().fromSeconds(n)};function e(r,n,i){var a;switch(r){case"P":n&&n==="-"?i.isNegative=!0:i.isNegative=!1;break;case"D":a="days";break;case"W":a="weeks";break;case"H":a="hours";break;case"M":a="minutes";break;case"S":a="seconds";break;default:return 0}if(a){if(!n&&n!==0)throw new Error('invalid duration value: Missing number before "'+r+'"');var o=parseInt(n,10);if(ne.helpers.isStrictlyNaN(o))throw new Error('invalid duration value: Invalid number "'+n+'" before "'+r+'"');i[a]=o}return 1}ne.Duration.isValueString=function(r){return r[0]==="P"||r[1]==="P"},ne.Duration.fromString=function(n){for(var i=0,a=Object.create(null),o=0;(i=n.search(t))!==-1;){var s=n[i],l=n.substr(0,i);n=n.substr(i+1),o+=e(s,l,a)}if(o<2)throw new Error('invalid duration value: Not enough duration components in "'+n+'"');return new ne.Duration(a)},ne.Duration.fromData=function(n){return new ne.Duration(n)}})();(function(){var t=["tzid","location","tznames","latitude","longitude"];ne.Timezone=function(r){this.wrappedJSObject=this,this.fromData(r)},ne.Timezone.prototype={tzid:"",location:"",tznames:"",latitude:0,longitude:0,component:null,expandedUntilYear:0,icalclass:"icaltimezone",fromData:function(r){if(this.expandedUntilYear=0,this.changes=[],r instanceof ne.Component)this.component=r;else{if(r&&"component"in r)if(typeof r.component=="string"){var n=ne.parse(r.component);this.component=new ne.Component(n)}else r.component instanceof ne.Component?this.component=r.component:this.component=null;for(var i in t)if(t.hasOwnProperty(i)){var a=t[i];r&&a in r&&(this[a]=r[a])}}return this.component instanceof ne.Component&&!this.tzid&&(this.tzid=this.component.getFirstPropertyValue("tzid")),this},utcOffset:function(r){if(this==ne.Timezone.utcTimezone||this==ne.Timezone.localTimezone||(this._ensureCoverage(r.year),!this.changes.length))return 0;for(var n={year:r.year,month:r.month,day:r.day,hour:r.hour,minute:r.minute,second:r.second},i=this._findNearbyChange(n),a=-1,o=1;;){var s=ne.helpers.clone(this.changes[i],!0);s.utcOffset<s.prevUtcOffset?ne.Timezone.adjust_change(s,0,0,0,s.utcOffset):ne.Timezone.adjust_change(s,0,0,0,s.prevUtcOffset);var l=ne.Timezone._compare_change_fn(n,s);if(l>=0?a=i:o=-1,o==-1&&a!=-1)break;if(i+=o,i<0)return 0;if(i>=this.changes.length)break}var c=this.changes[a],u=c.utcOffset-c.prevUtcOffset;if(u<0&&a>0){var d=ne.helpers.clone(c,!0);if(ne.Timezone.adjust_change(d,0,0,0,d.prevUtcOffset),ne.Timezone._compare_change_fn(n,d)<0){var f=this.changes[a-1],h=!1;c.is_daylight!=h&&f.is_daylight==h&&(c=f)}}return c.utcOffset},_findNearbyChange:function(r){var n=ne.helpers.binsearchInsert(this.changes,r,ne.Timezone._compare_change_fn);return n>=this.changes.length?this.changes.length-1:n},_ensureCoverage:function(e){if(ne.Timezone._minimumExpansionYear==-1){var r=ne.Time.now();ne.Timezone._minimumExpansionYear=r.year}var n=e;if(n<ne.Timezone._minimumExpansionYear&&(n=ne.Timezone._minimumExpansionYear),n+=ne.Timezone.EXTRA_COVERAGE,n>ne.Timezone.MAX_YEAR&&(n=ne.Timezone.MAX_YEAR),!this.changes.length||this.expandedUntilYear<e){for(var i=this.component.getAllSubcomponents(),a=i.length,o=0;o<a;o++)this._expandComponent(i[o],n,this.changes);this.changes.sort(ne.Timezone._compare_change_fn),this.expandedUntilYear=n}},_expandComponent:function(e,r,n){if(!e.hasProperty("dtstart")||!e.hasProperty("tzoffsetto")||!e.hasProperty("tzoffsetfrom"))return null;var i=e.getFirstProperty("dtstart").getFirstValue(),a;function o(m){return m.factor*(m.hours*3600+m.minutes*60)}function s(){var m={};return m.is_daylight=e.name=="daylight",m.utcOffset=o(e.getFirstProperty("tzoffsetto").getFirstValue()),m.prevUtcOffset=o(e.getFirstProperty("tzoffsetfrom").getFirstValue()),m}if(!e.hasProperty("rrule")&&!e.hasProperty("rdate"))a=s(),a.year=i.year,a.month=i.month,a.day=i.day,a.hour=i.hour,a.minute=i.minute,a.second=i.second,ne.Timezone.adjust_change(a,0,0,0,-a.prevUtcOffset),n.push(a);else{var l=e.getAllProperties("rdate");for(var c in l)if(l.hasOwnProperty(c)){var u=l[c],d=u.getFirstValue();a=s(),a.year=d.year,a.month=d.month,a.day=d.day,d.isDate?(a.hour=i.hour,a.minute=i.minute,a.second=i.second,i.zone!=ne.Timezone.utcTimezone&&ne.Timezone.adjust_change(a,0,0,0,-a.prevUtcOffset)):(a.hour=d.hour,a.minute=d.minute,a.second=d.second,d.zone!=ne.Timezone.utcTimezone&&ne.Timezone.adjust_change(a,0,0,0,-a.prevUtcOffset)),n.push(a)}var f=e.getFirstProperty("rrule");if(f){f=f.getFirstValue(),a=s(),f.until&&f.until.zone==ne.Timezone.utcTimezone&&(f.until.adjust(0,0,0,a.prevUtcOffset),f.until.zone=ne.Timezone.localTimezone);for(var h=f.iterator(i),p;(p=h.next())&&(a=s(),!(p.year>r||!p));)a.year=p.year,a.month=p.month,a.day=p.day,a.hour=p.hour,a.minute=p.minute,a.second=p.second,a.isDate=p.isDate,ne.Timezone.adjust_change(a,0,0,0,-a.prevUtcOffset),n.push(a)}}return n},toString:function(){return this.tznames?this.tznames:this.tzid}},ne.Timezone._compare_change_fn=function(r,n){return r.year<n.year?-1:r.year>n.year?1:r.month<n.month?-1:r.month>n.month?1:r.day<n.day?-1:r.day>n.day?1:r.hour<n.hour?-1:r.hour>n.hour?1:r.minute<n.minute?-1:r.minute>n.minute?1:r.second<n.second?-1:r.second>n.second?1:0},ne.Timezone.convert_time=function(r,n,i){if(r.isDate||n.tzid==i.tzid||n==ne.Timezone.localTimezone||i==ne.Timezone.localTimezone)return r.zone=i,r;var a=n.utcOffset(r);return r.adjust(0,0,0,-a),a=i.utcOffset(r),r.adjust(0,0,0,a),null},ne.Timezone.fromData=function(r){var n=new ne.Timezone;return n.fromData(r)},ne.Timezone.utcTimezone=ne.Timezone.fromData({tzid:"UTC"}),ne.Timezone.localTimezone=ne.Timezone.fromData({tzid:"floating"}),ne.Timezone.adjust_change=function(r,n,i,a,o){return ne.Time.prototype.adjust.call(r,n,i,a,o,r)},ne.Timezone._minimumExpansionYear=-1,ne.Timezone.MAX_YEAR=2035,ne.Timezone.EXTRA_COVERAGE=5})();ne.TimezoneService=function(){var t,e={get count(){return Object.keys(t).length},reset:function(){t=Object.create(null);var r=ne.Timezone.utcTimezone;t.Z=r,t.UTC=r,t.GMT=r},has:function(r){return!!t[r]},get:function(r){return t[r]},register:function(r,n){if(r instanceof ne.Component&&r.name==="vtimezone"&&(n=new ne.Timezone(r),r=n.tzid),n instanceof ne.Timezone)t[r]=n;else throw new TypeError("timezone must be ICAL.Timezone or ICAL.Component")},remove:function(r){return delete t[r]}};return e.reset(),e}();(function(){ne.Time=function(e,r){this.wrappedJSObject=this;var n=this._time=Object.create(null);n.year=0,n.month=1,n.day=1,n.hour=0,n.minute=0,n.second=0,n.isDate=!1,this.fromData(e,r)},ne.Time._dowCache={},ne.Time._wnCache={},ne.Time.prototype={icalclass:"icaltime",_cachedUnixTime:null,get icaltype(){return this.isDate?"date":"date-time"},zone:null,_pendingNormalization:!1,clone:function(){return new ne.Time(this._time,this.zone)},reset:function(){this.fromData(ne.Time.epochTime),this.zone=ne.Timezone.utcTimezone},resetTo:function(e,r,n,i,a,o,s){this.fromData({year:e,month:r,day:n,hour:i,minute:a,second:o,zone:s})},fromJSDate:function(e,r){return e?r?(this.zone=ne.Timezone.utcTimezone,this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()):(this.zone=ne.Timezone.localTimezone,this.year=e.getFullYear(),this.month=e.getMonth()+1,this.day=e.getDate(),this.hour=e.getHours(),this.minute=e.getMinutes(),this.second=e.getSeconds()):this.reset(),this._cachedUnixTime=null,this},fromData:function(e,r){if(e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(n==="icaltype")continue;this[n]=e[n]}}if(r&&(this.zone=r),e&&!("isDate"in e)?this.isDate=!("hour"in e):e&&"isDate"in e&&(this.isDate=e.isDate),e&&"timezone"in e){var i=ne.TimezoneService.get(e.timezone);this.zone=i||ne.Timezone.localTimezone}return e&&"zone"in e&&(this.zone=e.zone),this.zone||(this.zone=ne.Timezone.localTimezone),this._cachedUnixTime=null,this},dayOfWeek:function(e){var r=e||ne.Time.SUNDAY,n=(this.year<<12)+(this.month<<8)+(this.day<<3)+r;if(n in ne.Time._dowCache)return ne.Time._dowCache[n];var i=this.day,a=this.month+(this.month<3?12:0),o=this.year-(this.month<3?1:0),s=i+o+ne.helpers.trunc((a+1)*26/10)+ne.helpers.trunc(o/4);return s+=ne.helpers.trunc(o/100)*6+ne.helpers.trunc(o/400),s=(s+7-r)%7+1,ne.Time._dowCache[n]=s,s},dayOfYear:function(){var e=ne.Time.isLeapYear(this.year)?1:0,r=ne.Time.daysInYearPassedMonth;return r[e][this.month-1]+this.day},startOfWeek:function(e){var r=e||ne.Time.SUNDAY,n=this.clone();return n.day-=(this.dayOfWeek()+7-r)%7,n.isDate=!0,n.hour=0,n.minute=0,n.second=0,n},endOfWeek:function(e){var r=e||ne.Time.SUNDAY,n=this.clone();return n.day+=(7-this.dayOfWeek()+r-ne.Time.SUNDAY)%7,n.isDate=!0,n.hour=0,n.minute=0,n.second=0,n},startOfMonth:function(){var e=this.clone();return e.day=1,e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e},endOfMonth:function(){var e=this.clone();return e.day=ne.Time.daysInMonth(e.month,e.year),e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e},startOfYear:function(){var e=this.clone();return e.day=1,e.month=1,e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e},endOfYear:function(){var e=this.clone();return e.day=31,e.month=12,e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e},startDoyWeek:function(e){var r=e||ne.Time.SUNDAY,n=this.dayOfWeek()-r;return n<0&&(n+=7),this.dayOfYear()-n},getDominicalLetter:function(){return ne.Time.getDominicalLetter(this.year)},nthWeekDay:function(e,r){var n=ne.Time.daysInMonth(this.month,this.year),i,a=r,o=0,s=this.clone();if(a>=0){s.day=1,a!=0&&a--,o=s.day;var l=s.dayOfWeek(),c=e-l;c<0&&(c+=7),o+=c,o-=e,i=e}else{s.day=n;var u=s.dayOfWeek();a++,i=u-e,i<0&&(i+=7),i=n-i}return i+=a*7,o+i},isNthWeekDay:function(t,e){var r=this.dayOfWeek();if(e===0&&r===t)return!0;var n=this.nthWeekDay(t,e);return n===this.day},weekNumber:function(e){var r=(this.year<<12)+(this.month<<8)+(this.day<<3)+e;if(r in ne.Time._wnCache)return ne.Time._wnCache[r];var n,i=this.clone();i.isDate=!0;var a=this.year;i.month==12&&i.day>25?(n=ne.Time.weekOneStarts(a+1,e),i.compare(n)<0?n=ne.Time.weekOneStarts(a,e):a++):(n=ne.Time.weekOneStarts(a,e),i.compare(n)<0&&(n=ne.Time.weekOneStarts(--a,e)));var o=i.subtractDate(n).toSeconds()/86400,s=ne.helpers.trunc(o/7)+1;return ne.Time._wnCache[r]=s,s},addDuration:function(e){var r=e.isNegative?-1:1,n=this.second,i=this.minute,a=this.hour,o=this.day;n+=r*e.seconds,i+=r*e.minutes,a+=r*e.hours,o+=r*e.days,o+=r*7*e.weeks,this.second=n,this.minute=i,this.hour=a,this.day=o,this._cachedUnixTime=null},subtractDate:function(e){var r=this.toUnixTime()+this.utcOffset(),n=e.toUnixTime()+e.utcOffset();return ne.Duration.fromSeconds(r-n)},subtractDateTz:function(e){var r=this.toUnixTime(),n=e.toUnixTime();return ne.Duration.fromSeconds(r-n)},compare:function(e){var r=this.toUnixTime(),n=e.toUnixTime();return r>n?1:n>r?-1:0},compareDateOnlyTz:function(e,r){function n(s){return ne.Time._cmp_attr(i,a,s)}var i=this.convertToZone(r),a=e.convertToZone(r),o=0;return(o=n("year"))!=0||(o=n("month"))!=0||(o=n("day"))!=0,o},convertToZone:function(e){var r=this.clone(),n=this.zone.tzid==e.tzid;return!this.isDate&&!n&&ne.Timezone.convert_time(r,this.zone,e),r.zone=e,r},utcOffset:function(){return this.zone==ne.Timezone.localTimezone||this.zone==ne.Timezone.utcTimezone?0:this.zone.utcOffset(this)},toICALString:function(){var t=this.toString();return t.length>10?ne.design.icalendar.value["date-time"].toICAL(t):ne.design.icalendar.value.date.toICAL(t)},toString:function(){var e=this.year+"-"+ne.helpers.pad2(this.month)+"-"+ne.helpers.pad2(this.day);return this.isDate||(e+="T"+ne.helpers.pad2(this.hour)+":"+ne.helpers.pad2(this.minute)+":"+ne.helpers.pad2(this.second),this.zone===ne.Timezone.utcTimezone&&(e+="Z")),e},toJSDate:function(){return this.zone==ne.Timezone.localTimezone?this.isDate?new Date(this.year,this.month-1,this.day):new Date(this.year,this.month-1,this.day,this.hour,this.minute,this.second,0):new Date(this.toUnixTime()*1e3)},_normalize:function(){var e=this._time.isDate;return this._time.isDate&&(this._time.hour=0,this._time.minute=0,this._time.second=0),this.adjust(0,0,0,0),this},adjust:function(e,r,n,i,a){var o,s,l=0,c=0,u,d,f,h,p,m=a||this._time;if(m.isDate||(u=m.second+i,m.second=u%60,o=ne.helpers.trunc(u/60),m.second<0&&(m.second+=60,o--),d=m.minute+n+o,m.minute=d%60,s=ne.helpers.trunc(d/60),m.minute<0&&(m.minute+=60,s--),f=m.hour+r+s,m.hour=f%24,l=ne.helpers.trunc(f/24),m.hour<0&&(m.hour+=24,l--)),m.month>12?c=ne.helpers.trunc((m.month-1)/12):m.month<1&&(c=ne.helpers.trunc(m.month/12)-1),m.year+=c,m.month-=12*c,h=m.day+e+l,h>0)for(;p=ne.Time.daysInMonth(m.month,m.year),!(h<=p);)m.month++,m.month>12&&(m.year++,m.month=1),h-=p;else for(;h<=0;)m.month==1?(m.year--,m.month=12):m.month--,h+=ne.Time.daysInMonth(m.month,m.year);return m.day=h,this._cachedUnixTime=null,this},fromUnixTime:function(e){this.zone=ne.Timezone.utcTimezone;var r=ne.Time.epochTime.clone();r.adjust(0,0,0,e),this.year=r.year,this.month=r.month,this.day=r.day,this.hour=r.hour,this.minute=r.minute,this.second=Math.floor(r.second),this._cachedUnixTime=null},toUnixTime:function(){if(this._cachedUnixTime!==null)return this._cachedUnixTime;var e=this.utcOffset(),r=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second-e);return this._cachedUnixTime=r/1e3,this._cachedUnixTime},toJSON:function(){for(var t=["year","month","day","hour","minute","second","isDate"],e=Object.create(null),r=0,n=t.length,i;r<n;r++)i=t[r],e[i]=this[i];return this.zone&&(e.timezone=this.zone.tzid),e}},function(){function e(r){Object.defineProperty(ne.Time.prototype,r,{get:function(){return this._pendingNormalization&&(this._normalize(),this._pendingNormalization=!1),this._time[r]},set:function(i){return r==="isDate"&&i&&!this._time.isDate&&this.adjust(0,0,0,0),this._cachedUnixTime=null,this._pendingNormalization=!0,this._time[r]=i,i}})}"defineProperty"in Object&&(e("year"),e("month"),e("day"),e("hour"),e("minute"),e("second"),e("isDate"))}(),ne.Time.daysInMonth=function(e,r){var n=[0,31,28,31,30,31,30,31,31,30,31,30,31],i=30;return e<1||e>12||(i=n[e],e==2&&(i+=ne.Time.isLeapYear(r))),i},ne.Time.isLeapYear=function(e){return e<=1752?e%4==0:e%4==0&&e%100!=0||e%400==0},ne.Time.fromDayOfYear=function(e,r){var n=r,i=e,a=new ne.Time;a.auto_normalize=!1;var o=ne.Time.isLeapYear(n)?1:0;if(i<1)return n--,o=ne.Time.isLeapYear(n)?1:0,i+=ne.Time.daysInYearPassedMonth[o][12],ne.Time.fromDayOfYear(i,n);if(i>ne.Time.daysInYearPassedMonth[o][12])return o=ne.Time.isLeapYear(n)?1:0,i-=ne.Time.daysInYearPassedMonth[o][12],n++,ne.Time.fromDayOfYear(i,n);a.year=n,a.isDate=!0;for(var s=11;s>=0;s--)if(i>ne.Time.daysInYearPassedMonth[o][s]){a.month=s+1,a.day=i-ne.Time.daysInYearPassedMonth[o][s];break}return a.auto_normalize=!0,a},ne.Time.fromStringv2=function(e){return new ne.Time({year:parseInt(e.substr(0,4),10),month:parseInt(e.substr(5,2),10),day:parseInt(e.substr(8,2),10),isDate:!0})},ne.Time.fromDateString=function(t){return new ne.Time({year:ne.helpers.strictParseInt(t.substr(0,4)),month:ne.helpers.strictParseInt(t.substr(5,2)),day:ne.helpers.strictParseInt(t.substr(8,2)),isDate:!0})},ne.Time.fromDateTimeString=function(t,e){if(t.length<19)throw new Error('invalid date-time value: "'+t+'"');var r;t[19]&&t[19]==="Z"?r="Z":e&&(r=e.getParameter("tzid"));var n=new ne.Time({year:ne.helpers.strictParseInt(t.substr(0,4)),month:ne.helpers.strictParseInt(t.substr(5,2)),day:ne.helpers.strictParseInt(t.substr(8,2)),hour:ne.helpers.strictParseInt(t.substr(11,2)),minute:ne.helpers.strictParseInt(t.substr(14,2)),second:ne.helpers.strictParseInt(t.substr(17,2)),timezone:r});return n},ne.Time.fromString=function(e,r){return e.length>10?ne.Time.fromDateTimeString(e,r):ne.Time.fromDateString(e)},ne.Time.fromJSDate=function(e,r){var n=new ne.Time;return n.fromJSDate(e,r)},ne.Time.fromData=function(e,r){var n=new ne.Time;return n.fromData(e,r)},ne.Time.now=function(){return ne.Time.fromJSDate(new Date,!1)},ne.Time.weekOneStarts=function(e,r){var n=ne.Time.fromData({year:e,month:1,day:1,isDate:!0}),i=n.dayOfWeek(),a=r||ne.Time.DEFAULT_WEEK_START;return i>ne.Time.THURSDAY&&(n.day+=7),a>ne.Time.THURSDAY&&(n.day-=7),n.day-=i-a,n},ne.Time.getDominicalLetter=function(t){var e="GFEDCBA",r=(t+(t/4|0)+(t/400|0)-(t/100|0)-1)%7,n=ne.Time.isLeapYear(t);return n?e[(r+6)%7]+e[r]:e[r]},ne.Time.epochTime=ne.Time.fromData({year:1970,month:1,day:1,hour:0,minute:0,second:0,isDate:!1,timezone:"Z"}),ne.Time._cmp_attr=function(e,r,n){return e[n]>r[n]?1:e[n]<r[n]?-1:0},ne.Time.daysInYearPassedMonth=[[0,31,59,90,120,151,181,212,243,273,304,334,365],[0,31,60,91,121,152,182,213,244,274,305,335,366]],ne.Time.SUNDAY=1,ne.Time.MONDAY=2,ne.Time.TUESDAY=3,ne.Time.WEDNESDAY=4,ne.Time.THURSDAY=5,ne.Time.FRIDAY=6,ne.Time.SATURDAY=7,ne.Time.DEFAULT_WEEK_START=ne.Time.MONDAY})();(function(){ne.VCardTime=function(t,e,r){this.wrappedJSObject=this;var n=this._time=Object.create(null);n.year=null,n.month=null,n.day=null,n.hour=null,n.minute=null,n.second=null,this.icaltype=r||"date-and-or-time",this.fromData(t,e)},ne.helpers.inherits(ne.Time,ne.VCardTime,{icalclass:"vcardtime",icaltype:"date-and-or-time",zone:null,clone:function(){return new ne.VCardTime(this._time,this.zone,this.icaltype)},_normalize:function(){return this},utcOffset:function(){return this.zone instanceof ne.UtcOffset?this.zone.toSeconds():ne.Time.prototype.utcOffset.apply(this,arguments)},toICALString:function(){return ne.design.vcard.value[this.icaltype].toICAL(this.toString())},toString:function(){var e=ne.helpers.pad2,r=this.year,n=this.month,i=this.day,a=this.hour,o=this.minute,s=this.second,l=r!==null,c=n!==null,u=i!==null,d=a!==null,f=o!==null,h=s!==null,p=(l?e(r)+(c||u?"-":""):c||u?"--":"")+(c?e(n):"")+(u?"-"+e(i):""),m=(d?e(a):"-")+(d&&f?":":"")+(f?e(o):"")+(!d&&!f?"-":"")+(f&&h?":":"")+(h?e(s):""),v;if(this.zone===ne.Timezone.utcTimezone)v="Z";else if(this.zone instanceof ne.UtcOffset)v=this.zone.toString();else if(this.zone===ne.Timezone.localTimezone)v="";else if(this.zone instanceof ne.Timezone){var y=ne.UtcOffset.fromSeconds(this.zone.utcOffset(this));v=y.toString()}else v="";switch(this.icaltype){case"time":return m+v;case"date-and-or-time":case"date-time":return p+(m=="--"?"":"T"+m+v);case"date":return p}return null}}),ne.VCardTime.fromDateAndOrTimeString=function(t,e){function r(m,v,y){return m?ne.helpers.strictParseInt(m.substr(v,y)):null}var n=t.split("T"),i=n[0],a=n[1],o=a?ne.design.vcard.value.time._splitZone(a):[],s=o[0],l=o[1],c=ne.helpers.strictParseInt,u=i?i.length:0,d=l?l.length:0,f=i&&i[0]=="-"&&i[1]=="-",h=l&&l[0]=="-",p={year:f?null:r(i,0,4),month:f&&(u==4||u==7)?r(i,2,2):u==7||u==10?r(i,5,2):null,day:u==5?r(i,3,2):u==7&&f?r(i,5,2):u==10?r(i,8,2):null,hour:h?null:r(l,0,2),minute:h&&d==3?r(l,1,2):d>4?h?r(l,1,2):r(l,3,2):null,second:d==4?r(l,2,2):d==6?r(l,4,2):d==8?r(l,6,2):null};return s=="Z"?s=ne.Timezone.utcTimezone:s&&s[3]==":"?s=ne.UtcOffset.fromString(s):s=null,new ne.VCardTime(p,s,e)}})();(function(){var t={SU:ne.Time.SUNDAY,MO:ne.Time.MONDAY,TU:ne.Time.TUESDAY,WE:ne.Time.WEDNESDAY,TH:ne.Time.THURSDAY,FR:ne.Time.FRIDAY,SA:ne.Time.SATURDAY},e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);var n=["BYSECOND","BYMINUTE","BYHOUR","BYDAY","BYMONTHDAY","BYYEARDAY","BYWEEKNO","BYMONTH","BYSETPOS"];ne.Recur=function(d){this.wrappedJSObject=this,this.parts={},d&&typeof d=="object"&&this.fromData(d)},ne.Recur.prototype={parts:null,interval:1,wkst:ne.Time.MONDAY,until:null,count:null,freq:null,icalclass:"icalrecur",icaltype:"recur",iterator:function(u){return new ne.RecurIterator({rule:this,dtstart:u})},clone:function(){return new ne.Recur(this.toJSON())},isFinite:function(){return!!(this.count||this.until)},isByCount:function(){return!!(this.count&&!this.until)},addComponent:function(d,f){var h=d.toUpperCase();h in this.parts?this.parts[h].push(f):this.parts[h]=[f]},setComponent:function(d,f){this.parts[d.toUpperCase()]=f.slice()},getComponent:function(d){var f=d.toUpperCase();return f in this.parts?this.parts[f].slice():[]},getNextOccurrence:function(d,f){var h=this.iterator(d),p,m;do p=h.next();while(p&&p.compare(f)<=0);return p&&f.zone&&(p.zone=f.zone),p},fromData:function(u){for(var d in u){var f=d.toUpperCase();f in c?Array.isArray(u[d])?this.parts[f]=u[d]:this.parts[f]=[u[d]]:this[d]=u[d]}this.interval&&typeof this.interval!="number"&&l.INTERVAL(this.interval,this),this.wkst&&typeof this.wkst!="number"&&(this.wkst=ne.Recur.icalDayToNumericDay(this.wkst)),this.until&&!(this.until instanceof ne.Time)&&(this.until=ne.Time.fromString(this.until))},toJSON:function(){var u=Object.create(null);u.freq=this.freq,this.count&&(u.count=this.count),this.interval>1&&(u.interval=this.interval);for(var d in this.parts)if(this.parts.hasOwnProperty(d)){var f=this.parts[d];Array.isArray(f)&&f.length==1?u[d.toLowerCase()]=f[0]:u[d.toLowerCase()]=ne.helpers.clone(this.parts[d])}return this.until&&(u.until=this.until.toString()),"wkst"in this&&this.wkst!==ne.Time.DEFAULT_WEEK_START&&(u.wkst=ne.Recur.numericDayToIcalDay(this.wkst)),u},toString:function(){var d="FREQ="+this.freq;this.count&&(d+=";COUNT="+this.count),this.interval>1&&(d+=";INTERVAL="+this.interval);for(var f in this.parts)this.parts.hasOwnProperty(f)&&(d+=";"+f+"="+this.parts[f]);return this.until&&(d+=";UNTIL="+this.until.toICALString()),"wkst"in this&&this.wkst!==ne.Time.DEFAULT_WEEK_START&&(d+=";WKST="+ne.Recur.numericDayToIcalDay(this.wkst)),d}};function i(u,d,f,h){var p=h;if(h[0]==="+"&&(p=h.substr(1)),p=ne.helpers.strictParseInt(p),d!==void 0&&h<d)throw new Error(u+': invalid value "'+h+'" must be > '+d);if(f!==void 0&&h>f)throw new Error(u+': invalid value "'+h+'" must be < '+d);return p}ne.Recur.icalDayToNumericDay=function(d,f){var h=f||ne.Time.SUNDAY;return(t[d]-h+7)%7+1},ne.Recur.numericDayToIcalDay=function(d,f){var h=f||ne.Time.SUNDAY,p=d+h-ne.Time.SUNDAY;return p>7&&(p-=7),e[p]};var a=/^(SU|MO|TU|WE|TH|FR|SA)$/,o=/^([+-])?(5[0-3]|[1-4][0-9]|[1-9])?(SU|MO|TU|WE|TH|FR|SA)$/,s=["SECONDLY","MINUTELY","HOURLY","DAILY","WEEKLY","MONTHLY","YEARLY"],l={FREQ:function(u,d,f){if(s.indexOf(u)!==-1)d.freq=u;else throw new Error('invalid frequency "'+u+'" expected: "'+s.join(", ")+'"')},COUNT:function(u,d,f){d.count=ne.helpers.strictParseInt(u)},INTERVAL:function(u,d,f){d.interval=ne.helpers.strictParseInt(u),d.interval<1&&(d.interval=1)},UNTIL:function(u,d,f){u.length>10?d.until=ne.design.icalendar.value["date-time"].fromICAL(u):d.until=ne.design.icalendar.value.date.fromICAL(u),f||(d.until=ne.Time.fromString(d.until))},WKST:function(u,d,f){if(a.test(u))d.wkst=ne.Recur.icalDayToNumericDay(u);else throw new Error('invalid WKST value "'+u+'"')}},c={BYSECOND:i.bind(this,"BYSECOND",0,60),BYMINUTE:i.bind(this,"BYMINUTE",0,59),BYHOUR:i.bind(this,"BYHOUR",0,23),BYDAY:function(u){if(o.test(u))return u;throw new Error('invalid BYDAY value "'+u+'"')},BYMONTHDAY:i.bind(this,"BYMONTHDAY",-31,31),BYYEARDAY:i.bind(this,"BYYEARDAY",-366,366),BYWEEKNO:i.bind(this,"BYWEEKNO",-53,53),BYMONTH:i.bind(this,"BYMONTH",1,12),BYSETPOS:i.bind(this,"BYSETPOS",-366,366)};ne.Recur.fromString=function(u){var d=ne.Recur._stringToData(u,!1);return new ne.Recur(d)},ne.Recur.fromData=function(u){return new ne.Recur(u)},ne.Recur._stringToData=function(u,d){for(var f=Object.create(null),h=u.split(";"),p=h.length,m=0;m<p;m++){var v=h[m].split("="),y=v[0].toUpperCase(),b=v[0].toLowerCase(),x=d?b:y,w=v[1];if(y in c){for(var S=w.split(","),_=0,C=S.length;_<C;_++)S[_]=c[y](S[_]);f[x]=S.length==1?S[0]:S}else y in l?l[y](w,f,d):f[b]=w}return f}})();ne.RecurIterator=function(){function t(e){this.fromData(e)}return t.prototype={completed:!1,rule:null,dtstart:null,last:null,occurrence_number:0,by_indices:null,initialized:!1,by_data:null,days:null,days_index:0,fromData:function(e){if(this.rule=ne.helpers.formatClassType(e.rule,ne.Recur),!this.rule)throw new Error("iterator requires a (ICAL.Recur) rule");if(this.dtstart=ne.helpers.formatClassType(e.dtstart,ne.Time),!this.dtstart)throw new Error("iterator requires a (ICAL.Time) dtstart");e.by_data?this.by_data=e.by_data:this.by_data=ne.helpers.clone(this.rule.parts,!0),e.occurrence_number&&(this.occurrence_number=e.occurrence_number),this.days=e.days||[],e.last&&(this.last=ne.helpers.formatClassType(e.last,ne.Time)),this.by_indices=e.by_indices,this.by_indices||(this.by_indices={BYSECOND:0,BYMINUTE:0,BYHOUR:0,BYDAY:0,BYMONTH:0,BYWEEKNO:0,BYMONTHDAY:0}),this.initialized=e.initialized||!1,this.initialized||this.init()},init:function(){this.initialized=!0,this.last=this.dtstart.clone();var r=this.by_data;if("BYDAY"in r&&this.sort_byday_rules(r.BYDAY),"BYYEARDAY"in r&&("BYMONTH"in r||"BYWEEKNO"in r||"BYMONTHDAY"in r||"BYDAY"in r))throw new Error("Invalid BYYEARDAY rule");if("BYWEEKNO"in r&&"BYMONTHDAY"in r)throw new Error("BYWEEKNO does not fit to BYMONTHDAY");if(this.rule.freq=="MONTHLY"&&("BYYEARDAY"in r||"BYWEEKNO"in r))throw new Error("For MONTHLY recurrences neither BYYEARDAY nor BYWEEKNO may appear");if(this.rule.freq=="WEEKLY"&&("BYYEARDAY"in r||"BYMONTHDAY"in r))throw new Error("For WEEKLY recurrences neither BYMONTHDAY nor BYYEARDAY may appear");if(this.rule.freq!="YEARLY"&&"BYYEARDAY"in r)throw new Error("BYYEARDAY may only appear in YEARLY rules");if(this.last.second=this.setup_defaults("BYSECOND","SECONDLY",this.dtstart.second),this.last.minute=this.setup_defaults("BYMINUTE","MINUTELY",this.dtstart.minute),this.last.hour=this.setup_defaults("BYHOUR","HOURLY",this.dtstart.hour),this.last.day=this.setup_defaults("BYMONTHDAY","DAILY",this.dtstart.day),this.last.month=this.setup_defaults("BYMONTH","MONTHLY",this.dtstart.month),this.rule.freq=="WEEKLY")if("BYDAY"in r){var n=this.ruleDayOfWeek(r.BYDAY[0],this.rule.wkst),i=n[0],a=n[1],o=a-this.last.dayOfWeek(this.rule.wkst);(this.last.dayOfWeek(this.rule.wkst)<a&&o>=0||o<0)&&(this.last.day+=o)}else{var s=ne.Recur.numericDayToIcalDay(this.dtstart.dayOfWeek());r.BYDAY=[s]}if(this.rule.freq=="YEARLY"){for(;this.expand_year_days(this.last.year),!(this.days.length>0);)this.increment_year(this.rule.interval);this._nextByYearDay()}if(this.rule.freq=="MONTHLY"&&this.has_by_data("BYDAY")){var l=null,c=this.last.clone(),u=ne.Time.daysInMonth(this.last.month,this.last.year);for(var d in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(d)){this.last=c.clone();var n=this.ruleDayOfWeek(this.by_data.BYDAY[d]),i=n[0],a=n[1],f=this.last.nthWeekDay(a,i);if(i>=6||i<=-6)throw new Error("Malformed values in BYDAY part");if(f>u||f<=0){if(l&&l.month==c.month)continue;for(;f>u||f<=0;)this.increment_month(),u=ne.Time.daysInMonth(this.last.month,this.last.year),f=this.last.nthWeekDay(a,i)}this.last.day=f,(!l||this.last.compare(l)<0)&&(l=this.last.clone())}if(this.last=l.clone(),this.has_by_data("BYMONTHDAY")&&this._byDayAndMonthDay(!0),this.last.day>u||this.last.day==0)throw new Error("Malformed values in BYDAY part")}else if(this.has_by_data("BYMONTHDAY")&&this.last.day<0){var u=ne.Time.daysInMonth(this.last.month,this.last.year);this.last.day=u+this.last.day+1}},next:function(){var r=this.last?this.last.clone():null;if(this.rule.count&&this.occurrence_number>=this.rule.count||this.rule.until&&this.last.compare(this.rule.until)>0)return this.completed=!0,null;if(this.occurrence_number==0&&this.last.compare(this.dtstart)>=0)return this.occurrence_number++,this.last;var n;do switch(n=1,this.rule.freq){case"SECONDLY":this.next_second();break;case"MINUTELY":this.next_minute();break;case"HOURLY":this.next_hour();break;case"DAILY":this.next_day();break;case"WEEKLY":this.next_week();break;case"MONTHLY":n=this.next_month();break;case"YEARLY":this.next_year();break;default:return null}while(!this.check_contracting_rules()||this.last.compare(this.dtstart)<0||!n);if(this.last.compare(r)==0)throw new Error("Same occurrence found twice, protecting you from death by recursion");return this.rule.until&&this.last.compare(this.rule.until)>0?(this.completed=!0,null):(this.occurrence_number++,this.last)},next_second:function(){return this.next_generic("BYSECOND","SECONDLY","second","minute")},increment_second:function(r){return this.increment_generic(r,"second",60,"minute")},next_minute:function(){return this.next_generic("BYMINUTE","MINUTELY","minute","hour","next_second")},increment_minute:function(r){return this.increment_generic(r,"minute",60,"hour")},next_hour:function(){return this.next_generic("BYHOUR","HOURLY","hour","monthday","next_minute")},increment_hour:function(r){this.increment_generic(r,"hour",24,"monthday")},next_day:function(){var r="BYDAY"in this.by_data,n=this.rule.freq=="DAILY";return this.next_hour()==0||(n?this.increment_monthday(this.rule.interval):this.increment_monthday(1)),0},next_week:function(){var r=0;if(this.next_weekday_by_week()==0)return r;if(this.has_by_data("BYWEEKNO")){var n=++this.by_indices.BYWEEKNO;this.by_indices.BYWEEKNO==this.by_data.BYWEEKNO.length&&(this.by_indices.BYWEEKNO=0,r=1),this.last.month=1,this.last.day=1;var i=this.by_data.BYWEEKNO[this.by_indices.BYWEEKNO];this.last.day+=7*i,r&&this.increment_year(1)}else this.increment_monthday(7*this.rule.interval);return r},normalizeByMonthDayRules:function(e,r,n){for(var i=ne.Time.daysInMonth(r,e),a=[],o=0,s=n.length,l;o<s;o++)if(l=n[o],!(Math.abs(l)>i)){if(l<0)l=i+(l+1);else if(l===0)continue;a.indexOf(l)===-1&&a.push(l)}return a.sort(function(c,u){return c-u})},_byDayAndMonthDay:function(e){var r,n=this.by_data.BYDAY,i,a=0,o,s=n.length,l=0,c,u=this,d=this.last.day;function f(){for(c=ne.Time.daysInMonth(u.last.month,u.last.year),r=u.normalizeByMonthDayRules(u.last.year,u.last.month,u.by_data.BYMONTHDAY),o=r.length;r[a]<=d&&!(e&&r[a]==d)&&a<o-1;)a++}function h(){d=0,u.increment_month(),a=0,f()}f(),e&&(d-=1);for(var p=48;!l&&p;){if(p--,i=d+1,i>c){h();continue}var m=r[a++];if(m>=i)d=m;else{h();continue}for(var v=0;v<s;v++){var y=this.ruleDayOfWeek(n[v]),b=y[0],x=y[1];if(this.last.day=d,this.last.isNthWeekDay(x,b)){l=1;break}}if(!l&&a===o){h();continue}}if(p<=0)throw new Error("Malformed values in BYDAY combined with BYMONTHDAY parts");return l},next_month:function(){var r=this.rule.freq=="MONTHLY",n=1;if(this.next_hour()==0)return n;if(this.has_by_data("BYDAY")&&this.has_by_data("BYMONTHDAY"))n=this._byDayAndMonthDay();else if(this.has_by_data("BYDAY")){var i=ne.Time.daysInMonth(this.last.month,this.last.year),a=0,o=0;if(this.has_by_data("BYSETPOS")){for(var s=this.last.day,l=1;l<=i;l++)this.last.day=l,this.is_day_in_byday(this.last)&&(o++,l<=s&&a++);this.last.day=s}n=0;for(var l=this.last.day+1;l<=i;l++)if(this.last.day=l,this.is_day_in_byday(this.last)&&(!this.has_by_data("BYSETPOS")||this.check_set_position(++a)||this.check_set_position(a-o-1))){n=1;break}l>i&&(this.last.day=1,this.increment_month(),this.is_day_in_byday(this.last)?(!this.has_by_data("BYSETPOS")||this.check_set_position(1))&&(n=1):n=0)}else if(this.has_by_data("BYMONTHDAY")){this.by_indices.BYMONTHDAY++,this.by_indices.BYMONTHDAY>=this.by_data.BYMONTHDAY.length&&(this.by_indices.BYMONTHDAY=0,this.increment_month());var i=ne.Time.daysInMonth(this.last.month,this.last.year),l=this.by_data.BYMONTHDAY[this.by_indices.BYMONTHDAY];l<0&&(l=i+l+1),l>i?(this.last.day=1,n=this.is_day_in_byday(this.last)):this.last.day=l}else{this.increment_month();var i=ne.Time.daysInMonth(this.last.month,this.last.year);this.by_data.BYMONTHDAY[0]>i?n=0:this.last.day=this.by_data.BYMONTHDAY[0]}return n},next_weekday_by_week:function(){var r=0;if(this.next_hour()==0)return r;if(!this.has_by_data("BYDAY"))return 1;for(;;){var n=new ne.Time;this.by_indices.BYDAY++,this.by_indices.BYDAY==Object.keys(this.by_data.BYDAY).length&&(this.by_indices.BYDAY=0,r=1);var i=this.by_data.BYDAY[this.by_indices.BYDAY],a=this.ruleDayOfWeek(i),o=a[1];o-=this.rule.wkst,o<0&&(o+=7),n.year=this.last.year,n.month=this.last.month,n.day=this.last.day;var s=n.startDoyWeek(this.rule.wkst);if(!(o+s<1&&!r)){var l=ne.Time.fromDayOfYear(s+o,this.last.year);return this.last.year=l.year,this.last.month=l.month,this.last.day=l.day,r}}},next_year:function(){if(this.next_hour()==0)return 0;if(++this.days_index==this.days.length){this.days_index=0;do this.increment_year(this.rule.interval),this.expand_year_days(this.last.year);while(this.days.length==0)}return this._nextByYearDay(),1},_nextByYearDay:function(){var r=this.days[this.days_index],n=this.last.year;r<1&&(r+=1,n+=1);var i=ne.Time.fromDayOfYear(r,n);this.last.day=i.day,this.last.month=i.month},ruleDayOfWeek:function(r,n){var i=r.match(/([+-]?[0-9])?(MO|TU|WE|TH|FR|SA|SU)/);if(i){var a=parseInt(i[1]||0,10);return r=ne.Recur.icalDayToNumericDay(i[2],n),[a,r]}else return[0,0]},next_generic:function(r,n,i,a,o){var s=r in this.by_data,l=this.rule.freq==n,c=0;if(o&&this[o]()==0)return c;if(s){this.by_indices[r]++;var u=this.by_indices[r],d=this.by_data[r];this.by_indices[r]==d.length&&(this.by_indices[r]=0,c=1),this.last[i]=d[this.by_indices[r]]}else l&&this["increment_"+i](this.rule.interval);return s&&c&&l&&this["increment_"+a](1),c},increment_monthday:function(r){for(var n=0;n<r;n++){var i=ne.Time.daysInMonth(this.last.month,this.last.year);this.last.day++,this.last.day>i&&(this.last.day-=i,this.increment_month())}},increment_month:function(){if(this.last.day=1,this.has_by_data("BYMONTH"))this.by_indices.BYMONTH++,this.by_indices.BYMONTH==this.by_data.BYMONTH.length&&(this.by_indices.BYMONTH=0,this.increment_year(1)),this.last.month=this.by_data.BYMONTH[this.by_indices.BYMONTH];else{this.rule.freq=="MONTHLY"?this.last.month+=this.rule.interval:this.last.month++,this.last.month--;var r=ne.helpers.trunc(this.last.month/12);this.last.month%=12,this.last.month++,r!=0&&this.increment_year(r)}},increment_year:function(r){this.last.year+=r},increment_generic:function(r,n,i,a){this.last[n]+=r;var o=ne.helpers.trunc(this.last[n]/i);this.last[n]%=i,o!=0&&this["increment_"+a](o)},has_by_data:function(r){return r in this.rule.parts},expand_year_days:function(r){var n=new ne.Time;this.days=[];var i={},a=["BYDAY","BYWEEKNO","BYMONTHDAY","BYMONTH","BYYEARDAY"];for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];s in this.rule.parts&&(i[s]=this.rule.parts[s])}if("BYMONTH"in i&&"BYWEEKNO"in i){var l=1,c={};n.year=r,n.isDate=!0;for(var u=0;u<this.by_data.BYMONTH.length;u++){var d=this.by_data.BYMONTH[u];n.month=d,n.day=1;var f=n.weekNumber(this.rule.wkst);n.day=ne.Time.daysInMonth(d,r);var h=n.weekNumber(this.rule.wkst);for(u=f;u<h;u++)c[u]=1}for(var p=0;p<this.by_data.BYWEEKNO.length&&l;p++){var m=this.by_data.BYWEEKNO[p];m<52?l&=c[p]:l=0}l?delete i.BYMONTH:delete i.BYWEEKNO}var v=Object.keys(i).length;if(v==0){var y=this.dtstart.clone();y.year=this.last.year,this.days.push(y.dayOfYear())}else if(v==1&&"BYMONTH"in i){for(var b in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(b)){var x=this.dtstart.clone();x.year=r,x.month=this.by_data.BYMONTH[b],x.isDate=!0,this.days.push(x.dayOfYear())}}else if(v==1&&"BYMONTHDAY"in i){for(var w in this.by_data.BYMONTHDAY)if(this.by_data.BYMONTHDAY.hasOwnProperty(w)){var S=this.dtstart.clone(),_=this.by_data.BYMONTHDAY[w];if(_<0){var C=ne.Time.daysInMonth(S.month,r);_=_+C+1}S.day=_,S.year=r,S.isDate=!0,this.days.push(S.dayOfYear())}}else if(v==2&&"BYMONTHDAY"in i&&"BYMONTH"in i){for(var b in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(b)){var E=this.by_data.BYMONTH[b],C=ne.Time.daysInMonth(E,r);for(var w in this.by_data.BYMONTHDAY)if(this.by_data.BYMONTHDAY.hasOwnProperty(w)){var _=this.by_data.BYMONTHDAY[w];_<0&&(_=_+C+1),n.day=_,n.month=E,n.year=r,n.isDate=!0,this.days.push(n.dayOfYear())}}}else if(!(v==1&&"BYWEEKNO"in i)){if(!(v==2&&"BYWEEKNO"in i&&"BYMONTHDAY"in i))if(v==1&&"BYDAY"in i)this.days=this.days.concat(this.expand_by_day(r));else if(v==2&&"BYDAY"in i&&"BYMONTH"in i){for(var b in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(b)){var d=this.by_data.BYMONTH[b],C=ne.Time.daysInMonth(d,r);n.year=r,n.month=this.by_data.BYMONTH[b],n.day=1,n.isDate=!0;var M=n.dayOfWeek(),I=n.dayOfYear()-1;n.day=C;var L=n.dayOfWeek();if(this.has_by_data("BYSETPOS")){for(var O=0,H=[],Y=1;Y<=C;Y++)n.day=Y,this.is_day_in_byday(n)&&H.push(Y);for(var K=0;K<H.length;K++)(this.check_set_position(K+1)||this.check_set_position(K-H.length))&&this.days.push(I+H[K])}else for(var N in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(N)){var U=this.by_data.BYDAY[N],B=this.ruleDayOfWeek(U),$=B[0],ee=B[1],te,he=(ee+7-M)%7+1,we=C-(L+7-ee)%7;if($==0)for(var Y=he;Y<=C;Y+=7)this.days.push(I+Y);else $>0?(te=he+($-1)*7,te<=C&&this.days.push(I+te)):(te=we+($+1)*7,te>0&&this.days.push(I+te))}}this.days.sort(function(X,G){return X-G})}else if(v==2&&"BYDAY"in i&&"BYMONTHDAY"in i){var Te=this.expand_by_day(r);for(var ce in Te)if(Te.hasOwnProperty(ce)){var Y=Te[ce],q=ne.Time.fromDayOfYear(Y,r);this.by_data.BYMONTHDAY.indexOf(q.day)>=0&&this.days.push(Y)}}else if(v==3&&"BYDAY"in i&&"BYMONTHDAY"in i&&"BYMONTH"in i){var Te=this.expand_by_day(r);for(var ce in Te)if(Te.hasOwnProperty(ce)){var Y=Te[ce],q=ne.Time.fromDayOfYear(Y,r);this.by_data.BYMONTH.indexOf(q.month)>=0&&this.by_data.BYMONTHDAY.indexOf(q.day)>=0&&this.days.push(Y)}}else if(v==2&&"BYDAY"in i&&"BYWEEKNO"in i){var Te=this.expand_by_day(r);for(var ce in Te)if(Te.hasOwnProperty(ce)){var Y=Te[ce],q=ne.Time.fromDayOfYear(Y,r),m=q.weekNumber(this.rule.wkst);this.by_data.BYWEEKNO.indexOf(m)&&this.days.push(Y)}}else v==3&&"BYDAY"in i&&"BYWEEKNO"in i&&"BYMONTHDAY"in i||(v==1&&"BYYEARDAY"in i?this.days=this.days.concat(this.by_data.BYYEARDAY):this.days=[])}return 0},expand_by_day:function(r){var n=[],i=this.last.clone();i.year=r,i.month=1,i.day=1,i.isDate=!0;var a=i.dayOfWeek();i.month=12,i.day=31,i.isDate=!0;var o=i.dayOfWeek(),s=i.dayOfYear();for(var l in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(l)){var c=this.by_data.BYDAY[l],u=this.ruleDayOfWeek(c),d=u[0],f=u[1];if(d==0)for(var h=(f+7-a)%7+1,p=h;p<=s;p+=7)n.push(p);else if(d>0){var m;f>=a?m=f-a+1:m=f-a+8,n.push(m+(d-1)*7)}else{var v;d=-d,f<=o?v=s-o+f:v=s-o+f-7,n.push(v-(d-1)*7)}}return n},is_day_in_byday:function(r){for(var n in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(n)){var i=this.by_data.BYDAY[n],a=this.ruleDayOfWeek(i),o=a[0],s=a[1],l=r.dayOfWeek();if(o==0&&s==l||r.nthWeekDay(s,o)==r.day)return 1}return 0},check_set_position:function(r){if(this.has_by_data("BYSETPOS")){var n=this.by_data.BYSETPOS.indexOf(r);return n!==-1}return!1},sort_byday_rules:function(r){for(var n=0;n<r.length;n++)for(var i=0;i<n;i++){var a=this.ruleDayOfWeek(r[i],this.rule.wkst)[1],o=this.ruleDayOfWeek(r[n],this.rule.wkst)[1];if(a>o){var s=r[n];r[n]=r[i],r[i]=s}}},check_contract_restriction:function(r,n){var i=t._indexMap[r],a=t._expandMap[this.rule.freq][i],o=!1;if(r in this.by_data&&a==t.CONTRACT){var s=this.by_data[r];for(var l in s)if(s.hasOwnProperty(l)&&s[l]==n){o=!0;break}}else o=!0;return o},check_contracting_rules:function(){var r=this.last.dayOfWeek(),n=this.last.weekNumber(this.rule.wkst),i=this.last.dayOfYear();return this.check_contract_restriction("BYSECOND",this.last.second)&&this.check_contract_restriction("BYMINUTE",this.last.minute)&&this.check_contract_restriction("BYHOUR",this.last.hour)&&this.check_contract_restriction("BYDAY",ne.Recur.numericDayToIcalDay(r))&&this.check_contract_restriction("BYWEEKNO",n)&&this.check_contract_restriction("BYMONTHDAY",this.last.day)&&this.check_contract_restriction("BYMONTH",this.last.month)&&this.check_contract_restriction("BYYEARDAY",i)},setup_defaults:function(r,n,i){var a=t._indexMap[r],o=t._expandMap[this.rule.freq][a];return o!=t.CONTRACT&&(r in this.by_data||(this.by_data[r]=[i]),this.rule.freq!=n)?this.by_data[r][0]:i},toJSON:function(){var e=Object.create(null);return e.initialized=this.initialized,e.rule=this.rule.toJSON(),e.dtstart=this.dtstart.toJSON(),e.by_data=this.by_data,e.days=this.days,e.last=this.last.toJSON(),e.by_indices=this.by_indices,e.occurrence_number=this.occurrence_number,e}},t._indexMap={BYSECOND:0,BYMINUTE:1,BYHOUR:2,BYDAY:3,BYMONTHDAY:4,BYYEARDAY:5,BYWEEKNO:6,BYMONTH:7,BYSETPOS:8},t._expandMap={SECONDLY:[1,1,1,1,1,1,1,1],MINUTELY:[2,1,1,1,1,1,1,1],HOURLY:[2,2,1,1,1,1,1,1],DAILY:[2,2,2,1,1,1,1,1],WEEKLY:[2,2,2,2,3,3,1,1],MONTHLY:[2,2,2,2,2,3,3,1],YEARLY:[2,2,2,2,2,2,2,2]},t.UNKNOWN=0,t.CONTRACT=1,t.EXPAND=2,t.ILLEGAL=3,t}();ne.RecurExpansion=function(){function t(i){return ne.helpers.formatClassType(i,ne.Time)}function e(i,a){return i.compare(a)}function r(i){return i.hasProperty("rdate")||i.hasProperty("rrule")||i.hasProperty("recurrence-id")}function n(i){this.ruleDates=[],this.exDates=[],this.fromData(i)}return n.prototype={complete:!1,ruleIterators:null,ruleDates:null,exDates:null,ruleDateInc:0,exDateInc:0,exDate:null,ruleDate:null,dtstart:null,last:null,fromData:function(i){var a=ne.helpers.formatClassType(i.dtstart,ne.Time);if(a)this.dtstart=a;else throw new Error(".dtstart (ICAL.Time) must be given");if(i.component)this._init(i.component);else{if(this.last=t(i.last)||a.clone(),!i.ruleIterators)throw new Error(".ruleIterators or .component must be given");this.ruleIterators=i.ruleIterators.map(function(o){return ne.helpers.formatClassType(o,ne.RecurIterator)}),this.ruleDateInc=i.ruleDateInc,this.exDateInc=i.exDateInc,i.ruleDates&&(this.ruleDates=i.ruleDates.map(t),this.ruleDate=this.ruleDates[this.ruleDateInc]),i.exDates&&(this.exDates=i.exDates.map(t),this.exDate=this.exDates[this.exDateInc]),typeof i.complete!="undefined"&&(this.complete=i.complete)}},next:function(){for(var i,a,o,s,l=500,c=0;;){if(c++>l)throw new Error("max tries have occured, rule may be impossible to forfill.");if(o=this.ruleDate,i=this._nextRecurrenceIter(this.last),!o&&!i){this.complete=!0;break}if((!o||i&&o.compare(i.last)>0)&&(o=i.last.clone(),i.next()),this.ruleDate===o&&this._nextRuleDay(),this.last=o,this.exDate&&(s=this.exDate.compare(this.last),s<0&&this._nextExDay(),s===0)){this._nextExDay();continue}return this.last}},toJSON:function(){function i(o){return o.toJSON()}var a=Object.create(null);return a.ruleIterators=this.ruleIterators.map(i),this.ruleDates&&(a.ruleDates=this.ruleDates.map(i)),this.exDates&&(a.exDates=this.exDates.map(i)),a.ruleDateInc=this.ruleDateInc,a.exDateInc=this.exDateInc,a.last=this.last.toJSON(),a.dtstart=this.dtstart.toJSON(),a.complete=this.complete,a},_extractDates:function(i,a){function o(h){f=ne.helpers.binsearchInsert(s,h,e),s.splice(f,0,h)}for(var s=[],l=i.getAllProperties(a),c=l.length,u=0,d,f;u<c;u++)l[u].getValues().forEach(o);return s},_init:function(i){if(this.ruleIterators=[],this.last=this.dtstart.clone(),!r(i)){this.ruleDate=this.last.clone(),this.complete=!0;return}if(i.hasProperty("rdate")&&(this.ruleDates=this._extractDates(i,"rdate"),this.ruleDates[0]&&this.ruleDates[0].compare(this.dtstart)<0?(this.ruleDateInc=0,this.last=this.ruleDates[0].clone()):this.ruleDateInc=ne.helpers.binsearchInsert(this.ruleDates,this.last,e),this.ruleDate=this.ruleDates[this.ruleDateInc]),i.hasProperty("rrule"))for(var a=i.getAllProperties("rrule"),o=0,s=a.length,l,c;o<s;o++)l=a[o].getFirstValue(),c=l.iterator(this.dtstart),this.ruleIterators.push(c),c.next();i.hasProperty("exdate")&&(this.exDates=this._extractDates(i,"exdate"),this.exDateInc=ne.helpers.binsearchInsert(this.exDates,this.last,e),this.exDate=this.exDates[this.exDateInc])},_nextExDay:function(){this.exDate=this.exDates[++this.exDateInc]},_nextRuleDay:function(){this.ruleDate=this.ruleDates[++this.ruleDateInc]},_nextRecurrenceIter:function(){var i=this.ruleIterators;if(i.length===0)return null;for(var a=i.length,o,s,l=0,c;l<a;l++){if(o=i[l],s=o.last,o.completed){a--,l!==0&&l--,i.splice(l,1);continue}(!c||c.last.compare(s)>0)&&(c=o)}return c}},n}();ne.Event=function(){function t(r,n){r instanceof ne.Component||(n=r,r=null),r?this.component=r:this.component=new ne.Component("vevent"),this._rangeExceptionCache=Object.create(null),this.exceptions=Object.create(null),this.rangeExceptions=[],n&&n.strictExceptions&&(this.strictExceptions=n.strictExceptions),n&&n.exceptions?n.exceptions.forEach(this.relateException,this):this.component.parent&&!this.isRecurrenceException()&&this.component.parent.getAllSubcomponents("vevent").forEach(function(i){i.hasProperty("recurrence-id")&&this.relateException(i)},this)}t.prototype={THISANDFUTURE:"THISANDFUTURE",exceptions:null,strictExceptions:!1,relateException:function(r){if(this.isRecurrenceException())throw new Error("cannot relate exception to exceptions");if(r instanceof ne.Component&&(r=new ne.Event(r)),this.strictExceptions&&r.uid!==this.uid)throw new Error("attempted to relate unrelated exception");var n=r.recurrenceId.toString();if(this.exceptions[n]=r,r.modifiesFuture()){var i=[r.recurrenceId.toUnixTime(),n],a=ne.helpers.binsearchInsert(this.rangeExceptions,i,e);this.rangeExceptions.splice(a,0,i)}},modifiesFuture:function(){if(!this.component.hasProperty("recurrence-id"))return!1;var r=this.component.getFirstProperty("recurrence-id").getParameter("range");return r===this.THISANDFUTURE},findRangeException:function(r){if(!this.rangeExceptions.length)return null;var n=r.toUnixTime(),i=ne.helpers.binsearchInsert(this.rangeExceptions,[n],e);if(i-=1,i<0)return null;var a=this.rangeExceptions[i];return n<a[0]?null:a[1]},getOccurrenceDetails:function(r){var n=r.toString(),i=r.convertToZone(ne.Timezone.utcTimezone).toString(),a,o={recurrenceId:r};if(n in this.exceptions)a=o.item=this.exceptions[n],o.startDate=a.startDate,o.endDate=a.endDate,o.item=a;else if(i in this.exceptions)a=this.exceptions[i],o.startDate=a.startDate,o.endDate=a.endDate,o.item=a;else{var s=this.findRangeException(r),l;if(s){var c=this.exceptions[s];o.item=c;var u=this._rangeExceptionCache[s];if(!u){var d=c.recurrenceId.clone(),f=c.startDate.clone();d.zone=f.zone,u=f.subtractDate(d),this._rangeExceptionCache[s]=u}var h=r.clone();h.zone=c.startDate.zone,h.addDuration(u),l=h.clone(),l.addDuration(c.duration),o.startDate=h,o.endDate=l}else l=r.clone(),l.addDuration(this.duration),o.endDate=l,o.startDate=r,o.item=this}return o},iterator:function(r){return new ne.RecurExpansion({component:this.component,dtstart:r||this.startDate})},isRecurring:function(){var r=this.component;return r.hasProperty("rrule")||r.hasProperty("rdate")},isRecurrenceException:function(){return this.component.hasProperty("recurrence-id")},getRecurrenceTypes:function(){for(var r=this.component.getAllProperties("rrule"),n=0,i=r.length,a=Object.create(null);n<i;n++){var o=r[n].getFirstValue();a[o.freq]=!0}return a},get uid(){return this._firstProp("uid")},set uid(r){this._setProp("uid",r)},get startDate(){return this._firstProp("dtstart")},set startDate(r){this._setTime("dtstart",r)},get endDate(){var r=this._firstProp("dtend");if(!r){var n=this._firstProp("duration");r=this.startDate.clone(),n?r.addDuration(n):r.isDate&&(r.day+=1)}return r},set endDate(r){this.component.hasProperty("duration")&&this.component.removeProperty("duration"),this._setTime("dtend",r)},get duration(){var r=this._firstProp("duration");return r||this.endDate.subtractDateTz(this.startDate)},set duration(r){this.component.hasProperty("dtend")&&this.component.removeProperty("dtend"),this._setProp("duration",r)},get location(){return this._firstProp("location")},set location(r){return this._setProp("location",r)},get attendees(){return this.component.getAllProperties("attendee")},get summary(){return this._firstProp("summary")},set summary(r){this._setProp("summary",r)},get description(){return this._firstProp("description")},set description(r){this._setProp("description",r)},get color(){return this._firstProp("color")},set color(r){this._setProp("color",r)},get organizer(){return this._firstProp("organizer")},set organizer(r){this._setProp("organizer",r)},get sequence(){return this._firstProp("sequence")},set sequence(r){this._setProp("sequence",r)},get recurrenceId(){return this._firstProp("recurrence-id")},set recurrenceId(r){this._setTime("recurrence-id",r)},_setTime:function(r,n){var i=this.component.getFirstProperty(r);i||(i=new ne.Property(r),this.component.addProperty(i)),n.zone===ne.Timezone.localTimezone||n.zone===ne.Timezone.utcTimezone?i.removeParameter("tzid"):i.setParameter("tzid",n.zone.tzid),i.setValue(n)},_setProp:function(r,n){this.component.updatePropertyWithValue(r,n)},_firstProp:function(r){return this.component.getFirstPropertyValue(r)},toString:function(){return this.component.toString()}};function e(r,n){return r[0]>n[0]?1:n[0]>r[0]?-1:0}return t}();ne.ComponentParser=function(){function t(e){typeof e=="undefined"&&(e={});var r;for(r in e)e.hasOwnProperty(r)&&(this[r]=e[r])}return t.prototype={parseEvent:!0,parseTimezone:!0,oncomplete:function(){},onerror:function(e){},ontimezone:function(e){},onevent:function(e){},process:function(e){typeof e=="string"&&(e=ne.parse(e)),e instanceof ne.Component||(e=new ne.Component(e));for(var r=e.getAllSubcomponents(),n=0,i=r.length,a;n<i;n++)switch(a=r[n],a.name){case"vtimezone":if(this.parseTimezone){var o=a.getFirstPropertyValue("tzid");o&&this.ontimezone(new ne.Timezone({tzid:o,component:a}))}break;case"vevent":this.parseEvent&&this.onevent(new ne.Event(a));break;default:continue}this.oncomplete()}},t}()});function mat(t){return{"W. Europe Standard Time":"Europe/Berlin","Central Europe Standard Time":"Europe/Budapest","E. Europe Standard Time":"Europe/Bucharest","Russian Standard Time":"Europe/Moscow","GMT Standard Time":"Europe/London","Greenwich Standard Time":"Europe/London","Eastern Standard Time":"America/New_York","Central Standard Time":"America/Chicago","Mountain Standard Time":"America/Denver","Pacific Standard Time":"America/Los_Angeles","Alaskan Standard Time":"America/Anchorage","Hawaiian Standard Time":"Pacific/Honolulu","Atlantic Standard Time":"America/Halifax","Central America Standard Time":"America/Guatemala","Mexico Standard Time":"America/Mexico_City","SA Pacific Standard Time":"America/Bogota","SA Western Standard Time":"America/Caracas","SA Eastern Standard Time":"America/Sao_Paulo","Pacific SA Standard Time":"America/Santiago","Tokyo Standard Time":"Asia/Tokyo","Korea Standard Time":"Asia/Seoul","China Standard Time":"Asia/Shanghai","India Standard Time":"Asia/Kolkata","Singapore Standard Time":"Asia/Singapore","W. Australia Standard Time":"Australia/Perth","AUS Eastern Standard Time":"Australia/Sydney","New Zealand Standard Time":"Pacific/Auckland","Arab Standard Time":"Asia/Riyadh","Israel Standard Time":"Asia/Jerusalem","Turkey Standard Time":"Europe/Istanbul","South Africa Standard Time":"Africa/Johannesburg","Egypt Standard Time":"Africa/Cairo"}[t]||null}function vat(t){if(!t||t.trim()===""||t==="Z"||t.toLowerCase()==="utc")return"utc";try{if(et.now().setZone(t).isValid)return t}catch(r){}let e=mat(t);return e||t}function QB(t,e=!1){if(t.length===8&&/^\d{8}$/.test(t)){let r=t.substring(0,4),n=t.substring(4,6),i=t.substring(6,8);return`${r}-${n}-${i}`}if(t.length===16&&t.endsWith("Z")&&/^\d{8}T\d{6}Z$/.test(t)){let r=t.substring(0,4),n=t.substring(4,6),i=t.substring(6,8),a=t.substring(9,11),o=t.substring(11,13),s=t.substring(13,15);return`${r}-${n}-${i}T${a}:${o}:${s}Z`}if(t.length===15&&/^\d{8}T\d{6}$/.test(t)){let r=t.substring(0,4),n=t.substring(4,6),i=t.substring(6,8),a=t.substring(9,11),o=t.substring(11,13),s=t.substring(13,15);return`${r}-${n}-${i}T${a}:${o}:${s}`}return null}function JB(t){if(t.isDate)return et.fromObject({year:t.year,month:t.month,day:t.day},{zone:"utc"});let e;try{if(e=t.toJSDate(),isNaN(e.getTime())){let a=t.toString();if(a){let o=QB(a,t.isDate);if(o){let s=et.fromISO(o,{zone:t.timezone==="Z"?"utc":t.timezone});if(s.isValid)return s}}return console.warn(`Full Calendar ICS Parser: Invalid date from ical.js Time object. Raw value: ${a||"unknown"}`),et.invalid("Invalid date from ical.js")}}catch(a){let o=t.toString(),s=QB(o,t.isDate);if(s){let l=et.fromISO(s,{zone:t.timezone==="Z"?"utc":t.timezone});if(l.isValid)return l}return console.warn(`Full Calendar ICS Parser: Error converting ical.js Time to Date. Raw value: ${o||"unknown"}`,a),et.invalid("Error converting ical.js Time")}let r=t.timezone==="Z"?"utc":t.timezone||void 0,n=vat(r),i=et.fromJSDate(e).setZone(n);if(!i.isValid){console.warn(`Full Calendar ICS Parser: Invalid timezone identifier "${r}". Falling back to UTC.`);let a=et.fromJSDate(e,{zone:"utc"});if(!a.isValid){let o=t.toString(),s=QB(o,t.isDate);if(s){let l=et.fromISO(s,{zone:"utc"});if(l.isValid)return l}return et.invalid("Invalid date after timezone conversion")}return a}return r!==n&&r!=="utc"&&console.debug(`Full Calendar ICS Parser: Mapped Windows timezone "${r}" to IANA timezone "${n}".`),i}function bI(t){return t.toFormat("HH:mm")}function T2(t){return t.toISODate()}function gat(t){let e=t.component.getFirstProperty("url");return e?String(e.getFirstValue()):""}function yat(t){return!!t.component.getFirstProperty("dtend")||!!t.component.getFirstProperty("duration")}function HCe(t){var f,h;let e=t.summary||"",r={title:e},n=String(((f=t.component.getFirstProperty("description"))==null?void 0:f.getFirstValue())||""),i=String(((h=t.component.getFirstProperty("location"))==null?void 0:h.getFirstValue())||""),a=gat(t),o=JB(t.startDate);if(!o.isValid)return console.warn(`Full Calendar ICS Parser: Skipping event "${e}" due to invalid start date. Reason: ${o.invalidReason}`),null;let s=t.endDate?JB(t.endDate):o,l=s.isValid?s:o;!s.isValid&&t.endDate&&console.warn(`Full Calendar ICS Parser: Event "${e}" has invalid end date, using start date instead.`);let c=t.uid,u=t.startDate.isDate,d=u?void 0:o.zoneName||void 0;if(t.isRecurring()){let p=t.component.getFirstProperty("rrule"),m=p?String(p.getFirstValue()):null,v=m?String(m):"",y=ji(v),b=t.component.getAllProperties("exdate").map(S=>{let _=(E=>E)(S.getFirstValue()),C=JB(_);return C.isValid?C.toISODate():(console.warn(`Full Calendar ICS Parser: Skipping invalid EXDATE for event "${e}"`),null)}).filter(S=>S!==null),x=T2(o),w=T2(l);return x?We(ae({type:"rrule",uid:c,title:r.title,id:`ics::${c}::${x}::recurring`,rrule:y.toString(),skipDates:b,startDate:x,endDate:w&&x!==w?w:null,timezone:d},u?{allDay:!0}:{allDay:!1,startTime:bI(o),endTime:bI(s)}),{description:n,url:a||(i&&typeof i=="string"&&i.startsWith("http")?i:void 0)}):(console.warn(`Full Calendar ICS Parser: Could not convert start date to ISO for event "${e}"`),null)}else{let p=T2(o);if(!p)return console.warn(`Full Calendar ICS Parser: Could not convert start date to ISO for event "${e}"`),null;let m=null;if(yat(t))if(u){let v=l.minus({days:1});m=T2(v)}else m=T2(l);return We(ae({type:"single",uid:c,title:r.title,date:p,endDate:p!==m&&m||null,timezone:d},u?{allDay:!0}:{allDay:!1,startTime:bI(o),endTime:bI(s)}),{description:n,url:a||(i&&typeof i=="string"&&i.startsWith("http")?i:void 0)})}}function bat(t){let e=t;return e=e.replace(/DTSTART:(\d{8})(\r?\n|$)/gm,"DTSTART;VALUE=DATE:$1$2"),e=e.replace(/DTEND:(\d{8})(\r?\n|$)/gm,"DTEND;VALUE=DATE:$1$2"),e=e.replace(/EXDATE[^:]*:(\d{8})(\r?\n|$)/gm,(r,n)=>`${r.substring(0,r.indexOf(":"))};VALUE=DATE:${n}${r.endsWith(`\r
`)?`\r
`:r.endsWith(`
`)?`
`:""}`),e=e.replace(/RECURRENCE-ID[^:]*:(\d{8})(\r?\n|$)/gm,(r,n)=>`${r.substring(0,r.indexOf(":"))};VALUE=DATE:${n}${r.endsWith(`\r
`)?`\r
`:r.endsWith(`
`)?`
`:""}`),e}function xI(t){let e=bat(t),r=wI.default.parse(e),a=new wI.default.Component(r).getAllSubcomponents("vevent").map(c=>new wI.default.Event(c)).filter(c=>{var u;try{return c.startDate.toJSDate(),c.endDate.toJSDate(),!0}catch(d){try{(u=c.startDate)==null||u.toJSDate()}catch(f){}return!1}}),o=Object.fromEntries(a.filter(c=>c.recurrenceId===null).map(c=>[c.uid,HCe(c)]).filter(([c,u])=>u!==null)),s=a.filter(c=>c.recurrenceId!==null).map(c=>[c.uid,HCe(c)]).filter(([c,u])=>u!==null);for(let[c,u]of s){let d=o[c];if(d){if(d.type!=="rrule"||u.type!=="single"){console.warn("Recurrence exception was recurring or base event was not recurring",{baseEvent:d,recurrenceException:u});continue}u.date&&d.skipDates.push(u.date)}}return Object.values(o).concat(s.map(c=>c[1])).map(Fs).flatMap(c=>c?[c]:[])}var wI,ej=Re(()=>{"use strict";da();Wd();wI=Lt(yI());Ah();});function TI({value:t,onChange:e,readOnly:r}){return(0,qCe.jsx)("input",{required:!0,type:"text",value:t||"",onChange:n=>e(n.target.value),readOnly:r})}var qCe,tj=Re(()=>{"use strict";qCe=Lt(Lr())});var rj,al,UCe,BCe=Re(()=>{"use strict";rj=Lt(zn());tj();Pr();al=Lt(Lr()),UCe=({config:t,onConfigChange:e,onSave:r,onClose:n})=>{let[i,a]=rj.useState(t.url||""),[o,s]=rj.useState(!1);return(0,al.jsxs)("form",{onSubmit:c=>{c.preventDefault(),i&&(s(!0),r(We(ae({},t),{id:t.id||"",url:i})))},children:[(0,al.jsxs)("div",{className:"setting-item",children:[(0,al.jsxs)("div",{className:"setting-item-info",children:[(0,al.jsx)("div",{className:"setting-item-name",children:W("settings.calendars.ics.url.label")}),(0,al.jsx)("div",{className:"setting-item-description",children:W("settings.calendars.ics.url.description")})]}),(0,al.jsx)("div",{className:"setting-item-control",children:(0,al.jsx)(TI,{value:i,onChange:c=>{a(c),e(We(ae({},t),{url:c}))}})})]}),(0,al.jsxs)("div",{className:"setting-item",children:[(0,al.jsx)("div",{className:"setting-item-info"}),(0,al.jsx)("div",{className:"setting-item-control",children:(0,al.jsx)("button",{className:"mod-cta",type:"submit",disabled:o||!i,children:W("ui.buttons.addCalendar")})})]})]})}});var GCe={};Wr(GCe,{ICSProvider:()=>S2});var WCe,SI,jCe,wat,VCe,S2,YCe=Re(()=>{"use strict";WCe=require("obsidian");ej();SI=Lt(zn());BCe();jCe="webcal",wat=({source:t})=>SI.createElement("div",{className:"setting-item-control"},SI.createElement("input",{disabled:!0,type:"text",value:(()=>{var i;let r=t.url,n=(i=t.config)==null?void 0:i.url;return typeof r=="string"?r:typeof n=="string"?n:""})(),className:"fc-setting-input"})),VCe=t=>{let i=t,{onSave:e}=i,r=dd(i,["onSave"]),n=a=>e(a);return SI.createElement(UCe,We(ae({},r),{onSave:n}))},S2=class{constructor(e,r,n){this.type="ical";this.displayName="Remote Calendar (ICS)";this.isRemote=!0;this.loadPriority=100;this.plugin=r,this.source=e}static getConfigurationComponent(){return VCe}getCapabilities(){return{canCreate:!1,canEdit:!1,canDelete:!1}}getEventHandle(e){return e.uid?{persistentId:e.uid}:null}getEvents(){return ye(this,null,function*(){let e=this.source.url;e.startsWith(jCe)&&(e="https"+e.slice(jCe.length));try{let r=yield(0,WCe.request)({url:e,method:"GET"});return this.plugin.settings.displayTimezone?xI(r).map(i=>[i,null]):[]}catch(r){return console.error(`Error fetching ICS calendar from ${e}`,r),[]}})}createEvent(e){return Promise.reject(new Error("Cannot create an event on a read-only ICS calendar."))}updateEvent(e,r,n){return Promise.reject(new Error("Cannot update an event on a read-only ICS calendar."))}deleteEvent(e){return Promise.reject(new Error("Cannot delete an event on a read-only ICS calendar."))}createInstanceOverride(e,r,n){return Promise.reject(new Error("Cannot create a recurring event override on a read-only calendar."))}revalidate(){return Promise.resolve()}getConfigurationComponent(){return VCe}getSettingsRowComponent(){return wat}};S2.type="ical",S2.displayName="Remote Calendar (ICS)"});function _I(t,e){let r=new sd.default.Time({year:t.year,month:t.month,day:t.day,hour:t.hour,minute:t.minute,second:t.second,isDate:e});return e||(t.zoneName==="UTC"?r.timezone="Z":r.timezone=t.zoneName||"Z"),r}function ZCe(t,e=!1){let r=new sd.default.Component("vevent");t.uid?r.addPropertyWithValue("uid",t.uid):r.addPropertyWithValue("uid",window.crypto.randomUUID()),r.addPropertyWithValue("summary",t.title),r.addPropertyWithValue("dtstamp",sd.default.Time.now());let n;t.type==="single"?n=t.date:t.type==="rrule"?n=t.startDate:n=t.startRecur||et.now().toISODate();let i,a;if(t.allDay)i=et.fromISO(n),t.type==="single"&&t.endDate?a=et.fromISO(t.endDate).plus({days:1}):a=i.plus({days:1});else{let o=t.startTime||"00:00",s=t.endTime||"00:00",l=t.timezone?{zone:t.timezone}:{};i=et.fromISO(`${n}T${o}`,l),t.type==="single"&&t.endDate?a=et.fromISO(`${t.endDate}T${s}`,l):(a=et.fromISO(`${n}T${s}`,l),a<i&&(a=a.plus({days:1})))}if(r.addPropertyWithValue("dtstart",_I(i,t.allDay)),r.addPropertyWithValue("dtend",_I(a,t.allDay)),t.description&&r.addPropertyWithValue("description",t.description),!e&&t.type==="rrule"&&t.rrule)try{let o=t.rrule.replace(/^RRULE:/i,""),s=sd.default.Recur.fromString?sd.default.Recur.fromString(o):null;if(s)r.addPropertyWithValue("rrule",s);else{let l=new sd.default.Property("rrule");l.setValue(o),r.addProperty(l)}}catch(o){console.error("Failed to add RRULE",o)}if(!e&&(t.type==="rrule"||t.type==="recurring")&&t.skipDates&&t.skipDates.length>0)for(let o of t.skipDates){let s;if(t.allDay){let l=et.fromISO(o);s=new sd.default.Time({year:l.year,month:l.month,day:l.day,isDate:!0})}else{let l=t.startTime||"00:00",c=t.timezone?{zone:t.timezone}:{},u=et.fromISO(`${o}T${l}`,c);s=_I(u,!1)}r.addPropertyWithValue("exdate",s)}return r}function nj(t){let e=new sd.default.Component("vcalendar");e.addPropertyWithValue("version","2.0"),e.addPropertyWithValue("prodid","-//Obsidian Full Calendar Plugin//NONSGML v1.0//EN");let r=ZCe(t);return e.addSubcomponent(r),e.toString()}function $Ce(t,e){let r=ZCe(t,!0),n=e.length===10,i;if(n){let a=et.fromISO(e);i=new sd.default.Time({year:a.year,month:a.month,day:a.day,isDate:!0})}else{let a=et.fromISO(e);i=_I(a,!1)}return r.addPropertyWithValue("recurrence-id",i),r}var sd,XCe=Re(()=>{"use strict";sd=Lt(yI());da()});function KCe({value:t,onChange:e,readOnly:r}){return(0,QCe.jsx)("input",{required:!0,type:"text",value:t||"",onChange:n=>e(n.target.value),readOnly:r})}var QCe,JCe=Re(()=>{"use strict";QCe=Lt(Lr())});function eke({value:t,onChange:e,readOnly:r}){return(0,tke.jsx)("input",{required:!0,type:"password",value:r?"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":t||"",onChange:n=>e(n.target.value),readOnly:r})}var tke,rke=Re(()=>{"use strict";tke=Lt(Lr())});function bg(t,e){return ye(this,null,function*(){var c,u;let r=typeof t=="string"?t:(c=t.url)!=null?c:t,n=(u=e==null?void 0:e.method)!=null?u:"GET",i={};e!=null&&e.headers&&new Headers(e.headers).forEach((d,f)=>i[f]=d);let a={url:r,method:n,headers:Object.keys(i).length?i:void 0,body:typeof(e==null?void 0:e.body)=="string"?e.body:(e==null?void 0:e.body)!=null?yield new Response(e.body).text():void 0,throw:!1},o=yield(0,nke.requestUrl)(a),s=typeof o.text=="string"?o.text:"",l=new Response(s,{status:o.status,headers:o.headers});return l.arrayBuffer=()=>ye(null,null,function*(){return o.arrayBuffer?o.arrayBuffer:new TextEncoder().encode(s).buffer}),l})}var nke,ij=Re(()=>{"use strict";nke=require("obsidian")});function _2(t){return t.endsWith("/")?t:t+"/"}function CI(t,e){return ye(this,null,function*(){let r={Depth:"0","Content-Type":"application/xml; charset=utf-8",Accept:"*/*"};e!=null&&e.username&&(e!=null&&e.password)&&(r.Authorization="Basic "+Buffer.from(`${e.username}:${e.password}`).toString("base64"));let n=`<?xml version="1.0" encoding="utf-8" ?>
<d:propfind xmlns:d="DAV:">
  <d:prop>
    <d:resourcetype/>
  </d:prop>
</d:propfind>`;try{let i=yield bg(t,{method:"PROPFIND",headers:r,body:n});if(i.status>=400)return!1;let a=yield i.text(),o=/<[^:]*:?resourcetype[^>]*>([\s\S]*?)<\/[^:]*:?resourcetype>/i.exec(a);if(!o)return!1;let s=o[1];return/<(?:[a-zA-Z0-9]+:)?calendar\b[^>]*>/i.test(s)}catch(i){return console.error(`[CalDAV] Error checking resource type for ${t}`,i),!1}})}function ike(t){if(!/^https?:\/\//i.test(t))throw new Error(`Invalid CalDAV URL (missing scheme): ${t}`);let e=t.trim(),r=e,n="/caldav/",i=e.toLowerCase().indexOf(n);if(i>=0)r=e.slice(0,i+n.length);else try{let a=new URL(e);r=`${a.protocol}//${a.host}/`}catch(a){}return{serverUrl:_2(r),collectionUrl:_2(e)}}var aj=Re(()=>{"use strict";ij()});function ake(t,e,r){return ye(this,null,function*(){let{serverUrl:n,collectionUrl:i}=ike(e);if(!(yield CI(i,{username:t.username,password:t.password})))throw new Error("The provided URL does not appear to be a valid CalDAV calendar collection. Please ensure it points directly to a calendar.");let o=Jy("caldav",r);return r.push(o),[{type:"caldav",id:o,name:"CalDAV Calendar",url:_2(n),homeUrl:_2(i),color:"#888888",username:t.username,password:t.password}]})}var oke=Re(()=>{"use strict";Gx();aj()});var E1,ni,ske,lke=Re(()=>{"use strict";E1=Lt(zn());tj();JCe();rke();oke();Pr();ni=Lt(Lr()),ske=({config:t,onSave:e,onClose:r})=>{let[n,i]=(0,E1.useState)(t.url||""),[a,o]=(0,E1.useState)(t.username||""),[s,l]=(0,E1.useState)(t.password||""),[c,u]=(0,E1.useState)(!1),[d,f]=(0,E1.useState)(W("settings.calendars.caldav.importButton")),h=p=>ye(null,null,function*(){if(p.preventDefault(),!(!n||!a||!s)){u(!0),f(W("settings.calendars.caldav.importing"));try{let m=yield ake({type:"basic",username:a,password:s},n,[]);e(m),r()}catch(m){console.error("Failed to import CalDAV calendars",m),f(W("settings.calendars.caldav.importButton")),u(!1)}}});return(0,ni.jsxs)("form",{onSubmit:p=>{p.preventDefault(),h(p)},children:[(0,ni.jsxs)("div",{className:"setting-item",children:[(0,ni.jsxs)("div",{className:"setting-item-info",children:[(0,ni.jsx)("div",{className:"setting-item-name",children:W("settings.calendars.caldav.url.label")}),(0,ni.jsx)("div",{className:"setting-item-description",children:W("settings.calendars.caldav.url.description")})]}),(0,ni.jsx)("div",{className:"setting-item-control",children:(0,ni.jsx)(TI,{value:n,onChange:i})})]}),(0,ni.jsxs)("div",{className:"setting-item",children:[(0,ni.jsxs)("div",{className:"setting-item-info",children:[(0,ni.jsx)("div",{className:"setting-item-name",children:W("settings.calendars.caldav.username.label")}),(0,ni.jsx)("div",{className:"setting-item-description",children:W("settings.calendars.caldav.username.description")})]}),(0,ni.jsx)("div",{className:"setting-item-control",children:(0,ni.jsx)(KCe,{value:a,onChange:o})})]}),(0,ni.jsxs)("div",{className:"setting-item",children:[(0,ni.jsxs)("div",{className:"setting-item-info",children:[(0,ni.jsx)("div",{className:"setting-item-name",children:W("settings.calendars.caldav.password.label")}),(0,ni.jsx)("div",{className:"setting-item-description",children:W("settings.calendars.caldav.password.description")})]}),(0,ni.jsx)("div",{className:"setting-item-control",children:(0,ni.jsx)(eke,{value:s,onChange:l})})]}),(0,ni.jsxs)("div",{className:"setting-item",children:[(0,ni.jsx)("div",{className:"setting-item-info"}),(0,ni.jsx)("div",{className:"setting-item-control",children:(0,ni.jsx)("button",{className:"mod-cta",type:"submit",disabled:c||!n||!a||!s,children:d})})]})]})}});var dke={};Wr(dke,{CalDAVProvider:()=>k2});function C2(t){return t&&(t.endsWith("/")?t:t+"/")}function cke(t){return t.toISOString().replace(/[-:]/g,"").replace(/\.\d{3}Z$/,"Z")}function xat(t,e,r,n,i){return ye(this,null,function*(){var m,v;let a=`<?xml version="1.0" encoding="utf-8"?>
<c:calendar-query xmlns:d="DAV:" xmlns:c="urn:ietf:params:xml:ns:caldav">
  <d:prop>
    <d:getetag/>
    <c:calendar-data/>
  </d:prop>
  <c:filter>
    <c:comp-filter name="VCALENDAR">
      <c:comp-filter name="VEVENT">
        <c:time-range start="${cke(e)}" end="${cke(r)}"/>
      </c:comp-filter>
    </c:comp-filter>
  </c:filter>
</c:calendar-query>`,o=n&&i?"Basic "+Buffer.from(`${n}:${i}`).toString("base64"):void 0,s={Depth:"1","Content-Type":"application/xml; charset=utf-8",Accept:"*/*"};o&&(s.Authorization=o);let l=yield bg(C2(t),{method:"REPORT",headers:s,body:a}),c=yield l.text();if(l.status>=400)throw console.error("[CalDAVProvider] REPORT request failed",l.status,c.slice(0,800)),new Error(`REPORT ${l.status}`);let d=new DOMParser().parseFromString(c,"text/xml"),f=[],h=d.getElementsByTagNameNS("*","response"),p=Array.from(h);for(let y of p){let b=y.getElementsByTagNameNS("*","propstat");for(let x=0;x<b.length;x++){let w=b[x];if(!(((m=w.getElementsByTagNameNS("*","status")[0])==null?void 0:m.textContent)||"").includes("200"))continue;let _=w.getElementsByTagNameNS("*","prop")[0];if(!_)continue;let C=_.getElementsByTagNameNS("urn:ietf:params:xml:ns:caldav","calendar-data")[0];if(!C){let E=_.getElementsByTagNameNS("*","calendar-data");E.length>0&&(C=E[0])}if(C&&C.textContent){let E=(v=_.getElementsByTagNameNS("DAV:","getetag")[0])==null?void 0:v.textContent;if(!E){let M=_.getElementsByTagNameNS("*","getetag");M.length>0&&(E=M[0].textContent)}f.push({ics:C.textContent,etag:E||void 0})}}}if(f.length===0){let y=[];for(let S of p){let _=S.getElementsByTagNameNS("DAV:","href")[0];if(!_){let C=S.getElementsByTagNameNS("*","href");C.length>0&&(_=C[0])}_&&_.textContent&&_.textContent.endsWith(".ics")&&y.push(_.textContent)}if(y.length===0)return[];let b=new URL(t).origin,x=y.map(S=>{let _=b+S,C={Accept:"text/calendar"};return o&&(C.Authorization=o),console.debug(`[CalDAV] Fetching individual event from ${_}`),bg(_,{method:"GET",headers:C}).then(E=>E.text())});return(yield Promise.all(x)).map(S=>({ics:S,etag:void 0}))}return f})}var oj,Lf,Tat,uke,k2,fke=Re(()=>{"use strict";ej();XCe();oj=Lt(yI());lke();Lf=Lt(zn());ij();aj();Tat=({source:t})=>{let e=(t==null?void 0:t.url)||"",r=(t==null?void 0:t.username)||"";return Lf.createElement(Lf.Fragment,{},Lf.createElement("div",{className:"setting-item-control"},Lf.createElement("input",{disabled:!0,type:"text",value:e,className:"fc-setting-input"})),Lf.createElement("div",{className:"setting-item-control"},Lf.createElement("input",{disabled:!0,type:"text",value:r,className:"fc-setting-input"})))},uke=t=>{let{config:e,onSave:r,onClose:n}=t;return Lf.createElement(ske,{config:e,onSave:a=>r(a),onClose:n})},k2=class{constructor(e,r){this.type="caldav";this.displayName="CalDAV";this.isRemote=!0;this.loadPriority=110;this.source=e}static getConfigurationComponent(){return uke}getCapabilities(){return{canCreate:!0,canEdit:!0,canDelete:!0}}getEventHandle(e){return e.uid?{persistentId:e.uid}:null}getEvents(){return ye(this,null,function*(){if(!(yield CI(this.source.homeUrl,{username:this.source.username,password:this.source.password}))){let a=`[CalDAVProvider] Invalid collection URL or not a calendar: ${this.source.homeUrl}`;throw console.error(a),new Error(a)}let r=new Date,n=new Date(r);n.setMonth(n.getMonth()-1);let i=new Date(r);i.setMonth(i.getMonth()+6);try{return(yield xat(this.source.homeUrl,n,i,this.source.username,this.source.password)).flatMap(({ics:o,etag:s})=>xI(o).map(l=>(s&&(l.etag=s.replace(/"/g,"")),l))).map(o=>[o,null])}catch(a){console.error("[CalDAVProvider] Failed to fetch events.",a);let o=a instanceof Error?a.message:String(a);throw new Error(`Failed to fetch events from CalDAV server: ${o}`)}})}createEvent(e){return ye(this,null,function*(){e.uid||(e.uid=window.crypto.randomUUID());let r=e.uid,n=nj(e),i=C2(this.source.homeUrl)+`${r}.ics`;return yield this.doRequest(i,{method:"PUT",headers:{"Content-Type":"text/calendar; charset=utf-8","If-None-Match":"*"},body:n}),[e,null]})}updateEvent(e,r,n){return ye(this,null,function*(){let i=e.persistentId;n.uid||(n.uid=i);let a=nj(n),o=C2(this.source.homeUrl)+`${i}.ics`;return yield this.doRequest(o,{method:"PUT",headers:ae({"Content-Type":"text/calendar; charset=utf-8"},r.etag?{"If-Match":`"${r.etag}"`}:{}),body:a}),null})}deleteEvent(e){return ye(this,null,function*(){let r=e.persistentId,n=C2(this.source.homeUrl)+`${r}.ics`;yield this.doRequest(n,{method:"DELETE"})})}createInstanceOverride(e,r,n){return ye(this,null,function*(){if(!e.uid)throw new Error("Cannot create override: Master event has no UID.");let i=e.uid,a=C2(this.source.homeUrl)+`${i}.ics`,o={};this.source.username&&this.source.password&&(o.Authorization="Basic "+Buffer.from(`${this.source.username}:${this.source.password}`).toString("base64"));let s=yield bg(a,{method:"GET",headers:o});if(s.status>=300)throw new Error(`Failed to fetch original event for override: ${s.status}`);let l=yield s.text(),c=oj.default.parse(l),u=new oj.default.Component(c),d=$Ce(n,r);u.addSubcomponent(d);let f=u.toString();return yield this.doRequest(a,{method:"PUT",headers:{"Content-Type":"text/calendar; charset=utf-8"},body:f}),[n,null]})}doRequest(e,r){return ye(this,null,function*(){let n=r.headers||{};this.source.username&&this.source.password&&(n.Authorization="Basic "+Buffer.from(`${this.source.username}:${this.source.password}`).toString("base64")),r.headers=n;let i=yield bg(e,r);if(i.status>=300)throw new Error(`CalDAV request failed: ${i.status} ${i.statusText}`);return i})}revalidate(){return Promise.resolve()}getConfigurationComponent(){return uke}getSettingsRowComponent(){return Tat}};k2.type="caldav",k2.displayName="CalDAV"});function kI(t){let e=t.summary==="123123";if(e&&(console.debug('[FC DEBUG] fromGoogleEvent called for "123123"'),console.debug("[FC DEBUG] Raw Google Event:",JSON.stringify(t,null,2))),t.status==="cancelled")return e&&console.debug("[FC DEBUG] Event is cancelled, returning null"),null;if(!t.id||!t.summary||!t.start&&!t.end)return e&&console.debug("[FC DEBUG] Event is invalid (missing id, summary, or start/end), returning null"),null;let r=t.id,n=t.recurringEventId,i={uid:r,recurringEventId:n};if(i.title=t.summary,t.start&&t.start.date)i.allDay=!0,i.date=t.start.date,t.end&&t.end.date&&t.end.date!==t.start.date?i.endDate=et.fromISO(t.end.date).minus({days:1}).toISODate():i.endDate=null;else if(t.start&&t.start.dateTime&&t.end&&t.end.dateTime){i.allDay=!1;let s=t.start.timeZone||"utc",l=et.fromISO(t.start.dateTime,{setZone:!0}).setZone(s),c=et.fromISO(t.end.dateTime,{setZone:!0}).setZone(t.end.timeZone||s);e&&(console.debug("[FC DEBUG] Raw dateTime:",t.start.dateTime),console.debug("[FC DEBUG] Event timezone:",s),console.debug("[FC DEBUG] Parsed start in event TZ:",l.toString()),console.debug("[FC DEBUG] Start time extracted:",l.toFormat("HH:mm"))),i.date=l.toISODate(),i.startTime=l.toFormat("HH:mm"),c.toISODate()!==l.toISODate()?i.endDate=c.toISODate():i.endDate=null,i.endTime=c.toFormat("HH:mm"),i.timezone=t.start.timeZone}else return null;if(Array.isArray(t.recurrence)&&t.recurrence.length>0){let s=t.recurrence.find(l=>l.startsWith("RRULE:"));if(s){let l=ji(s),c=t.recurrence.filter(f=>f.startsWith("EXDATE")).flatMap(f=>{let h=f.includes("TZID=")?f.split("TZID=")[1].split(":")[0]:"UTC",p=f.split(":")[1];return et.fromISO(p,{zone:h}).toISODate()}).filter(f=>!!f),u={type:"rrule",startDate:i.date,rrule:l.toString(),skipDates:c,isTask:!1},d=ae(ae({},i),u);return e&&(console.debug("[FC DEBUG] Parsed as rrule event"),console.debug("[FC DEBUG] eventData:",JSON.stringify(i,null,2)),console.debug("[FC DEBUG] rruleEvent:",JSON.stringify(u,null,2)),console.debug("[FC DEBUG] Final OFCEvent:",JSON.stringify(d,null,2)),console.debug("[FC DEBUG] Original RRULE string from Google:",s),console.debug("[FC DEBUG] Parsed rrule.toString():",l.toString()),console.debug("[FC DEBUG] rrule options:",JSON.stringify(l.options,null,2))),d}}let a={type:"single"},o=ae(ae({},i),a);return e&&(console.debug("[FC DEBUG] Parsed as single event"),console.debug("[FC DEBUG] Final OFCEvent:",JSON.stringify(o,null,2))),o}function EI(t){let e={};e.summary=is(t.category,t.subCategory,t.title);let r=[];if(t.type==="rrule"&&t.rrule)r.push(`RRULE:${t.rrule}`);else if(t.type==="recurring"){let n={U:"SU",M:"MO",T:"TU",W:"WE",R:"TH",F:"FR",S:"SA"};if(t.daysOfWeek&&t.daysOfWeek.length>0){let a=`RRULE:FREQ=WEEKLY;BYDAY=${t.daysOfWeek.map(o=>n[o]).join(",")}`;if(t.endRecur){let o=et.fromISO(t.endRecur).endOf("day").toUTC().toFormat("yyyyMMdd'T'HHmmss'Z'");a+=`;UNTIL=${o}`}r.push(a)}}if(r.length>0&&(e.recurrence=r),t.recurringEventId&&t.type==="single"){e.recurringEventId=t.recurringEventId;let n=t.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone;if(t.allDay===!1){let i=et.fromISO(`${t.date}T${t.startTime}`);e.originalStartTime={dateTime:i.toISO(),timeZone:n}}else e.originalStartTime={date:t.date}}if(t.allDay===!1){let n=t.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone,i,a;if(t.type==="single"?(i=t.date,a=t.endDate||void 0):t.type==="rrule"?i=t.startDate:t.type==="recurring"&&(i=t.startRecur,a=t.endRecur),!i)throw new Error("Cannot create a timed Google event without a start date.");let o=et.fromISO(`${i}T${t.startTime}`);if(e.start={dateTime:o.toISO(),timeZone:n},t.endTime){let s=et.fromISO(`${a||i}T${t.endTime}`);e.end={dateTime:s.toISO(),timeZone:n}}}else if(t.type==="single"){e.start={date:t.date};let n=t.endDate||t.date,i=et.fromISO(n).plus({days:1}).toISODate();e.end={date:i}}else throw new Error("Creating/modifying recurring all-day Google events is not yet supported.");return e}var hke=Re(()=>{"use strict";da();Pm();Wd();});function Of(t,e,r="GET",n){return ye(this,null,function*(){try{let i=yield(0,pke.requestUrl)({url:e,method:r,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:n?JSON.stringify(n):void 0});return i.status===204?!0:i.json}catch(i){let a=i;console.error("Google API Request Failed:",{url:e,status:a.status,response:a.body});let o="Google API request failed.";throw a.status&&(o+=` Status: ${a.status}`),new ol(o,a.status,a.body)}})}var pke,ol,DI=Re(()=>{"use strict";pke=require("obsidian");ol=class extends Error{constructor(r,n,i){super(r);this.status=n;this.body=i;this.name="GoogleApiError"}}});var wke={};Wr(wke,{exchangeCodeForToken:()=>bke,startGoogleLogin:()=>sj});function mke(t){let e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";for(let n=0;n<t;n++)e+=r.charAt(Math.floor(Math.random()*r.length));return e}function Eat(t){return ye(this,null,function*(){let r=new TextEncoder().encode(t);return window.crypto.subtle.digest("SHA-256",r)})}function Dat(t){let e=new Uint8Array(t),r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Aat(t){return ye(this,null,function*(){let e=yield Eat(t);return Dat(e)})}function Mat(t,e){let r=window.require("http"),n=window.require("url");if(Pf){window.open(e);return}Pf=r.createServer((i,a)=>{ye(null,null,function*(){var o;try{if(!i.url||!i.url.startsWith("/callback")){a.writeHead(204),a.end();return}let l=n.parse(i.url,!0).query||{},c=l.code,u=l.state;if(typeof c!="string"||typeof u!="string")throw new Error("Invalid callback parameters");a.end("Authentication successful! Please return to Obsidian."),Pf&&(Pf.close(),Pf=null),yield bke(c,u,t),(o=t.settingsTab)==null||o.display()}catch(s){console.error("Error handling Google Auth callback:",s),a.end("Authentication failed. Please check the console in Obsidian and try again."),Pf&&(Pf.close(),Pf=null)}})}),Pf.listen(42813,()=>{window.open(e)})}function sj(t){return ye(this,null,function*(){let{settings:e}=t,r=iu.Platform.isMobile,n=null;if(r&&(n=window.open("about:blank","_blank"),!n)){new iu.Notice(W("google.auth.popupBlocked"));return}let i=mke(16),a=mke(128),o=yield Aat(a);D1={verifier:a,state:i};let s=e.useCustomGoogleClient?e.googleClientId:yke,l=r?vke:gke;if(e.useCustomGoogleClient&&(!s||!e.googleClientSecret)){new iu.Notice(W("google.auth.customCredsMissing")),n&&n.close();return}let c=new URLSearchParams({client_id:s,response_type:"code",redirect_uri:l,prompt:"consent",access_type:"offline",state:i,scope:kat,code_challenge:o,code_challenge_method:"S256"}),u=`${Sat}?${c.toString()}`;r&&n?n.location.href=u:Mat(t,u)})}function bke(t,e,r){return ye(this,null,function*(){if(!D1||e!==D1.state){new iu.Notice(W("google.auth.stateMismatch")),console.error("State mismatch during OAuth callback.");return}let{settings:n}=r,a=iu.Platform.isMobile?vke:gke,o=n.useCustomGoogleClient?n.googleClientId:yke,s,l,c;if(n.useCustomGoogleClient)s=_at,l=new URLSearchParams({grant_type:"authorization_code",client_id:o,code:t,code_verifier:D1.verifier,redirect_uri:a,client_secret:n.googleClientSecret}).toString(),c={"Content-Type":"application/x-www-form-urlencoded"};else{s=Cat;let u={client_id:o,code:t,code_verifier:D1.verifier,state:e};l=JSON.stringify(u),c={"Content-Type":"application/json"}}try{let u=yield(0,iu.requestUrl)({method:"POST",url:s,headers:c,body:l,throw:!1});if(u.status>=400)throw console.error("Token exchange failed:",u.text),new Error(`Google API returned status ${u.status}: ${u.text}`);let d=u.json;if(!d.refresh_token)throw new Error("No refresh token received. If you are using a custom client, ensure it is configured for a 'Desktop app' and has not already been used to grant a refresh token.");yield new Tu(r).addAccount({refreshToken:d.refresh_token,accessToken:d.access_token,expiryDate:Date.now()+d.expires_in*1e3}),new iu.Notice(W("google.auth.success"))}catch(u){new iu.Notice(W("google.auth.failed")),u instanceof Error?console.error("Error during token exchange:",u.message):console.error("An unknown error occurred during token exchange:",u)}finally{D1=null}})}var iu,Sat,_at,Cat,kat,vke,gke,yke,D1,Pf,lj=Re(()=>{"use strict";iu=require("obsidian");Qx();Pr();Sat="https://accounts.google.com/o/oauth2/v2/auth",_at="https://oauth2.googleapis.com/token",Cat="https://gcal-proxy-server.vercel.app/api/google/token",kat="https://www.googleapis.com/auth/calendar.readonly https://www.googleapis.com/auth/calendar.events",vke="https://youfoundjk.github.io/plugin-full-calendar/google-auth-callback.html",gke="http://127.0.0.1:42813/callback",yke="272284435724-ltjbog78np5lnbjhgecudaqhsfba9voi.apps.googleusercontent.com",D1=null,Pf=null});var xke={};Wr(xke,{fetchGoogleCalendarList:()=>Iat});function Iat(t,e){return ye(this,null,function*(){let r=[],n,i=e.accessToken;if(!i)throw new ol("Account is missing an access token.");do{let a=new URL(Rat);n&&a.searchParams.set("pageToken",n);let o=yield Of(i,a.toString());Array.isArray(o.items)&&o.items.forEach(s=>{s&&typeof s=="object"&&"id"in s&&"summary"in s&&r.push(s)}),n=o.nextPageToken}while(n);return r})}var Rat,Tke=Re(()=>{"use strict";DI();Rat="https://www.googleapis.com/calendar/v3/users/me/calendarList"});var Yo,AI,_a,Ske,_ke=Re(()=>{"use strict";Yo=Lt(zn()),AI=require("obsidian");lj();DI();Qx();Pr();_a=Lt(Lr());Ske=({plugin:t,onSave:e,onClose:r})=>{var C;let[n,i]=(0,Yo.useState)("account-select"),[a,o]=(0,Yo.useState)(t.settings.googleAccounts||[]),[s,l]=(0,Yo.useState)(null),[c,u]=(0,Yo.useState)([]),[d,f]=(0,Yo.useState)(!1),[h,p]=(0,Yo.useState)(null),[m,v]=(0,Yo.useState)(new Set),y=new Tu(t),b=(0,Yo.useRef)(null),x=(0,Yo.useRef)(null);(0,Yo.useEffect)(()=>{let E=()=>{let M=t.settings.googleAccounts||[];o([...M])};return t.app.workspace.on("full-calendar:google-account-added",E),()=>{t.app.workspace.off("full-calendar:google-account-added",E)}},[t]);let w=E=>ye(null,null,function*(){f(!0),p(null),l(E);try{if(!E.accessToken||!E.expiryDate||Date.now()>=E.expiryDate-6e4){let O=yield y.getTokenForSource({type:"google",id:`temp_${E.id}`,name:E.email,calendarId:"primary",googleAccountId:E.id,color:""});if(!O)throw new ol(`Failed to refresh token for ${E.email}. Please try connecting the account again.`);E.accessToken=O}let{fetchGoogleCalendarList:M}=yield Promise.resolve().then(()=>(Tke(),xke)),I=yield M(t,E),L=new Set(t.settings.calendarSources.filter(O=>O.type==="google").map(O=>O.calendarId));u(I.filter(O=>!L.has(O.id))),i("calendar-select")}catch(M){let I=M instanceof Error?M.message:"An unknown error occurred.";p(`Failed to fetch calendars for ${E.email}. ${I}`),i("account-select")}finally{f(!1)}}),S=(E,M)=>{v(I=>{let L=new Set(I);return M?L.add(E):L.delete(E),L})},_=()=>{if(!s)return;let E=c.filter(M=>m.has(M.id)).map(M=>({id:M.id,name:M.summary,color:M.backgroundColor||""}));e(E,s.id),r()};return(0,Yo.useEffect)(()=>{if(n==="account-select"&&b.current){let E=b.current;E.empty(),a.forEach(M=>{new AI.Setting(E).setName(M.email).addButton(I=>I.setButtonText(W("google.buttons.selectCalendars")).onClick(()=>w(M)))}),new AI.Setting(E).setName(W("google.selectAccount.title")).addButton(M=>M.setButtonText(W("google.buttons.connectAccount")).setCta().onClick(()=>sj(t)))}},[n,a,t]),(0,Yo.useEffect)(()=>{if(n==="calendar-select"&&x.current){let E=x.current;E.empty(),c.forEach(M=>{new AI.Setting(E).setName(M.summary).setDesc(M.description||"").addToggle(I=>{I.setValue(m.has(M.id)).onChange(L=>S(M.id,L))})})}},[n,c,m]),d?(0,_a.jsx)("div",{children:W("google.loading")}):n==="account-select"?(0,_a.jsxs)("div",{children:[(0,_a.jsx)("div",{className:"setting-item setting-item-heading",children:(0,_a.jsx)("div",{className:"setting-item-info",children:(0,_a.jsx)("div",{className:"setting-item-name",children:W("google.selectAccount.title")})})}),h&&(0,_a.jsx)("p",{className:"mod-warning",children:h}),(0,_a.jsx)("div",{ref:b})]}):n==="calendar-select"?(0,_a.jsxs)("div",{children:[(0,_a.jsx)("div",{className:"setting-item setting-item-heading",children:(0,_a.jsxs)("div",{className:"setting-item-info",children:[(0,_a.jsx)("div",{className:"setting-item-name",children:W("google.selectCalendars.title",{email:(C=s==null?void 0:s.email)!=null?C:""})}),(0,_a.jsx)("div",{className:"setting-item-description",children:c.length===0?W("google.selectCalendars.noCalendars"):W("google.selectCalendars.description")})]})}),(0,_a.jsx)("div",{ref:x}),(0,_a.jsx)("div",{className:"setting-item",children:(0,_a.jsxs)("div",{className:"setting-item-control",children:[(0,_a.jsx)("button",{onClick:()=>i("account-select"),children:W("google.buttons.backToAccounts")}),(0,_a.jsx)("button",{className:"mod-cta u-ml-auto",onClick:_,disabled:m.size===0,children:m.size===1?W("google.buttons.addCalendars",{count:m.size}):W("google.buttons.addCalendarsPlural",{count:m.size})})]})})]}):null}});var kke={};Wr(kke,{GoogleProvider:()=>E2});var MI,Nat,Cke,E2,Eke=Re(()=>{"use strict";da();Ah();hke();DI();_ke();MI=Lt(zn());Qx();Nat=({source:t})=>{let e=(t==null?void 0:t.calendarId)||"";return MI.createElement("div",{className:"setting-item-control"},MI.createElement("input",{disabled:!0,type:"text",value:e,className:"fc-setting-input"}))},Cke=t=>e=>{let r=t||e.plugin,n=e.onSave,i=(a,o)=>{n(a,o)};if(!r)throw new Error("Google configuration requires plugin context.");return MI.createElement(Ske,{plugin:r,onSave:i,onClose:e.onClose})},E2=class{constructor(e,r,n){this.type="google";this.displayName="Google Calendar";this.isRemote=!0;this.loadPriority=120;this.plugin=r,this.source=e,this.authManager=new Tu(r)}static getConfigurationComponent(){return Cke()}getCapabilities(){return{canCreate:!0,canEdit:!0,canDelete:!0}}getEventHandle(e){return e.uid?{persistentId:e.uid}:null}getEvents(){return ye(this,null,function*(){let e=yield this.authManager.getTokenForSource({type:"google",id:this.source.id,name:this.source.name,calendarId:this.source.calendarId,googleAccountId:this.source.googleAccountId,color:""});if(!e)return[];if(!this.plugin.settings.displayTimezone)return[];try{let n=new Date;n.setFullYear(n.getFullYear()-1);let i=new Date;i.setFullYear(i.getFullYear()+1);let a=new URL(`https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(this.source.calendarId)}/events`);a.searchParams.set("timeMin",n.toISOString()),a.searchParams.set("timeMax",i.toISOString()),a.searchParams.set("singleEvents","false"),a.searchParams.set("maxResults","2500");let o=yield Of(e,a.toString());if(!Array.isArray(o.items))return[];let s=new Map;for(let c of o.items)if(c.status==="cancelled"&&c.recurringEventId&&c.originalStartTime&&c.originalStartTime.dateTime){let u=c.recurringEventId;s.has(u)||s.set(u,new Set);let d=et.fromISO(c.originalStartTime.dateTime,{zone:c.originalStartTime.timeZone||"utc"}).toISODate();d&&s.get(u).add(d)}return o.items.map(c=>{let u=kI(c);if(!u)return null;if((u.type==="rrule"||u.type==="recurring")&&u.uid&&s.has(u.uid)){let f=s.get(u.uid);u.skipDates=[...new Set([...u.skipDates||[],...f])]}let d=Fs(u);return d?[d,null]:null}).filter(c=>c!==null)}catch(n){return console.error(`Error fetching events for Google Calendar "${this.source.name}":`,n),[]}})}createEvent(e){return ye(this,null,function*(){let r=yield this.authManager.getTokenForSource({type:"google",id:this.source.id,name:this.source.name,calendarId:this.source.calendarId,googleAccountId:this.source.googleAccountId,color:""});if(!r)throw new ol("Cannot create event: not authenticated.");let n=`https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(this.source.calendarId)}/events`,i=EI(e),a=yield Of(r,n,"POST",i),o=kI(a);if(!o)throw new Error("Could not parse event from Google API after creation.");return[o,null]})}updateEvent(e,r,n){return ye(this,null,function*(){let i=yield this.authManager.getTokenForSource({type:"google",id:this.source.id,name:this.source.name,calendarId:this.source.calendarId,googleAccountId:this.source.googleAccountId,color:""});if(!i)throw new ol("Cannot update event: not authenticated.");let a=new Set(n.type==="rrule"||n.type==="recurring"?n.skipDates:[]),o=new Set(r.type==="rrule"||r.type==="recurring"?r.skipDates:[]),s;if(a.size>o.size){for(let l of a)if(!o.has(l)){s=l;break}}if(s)yield this.cancelInstance(r,s);else{let l=e.persistentId,c=`https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(this.source.calendarId)}/events/${encodeURIComponent(l)}`,u=EI(n);yield Of(i,c,"PUT",u)}return null})}deleteEvent(e){return ye(this,null,function*(){let r=yield this.authManager.getTokenForSource({type:"google",id:this.source.id,name:this.source.name,calendarId:this.source.calendarId,googleAccountId:this.source.googleAccountId,color:""});if(!r)throw new ol("Cannot delete event: not authenticated.");let n=e.persistentId,i=`https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(this.source.calendarId)}/events/${encodeURIComponent(n)}`;yield Of(r,i,"DELETE")})}cancelInstance(e,r){return ye(this,null,function*(){let n=yield this.authManager.getTokenForSource({type:"google",id:this.source.id,name:this.source.name,calendarId:this.source.calendarId,googleAccountId:this.source.googleAccountId,color:""});if(!n)throw new ol("Cannot cancel instance: not authenticated.");if(!e.uid)throw new Error("Cannot cancel an instance of a recurring event that has no master UID.");let i={recurringEventId:e.uid,status:"cancelled"},a;if(e.allDay)a={date:r};else{let s=e.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone,l=!e.allDay&&"startTime"in e?e.startTime:"00:00",c=et.fromISO(`${r}T${l}`,{zone:s}).toISO();a=c?{dateTime:c,timeZone:s}:{date:r}}i.originalStartTime=a,i.start=a,i.end=a;let o=`https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(this.source.calendarId)}/events`;yield Of(n,o,"POST",i)})}createInstanceOverride(e,r,n){return ye(this,null,function*(){let i=yield this.authManager.getTokenForSource({type:"google",id:this.source.id,name:this.source.name,calendarId:this.source.calendarId,googleAccountId:this.source.googleAccountId,color:""});if(!i)throw new ol("Cannot create instance override: not authenticated.");if(n.allDay===!1&&e.allDay===!1){let a={dateTime:et.fromISO(`${r}T${e.startTime}`).toISO(),timeZone:e.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone},o=We(ae({},EI(n)),{recurringEventId:e.uid,originalStartTime:a}),s=yield Of(i,`https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(this.source.calendarId)}/events`,"POST",o),l=kI(s);if(!l)throw new Error("Could not parse Google API response after creating instance override.");return[l,null]}throw new Error("Modifying a single instance of an all-day recurring event is not yet supported for Google Calendars.")})}getConfigurationComponent(){return Cke(this.plugin)}getSettingsRowComponent(){return Nat}revalidate(){return Promise.resolve()}};E2.type="google",E2.displayName="Google Calendar"});var cj,Xi,uj,Dke=Re(()=>{"use strict";cj=Lt(zn());Pr();Xi=Lt(Lr());uj=({config:t,onConfigChange:e,context:r,onSave:n,onClose:i})=>{let[a,o]=cj.useState(t.name||"Obsidian Tasks"),[s,l]=cj.useState(!1),c=u=>{u.preventDefault(),l(!0),n(We(ae({},t),{id:t.id||"",name:a}))};return(0,Xi.jsxs)("div",{className:"tasks-provider-config",children:[(0,Xi.jsx)("div",{className:"setting-item",children:(0,Xi.jsxs)("div",{className:"setting-item-info",children:[(0,Xi.jsx)("div",{className:"setting-item-name",children:W("settings.calendars.tasks.zeroConfig.label")}),(0,Xi.jsx)("div",{className:"setting-item-description",children:W("settings.calendars.tasks.zeroConfig.description")})]})}),(0,Xi.jsxs)("form",{onSubmit:c,children:[(0,Xi.jsxs)("div",{className:"setting-item",children:[(0,Xi.jsxs)("div",{className:"setting-item-info",children:[(0,Xi.jsx)("div",{className:"setting-item-name",children:W("settings.calendars.tasks.calendarName.label")}),(0,Xi.jsx)("div",{className:"setting-item-description",children:W("settings.calendars.tasks.calendarName.description")})]}),(0,Xi.jsx)("div",{className:"setting-item-control",children:(0,Xi.jsx)("input",{type:"text",value:a,onChange:u=>{o(u.target.value),e(We(ae({},t),{name:u.target.value}))},placeholder:"Obsidian Tasks"})})]}),(0,Xi.jsx)("div",{className:"setting-item",children:(0,Xi.jsxs)("div",{className:"setting-item-info",children:[(0,Xi.jsx)("div",{className:"setting-item-name",children:W("settings.calendars.tasks.readOnly.label")}),(0,Xi.jsx)("div",{className:"setting-item-description",children:W("settings.calendars.tasks.readOnly.description")})]})}),(0,Xi.jsxs)("div",{className:"setting-item",children:[(0,Xi.jsx)("button",{type:"submit",className:"mod-cta",disabled:s||!a.trim(),children:s?W("settings.calendars.tasks.adding"):W("ui.buttons.addCalendar")}),(0,Xi.jsx)("button",{type:"button",onClick:i,disabled:s,style:{},className:"u-ml-10px",children:W("settings.calendars.tasks.cancel")})]})]})]})}});var Ake={};Wr(Ake,{TasksPluginProvider:()=>D2});var A1,dj,Lat,D2,Mke=Re(()=>{"use strict";A1=require("obsidian");Dke();dj=Lt(zn());da();Pr();Lat=()=>"\u23F3",D2=class{constructor(e,r,n){this.allTasks=[];this.isSubscribed=!1;this.isTasksCacheWarm=!1;this.tasksPromise=null;this.isProcessingUpdate=!1;this.type="tasks";this.displayName="Obsidian Tasks";this.isRemote=!1;this.loadPriority=130;if(!n)throw new Error("TasksPluginProvider requires an Obsidian app interface.");this.app=n,this.plugin=r,this.source=e}static getConfigurationComponent(){return uj}setDoneState(e,r){let n=/\s*\s*\d{4}-\d{2}-\d{2}/,i=/(\s*\^[a-zA-Z0-9-]+)$/,a=e;if(r){if(a=a.replace(/^- \[ \]/,"- [x]"),!n.test(a)){let s=` \u2705 ${et.now().toFormat("yyyy-MM-dd")}`,l=a.match(i);l?a=`${a.replace(i,"").trim()}${s}${l[1]}`:a=`${a.trim()}${s}`}}else{a=a.replace(/^- \[x\]/,"- [ ]"),a=a.replace(n,"").trim();let o=e.match(i);o&&!a.endsWith(o[1])&&(a+=o[1])}return a}toggleComplete(e,r){return ye(this,null,function*(){var n;try{let i=(n=this.plugin.cache)==null?void 0:n.getEventById(e);if(!i||!i.uid||i.type!=="single")throw new Error(`Event with session ID ${e} not found, has no UID, or is not a single event.`);let a=this.allTasks.find(c=>c.id===i.uid);if(!a)throw new Error(`Task with persistent ID ${i.uid} not found in provider cache.`);let o=this.setDoneState(a.originalMarkdown,r);if(o===a.originalMarkdown)return!0;yield this.replaceTaskInFile(a.filePath,a.lineNumber,[o]);let s=r?et.now().toISO():!1,l=We(ae({},i),{completed:s});return a.originalMarkdown=o,a.isDone=r,yield this.plugin.providerRegistry.processProviderUpdates(this.source.id,{additions:[],updates:[{persistentId:i.uid,event:l,location:{file:{path:a.filePath},lineNumber:a.lineNumber}}],deletions:[]}),!0}catch(i){return i instanceof Error&&(console.error("Error toggling task completion:",i),new A1.Notice(i.message)),!1}})}_ensureTasksCacheIsWarm(){return this.isTasksCacheWarm?Promise.resolve():this.tasksPromise?this.tasksPromise:(this.tasksPromise=new Promise((e,r)=>{console.debug("Full Calendar: Tasks cache is cold. Requesting data from Tasks plugin...");let n=a=>{var o;a&&(typeof a.state=="string"&&a.state==="Warm"||typeof a.state=="object"&&((o=a.state)==null?void 0:o.name)==="Warm")&&a.tasks&&(this.allTasks=this.parseTasksForCalendar(a.tasks),this.isTasksCacheWarm=!0,this.tasksPromise=null,e())};this.plugin.app.workspace.trigger("obsidian-tasks-plugin:request-cache-update",n),setTimeout(()=>{this.isTasksCacheWarm||(console.error("Full Calendar: Timed out waiting for Tasks plugin's cache. The Tasks plugin may not be enabled or may have failed to load."),this.tasksPromise=null,r(new Error("Timed out waiting for Tasks plugin's cache.")))},5e3)}),this.tasksPromise)}_taskToOFCEvent(e){let r=e.scheduledDate||e.dueDate||e.startDate;if(!r)return null;let n={type:"single",title:e.title,allDay:!0,date:et.fromJSDate(r).toFormat("yyyy-MM-dd"),endDate:null,completed:e.isDone?et.now().toISO():!1,uid:e.id},i={file:{path:e.filePath},lineNumber:e.lineNumber};return[n,i]}initialize(){if(this.isSubscribed)return;let e=n=>ye(this,null,function*(){var i;if(!(this.isProcessingUpdate||!this.isTasksCacheWarm||!this.plugin.cache||!n||!(typeof n.state=="string"&&n.state==="Warm"||typeof n.state=="object"&&((i=n.state)==null?void 0:i.name)==="Warm")||!n.tasks)){this.isProcessingUpdate=!0;try{let a=new Map(this.allTasks.map(c=>[c.id,c])),o=this.parseTasksForCalendar(n.tasks),s=new Map(o.map(c=>[c.id,c])),l={additions:[],updates:[],deletions:[]};for(let[c,u]of a.entries())s.has(c)||(u.startDate||u.scheduledDate||u.dueDate)&&l.deletions.push(c);for(let[c,u]of s.entries()){let d=a.get(c),f=this._taskToOFCEvent(u),h=!!(d!=null&&d.startDate||d!=null&&d.scheduledDate||d!=null&&d.dueDate),p=f!==null;if(!d&&p){let[m,v]=f;l.additions.push({event:m,location:v})}else if(d&&d.originalMarkdown!==u.originalMarkdown)if(h&&p){let[m,v]=f;l.updates.push({persistentId:c,event:m,location:v})}else if(!h&&p){let[m,v]=f;l.additions.push({event:m,location:v})}else h&&!p&&l.deletions.push(c)}this.allTasks=o,(l.additions.length>0||l.updates.length>0||l.deletions.length>0)&&(yield this.plugin.providerRegistry.processProviderUpdates(this.source.id,l)),this.plugin.providerRegistry.refreshBacklogViews()}finally{this.isProcessingUpdate=!1}}});this.plugin.app.workspace.on("obsidian-tasks-plugin:cache-update",n=>{e(n)}),this.isSubscribed=!0}parseTasksForCalendar(e){return e?e.map((n,i)=>{let a=n.taskLocation.lineNumber+1;return{id:`${n.path}::${n.taskLocation.lineNumber}`,title:n.description,startDate:n.startDate?n.startDate.toDate():null,dueDate:n.dueDate?n.dueDate.toDate():null,scheduledDate:n.scheduledDate?n.scheduledDate.toDate():null,originalMarkdown:n.originalMarkdown,filePath:n.path,lineNumber:a,isDone:n.isDone||!!n.doneDatez}}):[]}getEvents(){return ye(this,null,function*(){yield this._ensureTasksCacheIsWarm();let e=[];for(let r of this.allTasks){let n=r.scheduledDate;if(n){let i={type:"single",title:r.title,allDay:!0,date:et.fromJSDate(n).toFormat("yyyy-MM-dd"),endDate:null,completed:r.isDone?et.now().toISO():!1,uid:r.id},a={file:{path:r.filePath},lineNumber:r.lineNumber};e.push([i,a])}}return e})}getUndatedTasks(){return ye(this,null,function*(){return yield this._ensureTasksCacheIsWarm(),this.allTasks.filter(e=>!e.scheduledDate&&!e.isDone).map(e=>({title:e.title,isDone:e.isDone,location:{path:e.filePath,lineNumber:e.lineNumber-1}}))})}getEventsInFile(e){return ye(this,null,function*(){let r=[],n=this.allTasks.filter(i=>i.filePath===e.path);for(let i of n){let a=i.scheduledDate||i.dueDate||i.startDate;if(a){let o={type:"single",title:i.title,allDay:!0,date:et.fromJSDate(a).toFormat("yyyy-MM-dd"),endDate:null,completed:i.isDone?et.now().toISO():!1,uid:i.id},s={file:{path:i.filePath},lineNumber:i.lineNumber};r.push([o,s])}}return r})}replaceTaskInFile(e,r,n){return ye(this,null,function*(){let i=this.app.getFileByPath(e);if(!i)throw new Error(`File not found: ${e}`);yield this.app.rewrite(i,a=>{let o=a.split(`
`);return o.splice(r-1,1,...n),o.join(`
`)})})}updateTaskLine(e,r){let n=Lat(),i=et.fromJSDate(r).toFormat("yyyy-MM-dd"),a=`${n} ${i}`,o=/\s*\d{4}-\d{2}-\d{2}/;if(e.match(o))return e.replace(o,a);{let s=/(\s*\^[a-zA-Z0-9-]+)$/,l=e.match(s);return l?`${e.replace(s,"").trim()} ${a}${l[1]}`:`${e.trim()} ${a}`}}createEvent(e){return new A1.Notice(W("notices.tasks.createViaPlugin")),Promise.reject(new Error("Full Calendar cannot create tasks directly. Please use the Tasks plugin modal or commands."))}updateEvent(e,r,n){return ye(this,null,function*(){if(n.type!=="single"||!n.date)throw new Error("Tasks provider can only update single, dated events.");let i=et.fromISO(n.date).toJSDate(),a=yield this.canBeScheduledAt(n,i);if(!a.isValid)throw new A1.Notice(a.reason||W("notices.tasks.defaultValidation")),new Error(a.reason||"This task cannot be scheduled on this date.");let o=e.persistentId;yield this._surgicallyUpdateTask(o,i);let[s,l]=o.split("::");return{file:{path:s},lineNumber:parseInt(l,10)}})}deleteEvent(e){return ye(this,null,function*(){let[r,n]=e.persistentId.split("::");if(!r||!n)throw new Error('Invalid task handle format. Expected "filePath::lineNumber".');yield this.replaceTaskInFile(r,parseInt(n,10)+1,[])})}_surgicallyUpdateTask(e,r){return ye(this,null,function*(){let n=this.allTasks.find(a=>a.id===e);if(!n)throw new Error(`Cannot find original task with ID ${e} to update.`);let i=this.updateTaskLine(n.originalMarkdown,r);yield this.replaceTaskInFile(n.filePath,n.lineNumber,[i])})}scheduleTask(e,r){return ye(this,null,function*(){var o,s,l;let n=this.allTasks.find(c=>c.id===e);if(!n)throw new Error(`Cannot find original task to schedule at ${e}`);let i=this.updateTaskLine(n.originalMarkdown,r);yield this.replaceTaskInFile(n.filePath,n.lineNumber,[i]);let a=(l=(s=(o=this.plugin.app.plugins)==null?void 0:o.plugins)==null?void 0:s["obsidian-tasks-plugin"])==null?void 0:l.apiV1;if(a){let c=yield a.editTaskLineModal(i);c!==void 0&&c!==i&&(yield this.replaceTaskInFile(n.filePath,n.lineNumber,[c]))}else new A1.Notice(W("notices.tasks.scheduledNoModal"))})}editInProviderUI(e){return ye(this,null,function*(){var l,c,u,d;let r=(u=(c=(l=this.plugin.app.plugins)==null?void 0:l.plugins)==null?void 0:c["obsidian-tasks-plugin"])==null?void 0:u.apiV1;if(!r){new A1.Notice(W("notices.tasks.apiUnavailable"));return}let n=(d=this.plugin.cache)==null?void 0:d.getEventById(e);if(!n||!n.uid)throw new Error(`Could not find event or its persistent UID in the main cache for session ID ${e}.`);let i=n.uid,a=this.allTasks.find(f=>f.id===i);if(!a)throw new Error(`Task with persistent ID ${i} not found in the provider's cache.`);let o=a.originalMarkdown,s=yield r.editTaskLineModal(o);s&&s!==o&&(yield this.replaceTaskInFile(a.filePath,a.lineNumber,[s]))})}canBeScheduledAt(e,r){if(!e.uid)return Promise.resolve({isValid:!0});let n=this.allTasks.find(a=>a.id===e.uid);if(!n)return console.warn(`[Tasks Provider] Could not find task with ID ${e.uid} for validation.`),Promise.resolve({isValid:!0});let i=et.fromJSDate(r).startOf("day");if(n.startDate){let a=et.fromJSDate(n.startDate).startOf("day");if(i<a)return Promise.resolve({isValid:!1,reason:`Cannot schedule before the start date (${a.toFormat("yyyy-MM-dd")}).`})}if(n.dueDate){let a=et.fromJSDate(n.dueDate).startOf("day");if(i>a)return Promise.resolve({isValid:!1,reason:`Cannot schedule after the due date (${a.toFormat("yyyy-MM-dd")}).`})}return Promise.resolve({isValid:!0})}getCapabilities(){return{canCreate:!1,canEdit:!0,canDelete:!0,hasCustomEditUI:!0}}getConfigurationComponent(){return uj}getEventHandle(e){return e.uid?{persistentId:e.uid}:null}isFileRelevant(e){return e.extension==="md"}createInstanceOverride(e,r,n){return Promise.reject(new Error("Tasks provider does not support recurring event overrides."))}getSettingsRowComponent(){return({source:r})=>{var i;let n=(i=r.name)!=null?i:this.displayName;return dj.default.createElement("div",{className:"setting-item-control ofc-settings-row-tasks-provider"},dj.default.createElement("input",{disabled:!0,type:"text",value:n,className:"fc-setting-input"}))}}};D2.type="tasks",D2.displayName="Obsidian Tasks"});var A2,ks,fj,Rke=Re(()=>{"use strict";A2=Lt(zn()),ks=Lt(Lr()),fj=({plugin:t,config:e,onConfigChange:r,onSave:n,onClose:i})=>{let[a,o]=A2.useState(e.basePath||""),[s,l]=A2.useState([]);return A2.useEffect(()=>{let u=t.app.vault.getFiles().filter(d=>d.extension==="base");l(u.map(d=>d.path))},[t]),(0,ks.jsxs)("form",{onSubmit:u=>{var f;if(u.preventDefault(),!a)return;let d=((f=a.split("/").pop())==null?void 0:f.replace(".base",""))||"Base";n({type:"bases",basePath:a,name:e.name||d,color:e.color||"#3788d8"})},children:[(0,ks.jsxs)("div",{className:"setting-item",children:[(0,ks.jsxs)("div",{className:"setting-item-info",children:[(0,ks.jsx)("div",{className:"setting-item-name",children:"Select Base"}),(0,ks.jsx)("div",{className:"setting-item-description",children:"Choose a .base file to use as a calendar source."})]}),(0,ks.jsx)("div",{className:"setting-item-control",children:(0,ks.jsxs)("select",{className:"dropdown",value:a,onChange:u=>{o(u.target.value),r(We(ae({},e),{basePath:u.target.value}))},children:[(0,ks.jsx)("option",{value:"",children:"Select a base..."}),s.map(u=>(0,ks.jsx)("option",{value:u,children:u},u))]})})]}),(0,ks.jsx)("div",{className:"setting-item",children:(0,ks.jsx)("div",{className:"setting-item-control",children:(0,ks.jsx)("button",{className:"mod-cta",type:"submit",disabled:!a,children:"Add Calendar"})})})]})}});var Ike={};Wr(Ike,{BasesProvider:()=>M2});var M1,R2,M2,Nke=Re(()=>{"use strict";M1=require("obsidian");Ah();Rke();R2=Lt(Lr()),M2=class{constructor(e,r,n){this.type="bases";this.displayName="Obsidian Bases";this.isRemote=!1;this.loadPriority=10;if(!n)throw new Error("BasesProvider requires an Obsidian app interface.");this.config=e,this.plugin=r,this.app=n}static getConfigurationComponent(){return fj}getCapabilities(){return{canCreate:!1,canEdit:!1,canDelete:!1}}evaluateFilter(e,r){return typeof e=="string"?this.evaluateFilterString(e,r):e.or?e.or.some(n=>this.evaluateFilter(n,r)):e.and?e.and.every(n=>this.evaluateFilter(n,r)):e.not?!e.not.some(n=>this.evaluateFilter(n,r)):!0}evaluateFilterString(e,r){let n=this.plugin.app.metadataCache.getFileCache(r),i=(0,M1.getAllTags)(n||{})||[];if(e.includes("file.hasTag")){let a=e.match(/file\.hasTag\("([^"]+)"\)/);if(a){let o=a[1];return i.some(s=>s===o||s===`#${o}`)}}if(e.includes("file.inFolder")){let a=e.match(/file\.inFolder\("([^"]+)"\)/);if(a){let o=a[1];return r.path.startsWith(o)}}return e.includes("file.ext")&&e.includes('"md"')?r.extension==="md":!0}getEvents(){return ye(this,null,function*(){var a,o;let e=[],r=this.plugin.app;if(!(((a=r.internalPlugins)==null?void 0:a.getPluginById("bases"))||((o=r.plugins)==null?void 0:o.getPlugin("bases"))))return console.warn("Bases plugin not found or disabled."),[];let i=this.plugin.app.vault.getAbstractFileByPath(this.config.basePath);if(!(i instanceof M1.TFile))return[];try{let s=yield this.plugin.app.vault.read(i),l;try{l=(0,M1.parseYaml)(s)}catch(d){return console.warn("Failed to parse Base file as YAML",d),[]}let u=this.plugin.app.vault.getFiles().filter(d=>l.filters?this.evaluateFilter(l.filters,d):!0);for(let d of u){let f=this.getEventFromFile(d);f&&e.push(f)}}catch(s){console.error("Error processing Base file",s)}return e})}getEventFromFile(e){var f;let r=(f=this.plugin.app.metadataCache.getFileCache(e))==null?void 0:f.frontmatter;if(!r)return null;let n=r.date||r.start||r.startTime||r.due;if(!n)return null;let i=typeof r.title=="string"?r.title:e.basename,a=typeof r.category=="string"?r.category:typeof r.Category=="string"?r.Category:void 0,o=typeof r["sub category"]=="string"?r["sub category"]:typeof r.SubCategory=="string"?r.SubCategory:typeof r.subCategory=="string"?r.subCategory:void 0,s=i;a&&o?s=`${a} - ${o} - ${i}`:a?s=`${a} - ${i}`:o&&(s=`${o} - ${i}`);let l=typeof r.type=="string"?r.type:"single",c=typeof r.allDay=="boolean"?r.allDay:!0,u=We(ae({},r),{title:s,date:n,type:l,allDay:c,category:a,subCategory:o}),d=Fs(u);return d?(d.uid=e.path,[d,{file:{path:e.path},lineNumber:void 0}]):null}getEventHandle(e){return e.uid?{persistentId:e.uid}:null}createEvent(e){return ye(this,null,function*(){throw new Error("Not implemented")})}updateEvent(e,r,n){return ye(this,null,function*(){throw new Error("Not implemented")})}deleteEvent(e){return ye(this,null,function*(){throw new Error("Not implemented")})}createInstanceOverride(e,r,n){return ye(this,null,function*(){throw new Error("Not implemented")})}getConfigurationComponent(){return fj}getSettingsRowComponent(){return({source:e})=>(0,R2.jsxs)("div",{className:"setting-item-control",children:[(0,R2.jsxs)("span",{children:[e.name," (",e.type,")"]}),(0,R2.jsx)("span",{className:"fc-setting-desc",children:e.basePath})]})}};M2.type="bases",M2.displayName="Obsidian Bases"});var Fat={};Wr(Fat,{default:()=>LI});module.exports=IV(Fat);da();var sK=require("obsidian");Pr();var aK=Lt(zn());da();eE();var nK=Lt(zn());da();Pr();var ci=Lt(Lr()),iK=({event:t,type:e,defaultReminderMinutes:r,onSnooze:n,onDismiss:i,onOpen:a})=>{let[o,s]=(0,nK.useState)(10),l=d=>et.fromFormat(d,"HH:mm").toFormat("h:mm a"),c=[{label:W("modals.reminder.presets.5m"),value:5},{label:W("modals.reminder.presets.10m"),value:10},{label:W("modals.reminder.presets.15m"),value:15},{label:W("modals.reminder.presets.30m"),value:30},{label:W("modals.reminder.presets.1h"),value:60}],u=d=>{d.preventDefault(),n(o)};return(0,ci.jsxs)("div",{className:"full-calendar-reminder-modal",children:[(0,ci.jsx)("div",{className:"modal-header",children:(0,ci.jsx)("h2",{children:W("notifications.eventStarting.title")})}),(0,ci.jsxs)("div",{className:"reminder-content",children:[(0,ci.jsx)("h3",{children:t.title}),t.allDay?(0,ci.jsx)("p",{children:W("notifications.allDaySuffix")}):(0,ci.jsxs)("p",{children:[t.startTime&&l(t.startTime),t.endTime&&` - ${l(t.endTime)}`]}),e==="default"&&(0,ci.jsxs)("div",{className:"callout callout-warning u-mt-1rem",children:[(0,ci.jsx)("div",{className:"callout-title",children:W("modals.reminder.snoozeWarningTitle")}),(0,ci.jsx)("div",{className:"callout-content",children:(0,ci.jsx)("p",{children:W("modals.reminder.snoozeWarningBody")})})]})]}),(0,ci.jsxs)("form",{onSubmit:u,className:"reminder-controls u-mt-1-5rem",children:[(0,ci.jsxs)("div",{className:"setting-item",children:[(0,ci.jsx)("div",{className:"setting-item-info",children:(0,ci.jsx)("div",{className:"setting-item-name",children:W("modals.reminder.snoozeFor")})}),(0,ci.jsx)("div",{className:"setting-item-control",children:(0,ci.jsx)("select",{value:o,onChange:d=>s(parseInt(d.target.value)),children:c.map(d=>(0,ci.jsx)("option",{value:d.value,children:d.label},d.value))})})]}),(0,ci.jsxs)("div",{className:"modal-footer",children:[(0,ci.jsx)("button",{type:"button",onClick:i,children:W("modals.reminder.dismiss")}),(0,ci.jsx)("button",{type:"button",onClick:a,className:"mod-cta",children:W("modals.reminder.openNote")}),(0,ci.jsx)("button",{type:"submit",className:"mod-primary",children:W("modals.reminder.snooze")})]})]})]})};Uy();var By=require("obsidian");function oK(t,e,r,n){new xc(t.app,i=>ye(null,null,function*(){return aK.createElement(iK,{event:e,type:n,defaultReminderMinutes:t.settings.defaultReminderMinutes,onDismiss:()=>{i()},onOpen:()=>{ye(null,null,function*(){try{yield Ld(t.cache,t.app,r)}catch(a){new By.Notice("Could not open event file."),console.error(a)}i()})},onSnooze:a=>{ye(null,null,function*(){try{yield t.cache.processEvent(r,o=>{var s;if(n==="default"){if(o.allDay)return new By.Notice("Cannot snooze start time of all-day events."),o;let l=et.fromFormat(o.startTime,"HH:mm");if(!l.isValid)return o;let c=l.plus({minutes:a});if(o.endTime){let u=et.fromFormat(o.endTime,"HH:mm");if(u.isValid&&c>=u)throw new Error("Cannot snooze: New start time would be after end time.")}return We(ae({},o),{startTime:c.toFormat("HH:mm")})}else{let l=((s=o.notify)==null?void 0:s.value)||0,c=Math.max(0,l-a);return We(ae({},o),{notify:{value:c}})}}),new By.Notice(`Snoozed for ${a} minutes.`)}catch(o){console.error("Snooze failed",o),o instanceof Error?new By.Notice(o.message):new By.Notice("Failed to snooze event.")}i()})}})})).open()}var rE=class{constructor(e){this.timeTickCallback=null;this.notifiedEvents=new Set;this.plugin=e}unload(){this.timeTickCallback&&(this.plugin.cache.off("time-tick",this.timeTickCallback),this.timeTickCallback=null)}update(e){let r=e.enableReminders,n=this.timeTickCallback!==null;r&&!n?(this.notifiedEvents.clear(),this.timeTickCallback=i=>this.handleTimeTick(i),this.plugin.cache.on("time-tick",this.timeTickCallback)):!r&&n&&this.timeTickCallback&&(this.plugin.cache.off("time-tick",this.timeTickCallback),this.timeTickCallback=null)}handleTimeTick(e){if(!this.plugin.cache.initialized)return;let r=et.now(),n=r.plus({hours:48}),i=[...e.current?[e.current]:[],...e.upcoming];for(let a of i)a.start>n||this.checkAndNotify(a,r)}checkAndNotify(e,r){let{event:n,start:i}=e,{enableDefaultReminder:a,defaultReminderMinutes:o}=this.plugin.settings,s={minutes:5},l=!1;if(n.notify&&typeof n.notify.value=="number"){l=!0;let c=i.minus({minutes:n.notify.value}),u=r>=c,d=c.plus(s)<r;u&&!d&&this.tryTrigger(e,"custom",c)}if(!l&&a){let c=i.minus({minutes:o}),u=r>=c,d=c.plus(s)<r;u&&!d&&this.tryTrigger(e,"default",c)}}tryTrigger(e,r,n){let{id:i,event:a}=e,o=`${i}::${r}::${n.toISO()}`;this.notifiedEvents.has(o)||(this.triggerNotification(a,i,r),this.notifiedEvents.add(o))}triggerNotification(e,r,n){var s;let i=W("notifications.eventStarting.title"),a=!e.allDay&&e.startTime?et.fromFormat(e.startTime,"HH:mm").toFormat("h:mm a"):"",o=`${e.title}`;if(a&&(o+=` at ${a}`),n==="custom"){let l=((s=e.notify)==null?void 0:s.value)||0;o+=`
`+W("notifications.inMinutes",{mins:l.toString()})}else{let l=this.plugin.settings.defaultReminderMinutes;o+=`
`+W("notifications.inMinutes",{mins:l.toString()})}try{let l=new Notification(i,{body:o});l.onclick=()=>{oK(this.plugin,e,r,n)}}catch(l){console.error(W("notifications.failed"),l),new sK.Notice(W("notifications.errorBody"))}}};var cK=require("obsidian");da();Uy();function lK(t,e){let r=Math.floor(t.as("minutes")),n=Math.floor(t.as("hours"));if(r<1)return`${e} now`;if(r<60)return`${e} in ${r}m`;if(n<24){let i=r%60;return i===0?`${e} in ${n}h`:`${e} in ${n}h ${i}m`}return`${e} in ${Math.floor(t.as("days"))}d`}var xRe=(t,e)=>{Object.entries(e).forEach(([r,n])=>{t.style.setProperty(r,n)})},nE=class{constructor(e){this.statusBarItemEl=null;this.timeTickCallback=null;this.currentState=null;this.plugin=e}unload(){this.timeTickCallback&&(this.plugin.cache.off("time-tick",this.timeTickCallback),this.timeTickCallback=null),this.statusBarItemEl&&(this.statusBarItemEl.remove(),this.statusBarItemEl=null)}update(e){let r=e.showEventInStatusBar,n=this.timeTickCallback!==null;r&&!n?(this.statusBarItemEl||(this.statusBarItemEl=this.plugin.addStatusBarItem(),this.statusBarItemEl.onClickEvent(i=>this.handleClick(i))),this.timeTickCallback=i=>this.handleTimeTick(i),this.plugin.cache.on("time-tick",this.timeTickCallback)):!r&&n&&(this.timeTickCallback&&(this.plugin.cache.off("time-tick",this.timeTickCallback),this.timeTickCallback=null),this.statusBarItemEl&&(this.statusBarItemEl.remove(),this.statusBarItemEl=null))}handleTimeTick(e){if(this.currentState=e,!this.statusBarItemEl)return;let r=et.now(),n="",i=e.current,a=e.upcoming[0];if(i){let o=i.end.diff(r),s=lK(o,"ends"),l=i.event.title;n=`Event: ${l.length>25?l.substring(0,25)+"...":l} (${s})`}else if(a){let o=a.start.diff(r),s=lK(o,"starts"),l=a.event.title;n=`Next: ${l.length>25?l.substring(0,25)+"...":l} (${s})`}this.statusBarItemEl.textContent!==n&&this.statusBarItemEl.setText(n),xRe(this.statusBarItemEl,{display:n?"block":"none"})}handleClick(e){if(!this.currentState)return;let r=new cK.Menu;this.currentState.current&&r.addItem(n=>{var i,a;n.setTitle(`Go to note for "${(a=(i=this.currentState)==null?void 0:i.current)==null?void 0:a.event.title}"`).setIcon("file-text").onClick(()=>{var o;(o=this.currentState)!=null&&o.current&&Ld(this.plugin.cache,this.plugin.app,this.currentState.current.id)})}),this.currentState.upcoming.length>0?(r.addSeparator(),r.addItem(n=>n.setTitle("Upcoming events").setDisabled(!0)),this.currentState.upcoming.slice(0,5).forEach(n=>{r.addItem(i=>{let a=n.start.toFormat("h:mm a");i.setTitle(`${a}: ${n.event.title}`).onClick(()=>{Ld(this.plugin.cache,this.plugin.app,n.id)})})})):this.currentState.current||r.addItem(n=>n.setTitle("No upcoming events").setDisabled(!0)),r.showAtMouseEvent(e)}};var AQ=require("obsidian");var kE=class extends AQ.PluginSettingTab{constructor(e,r,n){super(e,r),this.plugin=r,this.registry=n}ensureActualTab(){return ye(this,null,function*(){if(!this.actualTab){let{FullCalendarSettingTab:e}=yield Promise.resolve().then(()=>(_E(),DQ));this.actualTab=new e(this.app,this.plugin,this.registry)}return this.actualTab})}display(){ye(this,null,function*(){let e=yield this.ensureActualTab();e.containerEl=this.containerEl,e.display()})}hide(){var e;(e=this.actualTab)==null||e.hide()}showChangelog(){ye(this,null,function*(){let e=yield this.ensureActualTab();e.containerEl=this.containerEl,e.showChangelog()})}};var MQ=require("obsidian");Gx();Pr();function RQ(t){var l,c,u,d,f,h,p,m,v,y,b,x,w,S,_,C,E,M,I,L,O,H,Y,K;let e=!1,r=t||{},n={calendarSources:r.calendarSources||[],defaultCalendar:(l=r.defaultCalendar)!=null?l:0,firstDay:(c=r.firstDay)!=null?c:0,initialView:(u=r.initialView)!=null?u:{desktop:"timeGridWeek",mobile:"timeGrid3Days"},timeFormat24h:(d=r.timeFormat24h)!=null?d:!1,clickToCreateEventFromMonthView:(f=r.clickToCreateEventFromMonthView)!=null?f:!0,displayTimezone:(h=r.displayTimezone)!=null?h:null,lastSystemTimezone:(p=r.lastSystemTimezone)!=null?p:null,enableAdvancedCategorization:(m=r.enableAdvancedCategorization)!=null?m:!1,chrono_analyser_config:(v=r.chrono_analyser_config)!=null?v:null,categorySettings:r.categorySettings||[],useCustomGoogleClient:(y=r.useCustomGoogleClient)!=null?y:!1,googleClientId:(b=r.googleClientId)!=null?b:"",googleClientSecret:(x=r.googleClientSecret)!=null?x:"",googleAccounts:r.googleAccounts||[],businessHours:r.businessHours||{enabled:!1,daysOfWeek:[1,2,3,4,5],startTime:"09:00",endTime:"17:00"},enableBackgroundEvents:(w=r.enableBackgroundEvents)!=null?w:!0,enableReminders:(S=r.enableReminders)!=null?S:!0,enableDefaultReminder:(_=r.enableDefaultReminder)!=null?_:!0,defaultReminderMinutes:(C=r.defaultReminderMinutes)!=null?C:10,workspaces:r.workspaces||[],activeWorkspace:(E=r.activeWorkspace)!=null?E:null,showEventInStatusBar:(M=r.showEventInStatusBar)!=null?M:!1,slotMinTime:(I=r.slotMinTime)!=null?I:"00:00",slotMaxTime:(L=r.slotMaxTime)!=null?L:"24:00",weekends:(O=r.weekends)!=null?O:!0,hiddenDays:(H=r.hiddenDays)!=null?H:[],dayMaxEvents:(Y=r.dayMaxEvents)!=null?Y:!1,currentVersion:(K=r.currentVersion)!=null?K:null};n.calendarSources.forEach(N=>{if(!("name"in N)||!N.name)switch(e=!0,N.type){case"local":N.name=N.directory;break;case"dailynote":N.name="Daily Note";break;case"ical":N.name=N.url;break;default:N.name="Unnamed Calendar";break}});let i=r.googleAuth||null;i&&n.calendarSources.forEach(N=>{N.type==="google"&&!("googleAccountId"in N)&&!N.auth&&(N.auth=i)});let a=new Map;n.calendarSources.forEach(N=>{var U;if(N.type==="google"&&N.auth&&!N.googleAccountId){e=!0;let B=(U=N.auth)==null?void 0:U.refreshToken;if(B)if(a.has(B))N.googleAccountId=a.get(B);else{let $=`gcal_${Math.random().toString(36).slice(2,11)}`,ee=ae({id:$,email:"Migrated Account"},N.auth);n.googleAccounts.push(ee),a.set(B,$),N.googleAccountId=$}delete N.auth}});let{updated:o,sources:s}=R6(n.calendarSources);return o&&(e=!0),n.calendarSources=s,n=D4e(n),{settings:n,needsSave:e}}function R6(t){let e=!1,r=t.map(i=>i.id).filter(i=>!!i),n=t.map(i=>{if(!("id"in i)||!i.id){e=!0;let a=Jy(i.type,r);return r.push(a),We(ae({},i),{id:a})}return i});return{updated:e,sources:n}}function D4e(t){return!t.enableAdvancedCategorization&&t.initialView.desktop.startsWith("resourceTimeline")?(new MQ.Notice(W("settings.utils.timelineDisabled"),5e3),We(ae({},t),{initialView:We(ae({},t.initialView),{desktop:"timeGridWeek"})})):t}Ah();var Nh=require("obsidian");var a0=class{constructor(e){this.id=e.path}},_c=class{constructor(e){this.id=e}},o0=class{constructor(e){this.id=e}},EE=class{constructor(){this.foreign=new Map;this.related=new Map}clear(){this.foreign.clear(),this.related.clear()}add(e,r){this.foreign.set(r.id,e.id);let n=this.related.get(e.id);n||(n=new Set,this.related.set(e.id,n)),n.add(r.id)}delete(e){let r=this.foreign.get(e.id);if(!r)return;this.foreign.delete(e.id);let n=this.related.get(r);if(!n)throw new Error(`Unreachable: state: relation <${r}> exists in the foreign map but not the related map.`);n.delete(e.id)}getBy(e){let r=this.related.get(e.id);return r?new Set(r):new Set}getRelated(e){return this.foreign.get(e.id)||null}renameKey(e,r){let n=this.related.get(e.id);if(!n)throw new Error(`Key does not exist in map: ${n}`);this.related.delete(e.id),this.related.set(r.id,n)}get numEntries(){return this.foreign.size}get relatedCount(){return[...this.related.values()].filter(e=>e.size>0).length}get groupByRelated(){let e=new Map;for(let[r,n]of this.related.entries())e.set(r,[...n.values()]);return e}},eT=class{constructor(){this.store=new Map;this.calendarIndex=new EE;this.pathIndex=new EE;this.lineNumbers=new Map}clear(){let e=[...this.store.keys()];return this.store.clear(),this.calendarIndex.clear(),this.pathIndex.clear(),this.lineNumbers.clear(),e}get fileCount(){return this.pathIndex.relatedCount}get calendarCount(){return this.calendarIndex.relatedCount}get eventCount(){return this.store.size}getAllEvents(){return this.fetch([...this.store.keys()])}fetch(e){let r=[];return e.forEach(n=>{let i=this.store.get(n);if(!i)return;let a=this.pathIndex.getRelated(new _c(n)),o;a&&(o=this.lineNumbers.get(n));let s=a?{path:a,lineNumber:o}:null,l=this.calendarIndex.getRelated(new _c(n));if(!l)throw new Error(`Event with id ${n} does not have an associated calendar.`);r.push({id:n,event:i,location:s,calendarId:l})}),r}add({calendarId:e,location:r,id:n,event:i}){if(this.store.has(n))throw new Error(`Event with given ID "${n}" that was supposed to be added to calendar "${e}" already exists in the EventStore within calendar "${this.calendarIndex.getRelated(new _c(n))}".`);if(this.store.set(n,i),this.calendarIndex.add(new o0(e),new _c(n)),r){let{file:a,lineNumber:o}=r;this.pathIndex.add(new a0(a),new _c(n)),o!=null&&this.lineNumbers.set(n,o)}return n}delete(e){let r=this.store.get(e);return r?(this.calendarIndex.delete(new _c(e)),this.pathIndex.delete(new _c(e)),this.lineNumbers.delete(e),this.store.delete(e),r):null}deleteEventsAtPath(e){let r=this.pathIndex.getBy(new a0({path:e}));return r.forEach(n=>this.delete(n)),r}deleteEventsInCalendar(e){let r=this.calendarIndex.getBy(new o0(e));return r.forEach(n=>this.delete(n)),r}getEventById(e){return this.store.get(e)||null}getEventsInFile(e){return this.fetch(this.pathIndex.getBy(new a0(e)))}getEventsInCalendar(e){return this.fetch(this.calendarIndex.getBy(new o0(e)))}getEventsInFileAndCalendar(e,r){let n=this.pathIndex.getBy(new a0(e)),i=this.calendarIndex.getBy(new o0(r));return this.fetch([...n].filter(a=>i.has(a)))}get eventsByCalendar(){let e=new Map;for(let[r,n]of this.calendarIndex.groupByRelated)e.set(r,this.fetch(n));return e}getEventDetails(e){let r=this.getEventById(e),n=this.calendarIndex.getRelated(new _c(e));if(!r||!n)return null;let i=this.pathIndex.getRelated(new _c(e)),a=this.lineNumbers.get(e);return{id:e,event:r,calendarId:n,location:i?{path:i,lineNumber:a}:null}}};Pm();da();var NQ=require("obsidian");Pr();function IQ(t){let e=et.fromFormat(t,"HH:mm");return e.isValid||(e=et.fromFormat(t,"h:mm a")),e.isValid?e:null}function I6(t,e,r){if(t.allDay)return t;if(t.type==="single"&&!t.allDay){let n=IQ(t.startTime);if(!n)return t;let i=et.fromISO(`${t.date}T${n.toFormat("HH:mm")}`,{zone:e}),a;if(t.endTime){let u=IQ(t.endTime);if(!u)a=i.plus({hours:1});else{let d=t.endDate||t.date,f=et.fromISO(`${d}T${u.toFormat("HH:mm")}`,{zone:e});!t.endDate&&f<i&&(f=f.plus({days:1})),a=f}}else a=i.plus({hours:1});let o=i.setZone(r),s=a.setZone(r),l=o.hasSame(s,"day")?null:s.startOf("day").equals(s)?s.minus({milliseconds:1}).toISODate():s.toISODate();return We(ae({},t),{date:o.toISODate(),startTime:o.toFormat("HH:mm"),endTime:s.toFormat("HH:mm"),endDate:l})}return t}function LQ(t){return ye(this,null,function*(){let e=Intl.DateTimeFormat().resolvedOptions().timeZone,r=t.settings;!r.lastSystemTimezone||r.displayTimezone===null?(r.lastSystemTimezone=e,r.displayTimezone=e,yield t.saveData(r)):r.lastSystemTimezone!==e&&(r.displayTimezone=e,r.lastSystemTimezone=e,yield t.saveData(r),new NQ.Notice(W("notices.timezoneChanged",{timezone:e}),1e4))})}var DE=class{constructor(e){this.settings=e}updateSettings(e){this.settings=e}enhance(e){let r=e;if(this.settings.enableAdvancedCategorization){let o=new Set(this.settings.categorySettings.map(u=>u.name)),{category:s,subCategory:l,title:c}=xu(e.title,o);r=We(ae({},e),{title:c,category:s||e.category,subCategory:l||e.subCategory})}let n=this.settings.displayTimezone||Intl.DateTimeFormat().resolvedOptions().timeZone,i=e.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone;return i===n?r:I6(r,i,n)}prepareForStorage(e){let r=this.settings.displayTimezone||Intl.DateTimeFormat().resolvedOptions().timeZone,n=e.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone,i=ae({},e);if(r!==n&&(i=I6(e,r,n)),i.allDay?delete i.timezone:i.timezone=n,!this.settings.enableAdvancedCategorization)return i;let a=ae({},i);return a.title=is(a.category,a.subCategory,a.title),delete a.category,delete a.subCategory,a}};da();Wd();var lNe=60*1e3,cNe={days:7},RJ=100,HE=class{constructor(e){this.intervalId=null;this.occurrenceCache=[];this.isBuildingCache=!1;this.rebuildTimeout=null;this.cache=e}start(){return this.intervalId!==null&&this.stop(),ye(this,null,function*(){yield this.rebuildOccurrenceCache(),this.tick(),this.intervalId=window.setInterval(()=>this.tick(),lNe)})}stop(){this.intervalId!==null&&(window.clearInterval(this.intervalId),this.intervalId=null),this.rebuildTimeout&&(window.clearTimeout(this.rebuildTimeout),this.rebuildTimeout=null),this.occurrenceCache=[]}scheduleCacheRebuild(){this.rebuildTimeout&&window.clearTimeout(this.rebuildTimeout),this.rebuildTimeout=window.setTimeout(()=>{this.rebuildOccurrenceCache()},500)}tick(){let e=et.now(),r=this.occurrenceCache.findIndex(i=>i.end>e);r>0&&this.occurrenceCache.splice(0,r),this.occurrenceCache.length<RJ/2&&this.scheduleCacheRebuild();let n=this.calculateCurrentState(e);this.cache.broadcastTimeTick(n)}calculateCurrentState(e){let r=null,n=[];for(let i of this.occurrenceCache)i.start<=e&&e<i.end?r=i:i.start>e&&n.push(i);return{current:r,upcoming:n,recentlyFinished:[]}}rebuildOccurrenceCache(){if(this.isBuildingCache)return Promise.resolve();this.isBuildingCache=!0;try{let e=this.cache.store.getAllEvents(),r=[],n=et.now(),i=n.plus(cNe),a=(o,s)=>{let l=s?`${o}T${s}`:o;return et.fromISO(l)};for(let o of e){let{id:s,event:l,location:c}=o,u=c?{file:{path:c.path},lineNumber:c.lineNumber}:null;if(l.type==="single")if(l.allDay){let d=a(l.date).startOf("day"),f=a(l.endDate||l.date).endOf("day");f>=n&&r.push({id:s,event:l,location:u,start:d,end:f})}else{let d=a(l.date,l.startTime);if(!d.isValid)continue;let f=l.endTime?a(l.endDate||l.date,l.endTime):d.plus({hours:1});f>=n&&r.push({id:s,event:l,location:u,start:d,end:f})}else if(l.type==="recurring"||l.type==="rrule"){let d;try{let f=a(l.type==="recurring"?l.startRecur||"1970-01-01":l.startDate,l.allDay?void 0:l.startTime).toJSDate(),h={dtstart:f};if(l.type==="recurring"){let m={U:Gt.SU,M:Gt.MO,T:Gt.TU,W:Gt.WE,R:Gt.TH,F:Gt.FR,S:Gt.SA};l.daysOfWeek?(h.freq=Gt.WEEKLY,h.byweekday=l.daysOfWeek.map(v=>m[v])):l.dayOfMonth&&(h.freq=Gt.MONTHLY,h.bymonthday=l.dayOfMonth,l.month&&(h.freq=Gt.YEARLY,h.bymonth=l.month)),l.endRecur&&(h.until=a(l.endRecur).endOf("day").toJSDate())}else h=We(ae({},ji(l.rrule).options),{dtstart:f});d=new Gt(h);let p=d.between(n.toJSDate(),i.toJSDate());for(let m of p){let v=et.fromJSDate(m),y=v.toISODate();if(y&&l.skipDates.includes(y))continue;let b;if(!l.allDay&&l.startTime&&l.endTime){let x=et.fromFormat(l.startTime,"HH:mm"),w=et.fromFormat(l.endTime,"HH:mm");if(x.isValid&&w.isValid){let S=w.diff(x);b=v.plus(S)}else b=v.plus({hours:1})}else b=v.endOf("day");r.push({id:s,event:l,location:u,start:v,end:b})}}catch(f){console.error(`[TimeEngine] Error parsing rrule for "${l.title}"`,f);continue}}}r.sort((o,s)=>o.start.toMillis()-s.start.toMillis()),this.occurrenceCache=r.slice(0,RJ)}finally{this.isBuildingCache=!1}return Promise.resolve()}};Pr();var fT=class{constructor(e){this._store=new eT;this.recurringEventManager=null;this.viewConfigListener=null;this.workspaceEmitter=null;this.calendars=new Map;this.initialized=!1;this.isBulkUpdating=!1;this.updateViewCallbacks=[];this.timeTickCallbacks=[];this.updateQueue={toRemove:new Set,toAdd:new Map};this._plugin=e,this.enhancer=new DE(this.plugin.settings),this.timeEngine=new HE(this)}listenForSettingsChanges(e){this.workspaceEmitter=e;let r=e;this.viewConfigListener=()=>{this.onSettingsChanged()},r.on("full-calendar:view-config-changed",this.viewConfigListener)}stopListening(){this.viewConfigListener&&this.workspaceEmitter&&(this.workspaceEmitter.off("full-calendar:view-config-changed",this.viewConfigListener),this.viewConfigListener=null,this.workspaceEmitter=null)}onSettingsChanged(){return ye(this,null,function*(){yield this.populate(),this.resync()})}updateSettings(e){this.enhancer.updateSettings(e)}get plugin(){return this._plugin}get store(){return this._store}getProviders(){return Array.from(this.calendars.values())}reset(){this.initialized=!1,this.timeEngine.stop();let e=this.plugin.providerRegistry.getAllSources();this.calendars.clear(),this._store.clear(),this.updateQueue={toRemove:new Set,toAdd:new Map},e.forEach(r=>{let n=r.id;if(!n){console.warn("Full Calendar: Calendar source is missing an ID.",r);return}let i=this.plugin.providerRegistry.getInstance(n);i?this.calendars.set(n,i):console.warn(`Full Calendar: Provider instance for source ID "${n}" not found during cache reset.`)})}populate(){return ye(this,null,function*(){(yield this.plugin.providerRegistry.fetchAllByPriority((r,n)=>{let i=n.map(({event:a,location:o})=>[a,o]);this.syncCalendar(r,i)},()=>{ye(this,null,function*(){this.initialized=!0,this.resync(),yield this.timeEngine.start()})})).forEach(({calendarId:r,event:n,location:i})=>{let a=this.generateId();this._store.add({calendarId:r,location:i,id:a,event:n})}),this.initialized=!0,this.plugin.providerRegistry.buildMap(this._store),yield this.timeEngine.start()})}generateId(){return this.plugin.providerRegistry.generateId()}getGlobalIdentifier(e,r){return this.plugin.providerRegistry.getGlobalIdentifier(e,r)}getSessionId(e){return ye(this,null,function*(){return this.plugin.providerRegistry.getSessionId(e)})}getAllCategories(){let e=new Set;for(let r of this._store.getAllEvents())r.event.category&&e.add(r.event.category);return Array.from(e).sort()}getAllEvents(){let e=[],r=this._store.eventsByCalendar;for(let[n,i]of this.calendars.entries()){let a=r.get(n)||[],o=this.plugin.providerRegistry.getSource(n);if(!o)continue;let s=i.getCapabilities(),l=s.canCreate||s.canEdit||s.canDelete;e.push({editable:l,events:a.map(({event:c,id:u})=>({event:c,id:u})),color:o.color,id:n})}return e}isEventEditable(e){let r=this._store.getEventDetails(e);if(!r)return!1;let n=this.calendars.get(r.calendarId);if(!n||!this.plugin.providerRegistry.getSource(r.calendarId))return!1;let a=n.getCapabilities();return a.canCreate||a.canEdit||a.canDelete}getEventById(e){return this._store.getEventById(e)}getCalendarById(e){return this.calendars.get(e)}addEvent(e,r,n){return ye(this,null,function*(){if(!r.allDay&&!r.timezone){let c=this.plugin.settings.displayTimezone||Intl.DateTimeFormat().resolvedOptions().timeZone;r.timezone=c}let i=this.plugin.providerRegistry.getSource(e);if(!i)return new Nh.Notice(W("notices.eventCache.calendarNotFound",{calendarId:e})),!1;let a=this.plugin.providerRegistry.getCapabilities(e);if(!a)return new Nh.Notice(W("notices.eventCache.providerNotFound",{type:i.type})),!1;if(!a.canCreate)return new Nh.Notice(W("notices.eventCache.readOnly")),!1;let o=this.generateId(),s=r;this._store.add({calendarId:e,location:null,id:o,event:s}),this.plugin.providerRegistry.addMapping(s,e,o);let l={event:s,id:o,calendarId:e};n!=null&&n.silent?this.updateQueue.toAdd.set(o,l):this.flushUpdateQueue([],[l]);try{let c=this.enhancer.prepareForStorage(r),[u,d]=yield this.plugin.providerRegistry.createEventInProvider(e,c),f=this.enhancer.enhance(u);return this._store.delete(o),this._store.add({calendarId:e,location:d,id:o,event:f}),this.plugin.providerRegistry.removeMapping(s,e),this.plugin.providerRegistry.addMapping(f,e,o),this.timeEngine.scheduleCacheRebuild(),!0}catch(c){return console.error("Failed to create event with provider. Rolling back cache state.",{error:c}),this.plugin.providerRegistry.removeMapping(s,e),this._store.delete(o),n!=null&&n.silent?this.updateQueue.toAdd.delete(o):this.flushUpdateQueue([o],[]),new Nh.Notice(W("notices.eventCache.createFailed")),!1}})}deleteEvent(e,r){return ye(this,null,function*(){let n=this.store.getEventDetails(e);if(!n)throw new Error(`Event with ID ${e} not found for deletion.`);let{event:i,calendarId:a}=n,{provider:o}=this.getProviderForEvent(e);if(!o.getCapabilities().canDelete)throw new Error(`Calendar of type "${o.type}" does not support deleting events.`);if(!(r!=null&&r.force)&&(yield(yield this.getRecurringEventManager()).handleDelete(e,i,r)))return;let s=o.getEventHandle(i);if(this.plugin.providerRegistry.removeMapping(i,n.calendarId),this._store.delete(e),r!=null&&r.silent?this.updateQueue.toRemove.add(e):this.flushUpdateQueue([e],[]),!s){console.warn("Could not generate a persistent handle for the event being deleted. Proceeding with deletion from cache only."),this.timeEngine.scheduleCacheRebuild();return}try{yield this.plugin.providerRegistry.deleteEventInProvider(e,i,a),this.timeEngine.scheduleCacheRebuild()}catch(l){console.error("Failed to delete event with provider. Rolling back cache state.",{eventId:e,error:l});let c=n.location?{file:{path:n.location.path},lineNumber:n.location.lineNumber}:null;this._store.add({calendarId:n.calendarId,location:c,id:n.id,event:n.event}),this.plugin.providerRegistry.addMapping(n.event,n.calendarId,n.id);let u={event:n.event,id:n.id,calendarId:n.calendarId};throw r!=null&&r.silent?(this.updateQueue.toRemove.delete(e),this.updateQueue.toAdd.set(e,u)):this.flushUpdateQueue([],[u]),new Nh.Notice(W("notices.eventCache.deleteFailed")),l}})}updateEventWithId(e,r,n){return ye(this,null,function*(){var d;if(!r.allDay&&!r.timezone){let f=this.plugin.settings.displayTimezone||Intl.DateTimeFormat().resolvedOptions().timeZone;r.timezone=f}let i=this.store.getEventDetails(e);if(!i)throw new Error(`Event with ID ${e} not present in event store.`);let{provider:a,event:o}=this.getProviderForEvent(e),s=i.calendarId;if(!a.getCapabilities().canEdit)throw new Error(`Calendar of type "${a.type}" does not support editing events.`);if(yield(yield this.getRecurringEventManager()).handleUpdate(o,r,s))return!0;if(!a.getEventHandle(o))throw new Error("Could not generate a persistent handle for the event being modified.");this.isBulkUpdating=!0;try{this.plugin.providerRegistry.removeMapping(o,s),this.store.delete(e);let f=r,h=i.location?{file:{path:i.location.path},lineNumber:i.location.lineNumber}:null;this.store.add({calendarId:s,location:h,id:e,event:f}),this.plugin.providerRegistry.addMapping(f,s,e);let p={event:f,id:e,calendarId:s};n!=null&&n.silent?(this.updateQueue.toRemove.add(e),this.updateQueue.toAdd.set(e,p)):this.flushUpdateQueue([e],[p]);try{let m=this.enhancer.prepareForStorage(o),v=this.enhancer.prepareForStorage(r),y=yield this.plugin.providerRegistry.updateEventInProvider(e,s,m,v);return y&&y.file.path!==((d=i.location)==null?void 0:d.path)&&(this.store.delete(e),this.store.add({calendarId:s,location:y,id:e,event:f})),this.timeEngine.scheduleCacheRebuild(),!0}catch(m){console.error("Failed to update event with provider. Rolling back cache state.",{eventId:e,error:m}),this.plugin.providerRegistry.removeMapping(f,s),this.store.delete(e);let v=i.location?{file:{path:i.location.path},lineNumber:i.location.lineNumber}:null;this.store.add({calendarId:i.calendarId,location:v,id:i.id,event:i.event}),this.plugin.providerRegistry.addMapping(i.event,i.calendarId,i.id);let y={event:i.event,id:i.id,calendarId:i.calendarId};return n!=null&&n.silent?(this.updateQueue.toRemove.delete(e),this.updateQueue.toAdd.set(e,y)):this.flushUpdateQueue([e],[y]),new Nh.Notice(W("notices.eventCache.updateFailed")),!1}}finally{this.isBulkUpdating=!1}})}processEvent(e,r,n){let i=this.store.getEventById(e);if(!i)throw new Error("Event does not exist");let a=r(i);return this.updateEventWithId(e,a,n)}getRecurringEventManager(){return ye(this,null,function*(){if(!this.recurringEventManager){let{RecurringEventManager:e}=yield Promise.resolve().then(()=>(Q6(),K6));this.recurringEventManager=new e(this,this.plugin)}return this.recurringEventManager})}toggleRecurringInstance(e,r,n){return ye(this,null,function*(){yield(yield this.getRecurringEventManager()).toggleRecurringInstance(e,r,n),this.flushUpdateQueue([],[])})}modifyRecurringInstance(e,r,n){return ye(this,null,function*(){let i=this.enhancer.prepareForStorage(n);yield(yield this.getRecurringEventManager()).modifyRecurringInstance(e,r,i),this.flushUpdateQueue([],[])})}moveEventToCalendar(e,r,n){return ye(this,null,function*(){let i=this._store.getEventDetails(e);if(!i)throw new Error(`Event with ID ${e} not found.`);if(!this.recurringEventManager){let{RecurringEventManager:l}=yield Promise.resolve().then(()=>(Q6(),K6));this.recurringEventManager=new l(this,this._plugin)}if(yield this.recurringEventManager.moveRecurringEvent(e,r,n))return;let o=n||i.event;if(!(yield this.addEvent(r,o)))throw new Error("Failed to move event: Could not create event in destination calendar.");try{yield this.deleteEvent(e)}catch(l){throw console.error("Failed to delete event from old calendar after moving it.",l),new Nh.Notice(W("notices.eventCache.movePartialSuccess")),l}})}scheduleTask(e,r){return ye(this,null,function*(){let n=this.plugin.providerRegistry.getActiveProviders().find(i=>i.type==="tasks");if(!n)throw new Error("No Tasks provider found. Cannot schedule task.");if(typeof n.scheduleTask!="function")throw new Error("Tasks provider does not support task scheduling.");yield n.scheduleTask(e,r)})}validateTaskSchedule(e,r){return ye(this,null,function*(){let n=this.plugin.providerRegistry.getActiveProviders().find(i=>i.type==="tasks");if(n&&typeof n.canBeScheduledAt=="function"){let i={uid:e,title:"",type:"single",allDay:!0,date:"",endDate:null};return n.canBeScheduledAt(i,r)}return{isValid:!0}})}on(e,r){switch(e){case"update":this.updateViewCallbacks.push(r);break;case"time-tick":this.timeTickCallbacks.push(r);break}return r}off(e,r){switch(e){case"update":this.updateViewCallbacks.remove(r);break;case"time-tick":this.timeTickCallbacks.remove(r);break}}resync(){for(let e of this.updateViewCallbacks)e({type:"resync"})}updateViews(e,r){let n={toRemove:e,toAdd:r};for(let i of this.updateViewCallbacks)i(ae({type:"events"},n))}broadcastTimeTick(e){for(let r of this.timeTickCallbacks)try{r(e)}catch(n){console.error("Full Calendar: time-tick callback error",n)}}flushUpdateQueue(e,r){(e.length>0||r.length>0)&&this.updateViews(e,r),!(this.updateQueue.toRemove.size===0&&this.updateQueue.toAdd.size===0)&&(this.isBulkUpdating=!1,e=[...this.updateQueue.toRemove],r=[...this.updateQueue.toAdd.values()],this.updateViews(e,r),this.updateQueue={toRemove:new Set,toAdd:new Map})}updateCalendar(e){for(let r of this.updateViewCallbacks)r({type:"calendar",calendar:e})}syncCalendar(e,r){if(this.isBulkUpdating)return;let n=this.store.getEventsInCalendar(e),i=r.map(([u,d])=>({event:this.enhancer.enhance(u),location:d,calendarId:e})),a=n.map(u=>u.event),o=i.map(u=>u.event);if(JSON.stringify(a)===JSON.stringify(o))return;let s=[],l=[];for(let u of n)s.push(u.id),this.plugin.providerRegistry.removeMapping(u.event,u.calendarId);for(let{event:u,location:d,calendarId:f}of i){let h=this.plugin.providerRegistry.generateId();this.plugin.providerRegistry.addMapping(u,f,h),l.push({event:u,location:d,calendarId:f,id:h})}this.store.deleteEventsInCalendar(e);for(let{event:u,id:d,location:f,calendarId:h}of l)this.store.add({calendarId:h,location:f,id:d,event:u});let c=l.map(({event:u,id:d,calendarId:f})=>({event:u,id:d,calendarId:f}));this.flushUpdateQueue(s,c),this.timeEngine.scheduleCacheRebuild()}processProviderUpdates(e,r){let{additions:n,updates:i,deletions:a}=r;if(n.length===0&&i.length===0&&a.length===0)return Promise.resolve();this.isBulkUpdating=!0;try{for(let o of a){let s=this.store.getEventById(o);s&&(this.plugin.providerRegistry.removeMapping(s,e),this.store.delete(o),this.updateQueue.toRemove.add(o))}for(let{event:o,location:s}of n){let l=this.generateId();this.store.add({calendarId:e,location:s,id:l,event:o}),this.plugin.providerRegistry.addMapping(o,e,l),this.updateQueue.toAdd.set(l,{event:o,id:l,calendarId:e})}for(let{sessionId:o,event:s,location:l}of i){let c=this.store.getEventById(o);c&&this.plugin.providerRegistry.removeMapping(c,e),this.store.delete(o),this.store.add({calendarId:e,location:l,id:o,event:s}),this.plugin.providerRegistry.addMapping(s,e,o),this.updateQueue.toRemove.add(o),this.updateQueue.toAdd.set(o,{event:s,id:o,calendarId:e})}}finally{this.isBulkUpdating=!1,this.flushUpdateQueue([],[]),this.timeEngine.scheduleCacheRebuild()}return Promise.resolve()}get _storeForTest(){return this._store}syncFile(e,r){if(this.isBulkUpdating)return Promise.resolve();let n=this.store.getEventsInFile(e),i=r.map(({event:u,location:d,calendarId:f})=>({event:this.enhancer.enhance(u),location:d,calendarId:f})),a=n.map(u=>u.event),o=i.map(u=>u.event);if(JSON.stringify(a)===JSON.stringify(o))return Promise.resolve();let s=[],l=[];for(let u of n)s.push(u.id),this.plugin.providerRegistry.removeMapping(u.event,u.calendarId);for(let{event:u,location:d,calendarId:f}of i){let h=this.plugin.providerRegistry.generateId();this.plugin.providerRegistry.addMapping(u,f,h),l.push({event:u,location:d,calendarId:f,id:h})}this.store.deleteEventsAtPath(e.path);for(let{event:u,id:d,location:f,calendarId:h}of l)this.store.add({calendarId:h,location:f,id:d,event:u});let c=l.map(({event:u,id:d,calendarId:f})=>({event:u,id:d,calendarId:f}));return this.flushUpdateQueue(s,c),this.timeEngine.scheduleCacheRebuild(),Promise.resolve()}getProviderForEvent(e){let r=this._store.getEventDetails(e);if(!r)throw new Error(`Event ID ${e} not present in event store.`);let{calendarId:n,location:i,event:a}=r,o=this.calendars.get(n);if(!o)throw new Error(`Provider for calendar ID ${n} not found in cache map.`);if(!this.plugin.providerRegistry.getSource(n))throw new Error(`CalendarInfo for calendar ID ${n} not found.`);return{provider:o,location:i,event:a}}};WD();var sl=require("obsidian");Pr();mE();var R1=require("obsidian");var yCe=require("obsidian");var g2=class{constructor(e,r=!0){this.vault=e.vault,this.metadataCache=e.metadataCache,this.fileManager=e.fileManager,this.systemTrash=r}delete(e){return this.fileManager.trashFile(e)}rename(e,r){return this.fileManager.renameFile(e,r)}rewrite(e,r){return ye(this,null,function*(){let n=yield this.vault.read(e),i=r(n);if(i instanceof Promise&&(i=yield i),Array.isArray(i))return yield this.vault.modify(e,i[0]),i[1];yield this.vault.modify(e,i)})}create(e,r){return this.vault.create(e,r)}getAbstractFileByPath(e){return this.vault.getAbstractFileByPath(e)}getFileByPath(e){let r=this.vault.getAbstractFileByPath(e);return!r||!(r instanceof yCe.TFile)?null:r}getMetadata(e){return this.metadataCache.getFileCache(e)}waitForMetadata(e){return new Promise((r,n)=>{let i=this.metadataCache.getFileCache(e),a=null;if(i){r(i);return}a=this.metadataCache.on("changed",(o,s,l)=>{o.path===e.path&&(r(l),a?this.metadataCache.offref(a):console.warn("No ref was found after cache loaded."))})})}read(e){return this.vault.cachedRead(e)}process(e,r){return ye(this,null,function*(){return r(yield this.read(e))})}};zz();var pI=class{constructor(e){this.isLoaded=!1;this.plugin=e}onload(){this.isLoaded||(this.isLoaded=!0,this.plugin.registerView(lf,e=>new sv(e,this.plugin)),this.plugin.addCommand({id:"open-tasks-backlog",name:"Open tasks backlog",callback:()=>{this.openBacklogView()}}),this.plugin.addRibbonIcon("list-todo","Tasks backlog",()=>{this.openBacklogView()}))}onunload(){this.isLoaded&&(this.isLoaded=!1,this.closeAllBacklogViews())}openBacklogView(){return ye(this,null,function*(){let e=this.plugin.app.workspace,r=e.getLeavesOfType(lf)[0];if(r){e.revealLeaf(r);return}let n=e.getRightLeaf(!1);n&&(yield n.setViewState({type:lf,active:!0}),e.revealLeaf(n))})}closeAllBacklogViews(){let r=this.plugin.app.workspace.getLeavesOfType(lf);for(let n of r)n.detach()}refreshViews(){let r=this.plugin.app.workspace.getLeavesOfType(lf);for(let n of r){let i=n.view;i instanceof sv&&i.refresh()}}getIsLoaded(){return this.isLoaded}};Pr();var Oat=1e3,Pat=60*Oat,zat=5*Pat,RI=class{constructor(e){this.providers=new Map;this.instances=new Map;this.sources=[];this.cache=null;this.pkCounter=0;this.identifierToSessionIdMap=new Map;this.identifierMapPromise=null;this.revalidating=!1;this.lastRevalidation=0;this.onSourcesChanged=()=>{ye(this,null,function*(){this.cache&&(yield this.initializeInstances(),this.syncBacklogManagerLifecycle(),this.cache.reset(),yield this.cache.populate(),this.revalidateRemoteCalendars(),this.tasksBacklogManager.getIsLoaded()&&this.tasksBacklogManager.refreshViews())})};this.plugin=e,this.tasksBacklogManager=new pI(e)}refreshBacklogViews(){this.tasksBacklogManager.getIsLoaded()&&this.tasksBacklogManager.refreshViews()}registerBuiltInProviders(){this.register("local",()=>Promise.resolve().then(()=>(RCe(),MCe))),this.register("dailynote",()=>Promise.resolve().then(()=>(FCe(),zCe))),this.register("ical",()=>Promise.resolve().then(()=>(YCe(),GCe))),this.register("caldav",()=>Promise.resolve().then(()=>(fke(),dke))),this.register("google",()=>Promise.resolve().then(()=>(Eke(),kke))),this.register("tasks",()=>Promise.resolve().then(()=>(Mke(),Ake))),this.register("bases",()=>Promise.resolve().then(()=>(Nke(),Ike)))}register(e,r){this.providers.has(e)&&console.warn(`Provider loader for type "${e}" is already registered. Overwriting.`),this.providers.set(e,r)}setCache(e){this.cache=e}updateSources(e){this.sources=[...e]}getSource(e){return this.sources.find(r=>r.id===e)}getAllSources(){return this.sources}getConfig(e){let r=this.getSource(e);if(r&&"config"in r){let n=r.config;return typeof n=="object"&&n!==null?n:void 0}}getProviderForType(e){return ye(this,null,function*(){let r=this.providers.get(e);if(!r){console.error(`Full Calendar: No provider loader found for type "${e}".`);return}try{let n=yield r(),i=Object.values(n).find(a=>typeof a=="function"&&a.type===e);if(!i){console.error(`Full Calendar: Could not find a provider class with type "${e}" in the loaded module.`);return}return i}catch(n){console.error(`Full Calendar: Error loading provider for type "${e}".`,n);return}})}addInstance(e){return ye(this,null,function*(){let r=e.id;if(!r||this.instances.has(r))return;let n=yield this.getProviderForType(e.type);if(n){let i=new g2(this.plugin.app),a=new n(e,this.plugin,i);if(this.instances.set(r,a),this.sources.push(e),a.initialize&&a.initialize(),this.cache&&this.cache.initialized)try{let o=yield a.getEvents();for(let[s,l]of o){let c=this.cache.enhancer.enhance(s),u=this.generateId();this.cache.store.add({calendarId:r,location:l,id:u,event:c}),this.addMapping(c,r,u)}this.cache.calendars.set(r,a),this.cache.resync()}catch(o){console.error("Full Calendar: Failed to fetch events from new provider:",o)}}})}initializeInstances(){return ye(this,null,function*(){this.instances.clear();let e=this.plugin.settings.calendarSources;for(let r of e){let n=r.id;if(!n){console.warn("Full Calendar: Calendar source is missing an ID.",r);continue}let i=yield this.getProviderForType(r.type);if(i){let a=new g2(this.plugin.app),o=new i(r,this.plugin,a);this.instances.set(n,o),o.initialize&&o.initialize()}}})}generateId(){return`${this.pkCounter++}`}getSessionId(e){return ye(this,null,function*(){return this.identifierMapPromise&&(yield this.identifierMapPromise),this.identifierToSessionIdMap.get(e)||null})}getGlobalIdentifier(e,r){let n=this.instances.get(r);if(!n)return console.warn(`Could not find provider instance for calendar ID ${r}`),null;let i=n.getEventHandle(e);return i?`${r}::${i.persistentId}`:null}buildMap(e){this.cache&&(this.identifierMapPromise=(()=>{this.identifierToSessionIdMap.clear();for(let r of e.getAllEvents()){let n=this.getGlobalIdentifier(r.event,r.calendarId);n&&this.identifierToSessionIdMap.set(n,r.id)}return Promise.resolve()})())}addMapping(e,r,n){let i=this.getGlobalIdentifier(e,r);i&&this.identifierToSessionIdMap.set(i,n)}removeMapping(e,r){let n=this.getGlobalIdentifier(e,r);n&&this.identifierToSessionIdMap.delete(n)}fetchAllEvents(){return ye(this,null,function*(){if(!this.cache)throw new Error("Cache not set on ProviderRegistry");let e=[],r=[];for(let[n,i]of this.instances.entries()){let a=ye(this,null,function*(){try{(yield i.getEvents()).forEach(([s,l])=>{let c=this.cache.enhancer.enhance(s);e.push({calendarId:n,event:c,location:l})})}catch(o){let s=this.getSource(n);console.warn("Full Calendar: Failed to load calendar source",s,o)}});r.push(a)}return yield Promise.allSettled(r),e})}fetchAllByPriority(e,r){return ye(this,null,function*(){if(!this.cache)throw new Error("Cache not set on ProviderRegistry");let n=[],i=Array.from(this.instances.entries()).sort(([,s],[,l])=>s.loadPriority-l.loadPriority),a=i.filter(([,s])=>s.loadPriority<100),o=i.filter(([,s])=>s.loadPriority>=100);for(let[s,l]of a)try{(yield l.getEvents()).map(([d,f])=>({event:this.cache.enhancer.enhance(d),location:f})).forEach(({event:d,location:f})=>{n.push({event:d,location:f,calendarId:s})})}catch(c){let u=this.getSource(s);console.warn("Full Calendar: Failed to load local calendar source",u,c)}return o.length>0?ye(this,null,function*(){let s=o.map(u=>ye(this,[u],function*([l,c]){try{let f=(yield c.getEvents()).map(([h,p])=>({event:this.cache.enhancer.enhance(h),location:p}));e&&e(l,f)}catch(d){let f=this.getSource(l);console.warn("Full Calendar: Failed to load remote calendar source",f,d)}}));yield Promise.all(s),r&&r()}).catch(s=>{console.error("Full Calendar: Error loading remote calendars:",s),r&&r()}):r&&r(),n})}createEventInProvider(e,r){return ye(this,null,function*(){let n=this.instances.get(e);if(!n)throw new Error(`Provider instance with ID ${e} not found.`);return n.createEvent(r)})}updateEventInProvider(e,r,n,i){return ye(this,null,function*(){let a=this.instances.get(r);if(!a)throw new Error(`Provider instance with ID ${r} not found.`);let o=a.getEventHandle(n);if(!o)throw new Error("Could not generate a persistent handle for the event being modified.");return a.updateEvent(o,n,i)})}deleteEventInProvider(e,r,n){return ye(this,null,function*(){let i=this.instances.get(n);if(!i)throw new Error(`Provider instance with ID ${n} not found.`);let a=i.getEventHandle(r);a?yield i.deleteEvent(a):console.warn("Could not generate a persistent handle for the event being deleted. Proceeding with deletion from cache only.")})}handleFileUpdate(e){return ye(this,null,function*(){if(!this.cache)return;let r=[];for(let[i,a]of this.instances.entries())if(!a.isRemote&&a.getEventsInFile){let o=this.getSource(i);if(!o)continue;(a.isFileRelevant?a.isFileRelevant(e):!1)&&r.push({instance:a,config:o,settingsId:i})}if(r.length===0){yield this.cache.syncFile(e,[]);return}let n=[];for(let{instance:i,settingsId:a}of r){let o=yield i.getEventsInFile(e);for(let[s,l]of o)n.push({event:s,location:l,calendarId:a})}yield this.cache.syncFile(e,n)})}handleFileDelete(e){return ye(this,null,function*(){if(!this.cache)return;let r=this.plugin.app.vault.getAbstractFileByPath(e);if(r instanceof R1.TFile)yield this.cache.syncFile(r,[]);else{let n=this.cache.store.getEventsInFile({path:e});for(let i of n)yield this.cache.deleteEvent(i.id,{force:!0,silent:!0});this.cache.flushUpdateQueue([],[])}})}revalidateRemoteCalendars(e=!1){if(!this.cache||this.revalidating)return;let r=Date.now();if(!e&&r-this.lastRevalidation<zat)return;let n=Array.from(this.instances.entries()).filter(([a,o])=>o.isRemote);if(n.length===0)return;this.revalidating=!0,new R1.Notice(W("notices.revalidatingRemotes"));let i=n.map(([a,o])=>o.getEvents().then(s=>{this.cache.syncCalendar(a,s)}).catch(s=>{let l=this.getSource(a),c=l&&"name"in l?l.name:o.type;throw new Error(`Failed to revalidate calendar "${c}": ${s.message}`)}));Promise.allSettled(i).then(a=>{this.revalidating=!1,this.lastRevalidation=Date.now();let o=a.flatMap(s=>s.status==="rejected"?[s.reason]:[]);o.length>0?(new R1.Notice(W("notices.revalidationFailed")),o.forEach(s=>{console.error("Full Calendar: Revalidation failed.",s)})):new R1.Notice(W("notices.revalidationSuccess"))})}getInstance(e){return this.instances.get(e)}getCapabilities(e){let r=this.instances.get(e);return r?r.getCapabilities():null}createInstanceOverrideInProvider(e,r,n,i){return ye(this,null,function*(){let a=this.instances.get(e);if(!a)throw new Error(`Provider instance with ID ${e} not found.`);return a.createInstanceOverride(r,n,i)})}syncBacklogManagerLifecycle(){this.hasProviderOfType("tasks")?this.tasksBacklogManager.getIsLoaded()||this.tasksBacklogManager.onload():this.tasksBacklogManager.getIsLoaded()&&this.tasksBacklogManager.onunload()}listenForSourceChanges(){this.plugin.app.workspace.on("full-calendar:sources-changed",this.onSourcesChanged)}stopListening(){this.plugin.app.workspace.off("full-calendar:sources-changed",this.onSourcesChanged)}processProviderUpdates(e,r){return ye(this,null,function*(){if(!this.cache)return;let{additions:n,updates:i,deletions:a}=r,o={additions:n,updates:[],deletions:[]};for(let s of i){let l=`${e}::${s.persistentId}`,c=yield this.getSessionId(l);c&&o.updates.push({sessionId:c,event:s.event,location:s.location})}for(let s of a){let l=`${e}::${s}`,c=yield this.getSessionId(l);c&&o.deletions.push(c)}yield this.cache.processProviderUpdates(e,o)})}getActiveProviders(){return Array.from(this.instances.values())}hasProviderOfType(e){for(let r of this.instances.values())if(r.type===e)return!0;return!1}};var II="full-calendar-view",NI="full-calendar-sidebar-view",LI=class extends sl.Plugin{constructor(){super(...arguments);this._settings=v6;this.isMobile=!1;this.cache=new fT(this);this._loadedSettings="";this.processFrontmatter=I0}get settings(){return this._settings}set settings(r){this._settings=r,this.providerRegistry&&this.providerRegistry.updateSources(this._settings.calendarSources)}activateView(){return ye(this,null,function*(){let r=this.app.workspace.getLeavesOfType(II).filter(n=>n.view.inSidebar===!1);r.length===0?yield this.app.workspace.getLeaf("tab").setViewState({type:II,active:!0}):yield Promise.all(r.map(n=>n.view.onOpen()))})}onload(){return ye(this,null,function*(){var i;yield gG(this.app),this.isMobile=this.app.isMobile,this.providerRegistry=new RI(this),this.providerRegistry.registerBuiltInProviders(),yield this.loadSettings(),yield this.providerRegistry.initializeInstances(),this.providerRegistry.syncBacklogManagerLifecycle(),yield LQ(this),this.providerRegistry.setCache(this.cache),this.providerRegistry.listenForSourceChanges(),this.cache.reset(),this.cache.listenForSettingsChanges(this.app.workspace),this.notificationManager=new rE(this),this.notificationManager.update(this.settings),this.statusBarManager=new nE(this),this.statusBarManager.update(this.settings);let r=this.app.workspace;this.registerEvent(r.on("full-calendar:settings-updated",this.notificationManager.update.bind(this.notificationManager))),this.registerEvent(r.on("full-calendar:settings-updated",this.statusBarManager.update.bind(this.statusBarManager))),this.registerEvent(r.on("full-calendar:settings-updated",this.cache.updateSettings.bind(this.cache))),this.registerEvent(this.app.metadataCache.on("changed",a=>{this.providerRegistry.handleFileUpdate(a)})),this.registerEvent(this.app.vault.on("rename",(a,o)=>{a instanceof sl.TFile&&this.providerRegistry.handleFileDelete(o)})),this.registerEvent(this.app.vault.on("delete",a=>{a instanceof sl.TFile&&this.providerRegistry.handleFileDelete(a.path)})),window.cache=this.cache;let{CalendarView:n}=yield Promise.resolve().then(()=>(VB(),vCe));this.registerView(II,a=>new n(a,this,!1)),this.registerView(NI,a=>new n(a,this,!0)),this.isMobile||Promise.resolve().then(()=>(FB(),zB)).then(({AnalysisView:a,ANALYSIS_VIEW_TYPE:o})=>{this.registerView(o,s=>new a(s,this))}).catch(a=>{console.error("Full Calendar: Failed to load Chrono Analyser view",a),new sl.Notice(W("notices.chronoAnalyserLoadFailed"))}),this.addRibbonIcon("calendar-glyph",W("ribbon.openCalendar"),a=>ye(this,null,function*(){yield this.activateView()})),this.settingsTab=new kE(this.app,this,this.providerRegistry),this.addSettingTab(this.settingsTab),this.addCommand({id:"full-calendar-new-event",name:W("commands.newEvent"),callback:()=>ye(this,null,function*(){let{launchCreateModal:a}=yield Promise.resolve().then(()=>(S1(),T1));a(this,{})})}),this.addCommand({id:"full-calendar-reset",name:W("commands.resetCache"),callback:()=>{this.cache.reset(),this.app.workspace.detachLeavesOfType(II),this.app.workspace.detachLeavesOfType(NI),new sl.Notice(W("notices.cacheReset"))}}),this.addCommand({id:"full-calendar-revalidate",name:W("commands.revalidateRemote"),callback:()=>{this.providerRegistry.revalidateRemoteCalendars(!0)}}),this.addCommand({id:"full-calendar-open",name:W("commands.openCalendar"),callback:()=>{this.activateView()}}),this.isMobile&&this.addCommand({id:"full-calendar-open-analysis-mobile-disabled",name:W("commands.openChronoAnalyser"),callback:()=>{new sl.Notice(W("notices.chronoAnalyserMobileDisabled"))}}),this.addCommand({id:"full-calendar-open-sidebar",name:W("commands.openSidebar"),callback:()=>{if(this.app.workspace.getLeavesOfType(NI).length)return;let a=this.app.workspace.getRightLeaf(!1);a?(a.setViewState({type:NI}),this.app.workspace.revealLeaf(a)):console.warn("Right leaf not found for calendar view!")}}),(i=r.registerHoverLinkSource)==null||i.call(r,bE,{display:"Full Calendar",defaultMod:!0}),this.registerObsidianProtocolHandler("full-calendar-google-auth",a=>ye(this,null,function*(){if(a.code&&a.state){let{exchangeCodeForToken:o}=yield Promise.resolve().then(()=>(lj(),wke));yield o(a.code,a.state,this),this.settingsTab&&this.settingsTab.display()}else new sl.Notice(W("notices.googleAuthFailed")),console.error("Google Auth Callback Error: Missing code or state.",a)}))})}onunload(){this.notificationManager&&this.notificationManager.unload(),this.statusBarManager&&this.statusBarManager.unload(),this.providerRegistry&&this.providerRegistry.stopListening(),this.cache&&this.cache.stopListening()}loadSettings(){return ye(this,null,function*(){let r=Object.assign({},v6,yield this.loadData()),{settings:n,needsSave:i}=RQ(r);this.settings=n,this._loadedSettings=JSON.stringify(this.settings),this.cache.enhancer.updateSettings(this.settings),i&&(new sl.Notice(W("notices.settingsUpdated")),yield this.saveData(this.settings));let{checkAndShowWhatsNew:a}=yield Promise.resolve().then(()=>(D6(),E6));a(this)})}saveSettings(){return ye(this,null,function*(){let r=JSON.parse(JSON.stringify(this.settings)),n=ae({},this.settings),{sources:i}=R6(n.calendarSources);n.calendarSources=i,this.settings=n,yield this.saveData(this.settings),this.app.workspace.trigger("full-calendar:settings-updated",this.settings);let a=JSON.stringify(this.settings),o=this._loadedSettings?JSON.parse(this._loadedSettings):r,s=this.settings,l=JSON.stringify(s.calendarSources),c=JSON.stringify(o.calendarSources);l!==c&&this.app.workspace.trigger("full-calendar:sources-changed"),(o.firstDay!==s.firstDay||o.timeFormat24h!==s.timeFormat24h||JSON.stringify(o.initialView)!==JSON.stringify(s.initialView)||o.activeWorkspace!==s.activeWorkspace||JSON.stringify(o.businessHours)!==JSON.stringify(s.businessHours)||o.enableAdvancedCategorization!==s.enableAdvancedCategorization||JSON.stringify(o.categorySettings)!==JSON.stringify(s.categorySettings))&&this.app.workspace.trigger("full-calendar:view-config-changed"),this._loadedSettings=a})}nonBlockingProcess(r,n,i){return ye(this,null,function*(){let o=0,s=new sl.Notice("",0),l=()=>{if(o>=r.length){s.hide();return}s.setMessage(`${i}: ${o}/${r.length}`);let c=r.slice(o,o+10);Promise.all(c.map(n)).then(()=>{o+=10,setTimeout(l,20)}).catch(u=>{console.error("Error during bulk processing batch",u),s.hide(),new sl.Notice(W("notices.bulkUpdateError"))})};l()})}};
/**
 * @file i18n.ts
 * @brief Internationalization (i18n) module for Full Calendar plugin.
 *
 * @description
 * This module provides internationalization support using i18next.
 * It detects the user's Obsidian language setting and loads the appropriate
 * translation resources. If a translation is missing, it gracefully falls back to English.
 *
 * @license See LICENSE.md
 */
/**
 * @file ReactModal.ts
 * @brief A generic Obsidian Modal class for hosting React components.
 *
 * @description
 * This file defines a reusable `ReactModal` class that extends Obsidian's
 * built-in `Modal`. It handles the lifecycle of mounting and unmounting a
 * React component within the modal, providing a clean way to use React for
 * complex UI inside a standard Obsidian modal window.
 *
 * @license See LICENSE.md
 */
/**
 * @file eventActions.ts
 * @module actions/eventActions
 * @description
 * Provides high-level user action functions for interacting with calendar events,
 * such as opening the note associated with an event in a new pane. These actions
 * coordinate between the EventCache and the Obsidian workspace to perform user-initiated
 * operations from the UI.
 *
 * @remarks
 * Functions in this module are intended to be called from UI components or commands,
 * encapsulating the logic for manipulating event-related files and views.
 *
 * @license See LICENSE.md
 */
/**
 * @file colors.ts
 * @brief Provides a predefined color palette and a utility for selecting the next available color.
 *
 * @description
 * This file contains a curated list of colors that work well in both light and
 * dark themes. The `getNextColor` utility prevents color collisions by selecting
 * the next color in the palette that is not currently in use.
 *
 * @license See LICENSE.md
 */
/**
 * @file calendar_settings.ts
 * @brief Defines the schemas and types for calendar source configurations.
 *
 * @description
 * This file uses the `zod` library to define strongly-typed schemas for the
 * various calendar source types (local, dailynote, ical, caldav, google). These
 * schemas are used to parse and validate the calendar configurations stored
 * in `data.json`, ensuring data integrity and providing type safety
 * throughout the plugin.
 *
 * @license See LICENSE.md
 */
/**
 * @file Changelog.tsx
 * @brief React component for displaying the full, interactive changog.
 *
 * @description
 * This component renders a list of versions from the changelogData, each with a
 * collapsible section for its changes. It manages its own state for which
 * sections are expanded.
 *
 * @license See LICENSE.md
 */
/**
 * @file renderGeneral.ts
 * @brief Renders the general settings section of the plugin settings tab.
 * @license See LICENSE.md
 */
/**
 * @file renderAppearance.ts
 * @brief Renders the appearance-related settings section.
 * @license See LICENSE.md
 */
/**
 * @file WorkspaceModal.tsx
 * @brief Modal component for creating and editing workspace configurations.
 * @license See LICENSE.md
 */
/**
 * @file renderWorkspaces.ts
 * @brief Renders the workspace management section of the plugin settings tab.
 * @license See LICENSE.md
 */
/**
 * @file AutocompleteInput.tsx
 * @brief A reusable text input component with autocomplete/datalist functionality.
 *
 * @description
 * This component renders an <input> element along with a <datalist> to provide
 * native browser autocomplete suggestions.
 *
 * @license See LICENSE.md
 */
/**
 * @file CategorySetting.tsx
 * @brief React component for managing category color settings.
 *
 * @description
 * This component renders a list of user-defined categories, allowing them to
 * set a color for each one, add new categories, and delete existing ones.
 *
 * @license See LICENSE.md
 */
/**
 * @file schema.ts
 * @brief Defines the Zod schema and TypeScript type for an OFCEvent.
 *
 * @description
 * This is a critical file that defines the canonical shape of an event object
 * (`OFCEvent`) within the plugin. It uses a `zod` schema to enforce structure,
 *  handle default values, and validate event data parsed from various sources.
 * This ensures that all events, regardless of origin, conform to a consistent
 * and predictable data model.
 *
 * @license See LICENSE.md
 */
/**
 * @file index.ts
 * @brief A central export point for all public types used across the plugin.
 *
 * @description
 * This file acts as a public-facing barrel file for the `types` directory.
 * It consolidates and re-exports the most important types, such as `OFCEvent`,
 * `CalendarInfo`, and `EventLocation`, providing a single, clean import
 * point for other parts of the application.
 *
 * @license See LICENSE.md
 */
/**
 * @file parser.ts
 * @brief Handles serialization/deserialization of events from daily notes.
 *
 * @description
 * This module contains all the logic for parsing OFCEvents from plain text lines
 * and for serializing them back into list items with inline attributes. It is
 * decoupled from the Obsidian API and file system.
 *
 * @license See LICENSE.md
 */
/**
 * @file categoryParser.ts
 * @brief Provides utility functions for parsing and constructing event titles with categories and sub-categories.
 *
 * @description
 * This file centralizes the logic for handling the `Category - SubCategory - Title` format.
 * It ensures that the parsing and reconstruction of event titles are consistent
 * across the entire plugin.
 *
 * @license See LICENSE.md
 */
/**
 * @file bulkCategorization.ts
 * @brief Provides stateless bulk action functions for managing event categories.
 *
 * @description
 * This module contains self-contained, stateless functions that perform bulk
 * modifications on files for the "Advanced Categorization" feature. These
 * actions are invoked directly by the UI, accept the plugin instance to access
 * settings and the Vault, and operate on files without any knowledge of the
 * EventCache or providers.
 *
 * @license See LICENSE.md
 */
/**
 * @file renderCategorization.ts
 * @brief Renders the advanced categorization settings section.
 * @license See LICENSE.md
 */
/**
 * @file renderWhatsNew.ts
 * @brief Renders the "What's New" section using native Obsidian components.
 * @license See LICENSE.md
 */
/**
 * @file CalendarSetting.tsx
 * @brief React component for displaying and managing a list of configured calendars.
 *
 * @description
 * This file defines the `CalendarSettings` component, which is embedded in the
 * plugin's settings tab. It is responsible for rendering the list of all
 * currently configured calendar sources, allowing the user to modify their
 * colors or delete them. It maintains its own state and syncs with the
 * plugin settings upon saving.
 *
 * @license See LICENSE.md
 */
/**
 * @file renderCalendars.ts
 * @brief Renders the calendar management section of the settings tab.
 * @license See LICENSE.md
 */
/**
 * @file GoogleAuthManager.ts
 * @brief Centralized manager for Google account authentication and token handling.
 * @license See LICENSE.md
 */
/**
 * @file renderGoogle.ts
 * @brief Renders the Google Account management section of the settings tab.
 * @license See LICENSE.md
 */
/**
 * @file renderReminders.ts
 * @brief Renders the reminders settings section of the plugin settings tab.
 * @license See LICENSE.md
 */
/**
 * @file SettingsTab.tsx
 * @brief Implements the Full Calendar plugin's settings tab UI for Obsidian.
 *
 * @description
 * This file defines the `FullCalendarSettingTab` class, which extends Obsidian's
 * `PluginSettingTab`. It acts as an orchestrator, calling dedicated rendering
 * modules for each section of the settings UI and managing the top-level view
 * state (e.g., switching between main settings and the full changelog).
 *
 * @exports FullCalendarSettingTab
 * @exports ensureCalendarIds
 *
 * @license See LICENSE.md
 */
/**
 * @file tasks.ts
 * @brief Provides utility functions for handling task-related events.
 *
 * @description
 * This file contains core business logic for managing the "task" aspect of an event.
 * It includes logic for identifying if an event is a task (`isTask`), toggling
 * its completion status (`toggleTask`), and converting a regular event into a
 * task or vice-versa (`unmakeTask`).
 *
 * @license See LICENSE.md
 */
/**
 * @file RecurringEventManager.ts
 * @brief Manages all complex business logic related to recurring events.
 *
 * @description
 * This class is an internal component of the EventCache and is not intended
 * to be used directly. It encapsulates the logic for handling recurring event
 * modifications, deletions, and overrides (exceptions).
 *
 * @see EventCache.ts
 *
 * @license See LICENSE.md
 */
/**
 * @file onboard.ts
 * @brief Renders the onboarding screen for users without configured calendars.
 *
 * @description
 * Displays a message and a button prompting users to create their first calendar
 * when no calendar sources are configured. Integrates with the plugin's settings
 * and activates the calendar view after creation.
 *
 * @license See LICENSE.md
 */
/**
 * @file TasksBacklogView.ts
 * @brief A sidebar view that displays undated tasks from the Tasks plugin.
 *
 * @description
 * This view provides a dedicated space for managing undated tasks (the "backlog").
 * Tasks are displayed in a list and can be dragged onto the calendar to schedule them.
 * The view supports pagination for large numbers of undated tasks.
 *
 * @license See LICENSE.md
 */
/**
 * @file WorkspaceManager.ts
 * @brief Centralizes workspace-related logic for the Full Calendar view.
 *
 * @description
 * This class acts as a middleware between the EventCache and the CalendarView.
 * It is responsible for taking the raw data from the cache and applying all
 * active workspace settings (view configurations, source filters, category filters)
 * to produce the final, ready-to-render data for the calendar.
 *
 * This decouples the complex business logic of workspaces from the view layer,
 * simplifying the CalendarView into a pure renderer.
 *
 * @license See LICENSE.md
 */
/**
 * @file ViewEnhancer.ts
 * @brief Orchestrates presentation-layer logic for the calendar view.
 *
 * @description
 * This class acts as the single intermediary between the EventCache and the
 * CalendarView. It composes one or more "enhancement modules" (like the
 * WorkspaceManager) to apply all necessary data transformations and configuration
 * overrides before the data is rendered.
 *
 * This decouples complex business logic from the view, making the view a "dumb"
 * renderer and centralizing the transformation logic for consistency and testability.
 *
 * @license See LICENSE.md
 */
/**
 * @file DatePicker.ts
 * @brief Reusable flatpickr-based date picker component
 *
 * @description
 * This module provides a reusable DatePicker class that wraps flatpickr functionality.
 * It can be configured for single date or date range selection and provides a clean
 * interface for calendar date selection throughout the application.
 *
 * Extracted from ChronoAnalyser to follow DRY principles and enable reuse across
 * different parts of the Full Calendar plugin.
 *
 * @license See LICENSE.md
 */
/**
 * @file DateNavigation.ts
 * @brief Handles date navigation logic for calendar views
 *
 * @description
 * This module provides functionality for quick date navigation including:
 * - Navigate to current month/week based on view type
 * - Custom date navigation with calendar picker
 * - Context-aware navigation options based on current calendar view
 *
 * Follows the Single Responsibility Principle by focusing solely on
 * date navigation concerns.
 *
 * @license See LICENSE.md
 */
/**
 * @file calendar.ts
 * @brief A wrapper for initializing and rendering the FullCalendar.js library.
 *
 * @description
 * This file provides the `renderCalendar` function, which is a factory for
 * creating a `Calendar` instance from the `@fullcalendar/core` library. It
 * encapsulates all the configuration and boilerplate needed to set up the
 * calendar, including plugins, views, toolbar settings, and interaction
 * callbacks.
 *
 * @exports renderCalendar
 *
 * @license See LICENSE.md
 */
/**
 * @file EditEvent.tsx
 * @brief React component for the "Create/Edit Event" modal form.
 *
 * @description
 * This file defines the `EditEvent` React component, which provides the form
 * for creating and editing events. It manages all form state, including title,
 * dates, times, recurrence rules, and associated calendar. It performs form
 * validation and calls a submit callback to persist changes.
 *
 * @license See LICENSE.md
 */
/**
 * @file ConfirmModal.ts
 * @brief A modal dialog for confirming user actions within the Full Calendar plugin.
 *
 * @description
 * This modal displays a customizable title and body text, and provides two buttons:
 * - "Yes, open parent": Confirms the action and triggers the provided callback.
 * - "Cancel": Closes the modal without taking further action.
 *
 * @remarks
 * This modal is styled with the `full-calendar-confirm-modal` CSS class.
 *
 * @example
 * ```typescript
 * new ConfirmModal(app, "Confirm Action", "Are you sure you want to proceed?", () => {
 *   // Handle confirmation logic here
 * }).open();
 * ```
 *
 * @license See LICENSE.md
 */
/**
 * @file event_modal.ts
 * @brief Provides functions to launch React-based modals for creating and editing events.
 *
 * @description
 * This file serves as the bridge between Obsidian's imperative UI system and
 * the declarative React world. The `launchCreateModal` and `launchEditModal`
 * functions are responsible for creating a `ReactModal` instance and mounting
 * the `EditEvent` React component within it, passing all necessary props and
 * callbacks for event submission and deletion.
 *
 * @see ReactModal.ts
 * @see components/EditEvent.tsx
 *
 * @exports launchCreateModal
 * @exports launchEditModal
 *
 * @license See LICENSE.md
 */
/**
 * @file view.ts
 * @brief Defines the `CalendarView`, the main component for displaying the calendar.
 *
 * @description
 * This file contains the `CalendarView` class, which extends Obsidian's `ItemView`.
 * It is responsible for creating and managing the DOM element that hosts the
 * calendar, initializing FullCalendar.js, and subscribing to the `EventCache`
 * for updates. It handles all direct user interactions with the calendar and
 * translates them into actions on the `EventCache`.
 *
 * @exports CalendarView
 *
 * @see EventCache.ts
 *
 * @license See LICENSE.md
 */
/**
 * @file interop.ts
 * @brief Provides data conversion functions between OFCEvent and FullCalendar's EventInput.
 *
 * @description
 * This module acts as a data-translation layer between the plugin's internal `OFCEvent` format and FullCalendar's `EventInput` format.
 * It ensures correct INTEROPerability for displaying events and handling user interactions such as dragging and resizing.
 * The conversion logic supports single, recurring, and rrule-based events, including timezone-aware processing and category coloring.
 *
 * @packageDocumentation
 * @module interop
 *
 * @exports toEventInput
 * @exports fromEventApi
 * @exports dateEndpointsToFrontmatter
 *
 * @license See LICENSE.md
 */
/**
 * @file frontmatter.ts
 * @brief A utility for parsing and manipulating YAML frontmatter in notes.
 *
 * @description
 * This file provides a set of pure functions for working with Obsidian's
 * YAML frontmatter. It centralizes the logic for creating, reading, and
 * modifying frontmatter, ensuring consistent behavior across the plugin.
 * This utility is primarily used by the `FullNoteCalendar` to manage event
 * data stored in note files.
 *
 * @see FullNoteCalendar.ts
 *
 * @license See LICENSE.md
 */
/**
 * @file ics.ts
 * @brief Provides functions for parsing iCalendar (ICS) data into OFCEvents.
 *
 * @description
 * This file serves as the primary data translation layer for the iCalendar
 * format. It uses the `ical.js` library to parse raw ICS text and converts
 * iCalendar components (Vevent) into the plugin's internal `OFCEvent` format.
 * It correctly handles single events, recurring events (RRULE), and
 * recurrence exceptions (EXDATE, RECURRENCE-ID).
 *
 * @license See LICENSE.md
 */
/**
 * @file parser.ts
 * @brief Handles the transformation of Google Calendar API event data into OFCEvents.
 *
 * @description
 * This module is the data translation layer for Google Calendar. It takes a JSON
 * object from the Google API and maps its fields to the plugin's internal OFCEvent
 * format, handling all-day events, timed events, and recurrence rules.
 *
 * @license See LICENSE.md
 */
/**
 * @file request.ts
 * @brief Provides a wrapper for making authenticated requests to the Google Calendar API.
 *
 * @description
 * This module abstracts the process of making a Google API call by automatically
 * handling token acquisition and renewal. It uses the `getGoogleAuthToken` function
 * and Obsidian's `requestUrl` to perform the request.
 *
 * @license See LICENSE.md
 */
/**
 * @file auth.ts
 * @brief Handles all OAuth 2.0 logic for Google Calendar integration.
 *
 * @description
 * This module manages the OAuth 2.0 Authorization Code Flow with PKCE.
 * It handles generating auth URLs, exchanging the authorization code for tokens,
 * storing tokens securely, and automatically refreshing the access token when it expires.
 *
 * @license See LICENSE.md
 */
/**
 * @file api.ts
 * @brief Helper functions for making specific Google Calendar API calls.
 * @license See LICENSE.md
 */
/**
 * @file GoogleConfigComponent.tsx
 * @brief React component for the new multi-account Google Calendar setup wizard.
 * @license See LICENSE.md
 */
/**
 * @file TasksConfigComponent.tsx
 * @brief Configuration component for the Tasks provider.
 *
 * @license See LICENSE.md
 */
/**
 * @file TasksPluginProvider.ts
 * @brief Obsidian Tasks integration as a calendar source.
 *
 * @description
 * This provider integrates with the Obsidian Tasks plugin by subscribing to its
 * cache. It displays tasks with due dates on the Full Calendar and supports
 * full CUD (Create, Update, Delete) operations by surgically modifying the
 * underlying markdown files.
 *
 * @license See LICENSE.md
 */
/**
 * @file StatusBarManager.ts
 * @brief Manages the Full Calendar status bar item.
 *
 * @description
 * This class is responsible for creating, updating, and removing a status bar
 * item that displays the currently active event. It subscribes to the TimeEngine
 * via the EventCache to receive time-state updates and reactively updates the UI.
 *
 * @license See LICENSE.md
 */
/**
 * @file utils.ts
 * @brief Lightweight settings utilities that must be safe to import at plugin startup.
 * @license See LICENSE.md
 */
/**
 * @file EventStore.ts
 * @brief Defines the EventStore, an in-memory database for event objects.
 *
 * @description
 * This file provides the `EventStore` class, which is designed for efficient
 * storage and retrieval of events. It uses an ID-based primary key and maintains
 * secondary indexes for lookups by calendar and by file path. This indexing
 * strategy prevents costly full-scans and is critical for performance,
 * especially when dealing with a large number of events.
 *
 * @license See LICENSE.md
 */
/**
 * @file Timezone.ts
 * @brief Provides core utility functions for timezone conversions.
 *
 * @description
 * This file contains the foundational `convertEvent` function, which is the
 * single source of truth for translating an OFCEvent object from one IANA
 * timezone to another. It uses the `luxon` library to handle the complexities
 * of date and time math, including DST adjustments, ensuring that all time
 * conversions are accurate and consistent.
 *
 * @see FullNoteCalendar.ts
 * @see DailyNoteCalendar.ts
 *
 * @license See LICENSE.md
 */
/**
 * @file EventEnhancer.ts
 * @brief Defines the event enhancement pipeline for advanced categorization.
 *
 * @description
 * This class provides a stateless pipeline for transforming OFCEvents. It decouples
 * the core data engine from the "Advanced Categorization" feature by centralizing
 * the logic for parsing categories from titles on the read path and reconstructing
 * titles for storage on the write path.
 *
 * @license See LICENSE.md
 */
/**
 * @file TimeEngine.ts
 * @brief Centralized engine for all time-based state calculations.
 *
 * @description
 * This class runs a single `setInterval` loop to determine the plugin's
 * "state-in-time." It calculates which event is current and which are upcoming
 * by maintaining an optimized, short-term cache of concrete event occurrences.
 * It is designed to be the single source of truth for time-state, providing
 * that state to subscribers (like NotificationManager) via the EventCache.
 *
 * @license See LICENSE.md
 */
/**
 * @file EventCache.ts
 * @brief Centralized state management for all calendar event data.
 *
 * @description
 * The `EventCache` serves as the authoritative source for all calendar events within the plugin.
 * It is responsible for orchestrating the fetching, parsing, storing, and updating of event data
 * from all configured calendar sources (local and remote). The cache listens for changes in the
 * Obsidian Vault, manages create/update/delete (CUD) operations by delegating to the appropriate
 * calendar instance, and notifies registered UI views of any changes, ensuring the calendar view
 * remains in sync with the underlying data.
 *
 * @details
 * - Initialize and manage `Calendar` objects based on plugin settings.
 * - Fetch, parse, and store events in the internal `EventStore`.
 * - Provide event data to the UI in a FullCalendar-compatible format.
 * - Handle all CUD operations, delegating file I/O to the appropriate `EditableCalendar` instance.
 * - Subscribe to Vault changes and update internal state accordingly.
 * - Notify registered subscribers (views) of any changes to event data.
 * - Throttle and manage revalidation of remote calendars (ICS, CalDAV, etc.).
 * - Maintain a mapping between persistent event identifiers and session-specific IDs.
 * - Support recurring event management and override logic.
 * - Batch and flush updates for efficient UI synchronization.
 *
 * @example:
 * - Acts as the bridge between the source-of-truth for calendars (network or filesystem)
 *   and the FullCalendar UI plugin.
 * - Maintains an in-memory cache of all events to be displayed, in a normalized format.
 * - Provides a public API for querying and mutating events, as well as for view synchronization.
 *
 * @see EventStore.ts
 * @see RecurringEventManager.ts
 * @see ui/view.ts
 * @see EditableCalendar
 * @see RemoteCalendar
 *
 * @license See LICENSE.md
 */
/**
 * @file ObsidianAdapter.ts
 * @brief Defines an interface abstracting interactions with the Obsidian API.
 *
 * @description
 * This file implements the Adapter pattern to decouple the plugin's business
 * logic from the core Obsidian API (`app`). The `ObsidianInterface` defines a
 * contract for all interactions with the Vault and metadata cache, such as
 * reading, writing, and deleting files. The `ObsidianIO` class provides the
 * concrete implementation. This architecture is crucial for testability,
 * allowing the Obsidian API to be mocked in unit tests.
 *
 * @see FullNoteCalendar.ts
 * @see DailyNoteCalendar.ts
 *
 * @license See LICENSE.md
 */
/**
 * @file TasksBacklogManager.ts
 * @brief Manages the lifecycle of the Tasks Backlog view.
 *
 * @description
 * This manager handles the registration, creation, and cleanup of the Tasks Backlog view.
 * It ensures the view is only available when a Tasks provider is configured and handles
 * proper cleanup when Tasks providers are removed.
 *
 * @license See LICENSE.md
 */
/**
 * @file main.ts
 * @brief Main plugin entry point for Obsidian Full Calendar.
 *
 * @description
 * This file contains the `FullCalendarPlugin` class, which is the primary
 * controller for the entire plugin. It manages the plugin's lifecycle,
 * including loading/unloading, settings management, command registration,
 * and view initialization. It serves as the central hub that wires together
 * the event cache, UI components, and Obsidian's application workspace.
 *
 * @license See LICENSE.md
 */
/*! Bundled license information:

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.js:
  (**
   * @license React
   * react-jsx-runtime.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

native-promise-only/lib/npo.src.js:
  (*! Native Promise Only
      v0.8.1 (c) Kyle Simpson
      MIT License: http://getify.mit-license.org
  *)

polybooljs/index.js:
  (*
   * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
   * @license MIT
   * @preserve Project Home: https://github.com/voidqk/polybooljs
   *)
*/
