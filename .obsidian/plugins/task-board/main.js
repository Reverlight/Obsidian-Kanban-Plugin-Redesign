/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var US=Object.create;var E7=Object.defineProperty;var qS=Object.getOwnPropertyDescriptor;var $S=Object.getOwnPropertyNames;var GS=Object.getPrototypeOf,jS=Object.prototype.hasOwnProperty;var WS=(t,e,a)=>e in t?E7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var g1=(t,e)=>()=>(t&&(e=t(t=0)),e);var K4=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Bh=(t,e)=>{for(var a in e)E7(t,a,{get:e[a],enumerable:!0})},Ih=(t,e,a,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of $S(e))!jS.call(t,o)&&o!==a&&E7(t,o,{get:()=>e[o],enumerable:!(r=qS(e,o))||r.enumerable});return t};var B1=(t,e,a)=>(a=t!=null?US(GS(t)):{},Ih(e||!t||!t.__esModule?E7(a,"default",{value:t,enumerable:!0}):a,t)),YS=t=>Ih(E7({},"__esModule",{value:!0}),t);var Q4=(t,e,a)=>WS(t,typeof e!="symbol"?e+"":e,a);function X3(t,e){return Tt(t,"(\\d{4}-\\d{2}-\\d{2}|\\d{2}-\\d{2}-\\d{4})",e)}function Tt(t,e,a){let r=t+"\uFE0F?";return e!==""&&(r+=" *"+e),a?new RegExp(r,a):new RegExp(r)}var l2,F2,v2,M0=g1(()=>{"use strict";l2=class l2{};l2.dateFormat="YYYY-MM-DD",l2.dateTimeFormat="YYYY-MM-DDTHH:mm",l2.indentationRegex=/^([\s\t>]*)/,l2.listMarkerRegex=/([-*+]|[0-9]+[.)])/,l2.checkboxRegex=/\[(.)\]/u,l2.afterCheckboxRegex=/ *(.*)/u,l2.indentationAndCheckboxRegex=new RegExp(l2.indentationRegex.source+l2.listMarkerRegex.source+" +"+l2.checkboxRegex.source),l2.taskRegex=new RegExp(l2.indentationRegex.source+l2.listMarkerRegex.source+" +"+l2.checkboxRegex.source+l2.afterCheckboxRegex.source,"u"),l2.nonTaskRegex=new RegExp(l2.indentationRegex.source+l2.listMarkerRegex.source+"? *("+l2.checkboxRegex.source+")?"+l2.afterCheckboxRegex.source,"u"),l2.listItemRegex=new RegExp(l2.indentationRegex.source+l2.listMarkerRegex.source),l2.blockLinkRegex=/ \^[a-zA-Z0-9-]+$/u,l2.hashTagsRegex=/(^|\s)#[^ !@#$%^&*(),.?":{}|<>]+/g,l2.hashTag=new RegExp(l2.hashTagsRegex.source),l2.hashTagsFromEnd=new RegExp(l2.hashTagsRegex.source+"$"),l2.taskIdRegex=/[a-zA-Z0-9-_]+/,l2.taskIdSequenceRegex=new RegExp(l2.taskIdRegex.source+"( *, *"+l2.taskIdRegex.source+" *)*");F2=l2;v2={prioritySymbols:{Highest:"\u{1F53A}",High:"\u23EB",Medium:"\u{1F53C}",Low:"\u{1F53D}",Lowest:"\u23EC",None:""},startDateSymbol:"\u{1F6EB}",createdDateSymbol:"\u2795",scheduledDateSymbol:"\u23F3",dueDateSymbol:"\u{1F4C5}",doneDateSymbol:"\u2705",cancelledDateSymbol:"\u274C",recurrenceSymbol:"\u{1F501}",onCompletionSymbol:"\u{1F3C1}",dependsOnSymbol:"\u26D4",dependsOnCompletedSymbol:"\u26D4\uFE0E",idSymbol:"\u{1F194}",TaskFormatRegularExpressions:{priorityRegex:Tt("(\u{1F53A}|\u23EB|\u{1F53C}|\u{1F53D}|\u23EC)","",""),startDateRegex:X3("\u{1F6EB}",""),createdDateRegex:X3("\u2795",""),scheduledDateRegex:X3("(?:\u23F3|\u231B)",""),dueDateRegex:X3("(?:\u{1F4C5}|\u{1F4C6}|\u{1F5D3})",""),doneDateRegex:X3("\u2705",""),cancelledDateRegex:X3("\u274C",""),recurrenceRegex:Tt("\u{1F501}","([a-zA-Z0-9, !]+)",""),onCompletionRegex:Tt("\u{1F3C1}","([a-zA-Z]+)",""),dependsOnRegex:Tt("\u26D4","("+F2.taskIdSequenceRegex.source+")",""),idRegex:Tt("\u{1F194}","("+F2.taskIdRegex.source+")","")},TaskFormatRegularExpWithGlobal:{priorityRegex:Tt("(\u{1F53A}|\u23EB|\u{1F53C}|\u{1F53D}|\u23EC)","","g"),startDateRegex:X3("\u{1F6EB}","g"),createdDateRegex:X3("\u2795","g"),scheduledDateRegex:X3("(?:\u23F3|\u231B)","g"),dueDateRegex:X3("(?:\u{1F4C5}|\u{1F4C6}|\u{1F5D3})","g"),doneDateRegex:X3("\u2705","g"),cancelledDateRegex:X3("\u274C","g"),recurrenceRegex:Tt("\u{1F501}","([a-zA-Z0-9, !]+)","g"),onCompletionRegex:Tt("\u{1F3C1}","([a-zA-Z]+)","g"),dependsOnRegex:Tt("\u26D4","("+F2.taskIdSequenceRegex.source+")","g"),idRegex:Tt("\u{1F194}","("+F2.taskIdRegex.source+")","g")}}});var Wt,N7,V2=g1(()=>{"use strict";Wt=(H=>(H.ID="id",H.Title="title",H.Body="body",H.SubTasks="subTasks",H.Description="description",H.Status="status",H.Priority="priority",H.Tags="tags",H.Time="time",H.Reminder="reminder",H.CreatedDate="createdDate",H.StartDate="startDate",H.ScheduledDate="scheduledDate",H.DueDate="dueDate",H.CompletionDate="completionDate",H.CancelledDate="cancelledDate",H.Dependencies="dependsOn",H.FilePath="filePath",H.OnCompletion="onCompletion",H.Recurring="recurring",H.Checkbox="checkbox",H.SubTasksMinimized="subTasksMinimized",H.DescriptionMinimized="descriptionMinimized",H))(Wt||{}),N7=(J=>(J.unchecked=" ",J.incomplete=" ",J.pending=" ",J.todo=" ",J.regular="x",J.checked="X",J.done="x",J.dropped="-",J.forward=">",J.migrated="<",J.rescheduled=">",J.scheduled="<",J.date="D",J.question="?",J.halfDone="/",J.inprogress="/",J.add="+",J.research="R",J.important="!",J.idea="i",J.brainstorm="B",J.pro="P",J.con="C",J.quote="Q",J.note="N",J.bookmark="b",J.information="I",J.paraphrase="p",J.location="L",J.example="E",J.answer="A",J.reward="r",J.choice="c",J.doing="d",J.time="T",J.character="@",J.talk="t",J.outline="O",J.conflict="~",J.world="W",J.find="f",J.foreshadow="F",J.favorite="H",J.symbolism="&",J.secret="s",J))(N7||{})});function iH(){let t=[],e=Object.create(null),a;return e.get=(r,o)=>{var n;return(n=a==null?void 0:a.revoke)==null||n.call(a),o===$h?t:(t.push(o),a=Proxy.revocable(r,e),a.proxy)},Proxy.revocable(Object.create(null),e).proxy}function uc(t,e){var r;let{[$h]:a}=t(iH());return a.join((r=e==null?void 0:e.keySeparator)!=null?r:".")}var q1,P7,Fh,XS,KS,Ah,Dh,O7,Rh,QS,Fr,JS,Uh,P5,tH,eH,cc,aH,rH,oH,sc,Z7,nH,dc,Yt,O5,Ar,qh,$h,Eh,nc,Dr,Rr,Nh,Ph,fc,Oh,ic,Er,lH,Zh,cH,hc,sH,pc,lc,_h,Ir,dH,gc,S4,iN,lN,cN,sN,dN,uN,fN,hN,Nr,pN,gN,mN,vN,CN,mc=g1(()=>{q1=t=>typeof t=="string",P7=()=>{let t,e,a=new Promise((r,o)=>{t=r,e=o});return a.resolve=t,a.reject=e,a},Fh=t=>t==null?"":""+t,XS=(t,e,a)=>{t.forEach(r=>{e[r]&&(a[r]=e[r])})},KS=/###/g,Ah=t=>t&&t.indexOf("###")>-1?t.replace(KS,"."):t,Dh=t=>!t||q1(t),O7=(t,e,a)=>{let r=q1(e)?e.split("."):e,o=0;for(;o<r.length-1;){if(Dh(t))return{};let n=Ah(r[o]);!t[n]&&a&&(t[n]=new a),Object.prototype.hasOwnProperty.call(t,n)?t=t[n]:t={},++o}return Dh(t)?{}:{obj:t,k:Ah(r[o])}},Rh=(t,e,a)=>{let{obj:r,k:o}=O7(t,e,Object);if(r!==void 0||e.length===1){r[o]=a;return}let n=e[e.length-1],i=e.slice(0,e.length-1),l=O7(t,i,Object);for(;l.obj===void 0&&i.length;)n=`${i[i.length-1]}.${n}`,i=i.slice(0,i.length-1),l=O7(t,i,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${n}`]!="undefined"&&(l.obj=void 0);l.obj[`${l.k}.${n}`]=a},QS=(t,e,a,r)=>{let{obj:o,k:n}=O7(t,e,Object);o[n]=o[n]||[],o[n].push(a)},Fr=(t,e)=>{let{obj:a,k:r}=O7(t,e);if(a&&Object.prototype.hasOwnProperty.call(a,r))return a[r]},JS=(t,e,a)=>{let r=Fr(t,a);return r!==void 0?r:Fr(e,a)},Uh=(t,e,a)=>{for(let r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?q1(t[r])||t[r]instanceof String||q1(e[r])||e[r]instanceof String?a&&(t[r]=e[r]):Uh(t[r],e[r],a):t[r]=e[r]);return t},P5=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),tH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},eH=t=>q1(t)?t.replace(/[&<>"'\/]/g,e=>tH[e]):t,cc=class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let a=this.regExpMap.get(e);if(a!==void 0)return a;let r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}},aH=[" ",",","?","!",";"],rH=new cc(20),oH=(t,e,a)=>{e=e||"",a=a||"";let r=aH.filter(i=>e.indexOf(i)<0&&a.indexOf(i)<0);if(r.length===0)return!0;let o=rH.getRegExp(`(${r.map(i=>i==="?"?"\\?":i).join("|")})`),n=!o.test(t);if(!n){let i=t.indexOf(a);i>0&&!o.test(t.substring(0,i))&&(n=!0)}return n},sc=(t,e,a=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;let r=e.split(a),o=t;for(let n=0;n<r.length;){if(!o||typeof o!="object")return;let i,l="";for(let c=n;c<r.length;++c)if(c!==n&&(l+=a),l+=r[c],i=o[l],i!==void 0){if(["string","number","boolean"].indexOf(typeof i)>-1&&c<r.length-1)continue;n+=c-n+1;break}o=i}return o},Z7=t=>t==null?void 0:t.replace("_","-"),nH={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var a,r;(r=(a=console==null?void 0:console[t])==null?void 0:a.apply)==null||r.call(a,console,e)}},dc=class t{constructor(e,a={}){this.init(e,a)}init(e,a={}){this.prefix=a.prefix||"i18next:",this.logger=e||nH,this.options=a,this.debug=a.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,a,r,o){return o&&!this.debug?null:(q1(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[a](e))}create(e){return new t(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new t(this.logger,e)}},Yt=new dc,O5=class{constructor(){this.observers={}}on(e,a){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);let o=this.observers[r].get(a)||0;this.observers[r].set(a,o+1)}),this}off(e,a){if(this.observers[e]){if(!a){delete this.observers[e];return}this.observers[e].delete(a)}}emit(e,...a){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([o,n])=>{for(let i=0;i<n;i++)o(...a)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([o,n])=>{for(let i=0;i<n;i++)o.apply(o,[e,...a])})}},Ar=class extends O5{constructor(e,a={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let a=this.options.ns.indexOf(e);a>-1&&this.options.ns.splice(a,1)}getResource(e,a,r,o={}){var s,d;let n=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,i=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure,l;e.indexOf(".")>-1?l=e.split("."):(l=[e,a],r&&(Array.isArray(r)?l.push(...r):q1(r)&&n?l.push(...r.split(n)):l.push(r)));let c=Fr(this.data,l);return!c&&!a&&!r&&e.indexOf(".")>-1&&(e=l[0],a=l[1],r=l.slice(2).join(".")),c||!i||!q1(r)?c:sc((d=(s=this.data)==null?void 0:s[e])==null?void 0:d[a],r,n)}addResource(e,a,r,o,n={silent:!1}){let i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,l=[e,a];r&&(l=l.concat(i?r.split(i):r)),e.indexOf(".")>-1&&(l=e.split("."),o=a,a=l[1]),this.addNamespaces(a),Rh(this.data,l,o),n.silent||this.emit("added",e,a,r,o)}addResources(e,a,r,o={silent:!1}){for(let n in r)(q1(r[n])||Array.isArray(r[n]))&&this.addResource(e,a,n,r[n],{silent:!0});o.silent||this.emit("added",e,a,r)}addResourceBundle(e,a,r,o,n,i={silent:!1,skipCopy:!1}){let l=[e,a];e.indexOf(".")>-1&&(l=e.split("."),o=r,r=a,a=l[1]),this.addNamespaces(a);let c=Fr(this.data,l)||{};i.skipCopy||(r=JSON.parse(JSON.stringify(r))),o?Uh(c,r,n):c={...c,...r},Rh(this.data,l,c),i.silent||this.emit("added",e,a,r)}removeResourceBundle(e,a){this.hasResourceBundle(e,a)&&delete this.data[e][a],this.removeNamespaces(a),this.emit("removed",e,a)}hasResourceBundle(e,a){return this.getResource(e,a)!==void 0}getResourceBundle(e,a){return a||(a=this.options.defaultNS),this.getResource(e,a)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let a=this.getDataByLanguage(e);return!!(a&&Object.keys(a)||[]).find(o=>a[o]&&Object.keys(a[o]).length>0)}toJSON(){return this.data}},qh={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,a,r,o){return t.forEach(n=>{var i,l;e=(l=(i=this.processors[n])==null?void 0:i.process(e,a,r,o))!=null?l:e}),e}},$h=Symbol("i18next/PATH_KEY");Eh={},nc=t=>!q1(t)&&typeof t!="boolean"&&typeof t!="number",Dr=class t extends O5{constructor(e,a={}){super(),XS(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Yt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,a={interpolation:{}}){let r={...a};if(e==null)return!1;let o=this.resolve(e,r);if((o==null?void 0:o.res)===void 0)return!1;let n=nc(o.res);return!(r.returnObjects===!1&&n)}extractFromKey(e,a){let r=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");let o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,n=a.ns||this.options.defaultNS||[],i=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!oH(e,r,o);if(i&&!l){let c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:q1(n)?[n]:n};let s=e.split(r);(r!==o||r===o&&this.options.ns.indexOf(s[0])>-1)&&(n=s.shift()),e=s.join(o)}return{key:e,namespaces:q1(n)?[n]:n}}translate(e,a,r){let o=typeof a=="object"?{...a}:a;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof o=="object"&&(o={...o}),o||(o={}),e==null)return"";typeof e=="function"&&(e=uc(e,{...this.options,...o})),Array.isArray(e)||(e=[String(e)]);let n=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,i=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],o),s=c[c.length-1],d=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");let u=o.lng||this.language,f=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((u==null?void 0:u.toLowerCase())==="cimode")return f?n?{res:`${s}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:u,usedNS:s,usedParams:this.getUsedParamsDetails(o)}:`${s}${d}${l}`:n?{res:l,usedKey:l,exactUsedKey:l,usedLng:u,usedNS:s,usedParams:this.getUsedParamsDetails(o)}:l;let h=this.resolve(e,o),m=h==null?void 0:h.res,x=(h==null?void 0:h.usedKey)||l,L=(h==null?void 0:h.exactUsedKey)||l,g=["[object Number]","[object Function]","[object RegExp]"],C=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,y=o.count!==void 0&&!q1(o.count),b=t.hasDefaultValue(o),V=y?this.pluralResolver.getSuffix(u,o.count,o):"",H=o.ordinal&&y?this.pluralResolver.getSuffix(u,o.count,{ordinal:!1}):"",D=y&&!o.ordinal&&o.count===0,A=D&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${V}`]||o[`defaultValue${H}`]||o.defaultValue,E=m;v&&!m&&b&&(E=A);let O=nc(E),_=Object.prototype.toString.apply(E);if(v&&E&&O&&g.indexOf(_)<0&&!(q1(C)&&Array.isArray(E))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let N=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,E,{...o,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return n?(h.res=N,h.usedParams=this.getUsedParamsDetails(o),h):N}if(i){let N=Array.isArray(E),w=N?[]:{},M=N?L:x;for(let z in E)if(Object.prototype.hasOwnProperty.call(E,z)){let k=`${M}${i}${z}`;b&&!m?w[z]=this.translate(k,{...o,defaultValue:nc(A)?A[z]:void 0,joinArrays:!1,ns:c}):w[z]=this.translate(k,{...o,joinArrays:!1,ns:c}),w[z]===k&&(w[z]=E[z])}m=w}}else if(v&&q1(C)&&Array.isArray(m))m=m.join(C),m&&(m=this.extendTranslation(m,e,o,r));else{let N=!1,w=!1;!this.isValidLookup(m)&&b&&(N=!0,m=A),this.isValidLookup(m)||(w=!0,m=l);let z=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&w?void 0:m,k=b&&A!==m&&this.options.updateMissing;if(w||N||k){if(this.logger.log(k?"updateKey":"missingKey",u,s,l,k?A:m),i){let Z=this.resolve(l,{...o,keySeparator:!1});Z&&Z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let T=[],S=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&S&&S[0])for(let Z=0;Z<S.length;Z++)T.push(S[Z]);else this.options.saveMissingTo==="all"?T=this.languageUtils.toResolveHierarchy(o.lng||this.language):T.push(o.lng||this.language);let R=(Z,P,B)=>{var F;let I=b&&B!==m?B:z;this.options.missingKeyHandler?this.options.missingKeyHandler(Z,s,P,I,k,o):(F=this.backendConnector)!=null&&F.saveMissing&&this.backendConnector.saveMissing(Z,s,P,I,k,o),this.emit("missingKey",Z,s,P,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?T.forEach(Z=>{let P=this.pluralResolver.getSuffixes(Z,o);D&&o[`defaultValue${this.options.pluralSeparator}zero`]&&P.indexOf(`${this.options.pluralSeparator}zero`)<0&&P.push(`${this.options.pluralSeparator}zero`),P.forEach(B=>{R([Z],l+B,o[`defaultValue${B}`]||A)})}):R(T,l,A))}m=this.extendTranslation(m,e,o,h,r),w&&m===l&&this.options.appendNamespaceToMissingKey&&(m=`${s}${d}${l}`),(w||N)&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}${d}${l}`:l,N?m:void 0,o))}return n?(h.res=m,h.usedParams=this.getUsedParamsDetails(o),h):m}extendTranslation(e,a,r,o,n){var c,s;if((c=this.i18nFormat)!=null&&c.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});let d=q1(e)&&(((s=r==null?void 0:r.interpolation)==null?void 0:s.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),u;if(d){let h=e.match(this.interpolator.nestingRegexp);u=h&&h.length}let f=r.replace&&!q1(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language||o.usedLng,r),d){let h=e.match(this.interpolator.nestingRegexp),m=h&&h.length;u<m&&(r.nest=!1)}!r.lng&&o&&o.res&&(r.lng=this.language||o.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...h)=>(n==null?void 0:n[0])===h[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${a[0]}`),null):this.translate(...h,a),r)),r.interpolation&&this.interpolator.reset()}let i=r.postProcess||this.options.postProcess,l=q1(i)?[i]:i;return e!=null&&(l!=null&&l.length)&&r.applyPostProcessor!==!1&&(e=qh.handle(l,e,a,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,a={}){let r,o,n,i,l;return q1(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(r))return;let s=this.extractFromKey(c,a),d=s.key;o=d;let u=s.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));let f=a.count!==void 0&&!q1(a.count),h=f&&!a.ordinal&&a.count===0,m=a.context!==void 0&&(q1(a.context)||typeof a.context=="number")&&a.context!=="",x=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);u.forEach(L=>{var g,C;this.isValidLookup(r)||(l=L,!Eh[`${x[0]}-${L}`]&&((g=this.utils)!=null&&g.hasLoadedNamespace)&&!((C=this.utils)!=null&&C.hasLoadedNamespace(l))&&(Eh[`${x[0]}-${L}`]=!0,this.logger.warn(`key "${o}" for languages "${x.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(v=>{var V;if(this.isValidLookup(r))return;i=v;let y=[d];if((V=this.i18nFormat)!=null&&V.addLookupKeys)this.i18nFormat.addLookupKeys(y,d,v,L,a);else{let H;f&&(H=this.pluralResolver.getSuffix(v,a.count,a));let D=`${this.options.pluralSeparator}zero`,A=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(a.ordinal&&H.indexOf(A)===0&&y.push(d+H.replace(A,this.options.pluralSeparator)),y.push(d+H),h&&y.push(d+D)),m){let E=`${d}${this.options.contextSeparator||"_"}${a.context}`;y.push(E),f&&(a.ordinal&&H.indexOf(A)===0&&y.push(E+H.replace(A,this.options.pluralSeparator)),y.push(E+H),h&&y.push(E+D))}}let b;for(;b=y.pop();)this.isValidLookup(r)||(n=b,r=this.getResource(v,L,b,a))}))})}),{res:r,usedKey:o,exactUsedKey:n,usedLng:i,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,a,r,o={}){var n;return(n=this.i18nFormat)!=null&&n.getResource?this.i18nFormat.getResource(e,a,r,o):this.resourceStore.getResource(e,a,r,o)}getUsedParamsDetails(e={}){let a=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!q1(e.replace),o=r?e.replace:e;if(r&&typeof e.count!="undefined"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!r){o={...o};for(let n of a)delete o[n]}return o}static hasDefaultValue(e){let a="defaultValue";for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&a===r.substring(0,a.length)&&e[r]!==void 0)return!0;return!1}},Rr=class{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Yt.create("languageUtils")}getScriptPartFromCode(e){if(e=Z7(e),!e||e.indexOf("-")<0)return null;let a=e.split("-");return a.length===2||(a.pop(),a[a.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(a.join("-"))}getLanguagePartFromCode(e){if(e=Z7(e),!e||e.indexOf("-")<0)return e;let a=e.split("-");return this.formatLanguageCode(a[0])}formatLanguageCode(e){if(q1(e)&&e.indexOf("-")>-1){let a;try{a=Intl.getCanonicalLocales(e)[0]}catch(r){}return a&&this.options.lowerCaseLng&&(a=a.toLowerCase()),a||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let a;return e.forEach(r=>{if(a)return;let o=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(o))&&(a=o)}),!a&&this.options.supportedLngs&&e.forEach(r=>{if(a)return;let o=this.getScriptPartFromCode(r);if(this.isSupportedCode(o))return a=o;let n=this.getLanguagePartFromCode(r);if(this.isSupportedCode(n))return a=n;a=this.options.supportedLngs.find(i=>{if(i===n)return i;if(!(i.indexOf("-")<0&&n.indexOf("-")<0)&&(i.indexOf("-")>0&&n.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===n||i.indexOf(n)===0&&n.length>1))return i})}),a||(a=this.getFallbackCodes(this.options.fallbackLng)[0]),a}getFallbackCodes(e,a){if(!e)return[];if(typeof e=="function"&&(e=e(a)),q1(e)&&(e=[e]),Array.isArray(e))return e;if(!a)return e.default||[];let r=e[a];return r||(r=e[this.getScriptPartFromCode(a)]),r||(r=e[this.formatLanguageCode(a)]),r||(r=e[this.getLanguagePartFromCode(a)]),r||(r=e.default),r||[]}toResolveHierarchy(e,a){let r=this.getFallbackCodes((a===!1?[]:a)||this.options.fallbackLng||[],e),o=[],n=i=>{i&&(this.isSupportedCode(i)?o.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return q1(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&n(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&n(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&n(this.getLanguagePartFromCode(e))):q1(e)&&n(this.formatLanguageCode(e)),r.forEach(i=>{o.indexOf(i)<0&&n(this.formatLanguageCode(i))}),o}},Nh={zero:0,one:1,two:2,few:3,many:4,other:5},Ph={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})},fc=class{constructor(e,a={}){this.languageUtils=e,this.options=a,this.logger=Yt.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,a={}){let r=Z7(e==="dev"?"en":e),o=a.ordinal?"ordinal":"cardinal",n=JSON.stringify({cleanedCode:r,type:o});if(n in this.pluralRulesCache)return this.pluralRulesCache[n];let i;try{i=new Intl.PluralRules(r,{type:o})}catch(l){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ph;if(!e.match(/-|_/))return Ph;let c=this.languageUtils.getLanguagePartFromCode(e);i=this.getRule(c,a)}return this.pluralRulesCache[n]=i,i}needsPlural(e,a={}){let r=this.getRule(e,a);return r||(r=this.getRule("dev",a)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,a,r={}){return this.getSuffixes(e,r).map(o=>`${a}${o}`)}getSuffixes(e,a={}){let r=this.getRule(e,a);return r||(r=this.getRule("dev",a)),r?r.resolvedOptions().pluralCategories.sort((o,n)=>Nh[o]-Nh[n]).map(o=>`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(e,a,r={}){let o=this.getRule(e,r);return o?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${o.select(a)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",a,r))}},Oh=(t,e,a,r=".",o=!0)=>{let n=JS(t,e,a);return!n&&o&&q1(a)&&(n=sc(t,a,r),n===void 0&&(n=sc(e,a,r))),n},ic=t=>t.replace(/\$/g,"$$$$"),Er=class{constructor(e={}){var a;this.logger=Yt.create("interpolator"),this.options=e,this.format=((a=e==null?void 0:e.interpolation)==null?void 0:a.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});let{escape:a,escapeValue:r,useRawValueToEscape:o,prefix:n,prefixEscaped:i,suffix:l,suffixEscaped:c,formatSeparator:s,unescapeSuffix:d,unescapePrefix:u,nestingPrefix:f,nestingPrefixEscaped:h,nestingSuffix:m,nestingSuffixEscaped:x,nestingOptionsSeparator:L,maxReplaces:g,alwaysFormat:C}=e.interpolation;this.escape=a!==void 0?a:eH,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=n?P5(n):i||"{{",this.suffix=l?P5(l):c||"}}",this.formatSeparator=s||",",this.unescapePrefix=d?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=f?P5(f):h||P5("$t("),this.nestingSuffix=m?P5(m):x||P5(")"),this.nestingOptionsSeparator=L||",",this.maxReplaces=g||1e3,this.alwaysFormat=C!==void 0?C:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(a,r)=>(a==null?void 0:a.source)===r?(a.lastIndex=0,a):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,a,r,o){var h;let n,i,l,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},s=m=>{if(m.indexOf(this.formatSeparator)<0){let C=Oh(a,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(C,void 0,r,{...o,...a,interpolationkey:m}):C}let x=m.split(this.formatSeparator),L=x.shift().trim(),g=x.join(this.formatSeparator).trim();return this.format(Oh(a,c,L,this.options.keySeparator,this.options.ignoreJSONStructure),g,r,{...o,...a,interpolationkey:L})};this.resetRegExp();let d=(o==null?void 0:o.missingInterpolationHandler)||this.options.missingInterpolationHandler,u=((h=o==null?void 0:o.interpolation)==null?void 0:h.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>ic(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?ic(this.escape(m)):ic(m)}].forEach(m=>{for(l=0;n=m.regex.exec(e);){let x=n[1].trim();if(i=s(x),i===void 0)if(typeof d=="function"){let g=d(e,n,o);i=q1(g)?g:""}else if(o&&Object.prototype.hasOwnProperty.call(o,x))i="";else if(u){i=n[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),i="";else!q1(i)&&!this.useRawValueToEscape&&(i=Fh(i));let L=m.safeValue(i);if(e=e.replace(n[0],L),u?(m.regex.lastIndex+=i.length,m.regex.lastIndex-=n[0].length):m.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,a,r={}){let o,n,i,l=(c,s)=>{var x;let d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;let u=c.split(new RegExp(`${d}[ ]*{`)),f=`{${u[1]}`;c=u[0],f=this.interpolate(f,i);let h=f.match(/'/g),m=f.match(/"/g);(((x=h==null?void 0:h.length)!=null?x:0)%2===0&&!m||m.length%2!==0)&&(f=f.replace(/'/g,'"'));try{i=JSON.parse(f),s&&(i={...s,...i})}catch(L){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,L),`${c}${d}${f}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,c};for(;o=this.nestingRegexp.exec(e);){let c=[];i={...r},i=i.replace&&!q1(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let s=/{.*}/.test(o[1])?o[1].lastIndexOf("}")+1:o[1].indexOf(this.formatSeparator);if(s!==-1&&(c=o[1].slice(s).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),o[1]=o[1].slice(0,s)),n=a(l.call(this,o[1].trim(),i),i),n&&o[0]===e&&!q1(n))return n;q1(n)||(n=Fh(n)),n||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),n=""),c.length&&(n=c.reduce((d,u)=>this.format(d,u,r.lng,{...r,interpolationkey:o[1].trim()}),n.trim())),e=e.replace(o[0],n),this.regexp.lastIndex=0}return e}},lH=t=>{let e=t.toLowerCase().trim(),a={};if(t.indexOf("(")>-1){let r=t.split("(");e=r[0].toLowerCase().trim();let o=r[1].substring(0,r[1].length-1);e==="currency"&&o.indexOf(":")<0?a.currency||(a.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?a.range||(a.range=o.trim()):o.split(";").forEach(i=>{if(i){let[l,...c]=i.split(":"),s=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();a[d]||(a[d]=s),s==="false"&&(a[d]=!1),s==="true"&&(a[d]=!0),isNaN(s)||(a[d]=parseInt(s,10))}})}return{formatName:e,formatOptions:a}},Zh=t=>{let e={};return(a,r,o)=>{let n=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(n={...n,[o.interpolationkey]:void 0});let i=r+JSON.stringify(n),l=e[i];return l||(l=t(Z7(r),o),e[i]=l),l(a)}},cH=t=>(e,a,r)=>t(Z7(a),r)(e),hc=class{constructor(e={}){this.logger=Yt.create("formatter"),this.options=e,this.init(e)}init(e,a={interpolation:{}}){this.formatSeparator=a.interpolation.formatSeparator||",";let r=a.cacheInBuiltFormats?Zh:cH;this.formats={number:r((o,n)=>{let i=new Intl.NumberFormat(o,{...n});return l=>i.format(l)}),currency:r((o,n)=>{let i=new Intl.NumberFormat(o,{...n,style:"currency"});return l=>i.format(l)}),datetime:r((o,n)=>{let i=new Intl.DateTimeFormat(o,{...n});return l=>i.format(l)}),relativetime:r((o,n)=>{let i=new Intl.RelativeTimeFormat(o,{...n});return l=>i.format(l,n.range||"day")}),list:r((o,n)=>{let i=new Intl.ListFormat(o,{...n});return l=>i.format(l)})}}add(e,a){this.formats[e.toLowerCase().trim()]=a}addCached(e,a){this.formats[e.toLowerCase().trim()]=Zh(a)}format(e,a,r,o={}){let n=a.split(this.formatSeparator);if(n.length>1&&n[0].indexOf("(")>1&&n[0].indexOf(")")<0&&n.find(l=>l.indexOf(")")>-1)){let l=n.findIndex(c=>c.indexOf(")")>-1);n[0]=[n[0],...n.splice(1,l)].join(this.formatSeparator)}return n.reduce((l,c)=>{var u;let{formatName:s,formatOptions:d}=lH(c);if(this.formats[s]){let f=l;try{let h=((u=o==null?void 0:o.formatParams)==null?void 0:u[o.interpolationkey])||{},m=h.locale||h.lng||o.locale||o.lng||r;f=this.formats[s](l,m,{...d,...o,...h})}catch(h){this.logger.warn(h)}return f}else this.logger.warn(`there was no format function for ${s}`);return l},e)}},sH=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)},pc=class extends O5{constructor(e,a,r,o={}){var n,i;super(),this.backend=e,this.store=a,this.services=r,this.languageUtils=r.languageUtils,this.options=o,this.logger=Yt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],(i=(n=this.backend)==null?void 0:n.init)==null||i.call(n,r,o.backend,o)}queueLoad(e,a,r,o){let n={},i={},l={},c={};return e.forEach(s=>{let d=!0;a.forEach(u=>{let f=`${s}|${u}`;!r.reload&&this.store.hasResourceBundle(s,u)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?i[f]===void 0&&(i[f]=!0):(this.state[f]=1,d=!1,i[f]===void 0&&(i[f]=!0),n[f]===void 0&&(n[f]=!0),c[u]===void 0&&(c[u]=!0)))}),d||(l[s]=!0)}),(Object.keys(n).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(n),pending:Object.keys(i),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,a,r){let o=e.split("|"),n=o[0],i=o[1];a&&this.emit("failedLoading",n,i,a),!a&&r&&this.store.addResourceBundle(n,i,r,void 0,void 0,{skipCopy:!0}),this.state[e]=a?-1:2,a&&r&&(this.state[e]=0);let l={};this.queue.forEach(c=>{QS(c.loaded,[n],i),sH(c,e),a&&c.errors.push(a),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(s=>{l[s]||(l[s]={});let d=c.loaded[s];d.length&&d.forEach(u=>{l[s][u]===void 0&&(l[s][u]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,a,r,o=0,n=this.retryTimeout,i){if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:a,fcName:r,tried:o,wait:n,callback:i});return}this.readingCalls++;let l=(s,d)=>{if(this.readingCalls--,this.waitingReads.length>0){let u=this.waitingReads.shift();this.read(u.lng,u.ns,u.fcName,u.tried,u.wait,u.callback)}if(s&&d&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,a,r,o+1,n*2,i)},n);return}i(s,d)},c=this.backend[r].bind(this.backend);if(c.length===2){try{let s=c(e,a);s&&typeof s.then=="function"?s.then(d=>l(null,d)).catch(l):l(null,s)}catch(s){l(s)}return}return c(e,a,l)}prepareLoading(e,a,r={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();q1(e)&&(e=this.languageUtils.toResolveHierarchy(e)),q1(a)&&(a=[a]);let n=this.queueLoad(e,a,r,o);if(!n.toLoad.length)return n.pending.length||o(),null;n.toLoad.forEach(i=>{this.loadOne(i)})}load(e,a,r){this.prepareLoading(e,a,{},r)}reload(e,a,r){this.prepareLoading(e,a,{reload:!0},r)}loadOne(e,a=""){let r=e.split("|"),o=r[0],n=r[1];this.read(o,n,"read",void 0,void 0,(i,l)=>{i&&this.logger.warn(`${a}loading namespace ${n} for language ${o} failed`,i),!i&&l&&this.logger.log(`${a}loaded namespace ${n} for language ${o}`,l),this.loaded(e,i,l)})}saveMissing(e,a,r,o,n,i={},l=()=>{}){var c,s,d,u,f;if((s=(c=this.services)==null?void 0:c.utils)!=null&&s.hasLoadedNamespace&&!((u=(d=this.services)==null?void 0:d.utils)!=null&&u.hasLoadedNamespace(a))){this.logger.warn(`did not save key "${r}" as the namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((f=this.backend)!=null&&f.create){let h={...i,isUpdate:n},m=this.backend.create.bind(this.backend);if(m.length<6)try{let x;m.length===5?x=m(e,a,r,o,h):x=m(e,a,r,o),x&&typeof x.then=="function"?x.then(L=>l(null,L)).catch(l):l(null,x)}catch(x){l(x)}else m(e,a,r,o,l,h)}!e||!e[0]||this.store.addResource(e[0],a,r,o)}}},lc=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),q1(t[1])&&(e.defaultValue=t[1]),q1(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){let a=t[3]||t[2];Object.keys(a).forEach(r=>{e[r]=a[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),_h=t=>{var e,a;return q1(t.ns)&&(t.ns=[t.ns]),q1(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),q1(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((a=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:a.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Ir=()=>{},dH=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(a=>{typeof t[a]=="function"&&(t[a]=t[a].bind(t))})},gc=class t extends O5{constructor(e={},a){if(super(),this.options=_h(e),this.services={},this.logger=Yt,this.modules={external:[]},dH(this),a&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,a),this;setTimeout(()=>{this.init(e,a)},0)}}init(e={},a){this.isInitializing=!0,typeof e=="function"&&(a=e,e={}),e.defaultNS==null&&e.ns&&(q1(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));let r=lc();this.options={...r,...this.options,..._h(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler),this.options.debug===!0&&typeof console!="undefined"&&console.warn("i18next is maintained with support from locize.com \u2014 consider powering your project with managed localization (AI, CDN, integrations): https://locize.com");let o=s=>s?typeof s=="function"?new s:s:null;if(!this.options.isClone){this.modules.logger?Yt.init(o(this.modules.logger),this.options):Yt.init(null,this.options);let s;this.modules.formatter?s=this.modules.formatter:s=hc;let d=new Rr(this.options);this.store=new Ar(this.options.resources,this.options);let u=this.services;u.logger=Yt,u.resourceStore=this.store,u.languageUtils=d,u.pluralResolver=new fc(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),s&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(u.formatter=o(s),u.formatter.init&&u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new Er(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new pc(o(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",(h,...m)=>{this.emit(h,...m)}),this.modules.languageDetector&&(u.languageDetector=o(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=o(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new Dr(this.services,this.options),this.translator.on("*",(h,...m)=>{this.emit(h,...m)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,a||(a=Ir),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.length>0&&s[0]!=="dev"&&(this.options.lng=s[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(s=>{this[s]=(...d)=>this.store[s](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(s=>{this[s]=(...d)=>(this.store[s](...d),this)});let l=P7(),c=()=>{let s=(d,u)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(u),a(d,u)};if(this.languages&&!this.isInitialized)return s(null,this.t.bind(this));this.changeLanguage(this.options.lng,s)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e,a=Ir){var n,i;let r=a,o=q1(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((o==null?void 0:o.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();let l=[],c=s=>{if(!s||s==="cimode")return;this.services.languageUtils.toResolveHierarchy(s).forEach(u=>{u!=="cimode"&&l.indexOf(u)<0&&l.push(u)})};o?c(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(i=(n=this.options.preload)==null?void 0:n.forEach)==null||i.call(n,s=>c(s)),this.services.backendConnector.load(l,this.options.ns,s=>{!s&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(s)})}else r(null)}reloadResources(e,a,r){let o=P7();return typeof e=="function"&&(r=e,e=void 0),typeof a=="function"&&(r=a,a=void 0),e||(e=this.languages),a||(a=this.options.ns),r||(r=Ir),this.services.backendConnector.reload(e,a,n=>{o.resolve(),r(n)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&qh.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let a=0;a<this.languages.length;a++){let r=this.languages[a];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,a){this.isLanguageChangingTo=e;let r=P7();this.emit("languageChanging",e);let o=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},n=(l,c)=>{c?this.isLanguageChangingTo===e&&(o(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...s)=>this.t(...s)),a&&a(l,(...s)=>this.t(...s))},i=l=>{var d,u;!e&&!l&&this.services.languageDetector&&(l=[]);let c=q1(l)?l:l&&l[0],s=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(q1(l)?[l]:l);s&&(this.language||o(s),this.translator.language||this.translator.changeLanguage(s),(u=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||u.call(d,s)),this.loadResources(s,f=>{n(f,s)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?i(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(e),r}getFixedT(e,a,r){let o=(n,i,...l)=>{let c;typeof i!="object"?c=this.options.overloadTranslationOptionHandler([n,i].concat(l)):c={...i},c.lng=c.lng||o.lng,c.lngs=c.lngs||o.lngs,c.ns=c.ns||o.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||o.keyPrefix);let s=this.options.keySeparator||".",d;return c.keyPrefix&&Array.isArray(n)?d=n.map(u=>(typeof u=="function"&&(u=uc(u,{...this.options,...i})),`${c.keyPrefix}${s}${u}`)):(typeof n=="function"&&(n=uc(n,{...this.options,...i})),d=c.keyPrefix?`${c.keyPrefix}${s}${n}`:n),this.t(d,c)};return q1(e)?o.lng=e:o.lngs=e,o.ns=a,o.keyPrefix=r,o}t(...e){var a;return(a=this.translator)==null?void 0:a.translate(...e)}exists(...e){var a;return(a=this.translator)==null?void 0:a.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,a={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let r=a.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,n=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;let i=(l,c)=>{let s=this.services.backendConnector.state[`${l}|${c}`];return s===-1||s===0||s===2};if(a.precheck){let l=a.precheck(this,i);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(r,e)&&(!o||i(n,e)))}loadNamespaces(e,a){let r=P7();return this.options.ns?(q1(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{r.resolve(),a&&a(o)}),r):(a&&a(),Promise.resolve())}loadLanguages(e,a){let r=P7();q1(e)&&(e=[e]);let o=this.options.preload||[],n=e.filter(i=>o.indexOf(i)<0&&this.services.languageUtils.isSupportedCode(i));return n.length?(this.options.preload=o.concat(n),this.loadResources(i=>{r.resolve(),a&&a(i)}),r):(a&&a(),Promise.resolve())}dir(e){var o,n;if(e||(e=this.resolvedLanguage||(((o=this.languages)==null?void 0:o.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{let i=new Intl.Locale(e);if(i&&i.getTextInfo){let l=i.getTextInfo();if(l&&l.direction)return l.direction}}catch(i){}let a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((n=this.services)==null?void 0:n.languageUtils)||new Rr(lc());return e.toLowerCase().indexOf("-latn")>1?"ltr":a.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},a){let r=new t(e,a);return r.createInstance=t.createInstance,r}cloneInstance(e={},a=Ir){let r=e.forkResourceStore;r&&delete e.forkResourceStore;let o={...this.options,...e,isClone:!0},n=new t(o);if((e.debug!==void 0||e.prefix!==void 0)&&(n.logger=n.logger.clone(e)),["store","services","language"].forEach(l=>{n[l]=this[l]}),n.services={...this.services},n.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},r){let l=Object.keys(this.store.data).reduce((c,s)=>(c[s]={...this.store.data[s]},c[s]=Object.keys(c[s]).reduce((d,u)=>(d[u]={...c[s][u]},d),c[s]),c),{});n.store=new Ar(l,o),n.services.resourceStore=n.store}if(e.interpolation){let c={...lc().interpolation,...this.options.interpolation,...e.interpolation},s={...o,interpolation:c};n.services.interpolator=new Er(s)}return n.translator=new Dr(n.services,o),n.translator.on("*",(l,...c)=>{n.emit(l,...c)}),n.init(o,a),n.translator.options=o,n.translator.backendConnector.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},n}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},S4=gc.createInstance(),iN=S4.createInstance,lN=S4.dir,cN=S4.init,sN=S4.loadResources,dN=S4.reloadResources,uN=S4.use,fN=S4.changeLanguage,hN=S4.getFixedT,Nr=S4.t,pN=S4.exists,gN=S4.setDefaultNamespace,mN=S4.hasLoadedNamespace,vN=S4.loadNamespaces,CN=S4.loadLanguages});var uH,Pr,Gh=g1(()=>{"use strict";uH={save:"Save",close:"Close",archive:"Archive","add-sub-task":"Add sub task","scan-vault-modal":"Scan vault modal",general:"General","no-tasks-available":"No tasks available","edit-task":"Edit task","delete-task":"Delete task","column-type":"Column type","column-name":"Column name",submit:"Submit",cancel:"Cancel","copy-suffix":"(copy)","enter-column-name":"Enter column name","add-new-task":"Add new task",preview:"Preview",editor:"Editor","open-file":"Open file","no-board-selected-to-delete":"No board selected to delete.","no-board-selected-to-duplicate":"No board selected to duplicate.","plugin-global-settings":"Plugin global settings",configurations:"configurations","board-name":"Board name","board-name-info":"Name of the board which will appear as a tab in the tab header inside the plugin.","show-tags-in-the-columns-of-type-tagged":"Show tags in task card header","show-tags-in-the-columns-of-type-tagged-info":"Only works for tagged type columns. If you dont want to see the tag in the task card if the task is under the nammed type column, disable this feature.","filter-tags":"Filter tags","filter-tags-setting-info":"Only the tasks with the entered tags will be shown under the current board.Enter the tags, separated with comma and dont forget to add # in the beginning. Enable or disable this using below filter polarity.","filter-polarity":"Filter polarity","filter-polarity-info":"Activate or deactivate the above filter tags inside the boards.","filter-tags-input-placeholder":"#tag1, #tag2, #tag3",activate:"Activate",deactivate:"Deactivate","show-filtered-tags":"Show filtered tags","show-filtered-tags-info":"Whether to show the above mentioned filtered tags in the task card header.",columns:"Columns","enter-tag":"Enter tag","max-items":"Max items",from:"From",to:"To","delete-column":"Delete column","add-column":"Add column",board:"Board","your-boards":"Your boards","delete-this-board":"Delete this board","duplicate-this-board":"Duplicate this board","global-settings":"Global settings","add-board":"Add board","confirm-delete":"Confirm delete","path-filtered":"Path filtered","enter-path-pattern":"Enter complete file paths seperated by comma","path-filter-description":"Shows tasks from files whose path contains the specified pattern. Use this to group tasks by folder or file location.","confirm-task-delete-description":"Are you sure you want to delete this task?",yes:"Yes",no:"No","scan-tasks-from-the-vault":"Scan tasks from the vault","scan-tasks-from-the-vault-description-1":"Run this feature only on the fresh install or if your tasks has not been properly detected/scanned or the board is acting weired.","scan-tasks-from-the-vault-description-2":"You dont have to run this feature often. The plugin will auto detect newly added/edited tasks from your notes.","scan-tasks-from-the-vault-description-3":"You might first want to check the scanning filters you have applied in setting to avoid any confusion.","vault-scanning-complete":"Vault scanning complete.",run:"Run","hide-collected-tasks":"Hide collected tasks","show-collected-tasks":"Show collected tasks","falied-to-load-settings":"Failed to load settings.","please-read-the-documentation-to-make-an-efficient-use-of-this-plugin":"Please read the documentation to make an efficient use of this plugin : ","task-board-docs":"Task board docs","filters-for-scanning":"Filters for scanning","only-scan-this":"Only scan this","dont-scan-this":"Don't scan this",disable:"Disable","all-ui":"All UI","show-header-of-the-task-card":"Show header of the task card","enable-this-to-see-the-header-in-the-task-card":"Enable this to see the header in the task card","show-footer-of-the-task-card":"Show footer of the task card","enable-this-to-see-the-footer-in-the-task-card":"Enable this to see the footer in the task card","width-of-task-card":"Width of task card","enter-the-value-of-width-for-task-card":"Enter the value for width of task card. The default value is 300px. This is adjustable for individual card in map view.","show-column-scroll-bar":"Show column scroll bar","enable-to-see-a-scrollbar-for-each-column":"Enable to see a scrollbar for each column. This will reduce the width of 'task cards'.","tag-colors":"Tag colors","tag-colors-info":"Set custom colors for your tags.",delete:"Delete","add-tag-color":"Add tag color","tag-name":"Tag name",automation:"Automations","scanning-mode":"Scanning mode","scanning-mode-info":"Select the scanning mode you would like Task Board to use :",balanced:"Balanced","balanced-scanning-mode-info":"The modified files will be scanned once you have finished editing them and when you will be switching the tab or window.",manual:"Manual","manual-scanning-mode-info":"You will be required to click on the refresh button when you would like to see the latest content on the board. The refresh button will shown an indicator.","real-time":"Real-time","real-time-scanning-mode-info":"You will see live changes happening on the board whenever you will be making changes to your task content in the note, with a 1 second delay.","auto-add-universal-date-to-tasks":"Auto add the selected universal date","auto-add-universal-date-to-tasks-info":"When enabled, when you will create a new task using the 'add new task' modal, then today's date will be added as the universal date you have selected.","compatible-plugins":"Compatible plugins","plugin-compatibility":"plugin compatibility","day-planner-plugin-compatibility":"If you have installed 'day planner' plugin, enable this to see the time at the start of the task title, instead in the metadata. After enabling this feature, the time will be shown according to the day planner plugin inside Markdown files, but in the task card, the time will be shown in the footer as usual.","daily-notes-plugin-compatibility":"When enabled, if you add a task in a daily-note file, which has a file name in format like 'YYYY-MM-DD'. Then this date will be considered as the value for the universal date you have selected.","universal-date-format":"Universal date format","universal-date-format-info":"Enter the format of the date which you are using to name your daily-note files and other common operation so task board can detect them properly. Please use either 'YYYY-MM-DD' or 'DD-MM-YYYY' format.",formats:"Formats","supported-plugin-formats":"Supported plugin formats","supported-plugin-formats-info":"Different plugins have different format to give the 'due' and 'completion' values to the task. Please select one of the value and see the above format, if its compatible with your current setup.",default:"Default","task-completion-date-time-pattern":"Task completion date-time pattern","task-completion-date-time-pattern-info":"Enter the pattern of the date-time which you would like to see for the completion value. Eg. YYYY-MM-dd/HH:mm:ss","first-day-of-the-week":"First day of the week","first-day-of-the-week-info":"Set the first day of the week",sunday:"Sunday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday","task-completion-in-local-time":"Task completion in local time","task-completion-in-local-time-info":"Whether task completion date-time should be shown in local time","show-utc-offset-for-task-completion":"Show UTC offset for task completion","show-utc-offset-for-task-completion-info":"Whether to display the UTC offset for task completion times","donation-message":"If you like this plugin, do consider supporting my work by making a small donation for continued better improvement of this idea!","plugin-language":"Plugin language","plugin-language-info":"Select the language of the plugin UI. To contribute for improving the current language or to add your own native language, please refer the docs.","board-delete-confirmation-message":`Are you sure you want to delete this board?
You can easily create it back if you remember the configuration.`,"task-board":"Task Board","open-task-board":"Open task board","open-task-board-in-new-window":"Open task board in new window","update-tasks-from-this-file":"Scan tasks from this file","add-file-in-scan-filter":"Add file in scan filter","add-folder-in-scan-filter":"Add folder in scan filter","board-filters":"Board filters",files:"Files",folders:"Folders",plugin:"Plugin",native:"Native","board-configure-button":"Board configure button","refresh-board-button":"Refresh board button","no-active-editor-is-open-error-notice":"No active editor is open. Please place your cursor inside editor where you want to add task and run this command.","hit-enter-after-typing-tag":"Hit enter after typing tag","daily-notes":"Daily notes ","general-settings-section-description":"This section contains the settings that will help you to apply filters and give you control to scan only selected files or remove certain files from scanning. Filters are highly recommended if you have a lot of files which will never contain any tasks.","name-of-the-file-folder-tag-for-filter-info":"Enter the values of the files, frontmatter, folder or tag using the configure button. Select the option, to control which files and tasks you want the plugin to scan and which files and tasks not to scan. If your vault contains tens of thousands of notes, using this filters will boost the performance of the plugin even further. Its higly recommended to read the documentation if you are using all four filters at the same time. You can also use the 'Add file in scan filter' and 'Add folder in scan filter' file menu options to add the current file or folder to the scan filter.","name-of-the-file-folder-tag-for-filter-info-2":"If you have made some big changes here, then you should use the 'scan vault' modal to re-scan the vault with the new filters applied.","this-plugin-is-created-by":"This plugin is created by ","board-ui-section-description":"This section contains the settings to control the look of the board. These settings will be applied to all the boards.","automation-section-description":"This section contains the settings to automate certain tasks for an efficient workflow, so you can spend more time on your project than tasks management.",note:"Note","format-section-description":"This section contains the settings to adjust the formats you use for creating tasks.",none:"none",highest:"Highest",high:"High",medium:"Medium",low:"Low",lowest:"Lowest","type-here":"Type here...","delete-sub-task":"Delete Sub-Task","hold-ctrl-button-to-open-in-new-window":"Open note in new tab. Hold CTRL to open in new window","file-name":"File name","file-not-found-at-path":"File not found at path:","edit-button-mode":"Edit button action","edit-button-mode-info":"Select what should the edit button do.","use-edit-task-modal-feature":"Edit task modal","use-edit-task-window-feature":"Edit task window","open-note-in-new-tab":"Open note in new tab","open-note-in-right-split":"Open note in right split","open-note-in-new-window":"Open note in new window","open-note-in-hover-preview":"Open note in hover-preview","hide-description":"Hide description","show-description":"Show description","open-board-on-obsidian-startup":"Open board on Obsidian startup","open-board-on-obsidian-startup-info":"Enable this option if you want to see the task board to be visible, when you close and open Obsidian.",file:"File",discard:"Discard","go-back":"Go back and save","edit-task-modal-close-confirm-mssg":"You have unsaved changes. Do you want to save or discard them?","task-status":"Task status","show-task-without-metadata":"Clean task title for inline-tasks","show-task-without-metadata-info":"Enable this setting if you like to see the inline-task title without its metadata inside the task card. Since, the properties are already shown inside the header as seperate elements, it makes more sense to use this setting to get a cleaner card.","dummy-task-title":"This is how your task will look like.","loading-tasks":"Loading your tasks...","fresh-install-1":"Looks like this is a fresh install.","fresh-install-2":"Please use the 'Scan Vault' button (top right) to collect tasks for this board.","fresh-install-3":"This is only required for first-time setup or after changing filters in the 'Filters for Scanning' settings.","open-scan-vault-modal":"Open scan vault modal","new-board":"New board","are-you-sure":"Are you sure?","reminder-label":"Reminder","tag-color-indicator-type":"Tag color indicator type","tag-color-indicator-type-info":'Select how the tag color should be applied. Note that, if you have selected "Text of the tag" as the tag color indicator type, then the opacity of the color will be reduced to 0.2 for better visibility of the text.',"text-of-the-tag":"Tag text","tag-background":"Tag background","background-of-the-card":"Card background",liveEditor:"Live Editor",rawEditor:"Source mode","child-tasks":"Child tasks","child-tasks-section-description":"Connect the tasks which are blocking the current task.","task-board-bug-reporter":"Task Board bug reporter",report:"Report","ignore-this-bug":"Ignore this bug","bug-context":"Bug context","copy-report":"Copy report","add-new-task-in-current-file":"Add new task in current note","automatically-hide-empty-columns":"Auto hide empty columns","automatically-hide-empty-columns-info":"Enable this setting to automatically hide the columns which has no tasks in it. This will help you to focus on the tasks which are relevant to you.","enter-status-placeholder":"eg.: /","enter-tag-placeholder":"enter number from 1-5","delete-tag-color":"Delete tag color","pick-color-for-tag":"Pick color for tag","debug-info":"Debug info","copied-to-clipboard":"Copied to clipboard","default-note-for-adding-new-tasks":"Default note for adding new tasks","default-note-for-new-tasks-description":"Select the default note in which all the newly added tasks through 'add new task modal' should be saved.","universal-date":"Universal date","universal-date-description":"Select what type of date you want task board to consider as your universal date for all the automation operations.","auto-add-created-date":"Auto add created date","auto-add-created-date-desc":"When enabled, todays date will be automatically added as the created date to the task.","auto-add-completed-date":"Auto add completed date","auto-add-completed-date-desc":"Enable this feature to automatically add current date-time value as the completed date property to the task when you will mark the task as complete through checkbox or through status change to status of type 'TODO'","auto-add-cancelled-date":"Auto add cancelled date","auto-add-cancelled-date-desc":"Enable this feature to automatically add current date-time value as the cancelled date property to the task when you will mark the task as cancelled through checkbox or through status change to status of type 'CANCELLED'","file-for-archived-tasks":"File for archived tasks","file-for-archived-tasks-description":"Select the note in which the archived tasks should be moved. Leave this setting empty, if you want to simply comment out the task in the parent file itself when you will click on 'archive instead' button.","default-quickadd-choice":"Default quickadd plugin choice","default-quickadd-choice-description":"Select which of your choice from your quickadd plugin configuration should be used as the default choice in the 'add new task modal'. Please install the quickadd plugin first and create a choice in the quickadd plugin.","quickadd-plugin-not-enabled":"Quickadd plugin is not enabled. Please install the plugin and enable it.","quickadd-plugin-compatibility-description":"If you have installed the quickadd plugin, you can now use its 'choices' from the 'add new task modal' to directly add the task wherever you want.","quickadd-plugin-choice":"Quickadd choice","show-error":"Show error","bug-report-notice-message":"Task board encountered an issue while completing the operation. Click on the show error button to read more and report.","push-notification-compatibility":"Push notification compatibility","push-notification-compatibility-description":"Select which plugin or external service you want to use for integrating the push notification feature and its format for your reminders.","frontmatter-property-for-reminder":"Frontmatter property for reminder","frontmatter-property-for-reminder-description":"Task Board supports adding reminder to your notes even if they dont have tasks. Type the name of the frontmatter key which you use to add the date-time value for the reminder.",app:"app","tasks-cache-file-path":"Tasks cache file path","tasks-cache-file-path-description":"Select the new path for task-board-cache.json. This is very useful, if you sync your vault with other devices and want to keep the task board cache in sync as well.","tasks-cache-file-path-description-2":"Incase your plugin config folder is already synced, then no need to change the default path.","safe-guard":"Safe guard","content-mismatch-notice-message":"Content mismatch detected. Please resolve the conflicts.","show-conflicts":"Show conflicts","customize-card-sections":"Customize card sections","customize-card-sections-info":"Select which sections you want to see in the task item card.","show-description-only":"Show description only","show-subtasks-only":"Show subtasks only","show-both":"Show both","hide-both":"Hide both",update:"Update","archive-instead":"Archive instead","update-language-translations":"Update language translations","update-language-translations-info":"If you have changed the inteface language in Obsidian settinsg, click on the update button to download the latest language translations for that language. You can locally update the translations in your own language and submit your changes to contribute to this plugin. Read more here : ","show-note-frontmatter-tags-in-the-card-header":"Inherit frontmatter tags for inline-tasks (read-only)","show-note-frontmatter-tags-in-the-card-header-info":"Enable this feature to use the tags from the note frontmatter applied to your tasks. You cannot actually change this tags through task board. These frontmatter tags will be only used for filtering tasks.","scan-tasks-from-the-vault-info-1":"Scan your whole vault at once.","scan-tasks-from-the-vault-info-2":"Use filters for scanning from setting if you want to exclude certain files, folders or tasks to be scanned.","points-to-note":"Points to note","scan-vault-from-the-vault-upgrade-message-1":"Task Board has been updated to version","scan-vault-from-the-vault-upgrade-message-2":"This new release has brought various new features, which requires you to re-scan the vault.","scan-vault-from-the-vault-upgrade-message-3":"Read the release notes for this new version here",import:"Import",export:"Export","import-export-configurations":"Import/Export configurations","import-export-configurations-info":"Use this feature to import or export your task board configurations. This is very useful for backing up your settings or transferring them to another device. Also in the case when you want to re-install the plugin.","hide-specific-properties-in-notes":"Hide specific properties in inline tasks","hide-specific-properties-in-notes-description":"Select which task properties should be hidden in live-editor and in reading mode. These properties will be present in the inline task's content, but only kept hidden to reduce visual noise. Reveal them by hovering over the task or moving the cursor within the task line.","auto-add-unique-id":"Auto add unique id","auto-add-unique-id-description":"When enabled, a unique id will be automatically added to the inline-task or task-note frontmatter whenever you will add a new task or interact with an existing task. This setting is vital for the below features to work properly or to enable them :","manual-sorting-inside-each-column-upcoming":"Manual sorting inside columns (upcoming)","pin-tasks-on-top-in-each-column-upcoming":"Pin tasks on top in each column (upcoming)","map-view-feature":"Map view feature","open-in-map-view":"Open in map view","enable-experimental-features-message":"This is an experimental feature released in this version. Please enable experimental feature from setting if you want to test it out.","enable-experimental-features":"Enable experimental features","enable-experimental-features-info-1":"Enable this setting to test out the experimental features present in this version.","enable-experimental-features-info-2":"Although these features are fully-functional, they can still produce issues in different environments and setups. Hence, if you are willing to help in testing, enable this setting and test out these features and share whatever bugs you find or any suggestions you have to improve them. After thorough testing, these features will be released for normal use in the upcoming versions.","map-view":"Map view","reading-mode-preview":"Reading mode preview","source-mode-preview":"Source mode preview","double-click-card-action":"Double click card action","double-click-card-action-info":"Select what should happen when you double click on the task card.","not-valid-file-type-for-scanning":"This file is either not an allowed file type or does not satisfy the 'filters for scanning' applied in setting'. Hence it will not be scanned for tasks.","restrict-task-completion-to-child-tasks-and-sub-tasks":"Restrict task completion to child-tasks and sub-tasks","restrict-task-completion-to-child-tasks-info":"Enable this setting to restrict the completion of a parent task until all its child tasks (depends-on tasks) and sub-tasks are completed. This will help you to ensure that all related tasks are completed before marking the parent task as done.","complete-all-child-tasks-before-completing-task":"Complete all child-tasks and sub-tasks related to this task before completing it. You can turn this setting off, if you dont want this restriction.","task-note-identifier-tag":"Task note identifier tag","task-note-identifier-tag-description":"Enter the tag which will be used to indentify a normal task as a task-note. This tag will be automatically added to the tasks created through 'add new task modal'. Enter without '#'.","default-location-for-new-task-notes":"Default location for new task notes","default-location-for-new-task-notes-description":"Default folder where new task-notes will be saved. You can also change the location from the 'add new task modal' while creating a new task-note.","tasks-plugin-modal":"Tasks plugin modal","reload-obsidian-notice-message":"You have changed a setting which requires Obsidian to be reloaded. Reload now or after you are done with all the setting changes.","reload-now":"Reload now",ignore:"Ignore","loading-map-data":"Loading map data...","tasks-refreshed-successfully":"Tasks refreshed successfully","add-new-task-note":"Add new task-note","save-filter-configuration":"Save Filter Configuration","filter-configuration-name":"Filter configuration name","filter-configuration-name-info":"Enter a name for this filter configuration","filter-configuration-description":"Filter Configuration Description","filter-configuration-description-info":"Enter a description for this filter configuration (optional)","load-filter-configuration":"Load Filter Configuration","no-saved-filter-configurations":"No saved filter configurations","select-a-saved-filter-configuration":"Select a saved filter configuration",load:"Load",created:"Created",updated:"Updated","filter-summary":"Filter summary","filter-group":"of the below filter group",filter:"Filter","root-condition":"Root condition","filter-configuration-name-is-required":"Filter configuration name is required","failed-to-save-filter-configuration":"Failed to save filter configuration","filter-configs-saved-successfully":"Filter configs saved successfully","failed-to-load-filter-configuration":"Failed to load filter configuration","filter-configuration-loaded-successfully":"Filter configuration loaded successfully","failed-to-delete-filter-configuration":"Failed to delete filter configuration","delete-filter-configuration":"Delete Filter Configuration","delete-filter-configuration-question":"Are you sure you want to delete this filter configuration?","filter-configuration-deleted-successfully":"Filter configuration deleted successfully",match:"Match",any:"any",all:"all","add-filter-group":"Add filter group","save-current-filter":"Save for future","load-saved-filter":"Load saved filter","filter-in-this-group":"filter in this group","duplicate-filter-group":"Duplicate filter group","remove-filter-group":"Remove filter group","add-filter":"Add filter",or:"OR","and-not":"AND NOT",and:"AND","remove-filter":"Remove filter",contains:"contains","does-not-contains":"does not contains",is:"is","is-not":"is not","starts-with":"starts with","ends-with":"ends with","is-empty":"is empty","is-not-empty":"is not empty",nor:"NOR","does-not-contain":"does not contains","sorting-criterias-for":"Sorting criteria for","column-sorting-criteria-configure-modal-description":"Apply sorting criterias to this column. Change the order to set the priority of the criterias to be applied.",ascending:"Ascending",descending:"Descending","column-sorting-criteria-priority-tooltip-numeric-properties":"Ascending: High -> Low -> None. Descending: Low -> High -> None","column-sorting-criteria-priority-tooltip-date-properties":"Ascending: Earlier -> Later -> None. Descending: Later -> Earlier  -> None","column-sorting-criteria-priority-tooltip-status-properties":"Ascending respects status order (Overdue first). Descending reverses it.","column-sorting-criteria-priority-tooltip-content-properties":"Ascending: A-Z. Descending: Z-A","remove-sort-criterion":"Remove this sorting criterion","configure-column-sorting":"Configure column sorting","sort-and-filter":"Sort and filter","configure-column-filtering":"Configure column filtering","add-new-sorting-criterion":"Add new sorting criterion",id:"Id",title:"Title","task-title":"Task title","sub-tasks":"Sub tasks",content:"Content",body:"Body",description:"Description","body-content":"Body content",status:"Status",tag:"Tag",tags:"Tags",priority:"Priority",time:"time","start-time":"Start time","end-time":"End time","created-date":"Created date",start:"Start","start-date":"Start date",scheduled:"Scheduled","scheduled-date":"Scheduled date",due:"Due","due-date":"Due date",completed:"Completed","completed-date":"Completed date",cancelled:"Cancelled",recurrence:"Recurrence","file-path":"File path","column-filters-for":"Column filters for","board-filters-for":"Board filters for","apply-advanced-board-filters":"Apply advanced board filters","open-column-menu":"Open column menu","quick-actions":"Quick actions","hide-column":"Hide column","minimize-column":"Minimize column","maximize-column":"Maximize column","default-start-time":"Default start time","default-start-time-info":"Enter the time (in HH:mm) format which you want to consider for tasks with a universal date but having not time. This will be only used for sorting tasks within column. Leave empty, if you want task with no time to be sorted below the tasks which are having time property.","refresh-the-board":"Refresh the board","open-board-configuration-modal":"Open board config modal","open-board-filters-modal":"Open board filters modal","view-type":"View type","kanban-view":"Kanban view","configure-boards":"Configure boards","board-description":"Board description","board-description-info":"Enter a description for this board. (optional)","live-editor-and-reading-mode":"Live editor and reading mode","task-note":"Task note","task-note-description":"a task note can be any simple note which you can show as a task card on the task board for reminders, etc.",tbnote:"TB note","tbnote-description":"A TB note is essentially a task note only, but it becomes a TB note when you enable activity tracking for the task. This is under development, read more here : ","task-note-vs-tbnote":"Task note vs TB note","tbnote-development-ticker":"TB note development ticket","folder-for-archived-task-notes":"Folder for archived task notes","folder-for-archived-task-notes-description":"Enter the folder path where all your archived task note or tb notes should be moved.","frontmatter-formatting":"Frontmatter formatting","frontmatter-formatting-description":"Below is the mapping of the task properties supported by this plugin and the frontmatter key name for the corresponding property. This is useful, if you already have task-notes created by other plugin or normal notes with existing properties, which you want task board to pick up as tasks properties. Some of this properties like 'task location' will be available after the 'tb notes' feature has been implemented.","add-sticky-note":"Add sticky note","under-development-feature-message":"This feature is under development and will be released in the next version.","background-style":"Background style",transparent:"Transparent",dots:"Dots",lines:"lines",cross:"Cross","show-minimap":"Show minimap","animate-links":"Animate links","dfp-methodology":"DFP methodology","dfp-methodology-description-1":"This is a new methodology developed for management, planning and tracking of small to large projects using the power of visual live canvas, by making use of digital tools. Task board is first to implement the full potential of this methodology using this map view feature.","dfp-methodology-description-2":"To understand this methodology efficiently, read the research paper published along with other resources from here :","render-only-visible-nodes":"Render only visible nodes","render-only-visible-nodes-description-1":"Enabled : The map loading will be faster, but you might experience lag while panning based on your CPU and GPU.","render-only-visible-nodes-description-2":"Disabled: The map loading might take some time to load all the nodes, later giving you a smoother experience while panning.",controls:"Controls","mouse-wheel-behaviour":"Mouse wheel behavior","mouse-wheel-behaviour-description":"Select what should happen when you scroll within the canvas. If you select 'pan', you will still able to zoop by holding CTRL key and scrolling.",zoom:"Zoom",pan:"Pan",appearance:"Appearance","canvas-background":"Canvas background style","canvas-background-description":"Select the present styling for the canvas background. Choose 'transparent', if you dont want the default color.","map-orientation":"Map orientation layout","map-orientation-description":"Select how you would like to lay your map. Based on this layout, you will get the link connectors on the nodes, either 'top-bottom' or 'left-right'.",horizontal:"Horizontal",vertical:"Vertical","link-arrow-direction":"Link arrow direction","link-arrow-direction-description":"Choose the direction of the arrows. This doesnt affect the working of the plugin, its just for visualization. The terms can be better understood after reading the research paper.","child-to-parent":"Child to parent","parent-to-child":"Parent to child","both-way":"Both way","animate-links-description":"Enable this setting to have a nice animation for the links.","show-minimap-description":"Enable this setting to see the minimap within canvas.","link-style":"Link style","link-style-description":"Select the type of link style you want to have for the nodes connection links.",straight:"Straight",step:"Step","smooth-step":"Smooth step",curved:"Curved","connect-a-child":"Connect a child","connect-a-parent":"Connect a parent",kanban:"Kanban",map:"Map","search-for-task":"Search for task","cancelled-date":"Cancelled date",reminder:"Reminder",dependencies:"Dependencies","has-tag":"has tag","does-not-have-tag":"doesn't have tag","contains-string":"contains string","does-not-contains-string":"doesn't contains string","are-empty":"are empty","are-not-empty":"are not empty","toggle-board-drawer":"Toggle board drawer","child-task":"Child task","activity-and-comments":"Activity & comments","coming-soon":"Coming soon...","import-tasks-to-map":"Import tasks to map","search-tasks":"Search tasks...","clear-search":"Clear search","no-tasks-match-search":"No tasks match your search","all-tasks-have-ids":"All tasks already have IDs","delete-dependency":"Delete dependancy","toggle-animation":"Toggle animation","change-color":"Change color","dependency-deleted":"Dependency deleted successfully.","no-tasks-found-for-current-board-message":"No tasks were filtered for this board. Please check your board filters and whether you are able to see tasks inside the kanban view for this board.","tasks-on-this-board-have-no-id-message-1":"Tasks filtered for this board have no ID on them. Please add id for altest one task to open the map view. Or use the below import task panel feature, to quikly import tasks.","tasks-on-this-board-have-no-id-message-2":"When you will import tasks, an ID property will be added to the task content in the note.","column-delete-confirmation-message":"Are you sure you want to delete the following column : ","enter-task-content-to-search":"Enter keyword and hit enter to search.","scroll-to-load-more":"Scroll to load more","configure-kanban-swimlanes":"Configure kanban swimlanes","configure-kanban-swimlanes-info":"Configure kanban swimlanes for this board.",configure:"Configure","enable-swimlanes":"Enable swimlanes","enable-swimlanes-info-1":"Swimlanes divides your kanban board into horizontal lanes. This feature of kanban methodology helps you to group related tasks based on their various properties.","enable-swimlanes-info-2":"This plugin has implemented the swimlanes feature with one of its own kind functionality, to have custom sorting and aggregation of tasks.","task-property":"Task property","task-property-info":"Select the task property to group the tasks based on the same value.","custom-property-key":"Custom property key","custom-property-key-info":"Enter your custom property name which you are using in the frontmatter in case of task-notes and dataview property in case of inline-tasks.","max-swimlane-height":"Max swimlane height","max-swimlane-height-info":'Set a maximum height for the swimlane to avoid consuming a lot of space. Smaller height helps optimized rendering. Enter the value along with units. For example "300px" or "20vh", etc.',"swimlane-sort-order":"Swimlane sort order","swimlane-sort-order-info":'Select the order in which the swimlanes should be sorted. Ascending and descending are the common options. But custom sorting will help you with more flexibility. This new sorting option has been specifically designed to adopt "Story Map" methodology in this plugin.',"manual-sorting-mapping":"Manual sorting mapping","manual-sorting-mapping-info":"Enter the values for the property you have selected and arrange their order to have a custom sorting.","enter-property-value":"Enter property value","add-row":"Add row","hide-empty-swimlanes":"Hide empty swimlanes","hide-empty-swimlanes-info":"Enable this setting to automatically hide the particular swimlane, if it doesnt contain any tasks.","aggregator-swimlane":"Aggregator swimlane","aggregator-swimlane-info":"Enabling this feature will help you to have a single swimlane at the bottom, which will group all the rest of the swimlanes which are not valid in your configured custom swimlanes.","custom-sorting":"Custom sorting","custom-property":"Custom property","manual-order":"Manual order","manual-order-notice":"The manual sorting will only work as expected if all the tasks within the column or any new added task in the column have unique id on them. This feature might look like it is working for tasks with no id, but eventually the data wont be persisted. Hence unique is must for this feature to work properly.","cannot-add-more-sorting-criteria-with-manual-order":"Cannot add more sorting criteria with manual order","drag-and-drop":"Drag and drop tasks","drag-and-drop-feature-info":"This feature will help you to move tasks between columns.","kanban-swimlanes":"Kanban swimlanes","kanban-swimlanes-feature-info":"This feature will help you to group tasks based on their various properties. Additionally, this plugin has its first of kind implementation of swimlanes, to have custom sorting and aggregation of tasks.","manual-sorting":"Manual sorting","manual-sorting-feature-info":"This feature will help you to drag and re-order the tasks within a column.","status-name":"Status name","status-symbol":"Status symbol","status-action":"Status action","add-new-status":"Add new status","import-from-tasks-plugin":"Import from tasks plugin","custom-statuses":"Custom statuses","custom-statuses-info":"Add custom statuses, their mapped symbol and name to work for both inline-tasks and task-notes. Also, configure the next symbol it should cycle to.",refreshing:"Refreshing...","show-hide-properties":"Show/Hide properties",visible:"Visible",minimized:"Minimized",checkbox:"Checkbox","task-card-style":"Task card style","task-card-style-info":"Select the UI of the task card. With the 'bases card style' option you may also use an additional CSS snippet to get more dataview properties kind of look.","tasks-plugin-emoji":"Tasks plugin emoji","bases-cards-style":"Bases card style","work-limit":"Work limit","work-limit-info":"Enter the number of maximum tasks you should work parallely in this column. This is an optional property and its just for reminder.","work-limit-alert":"Click me!","show-me":"Show me","scan-them":"Scan them","show-modified-files-message-on-startup":"Show modified files message on Obsidian startup","show-modified-files-message-on-startup-info":"If any of the vault files has been modified when Obsidian was inactive. These modified files will be auto-detected at the application start time, after a 10 second delay. This message will provide you to provide the statistics of which files has been modified. If you disable this setting, the modified files will be auto-scanned without needing your attention.",properties:"Properties","task-notes":"Task notes","inline-tasks":"Inline tasks",transfer:"Transfer",reset:"Reset","copy-task-title":"Copy task title","open-note":"Open note","note-actions":"Note actions",dates:"Dates",today:"Today",tomorrow:"Tomorrow","in-2-days":"In 2 days","in-3-days":"In 3 days","in-1-week":"In 1 week","in-2-weeks":"In 2 weeks","in-1-month":"In 1 month","in-2-months":"In 2 months","in-6-months":"In 6 months","in-1-year":"In 1 year","clear-date":"Clear date","rename-note":"Rename note","delete-note":"Delete note","open-note-to-right":"Open note to right","copy-task-title-successful":"Successfully copied the task title.","copy-task-title-unsuccessful":"There was an error while copying the task title.","task-status-symbol":"Task status symbol","task-status-symbol-info":"This is the character between the square braces in case of inline-tasks. Also, this is used to store in the case.","task-status-name":"Task status name","task-status-name-info":"Map a unique name to the above status symbol. This name will be used in the task-note frontmatter.","task-status-type":"Task status type","task-status-type-info":"Select what kind of status is this. If this status if of type DONE or CANCELLED, then the task will appear inside the 'completed' type column.","cycle-to-following-status":"Cycle to the following status","cycle-to-following-status-info":"Enter the status symbol, eg. /. Once you click on the above status, cycle to this status. Also, dont forget to create a new entry for this status type.","export-logs":"Export logs","export-logs-info":"This plugin stores all the warnings and errors in a log file inside the plugin folder. You may click on the export button to export it wherever you want in a txt file so you can debug the issue on your own or submit it to the developer if they have asked you for the logs. Before submitting the log file, please ensure that no vault content has been captured inside the logs. Also it will be advisable to submit the logs on email instead of on GitHub.","configure-status-entry":"Configure status entry",edit:"Edit","no-custom-statuses-configured":"No custom statuses configured","task-note-title-placeholder":"Enter a simple title for the task..."},Pr=uH});var Be,Xt,vc,Z5,_7,_5,U7,Cc,Kt=g1(()=>{"use strict";Be="1.9.1",Xt="task-board-view",vc="add-or-edit-task-view",Z5="taskBoard_file_stack",_7="taskboard_map_node_positions",_5="taskboard_map_node_sizes",U7="taskboard_map_viewport",Cc="OBSIDIAN_CLOSED_TIME"});async function Zr(t){let e=t.customCss.theme,a=t.customCss.themes[e],r=t.customCss.snippets.filter(n=>t.customCss.enabledSnippets.has(n)).length,o=t.plugins.plugins;return{...await hH(),"Use [[Wikilinks]]":!t.vault.getConfig("useMarkdownLinks"),"Base color scheme":document.body.hasClass("theme-dark")?"dark":"light","Community theme":e?`${e} v${a.version}`:"none","Snippets enabled":r,"Plugins installed":Object.keys(t.plugins.manifests).length,"Plugins enabled":Object.values(o).map(n=>`${n.manifest.name} v${n.manifest.version}`)}}async function fH(){return Or.Platform.isMobileApp?(await window.Capacitor.Plugins.Device.getInfo()).webViewVersion:null}async function hH(){if(window.electron){let o=require("os");return{"Obsidian version":window.electron.ipcRenderer.sendSync("version"),"Installer version":window.electron.remote.app.getVersion(),"Operating system":o.version()+" "+o.release()}}let t=await window.Capacitor.Plugins.App.getInfo(),e=await window.Capacitor.Plugins.Device.getInfo(),a={"Obsidian version":`${t.version} (${t.build})`,"API version":Or.apiVersion,"Operating system":`${e.platform} ${e.osVersion} (${e.manufacturer} ${e.model})`},r=await fH();return r&&(a["WebView version"]=r),a}var Or,xc=g1(()=>{"use strict";Or=require("obsidian")});function pH(t,e){let a=0,r=0,o=0;return t.length===4?(a=parseInt(t[1]+t[1],16),r=parseInt(t[2]+t[2],16),o=parseInt(t[3]+t[3],16)):(t.length===7||t.length===9)&&(a=parseInt(t[1]+t[2],16),r=parseInt(t[3]+t[4],16),o=parseInt(t[5]+t[6],16)),`rgba(${a},${r},${o},${e})`}function w0(t,e){let a=t;t.startsWith("#")&&(a=pH(t,e));let r=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*[\d.]+\)$/,o=a.match(r);return o?`rgba(${o[1]}, ${o[2]}, ${o[3]}, ${e})`:($.addToLogs(110,`rgba match : ${a}`,"UIHelpers.ts/updateRGBAOpacity"),a)}var jh,J4,U5=g1(()=>{"use strict";jh=require("obsidian");Y1();J4=t=>(0,jh.sanitizeHTMLToDom)(t)});var _r,q7,Lc=g1(()=>{"use strict";_r=require("obsidian");xc();U5();t2();q7=class extends _r.Modal{constructor(e,a,r,o){super(e.app),this.plugin=e,this.message=a,this.bugContent=r,this.context=o,this.setTitle(p("task-board-bug-reporter"))}async onOpen(){let{contentEl:e}=this;this.modalEl.setAttribute("modal-type","task-board-bug-reporter-modal");let a=e.createDiv({cls:"taskBoardBugReporterModal"}),r=a.createDiv({cls:"bugReportSection"});r.createEl("h3",{text:p("debug-info")});let o=r.createDiv({cls:"bugReportContent"}),n=await this.sanitizeBugReportContent(this.message,this.bugContent,this.context);o.createEl("p",{text:J4(n.finalContentForHTMLDom)});let i=a.createDiv({cls:"contextSection"});i.createEl("h3",{text:p("note")}),i.createDiv({cls:"contextContent"}).createEl("p",{text:J4("<li>Kindly copy the report using button below.</li><li>Under the <b>ERROR</b> section, please find if there is any personal information captured. If yes, please replace the content with some dummy data, so the developers can understand the format of your content for easier debugging.</li><br/><li>Either mail it to <a href='mailto:sanketgauns8@gmail.com'>sanketgauns8@gmail.com</a></li><li style='align-item: 'center';''>OR</li><li>Click on the following link and login with your GitHub account :  <a href='https://github.com/tu2-atmanand/Task-Board/issues/new'>New GitHub Issue</a></li><li>Paste the report and add any additional information or screenshots.</li><li>Click on <b>create</b> to submit the issue.</b><br/><li>Thank you for your contribution.</li>")});let c=a.createEl("button",{text:p("copy-report"),cls:"bugReporterCloseButton"});c.addEventListener("click",()=>{this.handleCopyBtnEvent(n.finalContentForMarkdown)});let s=a.createEl("button",{text:p("ignore-this-bug"),cls:"bugReporterCancelButton"});s.addEventListener("click",()=>{this.close()});let d=a.createDiv({cls:"bugReporterActions"});d.appendChild(c),d.appendChild(s)}async sanitizeBugReportContent(e,a,r){let o=a,n=await Zr(this.app),i=Object.entries(n).map(([d,u])=>`${d}: ${Array.isArray(u)?u.join("<br/>"):u}`).join("<br/>"),l=Object.entries(n).map(([d,u])=>`${d}: ${Array.isArray(u)?u.join(`
	`):u}`).join(`
`),c=`<h4>Message for user</h4><br/>${e.replaceAll(`
`,"<br/>")}<br/><br/><h5>Error Message</h5><i>${o.replaceAll(`
`,"<br/>")}</i><br/><br/><b>Context</b> : ${r}<br/><br/><h5>System Information</h5>${i}<br/><h5>Any additional information and screenshots</h5>`,s=`# Bug Report

## Message for user

${e}

## Error Message

${o}

## Context
${r}

## System Information

${l}

### Any additional information and screenshots`;return{finalContentForHTMLDom:c,finalContentForMarkdown:s}}handleCopyBtnEvent(e){navigator.clipboard.writeText(e).then(()=>{new _r.Notice(p("copied-to-clipboard"))})}handleSubmit(){}}});function gH(t,e=0,a=t.byteLength){return t.buffer.slice(t.byteOffset+e,t.byteOffset+e+a)}var Ie,Wh,q5,BN,yc,IN,FN,Ur,Mc=g1(()=>{"use strict";Ie=require("obsidian");Y1();Wh=Ie.Platform.isDesktopApp?window.require("node:original-fs"):null,q5=Ie.Platform.isDesktopApp?Wh.promises:null,BN=Ie.Platform.isDesktopApp?window.require("node:os"):null,yc=Ie.Platform.isDesktopApp?window.require("node:path"):null,IN=Ie.Platform.isDesktopApp?window.require("node:url"):null,FN=Ie.Platform.isDesktopApp?window.require("node:zlib"):null;Ur=class{constructor(e){this.type="file";this.filepath=e;let a=this.name=yc.basename(e);this.fullpath=a;let r=yc.extname(a);this.extension=r.substring(1).toLowerCase(),this.basename=yc.basename(a,r)}async readText(){return q5.readFile(this.filepath,"utf8")}async read(){let e=await q5.readFile(this.filepath);return gH(e)}createReadStream(){return Wh.createReadStream(this.filepath)}toString(){return this.filepath}}});function wc(t,e){let a=new Date,r=new Date(a.getTime()+t*24*60*60*1e3),o=new Date(a.getTime()+e*24*60*60*1e3),n=[],i=new Date(r.getTime());for(;i<=o;)n.push(i.toISOString().split("T")[0]),i=new Date(i.getTime()+24*60*60*1e3);return n}var E4,qr,$5,Bt=g1(()=>{"use strict";V2();E4=()=>{let t=new Date;return new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().slice(0,19)},qr=t=>{if(/^\d{2}-\d{2}-\d{4}$/.test(t)){let[r,o,n]=t.split("-");t=`${n}-${o}-${r}`}let a=new Date(t);return isNaN(a.getTime())?null:a},$5=(t,e)=>{let a=e.settings.data.globalSettings.universalDate;return a==="due"?t.due:a==="startDate"?t.startDate||"":a==="scheduledDate"&&t.scheduledDate||""}});var G5,zc,$,Y1=g1(()=>{"use strict";mc();G5=require("obsidian");Lc();Mc();xc();Bt();zc=class t{constructor(){this.plugin=null;this.alreadyShownBugsIDs=[];this.LOG_FILE_PATH="";this.MAX_RECENT_LOGS=20;this.MAX_USED_ID=179;this.showNotice=(e,a,r,o)=>{if(this.alreadyShownBugsIDs.includes(e))return;this.alreadyShownBugsIDs.push(e),new G5.Notice(createFragment(i=>{i.createDiv("bugReportNotice",l=>{l.createEl("p",{text:Nr("bug-report-notice-message")}),l.createEl("button",{text:Nr("show-error"),cls:"reportBugButton",onclick:()=>{new q7(this.plugin,a,r,o).open(),l.hide()}}),l.createEl("button",{text:Nr("ignore-this-bug"),cls:"ignoreBugButton",onclick:()=>{l.hide()}})})}),0).messageEl.onClickEvent(i=>{i.target instanceof HTMLButtonElement||(i.stopPropagation(),i.preventDefault(),i.stopImmediatePropagation())}),this.appendBugReport(e,a,r,o)};this.addToLogs=(e,a,r)=>{this.alreadyShownBugsIDs.includes(e)||(this.alreadyShownBugsIDs.push(e),this.appendBugReport(e,"",a,r))}}static getInstance(){return t.instance||(t.instance=new t),t.instance}setPlugin(e){this.plugin=e,this.LOG_FILE_PATH=`${e.app.vault.configDir}/plugins/task-board/task-board-logs.log`}async ensureLogFileExists(){var e;try{let a=(e=this.plugin)==null?void 0:e.app.vault;if(!a)return;let r="";try{r=await a.adapter.read(this.LOG_FILE_PATH)}catch(o){if(!r){let n=await Zr(this.plugin.app),l=`# Task Board Logs

## System Information

${this.formatSystemInfo(n)}

## Recent Bug Reports

`;await a.adapter.write(this.LOG_FILE_PATH,l)}}}catch(a){console.error("Error ensuring log file exists:",a)}}formatSystemInfo(e){return Object.entries(e).map(([a,r])=>Array.isArray(r)?`- **${a}**: 
${r.map(o=>`  - ${o}`).join(`
`)}`:`- **${a}**: ${r}`).join(`
`)}async parseBugReportEntries(){var e;try{let a=(e=this.plugin)==null?void 0:e.app.vault;if(!a)return[];let r=await a.adapter.read(this.LOG_FILE_PATH),o=r.indexOf("## Recent Bug Reports");if(o===-1)return[];let i=r.substring(o+21).split(/\n\s*-{5,}\s*\n/),l=[];for(let c of i){if(!c.trim())continue;let s=this.parseBugReportEntry(c);s&&l.push(s)}return l}catch(a){return console.error("Error parsing log file:",a),[]}}parseBugReportEntry(e){try{let a={},r=e.match(/Timestamp\s*:\s*(.+?)(?=\n|$)/);r&&(a.timestamp=r[1].trim());let o=e.match(/ID\s*:\s*(\d+)/);o&&(a.id=parseInt(o[1]));let n=e.match(/Message\s*:\s*(.+?)(?=\nContext|$)/);n&&(a.message=n[1].trim());let i=e.match(/Context\s*:\s*([\s\S]*?)(?=\n#### Bug Content|\n\n|$)/);i&&(a.context=i[1].trim());let l=e.match(/```log\n([\s\S]*?)\n```/);return l&&(a.bugContent=l[1].trim()),a.timestamp&&a.id!==void 0&&a.message&&a.context&&a.bugContent?a:null}catch(a){return console.error("Error parsing bug report entry:",a),null}}formatBugReportEntry(e){return`Timestamp : ${e.timestamp}
ID : ${e.id}
Message : ${e.message}
Context : ${e.context}

#### Bug Content
\`\`\`log
${e.bugContent}
\`\`\``}async appendBugReport(e,a,r,o){var n;try{let i=(n=this.plugin)==null?void 0:n.app.vault;if(!i)return;await this.ensureLogFileExists();let l=await this.parseBugReportEntries(),c={timestamp:E4(),id:e,message:a,context:o,bugContent:r};l.push(c),l=l.slice(-this.MAX_RECENT_LOGS);let s=l.map(m=>this.formatBugReportEntry(m)).join(`

-------------

`),u=(await i.adapter.read(this.LOG_FILE_PATH)).match(/(## System Information\n\n[\s\S]*?)(?=## Recent Bug Reports)/),h=`# Task Board Logs

${u?u[1].trim():`## System Information

`}

## Recent Bug Reports

${s}
`;await i.adapter.write(this.LOG_FILE_PATH,h)}catch(i){console.error("Error appending bug report to log file:",i)}}async exportLogFile(){var e;try{let a=(e=this.plugin)==null?void 0:e.app.vault;if(!a)return;await this.ensureLogFileExists();let r=await a.adapter.read(this.LOG_FILE_PATH),o="task-board-logs.txt";if(window.electron&&window.electron.remote&&window.electron.remote.dialog){let n=window.electron.remote.dialog.showOpenDialogSync({title:"Pick folder to export settings",properties:["openDirectory","dontAddToRecent"]});if(!n||n.length===0){new G5.Notice("Export cancelled or folder not selected.");return}let i=n[0],l=i.endsWith("/")||i.endsWith("\\")?i+o:i+(i.includes("/")?"/":"\\")+o;await q5.writeFile(l,r,"utf8"),new G5.Notice(`Log file exported to ${l}`)}else{let n=document.createElement("a");n.href=URL.createObjectURL(new Blob([r],{type:"application/json"})),n.download=o,document.body.appendChild(n),n.click(),setTimeout(()=>{document.body.removeChild(n),URL.revokeObjectURL(n.href)},1e3),new G5.Notice("Log file exported. Check the folder where you downloaded the file.")}}catch(a){new G5.Notice("Failed to export logs."),console.error(a)}}},$=zc.getInstance()});function p(t){var e,a;try{return S4.t(t,{defaultValue:((e=Pr)==null?void 0:e[t])||`Missing translation for "${t}"`})}catch(r){return((a=Pr)==null?void 0:a[t])||`Missing translation for "${t}"`}}async function Xh(t){let e=(0,g3.getLanguage)();if(e==="en")return new g3.Notice("English is the default language. No download needed."),!1;let a=`${t.app.vault.configDir}/plugins/task-board/`,r=(0,g3.normalizePath)(`${a}/locales`),o=(0,g3.normalizePath)(`${r}/${e}.json`),n=(0,g3.normalizePath)(`${r}/${e}.json.tmp`),i=`https://raw.githubusercontent.com/tu2-atmanand/Task-Board/main/src/utils/lang/locale/${e}.json`,l=new g3.Notice(`Downloading '${e}' language file...`,0);try{let c=await(0,g3.requestUrl)({url:i});return await t.app.vault.adapter.mkdir(r).catch(()=>{}),await t.app.vault.adapter.write(n,c.text),await t.app.vault.adapter.remove(o).catch(()=>{}),await t.app.vault.adapter.rename(n,o),l.hide(),new g3.Notice(`Language file '${e}.json' downloaded successfully!
Please reload Obsidian to apply changes.`,0),!0}catch(c){return l.hide(),$.showNotice(44,`You have selected the following language for Obsidian application : ${bc[e]} - ${e}.
Based on the error message below, either your internet is OFF or the language translation file is not present at the following link : https://github.com/tu2-atmanand/Task-Board/main/src/utils/lang/locale/. 
It would be really helpful if you can contribute for your native language translation by visiting the following link : https://tu2-atmanand.github.io/task-board-docs/docs/Advanced/Contribution_For_Languages/`,c,"helper.ts/downloadAndApplyLanguageFile"),!1}}var g3,Yh,t2=g1(()=>{"use strict";g3=require("obsidian");mc();Gh();m6();Kt();Y1();Yh=async t=>{let e=(0,g3.getLanguage)();if(await S4.init({lng:e,fallbackLng:"en",resources:{en:{translation:Pr}},interpolation:{escapeValue:!1},returnEmptyString:!1,returnNull:!1}),t.isI18nInitialized=!0,e!=="en"&&e in bc)try{let a=`${t.app.vault.configDir}/plugins/task-board/`,r=(0,g3.normalizePath)(`${a}/locales/${e}.json`),o=await t.app.vault.adapter.read(r),n=JSON.parse(o);S4.addResourceBundle(e,"translation",n,!0,!0)}catch(a){$.addToLogs(104,String(a),"lang/helper.ts/loadTranslationsOnStartup")}}});var Qt,m3,KN,j5,QN,W5,t3,F3,K3=g1(()=>{"use strict";t2();V2();Qt={0:"0",1:"\u{1F53A}",2:"\u23EB",3:"\u{1F53C}",4:"\u{1F53D}",5:"\u23EC"},m3=()=>[{value:0,text:"0 - "+p("none")},{value:1,text:"1 - "+p("highest")+" : \u{1F53A}"},{value:2,text:"2 - "+p("high")+" : \u23EB"},{value:3,text:"3 - "+p("medium")+" : \u{1F53C}"},{value:4,text:"4 - "+p("low")+" : \u{1F53D}"},{value:5,text:"5 - "+p("lowest")+" : \u23EC"}],KN=m3(),j5=t=>t.map(({symbol:e,name:a})=>({value:e,name:a,text:`${a} : [${e}]`})),QN=[{value:" ",text:"Unchecked [ ]"},{value:"x",text:"Regular [x]"},{value:"X",text:"Checked [X]"},{value:"-",text:"Dropped [-]"},{value:">",text:"Forward [>]"},{value:"<",text:"Migrated [<]"},{value:"D",text:"Date [D]"},{value:"?",text:"Question [?]"},{value:"/",text:"In progress [/]"},{value:"+",text:"Add [+]"},{value:"R",text:"Research [R]"},{value:"!",text:"Important [!]"},{value:"i",text:"Idea [i]"},{value:"B",text:"Brainstorm [B]"},{value:"P",text:"Pro [P]"},{value:"C",text:"Con [C]"},{value:"Q",text:"Quote [Q]"},{value:"N",text:"Note [N]"},{value:"b",text:"Bookmark [b]"},{value:"I",text:"Information [I]"},{value:"p",text:"Paraphrase [p]"},{value:"L",text:"Location [L]"},{value:"E",text:"Example [E]"},{value:"A",text:"Answer [A]"},{value:"r",text:"Reward [r]"},{value:"c",text:"Choice [c]"},{value:"d",text:"Doing [d]"},{value:"T",text:"Time [T]"},{value:"@",text:"Character [@]"},{value:"t",text:"Talk [t]"},{value:"O",text:"Outline [o]"},{value:"~",text:"Conflict [~]"},{value:"W",text:"World [W]"},{value:"f",text:"Find [f]"},{value:"F",text:"Foreshadow [F]"},{value:"H",text:"Favorite [H]"},{value:"&",text:"Symbolism [&]"},{value:"s",text:"Secret [s]"}],W5={id:"",legacyId:"",title:"",body:[],createdDate:"",startDate:"",scheduledDate:"",due:"",tags:[],frontmatterTags:[],time:"",priority:0,reminder:"",completion:"",cancelledDate:"",filePath:"",taskLocation:{startLine:0,startCharIndex:0,endLine:0,endCharIndex:0},status:" "},t3={id:"ID",title:"Title",body:"Body",status:"Status",priority:"Priority",tags:"Tags",time:"Time",reminder:"Reminder",createdDate:"Created date",startDate:"Start date",scheduledDate:"Scheduled date",due:"Due date",dependsOn:"Depends on",frontmatterTags:"Frontmatter tags",completion:"Completed date",cancelledDate:"Cancelled date",filePath:"Source file",taskLocation:"Task location",dateModified:"Last modified"},F3={undated:"Undated",dated:"Dated",namedTag:"Tagged",untagged:"Untagged",otherTags:"Other Tags",taskStatus:"Status",taskPriority:"Priority",pathFiltered:"Path filtered",completed:"Completed",allPending:"All pending tasks"}});var Q3,bc,m6=g1(()=>{"use strict";M0();V2();K3();Q3={version:"",data:{boardConfigs:[{columns:[{id:1851955511,colType:"undated",active:!0,collapsed:!1,name:"Undated Tasks",index:1,datedBasedColumn:{dateType:"due",from:0,to:0}},{id:1851955512,colType:"dated",active:!0,collapsed:!1,name:"Over Due",index:2,datedBasedColumn:{dateType:"due",from:-300,to:-1}},{id:1851955513,colType:"dated",active:!0,collapsed:!1,name:"Today",index:3,datedBasedColumn:{dateType:"due",from:0,to:0}},{id:1851955514,colType:"dated",active:!0,collapsed:!1,name:"Tomorrow",index:4,datedBasedColumn:{dateType:"due",from:1,to:1}},{id:1851955515,colType:"dated",active:!0,collapsed:!1,name:"Future",index:5,datedBasedColumn:{dateType:"due",from:2,to:300}},{id:1851955516,colType:"completed",active:!0,collapsed:!1,limit:20,name:"Completed",index:6}],name:"Time Based Workflow",index:0,showColumnTags:!1,showFilteredTags:!0,hideEmptyColumns:!1,boardFilter:{rootCondition:"any",filterGroups:[]},swimlanes:{enabled:!1,hideEmptySwimlanes:!1,property:"tags",sortCriteria:"asc",minimized:[],maxHeight:"300px",verticalHeaderUI:!1}},{columns:[{id:1851955517,colType:"untagged",active:!0,collapsed:!1,name:"Backlogs",index:1},{id:1851955518,colType:"namedTag",active:!0,collapsed:!1,name:"Important",index:2,coltag:"important"},{id:1851955519,colType:"namedTag",active:!0,collapsed:!1,name:"WIP",index:3,coltag:"wip"},{id:1851955520,colType:"namedTag",active:!0,collapsed:!1,name:"In Review",index:5,coltag:"review"},{id:1851955521,colType:"completed",active:!0,collapsed:!1,index:6,limit:20,name:"Completed"}],name:"Tag Based Workflow",index:1,showColumnTags:!1,showFilteredTags:!0,hideEmptyColumns:!1,boardFilter:{rootCondition:"any",filterGroups:[]},swimlanes:{enabled:!1,hideEmptySwimlanes:!1,property:"tags",sortCriteria:"asc",minimized:[],maxHeight:"300px",verticalHeaderUI:!1}},{columns:[{id:1851955522,colType:"taskStatus",taskStatus:" ",active:!0,collapsed:!1,name:"Backlogs",index:1},{id:1851955523,colType:"taskStatus",taskStatus:"<",active:!0,collapsed:!1,name:"Ready to start",index:2},{id:1851955524,colType:"taskStatus",taskStatus:"/",active:!0,collapsed:!1,name:"In Progress",index:3},{id:1851955525,colType:"taskStatus",taskStatus:"?",active:!0,collapsed:!1,name:"In Review",index:5},{id:1851955526,colType:"completed",active:!0,collapsed:!1,index:6,limit:20,name:"Completed"},{id:1851955527,colType:"taskStatus",taskStatus:"-",active:!0,collapsed:!1,name:"Cancelled",index:7}],name:"Status Based Workflow",index:2,showColumnTags:!1,showFilteredTags:!0,hideEmptyColumns:!1,boardFilter:{rootCondition:"any",filterGroups:[]},swimlanes:{enabled:!1,hideEmptySwimlanes:!1,property:"tags",sortCriteria:"asc",minimized:[],maxHeight:"300px",verticalHeaderUI:!1}}],globalSettings:{lang:"en",openOnStartup:!1,scanFilters:{files:{polarity:3,values:[]},folders:{polarity:3,values:[]},frontMatter:{polarity:3,values:[]},tags:{polarity:3,values:[]}},firstDayOfWeek:"Mon",showTaskWithoutMetadata:!0,ignoreFileNameDates:!1,taskPropertyFormat:"2",taskCompletionDateTimePattern:F2.dateTimeFormat,dailyNotesPluginComp:!1,universalDateFormat:F2.dateFormat,defaultStartTime:"",taskCompletionInLocalTime:!0,taskCompletionShowUtcOffset:!1,autoAddUniversalDate:!0,autoAddCreatedDate:!1,autoAddCompletedDate:!1,autoAddCancelledDate:!1,showModifiedFilesNotice:!0,scanMode:"automatic",columnWidth:"300px",visiblePropertiesList:["checkbox","id","title","subTasksMinimized","descriptionMinimized","status","tags","time","reminder","priority","createdDate","startDate","scheduledDate","dueDate","completionDate","cancelledDate","dependsOn","filePath"],taskCardStyle:"emoji",showVerticalScroll:!0,tagColors:[{name:"bug",color:"rgba(255, 0, 0, 0.55)",priority:1},{name:"important",color:"rgba(246, 255, 0, 0.53)",priority:2},{name:"wip",color:"rgba(0, 255, 0, 0.53)",priority:2},{name:"review",color:"rgba(0, 0, 255, 0.49)",priority:3}],editButtonAction:"popUp",doubleClickCardToEdit:"none",universalDate:"due",tagColorsType:"text",customStatuses:[{symbol:" ",name:"Todo",nextStatusSymbol:"x",availableAsCommand:!1,type:"TODO"},{symbol:"<",name:"Ready to start",nextStatusSymbol:"x",availableAsCommand:!1,type:"TODO"},{symbol:"?",name:"In Review",nextStatusSymbol:"x",availableAsCommand:!1,type:"TODO"},{symbol:"/",name:"In Progress",nextStatusSymbol:"x",availableAsCommand:!0,type:"IN_PROGRESS"},{symbol:"x",name:"Done",nextStatusSymbol:" ",availableAsCommand:!0,type:"DONE"},{symbol:"X",name:"Completed",nextStatusSymbol:" ",availableAsCommand:!0,type:"DONE"},{symbol:"-",name:"Cancelled",nextStatusSymbol:"x",availableAsCommand:!0,type:"CANCELLED"}],compatiblePlugins:{dailyNotesPlugin:!1,dayPlannerPlugin:!1,tasksPlugin:!1,reminderPlugin:!1,quickAddPlugin:!1},taskNoteIdentifierTag:"taskNote",preDefinedNote:"Meta/Task_Board/New_Tasks.md",archivedTasksFilePath:"",taskNoteDefaultLocation:"Meta/Task_Board/Task_Notes",archivedTBNotesFolderPath:"Meta/Task_Board/Archived_Task_Notes",quickAddPluginDefaultChoice:"",frontmatterFormatting:[{index:0,property:t3.id,key:"id",taskItemKey:"id"},{index:1,property:t3.title,key:"title",taskItemKey:"title"},{index:2,property:t3.status,key:"status",taskItemKey:"status"},{index:3,property:t3.priority,key:"priority",taskItemKey:"priority"},{index:4,property:t3.tags,key:"tags",taskItemKey:"tags"},{index:5,property:t3.time,key:"time",taskItemKey:"time"},{index:6,property:t3.reminder,key:"reminder",taskItemKey:"reminder"},{index:7,property:t3.createdDate,key:"created-date",taskItemKey:"createdDate"},{index:8,property:t3.startDate,key:"start-date",taskItemKey:"startDate"},{index:9,property:t3.scheduledDate,key:"scheduled-date",taskItemKey:"scheduledDate"},{index:10,property:t3.due,key:"due-date",taskItemKey:"due"},{index:11,property:t3.dependsOn,key:"depends-on",taskItemKey:"dependsOn"},{index:12,property:t3.completion,key:"cancelled-date",taskItemKey:"cancelledDate"},{index:13,property:t3.completionDate,key:"completed-date",taskItemKey:"completionDate"}],showFrontmatterTagsOnCards:!1,tasksCacheFilePath:"",notificationService:"none",actions:[{enabled:!0,trigger:"Complete",type:"move",targetColumn:"Completed"}],hiddenTaskProperties:[],autoAddUniqueID:!1,uniqueIdCounter:0,experimentalFeatures:!1,safeGuardFeature:!0,lastViewHistory:{viewedType:"kanban",boardIndex:0,settingTab:0},boundTaskCompletionToChildTasks:!1,mapView:{background:"none",mapOrientation:"hor",optimizedRender:!1,arrowDirection:"c2p",animatedEdges:!0,scrollAction:"zoom",showMinimap:!0,renderVisibleNodes:!1,edgeType:"default"}}}},bc={en:"English",ar:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",cs:"\u010De\u0161tina",da:"Dansk",de:"Deutsch",es:"Espa\xF1ol",fr:"fran\xE7ais",hi:"\u0939\u093F\u0928\u094D\u0926\u0940",id:"Bahasa Indonesia",it:"Italiano",ja:"\u65E5\u672C\u8A9E",ko:"\uD55C\uAD6D\uC5B4",nl:"Nederlands",no:"Norsk",pl:"j\u0119zyk polski",pt:"Portugu\xEAs",ro:"Rom\xE2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",sq:"Shqip",tr:"T\xFCrk\xE7e",uk:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430","pt-BR":"Portugues do Brasil",zh:"\u7B80\u4F53\u4E2D\u6587","zh-TW":"\u7E41\u9AD4\u4E2D\u6587"}});function C6(t,e){let{customStatuses:a}=t.settings.data.globalSettings;if((a==null?void 0:a.length)>0){let r=a.find(o=>o.symbol===e);if(r){let o=a.find(n=>n.symbol===(r==null?void 0:r.nextStatusSymbol));if(o)return{newSymbol:r.nextStatusSymbol,newSymbolType:o==null?void 0:o.type}}}return new op.Notice("customStatuses is not available or empty. Please check your settings. Falling back to default behavior."),e==="x"||e==="X"?{newSymbol:" ",newSymbolType:"TODO"}:{newSymbol:"x",newSymbolType:"DONE"}}function Y2(t,e,a){if(e){let r=a.data.globalSettings.customStatuses,o=!1;return r.some(n=>{if(n.symbol===t&&(n.type==="DONE"||n.type==="CANCELLED"))return o=!0,!0}),o}else{let r=" ";t.trim().length===1?r=t:r=x6(t);let o=a.data.globalSettings.customStatuses,n=!1;return o.some(i=>{if(i.symbol===r&&(i.type==="DONE"||i.type==="CANCELLED"))return n=!0,!0}),n}}function m4(t){t=t.trim();let e=t.match(F2.taskRegex);return e!==null&&e.length>0&&e[0].trim().length>0}function x6(t){let e=t.match(/\[(.)\]/);return!e||e.length<2?" ":e[1]}function L6(t){try{if(t.app.vault.config){t.app;let e=t.app.vault.config.tabSize||4;return t.app.vault.config.useTab?"	":" ".repeat(e)}return"	"}catch(e){try{let a=`${t.app.vault.configDir}/app.json`;return t.app.vault.adapter.read(a).then(r=>{let o=JSON.parse(r||"{}"),n=typeof(o==null?void 0:o.tabSize)=="number"?o.tabSize:4;return o!=null&&o.useTab?"	":" ".repeat(n)}),"	"}catch(a){return $.addToLogs(108,String(a),"CheckBoxUtils.ts/getObsidianIndentationSetting"),"	"}}}var op,Jt=g1(()=>{"use strict";op=require("obsidian");V2();Y1();M0()});var $r,np,vH,kc,CH,ip,Vc,Tc,Y5=g1(()=>{"use strict";Y1();$r=async t=>{try{return await t.loadSettings(),t.settings.data.boardConfigs||[]}catch(e){throw $.showNotice(69,"Failed to load board configurations from data.json",String(e),"JsonFileOperations.ts/loadBoardsData"),e}},np=async(t,e)=>{try{await t.loadSettings(),t.settings.data.boardConfigs=e,await t.saveSettings()}catch(a){throw $.showNotice(70,"Failed to save board configurations to data.json",String(a),"JsonFileOperations.ts/saveBoardsData"),a}},vH=async t=>{try{return t.vaultScanner.tasksCache}catch(e){return $.showNotice(71,"Failed to load tasks from tasks.json",String(e),"JsonFileOperations.ts/loadJsonCacheData"),{VaultName:t.app.vault.getName(),Modified_at:"INVALID",Pending:{},Completed:{}}}},kc=async t=>{try{let e=`${t.app.vault.configDir}/plugins/task-board/tasks.json`;t.settings.data.globalSettings.tasksCacheFilePath!==""&&(e=t.settings.data.globalSettings.tasksCacheFilePath);let a=await t.app.vault.adapter.read(e);return JSON.parse(a)}catch(e){throw $.addToLogs(159,`No need to worry if this is shown on a fresh install.
${String(e)}`,"TaskNoteUtils.ts/updateFrontmatterInMarkdownFile"),e}},CH=async(t,e,a,r=3,o=1e3)=>{for(let n=1;n<=r;n++)try{await t.app.vault.adapter.write(e,a);return}catch(i){let l=String(i),c=l.toLowerCase().includes("timeout")||l.toLowerCase().includes("timed out");if(n===r||!c)throw i;let s=o*Math.pow(2,n-1);$.addToLogs(177,`File write timeout due to following error: ${String(i)}....retrying again...`,"TaskItemEventHandlers.ts/writeFileWithRetry"),await new Promise(d=>setTimeout(d,s))}},ip=async(t,e)=>{try{let a=`${t.app.vault.configDir}/plugins/task-board/tasks.json`;return t.settings.data.globalSettings.tasksCacheFilePath!==""&&(a=t.settings.data.globalSettings.tasksCacheFilePath),await CH(t,a,JSON.stringify(e,null,4)),!0}catch(a){let r=String(a),o=r.toLowerCase().includes("timeout")||r.toLowerCase().includes("timed out"),n=o?"Failed to write tasks to tasks.json file due to file system timeout. This may occur when using external drives that go idle. The operation was retried but still failed.":"Failed to write tasks to tasks.json file. Or failed to create the a new file. Maybe write permission is not granted.";return o||$.showNotice(72,n,r,"JsonFileOperations.ts/writeJsonCacheDataFromDisk"),!1}},Vc=(t,e,a)=>new Promise(async(r,o)=>{if(e===a||a!==""&&a.endsWith(".json")===!1||e!==""&&e.endsWith(".json")===!1)return r(!0),!0;let n=a.split("/");if(n.length>1){let i=n.slice(0,-1).join("/").trim();await t.vault.adapter.exists(i)||await t.vault.createFolder(i)}a===""&&(a=`${t.vault.configDir}/plugins/task-board/tasks.json`),e===""&&(e=`${t.vault.configDir}/plugins/task-board/tasks.json`),t.vault.adapter.rename(e,a).then(()=>r(!0)).catch(i=>($.showNotice(73,"Failed to move tasks.json file to new path",String(i),"JsonFileOperations.ts/moveTasksCacheFileToNewPath"),o(i),!1))}),Tc=async(t,e)=>{try{let a;e?a=await kc(t):a=await vH(t);let r=n=>Object.entries(n||{}).flatMap(([i,l])=>l.map(c=>({...c,filePath:i})));return{Pending:r(a.Pending),Completed:r(a.Completed)}}catch(a){throw $.addToLogs(74,String(a),"JsonFileOperations.ts/loadTasksAndMerge"),a}}});function It(){let t=new Uint32Array(1);return crypto.getRandomValues(t),String(t[0])}function e0(){let t=new Uint32Array(1);return crypto.getRandomValues(t),t[0]}function b0(t){return t.settings.data.globalSettings.uniqueIdCounter=t.settings.data.globalSettings.uniqueIdCounter+1||0,t.saveSettings(),String(t.settings.data.globalSettings.uniqueIdCounter)}var X5,t0,G7,H4=g1(()=>{"use strict";y6();A3();K5();Y1();X5=t=>{let e=t.tags||[],a=t.frontmatterTags||[];return[...e,...a]},t0=async(t,e)=>{var a,r,o,n;try{let i,l=(r=(a=t.vaultScanner.tasksCache)==null?void 0:a.Pending)!=null?r:{};for(let s of Object.values(l))if(e&&(i=s.find(d=>d.legacyId===e||d.id===e)),i)return i;let c=(n=(o=t.vaultScanner.tasksCache)==null?void 0:o.Completed)!=null?n:{};for(let s of Object.values(c))if(e&&(i=s.find(d=>d.legacyId===e||d.id===e)),i)return i;return null}catch(i){return $.showNotice(82,"Error retrieving task from tasksCache using ID",String(i),"TaskItemUtils.ts/getTaskFromId"),null}};G7=async(t,e)=>{if(C2(t.settings.data.globalSettings.taskNoteIdentifierTag,e.tags)){let a;return e.legacyId===""&&(a=b0(t),e.legacyId=a),v4(t,e,!0),a}else return j7(e.title)!==""?void 0:await i4(t,e,e,!0)}});function jr(t,e){var a;try{return(a=t.app.metadataCache.getFileCache(e))==null?void 0:a.frontmatter}catch(r){return}}function Wr(t,e){if(!e.startsWith(`---
`))return;let a=e.indexOf(`
---
`,4);if(a===-1)return;let r=e.substring(4,a);try{return(0,Gr.parseYaml)(r)}catch(o){$.addToLogs(107,String(o),"TaskContentFormatter.ts/sanitizeStatus");return}}function lp(t){if(!t)return[];let e=[];return t.tags&&(Array.isArray(t.tags)?e=t.tags.map(a=>{let r=String(a).trim();return r.startsWith("#")?r:`#${r}`}):typeof t.tags=="string"&&(e=t.tags.split(",").map(a=>{let r=a.trim();return r.startsWith("#")?r:`#${r}`}).filter(a=>a.length>1))),e}function xH(t,e,a){let r={},o=new Set(e.map(i=>i.key)),n=[...e].sort((i,l)=>i.index-l.index);for(let i of n){let l=i.key;l in t&&(r[l]=t[l])}for(let[i,l]of Object.entries(t))!(i in r)&&!o.has(i)&&(r[i]=l);if(a)for(let[i,l]of Object.entries(a))i!=="index__"&&(i in r||(r[i]=l));return r}function Ic(t,e,a,r){let o=t.settings.data.globalSettings.frontmatterFormatting,n=e,i={};a.title?i[g2("title",o)]=a.title:i[g2("title",o)]="";let l=g2("tags",o),c=e==null?void 0:e[l],s=[];Array.isArray(c)?s=c.map(N=>String(N).replace("#","").trim()).filter(Boolean):typeof c=="string"&&c.replace("#","").trim().length&&(s=c.split(",").map(N=>N.replace("#","").trim()).filter(Boolean));let d=a.tags.map(N=>String(N).replace("#","").trim()).filter(Boolean),u=t.settings.data.globalSettings.taskNoteIdentifierTag;s=s.filter(N=>d.includes(N));let f=[...d,...s];f=f.some(N=>N.replace("#","").toLowerCase()===u.toLowerCase())?f:[...f,u],i[l]=Array.from(new Set(f.map(N=>String(N).trim()).filter(Boolean)));let m=g2("id",o);e!=null&&e[m]?i[m]=e[m]:(r||t.settings.data.globalSettings.autoAddUniqueID)&&(i[m]=a.legacyId?a.legacyId:b0(t));let x=g2("status",o);if(a.status){let N=M6(a.status,t.settings.data.globalSettings);i[x]=N!=null?N:`"${a.status}"`}let L=g2("time",o);a.time?i[L]=a.time:(delete i[L],n==null||delete n[L]);let g=g2("createdDate",o);a.createdDate?i[g]=a.createdDate:(delete i[g],n==null||delete n[g]);let C=g2("startDate",o);a.startDate?i[C]=a.startDate:(delete i[C],n==null||delete n[C]);let v=g2("scheduledDate",o);a.scheduledDate?i[v]=a.scheduledDate:(delete i[v],n==null||delete n[v]);let y=g2("due",o);a.due?i[y]=a.due:(delete i[y],n==null||delete n[y]);let b=t.settings.data.globalSettings.customStatuses.find(N=>N.symbol===a.status),V=b?b.type:void 0,H=g2("cancelledDate",o);if(V==="CANCELLED")if(a.cancelledDate)i[H]=a.cancelledDate;else{let N=t.settings.data.globalSettings,M=(0,Bc.moment)().format(N==null?void 0:N.taskCompletionDateTimePattern);i[H]=M}else delete i[H],n==null||delete n[H];let D=g2("completion",o);if(V==="DONE")if(a.cancelledDate)i[D]=a.completion;else{let N=t.settings.data.globalSettings,M=(0,Bc.moment)().format(N==null?void 0:N.taskCompletionDateTimePattern);i[D]=M}else delete i[D],n==null||delete n[D];let A=g2("priority",o);a.priority&&a.priority>0?i[A]=sp(a.priority)||"":(delete i[A],n==null||delete n[A]);let E=g2("reminder",o);a!=null&&a.reminder?i[E]=a.reminder:(delete i[E],n==null||delete n[E]);let O=g2("dependsOn",o);return a!=null&&a.dependsOn&&a.dependsOn.length>0?i[O]=a.dependsOn:(delete i[O],n==null||delete n[O]),xH(i,o,n)}function cp(t){return(0,Gr.stringifyYaml)(t)}var Gr,Bc,W7=g1(()=>{"use strict";Gr=require("obsidian");A3();H4();V2();Bc=require("obsidian");Y1()});function dp(t,e){if(!e||!e.tags)return!1;let a=[];return Array.isArray(e.tags)?a=e.tags.map(r=>String(r).trim()):typeof e.tags=="string"&&(a=e.tags.split(",").map(r=>r.trim())),C2(t,a)}function C2(t,e){return e?e.some(a=>a.toLowerCase().includes(t.toLowerCase())):!1}function up(t,e,a){if(!t)return{};let r=a.data.globalSettings.frontmatterFormatting;return{id:t[g2("id",r)]||"",title:t[g2("title",r)]||"",tags:Array.isArray(t[g2("tags",r)])?t[g2("tags",r)]:typeof t[g2("tags",r)]=="string"?t[g2("tags",r)].split(",").map(o=>o.trim()):[],time:t[g2("time",r)]||"",createdDate:t[g2("createdDate",r)]||"",startDate:t[g2("startDate",r)]||"",scheduledDate:t[g2("scheduledDate",r)]||"",due:t[g2("due",r)]||"",cancelledDate:t[g2("cancelledDate",r)]||"",completion:t[g2("icompletiond",r)]||"",priority:LH(t[g2("priority",r)]),status:yH(t[g2("status",r)],a),dependsOn:t[g2("dependsOn",r)]||[],reminder:t[g2("reminder",r)]||"",filePath:e}}function LH(t){if(!t)return 0;switch(String(t).trim().toLowerCase()){case"highest":return 1;case"high":return 2;case"medium":return 3;case"low":return 4;case"lowest":return 5;default:return 0}}function sp(t){return{0:"None",1:"highest",2:"high",3:"medium",4:"low",5:"lowest"}[t]||"URGENT"}function g2(t,e){let a=e.find(r=>r.taskItemKey===t);return(a==null?void 0:a.key)||t}function yH(t,e){if(!t)return" ";let a=e.data.globalSettings.customStatuses,r="";return a.some(o=>{if(o.name===t)return r=o.symbol,!0}),r}function M6(t,e){if(!t)return"pending";if(e){let r=e.customStatuses,o="";return r.some(n=>{if(n.symbol===t)return o=n.name,!0}),o}let a={};for(let[r,o]of Object.entries(N7))a[o]=r;return a[t]||"pending"}function fp(t,e,a){try{let r=Wr(t,a),o=Ic(t,r,e),n=cp(o),i=a.match(/^---\n([\s\S]*?)\n---/),l=i?a.replace(i[0],""):a;return{newContent:`---
${n}---${l||""}`,newFrontmatter:n,contentWithoutFrontmatter:l}}catch(r){return $.addToLogs(157,String(r),"TaskNoteUtils.ts/formatTaskNoteContent"),{newContent:"",newFrontmatter:"",contentWithoutFrontmatter:""}}}async function v4(t,e,a){try{let r=t.app.vault.getFileByPath(e.filePath);if(!r)throw new Error(`File not found: ${e.filePath}`);await t.app.fileManager.processFrontMatter(r,o=>{let n=Ic(t,o,e,a);for(let i of Object.keys(n))o[i]=n[i]});return}catch(r){throw $.addToLogs(158,String(r),"TaskNoteUtils.ts/updateFrontmatterInMarkdownFile"),r}}async function hp(t,e){try{let a=t.app.vault.getFileByPath(e);if(!a){$.showNotice(64,"There was an issue while deleting the task note.",`File not found at path: ${e}`,"deleteTaskNote");return}await t.app.vault.trash(a,!0),new S0.Notice(`Task note deleted: ${a.name}`)}catch(a){throw $.showNotice(65,"There was an issue while deleting the task note.",String(a),"deleteTaskNote"),a}}async function pp(t,e){try{let a=t.app.vault.getFileByPath(e);if(!a){$.showNotice(66,"There was an issue while archiving the task note.",`File not found at path: ${e}`,"archiveTaskNote");return}let r=t.settings.data.globalSettings.archivedTBNotesFolderPath;if(!r||r.trim()===""){new S0.Notice("Archive folder path is not configured in settings");return}let o=(0,S0.normalizePath)(r);await t.app.vault.adapter.exists(o)||await t.app.vault.createFolder(o);let n=(0,S0.normalizePath)(`${o}/${a.name}`);if(await t.app.vault.adapter.exists(n)){let i=new Date().getTime(),l=a.basename,c=a.extension,s=(0,S0.normalizePath)(`${o}/${l}-${i}.${c}`);await t.app.vault.rename(a,s),new S0.Notice(`Task note archived as: ${l}-${i}.${c}`)}else await t.app.vault.rename(a,n),new S0.Notice(`Task note archived: ${a.name}`);t.vaultScanner.tasksCache.Pending[e]&&delete t.vaultScanner.tasksCache.Pending[e],t.vaultScanner.tasksCache.Completed[e]&&delete t.vaultScanner.tasksCache.Completed[e]}catch(a){$.showNotice(67,"There was an issue while archiving the task note.",String(a),"archiveTaskNote")}}var S0,A3=g1(()=>{"use strict";W7();S0=require("obsidian");V2();Y1()});var Fc,b1,C4=g1(()=>{"use strict";Fc=class{constructor(){this.events={}}on(e,a){this.events[e]||(this.events[e]=[]),this.events[e].push(a)}emit(e,a){this.events[e]&&this.events[e].forEach(r=>r(a))}off(e,a){this.events[e]&&(this.events[e]=this.events[e].filter(r=>r!==a))}},b1=new Fc});var Ac,J3,v3,Ae=g1(()=>{"use strict";Ac=require("obsidian");Y1();J3=async(t,e)=>{try{let a=t.app.vault.getAbstractFileByPath(e);if(a&&a instanceof Ac.TFile)return await t.app.vault.cachedRead(a);throw $.showNotice(75,"File not found in vault.",`File not found at path: ${e}`,"MarkdownFileOperations.ts/readDataOfVaultFile"),`File not found at path: ${e}`}catch(a){return $.showNotice(76,`Error reading data from vault file. Couldnt able to read the following file : ${e}`,String(a),"MarkdownFileOperations.ts/readDataOfVaultFile"),null}},v3=async(t,e,a)=>{try{let r=t.app.vault.getAbstractFileByPath(e);if(r&&r instanceof Ac.TFile)await t.app.vault.modify(r,a);else throw $.addToLogs(160,`File not found at path.
Path: ${e}`,"MarkdownFileOperations.ts/writeDataToVaultFile"),`File not found at path: ${e}`;return}catch(r){$.showNotice(77,`Error writing to file in vault. Make sure the following file exists : ${e}`,String(r),"MarkdownFileOperations.ts/writeDataToVaultFile")}}});var K1,Yr=g1(()=>{"use strict";K1={TaskFormatRegularExpr:{priorityRegex:/\[priority::\s*(\d+)\]/,startDateRegex:/\[start::\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})\]/,createdDateRegex:/\[created::\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})\]/,scheduledDateRegex:/\[scheduled::\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})\]/,dueDateRegex:/\[due::\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})\]/,doneDateRegex:/\[completion::\s*(.*?)\]/,cancelledDateRegex:/\[cancelled::\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})\]/,recurrenceRegex:/\[recurring::\s*(.*?)\]/,onCompletionRegex:/\[onCompletion::\s*(.*?)\]/,dependsOnRegex:/\[dependsOn::\s*(.*?)\]/,idRegex:/\[id::\s*(.*?)\]/,timeRegex:/\[time::\s*(.*?)\]/,reminderRegex:/\[reminder::\s*(.*?)\]/},TaskFormatRegularExprGlobal:{priorityRegex:/\[priority::\s*\d+\]/g,startDateRegex:/\[start::\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})\]/g,createdDateRegex:/\[created::\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})\]/g,scheduledDateRegex:/\[scheduled::\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})\]/g,dueDateRegex:/\[due::\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})\]/g,doneDateRegex:/\[completion::\s*(.*?)\]/g,cancelledDateRegex:/\[cancelled::\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})\]/g,recurrenceRegex:/\[recurring::.*?\]/g,onCompletionRegex:/\[onCompletion::.*?\]/g,dependsOnRegex:/\[dependsOn::\s*([^\]]+)\]/g,idRegex:/\[id::\s*(\d+)\s*\]/g,timeRegex:/\[time::.*?\]/g,reminderRegex:/\[reminder::.*?\]/g}}});var C3,w6=g1(()=>{"use strict";C3=/\.(md|qmd|mdx|markdown)$/i});function MH(t,e){let a=e.files.values.some(r=>{if(r.startsWith("/")&&r.endsWith("/"))try{let o=r.slice(1,-1);return new RegExp(o).test(t)}catch(o){return!1}else return r===t});if(a&&e.files.polarity===1)return!0;if(a&&e.files.polarity===2)return!1}function wH(t,e,a){let r=jr(t,e);if(!r)return;let o=Object.keys(r).some(n=>{let i=a.frontMatter.values.find(l=>l.includes(`"${n}":`));if(i){let l=i.match(/"[^"]+":\s*([^,\]]+)/);if(l){let c=l[1].trim(),s=r[n];return Array.isArray(s)?s.includes(c):s===c}}return!1});if(o&&a.frontMatter.polarity===1)return!0;if(o&&a.frontMatter.polarity===2)return!1}function zH(t,e){let a=e.folders.values.includes(t);return!a&&t!==""&&(a=e.folders.values.some(r=>{if(r.startsWith("/")&&r.endsWith("/"))try{let o=r.slice(1,-1);return new RegExp(o).test(t)}catch(o){return!1}else return t===r||t.startsWith(r+"/")})),e.folders.polarity===1?!!a:e.folders.polarity===2?!a:e.files.polarity===1&&e.folders.polarity===1&&e.frontMatter.polarity===1?!1:(e.files.polarity===2&&e.folders.polarity===2&&e.frontMatter.polarity===2||e.files.polarity===1||e.folders.polarity===1||e.frontMatter.polarity===1||e.files.polarity===2||e.folders.polarity===2||e.frontMatter.polarity===2,!0)}function Xr(t,e,a){var n;if(a.files.polarity===3&&a.frontMatter.polarity===3&&a.folders.polarity===3)return!0;let r=e.path,o=((n=e.parent)==null?void 0:n.path)||"";if(a.files.polarity!==3&&a.files.values.length>0){let i=MH(r,a);if(i!==void 0)return i}if(a.frontMatter.polarity!==3&&a.frontMatter.values.length>0){let i=wH(t,e,a);if(i!==void 0)return i}if(a.folders.polarity!==3&&a.folders.values.length>0){let i=zH(o,a);if(i!==void 0)return i}return!0}function Dc(t,e){let a=e.tags.polarity;if(a===3)return!0;let r=t.some(n=>tt(e.tags.values,n)!==null);return!!(a===1&&r||a===2&&!r||a===3)}function tt(t,e){if(!t||!e)return null;let a=Array.isArray(t)?t:[t],r=Array.isArray(e)?e:[e],o=a.map(i=>{let l=i.toLowerCase().replace("#","");return l=l.replace(/[.+?^${}()|[\]\\]/g,"\\$&"),l=l.replace(/\\\*/g,".*").replace(/\*/g,".+"),l.startsWith(".+"),l="^"+l,l.endsWith(".+"),l=l+"$",new RegExp(l)}),n=r.filter(i=>o.some(l=>l.test(i.toLowerCase().replace("#",""))));return n.length>0?n:null}async function Kr(t,e){var o,n,i,l;if(!t.settings.data.globalSettings.boundTaskCompletionToChildTasks)return!0;let a=!0,r=((o=e.body)!=null?o:[]).filter(c=>m4(c));if(r.length>0&&(r.every(s=>Y2(s,!1,t.settings))||(a=!1)),e!=null&&e.dependsOn&&((i=(n=e==null?void 0:e.dependsOn)==null?void 0:n.length)!=null?i:0)>0)for(let c of(l=e==null?void 0:e.dependsOn)!=null?l:[]){let s=await t0(t,c);(!s||!(s.status==="X"||s.status==="x"))&&(a=!1)}return a}var z6=g1(()=>{"use strict";Jt();W7();H4()});function b6(t,e){let a=e.path.toLocaleLowerCase();return!(!C3.test(e.path)||t.archivedTBNotesFolderPath.trim()!==""&&a.startsWith(t.archivedTBNotesFolderPath.toLowerCase())||a===t.archivedTasksFilePath.toLowerCase())}function gp(t,e,a){let r=t.split(`
`),o=x6(r[0]),n=r[0],i=vp(r[0]),l=Cp(r[0]),c=xp(r[0]),s=Lp(r[0]),d=yp(r[0]),u=Jr(r[0]),f=Mp(r[0]),h=wp(r[0]),m=zp(r[0]),x=mp(r,1,e);return{title:n,status:o,body:x,time:i,createdDate:l,startDate:c,scheduledDate:s,due:d,tags:f,priority:u,completion:h,cancelledDate:m,filePath:a||""}}function j7(t){let e=t.match(v2.TaskFormatRegularExpressions.idRegex);return e&&e[1]||(e=t.match(K1.TaskFormatRegularExpr.idRegex),e&&e[1])||(e=t.match(/\@id\(\s*(.*?)\)/),e&&e[1])?e[1].trim():""}function mp(t,e,a){var i;let r=[],o=e,n=t[o-1];for(o;o<t.length;o++){let l=t[o],c=l.replace(/^>\s?/,"");if(c.trim()==="")break;let s=0;if(n.startsWith(a)){let d=n;for(;d.startsWith(a);)s++,d=d.slice(a.length);let u=a.repeat(s+1);if(!c.startsWith(u))return[]}if(c.startsWith(a)||c.startsWith("	"))r.push(l);else break}return((i=r.at(0))==null?void 0:i.trim())===""?[]:r}function vp(t){let e=t.match(/\[time::\s*(.*?)\]/);if(e||(e=t.match(/@time\((.*?)\)/),e)||(e=t.match(/\s*(\d{2}:\d{2}\s*-\s*\d{2}:\d{2})/),e))return e[1];let a=t.match(/^- \[.\]\s*(\d{2}:\d{2}\s*-\s*\d{2}:\d{2})/);if(a)return a[1];let r=t.match(/\s*\[(\d{2}:\d{2}\s*-\s*\d{2}:\d{2})\]/);return r?r[1]:""}function Cp(t){let e=t.match(/\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})/);return e||(e=t.match(K1.TaskFormatRegularExpr.createdDateRegex)),e||(e=t.match(/\@created\(\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})\)/)),e?e[1]:""}function xp(t){let e=t.match(/\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})/);return e||(e=t.match(K1.TaskFormatRegularExpr.startDateRegex)),e||(e=t.match(/\@start\(\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})\)/)),e?e[1]:""}function Lp(t){let e=t.match(/\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})/);return e||(e=t.match(K1.TaskFormatRegularExpr.scheduledDateRegex)),e||(e=t.match(/\@scheduled\(\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})\)/)),e?e[1]:""}function yp(t){let e=t.match(/\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})/);return e||(e=t.match(K1.TaskFormatRegularExpr.dueDateRegex)),e||(e=t.match(/\@due\(\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})\)/)),e?e[1]:""}function Jr(t){let a=(t.match(v2.TaskFormatRegularExpressions.priorityRegex)||[]).map(o=>o.trim()).filter(o=>o.length>0&&o!=="0");for(let o of a){let n=Object.entries(Qt).find(([,i])=>i===o);if(n)return parseInt(n[0])}let r=t.match(K1.TaskFormatRegularExpr.priorityRegex);return r||(r=t.match(/@priority\(\s*(\d{1,2})\s*\)/),r)?parseInt(r[1]):0}function Mp(t){t=t.replace(/<(mark|font).*?>/g,"");let e=t.match(F2.hashTagsRegex);return e?e.map(a=>a.trim()):[]}function bH(t,e,a,r){let o=t.match(/\[reminder::\s*(.*?)\]/);if(o||(o=t.match(/@reminder\(\s*(.*?)\s*\)/),o))return o[1].replace(" ","T").trim();if(o=t.match(/\(\@(\d{4}-\d{2}-\d{2}( \d{2}:\d{2})?)\)/),o){let n=o[1];if(n.includes(" ")){let[i,l]=n.split(" ");return`${i}T${l}`}else return`${n}T09:00`}if(o=t.match(/\(\@(\d{2}:\d{2})\)/),o){let n=e||a||r;if(n)return`${n}T${o[1]}`}return""}function Rc(t){let e=t.match(v2.TaskFormatRegularExpressions.dependsOnRegex);return e&&e[1]||(e=t.match(/\[dependsOn::\s*(.*?)\]/),e&&e[1])||(e=t.match(/\@dependsOn\(\s*(.*?)\s*\)/),e&&e[1])?e:null}function wp(t){let e=t.match(/\s*.*?(?=\s|$)/);return!e&&(e=t.match(K1.TaskFormatRegularExpr.doneDateRegex),e)?e?e[0].replace("[completion::","").replace("]","").trim():"":!e&&(e=t.match(/\@completion\(\s*(.*?)\s*\)/),e)?e?e[0].replace("@completion(","").replace(")","").trim():"":e?e[0].replace("\u2705","").trim():""}function zp(t){let e=t.match(v2.TaskFormatRegularExpressions.cancelledDateRegex);return e||(e=t.match(K1.TaskFormatRegularExpr.cancelledDateRegex)),e||(e=t.match(/\@cancelled\(\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})\)/)),e?e[1].trim():""}async function Qr(t,e){try{return!e&&!t?!0:e&&!t?e.length===0:t&&!e?t.length===0:t&&e&&t.length!==e.length?!1:t&&t.length===0?!0:JSON.stringify(t)===JSON.stringify(e)}catch(a){return $.addToLogs(147,String(a),"VaultScanner.ts/compareFileCache"),!1}}var Y7,X7,K5=g1(()=>{"use strict";Y7=require("obsidian");Jt();Y5();A3();C4();Ae();M0();Yr();W7();t2();w6();Bt();K3();V2();z6();H4();Y1();X7=class{constructor(e,a){var r;this.app=e,this.plugin=a,this.tasksCache={VaultName:(r=this.plugin.app)==null?void 0:r.vault.getName(),Modified_at:E4(),Pending:{},Completed:{}},this.tasksDetectedOrUpdated=!1,this.indentationString=L6(a)}async initializeTasksCache(){var e;try{this.tasksCache=await kc(this.plugin)}catch(a){$.addToLogs(145,`No need to worry if this is appearing on the fresh install.
${String(a)}`,"RealTimeScanner.ts/initializeTasksCache"),this.tasksCache={VaultName:(e=this.plugin)==null?void 0:e.app.vault.getName(),Modified_at:E4(),Pending:{},Completed:{}}}}async extractTasksFromFile(e,a){var r,o,n,i,l;try{let c=e.path,s=await J3(this.plugin,c);if(s==null)return"false";let d=s.split(`
`),u=this.tasksCache.Pending[c],f=this.tasksCache.Completed[c];this.tasksCache.Pending[c]=[],this.tasksCache.Completed[c]=[];let h=jr(this.plugin,e);if(h&&dp(this.plugin.settings.data.globalSettings.taskNoteIdentifierTag,h)){let m=up(h,c,this.plugin.settings);if(Dc((m==null?void 0:m.tags)||[],a)){this.tasksDetectedOrUpdated=!0;let L=s.replace(/^---[\s\S]*?---\n?/,"").split(`
`),g=[];for(let V=0;V<L.length;V++){let H=L[V];m4(H)&&g.push(H)}let C={id:m.id?m.id:It(),legacyId:m.id?m.id:"",title:m.title||e.basename,body:g,createdDate:m.createdDate||"",startDate:m.startDate||"",scheduledDate:m.scheduledDate||"",due:m.due||"",tags:m.tags||[],frontmatterTags:[],time:m.time||"",priority:m.priority||0,dependsOn:m.dependsOn||[],status:m.status||" ",filePath:c,taskLocation:{startLine:1,startCharIndex:0,endLine:d.length,endCharIndex:((r=d[d.length-1])==null?void 0:r.length)||0},completion:m.completion||"",cancelledDate:m.cancelledDate||"",reminder:m.reminder||""};if(Y2(m.status||"",!0,this.plugin.settings)){let V=this.tasksCache.Completed;V&&delete V[c],this.tasksCache.Completed={[c]:[C],...V||{}},this.tasksCache.Pending[c]&&delete this.tasksCache.Pending[c]}else{let V=this.tasksCache.Pending;V&&delete V[c],this.tasksCache.Pending={[c]:[C],...V},this.tasksCache.Completed[c]&&delete this.tasksCache.Completed[c]}let y=await Qr(this.tasksCache.Pending[c],u),b=await Qr(this.tasksCache.Completed[c],f);y&&b&&(this.tasksDetectedOrUpdated=!1)}return((o=this.tasksCache.Pending[c])==null?void 0:o.length)===0&&delete this.tasksCache.Pending[c],((n=this.tasksCache.Completed[c])==null?void 0:n.length)===0&&delete this.tasksCache.Completed[c],"true"}else{for(let L=0;L<d.length;L++){let g=d[L];if(m4(g)){let C=Mp(g);if(Dc(C,a)){this.tasksDetectedOrUpdated=!0;let v=j7(g),y=x6(g),b=Y2(g,!1,this.plugin.settings),V=g.trimEnd(),H=vp(g),D=Cp(g),A=xp(g),E=Lp(g),O=yp(g),_=Jr(g),N=Rc(g),w=bH(g,A,E,O),M=wp(g),z=zp(g),k=mp(d,L+1,this.indentationString);if(this.plugin.settings.data.globalSettings.dailyNotesPluginComp&&(this.plugin.settings.data.globalSettings.universalDate==="due"&&O===""||this.plugin.settings.data.globalSettings.universalDate==="startDate"&&A===""||this.plugin.settings.data.globalSettings.universalDate==="scheduledDate"&&E==="")){let R=this.plugin.settings.data.globalSettings.universalDateFormat,Z=e.basename;(0,Y7.moment)(Z,R,!0).isValid()&&(this.plugin.settings.data.globalSettings.universalDate==="due"?O=Z:this.plugin.settings.data.globalSettings.universalDate==="startDate"?A=Z:this.plugin.settings.data.globalSettings.universalDate==="scheduledDate"&&(E=Z))}let T=[];this.plugin.settings.data.globalSettings.showFrontmatterTagsOnCards&&(T=lp(h));let S={id:v||It(),legacyId:v,status:y,title:V,body:k,time:H,createdDate:D,startDate:A,scheduledDate:E,due:O,tags:C,frontmatterTags:T,priority:_,dependsOn:N?N[1].split(",").map(R=>R.trim()):[],filePath:c,taskLocation:{startLine:L+1,startCharIndex:0,endLine:L+1+k.length,endCharIndex:k.length>0?k[k.length-1].length:g.length},completion:M,cancelledDate:z,reminder:w};b?this.tasksCache.Completed[c].push(S):this.tasksCache.Pending[c].push(S),L=L+k.length}}}let m=await Qr(this.tasksCache.Pending[c],u),x=await Qr(this.tasksCache.Completed[c],f);if(m)this.tasksDetectedOrUpdated=!1;else{let L=this.tasksCache.Pending;if(L&&L[c]){let g=L[c];delete L[c],this.tasksCache.Pending={[c]:g,...L}}}return x||(this.tasksDetectedOrUpdated=!0),((i=this.tasksCache.Pending[c])==null?void 0:i.length)===0&&u&&(delete this.tasksCache.Pending[c],this.tasksDetectedOrUpdated=!0),((l=this.tasksCache.Completed[c])==null?void 0:l.length)===0&&f&&(delete this.tasksCache.Completed[c],this.tasksDetectedOrUpdated=!0),"true"}}catch(c){return $.addToLogs(146,String(c),"VaultScanner.ts/extractTasksFromFile"),"false"}}async refreshTasksFromFiles(e,a){if(!e||e.length===0)return!1;try{let r=this.plugin.settings.data.globalSettings.scanFilters,o="";for(let i of e)i!==null&&Xr(this.plugin,i,r)?o=await this.extractTasksFromFile(i,r):a&&new Y7.Notice(p("not-valid-file-type-for-scanning"),5e3);let n=!1;return o==="true"&&(a&&new Y7.Notice(p("tasks-refreshed-successfully")),this.tasksDetectedOrUpdated&&(n=await this.saveTasksToJsonCache())),n}catch(r){return $.showNotice(33,`There was an error while scanning tasks from the file(s): ${e.map(o=>o==null?void 0:o.path).join(`
`)}`,r,"VaultScanner.tsx/refreshTasksFromFiles"),!1}}async deleteCacheForFiles(e){let{Pending:a,Completed:r}=this.tasksCache;[a,r].forEach(o=>{o&&typeof o=="object"&&e.forEach(n=>{o[n]&&delete o[n]})}),this.tasksCache.Pending=a,this.tasksCache.Completed=r}async saveTasksToJsonCache(){this.tasksCache.Modified_at=E4();let e=await ip(this.plugin,this.tasksCache);return setTimeout(()=>{b1.emit("REFRESH_COLUMN")},100),this.tasksDetectedOrUpdated=!1,e}}});var Ec,N4,H0,K7,S6,Hp,to,eo,ao,bp,Sp,kp,Q7,k0,Vp,De,a0,e3=g1(()=>{"use strict";K5();M0();Yr();V2();K3();H4();Ec=require("obsidian");Y1();N4=async t=>{if(!t||!t.title)return"";let e=t.title.replace(/\[(.)\]/,`[${t.status}]`),a=t.body.map(o=>o).join(`
`);return`${e}${a.trim()?`
${a}`:""}`},H0=async(t,e,a)=>{let r=j7(e),o;if(!r&&t.settings.data.globalSettings.autoAddUniqueID||a)switch(o=b0(t),t.settings.data.globalSettings.taskPropertyFormat){case"2":case"1":e=e.replace(/^(.*?)(\n|$)/,`$1 \u{1F194} ${o} $2`);break;case"3":e=e.replace(/^(.*?)(\n|$)/,`$1 [id:: ${o}] $2`);break;case"4":e=e.replace(/^(.*?)(\n|$)/,`$1 @id(${o}) $2`);break;default:e=e.replace(/^(.*?)(\n|$)/,`$1 \u{1F194} ${o} $2`);break}return{formattedTaskContent:e,newId:o}},K7=t=>{if(!t||!t.title)return"";let e=t.title.replace(/\[(.)\]/,`[${t.status}]`),a=t.body.map(o=>o).join(`
`);return`${e}${a.trim()?`
${a}`:""}`},S6=(t,e,a,r)=>{let o=e.match(/\[(.)\]/),n=e;if(!o||o.length<2)return $.addToLogs(106,`Status symbol not found in the following oldTtitle : ${e}`,"TaskContentFormatter.ts/sanitizeStatus"),e;if(n=e.replace(o[0],`[${a}]`),r==="DONE"){let l=(0,Ec.moment)().format(t==null?void 0:t.taskCompletionDateTimePattern);n=bp(t,n,l)}else if(r==="CANCELLED"){let l=(0,Ec.moment)().format(t==null?void 0:t.taskCompletionDateTimePattern);n=Sp(t,n,l)}else n=Sp(t,n,""),n=bp(t,n,"");return n},Hp=(t,e,a,r)=>{let o=/\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})|\[created::\s*?\d{4}-\d{2}-\d{2}\]|@created\(\d{4}-\d{2}-\d{2}\)/,n=e.match(o);if(!a)return n?e.replace(n[0],"").trim():e;let i="";if(a&&((t==null?void 0:t.taskPropertyFormat)==="1"?i=a?`\u2795${a}`:"":(t==null?void 0:t.taskPropertyFormat)==="2"?i=a?`\u2795 ${a}`:"":(t==null?void 0:t.taskPropertyFormat)==="3"?i=a?`[created:: ${a}]`:"":i=a?`@created(${a})`:""),!n){if((r==null?void 0:r.lineNumber)===1){let c=e.slice(0,r.charIndex).trim()+" ",s=" "+e.slice(r.charIndex).trim();return`${c}${i}${s}`}return`${e} ${i}`}return n[0].includes(i)?e:e.replace(o,i)},to=(t,e,a,r)=>{let o=/\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})|\[start::\s*?\d{4}-\d{2}-\d{2}\]|@start\(\d{4}-\d{2}-\d{2}\)/,n=e.match(o);if(!a)return n?e.replace(n[0],"").trim():e;let i="";if(a&&((t==null?void 0:t.taskPropertyFormat)==="1"?i=a?`\u{1F6EB}${a}`:"":(t==null?void 0:t.taskPropertyFormat)==="2"?i=a?`\u{1F6EB} ${a}`:"":(t==null?void 0:t.taskPropertyFormat)==="3"?i=a?`[start:: ${a}]`:"":i=a?`@start(${a})`:""),!n){if((r==null?void 0:r.lineNumber)===1){let c=e.slice(0,r.charIndex).trim()+" ",s=" "+e.slice(r.charIndex).trim();return`${c}${i}${s}`}return`${e} ${i}`}return n[0].includes(i)?e:e.replace(o,i)},eo=(t,e,a,r)=>{let o=/\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})|\[scheduled::\s*?\d{4}-\d{2}-\d{2}\]|@scheduled\(\d{4}-\d{2}-\d{2}\)/,n=e.match(o);if(!a)return n?e.replace(n[0],"").trim():e;let i="";if(a&&((t==null?void 0:t.taskPropertyFormat)==="1"?i=a?`\u23F3${a}`:"":(t==null?void 0:t.taskPropertyFormat)==="2"?i=a?`\u23F3 ${a}`:"":(t==null?void 0:t.taskPropertyFormat)==="3"?i=a?`[scheduled:: ${a}]`:"":i=a?`@scheduled(${a})`:""),!n){if((r==null?void 0:r.lineNumber)===1){let c=e.slice(0,r.charIndex).trim()+" ",s=" "+e.slice(r.charIndex).trim();return`${c}${i}${s}`}return`${e} ${i}`}return n[0].includes(i)?e:e.replace(o,i)},ao=(t,e,a,r)=>{let o=/\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})|\[due::\s*?\d{4}-\d{2}-\d{2}\]|@due\(\d{4}-\d{2}-\d{2}\)/,n=e.match(o);if(!a)return n?e.replace(n[0],"").trim():e;let i="";if(a&&((t==null?void 0:t.taskPropertyFormat)==="1"?i=a?`\u{1F4C5}${a}`:"":(t==null?void 0:t.taskPropertyFormat)==="2"?i=a?`\u{1F4C5} ${a}`:"":(t==null?void 0:t.taskPropertyFormat)==="3"?i=a?`[due:: ${a}]`:"":i=a?`@due(${a})`:""),!n){if((r==null?void 0:r.lineNumber)===1){let c=e.slice(0,r.charIndex).trim()+" ",s=" "+e.slice(r.charIndex).trim();return`${c}${i}${s}`}return`${e} ${i}`}return n[0].includes(i)?e:e.replace(o,i)},bp=(t,e,a,r)=>{let o=/\[completion::[^\]]+\]|\@completion\(.*?\)|\s*.*?(?=\s|$)/,n=e.match(o);if(!a)return n?e.replace(n[0],"").trim():e;let i="";if(a&&((t==null?void 0:t.taskPropertyFormat)==="1"?i=a?`\u2705${a} `:"":(t==null?void 0:t.taskPropertyFormat)==="2"?i=a?`\u2705 ${a} `:"":(t==null?void 0:t.taskPropertyFormat)==="3"?i=a?`[completion:: ${a}] `:"":i=a?`@completion(${a}) `:""),!n){if((r==null?void 0:r.lineNumber)===1){let c=e.slice(0,r.charIndex).trim()+" ",s=" "+e.slice(r.charIndex).trim();return`${c}${i}${s}`}return`${e} ${i}`}return n[0].includes(i)?e:e.replace(o,i)},Sp=(t,e,a,r)=>{let o=/\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})|\[cancelled::\s*?\d{4}-\d{2}-\d{2}\]|@cancelled\(\d{4}-\d{2}-\d{2}\)/,n=e.match(o);if(!a)return n?e.replace(n[0],"").trim():e;let i="";if(a&&((t==null?void 0:t.taskPropertyFormat)==="1"?i=a?`\u274C${a}`:"":(t==null?void 0:t.taskPropertyFormat)==="2"?i=a?`\u274C ${a}`:"":(t==null?void 0:t.taskPropertyFormat)==="3"?i=a?`[cancelled:: ${a}]`:"":i=a?`@cancelled(${a})`:""),!n){if((r==null?void 0:r.lineNumber)===1){let c=e.slice(0,r.charIndex).trim()+" ",s=" "+e.slice(r.charIndex).trim();return`${c}${i}${s}`}return`${e} ${i}`}return n[0].includes(i)?e:e.replace(o,i)},kp=(t,e,a,r)=>{let o=/]\s*(\d{2}:\d{2}\s*-\s*\d{2}:\d{2})/,n=/\s*(\s*(\[.*?\]|(\d{2}:\d{2}\s*-\s*\d{2}:\d{2}))|\[time::(.*?)\]|@time\((.*?)\))/g,i=e.match(o),l=null,c=n.exec(e);if(c&&(l=[],l.push(c[0].trim()),l.push(c[3]||c[4]||c[5])),a==="")return i?e.replace(i[1],"").trim():l?e.replace(l[0],"").trim():e;if(t.compatiblePlugins.dayPlannerPlugin){if(i)return e.replace(i[1],a);l&&(e=e.replace(n,"").trim());let s=e.slice(0,5).trim(),d=e.slice(5).trim();return`${s} ${a} ${d}`}else{let s="";if(t.taskPropertyFormat==="1"?s=`\u23F0[${a}]`:t.taskPropertyFormat==="2"?s=`\u23F0 ${a}`:t.taskPropertyFormat==="3"?s=`[time:: ${a}]`:s=`@time(${a})`,i&&e.replace(i[1],""),l)return e.replace(l[0],s);if((r==null?void 0:r.lineNumber)===1){let d=e.slice(0,r.charIndex)+"*"+e.slice(r.charIndex),u=e.slice(0,r.charIndex).trim(),f=e.slice(r.charIndex).trim();return`${u} ${s} ${f}`}return`${e} ${s} `}},Q7=(t,e,a,r)=>{let o=Jr(e);if(o===0){if(a>0){let i="";if((t==null?void 0:t.taskPropertyFormat)==="3"?i=`[priority:: ${a}]`:(t==null?void 0:t.taskPropertyFormat)==="4"?i=`@priority(${a})`:i=Qt[a],(r==null?void 0:r.lineNumber)===1){let l=e.slice(0,r.charIndex).trim()+" ",c=" "+e.slice(r.charIndex).trim();return`${l}${i}${c}`}return`${e} ${i}`}return e}let n=e.match(new RegExp(`\\[priority::\\s*${o}\\s*\\]`));return n?a>0?e.replace(n[0],`[priority:: ${a}]`):e.replace(n[0],""):(n=e.match(new RegExp(`@priority\\(\\s*${o}\\s*\\)`)),n?a>0?e.replace(n[0],`@priority(${a})`):e.replace(n[0],""):o===a?e:e.replace(Qt[o],Qt[a]))},k0=(t,e,a,r)=>{let o=t,n=t.replace(/<(mark|font).*?>/g,""),i=/\s+#([^\s!@#$%^&*()+=;:'"?<>{}[\]-]+)(?=\s|$)/g,l=(n.match(i)||[]).map(u=>u.trim()),c=new Set(a.map(u=>u.trim())),s=new Set(l.map(u=>u.trim()));for(let u of l)c.has(u)||(o=o.replace(u,"").trim());let d=[];for(let u of c)s.has(u)||d.push(u);if(d.length>0)if((r==null?void 0:r.lineNumber)===1){let u=o.slice(0,r.charIndex).trim(),f=o.slice(r.charIndex).trim();o=[u,...d,f].filter(Boolean).join(" ")}else for(let u of d)o.includes(u)||(o+=` ${u}`);return o.replace(/\s+/g," ").trim()},Vp=(t,e,a,r)=>{let o=c=>{let s=new Date(c);return t.notificationService==="reminderPlugin"||t.notificationService==="notifianApp"?`(@${s.getFullYear().toString().padStart(4,"0")}-${(s.getMonth()+1).toString().padStart(2,"0")}-${s.getDate().toString().padStart(2,"0")} ${s.getHours().toString().padStart(2,"0")}:${s.getMinutes().toString().padStart(2,"0")})`:t.notificationService==="obsiApp"?`(@${s.getHours().toString().padStart(2,"0")}:${s.getMinutes().toString().padStart(2,"0")})`:""},n=t.notificationService==="obsiApp"?/\(\@\d{2}:\d{2}\)/:/\(\@\d{4}-\d{2}-\d{2} \d{2}:\d{2}\)/;if(!a)return e.replace(n,"").trim();let i=o(a);if(e.includes(i))return e;if(e.match(n))return e.replace(n,i);if((r==null?void 0:r.lineNumber)===1){let c=e.slice(0,r.charIndex).trim()+" ",s=" "+e.slice(r.charIndex).trim();return`${c}${i}${s}`}return`${e} ${i}`},De=(t,e,a,r)=>{let o=Rc(e);if(!a||a.length===0)return o?e.replace(o[0],"").trim():e;{let n="";if((t==null?void 0:t.taskPropertyFormat)==="1"?n=a.length>0?`\u26D4${a.join(", ")}`:"":(t==null?void 0:t.taskPropertyFormat)==="2"?n=a.length>0?`\u26D4 ${a.join(", ")}`:"":(t==null?void 0:t.taskPropertyFormat)==="3"?n=a.length>0?`[dependsOn:: ${a.join(", ")}]`:"":n=a.length>0?`@dependsOn(${a.join(", ")})`:"",o&&o.length>0)return e.replace(o[0],n);if((r==null?void 0:r.lineNumber)===1){let i=e.slice(0,r.charIndex).trim()+" ",l=" "+e.slice(r.charIndex).trim();return`${i}${n}${l}`}return`${e} ${n}`}},a0=t=>{let e=t.title;if(e=e.replace(new RegExp(F2.indentationAndCheckboxRegex,"u"),"").trim(),t.tags.forEach(a=>{let r=new RegExp(`\\s*${a}\\s*`,"g"),o=e.match(r);o&&(e=e.replace(o[0]," "))}),t.legacyId){let a=new RegExp(`(?:${v2.TaskFormatRegularExpressions.idRegex.source})|(?:${K1.TaskFormatRegularExpr.idRegex.source})`,"g"),r=e.match(a);r&&(e=e.replace(r[0]," "))}if(t.time){let a=/\s*(\s*\[\d{2}:\d{2}\s*-\s*\d{2}:\d{2}\]|\b\d{2}:\d{2}\s*-\s*\d{2}:\d{2}\b|\s*(\d{2}:\d{2}\s*-\s*\d{2}:\d{2})|\[time::.*?\]|\@time\(.*?\))/g,r=e.match(a);r&&(e=e.replace(r[0],""))}if(t.due){let a=/\s*(\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})|\[due::.*?\]|@due\(.*?\))/g;e=e.replace(a,"")}if(t.createdDate){let a=/\s*(\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})|\[created::.*?\]|@created\(.*?\))/g;e=e.replace(a,"")}if(t.startDate){let a=/\s*(\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})|\[start::.*?\]|@start\(.*?\))/g;e=e.replace(a,"")}if(t.scheduledDate){let a=/\s*(\s*(\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})|\[scheduled::.*?\]|@scheduled\(.*?\))/g;e=e.replace(a,"")}if(t.completion){let a=/\s*(\s*.*?(?=\s|$)|\[completion::.*?\]|@completion\(.*?\))/g;e=e.replace(a,"")}if(t.cancelledDate){let a=/\s*(\s*.*?(?=\s|$)|\[cancelled::.*?\]|@cancelled\(.*?\))/g;e=e.replace(a,"")}if(t.priority>0){let a=e.match(/\[priority::\s*(\d{1,2})\]/);a&&(e=e.replace(a[0],"")),a=e.match(/@priority\(\s*(\d{1,2})\s*\)/),a&&(e=e.replace(a[0],""));let r=Qt[t.priority];if(r){let o=new RegExp(`(${Object.values(Qt).map(n=>`\\s*${n}\\s*`).join("|")})`,"g");e=e.replace(o,n=>n.trim()===r?" ":n)}}if(t.dependsOn&&t.dependsOn.length>0){let a=new RegExp(`(?:${v2.TaskFormatRegularExpressions.dependsOnRegex.source})|(?:${K1.TaskFormatRegularExpr.dependsOnRegex.source})`,"g"),r=e.match(a);r&&(e=e.replace(r[0],""))}if(t.reminder){let a=/\(\@(\d{4}-\d{2}-\d{2}( \d{2}:\d{2})?|\d{2}:\d{2})\)/,r=e.match(a);r&&(e=e.replace(r[0],"").trim())}return e=e.replace(v2.TaskFormatRegularExpressions.recurrenceRegex,"").trim(),e=e.replace(v2.TaskFormatRegularExpressions.onCompletionRegex,"").trim(),e.trim()}});function Tp(t,e){let a=n=>n.replace(/[\s\n\t]+/g,""),r=a(t),o=a(e);if(r.length!==o.length)return!1;for(let n=0;n<r.length;n++){let i=r[n],l=o[n];if(i!==l)return!1}return!0}var Q5,ro,Nc=g1(()=>{"use strict";Q5=require("obsidian"),ro=class extends Q5.Modal{constructor(e,a,r,o,n){super(e.app),this.cachedTaskContent=a,this.EditedTaskContent=r,this.taskContentFromFile=o,this.onSelect=n}onOpen(){let{contentEl:e}=this;e.empty(),this.modalEl.setAttribute("data-type","task-board-diff-content-compare"),this.setTitle("Task Board Safe Guard"),e.classList.add("taskboard-diff-content-compare-modal"),e.createEl("h2",{text:"Content mismatch detected"}),e.createEl("p",{text:"Looks like the task content in your file is a little different from the content you just edited through Task Board. Choose which version of content you would like to keep:"});let a=e.createDiv({cls:"taskboard-diff-content-compare-modal-container"}),r=a.createDiv({cls:"taskboard-diff-content-compare-modal-side"});r.createEl("h3",{text:"Current content in your note"});let o=r.createDiv({cls:"taskboard-diff-content-compare-modal-content"});o.innerHTML=this.getHighlightedDiff(this.cachedTaskContent,this.taskContentFromFile,"left"),new Q5.ButtonComponent(r).setButtonText("Keep this as it is").setClass("taskboard-diff-content-compare-modal-new-content-button").onClick(()=>{this.onSelect("new"),this.close()});let n=a.createDiv({cls:"taskboard-diff-content-compare-modal-side"});n.createEl("h3",{text:"Content you just edited"});let i=n.createDiv({cls:"taskboard-diff-content-compare-modal-content"});i.innerHTML=this.getHighlightedDiff(this.taskContentFromFile,this.EditedTaskContent,"right"),new Q5.ButtonComponent(n).setButtonText("Use this").setClass("taskboard-diff-content-compare-modal-old-content-button").onClick(()=>{this.onSelect("old"),this.close()});let l=e.createEl("p",{text:"NOTE : If you think this safe guard modal shown is irrelevant and its also popping-up too many times, you can by-pass it and disable this from the settings under the 'general' tab."});l.style.color="red",e.createDiv({cls:"taskboard-diff-content-compare-modal-info"}).createEl("ul",{},m=>{m.createEl("li",{text:"Red highlighted content indicates the characters which are different by comparing the task-board-cache content and the current content in your note."}),m.createEl("li",{text:"Green highlighted content indicates the characters which are different by comparing the content you just now edited and the current content in your note."}),m.createEl("li",{text:"Select the version of content you want Task Board to write in your note."}),m.createEl("li",{text:"If the content shown on left-side is completely different from the content of the task you just edited. This probably means that, Task Board couldnt able to find the task you just edited through its cache inside the current file at the particular line. Either some other plugin updated the content or during sync the content was tempered. Use the abort button below to close this modal, to avoid updating any data. And scan the file using file-menu option or update the task manually."})}),new Q5.ButtonComponent(e).setButtonText("Abort").setClass("taskboard-diff-content-compare-modal-abort-button").onClick(()=>{this.close()}),e.createEl("hr"),e.createEl("h2",{text:"Debug Info"}),e.createEl("p",{text:"Here is why this modal was shown in the first place. If you think this modal shown was unnecessary and if possible kindly share this information with the developer to improve the plugin."});let s=e.createDiv({cls:"taskboard-diff-content-compare-modal-container"}),d=s.createDiv({cls:"taskboard-diff-content-compare-modal-side"});d.createEl("h3",{text:"Task Board Cache"});let u=d.createDiv({cls:"taskboard-diff-content-compare-modal-content"});u.innerHTML=this.getHighlightedDiff(this.cachedTaskContent,this.taskContentFromFile,"left");let f=s.createDiv({cls:"taskboard-diff-content-compare-modal-side"});f.createEl("h3",{text:"Current content in your note"});let h=f.createDiv({cls:"taskboard-diff-content-compare-modal-content"});h.innerHTML=this.getHighlightedDiff(this.taskContentFromFile,this.cachedTaskContent,"right"),e.createEl("p",{text:"This is temporary, this section will be removed once I get enough feedback that this modal is not shown unnecessarily."})}onClose(){this.contentEl.empty()}getHighlightedDiff(e,a,r){let o=e.split(`
`),n=a.split(`
`),i=Math.max(o.length,n.length),l=[];for(let c=0;c<i;c++){let s=o[c]||"",d=n[c]||"";if(s===d)l.push(`<div>${this.escapeHtml(r==="left"?s:d)}</div>`);else{let u=s.split(""),f=d.split(""),h=Math.max(u.length,f.length),m=[];for(let g=0;g<h;g++){let C=u[g]||" ",v=f[g]||" ";if(C===v){let y=this.escapeHtml(r==="left"?C:v);m.push(y)}else r==="left"?m.push(`<span style="background-color:#ff5858c0;">${this.escapeHtml(v)}</span>`):m.push(`<span style="background-color:#26bb26c9;">${this.escapeHtml(v)}</span>`)}let x=m.join(""),L=r==="left"?"#ff585825":"#36ff3625";l.push(`<div style="background-color:${L};">${x}</div>`)}}return l.join("")}escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/'/g,"&#039;")}}});var J7,Bp,Pc,i4,Ip,Oc,Fp,r0,y6=g1(()=>{"use strict";e3();Ae();J7=require("obsidian");o0();w6();Nc();Y1();Bp=t=>!!//u.test(t),Pc=async(t,e,a,r)=>{let o=e.filePath.endsWith("md")?e.filePath:`${e.filePath}.md`;try{if(!await t.fileExists(o)){new J7.Notice(`New note created since it does not exists : "${o}"`,5e3);let d=(0,J7.normalizePath)(o),u=d.split("/");if(u.length>1){let f=u.slice(0,-1).join("/").trim();await t.app.vault.adapter.exists(f)||await t.app.vault.createFolder(f)}await t.app.vault.create(d,""),await sleep(200)}let n=await N4(e),{formattedTaskContent:i,newId:l}=await H0(t,n);if(n=i,n==="")throw"getSanitizedTaskContent returned empty string";let c=await J3(t,o);if(c==null)return;let s=c;if(a){let d=c.split(`
`);r&&r.line>0?(d.splice(r.line,0,n),s=d.join(`
`)):s=c.concat(`

`,n),await v3(t,o,s)}else s=c.concat(`

`,n),await v3(t,o,s);return r=void 0,l}catch(n){$.showNotice(47,"Error while adding the task in the file. Below error message might give more information on this issue. Report the issue if it needs developers attention.",String(n),"TaskItemUtils.ts/addTaskInNote")}},i4=async(t,e,a,r)=>{try{let o=await N4(a);o===""&&$.showNotice(48,"getSanitizedTaskContent returned empty string for old task","getSanitizedTaskContent returned empty string","TaskItemUtils.ts/updateTaskInFile");let n=await N4(e),{formattedTaskContent:i,newId:l}=await H0(t,n,r);return n=i,n===""&&$.showNotice(49,"getSanitizedTaskContent returned empty string for old task","getSanitizedTaskContent returned empty string","TaskItemUtils.ts/updateTaskInFile"),await r0(t,a,o,n)?l:void 0}catch(o){$.showNotice(51,"Error while updating the task in the file. Below error message might give more information on this issue. Report the issue if it needs developers attention.",String(o),"TaskItemUtils.ts/updateTaskInFile");return}},Ip=async(t,e,a)=>{try{let r=await N4(a);if(r==="")throw"getSanitizedTaskContent returned empty string";if(e.isTasksPluginEnabled()){let{formattedTaskContent:o,newId:n}=await H0(t,a.title),i=o,l=e.executeToggleTaskDoneCommand(i,a.filePath),c=l.split(`
`),s="";if(l==="")await r0(t,a,r,s);else if(c.length=1){let{formattedTaskContent:d,newId:u}=await H0(t,l);s=`${d}${a.body.length>0?`
${a.body.join(`
`)}`:""}`,await r0(t,a,r,s)}else if(c.length=2)s=`${c[0]}${a.body.length>0?`
${a.body.join(`
`)}`:""}
${c[1]}${a.body.length>0?`
${a.body.join(`
`)}`:""}`,await r0(t,a,r,s);else{$.showNotice(53,"Unexpected output from tasks plugin API. Since the task you are trying to update is a recurring task, Task Board cannot handle recurring tasks as of now and Tasks plugin didnt returned an expected output. Please report this issue so developers can enhance the integration.",`tasksPluginApiOutput: ${l}`,"TaskItemUtils.ts/useTasksPluginToUpdateInFile");return}}else $.showNotice(54,"Tasks plugin is must for handling recurring tasks. Since the task you are trying to update is a recurring task and Task Board cannot handle recurring tasks as of now. Hence the plugin has not updated your content.",`Tasks plugin installed and enabled: ${e.isTasksPluginEnabled()}`,"TaskItemUtils.ts/useTasksPluginToUpdateInFile")}catch(r){throw $.showNotice(55,"Error while updating the recurring task in the file. Below error message might give more information on this issue. Report the issue if it needs developers attention.",String(r),"TaskItemUtils.ts/useTasksPluginToUpdateInFile"),r}},Oc=async(t,e)=>{try{let a=await N4(e);return a===""&&$.showNotice(56,"getSanitizedTaskContent returned empty string for old task","getSanitizedTaskContent returned empty string","TaskItemUtils.ts/updateTaskInFile"),await r0(t,e,a,""),!0}catch(a){return $.showNotice(57,"Error deleting task from file. Below error message might give more information on this issue. Report the issue if it needs developers attention.",String(a),"TaskItemUtils.ts/deleteTaskFromFile"),!1}},Fp=async(t,e)=>{let a=t.settings.data.globalSettings.archivedTasksFilePath,r=await N4(e);if(r==="")throw"getSanitizedTaskContent returned empty string";if(a)try{if(!await t.fileExists(a)){new J7.Notice(`New Archived file created since it did not exist at path: "${a}"`,0);let i=a.lastIndexOf("/");if(i!==-1){let c=a.substring(0,i).split("/").filter(Boolean),s="";for(let d of c){s=s?`${s}/${d}`:d;let u=t.app.vault.getAbstractFileByPath(s);if(u)u.path&&!u.children&&$.showNotice(58,`A file exists where a folder is expected: ${s}`,`Unexpected file at folder path: ${s}`,"TaskItemUtils.ts/archiveTask");else try{await t.app.vault.createFolder(s)}catch(f){if(String(f).contains("already exists"))continue}}}await t.app.vault.create(a,"")}let o=await J3(t,a),n=`> Archived at ${new Date().toLocaleString()}
${r}

${o}`;await v3(t,a,n),await Oc(t,e).then(()=>{t.realTimeScanner.processAllUpdatedFiles(e.filePath)})}catch(o){$.showNotice(59,"Error archiving task",o,"TaskItemUtils.ts/archiveTask")}else if(a==="")try{await r0(t,e,r,`%%${r}%%`).then(()=>{t.realTimeScanner.processAllUpdatedFiles(e.filePath)})}catch(o){$.showNotice(60,"Error archiving task in the same file. Either the task is not present in the file or the plugin is not able to find the correct match, because the task must have been edited in such a way that the title is not present in the file.",o,"TaskItemUtils.ts/archiveTask")}else $.showNotice(61,"Error archiving task. The below error message might help you to find the issue.","Archived file path is not set in the plugin settings.","TaskItemUtils.ts/archiveTask")},r0=async(t,e,a,r)=>{let o=C3.test(e.filePath)?e.filePath:`${e.filePath}.md`;try{let n=await J3(t,o);if(n==null)return!1;let i=n.split(`
`),{startLine:l,startCharIndex:c,endLine:s,endCharIndex:d}=e.taskLocation,u=i[l-1];if(!u.trim().startsWith(e.title.trim().substring(0,5)))return $.showNotice(62,`Task board couldnt able to find the task which you are trying to edit inside the file ${e.filePath} at the line number : ${e.taskLocation.startLine} . Looks like the file must have been edited in the absence of Task Board and the task location was misplaced. Please scan the file again using the file menu option and see if that fixes this issue.

This was actually a normal bug, but recently few users were facing this specific issue and the developers are uncertain about the exact cause of this issue. Hence will request to kindly report this issue to the developer and please metion the steps in detail which led to this issue to occur, since its not possible to find the exact cause of it by simply reading this report.`,`

OldTask location :${JSON.stringify(e.taskLocation)}

OldTask content inside task-board-cache :${e.title}

At present the content inside file at line number ${e.taskLocation.startLine} is: ${u}`,"TaskItemUtils.ts/replaceOldTaskWithNewTask"),!1;let f=i.slice(0,l-1),h=i.slice(l-1,s);h[0]=h[0].slice(c),h[h.length-1]=h[h.length-1].slice(0,d);let m=h.join(`
`),x=(L,g,C)=>g.trim()===""?`${L}${C?C.endsWith(`
`)?C:`${C}
`:`
`}`:`${L}
${g}${C?g.endsWith(`
`)||C.startsWith(`
`)?C:`
${C}`:g.endsWith(`
`)?"":`
`}`;if(m===a){let L=f.join(`
`),g=i.slice(s-1).join(`
`).slice(d),C=x(L,r,g);await v3(t,o,C)}else if(Tp(a,m)){let L=f.join(`
`),g=i.slice(s-1).join(`
`).slice(d),C=x(L,r,g);await v3(t,o,C)}else if(t.settings.data.globalSettings.safeGuardFeature)Ap(t,a,r,m,async L=>{if(L==="old"){let g=f.join(`
`),C=i.slice(s-1).join(`
`).slice(d),v=x(g,r,C);await v3(t,o,v)}});else{let L=f.join(`
`),g=i.slice(s-1).join(`
`).slice(d),C=x(L,r,g);await v3(t,o,C)}return!0}catch(n){return $.showNotice(63,"Error while updating the task in the file. Below error message might give more information on this issue. Report the issue if it needs developers attention.",String(n),"TaskItemUtils.ts/replaceOldTaskWithNewTask"),!1}}});var qp=K4(O2=>{"use strict";function qc(t,e){var a=t.length;t.push(e);t:for(;0<a;){var r=a-1>>>1,o=t[r];if(0<oo(o,e))t[r]=e,t[a]=o,a=r;else break t}}function n0(t){return t.length===0?null:t[0]}function io(t){if(t.length===0)return null;var e=t[0],a=t.pop();if(a!==e){t[0]=a;t:for(var r=0,o=t.length,n=o>>>1;r<n;){var i=2*(r+1)-1,l=t[i],c=i+1,s=t[c];if(0>oo(l,a))c<o&&0>oo(s,l)?(t[r]=s,t[c]=a,r=c):(t[r]=l,t[i]=a,r=i);else if(c<o&&0>oo(s,a))t[r]=s,t[c]=a,r=c;else break t}}return e}function oo(t,e){var a=t.sortIndex-e.sortIndex;return a!==0?a:t.id-e.id}O2.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(Dp=performance,O2.unstable_now=function(){return Dp.now()}):(Zc=Date,Rp=Zc.now(),O2.unstable_now=function(){return Zc.now()-Rp});var Dp,Zc,Rp,V0=[],H6=[],SH=1,et=null,W4=3,$c=!1,t9=!1,e9=!1,Gc=!1,Pp=typeof setTimeout=="function"?setTimeout:null,Op=typeof clearTimeout=="function"?clearTimeout:null,Ep=typeof setImmediate!="undefined"?setImmediate:null;function no(t){for(var e=n0(H6);e!==null;){if(e.callback===null)io(H6);else if(e.startTime<=t)io(H6),e.sortIndex=e.expirationTime,qc(V0,e);else break;e=n0(H6)}}function jc(t){if(e9=!1,no(t),!t9)if(n0(V0)!==null)t9=!0,t8||(t8=!0,J5());else{var e=n0(H6);e!==null&&Wc(jc,e.startTime-t)}}var t8=!1,a9=-1,Zp=5,_p=-1;function Up(){return Gc?!0:!(O2.unstable_now()-_p<Zp)}function _c(){if(Gc=!1,t8){var t=O2.unstable_now();_p=t;var e=!0;try{t:{t9=!1,e9&&(e9=!1,Op(a9),a9=-1),$c=!0;var a=W4;try{e:{for(no(t),et=n0(V0);et!==null&&!(et.expirationTime>t&&Up());){var r=et.callback;if(typeof r=="function"){et.callback=null,W4=et.priorityLevel;var o=r(et.expirationTime<=t);if(t=O2.unstable_now(),typeof o=="function"){et.callback=o,no(t),e=!0;break e}et===n0(V0)&&io(V0),no(t)}else io(V0);et=n0(V0)}if(et!==null)e=!0;else{var n=n0(H6);n!==null&&Wc(jc,n.startTime-t),e=!1}}break t}finally{et=null,W4=a,$c=!1}e=void 0}}finally{e?J5():t8=!1}}}var J5;typeof Ep=="function"?J5=function(){Ep(_c)}:typeof MessageChannel!="undefined"?(Uc=new MessageChannel,Np=Uc.port2,Uc.port1.onmessage=_c,J5=function(){Np.postMessage(null)}):J5=function(){Pp(_c,0)};var Uc,Np;function Wc(t,e){a9=Pp(function(){t(O2.unstable_now())},e)}O2.unstable_IdlePriority=5;O2.unstable_ImmediatePriority=1;O2.unstable_LowPriority=4;O2.unstable_NormalPriority=3;O2.unstable_Profiling=null;O2.unstable_UserBlockingPriority=2;O2.unstable_cancelCallback=function(t){t.callback=null};O2.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Zp=0<t?Math.floor(1e3/t):5};O2.unstable_getCurrentPriorityLevel=function(){return W4};O2.unstable_next=function(t){switch(W4){case 1:case 2:case 3:var e=3;break;default:e=W4}var a=W4;W4=e;try{return t()}finally{W4=a}};O2.unstable_requestPaint=function(){Gc=!0};O2.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var a=W4;W4=t;try{return e()}finally{W4=a}};O2.unstable_scheduleCallback=function(t,e,a){var r=O2.unstable_now();switch(typeof a=="object"&&a!==null?(a=a.delay,a=typeof a=="number"&&0<a?r+a:r):a=r,t){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=a+o,t={id:SH++,callback:e,priorityLevel:t,startTime:a,expirationTime:o,sortIndex:-1},a>r?(t.sortIndex=a,qc(H6,t),n0(V0)===null&&t===n0(H6)&&(e9?(Op(a9),a9=-1):e9=!0,Wc(jc,a-r))):(t.sortIndex=o,qc(V0,t),t9||$c||(t9=!0,t8||(t8=!0,J5()))),t};O2.unstable_shouldYield=Up;O2.unstable_wrapCallback=function(t){var e=W4;return function(){var a=W4;W4=e;try{return t.apply(this,arguments)}finally{W4=a}}}});var Gp=K4((CO,$p)=>{"use strict";$p.exports=qp()});var rg=K4(W1=>{"use strict";var Kc=Symbol.for("react.transitional.element"),HH=Symbol.for("react.portal"),kH=Symbol.for("react.fragment"),VH=Symbol.for("react.strict_mode"),TH=Symbol.for("react.profiler"),BH=Symbol.for("react.consumer"),IH=Symbol.for("react.context"),FH=Symbol.for("react.forward_ref"),AH=Symbol.for("react.suspense"),DH=Symbol.for("react.memo"),Kp=Symbol.for("react.lazy"),RH=Symbol.for("react.activity"),jp=Symbol.iterator;function EH(t){return t===null||typeof t!="object"?null:(t=jp&&t[jp]||t["@@iterator"],typeof t=="function"?t:null)}var Qp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jp=Object.assign,tg={};function a8(t,e,a){this.props=t,this.context=e,this.refs=tg,this.updater=a||Qp}a8.prototype.isReactComponent={};a8.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};a8.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eg(){}eg.prototype=a8.prototype;function Qc(t,e,a){this.props=t,this.context=e,this.refs=tg,this.updater=a||Qp}var Jc=Qc.prototype=new eg;Jc.constructor=Qc;Jp(Jc,a8.prototype);Jc.isPureReactComponent=!0;var Wp=Array.isArray;function Xc(){}var A2={H:null,A:null,T:null,S:null},ag=Object.prototype.hasOwnProperty;function ts(t,e,a){var r=a.ref;return{$$typeof:Kc,type:t,key:e,ref:r!==void 0?r:null,props:a}}function NH(t,e){return ts(t.type,e,t.props)}function es(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kc}function PH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(a){return e[a]})}var Yp=/\/+/g;function Yc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?PH(""+t.key):e.toString(36)}function OH(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Xc,Xc):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function e8(t,e,a,r,o){var n=typeof t;(n==="undefined"||n==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(n){case"bigint":case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Kc:case HH:i=!0;break;case Kp:return i=t._init,e8(i(t._payload),e,a,r,o)}}if(i)return o=o(t),i=r===""?"."+Yc(t,0):r,Wp(o)?(a="",i!=null&&(a=i.replace(Yp,"$&/")+"/"),e8(o,e,a,"",function(s){return s})):o!=null&&(es(o)&&(o=NH(o,a+(o.key==null||t&&t.key===o.key?"":(""+o.key).replace(Yp,"$&/")+"/")+i)),e.push(o)),1;i=0;var l=r===""?".":r+":";if(Wp(t))for(var c=0;c<t.length;c++)r=t[c],n=l+Yc(r,c),i+=e8(r,e,a,n,o);else if(c=EH(t),typeof c=="function")for(t=c.call(t),c=0;!(r=t.next()).done;)r=r.value,n=l+Yc(r,c++),i+=e8(r,e,a,n,o);else if(n==="object"){if(typeof t.then=="function")return e8(OH(t),e,a,r,o);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return i}function lo(t,e,a){if(t==null)return t;var r=[],o=0;return e8(t,r,"","",function(n){return e.call(a,n,o++)}),r}function ZH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(a){(t._status===0||t._status===-1)&&(t._status=1,t._result=a)},function(a){(t._status===0||t._status===-1)&&(t._status=2,t._result=a)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xp=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},_H={map:lo,forEach:function(t,e,a){lo(t,function(){e.apply(this,arguments)},a)},count:function(t){var e=0;return lo(t,function(){e++}),e},toArray:function(t){return lo(t,function(e){return e})||[]},only:function(t){if(!es(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};W1.Activity=RH;W1.Children=_H;W1.Component=a8;W1.Fragment=kH;W1.Profiler=TH;W1.PureComponent=Qc;W1.StrictMode=VH;W1.Suspense=AH;W1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A2;W1.__COMPILER_RUNTIME={__proto__:null,c:function(t){return A2.H.useMemoCache(t)}};W1.cache=function(t){return function(){return t.apply(null,arguments)}};W1.cacheSignal=function(){return null};W1.cloneElement=function(t,e,a){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=Jp({},t.props),o=t.key;if(e!=null)for(n in e.key!==void 0&&(o=""+e.key),e)!ag.call(e,n)||n==="key"||n==="__self"||n==="__source"||n==="ref"&&e.ref===void 0||(r[n]=e[n]);var n=arguments.length-2;if(n===1)r.children=a;else if(1<n){for(var i=Array(n),l=0;l<n;l++)i[l]=arguments[l+2];r.children=i}return ts(t.type,o,r)};W1.createContext=function(t){return t={$$typeof:IH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:BH,_context:t},t};W1.createElement=function(t,e,a){var r,o={},n=null;if(e!=null)for(r in e.key!==void 0&&(n=""+e.key),e)ag.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(o[r]=e[r]);var i=arguments.length-2;if(i===1)o.children=a;else if(1<i){for(var l=Array(i),c=0;c<i;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in i=t.defaultProps,i)o[r]===void 0&&(o[r]=i[r]);return ts(t,n,o)};W1.createRef=function(){return{current:null}};W1.forwardRef=function(t){return{$$typeof:FH,render:t}};W1.isValidElement=es;W1.lazy=function(t){return{$$typeof:Kp,_payload:{_status:-1,_result:t},_init:ZH}};W1.memo=function(t,e){return{$$typeof:DH,type:t,compare:e===void 0?null:e}};W1.startTransition=function(t){var e=A2.T,a={};A2.T=a;try{var r=t(),o=A2.S;o!==null&&o(a,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Xc,Xp)}catch(n){Xp(n)}finally{e!==null&&a.types!==null&&(e.types=a.types),A2.T=e}};W1.unstable_useCacheRefresh=function(){return A2.H.useCacheRefresh()};W1.use=function(t){return A2.H.use(t)};W1.useActionState=function(t,e,a){return A2.H.useActionState(t,e,a)};W1.useCallback=function(t,e){return A2.H.useCallback(t,e)};W1.useContext=function(t){return A2.H.useContext(t)};W1.useDebugValue=function(){};W1.useDeferredValue=function(t,e){return A2.H.useDeferredValue(t,e)};W1.useEffect=function(t,e){return A2.H.useEffect(t,e)};W1.useEffectEvent=function(t){return A2.H.useEffectEvent(t)};W1.useId=function(){return A2.H.useId()};W1.useImperativeHandle=function(t,e,a){return A2.H.useImperativeHandle(t,e,a)};W1.useInsertionEffect=function(t,e){return A2.H.useInsertionEffect(t,e)};W1.useLayoutEffect=function(t,e){return A2.H.useLayoutEffect(t,e)};W1.useMemo=function(t,e){return A2.H.useMemo(t,e)};W1.useOptimistic=function(t,e){return A2.H.useOptimistic(t,e)};W1.useReducer=function(t,e,a){return A2.H.useReducer(t,e,a)};W1.useRef=function(t){return A2.H.useRef(t)};W1.useState=function(t){return A2.H.useState(t)};W1.useSyncExternalStore=function(t,e,a){return A2.H.useSyncExternalStore(t,e,a)};W1.useTransition=function(){return A2.H.useTransition()};W1.version="19.2.3"});var T2=K4((LO,og)=>{"use strict";og.exports=rg()});var ig=K4(r3=>{"use strict";var UH=T2();function ng(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)e+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function k6(){}var a3={d:{f:k6,r:function(){throw Error(ng(522))},D:k6,C:k6,L:k6,m:k6,X:k6,S:k6,M:k6},p:0,findDOMNode:null},qH=Symbol.for("react.portal");function $H(t,e,a){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qH,key:r==null?null:""+r,children:t,containerInfo:e,implementation:a}}var r9=UH.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function co(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}r3.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a3;r3.createPortal=function(t,e){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(ng(299));return $H(t,e,null,a)};r3.flushSync=function(t){var e=r9.T,a=a3.p;try{if(r9.T=null,a3.p=2,t)return t()}finally{r9.T=e,a3.p=a,a3.d.f()}};r3.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,a3.d.C(t,e))};r3.prefetchDNS=function(t){typeof t=="string"&&a3.d.D(t)};r3.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var a=e.as,r=co(a,e.crossOrigin),o=typeof e.integrity=="string"?e.integrity:void 0,n=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;a==="style"?a3.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:n}):a==="script"&&a3.d.X(t,{crossOrigin:r,integrity:o,fetchPriority:n,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};r3.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var a=co(e.as,e.crossOrigin);a3.d.M(t,{crossOrigin:a,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&a3.d.M(t)};r3.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var a=e.as,r=co(a,e.crossOrigin);a3.d.L(t,a,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};r3.preloadModule=function(t,e){if(typeof t=="string")if(e){var a=co(e.as,e.crossOrigin);a3.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:a,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else a3.d.m(t)};r3.requestFormReset=function(t){a3.d.r(t)};r3.unstable_batchedUpdates=function(t,e){return t(e)};r3.useFormState=function(t,e,a){return r9.H.useFormState(t,e,a)};r3.useFormStatus=function(){return r9.H.useHostTransitionStatus()};r3.version="19.2.3"});var as=K4((MO,cg)=>{"use strict";function lg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lg)}catch(t){console.error(t)}}lg(),cg.exports=ig()});var Lx=K4(Dn=>{"use strict";var L4=Gp(),Am=T2(),GH=as();function s1(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)e+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Dm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function U9(t){var e=t,a=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(a=e.return),t=e.return;while(t)}return e.tag===3?a:null}function Rm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Em(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sg(t){if(U9(t)!==t)throw Error(s1(188))}function jH(t){var e=t.alternate;if(!e){if(e=U9(t),e===null)throw Error(s1(188));return e!==t?null:t}for(var a=t,r=e;;){var o=a.return;if(o===null)break;var n=o.alternate;if(n===null){if(r=o.return,r!==null){a=r;continue}break}if(o.child===n.child){for(n=o.child;n;){if(n===a)return sg(o),t;if(n===r)return sg(o),e;n=n.sibling}throw Error(s1(188))}if(a.return!==r.return)a=o,r=n;else{for(var i=!1,l=o.child;l;){if(l===a){i=!0,a=o,r=n;break}if(l===r){i=!0,r=o,a=n;break}l=l.sibling}if(!i){for(l=n.child;l;){if(l===a){i=!0,a=n,r=o;break}if(l===r){i=!0,r=n,a=o;break}l=l.sibling}if(!i)throw Error(s1(189))}}if(a.alternate!==r)throw Error(s1(190))}if(a.tag!==3)throw Error(s1(188));return a.stateNode.current===a?t:e}function Nm(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=Nm(t),e!==null)return e;t=t.sibling}return null}var E2=Object.assign,WH=Symbol.for("react.element"),so=Symbol.for("react.transitional.element"),u9=Symbol.for("react.portal"),c8=Symbol.for("react.fragment"),Pm=Symbol.for("react.strict_mode"),Rs=Symbol.for("react.profiler"),Om=Symbol.for("react.consumer"),E0=Symbol.for("react.context"),Bd=Symbol.for("react.forward_ref"),Es=Symbol.for("react.suspense"),Ns=Symbol.for("react.suspense_list"),Id=Symbol.for("react.memo"),V6=Symbol.for("react.lazy");Symbol.for("react.scope");var Ps=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var YH=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var dg=Symbol.iterator;function o9(t){return t===null||typeof t!="object"?null:(t=dg&&t[dg]||t["@@iterator"],typeof t=="function"?t:null)}var XH=Symbol.for("react.client.reference");function Os(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===XH?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case c8:return"Fragment";case Rs:return"Profiler";case Pm:return"StrictMode";case Es:return"Suspense";case Ns:return"SuspenseList";case Ps:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case u9:return"Portal";case E0:return t.displayName||"Context";case Om:return(t._context.displayName||"Context")+".Consumer";case Bd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Id:return e=t.displayName||null,e!==null?e:Os(t.type)||"Memo";case V6:e=t._payload,t=t._init;try{return Os(t(e))}catch(a){}}return null}var f9=Array.isArray,O1=Am.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L2=GH.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ze={pending:!1,data:null,method:null,action:null},Zs=[],s8=-1;function d0(t){return{current:t}}function T4(t){0>s8||(t.current=Zs[s8],Zs[s8]=null,s8--)}function B2(t,e){s8++,Zs[s8]=t.current,t.current=e}var s0=d0(null),V9=d0(null),O6=d0(null),Uo=d0(null);function qo(t,e){switch(B2(O6,e),B2(V9,t),B2(s0,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?vm(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=vm(e),t=ix(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}T4(s0),B2(s0,t)}function H8(){T4(s0),T4(V9),T4(O6)}function _s(t){t.memoizedState!==null&&B2(Uo,t);var e=s0.current,a=ix(e,t.type);e!==a&&(B2(V9,t),B2(s0,a))}function $o(t){V9.current===t&&(T4(s0),T4(V9)),Uo.current===t&&(T4(Uo),O9._currentValue=Ze)}var rs,ug;function Ee(t){if(rs===void 0)try{throw Error()}catch(a){var e=a.stack.trim().match(/\n( *(at )?)/);rs=e&&e[1]||"",ug=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rs+t+ug}var os=!1;function ns(t,e){if(!t||os)return"";os=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var u=function(){throw Error()};if(Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(h){var f=h}Reflect.construct(t,[],u)}else{try{u.call()}catch(h){f=h}t.call(u.prototype)}}else{try{throw Error()}catch(h){f=h}(u=t())&&typeof u.catch=="function"&&u.catch(function(){})}}catch(h){if(h&&f&&typeof h.stack=="string")return[h.stack,f.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var n=r.DetermineComponentFrameRoot(),i=n[0],l=n[1];if(i&&l){var c=i.split(`
`),s=l.split(`
`);for(o=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;o<s.length&&!s[o].includes("DetermineComponentFrameRoot");)o++;if(r===c.length||o===s.length)for(r=c.length-1,o=s.length-1;1<=r&&0<=o&&c[r]!==s[o];)o--;for(;1<=r&&0<=o;r--,o--)if(c[r]!==s[o]){if(r!==1||o!==1)do if(r--,o--,0>o||c[r]!==s[o]){var d=`
`+c[r].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=r&&0<=o);break}}}finally{os=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ee(a):""}function KH(t,e){switch(t.tag){case 26:case 27:case 5:return Ee(t.type);case 16:return Ee("Lazy");case 13:return t.child!==e&&e!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return ns(t.type,!1);case 11:return ns(t.type.render,!1);case 1:return ns(t.type,!0);case 31:return Ee("Activity");default:return""}}function fg(t){try{var e="",a=null;do e+=KH(t,a),a=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Us=Object.prototype.hasOwnProperty,Fd=L4.unstable_scheduleCallback,is=L4.unstable_cancelCallback,QH=L4.unstable_shouldYield,JH=L4.unstable_requestPaint,P3=L4.unstable_now,tk=L4.unstable_getCurrentPriorityLevel,Zm=L4.unstable_ImmediatePriority,_m=L4.unstable_UserBlockingPriority,Go=L4.unstable_NormalPriority,ek=L4.unstable_LowPriority,Um=L4.unstable_IdlePriority,ak=L4.log,rk=L4.unstable_setDisableYieldValue,q9=null,O3=null;function D6(t){if(typeof ak=="function"&&rk(t),O3&&typeof O3.setStrictMode=="function")try{O3.setStrictMode(q9,t)}catch(e){}}var Z3=Math.clz32?Math.clz32:ik,ok=Math.log,nk=Math.LN2;function ik(t){return t>>>=0,t===0?32:31-(ok(t)/nk|0)|0}var uo=256,fo=262144,ho=4194304;function Ne(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function xn(t,e,a){var r=t.pendingLanes;if(r===0)return 0;var o=0,n=t.suspendedLanes,i=t.pingedLanes;t=t.warmLanes;var l=r&134217727;return l!==0?(r=l&~n,r!==0?o=Ne(r):(i&=l,i!==0?o=Ne(i):a||(a=l&~t,a!==0&&(o=Ne(a))))):(l=r&~n,l!==0?o=Ne(l):i!==0?o=Ne(i):a||(a=r&~t,a!==0&&(o=Ne(a)))),o===0?0:e!==0&&e!==o&&(e&n)===0&&(n=o&-o,a=e&-e,n>=a||n===32&&(a&4194048)!==0)?e:o}function $9(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function lk(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qm(){var t=ho;return ho<<=1,(ho&62914560)===0&&(ho=4194304),t}function ls(t){for(var e=[],a=0;31>a;a++)e.push(t);return e}function G9(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ck(t,e,a,r,o,n){var i=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var l=t.entanglements,c=t.expirationTimes,s=t.hiddenUpdates;for(a=i&~a;0<a;){var d=31-Z3(a),u=1<<d;l[d]=0,c[d]=-1;var f=s[d];if(f!==null)for(s[d]=null,d=0;d<f.length;d++){var h=f[d];h!==null&&(h.lane&=-536870913)}a&=~u}r!==0&&$m(t,r,0),n!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=n&~(i&~e))}function $m(t,e,a){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Z3(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|a&261930}function Gm(t,e){var a=t.entangledLanes|=e;for(t=t.entanglements;a;){var r=31-Z3(a),o=1<<r;o&e|t[r]&e&&(t[r]|=e),a&=~o}}function jm(t,e){var a=e&-e;return a=(a&42)!==0?1:Ad(a),(a&(t.suspendedLanes|e))!==0?0:a}function Ad(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Dd(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wm(){var t=L2.p;return t!==0?t:(t=window.event,t===void 0?32:vx(t.type))}function hg(t,e){var a=L2.p;try{return L2.p=t,e()}finally{L2.p=a}}var J6=Math.random().toString(36).slice(2),O4="__reactFiber$"+J6,z3="__reactProps$"+J6,N8="__reactContainer$"+J6,qs="__reactEvents$"+J6,sk="__reactListeners$"+J6,dk="__reactHandles$"+J6,pg="__reactResources$"+J6,j9="__reactMarker$"+J6;function Rd(t){delete t[O4],delete t[z3],delete t[qs],delete t[sk],delete t[dk]}function d8(t){var e=t[O4];if(e)return e;for(var a=t.parentNode;a;){if(e=a[N8]||a[O4]){if(a=e.alternate,e.child!==null||a!==null&&a.child!==null)for(t=Mm(t);t!==null;){if(a=t[O4])return a;t=Mm(t)}return e}t=a,a=t.parentNode}return null}function P8(t){if(t=t[O4]||t[N8]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function h9(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(s1(33))}function L8(t){var e=t[pg];return e||(e=t[pg]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function V4(t){t[j9]=!0}var Ym=new Set,Xm={};function Ke(t,e){k8(t,e),k8(t+"Capture",e)}function k8(t,e){for(Xm[t]=e,t=0;t<e.length;t++)Ym.add(e[t])}var uk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gg={},mg={};function fk(t){return Us.call(mg,t)?!0:Us.call(gg,t)?!1:uk.test(t)?mg[t]=!0:(gg[t]=!0,!1)}function ko(t,e,a){if(fk(e))if(a===null)t.removeAttribute(e);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+a)}}function po(t,e,a){if(a===null)t.removeAttribute(e);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+a)}}function T0(t,e,a,r){if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(e,a,""+r)}}function rt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Km(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hk(t,e,a){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,n=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(i){a=""+i,n.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(i){a=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $s(t){if(!t._valueTracker){var e=Km(t)?"checked":"value";t._valueTracker=hk(t,e,""+t[e])}}function Qm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var a=e.getValue(),r="";return t&&(r=Km(t)?t.checked?"true":"false":t.value),t=r,t!==a?(e.setValue(t),!0):!1}function jo(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch(e){return t.body}}var pk=/[\n"\\]/g;function it(t){return t.replace(pk,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Gs(t,e,a,r,o,n,i,l){t.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?t.type=i:t.removeAttribute("type"),e!=null?i==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+rt(e)):t.value!==""+rt(e)&&(t.value=""+rt(e)):i!=="submit"&&i!=="reset"||t.removeAttribute("value"),e!=null?js(t,i,rt(e)):a!=null?js(t,i,rt(a)):r!=null&&t.removeAttribute("value"),o==null&&n!=null&&(t.defaultChecked=!!n),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+rt(l):t.removeAttribute("name")}function Jm(t,e,a,r,o,n,i,l){if(n!=null&&typeof n!="function"&&typeof n!="symbol"&&typeof n!="boolean"&&(t.type=n),e!=null||a!=null){if(!(n!=="submit"&&n!=="reset"||e!=null)){$s(t);return}a=a!=null?""+rt(a):"",e=e!=null?""+rt(e):a,l||e===t.value||(t.value=e),t.defaultValue=e}r=r!=null?r:o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=l?t.checked:!!r,t.defaultChecked=!!r,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.name=i),$s(t)}function js(t,e,a){e==="number"&&jo(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function y8(t,e,a,r){if(t=t.options,e){e={};for(var o=0;o<a.length;o++)e["$"+a[o]]=!0;for(a=0;a<t.length;a++)o=e.hasOwnProperty("$"+t[a].value),t[a].selected!==o&&(t[a].selected=o),o&&r&&(t[a].defaultSelected=!0)}else{for(a=""+rt(a),e=null,o=0;o<t.length;o++){if(t[o].value===a){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function tv(t,e,a){if(e!=null&&(e=""+rt(e),e!==t.value&&(t.value=e),a==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=a!=null?""+rt(a):""}function ev(t,e,a,r){if(e==null){if(r!=null){if(a!=null)throw Error(s1(92));if(f9(r)){if(1<r.length)throw Error(s1(93));r=r[0]}a=r}a==null&&(a=""),e=a}a=rt(e),t.defaultValue=a,r=t.textContent,r===a&&r!==""&&r!==null&&(t.value=r),$s(t)}function V8(t,e){if(e){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=e;return}}t.textContent=e}var gk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vg(t,e,a){var r=e.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,a):typeof a!="number"||a===0||gk.has(e)?e==="float"?t.cssFloat=a:t[e]=(""+a).trim():t[e]=a+"px"}function av(t,e,a){if(e!=null&&typeof e!="object")throw Error(s1(62));if(t=t.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var o in e)r=e[o],e.hasOwnProperty(o)&&a[o]!==r&&vg(t,o,r)}else for(var n in e)e.hasOwnProperty(n)&&vg(t,n,e[n])}function Ed(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vo(t){return vk.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function N0(){}var Ws=null;function Nd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var u8=null,M8=null;function Cg(t){var e=P8(t);if(e&&(t=e.stateNode)){var a=t[z3]||null;t:switch(t=e.stateNode,e.type){case"input":if(Gs(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),e=a.name,a.type==="radio"&&e!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+it(""+e)+'"][type="radio"]'),e=0;e<a.length;e++){var r=a[e];if(r!==t&&r.form===t.form){var o=r[z3]||null;if(!o)throw Error(s1(90));Gs(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(e=0;e<a.length;e++)r=a[e],r.form===t.form&&Qm(r)}break t;case"textarea":tv(t,a.value,a.defaultValue);break t;case"select":e=a.value,e!=null&&y8(t,!!a.multiple,e,!1)}}}var cs=!1;function rv(t,e,a){if(cs)return t(e,a);cs=!0;try{var r=t(e);return r}finally{if(cs=!1,(u8!==null||M8!==null)&&(Bn(),u8&&(e=u8,t=M8,M8=u8=null,Cg(e),t)))for(e=0;e<t.length;e++)Cg(t[e])}}function T9(t,e){var a=t.stateNode;if(a===null)return null;var r=a[z3]||null;if(r===null)return null;a=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s1(231,e,typeof a));return a}var U0=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Ys=!1;if(U0)try{r8={},Object.defineProperty(r8,"passive",{get:function(){Ys=!0}}),window.addEventListener("test",r8,r8),window.removeEventListener("test",r8,r8)}catch(t){Ys=!1}var r8,R6=null,Pd=null,To=null;function ov(){if(To)return To;var t,e=Pd,a=e.length,r,o="value"in R6?R6.value:R6.textContent,n=o.length;for(t=0;t<a&&e[t]===o[t];t++);var i=a-t;for(r=1;r<=i&&e[a-r]===o[n-r];r++);return To=o.slice(t,1<r?1-r:void 0)}function Bo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function go(){return!0}function xg(){return!1}function b3(t){function e(a,r,o,n,i){this._reactName=a,this._targetInst=o,this.type=r,this.nativeEvent=n,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(a=t[l],this[l]=a?a(n):n[l]);return this.isDefaultPrevented=(n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===!1)?go:xg,this.isPropagationStopped=xg,this}return E2(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),e}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ln=b3(Qe),W9=E2({},Qe,{view:0,detail:0}),Ck=b3(W9),ss,ds,n9,yn=E2({},W9,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Od,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==n9&&(n9&&t.type==="mousemove"?(ss=t.screenX-n9.screenX,ds=t.screenY-n9.screenY):ds=ss=0,n9=t),ss)},movementY:function(t){return"movementY"in t?t.movementY:ds}}),Lg=b3(yn),xk=E2({},yn,{dataTransfer:0}),Lk=b3(xk),yk=E2({},W9,{relatedTarget:0}),us=b3(yk),Mk=E2({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),wk=b3(Mk),zk=E2({},Qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bk=b3(zk),Sk=E2({},Qe,{data:0}),yg=b3(Sk),Hk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Vk[t])?!!e[t]:!1}function Od(){return Tk}var Bk=E2({},W9,{key:function(t){if(t.key){var e=Hk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Od,charCode:function(t){return t.type==="keypress"?Bo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ik=b3(Bk),Fk=E2({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mg=b3(Fk),Ak=E2({},W9,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Od}),Dk=b3(Ak),Rk=E2({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ek=b3(Rk),Nk=E2({},yn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pk=b3(Nk),Ok=E2({},Qe,{newState:0,oldState:0}),Zk=b3(Ok),_k=[9,13,27,32],Zd=U0&&"CompositionEvent"in window,m9=null;U0&&"documentMode"in document&&(m9=document.documentMode);var Uk=U0&&"TextEvent"in window&&!m9,nv=U0&&(!Zd||m9&&8<m9&&11>=m9),wg=" ",zg=!1;function iv(t,e){switch(t){case"keyup":return _k.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var f8=!1;function qk(t,e){switch(t){case"compositionend":return lv(e);case"keypress":return e.which!==32?null:(zg=!0,wg);case"textInput":return t=e.data,t===wg&&zg?null:t;default:return null}}function $k(t,e){if(f8)return t==="compositionend"||!Zd&&iv(t,e)?(t=ov(),To=Pd=R6=null,f8=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nv&&e.locale!=="ko"?null:e.data;default:return null}}var Gk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Gk[t.type]:e==="textarea"}function cv(t,e,a,r){u8?M8?M8.push(r):M8=[r]:u8=r,e=fn(e,"onChange"),0<e.length&&(a=new Ln("onChange","change",null,a,r),t.push({event:a,listeners:e}))}var v9=null,B9=null;function jk(t){rx(t,0)}function Mn(t){var e=h9(t);if(Qm(e))return t}function Sg(t,e){if(t==="change")return e}var sv=!1;U0&&(U0?(vo="oninput"in document,vo||(fs=document.createElement("div"),fs.setAttribute("oninput","return;"),vo=typeof fs.oninput=="function"),mo=vo):mo=!1,sv=mo&&(!document.documentMode||9<document.documentMode));var mo,vo,fs;function Hg(){v9&&(v9.detachEvent("onpropertychange",dv),B9=v9=null)}function dv(t){if(t.propertyName==="value"&&Mn(B9)){var e=[];cv(e,B9,t,Nd(t)),rv(jk,e)}}function Wk(t,e,a){t==="focusin"?(Hg(),v9=e,B9=a,v9.attachEvent("onpropertychange",dv)):t==="focusout"&&Hg()}function Yk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mn(B9)}function Xk(t,e){if(t==="click")return Mn(e)}function Kk(t,e){if(t==="input"||t==="change")return Mn(e)}function Qk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var U3=typeof Object.is=="function"?Object.is:Qk;function I9(t,e){if(U3(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var a=Object.keys(t),r=Object.keys(e);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var o=a[r];if(!Us.call(e,o)||!U3(t[o],e[o]))return!1}return!0}function kg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vg(t,e){var a=kg(t);t=0;for(var r;a;){if(a.nodeType===3){if(r=t+a.textContent.length,t<=e&&r>=e)return{node:a,offset:e-t};t=r}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=kg(a)}}function uv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fv(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=jo(t.document);e instanceof t.HTMLIFrameElement;){try{var a=typeof e.contentWindow.location.href=="string"}catch(r){a=!1}if(a)t=e.contentWindow;else break;e=jo(t.document)}return e}function _d(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Jk=U0&&"documentMode"in document&&11>=document.documentMode,h8=null,Xs=null,C9=null,Ks=!1;function Tg(t,e,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ks||h8==null||h8!==jo(r)||(r=h8,"selectionStart"in r&&_d(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),C9&&I9(C9,r)||(C9=r,r=fn(Xs,"onSelect"),0<r.length&&(e=new Ln("onSelect","select",null,e,a),t.push({event:e,listeners:r}),e.target=h8)))}function Re(t,e){var a={};return a[t.toLowerCase()]=e.toLowerCase(),a["Webkit"+t]="webkit"+e,a["Moz"+t]="moz"+e,a}var p8={animationend:Re("Animation","AnimationEnd"),animationiteration:Re("Animation","AnimationIteration"),animationstart:Re("Animation","AnimationStart"),transitionrun:Re("Transition","TransitionRun"),transitionstart:Re("Transition","TransitionStart"),transitioncancel:Re("Transition","TransitionCancel"),transitionend:Re("Transition","TransitionEnd")},hs={},hv={};U0&&(hv=document.createElement("div").style,"AnimationEvent"in window||(delete p8.animationend.animation,delete p8.animationiteration.animation,delete p8.animationstart.animation),"TransitionEvent"in window||delete p8.transitionend.transition);function Je(t){if(hs[t])return hs[t];if(!p8[t])return t;var e=p8[t],a;for(a in e)if(e.hasOwnProperty(a)&&a in hv)return hs[t]=e[a];return t}var pv=Je("animationend"),gv=Je("animationiteration"),mv=Je("animationstart"),tV=Je("transitionrun"),eV=Je("transitionstart"),aV=Je("transitioncancel"),vv=Je("transitionend"),Cv=new Map,Qs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qs.push("scrollEnd");function Dt(t,e){Cv.set(t,e),Ke(e,[t])}var Wo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},at=[],g8=0,Ud=0;function wn(){for(var t=g8,e=Ud=g8=0;e<t;){var a=at[e];at[e++]=null;var r=at[e];at[e++]=null;var o=at[e];at[e++]=null;var n=at[e];if(at[e++]=null,r!==null&&o!==null){var i=r.pending;i===null?o.next=o:(o.next=i.next,i.next=o),r.pending=o}n!==0&&xv(a,o,n)}}function zn(t,e,a,r){at[g8++]=t,at[g8++]=e,at[g8++]=a,at[g8++]=r,Ud|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function qd(t,e,a,r){return zn(t,e,a,r),Yo(t)}function t5(t,e){return zn(t,null,null,e),Yo(t)}function xv(t,e,a){t.lanes|=a;var r=t.alternate;r!==null&&(r.lanes|=a);for(var o=!1,n=t.return;n!==null;)n.childLanes|=a,r=n.alternate,r!==null&&(r.childLanes|=a),n.tag===22&&(t=n.stateNode,t===null||t._visibility&1||(o=!0)),t=n,n=n.return;return t.tag===3?(n=t.stateNode,o&&e!==null&&(o=31-Z3(a),t=n.hiddenUpdates,r=t[o],r===null?t[o]=[e]:r.push(e),e.lane=a|536870912),n):null}function Yo(t){if(50<H9)throw H9=0,xd=null,Error(s1(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var m8={};function rV(t,e,a,r){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function E3(t,e,a,r){return new rV(t,e,a,r)}function $d(t){return t=t.prototype,!(!t||!t.isReactComponent)}function O0(t,e){var a=t.alternate;return a===null?(a=E3(t.tag,e,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=e,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,e=t.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Lv(t,e){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,e=a.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Io(t,e,a,r,o,n){var i=0;if(r=t,typeof t=="function")$d(t)&&(i=1);else if(typeof t=="string")i=iT(t,a,s0.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Ps:return t=E3(31,a,e,o),t.elementType=Ps,t.lanes=n,t;case c8:return _e(a.children,o,n,e);case Pm:i=8,o|=24;break;case Rs:return t=E3(12,a,e,o|2),t.elementType=Rs,t.lanes=n,t;case Es:return t=E3(13,a,e,o),t.elementType=Es,t.lanes=n,t;case Ns:return t=E3(19,a,e,o),t.elementType=Ns,t.lanes=n,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E0:i=10;break t;case Om:i=9;break t;case Bd:i=11;break t;case Id:i=14;break t;case V6:i=16,r=null;break t}i=29,a=Error(s1(130,t===null?"null":typeof t,"")),r=null}return e=E3(i,a,e,o),e.elementType=t,e.type=r,e.lanes=n,e}function _e(t,e,a,r){return t=E3(7,t,r,e),t.lanes=a,t}function ps(t,e,a){return t=E3(6,t,null,e),t.lanes=a,t}function yv(t){var e=E3(18,null,null,0);return e.stateNode=t,e}function gs(t,e,a){return e=E3(4,t.children!==null?t.children:[],t.key,e),e.lanes=a,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Bg=new WeakMap;function lt(t,e){if(typeof t=="object"&&t!==null){var a=Bg.get(t);return a!==void 0?a:(e={value:t,source:e,stack:fg(e)},Bg.set(t,e),e)}return{value:t,source:e,stack:fg(e)}}var v8=[],C8=0,Xo=null,F9=0,ot=[],nt=0,Y6=null,i0=1,l0="";function D0(t,e){v8[C8++]=F9,v8[C8++]=Xo,Xo=t,F9=e}function Mv(t,e,a){ot[nt++]=i0,ot[nt++]=l0,ot[nt++]=Y6,Y6=t;var r=i0;t=l0;var o=32-Z3(r)-1;r&=~(1<<o),a+=1;var n=32-Z3(e)+o;if(30<n){var i=o-o%5;n=(r&(1<<i)-1).toString(32),r>>=i,o-=i,i0=1<<32-Z3(e)+o|a<<o|r,l0=n+t}else i0=1<<n|a<<o|r,l0=t}function Gd(t){t.return!==null&&(D0(t,1),Mv(t,1,0))}function jd(t){for(;t===Xo;)Xo=v8[--C8],v8[C8]=null,F9=v8[--C8],v8[C8]=null;for(;t===Y6;)Y6=ot[--nt],ot[nt]=null,l0=ot[--nt],ot[nt]=null,i0=ot[--nt],ot[nt]=null}function wv(t,e){ot[nt++]=i0,ot[nt++]=l0,ot[nt++]=Y6,i0=e.id,l0=e.overflow,Y6=t}var Z4=null,R2=null,c2=!1,Z6=null,ct=!1,Js=Error(s1(519));function X6(t){var e=Error(s1(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw A9(lt(e,t)),Js}function Ig(t){var e=t.stateNode,a=t.type,r=t.memoizedProps;switch(e[O4]=t,e[z3]=r,a){case"dialog":e2("cancel",e),e2("close",e);break;case"iframe":case"object":case"embed":e2("load",e);break;case"video":case"audio":for(a=0;a<N9.length;a++)e2(N9[a],e);break;case"source":e2("error",e);break;case"img":case"image":case"link":e2("error",e),e2("load",e);break;case"details":e2("toggle",e);break;case"input":e2("invalid",e),Jm(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":e2("invalid",e);break;case"textarea":e2("invalid",e),ev(e,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||e.textContent===""+a||r.suppressHydrationWarning===!0||nx(e.textContent,a)?(r.popover!=null&&(e2("beforetoggle",e),e2("toggle",e)),r.onScroll!=null&&e2("scroll",e),r.onScrollEnd!=null&&e2("scrollend",e),r.onClick!=null&&(e.onclick=N0),e=!0):e=!1,e||X6(t,!0)}function Fg(t){for(Z4=t.return;Z4;)switch(Z4.tag){case 5:case 31:case 13:ct=!1;return;case 27:case 3:ct=!0;return;default:Z4=Z4.return}}function o8(t){if(t!==Z4)return!1;if(!c2)return Fg(t),c2=!0,!1;var e=t.tag,a;if((a=e!==3&&e!==27)&&((a=e===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||zd(t.type,t.memoizedProps)),a=!a),a&&R2&&X6(t),Fg(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s1(317));R2=ym(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s1(317));R2=ym(t)}else e===27?(e=R2,te(t.type)?(t=kd,kd=null,R2=t):R2=e):R2=Z4?dt(t.stateNode.nextSibling):null;return!0}function Ge(){R2=Z4=null,c2=!1}function ms(){var t=Z6;return t!==null&&(M3===null?M3=t:M3.push.apply(M3,t),Z6=null),t}function A9(t){Z6===null?Z6=[t]:Z6.push(t)}var td=d0(null),e5=null,P0=null;function B6(t,e,a){B2(td,e._currentValue),e._currentValue=a}function Z0(t){t._currentValue=td.current,T4(td)}function ed(t,e,a){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===a)break;t=t.return}}function ad(t,e,a,r){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var n=o.dependencies;if(n!==null){var i=o.child;n=n.firstContext;t:for(;n!==null;){var l=n;n=o;for(var c=0;c<e.length;c++)if(l.context===e[c]){n.lanes|=a,l=n.alternate,l!==null&&(l.lanes|=a),ed(n.return,a,t),r||(i=null);break t}n=l.next}}else if(o.tag===18){if(i=o.return,i===null)throw Error(s1(341));i.lanes|=a,n=i.alternate,n!==null&&(n.lanes|=a),ed(i,a,t),i=null}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}}function O8(t,e,a,r){t=null;for(var o=e,n=!1;o!==null;){if(!n){if((o.flags&524288)!==0)n=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var i=o.alternate;if(i===null)throw Error(s1(387));if(i=i.memoizedProps,i!==null){var l=o.type;U3(o.pendingProps.value,i.value)||(t!==null?t.push(l):t=[l])}}else if(o===Uo.current){if(i=o.alternate,i===null)throw Error(s1(387));i.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(O9):t=[O9])}o=o.return}t!==null&&ad(e,t,a,r),e.flags|=262144}function Ko(t){for(t=t.firstContext;t!==null;){if(!U3(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function je(t){e5=t,P0=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function _4(t){return zv(e5,t)}function Co(t,e){return e5===null&&je(t),zv(t,e)}function zv(t,e){var a=e._currentValue;if(e={context:e,memoizedValue:a,next:null},P0===null){if(t===null)throw Error(s1(308));P0=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else P0=P0.next=e;return a}var oV=typeof AbortController!="undefined"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(a,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(a){return a()})}},nV=L4.unstable_scheduleCallback,iV=L4.unstable_NormalPriority,s4={$$typeof:E0,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wd(){return{controller:new oV,data:new Map,refCount:0}}function Y9(t){t.refCount--,t.refCount===0&&nV(iV,function(){t.controller.abort()})}var x9=null,rd=0,T8=0,w8=null;function lV(t,e){if(x9===null){var a=x9=[];rd=0,T8=xu(),w8={status:"pending",value:void 0,then:function(r){a.push(r)}}}return rd++,e.then(Ag,Ag),e}function Ag(){if(--rd===0&&x9!==null){w8!==null&&(w8.status="fulfilled");var t=x9;x9=null,T8=0,w8=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function cV(t,e){var a=[],r={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var o=0;o<a.length;o++)(0,a[o])(e)},function(o){for(r.status="rejected",r.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),r}var Dg=O1.S;O1.S=function(t,e){NC=P3(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&lV(t,e),Dg!==null&&Dg(t,e)};var Ue=d0(null);function Yd(){var t=Ue.current;return t!==null?t:k2.pooledCache}function Fo(t,e){e===null?B2(Ue,Ue.current):B2(Ue,e.pool)}function bv(){var t=Yd();return t===null?null:{parent:s4._currentValue,pool:t}}var Z8=Error(s1(460)),Xd=Error(s1(474)),bn=Error(s1(542)),Qo={then:function(){}};function Rg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Sv(t,e,a){switch(a=t[a],a===void 0?t.push(e):a!==e&&(e.then(N0,N0),e=a),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ng(t),t;default:if(typeof e.status=="string")e.then(N0,N0);else{if(t=k2,t!==null&&100<t.shellSuspendCounter)throw Error(s1(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var o=e;o.status="fulfilled",o.value=r}},function(r){if(e.status==="pending"){var o=e;o.status="rejected",o.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ng(t),t}throw qe=e,Z8}}function Pe(t){try{var e=t._init;return e(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(qe=a,Z8):a}}var qe=null;function Eg(){if(qe===null)throw Error(s1(459));var t=qe;return qe=null,t}function Ng(t){if(t===Z8||t===bn)throw Error(s1(483))}var z8=null,D9=0;function xo(t){var e=D9;return D9+=1,z8===null&&(z8=[]),Sv(z8,t,e)}function i9(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Lo(t,e){throw e.$$typeof===WH?Error(s1(525)):(t=Object.prototype.toString.call(e),Error(s1(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Hv(t){function e(g,C){if(t){var v=g.deletions;v===null?(g.deletions=[C],g.flags|=16):v.push(C)}}function a(g,C){if(!t)return null;for(;C!==null;)e(g,C),C=C.sibling;return null}function r(g){for(var C=new Map;g!==null;)g.key!==null?C.set(g.key,g):C.set(g.index,g),g=g.sibling;return C}function o(g,C){return g=O0(g,C),g.index=0,g.sibling=null,g}function n(g,C,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<C?(g.flags|=67108866,C):v):(g.flags|=67108866,C)):(g.flags|=1048576,C)}function i(g){return t&&g.alternate===null&&(g.flags|=67108866),g}function l(g,C,v,y){return C===null||C.tag!==6?(C=ps(v,g.mode,y),C.return=g,C):(C=o(C,v),C.return=g,C)}function c(g,C,v,y){var b=v.type;return b===c8?d(g,C,v.props.children,y,v.key):C!==null&&(C.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===V6&&Pe(b)===C.type)?(C=o(C,v.props),i9(C,v),C.return=g,C):(C=Io(v.type,v.key,v.props,null,g.mode,y),i9(C,v),C.return=g,C)}function s(g,C,v,y){return C===null||C.tag!==4||C.stateNode.containerInfo!==v.containerInfo||C.stateNode.implementation!==v.implementation?(C=gs(v,g.mode,y),C.return=g,C):(C=o(C,v.children||[]),C.return=g,C)}function d(g,C,v,y,b){return C===null||C.tag!==7?(C=_e(v,g.mode,y,b),C.return=g,C):(C=o(C,v),C.return=g,C)}function u(g,C,v){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=ps(""+C,g.mode,v),C.return=g,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case so:return v=Io(C.type,C.key,C.props,null,g.mode,v),i9(v,C),v.return=g,v;case u9:return C=gs(C,g.mode,v),C.return=g,C;case V6:return C=Pe(C),u(g,C,v)}if(f9(C)||o9(C))return C=_e(C,g.mode,v,null),C.return=g,C;if(typeof C.then=="function")return u(g,xo(C),v);if(C.$$typeof===E0)return u(g,Co(g,C),v);Lo(g,C)}return null}function f(g,C,v,y){var b=C!==null?C.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return b!==null?null:l(g,C,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case so:return v.key===b?c(g,C,v,y):null;case u9:return v.key===b?s(g,C,v,y):null;case V6:return v=Pe(v),f(g,C,v,y)}if(f9(v)||o9(v))return b!==null?null:d(g,C,v,y,null);if(typeof v.then=="function")return f(g,C,xo(v),y);if(v.$$typeof===E0)return f(g,C,Co(g,v),y);Lo(g,v)}return null}function h(g,C,v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return g=g.get(v)||null,l(C,g,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case so:return g=g.get(y.key===null?v:y.key)||null,c(C,g,y,b);case u9:return g=g.get(y.key===null?v:y.key)||null,s(C,g,y,b);case V6:return y=Pe(y),h(g,C,v,y,b)}if(f9(y)||o9(y))return g=g.get(v)||null,d(C,g,y,b,null);if(typeof y.then=="function")return h(g,C,v,xo(y),b);if(y.$$typeof===E0)return h(g,C,v,Co(C,y),b);Lo(C,y)}return null}function m(g,C,v,y){for(var b=null,V=null,H=C,D=C=0,A=null;H!==null&&D<v.length;D++){H.index>D?(A=H,H=null):A=H.sibling;var E=f(g,H,v[D],y);if(E===null){H===null&&(H=A);break}t&&H&&E.alternate===null&&e(g,H),C=n(E,C,D),V===null?b=E:V.sibling=E,V=E,H=A}if(D===v.length)return a(g,H),c2&&D0(g,D),b;if(H===null){for(;D<v.length;D++)H=u(g,v[D],y),H!==null&&(C=n(H,C,D),V===null?b=H:V.sibling=H,V=H);return c2&&D0(g,D),b}for(H=r(H);D<v.length;D++)A=h(H,g,D,v[D],y),A!==null&&(t&&A.alternate!==null&&H.delete(A.key===null?D:A.key),C=n(A,C,D),V===null?b=A:V.sibling=A,V=A);return t&&H.forEach(function(O){return e(g,O)}),c2&&D0(g,D),b}function x(g,C,v,y){if(v==null)throw Error(s1(151));for(var b=null,V=null,H=C,D=C=0,A=null,E=v.next();H!==null&&!E.done;D++,E=v.next()){H.index>D?(A=H,H=null):A=H.sibling;var O=f(g,H,E.value,y);if(O===null){H===null&&(H=A);break}t&&H&&O.alternate===null&&e(g,H),C=n(O,C,D),V===null?b=O:V.sibling=O,V=O,H=A}if(E.done)return a(g,H),c2&&D0(g,D),b;if(H===null){for(;!E.done;D++,E=v.next())E=u(g,E.value,y),E!==null&&(C=n(E,C,D),V===null?b=E:V.sibling=E,V=E);return c2&&D0(g,D),b}for(H=r(H);!E.done;D++,E=v.next())E=h(H,g,D,E.value,y),E!==null&&(t&&E.alternate!==null&&H.delete(E.key===null?D:E.key),C=n(E,C,D),V===null?b=E:V.sibling=E,V=E);return t&&H.forEach(function(_){return e(g,_)}),c2&&D0(g,D),b}function L(g,C,v,y){if(typeof v=="object"&&v!==null&&v.type===c8&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case so:t:{for(var b=v.key;C!==null;){if(C.key===b){if(b=v.type,b===c8){if(C.tag===7){a(g,C.sibling),y=o(C,v.props.children),y.return=g,g=y;break t}}else if(C.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===V6&&Pe(b)===C.type){a(g,C.sibling),y=o(C,v.props),i9(y,v),y.return=g,g=y;break t}a(g,C);break}else e(g,C);C=C.sibling}v.type===c8?(y=_e(v.props.children,g.mode,y,v.key),y.return=g,g=y):(y=Io(v.type,v.key,v.props,null,g.mode,y),i9(y,v),y.return=g,g=y)}return i(g);case u9:t:{for(b=v.key;C!==null;){if(C.key===b)if(C.tag===4&&C.stateNode.containerInfo===v.containerInfo&&C.stateNode.implementation===v.implementation){a(g,C.sibling),y=o(C,v.children||[]),y.return=g,g=y;break t}else{a(g,C);break}else e(g,C);C=C.sibling}y=gs(v,g.mode,y),y.return=g,g=y}return i(g);case V6:return v=Pe(v),L(g,C,v,y)}if(f9(v))return m(g,C,v,y);if(o9(v)){if(b=o9(v),typeof b!="function")throw Error(s1(150));return v=b.call(v),x(g,C,v,y)}if(typeof v.then=="function")return L(g,C,xo(v),y);if(v.$$typeof===E0)return L(g,C,Co(g,v),y);Lo(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,C!==null&&C.tag===6?(a(g,C.sibling),y=o(C,v),y.return=g,g=y):(a(g,C),y=ps(v,g.mode,y),y.return=g,g=y),i(g)):a(g,C)}return function(g,C,v,y){try{D9=0;var b=L(g,C,v,y);return z8=null,b}catch(H){if(H===Z8||H===bn)throw H;var V=E3(29,H,null,g.mode);return V.lanes=y,V.return=g,V}finally{}}}var We=Hv(!0),kv=Hv(!1),T6=!1;function Kd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function od(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _6(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function U6(t,e,a){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(x2&2)!==0){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,e=Yo(t),xv(t,null,a),e}return zn(t,r,e,a),Yo(t)}function L9(t,e,a){if(e=e.updateQueue,e!==null&&(e=e.shared,(a&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,a|=r,e.lanes=a,Gm(t,a)}}function vs(t,e){var a=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var o=null,n=null;if(a=a.firstBaseUpdate,a!==null){do{var i={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};n===null?o=n=i:n=n.next=i,a=a.next}while(a!==null);n===null?o=n=e:n=n.next=e}else o=n=e;a={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:n,shared:r.shared,callbacks:r.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=e:t.next=e,a.lastBaseUpdate=e}var nd=!1;function y9(){if(nd){var t=w8;if(t!==null)throw t}}function M9(t,e,a,r){nd=!1;var o=t.updateQueue;T6=!1;var n=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,s=c.next;c.next=null,i===null?n=s:i.next=s,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=s:l.next=s,d.lastBaseUpdate=c))}if(n!==null){var u=o.baseState;i=0,d=s=c=null,l=n;do{var f=l.lane&-536870913,h=f!==l.lane;if(h?(r2&f)===f:(r&f)===f){f!==0&&f===T8&&(nd=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});t:{var m=t,x=l;f=e;var L=a;switch(x.tag){case 1:if(m=x.payload,typeof m=="function"){u=m.call(L,u,f);break t}u=m;break t;case 3:m.flags=m.flags&-65537|128;case 0:if(m=x.payload,f=typeof m=="function"?m.call(L,u,f):m,f==null)break t;u=E2({},u,f);break t;case 2:T6=!0}}f=l.callback,f!==null&&(t.flags|=64,h&&(t.flags|=8192),h=o.callbacks,h===null?o.callbacks=[f]:h.push(f))}else h={lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(s=d=h,c=u):d=d.next=h,i|=f;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;h=l,l=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);d===null&&(c=u),o.baseState=c,o.firstBaseUpdate=s,o.lastBaseUpdate=d,n===null&&(o.shared.lanes=0),Q6|=i,t.lanes=i,t.memoizedState=u}}function Vv(t,e){if(typeof t!="function")throw Error(s1(191,t));t.call(e)}function Tv(t,e){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Vv(a[t],e)}var B8=d0(null),Jo=d0(0);function Pg(t,e){t=j0,B2(Jo,t),B2(B8,e),j0=t|e.baseLanes}function id(){B2(Jo,j0),B2(B8,B8.current)}function Qd(){j0=Jo.current,T4(B8),T4(Jo)}var q3=d0(null),st=null;function I6(t){var e=t.alternate;B2(r4,r4.current&1),B2(q3,t),st===null&&(e===null||B8.current!==null||e.memoizedState!==null)&&(st=t)}function ld(t){B2(r4,r4.current),B2(q3,t),st===null&&(st=t)}function Bv(t){t.tag===22?(B2(r4,r4.current),B2(q3,t),st===null&&(st=t)):F6(t)}function F6(){B2(r4,r4.current),B2(q3,q3.current)}function R3(t){T4(q3),st===t&&(st=null),T4(r4)}var r4=d0(0);function tn(t){for(var e=t;e!==null;){if(e.tag===13){var a=e.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Sd(a)||Hd(a)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var q0=0,X1=null,b2=null,l4=null,en=!1,b8=!1,Ye=!1,an=0,R9=0,S8=null,sV=0;function X2(){throw Error(s1(321))}function Jd(t,e){if(e===null)return!1;for(var a=0;a<e.length&&a<t.length;a++)if(!U3(t[a],e[a]))return!1;return!0}function tu(t,e,a,r,o,n){return q0=n,X1=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,O1.H=t===null||t.memoizedState===null?cC:uu,Ye=!1,n=a(r,o),Ye=!1,b8&&(n=Fv(e,a,r,o)),Iv(t),n}function Iv(t){O1.H=E9;var e=b2!==null&&b2.next!==null;if(q0=0,l4=b2=X1=null,en=!1,R9=0,S8=null,e)throw Error(s1(300));t===null||d4||(t=t.dependencies,t!==null&&Ko(t)&&(d4=!0))}function Fv(t,e,a,r){X1=t;var o=0;do{if(b8&&(S8=null),R9=0,b8=!1,25<=o)throw Error(s1(301));if(o+=1,l4=b2=null,t.updateQueue!=null){var n=t.updateQueue;n.lastEffect=null,n.events=null,n.stores=null,n.memoCache!=null&&(n.memoCache.index=0)}O1.H=sC,n=e(a,r)}while(b8);return n}function dV(){var t=O1.H,e=t.useState()[0];return e=typeof e.then=="function"?X9(e):e,t=t.useState()[0],(b2!==null?b2.memoizedState:null)!==t&&(X1.flags|=1024),e}function eu(){var t=an!==0;return an=0,t}function au(t,e,a){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a}function ru(t){if(en){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}en=!1}q0=0,l4=b2=X1=null,b8=!1,R9=an=0,S8=null}function o3(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return l4===null?X1.memoizedState=l4=t:l4=l4.next=t,l4}function o4(){if(b2===null){var t=X1.alternate;t=t!==null?t.memoizedState:null}else t=b2.next;var e=l4===null?X1.memoizedState:l4.next;if(e!==null)l4=e,b2=t;else{if(t===null)throw X1.alternate===null?Error(s1(467)):Error(s1(310));b2=t,t={memoizedState:b2.memoizedState,baseState:b2.baseState,baseQueue:b2.baseQueue,queue:b2.queue,next:null},l4===null?X1.memoizedState=l4=t:l4=l4.next=t}return l4}function Sn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function X9(t){var e=R9;return R9+=1,S8===null&&(S8=[]),t=Sv(S8,t,e),e=X1,(l4===null?e.memoizedState:l4.next)===null&&(e=e.alternate,O1.H=e===null||e.memoizedState===null?cC:uu),t}function Hn(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return X9(t);if(t.$$typeof===E0)return _4(t)}throw Error(s1(438,String(t)))}function ou(t){var e=null,a=X1.updateQueue;if(a!==null&&(e=a.memoCache),e==null){var r=X1.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(o){return o.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),a===null&&(a=Sn(),X1.updateQueue=a),a.memoCache=e,a=e.data[e.index],a===void 0)for(a=e.data[e.index]=Array(t),r=0;r<t;r++)a[r]=YH;return e.index++,a}function $0(t,e){return typeof e=="function"?e(t):e}function Ao(t){var e=o4();return nu(e,b2,t)}function nu(t,e,a){var r=t.queue;if(r===null)throw Error(s1(311));r.lastRenderedReducer=a;var o=t.baseQueue,n=r.pending;if(n!==null){if(o!==null){var i=o.next;o.next=n.next,n.next=i}e.baseQueue=o=n,r.pending=null}if(n=t.baseState,o===null)t.memoizedState=n;else{e=o.next;var l=i=null,c=null,s=e,d=!1;do{var u=s.lane&-536870913;if(u!==s.lane?(r2&u)===u:(q0&u)===u){var f=s.revertLane;if(f===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),u===T8&&(d=!0);else if((q0&f)===f){s=s.next,f===T8&&(d=!0);continue}else u={lane:0,revertLane:s.revertLane,gesture:null,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null},c===null?(l=c=u,i=n):c=c.next=u,X1.lanes|=f,Q6|=f;u=s.action,Ye&&a(n,u),n=s.hasEagerState?s.eagerState:a(n,u)}else f={lane:u,revertLane:s.revertLane,gesture:s.gesture,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null},c===null?(l=c=f,i=n):c=c.next=f,X1.lanes|=u,Q6|=u;s=s.next}while(s!==null&&s!==e);if(c===null?i=n:c.next=l,!U3(n,t.memoizedState)&&(d4=!0,d&&(a=w8,a!==null)))throw a;t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}return o===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Cs(t){var e=o4(),a=e.queue;if(a===null)throw Error(s1(311));a.lastRenderedReducer=t;var r=a.dispatch,o=a.pending,n=e.memoizedState;if(o!==null){a.pending=null;var i=o=o.next;do n=t(n,i.action),i=i.next;while(i!==o);U3(n,e.memoizedState)||(d4=!0),e.memoizedState=n,e.baseQueue===null&&(e.baseState=n),a.lastRenderedState=n}return[n,r]}function Av(t,e,a){var r=X1,o=o4(),n=c2;if(n){if(a===void 0)throw Error(s1(407));a=a()}else a=e();var i=!U3((b2||o).memoizedState,a);if(i&&(o.memoizedState=a,d4=!0),o=o.queue,iu(Ev.bind(null,r,o,t),[t]),o.getSnapshot!==e||i||l4!==null&&l4.memoizedState.tag&1){if(r.flags|=2048,I8(9,{destroy:void 0},Rv.bind(null,r,o,a,e),null),k2===null)throw Error(s1(349));n||(q0&127)!==0||Dv(r,e,a)}return a}function Dv(t,e,a){t.flags|=16384,t={getSnapshot:e,value:a},e=X1.updateQueue,e===null?(e=Sn(),X1.updateQueue=e,e.stores=[t]):(a=e.stores,a===null?e.stores=[t]:a.push(t))}function Rv(t,e,a,r){e.value=a,e.getSnapshot=r,Nv(e)&&Pv(t)}function Ev(t,e,a){return a(function(){Nv(e)&&Pv(t)})}function Nv(t){var e=t.getSnapshot;t=t.value;try{var a=e();return!U3(t,a)}catch(r){return!0}}function Pv(t){var e=t5(t,2);e!==null&&w3(e,t,2)}function cd(t){var e=o3();if(typeof t=="function"){var a=t;if(t=a(),Ye){D6(!0);try{a()}finally{D6(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$0,lastRenderedState:t},e}function Ov(t,e,a,r){return t.baseState=a,nu(t,b2,typeof r=="function"?r:$0)}function uV(t,e,a,r,o){if(Vn(t))throw Error(s1(485));if(t=e.action,t!==null){var n={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){n.listeners.push(i)}};O1.T!==null?a(!0):n.isTransition=!1,r(n),a=e.pending,a===null?(n.next=e.pending=n,Zv(e,n)):(n.next=a.next,e.pending=a.next=n)}}function Zv(t,e){var a=e.action,r=e.payload,o=t.state;if(e.isTransition){var n=O1.T,i={};O1.T=i;try{var l=a(o,r),c=O1.S;c!==null&&c(i,l),Og(t,e,l)}catch(s){sd(t,e,s)}finally{n!==null&&i.types!==null&&(n.types=i.types),O1.T=n}}else try{n=a(o,r),Og(t,e,n)}catch(s){sd(t,e,s)}}function Og(t,e,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){Zg(t,e,r)},function(r){return sd(t,e,r)}):Zg(t,e,a)}function Zg(t,e,a){e.status="fulfilled",e.value=a,_v(e),t.state=a,e=t.pending,e!==null&&(a=e.next,a===e?t.pending=null:(a=a.next,e.next=a,Zv(t,a)))}function sd(t,e,a){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=a,_v(e),e=e.next;while(e!==r)}t.action=null}function _v(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Uv(t,e){return e}function _g(t,e){if(c2){var a=k2.formState;if(a!==null){t:{var r=X1;if(c2){if(R2){e:{for(var o=R2,n=ct;o.nodeType!==8;){if(!n){o=null;break e}if(o=dt(o.nextSibling),o===null){o=null;break e}}n=o.data,o=n==="F!"||n==="F"?o:null}if(o){R2=dt(o.nextSibling),r=o.data==="F!";break t}}X6(r)}r=!1}r&&(e=a[0])}}return a=o3(),a.memoizedState=a.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uv,lastRenderedState:e},a.queue=r,a=nC.bind(null,X1,r),r.dispatch=a,r=cd(!1),n=du.bind(null,X1,!1,r.queue),r=o3(),o={state:e,dispatch:null,action:t,pending:null},r.queue=o,a=uV.bind(null,X1,o,n,a),o.dispatch=a,r.memoizedState=t,[e,a,!1]}function Ug(t){var e=o4();return qv(e,b2,t)}function qv(t,e,a){if(e=nu(t,e,Uv)[0],t=Ao($0)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=X9(e)}catch(i){throw i===Z8?bn:i}else r=e;e=o4();var o=e.queue,n=o.dispatch;return a!==e.memoizedState&&(X1.flags|=2048,I8(9,{destroy:void 0},fV.bind(null,o,a),null)),[r,n,t]}function fV(t,e){t.action=e}function qg(t){var e=o4(),a=b2;if(a!==null)return qv(e,a,t);o4(),e=e.memoizedState,a=o4();var r=a.queue.dispatch;return a.memoizedState=t,[e,r,!1]}function I8(t,e,a,r){return t={tag:t,create:a,deps:r,inst:e,next:null},e=X1.updateQueue,e===null&&(e=Sn(),X1.updateQueue=e),a=e.lastEffect,a===null?e.lastEffect=t.next=t:(r=a.next,a.next=t,t.next=r,e.lastEffect=t),t}function $v(){return o4().memoizedState}function Do(t,e,a,r){var o=o3();X1.flags|=t,o.memoizedState=I8(1|e,{destroy:void 0},a,r===void 0?null:r)}function kn(t,e,a,r){var o=o4();r=r===void 0?null:r;var n=o.memoizedState.inst;b2!==null&&r!==null&&Jd(r,b2.memoizedState.deps)?o.memoizedState=I8(e,n,a,r):(X1.flags|=t,o.memoizedState=I8(1|e,n,a,r))}function $g(t,e){Do(8390656,8,t,e)}function iu(t,e){kn(2048,8,t,e)}function hV(t){X1.flags|=4;var e=X1.updateQueue;if(e===null)e=Sn(),X1.updateQueue=e,e.events=[t];else{var a=e.events;a===null?e.events=[t]:a.push(t)}}function Gv(t){var e=o4().memoizedState;return hV({ref:e,nextImpl:t}),function(){if((x2&2)!==0)throw Error(s1(440));return e.impl.apply(void 0,arguments)}}function jv(t,e){return kn(4,2,t,e)}function Wv(t,e){return kn(4,4,t,e)}function Yv(t,e){if(typeof e=="function"){t=t();var a=e(t);return function(){typeof a=="function"?a():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xv(t,e,a){a=a!=null?a.concat([t]):null,kn(4,4,Yv.bind(null,e,t),a)}function lu(){}function Kv(t,e){var a=o4();e=e===void 0?null:e;var r=a.memoizedState;return e!==null&&Jd(e,r[1])?r[0]:(a.memoizedState=[t,e],t)}function Qv(t,e){var a=o4();e=e===void 0?null:e;var r=a.memoizedState;if(e!==null&&Jd(e,r[1]))return r[0];if(r=t(),Ye){D6(!0);try{t()}finally{D6(!1)}}return a.memoizedState=[r,e],r}function cu(t,e,a){return a===void 0||(q0&1073741824)!==0&&(r2&261930)===0?t.memoizedState=e:(t.memoizedState=a,t=OC(),X1.lanes|=t,Q6|=t,a)}function Jv(t,e,a,r){return U3(a,e)?a:B8.current!==null?(t=cu(t,a,r),U3(t,e)||(d4=!0),t):(q0&42)===0||(q0&1073741824)!==0&&(r2&261930)===0?(d4=!0,t.memoizedState=a):(t=OC(),X1.lanes|=t,Q6|=t,e)}function tC(t,e,a,r,o){var n=L2.p;L2.p=n!==0&&8>n?n:8;var i=O1.T,l={};O1.T=l,du(t,!1,e,a);try{var c=o(),s=O1.S;if(s!==null&&s(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=cV(c,r);w9(t,e,d,_3(t))}else w9(t,e,r,_3(t))}catch(u){w9(t,e,{then:function(){},status:"rejected",reason:u},_3())}finally{L2.p=n,i!==null&&l.types!==null&&(i.types=l.types),O1.T=i}}function pV(){}function dd(t,e,a,r){if(t.tag!==5)throw Error(s1(476));var o=eC(t).queue;tC(t,o,e,Ze,a===null?pV:function(){return aC(t),a(r)})}function eC(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ze,baseState:Ze,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$0,lastRenderedState:Ze},next:null};var a={};return e.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$0,lastRenderedState:a},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function aC(t){var e=eC(t);e.next===null&&(e=t.alternate.memoizedState),w9(t,e.next.queue,{},_3())}function su(){return _4(O9)}function rC(){return o4().memoizedState}function oC(){return o4().memoizedState}function gV(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var a=_3();t=_6(a);var r=U6(e,t,a);r!==null&&(w3(r,e,a),L9(r,e,a)),e={cache:Wd()},t.payload=e;return}e=e.return}}function mV(t,e,a){var r=_3();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Vn(t)?iC(e,a):(a=qd(t,e,a,r),a!==null&&(w3(a,t,r),lC(a,e,r)))}function nC(t,e,a){var r=_3();w9(t,e,a,r)}function w9(t,e,a,r){var o={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vn(t))iC(e,o);else{var n=t.alternate;if(t.lanes===0&&(n===null||n.lanes===0)&&(n=e.lastRenderedReducer,n!==null))try{var i=e.lastRenderedState,l=n(i,a);if(o.hasEagerState=!0,o.eagerState=l,U3(l,i))return zn(t,e,o,0),k2===null&&wn(),!1}catch(c){}finally{}if(a=qd(t,e,o,r),a!==null)return w3(a,t,r),lC(a,e,r),!0}return!1}function du(t,e,a,r){if(r={lane:2,revertLane:xu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Vn(t)){if(e)throw Error(s1(479))}else e=qd(t,a,r,2),e!==null&&w3(e,t,2)}function Vn(t){var e=t.alternate;return t===X1||e!==null&&e===X1}function iC(t,e){b8=en=!0;var a=t.pending;a===null?e.next=e:(e.next=a.next,a.next=e),t.pending=e}function lC(t,e,a){if((a&4194048)!==0){var r=e.lanes;r&=t.pendingLanes,a|=r,e.lanes=a,Gm(t,a)}}var E9={readContext:_4,use:Hn,useCallback:X2,useContext:X2,useEffect:X2,useImperativeHandle:X2,useLayoutEffect:X2,useInsertionEffect:X2,useMemo:X2,useReducer:X2,useRef:X2,useState:X2,useDebugValue:X2,useDeferredValue:X2,useTransition:X2,useSyncExternalStore:X2,useId:X2,useHostTransitionStatus:X2,useFormState:X2,useActionState:X2,useOptimistic:X2,useMemoCache:X2,useCacheRefresh:X2};E9.useEffectEvent=X2;var cC={readContext:_4,use:Hn,useCallback:function(t,e){return o3().memoizedState=[t,e===void 0?null:e],t},useContext:_4,useEffect:$g,useImperativeHandle:function(t,e,a){a=a!=null?a.concat([t]):null,Do(4194308,4,Yv.bind(null,e,t),a)},useLayoutEffect:function(t,e){return Do(4194308,4,t,e)},useInsertionEffect:function(t,e){Do(4,2,t,e)},useMemo:function(t,e){var a=o3();e=e===void 0?null:e;var r=t();if(Ye){D6(!0);try{t()}finally{D6(!1)}}return a.memoizedState=[r,e],r},useReducer:function(t,e,a){var r=o3();if(a!==void 0){var o=a(e);if(Ye){D6(!0);try{a(e)}finally{D6(!1)}}}else o=e;return r.memoizedState=r.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},r.queue=t,t=t.dispatch=mV.bind(null,X1,t),[r.memoizedState,t]},useRef:function(t){var e=o3();return t={current:t},e.memoizedState=t},useState:function(t){t=cd(t);var e=t.queue,a=nC.bind(null,X1,e);return e.dispatch=a,[t.memoizedState,a]},useDebugValue:lu,useDeferredValue:function(t,e){var a=o3();return cu(a,t,e)},useTransition:function(){var t=cd(!1);return t=tC.bind(null,X1,t.queue,!0,!1),o3().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,a){var r=X1,o=o3();if(c2){if(a===void 0)throw Error(s1(407));a=a()}else{if(a=e(),k2===null)throw Error(s1(349));(r2&127)!==0||Dv(r,e,a)}o.memoizedState=a;var n={value:a,getSnapshot:e};return o.queue=n,$g(Ev.bind(null,r,n,t),[t]),r.flags|=2048,I8(9,{destroy:void 0},Rv.bind(null,r,n,a,e),null),a},useId:function(){var t=o3(),e=k2.identifierPrefix;if(c2){var a=l0,r=i0;a=(r&~(1<<32-Z3(r)-1)).toString(32)+a,e="_"+e+"R_"+a,a=an++,0<a&&(e+="H"+a.toString(32)),e+="_"}else a=sV++,e="_"+e+"r_"+a.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:su,useFormState:_g,useActionState:_g,useOptimistic:function(t){var e=o3();e.memoizedState=e.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=a,e=du.bind(null,X1,!0,a),a.dispatch=e,[t,e]},useMemoCache:ou,useCacheRefresh:function(){return o3().memoizedState=gV.bind(null,X1)},useEffectEvent:function(t){var e=o3(),a={impl:t};return e.memoizedState=a,function(){if((x2&2)!==0)throw Error(s1(440));return a.impl.apply(void 0,arguments)}}},uu={readContext:_4,use:Hn,useCallback:Kv,useContext:_4,useEffect:iu,useImperativeHandle:Xv,useInsertionEffect:jv,useLayoutEffect:Wv,useMemo:Qv,useReducer:Ao,useRef:$v,useState:function(){return Ao($0)},useDebugValue:lu,useDeferredValue:function(t,e){var a=o4();return Jv(a,b2.memoizedState,t,e)},useTransition:function(){var t=Ao($0)[0],e=o4().memoizedState;return[typeof t=="boolean"?t:X9(t),e]},useSyncExternalStore:Av,useId:rC,useHostTransitionStatus:su,useFormState:Ug,useActionState:Ug,useOptimistic:function(t,e){var a=o4();return Ov(a,b2,t,e)},useMemoCache:ou,useCacheRefresh:oC};uu.useEffectEvent=Gv;var sC={readContext:_4,use:Hn,useCallback:Kv,useContext:_4,useEffect:iu,useImperativeHandle:Xv,useInsertionEffect:jv,useLayoutEffect:Wv,useMemo:Qv,useReducer:Cs,useRef:$v,useState:function(){return Cs($0)},useDebugValue:lu,useDeferredValue:function(t,e){var a=o4();return b2===null?cu(a,t,e):Jv(a,b2.memoizedState,t,e)},useTransition:function(){var t=Cs($0)[0],e=o4().memoizedState;return[typeof t=="boolean"?t:X9(t),e]},useSyncExternalStore:Av,useId:rC,useHostTransitionStatus:su,useFormState:qg,useActionState:qg,useOptimistic:function(t,e){var a=o4();return b2!==null?Ov(a,b2,t,e):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ou,useCacheRefresh:oC};sC.useEffectEvent=Gv;function xs(t,e,a,r){e=t.memoizedState,a=a(r,e),a=a==null?e:E2({},e,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ud={enqueueSetState:function(t,e,a){t=t._reactInternals;var r=_3(),o=_6(r);o.payload=e,a!=null&&(o.callback=a),e=U6(t,o,r),e!==null&&(w3(e,t,r),L9(e,t,r))},enqueueReplaceState:function(t,e,a){t=t._reactInternals;var r=_3(),o=_6(r);o.tag=1,o.payload=e,a!=null&&(o.callback=a),e=U6(t,o,r),e!==null&&(w3(e,t,r),L9(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var a=_3(),r=_6(a);r.tag=2,e!=null&&(r.callback=e),e=U6(t,r,a),e!==null&&(w3(e,t,a),L9(e,t,a))}};function Gg(t,e,a,r,o,n,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,n,i):e.prototype&&e.prototype.isPureReactComponent?!I9(a,r)||!I9(o,n):!0}function jg(t,e,a,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(a,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(a,r),e.state!==t&&ud.enqueueReplaceState(e,e.state,null)}function Xe(t,e){var a=e;if("ref"in e){a={};for(var r in e)r!=="ref"&&(a[r]=e[r])}if(t=t.defaultProps){a===e&&(a=E2({},a));for(var o in t)a[o]===void 0&&(a[o]=t[o])}return a}function dC(t){Wo(t)}function uC(t){console.error(t)}function fC(t){Wo(t)}function rn(t,e){try{var a=t.onUncaughtError;a(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function Wg(t,e,a){try{var r=t.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function fd(t,e,a){return a=_6(a),a.tag=3,a.payload={element:null},a.callback=function(){rn(t,e)},a}function hC(t){return t=_6(t),t.tag=3,t}function pC(t,e,a,r){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var n=r.value;t.payload=function(){return o(n)},t.callback=function(){Wg(e,a,r)}}var i=a.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){Wg(e,a,r),typeof o!="function"&&(q6===null?q6=new Set([this]):q6.add(this));var l=r.stack;this.componentDidCatch(r.value,{componentStack:l!==null?l:""})})}function vV(t,e,a,r,o){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=a.alternate,e!==null&&O8(e,a,o,!0),a=q3.current,a!==null){switch(a.tag){case 31:case 13:return st===null?sn():a.alternate===null&&K2===0&&(K2=3),a.flags&=-257,a.flags|=65536,a.lanes=o,r===Qo?a.flags|=16384:(e=a.updateQueue,e===null?a.updateQueue=new Set([r]):e.add(r),Ts(t,r,o)),!1;case 22:return a.flags|=65536,r===Qo?a.flags|=16384:(e=a.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=e):(a=e.retryQueue,a===null?e.retryQueue=new Set([r]):a.add(r)),Ts(t,r,o)),!1}throw Error(s1(435,a.tag))}return Ts(t,r,o),sn(),!1}if(c2)return e=q3.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=o,r!==Js&&(t=Error(s1(422),{cause:r}),A9(lt(t,a)))):(r!==Js&&(e=Error(s1(423),{cause:r}),A9(lt(e,a))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,r=lt(r,a),o=fd(t.stateNode,r,o),vs(t,o),K2!==4&&(K2=2)),!1;var n=Error(s1(520),{cause:r});if(n=lt(n,a),S9===null?S9=[n]:S9.push(n),K2!==4&&(K2=2),e===null)return!0;r=lt(r,a),a=e;do{switch(a.tag){case 3:return a.flags|=65536,t=o&-o,a.lanes|=t,t=fd(a.stateNode,r,t),vs(a,t),!1;case 1:if(e=a.type,n=a.stateNode,(a.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(q6===null||!q6.has(n))))return a.flags|=65536,o&=-o,a.lanes|=o,o=hC(o),pC(o,t,a,r),vs(a,o),!1}a=a.return}while(a!==null);return!1}var fu=Error(s1(461)),d4=!1;function P4(t,e,a,r){e.child=t===null?kv(e,null,a,r):We(e,t.child,a,r)}function Yg(t,e,a,r,o){a=a.render;var n=e.ref;if("ref"in r){var i={};for(var l in r)l!=="ref"&&(i[l]=r[l])}else i=r;return je(e),r=tu(t,e,a,i,n,o),l=eu(),t!==null&&!d4?(au(t,e,o),G0(t,e,o)):(c2&&l&&Gd(e),e.flags|=1,P4(t,e,r,o),e.child)}function Xg(t,e,a,r,o){if(t===null){var n=a.type;return typeof n=="function"&&!$d(n)&&n.defaultProps===void 0&&a.compare===null?(e.tag=15,e.type=n,gC(t,e,n,r,o)):(t=Io(a.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(n=t.child,!hu(t,o)){var i=n.memoizedProps;if(a=a.compare,a=a!==null?a:I9,a(i,r)&&t.ref===e.ref)return G0(t,e,o)}return e.flags|=1,t=O0(n,r),t.ref=e.ref,t.return=e,e.child=t}function gC(t,e,a,r,o){if(t!==null){var n=t.memoizedProps;if(I9(n,r)&&t.ref===e.ref)if(d4=!1,e.pendingProps=r=n,hu(t,o))(t.flags&131072)!==0&&(d4=!0);else return e.lanes=t.lanes,G0(t,e,o)}return hd(t,e,a,r,o)}function mC(t,e,a,r){var o=r.children,n=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((e.flags&128)!==0){if(n=n!==null?n.baseLanes|a:a,t!==null){for(r=e.child=t.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~n}else r=0,e.child=null;return Kg(t,e,n,a,r)}if((a&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fo(e,n!==null?n.cachePool:null),n!==null?Pg(e,n):id(),Bv(e);else return r=e.lanes=536870912,Kg(t,e,n!==null?n.baseLanes|a:a,a,r)}else n!==null?(Fo(e,n.cachePool),Pg(e,n),F6(e),e.memoizedState=null):(t!==null&&Fo(e,null),id(),F6(e));return P4(t,e,o,a),e.child}function p9(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Kg(t,e,a,r,o){var n=Yd();return n=n===null?null:{parent:s4._currentValue,pool:n},e.memoizedState={baseLanes:a,cachePool:n},t!==null&&Fo(e,null),id(),Bv(e),t!==null&&O8(t,e,r,!0),e.childLanes=o,null}function Ro(t,e){return e=on({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Qg(t,e,a){return We(e,t.child,null,a),t=Ro(e,e.pendingProps),t.flags|=2,R3(e),e.memoizedState=null,t}function CV(t,e,a){var r=e.pendingProps,o=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(c2){if(r.mode==="hidden")return t=Ro(e,r),e.lanes=536870912,p9(null,t);if(ld(e),(t=R2)?(t=cx(t,ct),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Y6!==null?{id:i0,overflow:l0}:null,retryLane:536870912,hydrationErrors:null},a=yv(t),a.return=e,e.child=a,Z4=e,R2=null)):t=null,t===null)throw X6(e);return e.lanes=536870912,null}return Ro(e,r)}var n=t.memoizedState;if(n!==null){var i=n.dehydrated;if(ld(e),o)if(e.flags&256)e.flags&=-257,e=Qg(t,e,a);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(s1(558));else if(d4||O8(t,e,a,!1),o=(a&t.childLanes)!==0,d4||o){if(r=k2,r!==null&&(i=jm(r,a),i!==0&&i!==n.retryLane))throw n.retryLane=i,t5(t,i),w3(r,t,i),fu;sn(),e=Qg(t,e,a)}else t=n.treeContext,R2=dt(i.nextSibling),Z4=e,c2=!0,Z6=null,ct=!1,t!==null&&wv(e,t),e=Ro(e,r),e.flags|=4096;return e}return t=O0(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Eo(t,e){var a=e.ref;if(a===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s1(284));(t===null||t.ref!==a)&&(e.flags|=4194816)}}function hd(t,e,a,r,o){return je(e),a=tu(t,e,a,r,void 0,o),r=eu(),t!==null&&!d4?(au(t,e,o),G0(t,e,o)):(c2&&r&&Gd(e),e.flags|=1,P4(t,e,a,o),e.child)}function Jg(t,e,a,r,o,n){return je(e),e.updateQueue=null,a=Fv(e,r,a,o),Iv(t),r=eu(),t!==null&&!d4?(au(t,e,n),G0(t,e,n)):(c2&&r&&Gd(e),e.flags|=1,P4(t,e,a,n),e.child)}function tm(t,e,a,r,o){if(je(e),e.stateNode===null){var n=m8,i=a.contextType;typeof i=="object"&&i!==null&&(n=_4(i)),n=new a(r,n),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=ud,e.stateNode=n,n._reactInternals=e,n=e.stateNode,n.props=r,n.state=e.memoizedState,n.refs={},Kd(e),i=a.contextType,n.context=typeof i=="object"&&i!==null?_4(i):m8,n.state=e.memoizedState,i=a.getDerivedStateFromProps,typeof i=="function"&&(xs(e,a,i,r),n.state=e.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(i=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),i!==n.state&&ud.enqueueReplaceState(n,n.state,null),M9(e,r,n,o),y9(),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){n=e.stateNode;var l=e.memoizedProps,c=Xe(a,l);n.props=c;var s=n.context,d=a.contextType;i=m8,typeof d=="object"&&d!==null&&(i=_4(d));var u=a.getDerivedStateFromProps;d=typeof u=="function"||typeof n.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,d||typeof n.UNSAFE_componentWillReceiveProps!="function"&&typeof n.componentWillReceiveProps!="function"||(l||s!==i)&&jg(e,n,r,i),T6=!1;var f=e.memoizedState;n.state=f,M9(e,r,n,o),y9(),s=e.memoizedState,l||f!==s||T6?(typeof u=="function"&&(xs(e,a,u,r),s=e.memoizedState),(c=T6||Gg(e,a,c,r,f,s,i))?(d||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount()),typeof n.componentDidMount=="function"&&(e.flags|=4194308)):(typeof n.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=s),n.props=r,n.state=s,n.context=i,r=c):(typeof n.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{n=e.stateNode,od(t,e),i=e.memoizedProps,d=Xe(a,i),n.props=d,u=e.pendingProps,f=n.context,s=a.contextType,c=m8,typeof s=="object"&&s!==null&&(c=_4(s)),l=a.getDerivedStateFromProps,(s=typeof l=="function"||typeof n.getSnapshotBeforeUpdate=="function")||typeof n.UNSAFE_componentWillReceiveProps!="function"&&typeof n.componentWillReceiveProps!="function"||(i!==u||f!==c)&&jg(e,n,r,c),T6=!1,f=e.memoizedState,n.state=f,M9(e,r,n,o),y9();var h=e.memoizedState;i!==u||f!==h||T6||t!==null&&t.dependencies!==null&&Ko(t.dependencies)?(typeof l=="function"&&(xs(e,a,l,r),h=e.memoizedState),(d=T6||Gg(e,a,d,r,f,h,c)||t!==null&&t.dependencies!==null&&Ko(t.dependencies))?(s||typeof n.UNSAFE_componentWillUpdate!="function"&&typeof n.componentWillUpdate!="function"||(typeof n.componentWillUpdate=="function"&&n.componentWillUpdate(r,h,c),typeof n.UNSAFE_componentWillUpdate=="function"&&n.UNSAFE_componentWillUpdate(r,h,c)),typeof n.componentDidUpdate=="function"&&(e.flags|=4),typeof n.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof n.componentDidUpdate!="function"||i===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof n.getSnapshotBeforeUpdate!="function"||i===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),n.props=r,n.state=h,n.context=c,r=d):(typeof n.componentDidUpdate!="function"||i===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof n.getSnapshotBeforeUpdate!="function"||i===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return n=r,Eo(t,e),r=(e.flags&128)!==0,n||r?(n=e.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:n.render(),e.flags|=1,t!==null&&r?(e.child=We(e,t.child,null,o),e.child=We(e,null,a,o)):P4(t,e,a,o),e.memoizedState=n.state,t=e.child):t=G0(t,e,o),t}function em(t,e,a,r){return Ge(),e.flags|=256,P4(t,e,a,r),e.child}var Ls={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ys(t){return{baseLanes:t,cachePool:bv()}}function Ms(t,e,a){return t=t!==null?t.childLanes&~a:0,e&&(t|=N3),t}function vC(t,e,a){var r=e.pendingProps,o=!1,n=(e.flags&128)!==0,i;if((i=n)||(i=t!==null&&t.memoizedState===null?!1:(r4.current&2)!==0),i&&(o=!0,e.flags&=-129),i=(e.flags&32)!==0,e.flags&=-33,t===null){if(c2){if(o?I6(e):F6(e),(t=R2)?(t=cx(t,ct),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Y6!==null?{id:i0,overflow:l0}:null,retryLane:536870912,hydrationErrors:null},a=yv(t),a.return=e,e.child=a,Z4=e,R2=null)):t=null,t===null)throw X6(e);return Hd(t)?e.lanes=32:e.lanes=536870912,null}var l=r.children;return r=r.fallback,o?(F6(e),o=e.mode,l=on({mode:"hidden",children:l},o),r=_e(r,o,a,null),l.return=e,r.return=e,l.sibling=r,e.child=l,r=e.child,r.memoizedState=ys(a),r.childLanes=Ms(t,i,a),e.memoizedState=Ls,p9(null,r)):(I6(e),pd(e,l))}var c=t.memoizedState;if(c!==null&&(l=c.dehydrated,l!==null)){if(n)e.flags&256?(I6(e),e.flags&=-257,e=ws(t,e,a)):e.memoizedState!==null?(F6(e),e.child=t.child,e.flags|=128,e=null):(F6(e),l=r.fallback,o=e.mode,r=on({mode:"visible",children:r.children},o),l=_e(l,o,a,null),l.flags|=2,r.return=e,l.return=e,r.sibling=l,e.child=r,We(e,t.child,null,a),r=e.child,r.memoizedState=ys(a),r.childLanes=Ms(t,i,a),e.memoizedState=Ls,e=p9(null,r));else if(I6(e),Hd(l)){if(i=l.nextSibling&&l.nextSibling.dataset,i)var s=i.dgst;i=s,r=Error(s1(419)),r.stack="",r.digest=i,A9({value:r,source:null,stack:null}),e=ws(t,e,a)}else if(d4||O8(t,e,a,!1),i=(a&t.childLanes)!==0,d4||i){if(i=k2,i!==null&&(r=jm(i,a),r!==0&&r!==c.retryLane))throw c.retryLane=r,t5(t,r),w3(i,t,r),fu;Sd(l)||sn(),e=ws(t,e,a)}else Sd(l)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,R2=dt(l.nextSibling),Z4=e,c2=!0,Z6=null,ct=!1,t!==null&&wv(e,t),e=pd(e,r.children),e.flags|=4096);return e}return o?(F6(e),l=r.fallback,o=e.mode,c=t.child,s=c.sibling,r=O0(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&65011712,s!==null?l=O0(s,l):(l=_e(l,o,a,null),l.flags|=2),l.return=e,r.return=e,r.sibling=l,e.child=r,p9(null,r),r=e.child,l=t.child.memoizedState,l===null?l=ys(a):(o=l.cachePool,o!==null?(c=s4._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=bv(),l={baseLanes:l.baseLanes|a,cachePool:o}),r.memoizedState=l,r.childLanes=Ms(t,i,a),e.memoizedState=Ls,p9(t.child,r)):(I6(e),a=t.child,t=a.sibling,a=O0(a,{mode:"visible",children:r.children}),a.return=e,a.sibling=null,t!==null&&(i=e.deletions,i===null?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=a,e.memoizedState=null,a)}function pd(t,e){return e=on({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function on(t,e){return t=E3(22,t,null,e),t.lanes=0,t}function ws(t,e,a){return We(e,t.child,null,a),t=pd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function am(t,e,a){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ed(t.return,e,a)}function zs(t,e,a,r,o,n){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:o,treeForkCount:n}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=a,i.tailMode=o,i.treeForkCount=n)}function CC(t,e,a){var r=e.pendingProps,o=r.revealOrder,n=r.tail;r=r.children;var i=r4.current,l=(i&2)!==0;if(l?(i=i&1|2,e.flags|=128):i&=1,B2(r4,i),P4(t,e,r,a),r=c2?F9:0,!l&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&am(t,a,e);else if(t.tag===19)am(t,a,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(o){case"forwards":for(a=e.child,o=null;a!==null;)t=a.alternate,t!==null&&tn(t)===null&&(o=a),a=a.sibling;a=o,a===null?(o=e.child,e.child=null):(o=a.sibling,a.sibling=null),zs(e,!1,o,a,n,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&tn(t)===null){e.child=o;break}t=o.sibling,o.sibling=a,a=o,o=t}zs(e,!0,a,null,n,r);break;case"together":zs(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function G0(t,e,a){if(t!==null&&(e.dependencies=t.dependencies),Q6|=e.lanes,(a&e.childLanes)===0)if(t!==null){if(O8(t,e,a,!1),(a&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(s1(153));if(e.child!==null){for(t=e.child,a=O0(t,t.pendingProps),e.child=a,a.return=e;t.sibling!==null;)t=t.sibling,a=a.sibling=O0(t,t.pendingProps),a.return=e;a.sibling=null}return e.child}function hu(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Ko(t)))}function xV(t,e,a){switch(e.tag){case 3:qo(e,e.stateNode.containerInfo),B6(e,s4,t.memoizedState.cache),Ge();break;case 27:case 5:_s(e);break;case 4:qo(e,e.stateNode.containerInfo);break;case 10:B6(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,ld(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(I6(e),e.flags|=128,null):(a&e.child.childLanes)!==0?vC(t,e,a):(I6(e),t=G0(t,e,a),t!==null?t.sibling:null);I6(e);break;case 19:var o=(t.flags&128)!==0;if(r=(a&e.childLanes)!==0,r||(O8(t,e,a,!1),r=(a&e.childLanes)!==0),o){if(r)return CC(t,e,a);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),B2(r4,r4.current),r)break;return null;case 22:return e.lanes=0,mC(t,e,a,e.pendingProps);case 24:B6(e,s4,t.memoizedState.cache)}return G0(t,e,a)}function xC(t,e,a){if(t!==null)if(t.memoizedProps!==e.pendingProps)d4=!0;else{if(!hu(t,a)&&(e.flags&128)===0)return d4=!1,xV(t,e,a);d4=(t.flags&131072)!==0}else d4=!1,c2&&(e.flags&1048576)!==0&&Mv(e,F9,e.index);switch(e.lanes=0,e.tag){case 16:t:{var r=e.pendingProps;if(t=Pe(e.elementType),e.type=t,typeof t=="function")$d(t)?(r=Xe(t,r),e.tag=1,e=tm(null,e,t,r,a)):(e.tag=0,e=hd(null,e,t,r,a));else{if(t!=null){var o=t.$$typeof;if(o===Bd){e.tag=11,e=Yg(null,e,t,r,a);break t}else if(o===Id){e.tag=14,e=Xg(null,e,t,r,a);break t}}throw e=Os(t)||t,Error(s1(306,e,""))}}return e;case 0:return hd(t,e,e.type,e.pendingProps,a);case 1:return r=e.type,o=Xe(r,e.pendingProps),tm(t,e,r,o,a);case 3:t:{if(qo(e,e.stateNode.containerInfo),t===null)throw Error(s1(387));r=e.pendingProps;var n=e.memoizedState;o=n.element,od(t,e),M9(e,r,null,a);var i=e.memoizedState;if(r=i.cache,B6(e,s4,r),r!==n.cache&&ad(e,[s4],a,!0),y9(),r=i.element,n.isDehydrated)if(n={element:r,isDehydrated:!1,cache:i.cache},e.updateQueue.baseState=n,e.memoizedState=n,e.flags&256){e=em(t,e,r,a);break t}else if(r!==o){o=lt(Error(s1(424)),e),A9(o),e=em(t,e,r,a);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(R2=dt(t.firstChild),Z4=e,c2=!0,Z6=null,ct=!0,a=kv(e,null,r,a),e.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ge(),r===o){e=G0(t,e,a);break t}P4(t,e,r,a)}e=e.child}return e;case 26:return Eo(t,e),t===null?(a=zm(e.type,null,e.pendingProps,null))?e.memoizedState=a:c2||(a=e.type,t=e.pendingProps,r=hn(O6.current).createElement(a),r[O4]=e,r[z3]=t,U4(r,a,t),V4(r),e.stateNode=r):e.memoizedState=zm(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return _s(e),t===null&&c2&&(r=e.stateNode=sx(e.type,e.pendingProps,O6.current),Z4=e,ct=!0,o=R2,te(e.type)?(kd=o,R2=dt(r.firstChild)):R2=o),P4(t,e,e.pendingProps.children,a),Eo(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&c2&&((o=r=R2)&&(r=jV(r,e.type,e.pendingProps,ct),r!==null?(e.stateNode=r,Z4=e,R2=dt(r.firstChild),ct=!1,o=!0):o=!1),o||X6(e)),_s(e),o=e.type,n=e.pendingProps,i=t!==null?t.memoizedProps:null,r=n.children,zd(o,n)?r=null:i!==null&&zd(o,i)&&(e.flags|=32),e.memoizedState!==null&&(o=tu(t,e,dV,null,null,a),O9._currentValue=o),Eo(t,e),P4(t,e,r,a),e.child;case 6:return t===null&&c2&&((t=a=R2)&&(a=WV(a,e.pendingProps,ct),a!==null?(e.stateNode=a,Z4=e,R2=null,t=!0):t=!1),t||X6(e)),null;case 13:return vC(t,e,a);case 4:return qo(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=We(e,null,r,a):P4(t,e,r,a),e.child;case 11:return Yg(t,e,e.type,e.pendingProps,a);case 7:return P4(t,e,e.pendingProps,a),e.child;case 8:return P4(t,e,e.pendingProps.children,a),e.child;case 12:return P4(t,e,e.pendingProps.children,a),e.child;case 10:return r=e.pendingProps,B6(e,e.type,r.value),P4(t,e,r.children,a),e.child;case 9:return o=e.type._context,r=e.pendingProps.children,je(e),o=_4(o),r=r(o),e.flags|=1,P4(t,e,r,a),e.child;case 14:return Xg(t,e,e.type,e.pendingProps,a);case 15:return gC(t,e,e.type,e.pendingProps,a);case 19:return CC(t,e,a);case 31:return CV(t,e,a);case 22:return mC(t,e,a,e.pendingProps);case 24:return je(e),r=_4(s4),t===null?(o=Yd(),o===null&&(o=k2,n=Wd(),o.pooledCache=n,n.refCount++,n!==null&&(o.pooledCacheLanes|=a),o=n),e.memoizedState={parent:r,cache:o},Kd(e),B6(e,s4,o)):((t.lanes&a)!==0&&(od(t,e),M9(e,null,null,a),y9()),o=t.memoizedState,n=e.memoizedState,o.parent!==r?(o={parent:r,cache:r},e.memoizedState=o,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=o),B6(e,s4,r)):(r=n.cache,B6(e,s4,r),r!==o.cache&&ad(e,[s4],a,!0))),P4(t,e,e.pendingProps.children,a),e.child;case 29:throw e.pendingProps}throw Error(s1(156,e.tag))}function B0(t){t.flags|=4}function bs(t,e,a,r,o){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(o&335544128)===o)if(t.stateNode.complete)t.flags|=8192;else if(UC())t.flags|=8192;else throw qe=Qo,Xd}else t.flags&=-16777217}function rm(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!fx(e))if(UC())t.flags|=8192;else throw qe=Qo,Xd}function yo(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?qm():536870912,t.lanes|=e,F8|=e)}function l9(t,e){if(!c2)switch(t.tailMode){case"hidden":e=t.tail;for(var a=null;e!==null;)e.alternate!==null&&(a=e),e=e.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function D2(t){var e=t.alternate!==null&&t.alternate.child===t.child,a=0,r=0;if(e)for(var o=t.child;o!==null;)a|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)a|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=a,e}function LV(t,e,a){var r=e.pendingProps;switch(jd(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return D2(e),null;case 1:return D2(e),null;case 3:return a=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Z0(s4),H8(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(o8(e)?B0(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,ms())),D2(e),null;case 26:var o=e.type,n=e.memoizedState;return t===null?(B0(e),n!==null?(D2(e),rm(e,n)):(D2(e),bs(e,o,null,r,a))):n?n!==t.memoizedState?(B0(e),D2(e),rm(e,n)):(D2(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&B0(e),D2(e),bs(e,o,t,r,a)),null;case 27:if($o(e),a=O6.current,o=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&B0(e);else{if(!r){if(e.stateNode===null)throw Error(s1(166));return D2(e),null}t=s0.current,o8(e)?Ig(e,t):(t=sx(o,r,a),e.stateNode=t,B0(e))}return D2(e),null;case 5:if($o(e),o=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&B0(e);else{if(!r){if(e.stateNode===null)throw Error(s1(166));return D2(e),null}if(n=s0.current,o8(e))Ig(e,n);else{var i=hn(O6.current);switch(n){case 1:n=i.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=i.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=i.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=i.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=i.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?n.multiple=!0:r.size&&(n.size=r.size);break;default:n=typeof r.is=="string"?i.createElement(o,{is:r.is}):i.createElement(o)}}n[O4]=e,n[z3]=r;t:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)n.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=n;t:switch(U4(n,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&B0(e)}}return D2(e),bs(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,a),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&B0(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(s1(166));if(t=O6.current,o8(e)){if(t=e.stateNode,a=e.memoizedProps,r=null,o=Z4,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}t[O4]=e,t=!!(t.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||nx(t.nodeValue,a)),t||X6(e,!0)}else t=hn(t).createTextNode(r),t[O4]=e,e.stateNode=t}return D2(e),null;case 31:if(a=e.memoizedState,t===null||t.memoizedState!==null){if(r=o8(e),a!==null){if(t===null){if(!r)throw Error(s1(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s1(557));t[O4]=e}else Ge(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;D2(e),t=!1}else a=ms(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return e.flags&256?(R3(e),e):(R3(e),null);if((e.flags&128)!==0)throw Error(s1(558))}return D2(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=o8(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(s1(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s1(317));o[O4]=e}else Ge(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;D2(e),o=!1}else o=ms(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),o=!0;if(!o)return e.flags&256?(R3(e),e):(R3(e),null)}return R3(e),(e.flags&128)!==0?(e.lanes=a,e):(a=r!==null,t=t!==null&&t.memoizedState!==null,a&&(r=e.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(r.flags|=2048)),a!==t&&a&&(e.child.flags|=8192),yo(e,e.updateQueue),D2(e),null);case 4:return H8(),t===null&&Lu(e.stateNode.containerInfo),D2(e),null;case 10:return Z0(e.type),D2(e),null;case 19:if(T4(r4),r=e.memoizedState,r===null)return D2(e),null;if(o=(e.flags&128)!==0,n=r.rendering,n===null)if(o)l9(r,!1);else{if(K2!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(n=tn(t),n!==null){for(e.flags|=128,l9(r,!1),t=n.updateQueue,e.updateQueue=t,yo(e,t),e.subtreeFlags=0,t=a,a=e.child;a!==null;)Lv(a,t),a=a.sibling;return B2(r4,r4.current&1|2),c2&&D0(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&P3()>ln&&(e.flags|=128,o=!0,l9(r,!1),e.lanes=4194304)}else{if(!o)if(t=tn(n),t!==null){if(e.flags|=128,o=!0,t=t.updateQueue,e.updateQueue=t,yo(e,t),l9(r,!0),r.tail===null&&r.tailMode==="hidden"&&!n.alternate&&!c2)return D2(e),null}else 2*P3()-r.renderingStartTime>ln&&a!==536870912&&(e.flags|=128,o=!0,l9(r,!1),e.lanes=4194304);r.isBackwards?(n.sibling=e.child,e.child=n):(t=r.last,t!==null?t.sibling=n:e.child=n,r.last=n)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=P3(),t.sibling=null,a=r4.current,B2(r4,o?a&1|2:a&1),c2&&D0(e,r.treeForkCount),t):(D2(e),null);case 22:case 23:return R3(e),Qd(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?(a&536870912)!==0&&(e.flags&128)===0&&(D2(e),e.subtreeFlags&6&&(e.flags|=8192)):D2(e),a=e.updateQueue,a!==null&&yo(e,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==a&&(e.flags|=2048),t!==null&&T4(Ue),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),Z0(s4),D2(e),null;case 25:return null;case 30:return null}throw Error(s1(156,e.tag))}function yV(t,e){switch(jd(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Z0(s4),H8(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return $o(e),null;case 31:if(e.memoizedState!==null){if(R3(e),e.alternate===null)throw Error(s1(340));Ge()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(R3(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(s1(340));Ge()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return T4(r4),null;case 4:return H8(),null;case 10:return Z0(e.type),null;case 22:case 23:return R3(e),Qd(),t!==null&&T4(Ue),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Z0(s4),null;case 25:return null;default:return null}}function LC(t,e){switch(jd(e),e.tag){case 3:Z0(s4),H8();break;case 26:case 27:case 5:$o(e);break;case 4:H8();break;case 31:e.memoizedState!==null&&R3(e);break;case 13:R3(e);break;case 19:T4(r4);break;case 10:Z0(e.type);break;case 22:case 23:R3(e),Qd(),t!==null&&T4(Ue);break;case 24:Z0(s4)}}function K9(t,e){try{var a=e.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var o=r.next;a=o;do{if((a.tag&t)===t){r=void 0;var n=a.create,i=a.inst;r=n(),i.destroy=r}a=a.next}while(a!==o)}}catch(l){w2(e,e.return,l)}}function K6(t,e,a){try{var r=e.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var n=o.next;r=n;do{if((r.tag&t)===t){var i=r.inst,l=i.destroy;if(l!==void 0){i.destroy=void 0,o=e;var c=a,s=l;try{s()}catch(d){w2(o,c,d)}}}r=r.next}while(r!==n)}}catch(d){w2(e,e.return,d)}}function yC(t){var e=t.updateQueue;if(e!==null){var a=t.stateNode;try{Tv(e,a)}catch(r){w2(t,t.return,r)}}}function MC(t,e,a){a.props=Xe(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(r){w2(t,e,r)}}function z9(t,e){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof a=="function"?t.refCleanup=a(r):a.current=r}}catch(o){w2(t,e,o)}}function c0(t,e){var a=t.ref,r=t.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(o){w2(t,e,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){w2(t,e,o)}else a.current=null}function wC(t){var e=t.type,a=t.memoizedProps,r=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break t;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(o){w2(t,t.return,o)}}function Ss(t,e,a){try{var r=t.stateNode;ZV(r,t.type,a,e),r[z3]=e}catch(o){w2(t,t.return,o)}}function zC(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&te(t.type)||t.tag===4}function Hs(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||zC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&te(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gd(t,e,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,e):(e=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,e.appendChild(t),a=a._reactRootContainer,a!=null||e.onclick!==null||(e.onclick=N0));else if(r!==4&&(r===27&&te(t.type)&&(a=t.stateNode,e=null),t=t.child,t!==null))for(gd(t,e,a),t=t.sibling;t!==null;)gd(t,e,a),t=t.sibling}function nn(t,e,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?a.insertBefore(t,e):a.appendChild(t);else if(r!==4&&(r===27&&te(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(nn(t,e,a),t=t.sibling;t!==null;)nn(t,e,a),t=t.sibling}function bC(t){var e=t.stateNode,a=t.memoizedProps;try{for(var r=t.type,o=e.attributes;o.length;)e.removeAttributeNode(o[0]);U4(e,r,a),e[O4]=t,e[z3]=a}catch(n){w2(t,t.return,n)}}var R0=!1,c4=!1,ks=!1,om=typeof WeakSet=="function"?WeakSet:Set,k4=null;function MV(t,e){if(t=t.containerInfo,Md=vn,t=fv(t),_d(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var o=r.anchorOffset,n=r.focusNode;r=r.focusOffset;try{a.nodeType,n.nodeType}catch(x){a=null;break t}var i=0,l=-1,c=-1,s=0,d=0,u=t,f=null;e:for(;;){for(var h;u!==a||o!==0&&u.nodeType!==3||(l=i+o),u!==n||r!==0&&u.nodeType!==3||(c=i+r),u.nodeType===3&&(i+=u.nodeValue.length),(h=u.firstChild)!==null;)f=u,u=h;for(;;){if(u===t)break e;if(f===a&&++s===o&&(l=i),f===n&&++d===r&&(c=i),(h=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=h}a=l===-1||c===-1?null:{start:l,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(wd={focusedElem:t,selectionRange:a},vn=!1,k4=e;k4!==null;)if(e=k4,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,k4=t;else for(;k4!==null;){switch(e=k4,n=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)o=t[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&n!==null){t=void 0,a=e,o=n.memoizedProps,n=n.memoizedState,r=a.stateNode;try{var m=Xe(a.type,o);t=r.getSnapshotBeforeUpdate(m,n),r.__reactInternalSnapshotBeforeUpdate=t}catch(x){w2(a,a.return,x)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,a=t.nodeType,a===9)bd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s1(163))}if(t=e.sibling,t!==null){t.return=e.return,k4=t;break}k4=e.return}}function SC(t,e,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:F0(t,a),r&4&&K9(5,a);break;case 1:if(F0(t,a),r&4)if(t=a.stateNode,e===null)try{t.componentDidMount()}catch(i){w2(a,a.return,i)}else{var o=Xe(a.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(o,e,t.__reactInternalSnapshotBeforeUpdate)}catch(i){w2(a,a.return,i)}}r&64&&yC(a),r&512&&z9(a,a.return);break;case 3:if(F0(t,a),r&64&&(t=a.updateQueue,t!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Tv(t,e)}catch(i){w2(a,a.return,i)}}break;case 27:e===null&&r&4&&bC(a);case 26:case 5:F0(t,a),e===null&&r&4&&wC(a),r&512&&z9(a,a.return);break;case 12:F0(t,a);break;case 31:F0(t,a),r&4&&VC(t,a);break;case 13:F0(t,a),r&4&&TC(t,a),r&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=BV.bind(null,a),YV(t,a))));break;case 22:if(r=a.memoizedState!==null||R0,!r){e=e!==null&&e.memoizedState!==null||c4,o=R0;var n=c4;R0=r,(c4=e)&&!n?A0(t,a,(a.subtreeFlags&8772)!==0):F0(t,a),R0=o,c4=n}break;case 30:break;default:F0(t,a)}}function HC(t){var e=t.alternate;e!==null&&(t.alternate=null,HC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Rd(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Z2=null,y3=!1;function I0(t,e,a){for(a=a.child;a!==null;)kC(t,e,a),a=a.sibling}function kC(t,e,a){if(O3&&typeof O3.onCommitFiberUnmount=="function")try{O3.onCommitFiberUnmount(q9,a)}catch(n){}switch(a.tag){case 26:c4||c0(a,e),I0(t,e,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:c4||c0(a,e);var r=Z2,o=y3;te(a.type)&&(Z2=a.stateNode,y3=!1),I0(t,e,a),k9(a.stateNode),Z2=r,y3=o;break;case 5:c4||c0(a,e);case 6:if(r=Z2,o=y3,Z2=null,I0(t,e,a),Z2=r,y3=o,Z2!==null)if(y3)try{(Z2.nodeType===9?Z2.body:Z2.nodeName==="HTML"?Z2.ownerDocument.body:Z2).removeChild(a.stateNode)}catch(n){w2(a,e,n)}else try{Z2.removeChild(a.stateNode)}catch(n){w2(a,e,n)}break;case 18:Z2!==null&&(y3?(t=Z2,xm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),E8(t)):xm(Z2,a.stateNode));break;case 4:r=Z2,o=y3,Z2=a.stateNode.containerInfo,y3=!0,I0(t,e,a),Z2=r,y3=o;break;case 0:case 11:case 14:case 15:K6(2,a,e),c4||K6(4,a,e),I0(t,e,a);break;case 1:c4||(c0(a,e),r=a.stateNode,typeof r.componentWillUnmount=="function"&&MC(a,e,r)),I0(t,e,a);break;case 21:I0(t,e,a);break;case 22:c4=(r=c4)||a.memoizedState!==null,I0(t,e,a),c4=r;break;default:I0(t,e,a)}}function VC(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{E8(t)}catch(a){w2(e,e.return,a)}}}function TC(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{E8(t)}catch(a){w2(e,e.return,a)}}function wV(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new om),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new om),e;default:throw Error(s1(435,t.tag))}}function Mo(t,e){var a=wV(t);e.forEach(function(r){if(!a.has(r)){a.add(r);var o=IV.bind(null,t,r);r.then(o,o)}})}function x3(t,e){var a=e.deletions;if(a!==null)for(var r=0;r<a.length;r++){var o=a[r],n=t,i=e,l=i;t:for(;l!==null;){switch(l.tag){case 27:if(te(l.type)){Z2=l.stateNode,y3=!1;break t}break;case 5:Z2=l.stateNode,y3=!1;break t;case 3:case 4:Z2=l.stateNode.containerInfo,y3=!0;break t}l=l.return}if(Z2===null)throw Error(s1(160));kC(n,i,o),Z2=null,y3=!1,n=o.alternate,n!==null&&(n.return=null),o.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)BC(e,t),e=e.sibling}var At=null;function BC(t,e){var a=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:x3(e,t),L3(t),r&4&&(K6(3,t,t.return),K9(3,t),K6(5,t,t.return));break;case 1:x3(e,t),L3(t),r&512&&(c4||a===null||c0(a,a.return)),r&64&&R0&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var o=At;if(x3(e,t),L3(t),r&512&&(c4||a===null||c0(a,a.return)),r&4){var n=a!==null?a.memoizedState:null;if(r=t.memoizedState,a===null)if(r===null)if(t.stateNode===null){t:{r=t.type,a=t.memoizedProps,o=o.ownerDocument||o;e:switch(r){case"title":n=o.getElementsByTagName("title")[0],(!n||n[j9]||n[O4]||n.namespaceURI==="http://www.w3.org/2000/svg"||n.hasAttribute("itemprop"))&&(n=o.createElement(r),o.head.insertBefore(n,o.querySelector("head > title"))),U4(n,r,a),n[O4]=t,V4(n),r=n;break t;case"link":var i=Sm("link","href",o).get(r+(a.href||""));if(i){for(var l=0;l<i.length;l++)if(n=i[l],n.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&n.getAttribute("rel")===(a.rel==null?null:a.rel)&&n.getAttribute("title")===(a.title==null?null:a.title)&&n.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){i.splice(l,1);break e}}n=o.createElement(r),U4(n,r,a),o.head.appendChild(n);break;case"meta":if(i=Sm("meta","content",o).get(r+(a.content||""))){for(l=0;l<i.length;l++)if(n=i[l],n.getAttribute("content")===(a.content==null?null:""+a.content)&&n.getAttribute("name")===(a.name==null?null:a.name)&&n.getAttribute("property")===(a.property==null?null:a.property)&&n.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&n.getAttribute("charset")===(a.charSet==null?null:a.charSet)){i.splice(l,1);break e}}n=o.createElement(r),U4(n,r,a),o.head.appendChild(n);break;default:throw Error(s1(468,r))}n[O4]=t,V4(n),r=n}t.stateNode=r}else Hm(o,t.type,t.stateNode);else t.stateNode=bm(o,r,t.memoizedProps);else n!==r?(n===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):n.count--,r===null?Hm(o,t.type,t.stateNode):bm(o,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Ss(t,t.memoizedProps,a.memoizedProps)}break;case 27:x3(e,t),L3(t),r&512&&(c4||a===null||c0(a,a.return)),a!==null&&r&4&&Ss(t,t.memoizedProps,a.memoizedProps);break;case 5:if(x3(e,t),L3(t),r&512&&(c4||a===null||c0(a,a.return)),t.flags&32){o=t.stateNode;try{V8(o,"")}catch(m){w2(t,t.return,m)}}r&4&&t.stateNode!=null&&(o=t.memoizedProps,Ss(t,o,a!==null?a.memoizedProps:o)),r&1024&&(ks=!0);break;case 6:if(x3(e,t),L3(t),r&4){if(t.stateNode===null)throw Error(s1(162));r=t.memoizedProps,a=t.stateNode;try{a.nodeValue=r}catch(m){w2(t,t.return,m)}}break;case 3:if(Oo=null,o=At,At=pn(e.containerInfo),x3(e,t),At=o,L3(t),r&4&&a!==null&&a.memoizedState.isDehydrated)try{E8(e.containerInfo)}catch(m){w2(t,t.return,m)}ks&&(ks=!1,IC(t));break;case 4:r=At,At=pn(t.stateNode.containerInfo),x3(e,t),L3(t),At=r;break;case 12:x3(e,t),L3(t);break;case 31:x3(e,t),L3(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Mo(t,r)));break;case 13:x3(e,t),L3(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tn=P3()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Mo(t,r)));break;case 22:o=t.memoizedState!==null;var c=a!==null&&a.memoizedState!==null,s=R0,d=c4;if(R0=s||o,c4=d||c,x3(e,t),c4=d,R0=s,L3(t),r&8192)t:for(e=t.stateNode,e._visibility=o?e._visibility&-2:e._visibility|1,o&&(a===null||c||R0||c4||Oe(t)),a=null,e=t;;){if(e.tag===5||e.tag===26){if(a===null){c=a=e;try{if(n=c.stateNode,o)i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{l=c.stateNode;var u=c.memoizedProps.style,f=u!=null&&u.hasOwnProperty("display")?u.display:null;l.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(m){w2(c,c.return,m)}}}else if(e.tag===6){if(a===null){c=e;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(m){w2(c,c.return,m)}}}else if(e.tag===18){if(a===null){c=e;try{var h=c.stateNode;o?Lm(h,!0):Lm(c.stateNode,!1)}catch(m){w2(c,c.return,m)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;a===e&&(a=null),e=e.return}a===e&&(a=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Mo(t,a))));break;case 19:x3(e,t),L3(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Mo(t,r)));break;case 30:break;case 21:break;default:x3(e,t),L3(t)}}function L3(t){var e=t.flags;if(e&2){try{for(var a,r=t.return;r!==null;){if(zC(r)){a=r;break}r=r.return}if(a==null)throw Error(s1(160));switch(a.tag){case 27:var o=a.stateNode,n=Hs(t);nn(t,n,o);break;case 5:var i=a.stateNode;a.flags&32&&(V8(i,""),a.flags&=-33);var l=Hs(t);nn(t,l,i);break;case 3:case 4:var c=a.stateNode.containerInfo,s=Hs(t);gd(t,s,c);break;default:throw Error(s1(161))}}catch(d){w2(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function IC(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;IC(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function F0(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)SC(t,e.alternate,e),e=e.sibling}function Oe(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:K6(4,e,e.return),Oe(e);break;case 1:c0(e,e.return);var a=e.stateNode;typeof a.componentWillUnmount=="function"&&MC(e,e.return,a),Oe(e);break;case 27:k9(e.stateNode);case 26:case 5:c0(e,e.return),Oe(e);break;case 22:e.memoizedState===null&&Oe(e);break;case 30:Oe(e);break;default:Oe(e)}t=t.sibling}}function A0(t,e,a){for(a=a&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,o=t,n=e,i=n.flags;switch(n.tag){case 0:case 11:case 15:A0(o,n,a),K9(4,n);break;case 1:if(A0(o,n,a),r=n,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(s){w2(r,r.return,s)}if(r=n,o=r.updateQueue,o!==null){var l=r.stateNode;try{var c=o.shared.hiddenCallbacks;if(c!==null)for(o.shared.hiddenCallbacks=null,o=0;o<c.length;o++)Vv(c[o],l)}catch(s){w2(r,r.return,s)}}a&&i&64&&yC(n),z9(n,n.return);break;case 27:bC(n);case 26:case 5:A0(o,n,a),a&&r===null&&i&4&&wC(n),z9(n,n.return);break;case 12:A0(o,n,a);break;case 31:A0(o,n,a),a&&i&4&&VC(o,n);break;case 13:A0(o,n,a),a&&i&4&&TC(o,n);break;case 22:n.memoizedState===null&&A0(o,n,a),z9(n,n.return);break;case 30:break;default:A0(o,n,a)}e=e.sibling}}function pu(t,e){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Y9(a))}function gu(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Y9(t))}function Ft(t,e,a,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)FC(t,e,a,r),e=e.sibling}function FC(t,e,a,r){var o=e.flags;switch(e.tag){case 0:case 11:case 15:Ft(t,e,a,r),o&2048&&K9(9,e);break;case 1:Ft(t,e,a,r);break;case 3:Ft(t,e,a,r),o&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Y9(t)));break;case 12:if(o&2048){Ft(t,e,a,r),t=e.stateNode;try{var n=e.memoizedProps,i=n.id,l=n.onPostCommit;typeof l=="function"&&l(i,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){w2(e,e.return,c)}}else Ft(t,e,a,r);break;case 31:Ft(t,e,a,r);break;case 13:Ft(t,e,a,r);break;case 23:break;case 22:n=e.stateNode,i=e.alternate,e.memoizedState!==null?n._visibility&2?Ft(t,e,a,r):b9(t,e):n._visibility&2?Ft(t,e,a,r):(n._visibility|=2,i8(t,e,a,r,(e.subtreeFlags&10256)!==0||!1)),o&2048&&pu(i,e);break;case 24:Ft(t,e,a,r),o&2048&&gu(e.alternate,e);break;default:Ft(t,e,a,r)}}function i8(t,e,a,r,o){for(o=o&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var n=t,i=e,l=a,c=r,s=i.flags;switch(i.tag){case 0:case 11:case 15:i8(n,i,l,c,o),K9(8,i);break;case 23:break;case 22:var d=i.stateNode;i.memoizedState!==null?d._visibility&2?i8(n,i,l,c,o):b9(n,i):(d._visibility|=2,i8(n,i,l,c,o)),o&&s&2048&&pu(i.alternate,i);break;case 24:i8(n,i,l,c,o),o&&s&2048&&gu(i.alternate,i);break;default:i8(n,i,l,c,o)}e=e.sibling}}function b9(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var a=t,r=e,o=r.flags;switch(r.tag){case 22:b9(a,r),o&2048&&pu(r.alternate,r);break;case 24:b9(a,r),o&2048&&gu(r.alternate,r);break;default:b9(a,r)}e=e.sibling}}var g9=8192;function n8(t,e,a){if(t.subtreeFlags&g9)for(t=t.child;t!==null;)AC(t,e,a),t=t.sibling}function AC(t,e,a){switch(t.tag){case 26:n8(t,e,a),t.flags&g9&&t.memoizedState!==null&&lT(a,At,t.memoizedState,t.memoizedProps);break;case 5:n8(t,e,a);break;case 3:case 4:var r=At;At=pn(t.stateNode.containerInfo),n8(t,e,a),At=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=g9,g9=16777216,n8(t,e,a),g9=r):n8(t,e,a));break;default:n8(t,e,a)}}function DC(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function c9(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var a=0;a<e.length;a++){var r=e[a];k4=r,EC(r,t)}DC(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)RC(t),t=t.sibling}function RC(t){switch(t.tag){case 0:case 11:case 15:c9(t),t.flags&2048&&K6(9,t,t.return);break;case 3:c9(t);break;case 12:c9(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,No(t)):c9(t);break;default:c9(t)}}function No(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var a=0;a<e.length;a++){var r=e[a];k4=r,EC(r,t)}DC(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:K6(8,e,e.return),No(e);break;case 22:a=e.stateNode,a._visibility&2&&(a._visibility&=-3,No(e));break;default:No(e)}t=t.sibling}}function EC(t,e){for(;k4!==null;){var a=k4;switch(a.tag){case 0:case 11:case 15:K6(8,a,e);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Y9(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,k4=r;else t:for(a=t;k4!==null;){r=k4;var o=r.sibling,n=r.return;if(HC(r),r===a){k4=null;break t}if(o!==null){o.return=n,k4=o;break t}k4=n}}}var zV={getCacheForType:function(t){var e=_4(s4),a=e.data.get(t);return a===void 0&&(a=t(),e.data.set(t,a)),a},cacheSignal:function(){return _4(s4).controller.signal}},bV=typeof WeakMap=="function"?WeakMap:Map,x2=0,k2=null,a2=null,r2=0,M2=0,D3=null,E6=!1,_8=!1,mu=!1,j0=0,K2=0,Q6=0,$e=0,vu=0,N3=0,F8=0,S9=null,M3=null,md=!1,Tn=0,NC=0,ln=1/0,cn=null,q6=null,x4=0,$6=null,A8=null,_0=0,vd=0,Cd=null,PC=null,H9=0,xd=null;function _3(){return(x2&2)!==0&&r2!==0?r2&-r2:O1.T!==null?xu():Wm()}function OC(){if(N3===0)if((r2&536870912)===0||c2){var t=fo;fo<<=1,(fo&3932160)===0&&(fo=262144),N3=t}else N3=536870912;return t=q3.current,t!==null&&(t.flags|=32),N3}function w3(t,e,a){(t===k2&&(M2===2||M2===9)||t.cancelPendingCommit!==null)&&(D8(t,0),N6(t,r2,N3,!1)),G9(t,a),((x2&2)===0||t!==k2)&&(t===k2&&((x2&2)===0&&($e|=a),K2===4&&N6(t,r2,N3,!1)),u0(t))}function ZC(t,e,a){if((x2&6)!==0)throw Error(s1(327));var r=!a&&(e&127)===0&&(e&t.expiredLanes)===0||$9(t,e),o=r?kV(t,e):Vs(t,e,!0),n=r;do{if(o===0){_8&&!r&&N6(t,e,0,!1);break}else{if(a=t.current.alternate,n&&!SV(a)){o=Vs(t,e,!1),n=!1;continue}if(o===2){if(n=e,t.errorRecoveryDisabledLanes&n)var i=0;else i=t.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){e=i;t:{var l=t;o=S9;var c=l.current.memoizedState.isDehydrated;if(c&&(D8(l,i).flags|=256),i=Vs(l,i,!1),i!==2){if(mu&&!c){l.errorRecoveryDisabledLanes|=n,$e|=n,o=4;break t}n=M3,M3=o,n!==null&&(M3===null?M3=n:M3.push.apply(M3,n))}o=i}if(n=!1,o!==2)continue}}if(o===1){D8(t,0),N6(t,e,0,!0);break}t:{switch(r=t,n=o,n){case 0:case 1:throw Error(s1(345));case 4:if((e&4194048)!==e)break;case 6:N6(r,e,N3,!E6);break t;case 2:M3=null;break;case 3:case 5:break;default:throw Error(s1(329))}if((e&62914560)===e&&(o=Tn+300-P3(),10<o)){if(N6(r,e,N3,!E6),xn(r,0,!0)!==0)break t;_0=e,r.timeoutHandle=lx(nm.bind(null,r,a,M3,cn,md,e,N3,$e,F8,E6,n,"Throttled",-0,0),o);break t}nm(r,a,M3,cn,md,e,N3,$e,F8,E6,n,null,-0,0)}}break}while(!0);u0(t)}function nm(t,e,a,r,o,n,i,l,c,s,d,u,f,h){if(t.timeoutHandle=-1,u=e.subtreeFlags,u&8192||(u&16785408)===16785408){u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:N0},AC(e,n,u);var m=(n&62914560)===n?Tn-P3():(n&4194048)===n?NC-P3():0;if(m=cT(u,m),m!==null){_0=n,t.cancelPendingCommit=m(lm.bind(null,t,e,n,a,r,o,i,l,c,d,u,null,f,h)),N6(t,n,i,!s);return}}lm(t,e,n,a,r,o,i,l,c)}function SV(t){for(var e=t;;){var a=e.tag;if((a===0||a===11||a===15)&&e.flags&16384&&(a=e.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var o=a[r],n=o.getSnapshot;o=o.value;try{if(!U3(n(),o))return!1}catch(i){return!1}}if(a=e.child,e.subtreeFlags&16384&&a!==null)a.return=e,e=a;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function N6(t,e,a,r){e&=~vu,e&=~$e,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var o=e;0<o;){var n=31-Z3(o),i=1<<n;r[n]=-1,o&=~i}a!==0&&$m(t,a,e)}function Bn(){return(x2&6)===0?(Q9(0,!1),!1):!0}function Cu(){if(a2!==null){if(M2===0)var t=a2.return;else t=a2,P0=e5=null,ru(t),z8=null,D9=0,t=a2;for(;t!==null;)LC(t.alternate,t),t=t.return;a2=null}}function D8(t,e){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,qV(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),_0=0,Cu(),k2=t,a2=a=O0(t.current,null),r2=e,M2=0,D3=null,E6=!1,_8=$9(t,e),mu=!1,F8=N3=vu=$e=Q6=K2=0,M3=S9=null,md=!1,(e&8)!==0&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var o=31-Z3(r),n=1<<o;e|=t[o],r&=~n}return j0=e,wn(),a}function _C(t,e){X1=null,O1.H=E9,e===Z8||e===bn?(e=Eg(),M2=3):e===Xd?(e=Eg(),M2=4):M2=e===fu?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,D3=e,a2===null&&(K2=1,rn(t,lt(e,t.current)))}function UC(){var t=q3.current;return t===null?!0:(r2&4194048)===r2?st===null:(r2&62914560)===r2||(r2&536870912)!==0?t===st:!1}function qC(){var t=O1.H;return O1.H=E9,t===null?E9:t}function $C(){var t=O1.A;return O1.A=zV,t}function sn(){K2=4,E6||(r2&4194048)!==r2&&q3.current!==null||(_8=!0),(Q6&134217727)===0&&($e&134217727)===0||k2===null||N6(k2,r2,N3,!1)}function Vs(t,e,a){var r=x2;x2|=2;var o=qC(),n=$C();(k2!==t||r2!==e)&&(cn=null,D8(t,e)),e=!1;var i=K2;t:do try{if(M2!==0&&a2!==null){var l=a2,c=D3;switch(M2){case 8:Cu(),i=6;break t;case 3:case 2:case 9:case 6:q3.current===null&&(e=!0);var s=M2;if(M2=0,D3=null,x8(t,l,c,s),a&&_8){i=0;break t}break;default:s=M2,M2=0,D3=null,x8(t,l,c,s)}}HV(),i=K2;break}catch(d){_C(t,d)}while(!0);return e&&t.shellSuspendCounter++,P0=e5=null,x2=r,O1.H=o,O1.A=n,a2===null&&(k2=null,r2=0,wn()),i}function HV(){for(;a2!==null;)GC(a2)}function kV(t,e){var a=x2;x2|=2;var r=qC(),o=$C();k2!==t||r2!==e?(cn=null,ln=P3()+500,D8(t,e)):_8=$9(t,e);t:do try{if(M2!==0&&a2!==null){e=a2;var n=D3;e:switch(M2){case 1:M2=0,D3=null,x8(t,e,n,1);break;case 2:case 9:if(Rg(n)){M2=0,D3=null,im(e);break}e=function(){M2!==2&&M2!==9||k2!==t||(M2=7),u0(t)},n.then(e,e);break t;case 3:M2=7;break t;case 4:M2=5;break t;case 7:Rg(n)?(M2=0,D3=null,im(e)):(M2=0,D3=null,x8(t,e,n,7));break;case 5:var i=null;switch(a2.tag){case 26:i=a2.memoizedState;case 5:case 27:var l=a2;if(i?fx(i):l.stateNode.complete){M2=0,D3=null;var c=l.sibling;if(c!==null)a2=c;else{var s=l.return;s!==null?(a2=s,In(s)):a2=null}break e}}M2=0,D3=null,x8(t,e,n,5);break;case 6:M2=0,D3=null,x8(t,e,n,6);break;case 8:Cu(),K2=6;break t;default:throw Error(s1(462))}}VV();break}catch(d){_C(t,d)}while(!0);return P0=e5=null,O1.H=r,O1.A=o,x2=a,a2!==null?0:(k2=null,r2=0,wn(),K2)}function VV(){for(;a2!==null&&!QH();)GC(a2)}function GC(t){var e=xC(t.alternate,t,j0);t.memoizedProps=t.pendingProps,e===null?In(t):a2=e}function im(t){var e=t,a=e.alternate;switch(e.tag){case 15:case 0:e=Jg(a,e,e.pendingProps,e.type,void 0,r2);break;case 11:e=Jg(a,e,e.pendingProps,e.type.render,e.ref,r2);break;case 5:ru(e);default:LC(a,e),e=a2=Lv(e,j0),e=xC(a,e,j0)}t.memoizedProps=t.pendingProps,e===null?In(t):a2=e}function x8(t,e,a,r){P0=e5=null,ru(e),z8=null,D9=0;var o=e.return;try{if(vV(t,o,e,a,r2)){K2=1,rn(t,lt(a,t.current)),a2=null;return}}catch(n){if(o!==null)throw a2=o,n;K2=1,rn(t,lt(a,t.current)),a2=null;return}e.flags&32768?(c2||r===1?t=!0:_8||(r2&536870912)!==0?t=!1:(E6=t=!0,(r===2||r===9||r===3||r===6)&&(r=q3.current,r!==null&&r.tag===13&&(r.flags|=16384))),jC(e,t)):In(e)}function In(t){var e=t;do{if((e.flags&32768)!==0){jC(e,E6);return}t=e.return;var a=LV(e.alternate,e,j0);if(a!==null){a2=a;return}if(e=e.sibling,e!==null){a2=e;return}a2=e=t}while(e!==null);K2===0&&(K2=5)}function jC(t,e){do{var a=yV(t.alternate,t);if(a!==null){a.flags&=32767,a2=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!e&&(t=t.sibling,t!==null)){a2=t;return}a2=t=a}while(t!==null);K2=6,a2=null}function lm(t,e,a,r,o,n,i,l,c){t.cancelPendingCommit=null;do Fn();while(x4!==0);if((x2&6)!==0)throw Error(s1(327));if(e!==null){if(e===t.current)throw Error(s1(177));if(n=e.lanes|e.childLanes,n|=Ud,ck(t,a,n,i,l,c),t===k2&&(a2=k2=null,r2=0),A8=e,$6=t,_0=a,vd=n,Cd=o,PC=r,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,FV(Go,function(){return QC(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||r){r=O1.T,O1.T=null,o=L2.p,L2.p=2,i=x2,x2|=4;try{MV(t,e,a)}finally{x2=i,L2.p=o,O1.T=r}}x4=1,WC(),YC(),XC()}}function WC(){if(x4===1){x4=0;var t=$6,e=A8,a=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||a){a=O1.T,O1.T=null;var r=L2.p;L2.p=2;var o=x2;x2|=4;try{BC(e,t);var n=wd,i=fv(t.containerInfo),l=n.focusedElem,c=n.selectionRange;if(i!==l&&l&&l.ownerDocument&&uv(l.ownerDocument.documentElement,l)){if(c!==null&&_d(l)){var s=c.start,d=c.end;if(d===void 0&&(d=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(d,l.value.length);else{var u=l.ownerDocument||document,f=u&&u.defaultView||window;if(f.getSelection){var h=f.getSelection(),m=l.textContent.length,x=Math.min(c.start,m),L=c.end===void 0?x:Math.min(c.end,m);!h.extend&&x>L&&(i=L,L=x,x=i);var g=Vg(l,x),C=Vg(l,L);if(g&&C&&(h.rangeCount!==1||h.anchorNode!==g.node||h.anchorOffset!==g.offset||h.focusNode!==C.node||h.focusOffset!==C.offset)){var v=u.createRange();v.setStart(g.node,g.offset),h.removeAllRanges(),x>L?(h.addRange(v),h.extend(C.node,C.offset)):(v.setEnd(C.node,C.offset),h.addRange(v))}}}}for(u=[],h=l;h=h.parentNode;)h.nodeType===1&&u.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<u.length;l++){var y=u[l];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}vn=!!Md,wd=Md=null}finally{x2=o,L2.p=r,O1.T=a}}t.current=e,x4=2}}function YC(){if(x4===2){x4=0;var t=$6,e=A8,a=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||a){a=O1.T,O1.T=null;var r=L2.p;L2.p=2;var o=x2;x2|=4;try{SC(t,e.alternate,e)}finally{x2=o,L2.p=r,O1.T=a}}x4=3}}function XC(){if(x4===4||x4===3){x4=0,JH();var t=$6,e=A8,a=_0,r=PC;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?x4=5:(x4=0,A8=$6=null,KC(t,t.pendingLanes));var o=t.pendingLanes;if(o===0&&(q6=null),Dd(a),e=e.stateNode,O3&&typeof O3.onCommitFiberRoot=="function")try{O3.onCommitFiberRoot(q9,e,void 0,(e.current.flags&128)===128)}catch(c){}if(r!==null){e=O1.T,o=L2.p,L2.p=2,O1.T=null;try{for(var n=t.onRecoverableError,i=0;i<r.length;i++){var l=r[i];n(l.value,{componentStack:l.stack})}}finally{O1.T=e,L2.p=o}}(_0&3)!==0&&Fn(),u0(t),o=t.pendingLanes,(a&261930)!==0&&(o&42)!==0?t===xd?H9++:(H9=0,xd=t):H9=0,Q9(0,!1)}}function KC(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Y9(e)))}function Fn(){return WC(),YC(),XC(),QC()}function QC(){if(x4!==5)return!1;var t=$6,e=vd;vd=0;var a=Dd(_0),r=O1.T,o=L2.p;try{L2.p=32>a?32:a,O1.T=null,a=Cd,Cd=null;var n=$6,i=_0;if(x4=0,A8=$6=null,_0=0,(x2&6)!==0)throw Error(s1(331));var l=x2;if(x2|=4,RC(n.current),FC(n,n.current,i,a),x2=l,Q9(0,!1),O3&&typeof O3.onPostCommitFiberRoot=="function")try{O3.onPostCommitFiberRoot(q9,n)}catch(c){}return!0}finally{L2.p=o,O1.T=r,KC(t,e)}}function cm(t,e,a){e=lt(a,e),e=fd(t.stateNode,e,2),t=U6(t,e,2),t!==null&&(G9(t,2),u0(t))}function w2(t,e,a){if(t.tag===3)cm(t,t,a);else for(;e!==null;){if(e.tag===3){cm(e,t,a);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(q6===null||!q6.has(r))){t=lt(a,t),a=hC(2),r=U6(e,a,2),r!==null&&(pC(a,r,e,t),G9(r,2),u0(r));break}}e=e.return}}function Ts(t,e,a){var r=t.pingCache;if(r===null){r=t.pingCache=new bV;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(a)||(mu=!0,o.add(a),t=TV.bind(null,t,e,a),e.then(t,t))}function TV(t,e,a){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,k2===t&&(r2&a)===a&&(K2===4||K2===3&&(r2&62914560)===r2&&300>P3()-Tn?(x2&2)===0&&D8(t,0):vu|=a,F8===r2&&(F8=0)),u0(t)}function JC(t,e){e===0&&(e=qm()),t=t5(t,e),t!==null&&(G9(t,e),u0(t))}function BV(t){var e=t.memoizedState,a=0;e!==null&&(a=e.retryLane),JC(t,a)}function IV(t,e){var a=0;switch(t.tag){case 31:case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(a=o.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(s1(314))}r!==null&&r.delete(e),JC(t,a)}function FV(t,e){return Fd(t,e)}var dn=null,l8=null,Ld=!1,un=!1,Bs=!1,P6=0;function u0(t){t!==l8&&t.next===null&&(l8===null?dn=l8=t:l8=l8.next=t),un=!0,Ld||(Ld=!0,DV())}function Q9(t,e){if(!Bs&&un){Bs=!0;do for(var a=!1,r=dn;r!==null;){if(!e)if(t!==0){var o=r.pendingLanes;if(o===0)var n=0;else{var i=r.suspendedLanes,l=r.pingedLanes;n=(1<<31-Z3(42|t)+1)-1,n&=o&~(i&~l),n=n&201326741?n&201326741|1:n?n|2:0}n!==0&&(a=!0,sm(r,n))}else n=r2,n=xn(r,r===k2?n:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(n&3)===0||$9(r,n)||(a=!0,sm(r,n));r=r.next}while(a);Bs=!1}}function AV(){tx()}function tx(){un=Ld=!1;var t=0;P6!==0&&UV()&&(t=P6);for(var e=P3(),a=null,r=dn;r!==null;){var o=r.next,n=ex(r,e);n===0?(r.next=null,a===null?dn=o:a.next=o,o===null&&(l8=a)):(a=r,(t!==0||(n&3)!==0)&&(un=!0)),r=o}x4!==0&&x4!==5||Q9(t,!1),P6!==0&&(P6=0)}function ex(t,e){for(var a=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,n=t.pendingLanes&-62914561;0<n;){var i=31-Z3(n),l=1<<i,c=o[i];c===-1?((l&a)===0||(l&r)!==0)&&(o[i]=lk(l,e)):c<=e&&(t.expiredLanes|=l),n&=~l}if(e=k2,a=r2,a=xn(t,t===e?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,a===0||t===e&&(M2===2||M2===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&is(r),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||$9(t,a)){if(e=a&-a,e===t.callbackPriority)return e;switch(r!==null&&is(r),Dd(a)){case 2:case 8:a=_m;break;case 32:a=Go;break;case 268435456:a=Um;break;default:a=Go}return r=ax.bind(null,t),a=Fd(a,r),t.callbackPriority=e,t.callbackNode=a,e}return r!==null&&r!==null&&is(r),t.callbackPriority=2,t.callbackNode=null,2}function ax(t,e){if(x4!==0&&x4!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Fn()&&t.callbackNode!==a)return null;var r=r2;return r=xn(t,t===k2?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(ZC(t,r,e),ex(t,P3()),t.callbackNode!=null&&t.callbackNode===a?ax.bind(null,t):null)}function sm(t,e){if(Fn())return null;ZC(t,e,!0)}function DV(){$V(function(){(x2&6)!==0?Fd(Zm,AV):tx()})}function xu(){if(P6===0){var t=T8;t===0&&(t=uo,uo<<=1,(uo&261888)===0&&(uo=256)),P6=t}return P6}function dm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Vo(""+t)}function um(t,e){var a=e.ownerDocument.createElement("input");return a.name=e.name,a.value=e.value,t.id&&a.setAttribute("form",t.id),e.parentNode.insertBefore(a,e),t=new FormData(t),a.parentNode.removeChild(a),t}function RV(t,e,a,r,o){if(e==="submit"&&a&&a.stateNode===o){var n=dm((o[z3]||null).action),i=r.submitter;i&&(e=(e=i[z3]||null)?dm(e.formAction):i.getAttribute("formAction"),e!==null&&(n=e,i=null));var l=new Ln("action","action",null,r,o);t.push({event:l,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(P6!==0){var c=i?um(o,i):new FormData(o);dd(a,{pending:!0,data:c,method:o.method,action:n},null,c)}}else typeof n=="function"&&(l.preventDefault(),c=i?um(o,i):new FormData(o),dd(a,{pending:!0,data:c,method:o.method,action:n},n,c))},currentTarget:o}]})}}for(wo=0;wo<Qs.length;wo++)zo=Qs[wo],fm=zo.toLowerCase(),hm=zo[0].toUpperCase()+zo.slice(1),Dt(fm,"on"+hm);var zo,fm,hm,wo;Dt(pv,"onAnimationEnd");Dt(gv,"onAnimationIteration");Dt(mv,"onAnimationStart");Dt("dblclick","onDoubleClick");Dt("focusin","onFocus");Dt("focusout","onBlur");Dt(tV,"onTransitionRun");Dt(eV,"onTransitionStart");Dt(aV,"onTransitionCancel");Dt(vv,"onTransitionEnd");k8("onMouseEnter",["mouseout","mouseover"]);k8("onMouseLeave",["mouseout","mouseover"]);k8("onPointerEnter",["pointerout","pointerover"]);k8("onPointerLeave",["pointerout","pointerover"]);Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var N9="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(N9));function rx(t,e){e=(e&4)!==0;for(var a=0;a<t.length;a++){var r=t[a],o=r.event;r=r.listeners;t:{var n=void 0;if(e)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,s=l.currentTarget;if(l=l.listener,c!==n&&o.isPropagationStopped())break t;n=l,o.currentTarget=s;try{n(o)}catch(d){Wo(d)}o.currentTarget=null,n=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,s=l.currentTarget,l=l.listener,c!==n&&o.isPropagationStopped())break t;n=l,o.currentTarget=s;try{n(o)}catch(d){Wo(d)}o.currentTarget=null,n=c}}}}function e2(t,e){var a=e[qs];a===void 0&&(a=e[qs]=new Set);var r=t+"__bubble";a.has(r)||(ox(e,t,2,!1),a.add(r))}function Is(t,e,a){var r=0;e&&(r|=4),ox(a,t,r,e)}var bo="_reactListening"+Math.random().toString(36).slice(2);function Lu(t){if(!t[bo]){t[bo]=!0,Ym.forEach(function(a){a!=="selectionchange"&&(EV.has(a)||Is(a,!1,t),Is(a,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bo]||(e[bo]=!0,Is("selectionchange",!1,e))}}function ox(t,e,a,r){switch(vx(e)){case 2:var o=uT;break;case 8:o=fT;break;default:o=zu}a=o.bind(null,e,a,t),o=void 0,!Ys||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,a,{capture:!0,passive:o}):t.addEventListener(e,a,!0):o!==void 0?t.addEventListener(e,a,{passive:o}):t.addEventListener(e,a,!1)}function Fs(t,e,a,r,o){var n=r;if((e&1)===0&&(e&2)===0&&r!==null)t:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===o)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&i.stateNode.containerInfo===o)return;i=i.return}for(;l!==null;){if(i=d8(l),i===null)return;if(c=i.tag,c===5||c===6||c===26||c===27){r=n=i;continue t}l=l.parentNode}}r=r.return}rv(function(){var s=n,d=Nd(a),u=[];t:{var f=Cv.get(t);if(f!==void 0){var h=Ln,m=t;switch(t){case"keypress":if(Bo(a)===0)break t;case"keydown":case"keyup":h=Ik;break;case"focusin":m="focus",h=us;break;case"focusout":m="blur",h=us;break;case"beforeblur":case"afterblur":h=us;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Lg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Lk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Dk;break;case pv:case gv:case mv:h=wk;break;case vv:h=Ek;break;case"scroll":case"scrollend":h=Ck;break;case"wheel":h=Pk;break;case"copy":case"cut":case"paste":h=bk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Mg;break;case"toggle":case"beforetoggle":h=Zk}var x=(e&4)!==0,L=!x&&(t==="scroll"||t==="scrollend"),g=x?f!==null?f+"Capture":null:f;x=[];for(var C=s,v;C!==null;){var y=C;if(v=y.stateNode,y=y.tag,y!==5&&y!==26&&y!==27||v===null||g===null||(y=T9(C,g),y!=null&&x.push(P9(C,y,v))),L)break;C=C.return}0<x.length&&(f=new h(f,m,null,a,d),u.push({event:f,listeners:x}))}}if((e&7)===0){t:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&a!==Ws&&(m=a.relatedTarget||a.fromElement)&&(d8(m)||m[N8]))break t;if((h||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,h?(m=a.relatedTarget||a.toElement,h=s,m=m?d8(m):null,m!==null&&(L=U9(m),x=m.tag,m!==L||x!==5&&x!==27&&x!==6)&&(m=null)):(h=null,m=s),h!==m)){if(x=Lg,y="onMouseLeave",g="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(x=Mg,y="onPointerLeave",g="onPointerEnter",C="pointer"),L=h==null?f:h9(h),v=m==null?f:h9(m),f=new x(y,C+"leave",h,a,d),f.target=L,f.relatedTarget=v,y=null,d8(d)===s&&(x=new x(g,C+"enter",m,a,d),x.target=v,x.relatedTarget=L,y=x),L=y,h&&m)e:{for(x=NV,g=h,C=m,v=0,y=g;y;y=x(y))v++;y=0;for(var b=C;b;b=x(b))y++;for(;0<v-y;)g=x(g),v--;for(;0<y-v;)C=x(C),y--;for(;v--;){if(g===C||C!==null&&g===C.alternate){x=g;break e}g=x(g),C=x(C)}x=null}else x=null;h!==null&&pm(u,f,h,x,!1),m!==null&&L!==null&&pm(u,L,m,x,!0)}}t:{if(f=s?h9(s):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var V=Sg;else if(bg(f))if(sv)V=Kk;else{V=Yk;var H=Wk}else h=f.nodeName,!h||h.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?s&&Ed(s.elementType)&&(V=Sg):V=Xk;if(V&&(V=V(t,s))){cv(u,V,a,d);break t}H&&H(t,f,s),t==="focusout"&&s&&f.type==="number"&&s.memoizedProps.value!=null&&js(f,"number",f.value)}switch(H=s?h9(s):window,t){case"focusin":(bg(H)||H.contentEditable==="true")&&(h8=H,Xs=s,C9=null);break;case"focusout":C9=Xs=h8=null;break;case"mousedown":Ks=!0;break;case"contextmenu":case"mouseup":case"dragend":Ks=!1,Tg(u,a,d);break;case"selectionchange":if(Jk)break;case"keydown":case"keyup":Tg(u,a,d)}var D;if(Zd)t:{switch(t){case"compositionstart":var A="onCompositionStart";break t;case"compositionend":A="onCompositionEnd";break t;case"compositionupdate":A="onCompositionUpdate";break t}A=void 0}else f8?iv(t,a)&&(A="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(A="onCompositionStart");A&&(nv&&a.locale!=="ko"&&(f8||A!=="onCompositionStart"?A==="onCompositionEnd"&&f8&&(D=ov()):(R6=d,Pd="value"in R6?R6.value:R6.textContent,f8=!0)),H=fn(s,A),0<H.length&&(A=new yg(A,t,null,a,d),u.push({event:A,listeners:H}),D?A.data=D:(D=lv(a),D!==null&&(A.data=D)))),(D=Uk?qk(t,a):$k(t,a))&&(A=fn(s,"onBeforeInput"),0<A.length&&(H=new yg("onBeforeInput","beforeinput",null,a,d),u.push({event:H,listeners:A}),H.data=D)),RV(u,t,s,a,d)}rx(u,e)})}function P9(t,e,a){return{instance:t,listener:e,currentTarget:a}}function fn(t,e){for(var a=e+"Capture",r=[];t!==null;){var o=t,n=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||n===null||(o=T9(t,a),o!=null&&r.unshift(P9(t,o,n)),o=T9(t,e),o!=null&&r.push(P9(t,o,n))),t.tag===3)return r;t=t.return}return[]}function NV(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function pm(t,e,a,r,o){for(var n=e._reactName,i=[];a!==null&&a!==r;){var l=a,c=l.alternate,s=l.stateNode;if(l=l.tag,c!==null&&c===r)break;l!==5&&l!==26&&l!==27||s===null||(c=s,o?(s=T9(a,n),s!=null&&i.unshift(P9(a,s,c))):o||(s=T9(a,n),s!=null&&i.push(P9(a,s,c)))),a=a.return}i.length!==0&&t.push({event:e,listeners:i})}var PV=/\r\n?/g,OV=/\u0000|\uFFFD/g;function gm(t){return(typeof t=="string"?t:""+t).replace(PV,`
`).replace(OV,"")}function nx(t,e){return e=gm(e),gm(t)===e}function z2(t,e,a,r,o,n){switch(a){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||V8(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&V8(t,""+r);break;case"className":po(t,"class",r);break;case"tabIndex":po(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":po(t,a,r);break;case"style":av(t,r,n);break;case"data":if(e!=="object"){po(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||a!=="href")){t.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=Vo(""+r),t.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof n=="function"&&(a==="formAction"?(e!=="input"&&z2(t,e,"name",o.name,o,null),z2(t,e,"formEncType",o.formEncType,o,null),z2(t,e,"formMethod",o.formMethod,o,null),z2(t,e,"formTarget",o.formTarget,o,null)):(z2(t,e,"encType",o.encType,o,null),z2(t,e,"method",o.method,o,null),z2(t,e,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=Vo(""+r),t.setAttribute(a,r);break;case"onClick":r!=null&&(t.onclick=N0);break;case"onScroll":r!=null&&e2("scroll",t);break;case"onScrollEnd":r!=null&&e2("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s1(61));if(a=r.__html,a!=null){if(o.children!=null)throw Error(s1(60));t.innerHTML=a}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}a=Vo(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""+r):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":r===!0?t.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,r):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(a,r):t.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(a):t.setAttribute(a,r);break;case"popover":e2("beforetoggle",t),e2("toggle",t),ko(t,"popover",r);break;case"xlinkActuate":T0(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":T0(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":T0(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":T0(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":T0(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":T0(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":T0(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":T0(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":T0(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ko(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mk.get(a)||a,ko(t,a,r))}}function yd(t,e,a,r,o,n){switch(a){case"style":av(t,r,n);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s1(61));if(a=r.__html,a!=null){if(o.children!=null)throw Error(s1(60));t.innerHTML=a}}break;case"children":typeof r=="string"?V8(t,r):(typeof r=="number"||typeof r=="bigint")&&V8(t,""+r);break;case"onScroll":r!=null&&e2("scroll",t);break;case"onScrollEnd":r!=null&&e2("scrollend",t);break;case"onClick":r!=null&&(t.onclick=N0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xm.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),e=a.slice(2,o?a.length-7:void 0),n=t[z3]||null,n=n!=null?n[a]:null,typeof n=="function"&&t.removeEventListener(e,n,o),typeof r=="function")){typeof n!="function"&&n!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(e,r,o);break t}a in t?t[a]=r:r===!0?t.setAttribute(a,""):ko(t,a,r)}}}function U4(t,e,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":e2("error",t),e2("load",t);var r=!1,o=!1,n;for(n in a)if(a.hasOwnProperty(n)){var i=a[n];if(i!=null)switch(n){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s1(137,e));default:z2(t,e,n,i,a,null)}}o&&z2(t,e,"srcSet",a.srcSet,a,null),r&&z2(t,e,"src",a.src,a,null);return;case"input":e2("invalid",t);var l=n=i=o=null,c=null,s=null;for(r in a)if(a.hasOwnProperty(r)){var d=a[r];if(d!=null)switch(r){case"name":o=d;break;case"type":i=d;break;case"checked":c=d;break;case"defaultChecked":s=d;break;case"value":n=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(s1(137,e));break;default:z2(t,e,r,d,a,null)}}Jm(t,n,l,c,s,i,o,!1);return;case"select":e2("invalid",t),r=i=n=null;for(o in a)if(a.hasOwnProperty(o)&&(l=a[o],l!=null))switch(o){case"value":n=l;break;case"defaultValue":i=l;break;case"multiple":r=l;default:z2(t,e,o,l,a,null)}e=n,a=i,t.multiple=!!r,e!=null?y8(t,!!r,e,!1):a!=null&&y8(t,!!r,a,!0);return;case"textarea":e2("invalid",t),n=o=r=null;for(i in a)if(a.hasOwnProperty(i)&&(l=a[i],l!=null))switch(i){case"value":r=l;break;case"defaultValue":o=l;break;case"children":n=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(s1(91));break;default:z2(t,e,i,l,a,null)}ev(t,r,o,n);return;case"option":for(c in a)if(a.hasOwnProperty(c)&&(r=a[c],r!=null))switch(c){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:z2(t,e,c,r,a,null)}return;case"dialog":e2("beforetoggle",t),e2("toggle",t),e2("cancel",t),e2("close",t);break;case"iframe":case"object":e2("load",t);break;case"video":case"audio":for(r=0;r<N9.length;r++)e2(N9[r],t);break;case"image":e2("error",t),e2("load",t);break;case"details":e2("toggle",t);break;case"embed":case"source":case"link":e2("error",t),e2("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(s in a)if(a.hasOwnProperty(s)&&(r=a[s],r!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(s1(137,e));default:z2(t,e,s,r,a,null)}return;default:if(Ed(e)){for(d in a)a.hasOwnProperty(d)&&(r=a[d],r!==void 0&&yd(t,e,d,r,a,void 0));return}}for(l in a)a.hasOwnProperty(l)&&(r=a[l],r!=null&&z2(t,e,l,r,a,null))}function ZV(t,e,a,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,n=null,i=null,l=null,c=null,s=null,d=null;for(h in a){var u=a[h];if(a.hasOwnProperty(h)&&u!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":c=u;default:r.hasOwnProperty(h)||z2(t,e,h,null,r,u)}}for(var f in r){var h=r[f];if(u=a[f],r.hasOwnProperty(f)&&(h!=null||u!=null))switch(f){case"type":n=h;break;case"name":o=h;break;case"checked":s=h;break;case"defaultChecked":d=h;break;case"value":i=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(s1(137,e));break;default:h!==u&&z2(t,e,f,h,r,u)}}Gs(t,i,l,c,s,d,n,o);return;case"select":h=i=l=f=null;for(n in a)if(c=a[n],a.hasOwnProperty(n)&&c!=null)switch(n){case"value":break;case"multiple":h=c;default:r.hasOwnProperty(n)||z2(t,e,n,null,r,c)}for(o in r)if(n=r[o],c=a[o],r.hasOwnProperty(o)&&(n!=null||c!=null))switch(o){case"value":f=n;break;case"defaultValue":l=n;break;case"multiple":i=n;default:n!==c&&z2(t,e,o,n,r,c)}e=l,a=i,r=h,f!=null?y8(t,!!a,f,!1):!!r!=!!a&&(e!=null?y8(t,!!a,e,!0):y8(t,!!a,a?[]:"",!1));return;case"textarea":h=f=null;for(l in a)if(o=a[l],a.hasOwnProperty(l)&&o!=null&&!r.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:z2(t,e,l,null,r,o)}for(i in r)if(o=r[i],n=a[i],r.hasOwnProperty(i)&&(o!=null||n!=null))switch(i){case"value":f=o;break;case"defaultValue":h=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(s1(91));break;default:o!==n&&z2(t,e,i,o,r,n)}tv(t,f,h);return;case"option":for(var m in a)if(f=a[m],a.hasOwnProperty(m)&&f!=null&&!r.hasOwnProperty(m))switch(m){case"selected":t.selected=!1;break;default:z2(t,e,m,null,r,f)}for(c in r)if(f=r[c],h=a[c],r.hasOwnProperty(c)&&f!==h&&(f!=null||h!=null))switch(c){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:z2(t,e,c,f,r,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in a)f=a[x],a.hasOwnProperty(x)&&f!=null&&!r.hasOwnProperty(x)&&z2(t,e,x,null,r,f);for(s in r)if(f=r[s],h=a[s],r.hasOwnProperty(s)&&f!==h&&(f!=null||h!=null))switch(s){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(s1(137,e));break;default:z2(t,e,s,f,r,h)}return;default:if(Ed(e)){for(var L in a)f=a[L],a.hasOwnProperty(L)&&f!==void 0&&!r.hasOwnProperty(L)&&yd(t,e,L,void 0,r,f);for(d in r)f=r[d],h=a[d],!r.hasOwnProperty(d)||f===h||f===void 0&&h===void 0||yd(t,e,d,f,r,h);return}}for(var g in a)f=a[g],a.hasOwnProperty(g)&&f!=null&&!r.hasOwnProperty(g)&&z2(t,e,g,null,r,f);for(u in r)f=r[u],h=a[u],!r.hasOwnProperty(u)||f===h||f==null&&h==null||z2(t,e,u,f,r,h)}function mm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _V(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var o=a[r],n=o.transferSize,i=o.initiatorType,l=o.duration;if(n&&l&&mm(i)){for(i=0,l=o.responseEnd,r+=1;r<a.length;r++){var c=a[r],s=c.startTime;if(s>l)break;var d=c.transferSize,u=c.initiatorType;d&&mm(u)&&(c=c.responseEnd,i+=d*(c<l?1:(l-s)/(c-s)))}if(--r,e+=8*(n+i)/(o.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Md=null,wd=null;function hn(t){return t.nodeType===9?t:t.ownerDocument}function vm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ix(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function zd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var As=null;function UV(){var t=window.event;return t&&t.type==="popstate"?t===As?!1:(As=t,!0):(As=null,!1)}var lx=typeof setTimeout=="function"?setTimeout:void 0,qV=typeof clearTimeout=="function"?clearTimeout:void 0,Cm=typeof Promise=="function"?Promise:void 0,$V=typeof queueMicrotask=="function"?queueMicrotask:typeof Cm!="undefined"?function(t){return Cm.resolve(null).then(t).catch(GV)}:lx;function GV(t){setTimeout(function(){throw t})}function te(t){return t==="head"}function xm(t,e){var a=e,r=0;do{var o=a.nextSibling;if(t.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(r===0){t.removeChild(o),E8(e);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")k9(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,k9(a);for(var n=a.firstChild;n;){var i=n.nextSibling,l=n.nodeName;n[j9]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&n.rel.toLowerCase()==="stylesheet"||a.removeChild(n),n=i}}else a==="body"&&k9(t.ownerDocument.body);a=o}while(a);E8(e)}function Lm(t,e){var a=t;t=0;do{var r=a.nextSibling;if(a.nodeType===1?e?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(e?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=r}while(a)}function bd(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var a=e;switch(e=e.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bd(a),Rd(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function jV(t,e,a,r){for(;t.nodeType===1;){var o=a;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[j9])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(n=t.getAttribute("rel"),n==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(n!==o.rel||t.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(n=t.getAttribute("src"),(n!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&n&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var n=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===n)return t}else return t;if(t=dt(t.nextSibling),t===null)break}return null}function WV(t,e,a){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=dt(t.nextSibling),t===null))return null;return t}function cx(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=dt(t.nextSibling),t===null))return null;return t}function Sd(t){return t.data==="$?"||t.data==="$~"}function Hd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function YV(t,e){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||a.readyState!=="loading")e();else{var r=function(){e(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function dt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var kd=null;function ym(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(e===0)return dt(t.nextSibling);e--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||e++}t=t.nextSibling}return null}function Mm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(e===0)return t;e--}else a!=="/$"&&a!=="/&"||e++}t=t.previousSibling}return null}function sx(t,e,a){switch(e=hn(a),t){case"html":if(t=e.documentElement,!t)throw Error(s1(452));return t;case"head":if(t=e.head,!t)throw Error(s1(453));return t;case"body":if(t=e.body,!t)throw Error(s1(454));return t;default:throw Error(s1(451))}}function k9(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Rd(t)}var ut=new Map,wm=new Set;function pn(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var W0=L2.d;L2.d={f:XV,r:KV,D:QV,C:JV,L:tT,m:eT,X:rT,S:aT,M:oT};function XV(){var t=W0.f(),e=Bn();return t||e}function KV(t){var e=P8(t);e!==null&&e.tag===5&&e.type==="form"?aC(e):W0.r(t)}var U8=typeof document=="undefined"?null:document;function dx(t,e,a){var r=U8;if(r&&typeof e=="string"&&e){var o=it(e);o='link[rel="'+t+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),wm.has(o)||(wm.add(o),t={rel:t,crossOrigin:a,href:e},r.querySelector(o)===null&&(e=r.createElement("link"),U4(e,"link",t),V4(e),r.head.appendChild(e)))}}function QV(t){W0.D(t),dx("dns-prefetch",t,null)}function JV(t,e){W0.C(t,e),dx("preconnect",t,e)}function tT(t,e,a){W0.L(t,e,a);var r=U8;if(r&&t&&e){var o='link[rel="preload"][as="'+it(e)+'"]';e==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+it(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+it(a.imageSizes)+'"]')):o+='[href="'+it(t)+'"]';var n=o;switch(e){case"style":n=R8(t);break;case"script":n=q8(t)}ut.has(n)||(t=E2({rel:"preload",href:e==="image"&&a&&a.imageSrcSet?void 0:t,as:e},a),ut.set(n,t),r.querySelector(o)!==null||e==="style"&&r.querySelector(J9(n))||e==="script"&&r.querySelector(ta(n))||(e=r.createElement("link"),U4(e,"link",t),V4(e),r.head.appendChild(e)))}}function eT(t,e){W0.m(t,e);var a=U8;if(a&&t){var r=e&&typeof e.as=="string"?e.as:"script",o='link[rel="modulepreload"][as="'+it(r)+'"][href="'+it(t)+'"]',n=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":n=q8(t)}if(!ut.has(n)&&(t=E2({rel:"modulepreload",href:t},e),ut.set(n,t),a.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ta(n)))return}r=a.createElement("link"),U4(r,"link",t),V4(r),a.head.appendChild(r)}}}function aT(t,e,a){W0.S(t,e,a);var r=U8;if(r&&t){var o=L8(r).hoistableStyles,n=R8(t);e=e||"default";var i=o.get(n);if(!i){var l={loading:0,preload:null};if(i=r.querySelector(J9(n)))l.loading=5;else{t=E2({rel:"stylesheet",href:t,"data-precedence":e},a),(a=ut.get(n))&&yu(t,a);var c=i=r.createElement("link");V4(c),U4(c,"link",t),c._p=new Promise(function(s,d){c.onload=s,c.onerror=d}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Po(i,e,r)}i={type:"stylesheet",instance:i,count:1,state:l},o.set(n,i)}}}function rT(t,e){W0.X(t,e);var a=U8;if(a&&t){var r=L8(a).hoistableScripts,o=q8(t),n=r.get(o);n||(n=a.querySelector(ta(o)),n||(t=E2({src:t,async:!0},e),(e=ut.get(o))&&Mu(t,e),n=a.createElement("script"),V4(n),U4(n,"link",t),a.head.appendChild(n)),n={type:"script",instance:n,count:1,state:null},r.set(o,n))}}function oT(t,e){W0.M(t,e);var a=U8;if(a&&t){var r=L8(a).hoistableScripts,o=q8(t),n=r.get(o);n||(n=a.querySelector(ta(o)),n||(t=E2({src:t,async:!0,type:"module"},e),(e=ut.get(o))&&Mu(t,e),n=a.createElement("script"),V4(n),U4(n,"link",t),a.head.appendChild(n)),n={type:"script",instance:n,count:1,state:null},r.set(o,n))}}function zm(t,e,a,r){var o=(o=O6.current)?pn(o):null;if(!o)throw Error(s1(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(e=R8(a.href),a=L8(o).hoistableStyles,r=a.get(e),r||(r={type:"style",instance:null,count:0,state:null},a.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=R8(a.href);var n=L8(o).hoistableStyles,i=n.get(t);if(i||(o=o.ownerDocument||o,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},n.set(t,i),(n=o.querySelector(J9(t)))&&!n._p&&(i.instance=n,i.state.loading=5),ut.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ut.set(t,a),n||nT(o,t,a,i.state))),e&&r===null)throw Error(s1(528,""));return i}if(e&&r!==null)throw Error(s1(529,""));return null;case"script":return e=a.async,a=a.src,typeof a=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=q8(a),a=L8(o).hoistableScripts,r=a.get(e),r||(r={type:"script",instance:null,count:0,state:null},a.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s1(444,t))}}function R8(t){return'href="'+it(t)+'"'}function J9(t){return'link[rel="stylesheet"]['+t+"]"}function ux(t){return E2({},t,{"data-precedence":t.precedence,precedence:null})}function nT(t,e,a,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),U4(e,"link",a),V4(e),t.head.appendChild(e))}function q8(t){return'[src="'+it(t)+'"]'}function ta(t){return"script[async]"+t}function bm(t,e,a){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+it(a.href)+'"]');if(r)return e.instance=r,V4(r),r;var o=E2({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),V4(r),U4(r,"style",o),Po(r,a.precedence,t),e.instance=r;case"stylesheet":o=R8(a.href);var n=t.querySelector(J9(o));if(n)return e.state.loading|=4,e.instance=n,V4(n),n;r=ux(a),(o=ut.get(o))&&yu(r,o),n=(t.ownerDocument||t).createElement("link"),V4(n);var i=n;return i._p=new Promise(function(l,c){i.onload=l,i.onerror=c}),U4(n,"link",r),e.state.loading|=4,Po(n,a.precedence,t),e.instance=n;case"script":return n=q8(a.src),(o=t.querySelector(ta(n)))?(e.instance=o,V4(o),o):(r=a,(o=ut.get(n))&&(r=E2({},a),Mu(r,o)),t=t.ownerDocument||t,o=t.createElement("script"),V4(o),U4(o,"link",r),t.head.appendChild(o),e.instance=o);case"void":return null;default:throw Error(s1(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(r=e.instance,e.state.loading|=4,Po(r,a.precedence,t));return e.instance}function Po(t,e,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,n=o,i=0;i<r.length;i++){var l=r[i];if(l.dataset.precedence===e)n=l;else if(n!==o)break}n?n.parentNode.insertBefore(t,n.nextSibling):(e=a.nodeType===9?a.head:a,e.insertBefore(t,e.firstChild))}function yu(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Mu(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Oo=null;function Sm(t,e,a){if(Oo===null){var r=new Map,o=Oo=new Map;o.set(a,r)}else o=Oo,r=o.get(a),r||(r=new Map,o.set(a,r));if(r.has(t))return r;for(r.set(t,null),a=a.getElementsByTagName(t),o=0;o<a.length;o++){var n=a[o];if(!(n[j9]||n[O4]||t==="link"&&n.getAttribute("rel")==="stylesheet")&&n.namespaceURI!=="http://www.w3.org/2000/svg"){var i=n.getAttribute(e)||"";i=t+i;var l=r.get(i);l?l.push(n):r.set(i,[n])}}return r}function Hm(t,e,a){t=t.ownerDocument||t,t.head.insertBefore(a,e==="title"?t.querySelector("head > title"):null)}function iT(t,e,a){if(a===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function fx(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function lT(t,e,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=R8(r.href),n=e.querySelector(J9(o));if(n){e=n._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=gn.bind(t),e.then(t,t)),a.state.loading|=4,a.instance=n,V4(n);return}n=e.ownerDocument||e,r=ux(r),(o=ut.get(o))&&yu(r,o),n=n.createElement("link"),V4(n);var i=n;i._p=new Promise(function(l,c){i.onload=l,i.onerror=c}),U4(n,"link",r),a.instance=n}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,e),(e=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=gn.bind(t),e.addEventListener("load",a),e.addEventListener("error",a))}}var Ds=0;function cT(t,e){return t.stylesheets&&t.count===0&&Zo(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var r=setTimeout(function(){if(t.stylesheets&&Zo(t,t.stylesheets),t.unsuspend){var n=t.unsuspend;t.unsuspend=null,n()}},6e4+e);0<t.imgBytes&&Ds===0&&(Ds=62500*_V());var o=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Zo(t,t.stylesheets),t.unsuspend)){var n=t.unsuspend;t.unsuspend=null,n()}},(t.imgBytes>Ds?50:800)+e);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function gn(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var mn=null;function Zo(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,mn=new Map,e.forEach(sT,t),mn=null,gn.call(t))}function sT(t,e){if(!(e.state.loading&4)){var a=mn.get(t);if(a)var r=a.get(null);else{a=new Map,mn.set(t,a);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),n=0;n<o.length;n++){var i=o[n];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(a.set(i.dataset.precedence,i),r=i)}r&&a.set(null,r)}o=e.instance,i=o.getAttribute("data-precedence"),n=a.get(i)||r,n===r&&a.set(null,o),a.set(i,o),this.count++,r=gn.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),n?n.parentNode.insertBefore(o,n.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),e.state.loading|=4}}var O9={$$typeof:E0,Provider:null,Consumer:null,_currentValue:Ze,_currentValue2:Ze,_threadCount:0};function dT(t,e,a,r,o,n,i,l,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ls(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ls(0),this.hiddenUpdates=ls(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=n,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function hx(t,e,a,r,o,n,i,l,c,s,d,u){return t=new dT(t,e,a,i,c,s,d,u,l),e=1,n===!0&&(e|=24),n=E3(3,null,null,e),t.current=n,n.stateNode=t,e=Wd(),e.refCount++,t.pooledCache=e,e.refCount++,n.memoizedState={element:r,isDehydrated:a,cache:e},Kd(n),t}function px(t){return t?(t=m8,t):m8}function gx(t,e,a,r,o,n){o=px(o),r.context===null?r.context=o:r.pendingContext=o,r=_6(e),r.payload={element:a},n=n===void 0?null:n,n!==null&&(r.callback=n),a=U6(t,r,e),a!==null&&(w3(a,t,e),L9(a,t,e))}function km(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<e?a:e}}function wu(t,e){km(t,e),(t=t.alternate)&&km(t,e)}function mx(t){if(t.tag===13||t.tag===31){var e=t5(t,67108864);e!==null&&w3(e,t,67108864),wu(t,67108864)}}function Vm(t){if(t.tag===13||t.tag===31){var e=_3();e=Ad(e);var a=t5(t,e);a!==null&&w3(a,t,e),wu(t,e)}}var vn=!0;function uT(t,e,a,r){var o=O1.T;O1.T=null;var n=L2.p;try{L2.p=2,zu(t,e,a,r)}finally{L2.p=n,O1.T=o}}function fT(t,e,a,r){var o=O1.T;O1.T=null;var n=L2.p;try{L2.p=8,zu(t,e,a,r)}finally{L2.p=n,O1.T=o}}function zu(t,e,a,r){if(vn){var o=Vd(r);if(o===null)Fs(t,e,r,Cn,a),Tm(t,r);else if(pT(o,t,e,a,r))r.stopPropagation();else if(Tm(t,r),e&4&&-1<hT.indexOf(t)){for(;o!==null;){var n=P8(o);if(n!==null)switch(n.tag){case 3:if(n=n.stateNode,n.current.memoizedState.isDehydrated){var i=Ne(n.pendingLanes);if(i!==0){var l=n;for(l.pendingLanes|=2,l.entangledLanes|=2;i;){var c=1<<31-Z3(i);l.entanglements[1]|=c,i&=~c}u0(n),(x2&6)===0&&(ln=P3()+500,Q9(0,!1))}}break;case 31:case 13:l=t5(n,2),l!==null&&w3(l,n,2),Bn(),wu(n,2)}if(n=Vd(r),n===null&&Fs(t,e,r,Cn,a),n===o)break;o=n}o!==null&&r.stopPropagation()}else Fs(t,e,r,null,a)}}function Vd(t){return t=Nd(t),bu(t)}var Cn=null;function bu(t){if(Cn=null,t=d8(t),t!==null){var e=U9(t);if(e===null)t=null;else{var a=e.tag;if(a===13){if(t=Rm(e),t!==null)return t;t=null}else if(a===31){if(t=Em(e),t!==null)return t;t=null}else if(a===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Cn=t,null}function vx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tk()){case Zm:return 2;case _m:return 8;case Go:case ek:return 32;case Um:return 268435456;default:return 32}default:return 32}}var Td=!1,G6=null,j6=null,W6=null,Z9=new Map,_9=new Map,A6=[],hT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tm(t,e){switch(t){case"focusin":case"focusout":G6=null;break;case"dragenter":case"dragleave":j6=null;break;case"mouseover":case"mouseout":W6=null;break;case"pointerover":case"pointerout":Z9.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_9.delete(e.pointerId)}}function s9(t,e,a,r,o,n){return t===null||t.nativeEvent!==n?(t={blockedOn:e,domEventName:a,eventSystemFlags:r,nativeEvent:n,targetContainers:[o]},e!==null&&(e=P8(e),e!==null&&mx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function pT(t,e,a,r,o){switch(e){case"focusin":return G6=s9(G6,t,e,a,r,o),!0;case"dragenter":return j6=s9(j6,t,e,a,r,o),!0;case"mouseover":return W6=s9(W6,t,e,a,r,o),!0;case"pointerover":var n=o.pointerId;return Z9.set(n,s9(Z9.get(n)||null,t,e,a,r,o)),!0;case"gotpointercapture":return n=o.pointerId,_9.set(n,s9(_9.get(n)||null,t,e,a,r,o)),!0}return!1}function Cx(t){var e=d8(t.target);if(e!==null){var a=U9(e);if(a!==null){if(e=a.tag,e===13){if(e=Rm(a),e!==null){t.blockedOn=e,hg(t.priority,function(){Vm(a)});return}}else if(e===31){if(e=Em(a),e!==null){t.blockedOn=e,hg(t.priority,function(){Vm(a)});return}}else if(e===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _o(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var a=Vd(t.nativeEvent);if(a===null){a=t.nativeEvent;var r=new a.constructor(a.type,a);Ws=r,a.target.dispatchEvent(r),Ws=null}else return e=P8(a),e!==null&&mx(e),t.blockedOn=a,!1;e.shift()}return!0}function Bm(t,e,a){_o(t)&&a.delete(e)}function gT(){Td=!1,G6!==null&&_o(G6)&&(G6=null),j6!==null&&_o(j6)&&(j6=null),W6!==null&&_o(W6)&&(W6=null),Z9.forEach(Bm),_9.forEach(Bm)}function So(t,e){t.blockedOn===e&&(t.blockedOn=null,Td||(Td=!0,L4.unstable_scheduleCallback(L4.unstable_NormalPriority,gT)))}var Ho=null;function Im(t){Ho!==t&&(Ho=t,L4.unstable_scheduleCallback(L4.unstable_NormalPriority,function(){Ho===t&&(Ho=null);for(var e=0;e<t.length;e+=3){var a=t[e],r=t[e+1],o=t[e+2];if(typeof r!="function"){if(bu(r||a)===null)continue;break}var n=P8(a);n!==null&&(t.splice(e,3),e-=3,dd(n,{pending:!0,data:o,method:a.method,action:r},r,o))}}))}function E8(t){function e(c){return So(c,t)}G6!==null&&So(G6,t),j6!==null&&So(j6,t),W6!==null&&So(W6,t),Z9.forEach(e),_9.forEach(e);for(var a=0;a<A6.length;a++){var r=A6[a];r.blockedOn===t&&(r.blockedOn=null)}for(;0<A6.length&&(a=A6[0],a.blockedOn===null);)Cx(a),a.blockedOn===null&&A6.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var o=a[r],n=a[r+1],i=o[z3]||null;if(typeof n=="function")i||Im(a);else if(i){var l=null;if(n&&n.hasAttribute("formAction")){if(o=n,i=n[z3]||null)l=i.formAction;else if(bu(o)!==null)continue}else l=i.action;typeof l=="function"?a[r+1]=l:(a.splice(r,3),r-=3),Im(a)}}}function xx(){function t(n){n.canIntercept&&n.info==="react-transition"&&n.intercept({handler:function(){return new Promise(function(i){return o=i})},focusReset:"manual",scroll:"manual"})}function e(){o!==null&&(o(),o=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var n=navigation.currentEntry;n&&n.url!=null&&navigation.navigate(n.url,{state:n.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),o!==null&&(o(),o=null)}}}function Su(t){this._internalRoot=t}An.prototype.render=Su.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(s1(409));var a=e.current,r=_3();gx(a,r,t,e,null,null)};An.prototype.unmount=Su.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gx(t.current,2,null,t,null,null),Bn(),e[N8]=null}};function An(t){this._internalRoot=t}An.prototype.unstable_scheduleHydration=function(t){if(t){var e=Wm();t={blockedOn:null,target:t,priority:e};for(var a=0;a<A6.length&&e!==0&&e<A6[a].priority;a++);A6.splice(a,0,t),a===0&&Cx(t)}};var Fm=Am.version;if(Fm!=="19.2.3")throw Error(s1(527,Fm,"19.2.3"));L2.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(s1(188)):(t=Object.keys(t).join(","),Error(s1(268,t)));return t=jH(e),t=t!==null?Nm(t):null,t=t===null?null:t.stateNode,t};var mT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O1,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(d9=__REACT_DEVTOOLS_GLOBAL_HOOK__,!d9.isDisabled&&d9.supportsFiber))try{q9=d9.inject(mT),O3=d9}catch(t){}var d9;Dn.createRoot=function(t,e){if(!Dm(t))throw Error(s1(299));var a=!1,r="",o=dC,n=uC,i=fC;return e!=null&&(e.unstable_strictMode===!0&&(a=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(o=e.onUncaughtError),e.onCaughtError!==void 0&&(n=e.onCaughtError),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=hx(t,1,!1,null,null,a,r,null,o,n,i,xx),t[N8]=e.current,Lu(t),new Su(e)};Dn.hydrateRoot=function(t,e,a){if(!Dm(t))throw Error(s1(299));var r=!1,o="",n=dC,i=uC,l=fC,c=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(n=a.onUncaughtError),a.onCaughtError!==void 0&&(i=a.onCaughtError),a.onRecoverableError!==void 0&&(l=a.onRecoverableError),a.formState!==void 0&&(c=a.formState)),e=hx(t,1,!0,e,a!=null?a:null,r,o,c,n,i,l,xx),e.context=px(null),a=e.current,r=_3(),r=Ad(r),o=_6(r),o.callback=null,U6(a,o,r),a=r,e.current.lanes=a,G9(e,a),u0(e),t[N8]=e.current,Lu(t),new An(e)};Dn.version="19.2.3"});var a5=K4((zO,Mx)=>{"use strict";function yx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yx)}catch(t){console.error(t)}}yx(),Mx.exports=Lx()});var wx=g1(()=>{});var Hu,ku,Vu,Tu=g1(()=>{Hu=B1(T2(),1),ku={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Vu=Hu.default.createContext&&Hu.default.createContext(ku)});function CT(t,e){if(t==null)return{};var a=xT(t,e),r,o;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(o=0;o<n.length;o++)r=n[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function xT(t,e){if(t==null)return{};var a={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;a[r]=t[r]}return a}function Rn(){return Rn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Rn.apply(this,arguments)}function zx(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),a.push.apply(a,r)}return a}function En(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?zx(Object(a),!0).forEach(function(r){LT(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):zx(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function LT(t,e,a){return e=yT(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function yT(t){var e=MT(t,"string");return typeof e=="symbol"?e:e+""}function MT(t,e){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bx(t){return t&&t.map((e,a)=>$8.default.createElement(e.tag,En({key:a},e.attr),bx(e.child)))}function ee(t){return e=>$8.default.createElement(wT,Rn({attr:En({},t.attr)},e),bx(t.child))}function wT(t){var e=a=>{var{attr:r,size:o,title:n}=t,i=CT(t,vT),l=o||a.size||"1em",c;return a.className&&(c=a.className),t.className&&(c=(c?c+" ":"")+t.className),$8.default.createElement("svg",Rn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,r,i,{className:c,style:En(En({color:t.color||a.color},a.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),n&&$8.default.createElement("title",null,n),t.children)};return Vu!==void 0?$8.default.createElement(Vu.Consumer,null,a=>e(a)):e(ku)}var $8,vT,Sx=g1(()=>{$8=B1(T2(),1);Tu();vT=["attr","size","title"]});var Bu=g1(()=>{wx();Sx();Tu()});function Hx(t){return ee({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-128H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-128H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-128H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(t)}function Nn(t){return ee({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function kx(t){return ee({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function f0(t){return ee({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}var G8=g1(()=>{Bu()});function Vx(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),a.push.apply(a,r)}return a}function p0(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Vx(Object(a),!0).forEach(function(r){zT(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Vx(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function Un(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Un=function(e){return typeof e}:Un=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Un(t)}function zT(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function X0(){return X0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},X0.apply(this,arguments)}function bT(t,e){if(t==null)return{};var a={},r=Object.keys(t),o,n;for(n=0;n<r.length;n++)o=r[n],!(e.indexOf(o)>=0)&&(a[o]=t[o]);return a}function ST(t,e){if(t==null)return{};var a=bT(t,e),r,o;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(o=0;o<n.length;o++)r=n[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function Y0(t){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(t)}function s2(t,e,a){t.addEventListener(e,a,!K0&&Px)}function o2(t,e,a){t.removeEventListener(e,a,!K0&&Px)}function Wn(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(a){return!1}return!1}}function Ox(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Et(t,e,a,r){if(t){a=a||document;do{if(e!=null&&(e[0]===">"?t.parentNode===a&&Wn(t,e):Wn(t,e))||r&&t===a)return t;if(t===a)break}while(t=Ox(t))}return null}function $3(t,e,a){if(t&&e)if(t.classList)t.classList[a?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(Bx," ").replace(" "+e+" "," ");t.className=(r+(a?" "+e:"")).replace(Bx," ")}}function Z1(t,e,a){var r=t&&t.style;if(r){if(a===void 0)return document.defaultView&&document.defaultView.getComputedStyle?a=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(a=t.currentStyle),e===void 0?a:a[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=a+(typeof a=="string"?"":"px")}}function K8(t,e){var a="";if(typeof t=="string")a=t;else do{var r=Z1(t,"transform");r&&r!=="none"&&(a=r+" "+a)}while(!e&&(t=t.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(a)}function Zx(t,e,a){if(t){var r=t.getElementsByTagName(e),o=0,n=r.length;if(a)for(;o<n;o++)a(r[o],o);return r}return[]}function h0(){var t=document.scrollingElement;return t||document.documentElement}function f4(t,e,a,r,o){if(!(!t.getBoundingClientRect&&t!==window)){var n,i,l,c,s,d,u;if(t!==window&&t.parentNode&&t!==h0()?(n=t.getBoundingClientRect(),i=n.top,l=n.left,c=n.bottom,s=n.right,d=n.height,u=n.width):(i=0,l=0,c=window.innerHeight,s=window.innerWidth,d=window.innerHeight,u=window.innerWidth),(e||a)&&t!==window&&(o=o||t.parentNode,!K0))do if(o&&o.getBoundingClientRect&&(Z1(o,"transform")!=="none"||a&&Z1(o,"position")!=="static")){var f=o.getBoundingClientRect();i-=f.top+parseInt(Z1(o,"border-top-width")),l-=f.left+parseInt(Z1(o,"border-left-width")),c=i+n.height,s=l+n.width;break}while(o=o.parentNode);if(r&&t!==window){var h=K8(o||t),m=h&&h.a,x=h&&h.d;h&&(i/=x,l/=m,u/=m,d/=x,c=i+d,s=l+u)}return{top:i,left:l,bottom:c,right:s,width:u,height:d}}}function Ix(t,e,a){for(var r=oe(t,!0),o=f4(t)[e];r;){var n=f4(r)[a],i=void 0;if(a==="top"||a==="left"?i=o>=n:i=o<=n,!i)return r;if(r===h0())break;r=oe(r,!1)}return!1}function Q8(t,e,a,r){for(var o=0,n=0,i=t.children;n<i.length;){if(i[n].style.display!=="none"&&i[n]!==_1.ghost&&(r||i[n]!==_1.dragged)&&Et(i[n],a.draggable,t,!1)){if(o===e)return i[n];o++}n++}return null}function Gu(t,e){for(var a=t.lastElementChild;a&&(a===_1.ghost||Z1(a,"display")==="none"||e&&!Wn(a,e));)a=a.previousElementSibling;return a||null}function ft(t,e){var a=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==_1.clone&&(!e||Wn(t,e))&&a++;return a}function Fx(t){var e=0,a=0,r=h0();if(t)do{var o=K8(t),n=o.a,i=o.d;e+=t.scrollLeft*n,a+=t.scrollTop*i}while(t!==r&&(t=t.parentNode));return[e,a]}function kT(t,e){for(var a in t)if(t.hasOwnProperty(a)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[a][r])return Number(a)}return-1}function oe(t,e){if(!t||!t.getBoundingClientRect)return h0();var a=t,r=!1;do if(a.clientWidth<a.scrollWidth||a.clientHeight<a.scrollHeight){var o=Z1(a);if(a.clientWidth<a.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||a.clientHeight<a.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!a.getBoundingClientRect||a===document.body)return h0();if(r||e)return a;r=!0}}while(a=a.parentNode);return h0()}function VT(t,e){if(t&&e)for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t}function Iu(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function _x(t,e){return function(){if(!na){var a=arguments,r=this;a.length===1?t.call(r,a[0]):t.apply(r,a),na=setTimeout(function(){na=void 0},e)}}}function TT(){clearTimeout(na),na=void 0}function Ux(t,e,a){t.scrollLeft+=e,t.scrollTop+=a}function qx(t){var e=window.Polymer,a=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):a?a(t).clone(!0)[0]:t.cloneNode(!0)}function $x(t,e,a){var r={};return Array.from(t.children).forEach(function(o){var n,i,l,c;if(!(!Et(o,e.draggable,t,!1)||o.animated||o===a)){var s=f4(o);r.left=Math.min((n=r.left)!==null&&n!==void 0?n:1/0,s.left),r.top=Math.min((i=r.top)!==null&&i!==void 0?i:1/0,s.top),r.right=Math.max((l=r.right)!==null&&l!==void 0?l:-1/0,s.right),r.bottom=Math.max((c=r.bottom)!==null&&c!==void 0?c:-1/0,s.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}function BT(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(o){if(!(Z1(o,"display")==="none"||o===_1.ghost)){t.push({target:o,rect:f4(o)});var n=p0({},t[t.length-1].rect);if(o.thisAnimationDuration){var i=K8(o,!0);i&&(n.top-=i.f,n.left-=i.e)}o.fromRect=n}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(kT(t,{target:r}),1)},animateAll:function(r){var o=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var n=!1,i=0;t.forEach(function(l){var c=0,s=l.target,d=s.fromRect,u=f4(s),f=s.prevFromRect,h=s.prevToRect,m=l.rect,x=K8(s,!0);x&&(u.top-=x.f,u.left-=x.e),s.toRect=u,s.thisAnimationDuration&&Iu(f,u)&&!Iu(d,u)&&(m.top-u.top)/(m.left-u.left)===(d.top-u.top)/(d.left-u.left)&&(c=FT(m,f,h,o.options)),Iu(u,d)||(s.prevFromRect=d,s.prevToRect=u,c||(c=o.options.animation),o.animate(s,m,u,c)),c&&(n=!0,i=Math.max(i,c),clearTimeout(s.animationResetTimer),s.animationResetTimer=setTimeout(function(){s.animationTime=0,s.prevFromRect=null,s.fromRect=null,s.prevToRect=null,s.thisAnimationDuration=null},c),s.thisAnimationDuration=c)}),clearTimeout(e),n?e=setTimeout(function(){typeof r=="function"&&r()},i):typeof r=="function"&&r(),t=[]},animate:function(r,o,n,i){if(i){Z1(r,"transition",""),Z1(r,"transform","");var l=K8(this.el),c=l&&l.a,s=l&&l.d,d=(o.left-n.left)/(c||1),u=(o.top-n.top)/(s||1);r.animatingX=!!d,r.animatingY=!!u,Z1(r,"transform","translate3d("+d+"px,"+u+"px,0)"),this.forRepaintDummy=IT(r),Z1(r,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),Z1(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){Z1(r,"transition",""),Z1(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},i)}}}}function IT(t){return t.offsetWidth}function FT(t,e,a,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-a.top,2)+Math.pow(e.left-a.left,2))*r.animation}function AT(t){var e=t.sortable,a=t.rootEl,r=t.name,o=t.targetEl,n=t.cloneEl,i=t.toEl,l=t.fromEl,c=t.oldIndex,s=t.newIndex,d=t.oldDraggableIndex,u=t.newDraggableIndex,f=t.originalEvent,h=t.putSortable,m=t.extraEventProperties;if(e=e||a&&a[H3],!!e){var x,L=e.options,g="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!K0&&!sa?x=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(x=document.createEvent("Event"),x.initEvent(r,!0,!0)),x.to=i||a,x.from=l||a,x.item=o||a,x.clone=n,x.oldIndex=c,x.newIndex=s,x.oldDraggableIndex=d,x.newDraggableIndex=u,x.originalEvent=f,x.pullMode=h?h.lastPutMode:void 0;var C=p0(p0({},m),da.getEventProperties(r,e));for(var v in C)x[v]=C[v];a&&a.dispatchEvent(x),L[g]&&L[g].call(e,x)}}function n3(t){AT(p0({putSortable:q4,cloneEl:j2,targetEl:w1,rootEl:_2,oldIndex:X8,oldDraggableIndex:ia,newIndex:G3,newDraggableIndex:ae},t))}function _1(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=X0({},e),t[H3]=this;var a={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return jx(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,l){i.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:_1.supportPointer!==!1&&"PointerEvent"in window&&(!oa||$u),emptyInsertThreshold:5};da.initializePlugins(this,t,a);for(var r in a)!(r in e)&&(e[r]=a[r]);Wx(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:RT,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?s2(t,"pointerdown",this._onTapStart):(s2(t,"mousedown",this._onTapStart),s2(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(s2(t,"dragover",this),s2(t,"dragenter",this)),Xn.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),X0(this,BT())}function OT(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function _n(t,e,a,r,o,n,i,l){var c,s=t[H3],d=s.options.onMove,u;return window.CustomEvent&&!K0&&!sa?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=t,c.dragged=a,c.draggedRect=r,c.related=o||e,c.relatedRect=n||f4(e),c.willInsertAfter=l,c.originalEvent=i,t.dispatchEvent(c),d&&(u=d.call(s,c,i)),u}function Eu(t){t.draggable=!1}function ZT(){Zu=!1}function _T(t,e,a){var r=f4(Q8(a.el,0,a.options,!0)),o=$x(a.el,a.options,G1),n=10;return e?t.clientX<o.left-n||t.clientY<r.top&&t.clientX<r.right:t.clientY<o.top-n||t.clientY<r.bottom&&t.clientX<r.left}function UT(t,e,a){var r=f4(Gu(a.el,a.options.draggable)),o=$x(a.el,a.options,G1),n=10;return e?t.clientX>o.right+n||t.clientY>r.bottom&&t.clientX>r.left:t.clientY>o.bottom+n||t.clientX>r.right&&t.clientY>r.top}function qT(t,e,a,r,o,n,i,l){var c=r?t.clientY:t.clientX,s=r?a.height:a.width,d=r?a.top:a.left,u=r?a.bottom:a.right,f=!1;if(!i){if(l&&$n<s*o){if(!ca&&(la===1?c>d+s*n/2:c<u-s*n/2)&&(ca=!0),ca)f=!0;else if(la===1?c<d+$n:c>u-$n)return-la}else if(c>d+s*(1-o)/2&&c<u-s*(1-o)/2)return $T(e)}return f=f||i,f&&(c<d+s*n/2||c>u-s*n/2)?c>d+s/2?1:-1:0}function $T(t){return ft(w1)<ft(t)?1:-1}function GT(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,a=e.length,r=0;a--;)r+=e.charCodeAt(a);return r.toString(36)}function jT(t){Kn.length=0;for(var e=t.getElementsByTagName("input"),a=e.length;a--;){var r=e[a];r.checked&&Kn.push(r)}}function Gn(t){return setTimeout(t,0)}function _u(t){return clearTimeout(t)}function WT(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(a){var r=a.originalEvent;this.sortable.nativeDraggable?s2(document,"dragover",this._handleAutoScroll):this.options.supportPointer?s2(document,"pointermove",this._handleFallbackAutoScroll):r.touches?s2(document,"touchmove",this._handleFallbackAutoScroll):s2(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(a){var r=a.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?o2(document,"dragover",this._handleAutoScroll):(o2(document,"pointermove",this._handleFallbackAutoScroll),o2(document,"touchmove",this._handleFallbackAutoScroll),o2(document,"mousemove",this._handleFallbackAutoScroll)),Ex(),jn(),TT()},nulling:function(){Qn=Uu=aa=qu=ra=Nu=Pu=null,u4.length=0},_handleFallbackAutoScroll:function(a){this._handleAutoScroll(a,!0)},_handleAutoScroll:function(a,r){var o=this,n=(a.touches?a.touches[0]:a).clientX,i=(a.touches?a.touches[0]:a).clientY,l=document.elementFromPoint(n,i);if(Qn=a,r||this.options.forceAutoScrollFallback||sa||K0||oa){Ou(a,this.options,l,r);var c=oe(l,!0);qu&&(!ra||n!==Nu||i!==Pu)&&(ra&&Ex(),ra=setInterval(function(){var s=oe(document.elementFromPoint(n,i),!0);s!==c&&(c=s,jn()),Ou(a,o.options,s,r)},10),Nu=n,Pu=i)}else{if(!this.options.bubbleScroll||oe(l,!0)===h0()){jn();return}Ou(a,this.options,oe(l,!1),!1)}}},X0(t,{pluginName:"scroll",initializeByDefault:!0})}function jn(){u4.forEach(function(t){clearInterval(t.pid)}),u4=[]}function Ex(){clearInterval(ra)}function ju(){}function Wu(){}var HT,K0,sa,Tx,oa,$u,Nx,Px,Bx,na,H3,j8,Fu,da,DT,S3,w1,Q2,G1,_2,n5,qn,j2,re,X8,G3,ia,ae,Pn,q4,Y8,Yn,Xn,r5,Rt,Au,Du,Ax,Dx,ea,W8,la,ca,On,$n,Y4,Ru,Zu,Kn,Jn,Zn,Rx,RT,Gx,jx,ET,NT,Wx,Yx,Xx,o5,PT,u4,aa,Uu,qu,Nu,Pu,Qn,ra,Ou,Kx,i3,i5=g1(()=>{HT="1.15.6";K0=Y0(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),sa=Y0(/Edge/i),Tx=Y0(/firefox/i),oa=Y0(/safari/i)&&!Y0(/chrome/i)&&!Y0(/android/i),$u=Y0(/iP(ad|od|hone)/i),Nx=Y0(/chrome/i)&&Y0(/android/i),Px={capture:!1,passive:!1};Bx=/\s+/g;H3="Sortable"+new Date().getTime();j8=[],Fu={initializeByDefault:!0},da={mount:function(e){for(var a in Fu)Fu.hasOwnProperty(a)&&!(a in e)&&(e[a]=Fu[a]);j8.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),j8.push(e)},pluginEvent:function(e,a,r){var o=this;this.eventCanceled=!1,r.cancel=function(){o.eventCanceled=!0};var n=e+"Global";j8.forEach(function(i){a[i.pluginName]&&(a[i.pluginName][n]&&a[i.pluginName][n](p0({sortable:a},r)),a.options[i.pluginName]&&a[i.pluginName][e]&&a[i.pluginName][e](p0({sortable:a},r)))})},initializePlugins:function(e,a,r,o){j8.forEach(function(l){var c=l.pluginName;if(!(!e.options[c]&&!l.initializeByDefault)){var s=new l(e,a,e.options);s.sortable=e,s.options=e.options,e[c]=s,X0(r,s.defaults)}});for(var n in e.options)if(e.options.hasOwnProperty(n)){var i=this.modifyOption(e,n,e.options[n]);typeof i!="undefined"&&(e.options[n]=i)}},getEventProperties:function(e,a){var r={};return j8.forEach(function(o){typeof o.eventProperties=="function"&&X0(r,o.eventProperties.call(a[o.pluginName],e))}),r},modifyOption:function(e,a,r){var o;return j8.forEach(function(n){e[n.pluginName]&&n.optionListeners&&typeof n.optionListeners[a]=="function"&&(o=n.optionListeners[a].call(e[n.pluginName],r))}),o}};DT=["evt"],S3=function(e,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.evt,n=ST(r,DT);da.pluginEvent.bind(_1)(e,a,p0({dragEl:w1,parentEl:Q2,ghostEl:G1,rootEl:_2,nextEl:n5,lastDownEl:qn,cloneEl:j2,cloneHidden:re,dragStarted:ea,putSortable:q4,activeSortable:_1.active,originalEvent:o,oldIndex:X8,oldDraggableIndex:ia,newIndex:G3,newDraggableIndex:ae,hideGhostForTarget:Yx,unhideGhostForTarget:Xx,cloneNowHidden:function(){re=!0},cloneNowShown:function(){re=!1},dispatchSortableEvent:function(l){n3({sortable:a,name:l,originalEvent:o})}},n))};Y8=!1,Yn=!1,Xn=[],ca=!1,On=!1,Ru=[],Zu=!1,Kn=[],Jn=typeof document!="undefined",Zn=$u,Rx=sa||K0?"cssFloat":"float",RT=Jn&&!Nx&&!$u&&"draggable"in document.createElement("div"),Gx=function(){if(Jn){if(K0)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),jx=function(e,a){var r=Z1(e),o=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),n=Q8(e,0,a),i=Q8(e,1,a),l=n&&Z1(n),c=i&&Z1(i),s=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+f4(n).width,d=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+f4(i).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(n&&l.float&&l.float!=="none"){var u=l.float==="left"?"left":"right";return i&&(c.clear==="both"||c.clear===u)?"vertical":"horizontal"}return n&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||s>=o&&r[Rx]==="none"||i&&r[Rx]==="none"&&s+d>o)?"vertical":"horizontal"},ET=function(e,a,r){var o=r?e.left:e.top,n=r?e.right:e.bottom,i=r?e.width:e.height,l=r?a.left:a.top,c=r?a.right:a.bottom,s=r?a.width:a.height;return o===l||n===c||o+i/2===l+s/2},NT=function(e,a){var r;return Xn.some(function(o){var n=o[H3].options.emptyInsertThreshold;if(!(!n||Gu(o))){var i=f4(o),l=e>=i.left-n&&e<=i.right+n,c=a>=i.top-n&&a<=i.bottom+n;if(l&&c)return r=o}}),r},Wx=function(e){function a(n,i){return function(l,c,s,d){var u=l.options.group.name&&c.options.group.name&&l.options.group.name===c.options.group.name;if(n==null&&(i||u))return!0;if(n==null||n===!1)return!1;if(i&&n==="clone")return n;if(typeof n=="function")return a(n(l,c,s,d),i)(l,c,s,d);var f=(i?l:c).options.group.name;return n===!0||typeof n=="string"&&n===f||n.join&&n.indexOf(f)>-1}}var r={},o=e.group;(!o||Un(o)!="object")&&(o={name:o}),r.name=o.name,r.checkPull=a(o.pull,!0),r.checkPut=a(o.put),r.revertClone=o.revertClone,e.group=r},Yx=function(){!Gx&&G1&&Z1(G1,"display","none")},Xx=function(){!Gx&&G1&&Z1(G1,"display","")};Jn&&!Nx&&document.addEventListener("click",function(t){if(Yn)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Yn=!1,!1},!0);o5=function(e){if(w1){e=e.touches?e.touches[0]:e;var a=NT(e.clientX,e.clientY);if(a){var r={};for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o]);r.target=r.rootEl=a,r.preventDefault=void 0,r.stopPropagation=void 0,a[H3]._onDragOver(r)}}},PT=function(e){w1&&w1.parentNode[H3]._isOutsideThisEl(e.target)};_1.prototype={constructor:_1,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(W8=null)},_getDirection:function(e,a){return typeof this.options.direction=="function"?this.options.direction.call(this,e,a,w1):this.options.direction},_onTapStart:function(e){if(e.cancelable){var a=this,r=this.el,o=this.options,n=o.preventOnFilter,i=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(l||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,d=o.filter;if(jT(r),!w1&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||o.disabled)&&!s.isContentEditable&&!(!this.nativeDraggable&&oa&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=Et(c,o.draggable,r,!1),!(c&&c.animated)&&qn!==c)){if(X8=ft(c),ia=ft(c,o.draggable),typeof d=="function"){if(d.call(this,e,c,this)){n3({sortable:a,rootEl:s,name:"filter",targetEl:c,toEl:r,fromEl:r}),S3("filter",a,{evt:e}),n&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(u){if(u=Et(s,u.trim(),r,!1),u)return n3({sortable:a,rootEl:u,name:"filter",targetEl:c,fromEl:r,toEl:r}),S3("filter",a,{evt:e}),!0}),d)){n&&e.preventDefault();return}o.handle&&!Et(s,o.handle,r,!1)||this._prepareDragStart(e,l,c)}}},_prepareDragStart:function(e,a,r){var o=this,n=o.el,i=o.options,l=n.ownerDocument,c;if(r&&!w1&&r.parentNode===n){var s=f4(r);if(_2=n,w1=r,Q2=w1.parentNode,n5=w1.nextSibling,qn=r,Pn=i.group,_1.dragged=w1,r5={target:w1,clientX:(a||e).clientX,clientY:(a||e).clientY},Ax=r5.clientX-s.left,Dx=r5.clientY-s.top,this._lastX=(a||e).clientX,this._lastY=(a||e).clientY,w1.style["will-change"]="all",c=function(){if(S3("delayEnded",o,{evt:e}),_1.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Tx&&o.nativeDraggable&&(w1.draggable=!0),o._triggerDragStart(e,a),n3({sortable:o,name:"choose",originalEvent:e}),$3(w1,i.chosenClass,!0)},i.ignore.split(",").forEach(function(d){Zx(w1,d.trim(),Eu)}),s2(l,"dragover",o5),s2(l,"mousemove",o5),s2(l,"touchmove",o5),i.supportPointer?(s2(l,"pointerup",o._onDrop),!this.nativeDraggable&&s2(l,"pointercancel",o._onDrop)):(s2(l,"mouseup",o._onDrop),s2(l,"touchend",o._onDrop),s2(l,"touchcancel",o._onDrop)),Tx&&this.nativeDraggable&&(this.options.touchStartThreshold=4,w1.draggable=!0),S3("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||a)&&(!this.nativeDraggable||!(sa||K0))){if(_1.eventCanceled){this._onDrop();return}i.supportPointer?(s2(l,"pointerup",o._disableDelayedDrag),s2(l,"pointercancel",o._disableDelayedDrag)):(s2(l,"mouseup",o._disableDelayedDrag),s2(l,"touchend",o._disableDelayedDrag),s2(l,"touchcancel",o._disableDelayedDrag)),s2(l,"mousemove",o._delayedDragTouchMoveHandler),s2(l,"touchmove",o._delayedDragTouchMoveHandler),i.supportPointer&&s2(l,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(c,i.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var a=e.touches?e.touches[0]:e;Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){w1&&Eu(w1),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;o2(e,"mouseup",this._disableDelayedDrag),o2(e,"touchend",this._disableDelayedDrag),o2(e,"touchcancel",this._disableDelayedDrag),o2(e,"pointerup",this._disableDelayedDrag),o2(e,"pointercancel",this._disableDelayedDrag),o2(e,"mousemove",this._delayedDragTouchMoveHandler),o2(e,"touchmove",this._delayedDragTouchMoveHandler),o2(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,a){a=a||e.pointerType=="touch"&&e,!this.nativeDraggable||a?this.options.supportPointer?s2(document,"pointermove",this._onTouchMove):a?s2(document,"touchmove",this._onTouchMove):s2(document,"mousemove",this._onTouchMove):(s2(w1,"dragend",this),s2(_2,"dragstart",this._onDragStart));try{document.selection?Gn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(r){}},_dragStarted:function(e,a){if(Y8=!1,_2&&w1){S3("dragStarted",this,{evt:a}),this.nativeDraggable&&s2(document,"dragover",PT);var r=this.options;!e&&$3(w1,r.dragClass,!1),$3(w1,r.ghostClass,!0),_1.active=this,e&&this._appendGhost(),n3({sortable:this,name:"start",originalEvent:a})}else this._nulling()},_emulateDragOver:function(){if(Rt){this._lastX=Rt.clientX,this._lastY=Rt.clientY,Yx();for(var e=document.elementFromPoint(Rt.clientX,Rt.clientY),a=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Rt.clientX,Rt.clientY),e!==a);)a=e;if(w1.parentNode[H3]._isOutsideThisEl(e),a)do{if(a[H3]){var r=void 0;if(r=a[H3]._onDragOver({clientX:Rt.clientX,clientY:Rt.clientY,target:e,rootEl:a}),r&&!this.options.dragoverBubble)break}e=a}while(a=Ox(a));Xx()}},_onTouchMove:function(e){if(r5){var a=this.options,r=a.fallbackTolerance,o=a.fallbackOffset,n=e.touches?e.touches[0]:e,i=G1&&K8(G1,!0),l=G1&&i&&i.a,c=G1&&i&&i.d,s=Zn&&Y4&&Fx(Y4),d=(n.clientX-r5.clientX+o.x)/(l||1)+(s?s[0]-Ru[0]:0)/(l||1),u=(n.clientY-r5.clientY+o.y)/(c||1)+(s?s[1]-Ru[1]:0)/(c||1);if(!_1.active&&!Y8){if(r&&Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(G1){i?(i.e+=d-(Au||0),i.f+=u-(Du||0)):i={a:1,b:0,c:0,d:1,e:d,f:u};var f="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");Z1(G1,"webkitTransform",f),Z1(G1,"mozTransform",f),Z1(G1,"msTransform",f),Z1(G1,"transform",f),Au=d,Du=u,Rt=n}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!G1){var e=this.options.fallbackOnBody?document.body:_2,a=f4(w1,!0,Zn,!0,e),r=this.options;if(Zn){for(Y4=e;Z1(Y4,"position")==="static"&&Z1(Y4,"transform")==="none"&&Y4!==document;)Y4=Y4.parentNode;Y4!==document.body&&Y4!==document.documentElement?(Y4===document&&(Y4=h0()),a.top+=Y4.scrollTop,a.left+=Y4.scrollLeft):Y4=h0(),Ru=Fx(Y4)}G1=w1.cloneNode(!0),$3(G1,r.ghostClass,!1),$3(G1,r.fallbackClass,!0),$3(G1,r.dragClass,!0),Z1(G1,"transition",""),Z1(G1,"transform",""),Z1(G1,"box-sizing","border-box"),Z1(G1,"margin",0),Z1(G1,"top",a.top),Z1(G1,"left",a.left),Z1(G1,"width",a.width),Z1(G1,"height",a.height),Z1(G1,"opacity","0.8"),Z1(G1,"position",Zn?"absolute":"fixed"),Z1(G1,"zIndex","100000"),Z1(G1,"pointerEvents","none"),_1.ghost=G1,e.appendChild(G1),Z1(G1,"transform-origin",Ax/parseInt(G1.style.width)*100+"% "+Dx/parseInt(G1.style.height)*100+"%")}},_onDragStart:function(e,a){var r=this,o=e.dataTransfer,n=r.options;if(S3("dragStart",this,{evt:e}),_1.eventCanceled){this._onDrop();return}S3("setupClone",this),_1.eventCanceled||(j2=qx(w1),j2.removeAttribute("id"),j2.draggable=!1,j2.style["will-change"]="",this._hideClone(),$3(j2,this.options.chosenClass,!1),_1.clone=j2),r.cloneId=Gn(function(){S3("clone",r),!_1.eventCanceled&&(r.options.removeCloneOnHide||_2.insertBefore(j2,w1),r._hideClone(),n3({sortable:r,name:"clone"}))}),!a&&$3(w1,n.dragClass,!0),a?(Yn=!0,r._loopId=setInterval(r._emulateDragOver,50)):(o2(document,"mouseup",r._onDrop),o2(document,"touchend",r._onDrop),o2(document,"touchcancel",r._onDrop),o&&(o.effectAllowed="move",n.setData&&n.setData.call(r,o,w1)),s2(document,"drop",r),Z1(w1,"transform","translateZ(0)")),Y8=!0,r._dragStartId=Gn(r._dragStarted.bind(r,a,e)),s2(document,"selectstart",r),ea=!0,window.getSelection().removeAllRanges(),oa&&Z1(document.body,"user-select","none")},_onDragOver:function(e){var a=this.el,r=e.target,o,n,i,l=this.options,c=l.group,s=_1.active,d=Pn===c,u=l.sort,f=q4||s,h,m=this,x=!1;if(Zu)return;function L(T,S){S3(T,m,p0({evt:e,isOwner:d,axis:h?"vertical":"horizontal",revert:i,dragRect:o,targetRect:n,canSort:u,fromSortable:f,target:r,completed:C,onMove:function(Z,P){return _n(_2,a,w1,o,Z,f4(Z),e,P)},changed:v},S))}function g(){L("dragOverAnimationCapture"),m.captureAnimationState(),m!==f&&f.captureAnimationState()}function C(T){return L("dragOverCompleted",{insertion:T}),T&&(d?s._hideClone():s._showClone(m),m!==f&&($3(w1,q4?q4.options.ghostClass:s.options.ghostClass,!1),$3(w1,l.ghostClass,!0)),q4!==m&&m!==_1.active?q4=m:m===_1.active&&q4&&(q4=null),f===m&&(m._ignoreWhileAnimating=r),m.animateAll(function(){L("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(r===w1&&!w1.animated||r===a&&!r.animated)&&(W8=null),!l.dragoverBubble&&!e.rootEl&&r!==document&&(w1.parentNode[H3]._isOutsideThisEl(e.target),!T&&o5(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),x=!0}function v(){G3=ft(w1),ae=ft(w1,l.draggable),n3({sortable:m,name:"change",toEl:a,newIndex:G3,newDraggableIndex:ae,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=Et(r,l.draggable,a,!0),L("dragOver"),_1.eventCanceled)return x;if(w1.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||m._ignoreWhileAnimating===r)return C(!1);if(Yn=!1,s&&!l.disabled&&(d?u||(i=Q2!==_2):q4===this||(this.lastPutMode=Pn.checkPull(this,s,w1,e))&&c.checkPut(this,s,w1,e))){if(h=this._getDirection(e,r)==="vertical",o=f4(w1),L("dragOverValid"),_1.eventCanceled)return x;if(i)return Q2=_2,g(),this._hideClone(),L("revert"),_1.eventCanceled||(n5?_2.insertBefore(w1,n5):_2.appendChild(w1)),C(!0);var y=Gu(a,l.draggable);if(!y||UT(e,h,this)&&!y.animated){if(y===w1)return C(!1);if(y&&a===e.target&&(r=y),r&&(n=f4(r)),_n(_2,a,w1,o,r,n,e,!!r)!==!1)return g(),y&&y.nextSibling?a.insertBefore(w1,y.nextSibling):a.appendChild(w1),Q2=a,v(),C(!0)}else if(y&&_T(e,h,this)){var b=Q8(a,0,l,!0);if(b===w1)return C(!1);if(r=b,n=f4(r),_n(_2,a,w1,o,r,n,e,!1)!==!1)return g(),a.insertBefore(w1,b),Q2=a,v(),C(!0)}else if(r.parentNode===a){n=f4(r);var V=0,H,D=w1.parentNode!==a,A=!ET(w1.animated&&w1.toRect||o,r.animated&&r.toRect||n,h),E=h?"top":"left",O=Ix(r,"top","top")||Ix(w1,"top","top"),_=O?O.scrollTop:void 0;W8!==r&&(H=n[E],ca=!1,On=!A&&l.invertSwap||D),V=qT(e,r,n,h,A?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,On,W8===r);var N;if(V!==0){var w=ft(w1);do w-=V,N=Q2.children[w];while(N&&(Z1(N,"display")==="none"||N===G1))}if(V===0||N===r)return C(!1);W8=r,la=V;var M=r.nextElementSibling,z=!1;z=V===1;var k=_n(_2,a,w1,o,r,n,e,z);if(k!==!1)return(k===1||k===-1)&&(z=k===1),Zu=!0,setTimeout(ZT,30),g(),z&&!M?a.appendChild(w1):r.parentNode.insertBefore(w1,z?M:r),O&&Ux(O,0,_-O.scrollTop),Q2=w1.parentNode,H!==void 0&&!On&&($n=Math.abs(H-f4(r)[E])),v(),C(!0)}if(a.contains(w1))return C(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){o2(document,"mousemove",this._onTouchMove),o2(document,"touchmove",this._onTouchMove),o2(document,"pointermove",this._onTouchMove),o2(document,"dragover",o5),o2(document,"mousemove",o5),o2(document,"touchmove",o5)},_offUpEvents:function(){var e=this.el.ownerDocument;o2(e,"mouseup",this._onDrop),o2(e,"touchend",this._onDrop),o2(e,"pointerup",this._onDrop),o2(e,"pointercancel",this._onDrop),o2(e,"touchcancel",this._onDrop),o2(document,"selectstart",this)},_onDrop:function(e){var a=this.el,r=this.options;if(G3=ft(w1),ae=ft(w1,r.draggable),S3("drop",this,{evt:e}),Q2=w1&&w1.parentNode,G3=ft(w1),ae=ft(w1,r.draggable),_1.eventCanceled){this._nulling();return}Y8=!1,On=!1,ca=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),_u(this.cloneId),_u(this._dragStartId),this.nativeDraggable&&(o2(document,"drop",this),o2(a,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),oa&&Z1(document.body,"user-select",""),Z1(w1,"transform",""),e&&(ea&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),G1&&G1.parentNode&&G1.parentNode.removeChild(G1),(_2===Q2||q4&&q4.lastPutMode!=="clone")&&j2&&j2.parentNode&&j2.parentNode.removeChild(j2),w1&&(this.nativeDraggable&&o2(w1,"dragend",this),Eu(w1),w1.style["will-change"]="",ea&&!Y8&&$3(w1,q4?q4.options.ghostClass:this.options.ghostClass,!1),$3(w1,this.options.chosenClass,!1),n3({sortable:this,name:"unchoose",toEl:Q2,newIndex:null,newDraggableIndex:null,originalEvent:e}),_2!==Q2?(G3>=0&&(n3({rootEl:Q2,name:"add",toEl:Q2,fromEl:_2,originalEvent:e}),n3({sortable:this,name:"remove",toEl:Q2,originalEvent:e}),n3({rootEl:Q2,name:"sort",toEl:Q2,fromEl:_2,originalEvent:e}),n3({sortable:this,name:"sort",toEl:Q2,originalEvent:e})),q4&&q4.save()):G3!==X8&&G3>=0&&(n3({sortable:this,name:"update",toEl:Q2,originalEvent:e}),n3({sortable:this,name:"sort",toEl:Q2,originalEvent:e})),_1.active&&((G3==null||G3===-1)&&(G3=X8,ae=ia),n3({sortable:this,name:"end",toEl:Q2,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){S3("nulling",this),_2=w1=Q2=G1=n5=j2=qn=re=r5=Rt=ea=G3=ae=X8=ia=W8=la=q4=Pn=_1.dragged=_1.ghost=_1.clone=_1.active=null,Kn.forEach(function(e){e.checked=!0}),Kn.length=Au=Du=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":w1&&(this._onDragOver(e),OT(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],a,r=this.el.children,o=0,n=r.length,i=this.options;o<n;o++)a=r[o],Et(a,i.draggable,this.el,!1)&&e.push(a.getAttribute(i.dataIdAttr)||GT(a));return e},sort:function(e,a){var r={},o=this.el;this.toArray().forEach(function(n,i){var l=o.children[i];Et(l,this.options.draggable,o,!1)&&(r[n]=l)},this),a&&this.captureAnimationState(),e.forEach(function(n){r[n]&&(o.removeChild(r[n]),o.appendChild(r[n]))}),a&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,a){return Et(e,a||this.options.draggable,this.el,!1)},option:function(e,a){var r=this.options;if(a===void 0)return r[e];var o=da.modifyOption(this,e,a);typeof o!="undefined"?r[e]=o:r[e]=a,e==="group"&&Wx(r)},destroy:function(){S3("destroy",this);var e=this.el;e[H3]=null,o2(e,"mousedown",this._onTapStart),o2(e,"touchstart",this._onTapStart),o2(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(o2(e,"dragover",this),o2(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Xn.splice(Xn.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!re){if(S3("hideClone",this),_1.eventCanceled)return;Z1(j2,"display","none"),this.options.removeCloneOnHide&&j2.parentNode&&j2.parentNode.removeChild(j2),re=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(re){if(S3("showClone",this),_1.eventCanceled)return;w1.parentNode==_2&&!this.options.group.revertClone?_2.insertBefore(j2,w1):n5?_2.insertBefore(j2,n5):_2.appendChild(j2),this.options.group.revertClone&&this.animate(w1,j2),Z1(j2,"display",""),re=!1}}};Jn&&s2(document,"touchmove",function(t){(_1.active||Y8)&&t.cancelable&&t.preventDefault()});_1.utils={on:s2,off:o2,css:Z1,find:Zx,is:function(e,a){return!!Et(e,a,e,!1)},extend:VT,throttle:_x,closest:Et,toggleClass:$3,clone:qx,index:ft,nextTick:Gn,cancelNextTick:_u,detectDirection:jx,getChild:Q8,expando:H3};_1.get=function(t){return t[H3]};_1.mount=function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(_1.utils=p0(p0({},_1.utils),r.utils)),da.mount(r)})};_1.create=function(t,e){return new _1(t,e)};_1.version=HT;u4=[],qu=!1;Ou=_x(function(t,e,a,r){if(e.scroll){var o=(t.touches?t.touches[0]:t).clientX,n=(t.touches?t.touches[0]:t).clientY,i=e.scrollSensitivity,l=e.scrollSpeed,c=h0(),s=!1,d;Uu!==a&&(Uu=a,jn(),aa=e.scroll,d=e.scrollFn,aa===!0&&(aa=oe(a,!0)));var u=0,f=aa;do{var h=f,m=f4(h),x=m.top,L=m.bottom,g=m.left,C=m.right,v=m.width,y=m.height,b=void 0,V=void 0,H=h.scrollWidth,D=h.scrollHeight,A=Z1(h),E=h.scrollLeft,O=h.scrollTop;h===c?(b=v<H&&(A.overflowX==="auto"||A.overflowX==="scroll"||A.overflowX==="visible"),V=y<D&&(A.overflowY==="auto"||A.overflowY==="scroll"||A.overflowY==="visible")):(b=v<H&&(A.overflowX==="auto"||A.overflowX==="scroll"),V=y<D&&(A.overflowY==="auto"||A.overflowY==="scroll"));var _=b&&(Math.abs(C-o)<=i&&E+v<H)-(Math.abs(g-o)<=i&&!!E),N=V&&(Math.abs(L-n)<=i&&O+y<D)-(Math.abs(x-n)<=i&&!!O);if(!u4[u])for(var w=0;w<=u;w++)u4[w]||(u4[w]={});(u4[u].vx!=_||u4[u].vy!=N||u4[u].el!==h)&&(u4[u].el=h,u4[u].vx=_,u4[u].vy=N,clearInterval(u4[u].pid),(_!=0||N!=0)&&(s=!0,u4[u].pid=setInterval(function(){r&&this.layer===0&&_1.active._onTouchMove(Qn);var M=u4[this.layer].vy?u4[this.layer].vy*l:0,z=u4[this.layer].vx?u4[this.layer].vx*l:0;typeof d=="function"&&d.call(_1.dragged.parentNode[H3],z,M,t,Qn,u4[this.layer].el)!=="continue"||Ux(u4[this.layer].el,z,M)}.bind({layer:u}),24))),u++}while(e.bubbleScroll&&f!==c&&(f=oe(f,!1)));qu=s}},30),Kx=function(e){var a=e.originalEvent,r=e.putSortable,o=e.dragEl,n=e.activeSortable,i=e.dispatchSortableEvent,l=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(a){var s=r||n;l();var d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a,u=document.elementFromPoint(d.clientX,d.clientY);c(),s&&!s.el.contains(u)&&(i("spill"),this.onSpill({dragEl:o,putSortable:r}))}};ju.prototype={startIndex:null,dragStart:function(e){var a=e.oldDraggableIndex;this.startIndex=a},onSpill:function(e){var a=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var o=Q8(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(a,o):this.sortable.el.appendChild(a),this.sortable.animateAll(),r&&r.animateAll()},drop:Kx};X0(ju,{pluginName:"revertOnSpill"});Wu.prototype={onSpill:function(e){var a=e.dragEl,r=e.putSortable,o=r||this.sortable;o.captureAnimationState(),a.parentNode&&a.parentNode.removeChild(a),o.animateAll()},drop:Kx};X0(Wu,{pluginName:"removeOnSpill"});_1.mount(new WT);_1.mount(Wu,ju);i3=_1});var Qx,YT,Yu,ti,Jx,Xu=g1(()=>{Qx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YT=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,r)=>r?r.toUpperCase():a.toLowerCase()),Yu=t=>{let e=YT(t);return e.charAt(0).toUpperCase()+e.slice(1)},ti=(...t)=>t.filter((e,a,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===a).join(" ").trim(),Jx=t=>{for(let e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0}});var tL,eL=g1(()=>{tL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}});var ua,aL,rL=g1(()=>{ua=B1(T2());eL();Xu();aL=(0,ua.forwardRef)(({color:t="currentColor",size:e=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:o="",children:n,iconNode:i,...l},c)=>(0,ua.createElement)("svg",{ref:c,...tL,width:e,height:e,stroke:t,strokeWidth:r?Number(a)*24/Number(e):a,className:ti("lucide",o),...!n&&!Jx(l)&&{"aria-hidden":"true"},...l},[...i.map(([s,d])=>(0,ua.createElement)(s,d)),...Array.isArray(n)?n:[n]]))});var ei,U1,N2=g1(()=>{ei=B1(T2());Xu();rL();U1=(t,e)=>{let a=(0,ei.forwardRef)(({className:r,...o},n)=>(0,ei.createElement)(aL,{ref:n,iconNode:e,className:ti(`lucide-${Qx(Yu(t))}`,`lucide-${t}`,r),...o}));return a.displayName=Yu(t),a}});var XT,ht,oL=g1(()=>{N2();XT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ht=U1("chevron-down",XT)});var KT,J8,nL=g1(()=>{N2();KT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],J8=U1("chevron-right",KT)});var QT,Q0,iL=g1(()=>{N2();QT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],Q0=U1("circle-arrow-down",QT)});var JT,J0,lL=g1(()=>{N2();JT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}],["path",{d:"M8 12h8",key:"1wcyev"}]],J0=U1("circle-arrow-right",JT)});var tB,ne,cL=g1(()=>{N2();tB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],ne=U1("circle-plus",tB)});var eB,fa,sL=g1(()=>{N2();eB=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],fa=U1("delete",eB)});var aB,pt,dL=g1(()=>{N2();aB=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],pt=U1("ellipsis-vertical",aB)});var rB,ha,uL=g1(()=>{N2();rB=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ha=U1("eye-off",rB)});var oB,pa,fL=g1(()=>{N2();oB=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pa=U1("eye",oB)});var nB,ga,hL=g1(()=>{N2();nB=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],ga=U1("file-input",nB)});var iB,ie,pL=g1(()=>{N2();iB=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ie=U1("funnel",iB)});var lB,l5,gL=g1(()=>{N2();lB=[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"19",cy:"5",r:"1",key:"w8mnmm"}],["circle",{cx:"5",cy:"5",r:"1",key:"lttvr7"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}],["circle",{cx:"19",cy:"19",r:"1",key:"shf9b7"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]],l5=U1("grip",lB)});var cB,ma,mL=g1(()=>{N2();cB=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],ma=U1("list",cB)});var sB,va,vL=g1(()=>{N2();sB=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],va=U1("menu",sB)});var dB,Ca,CL=g1(()=>{N2();dB=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Ca=U1("network",dB)});var uB,le,xL=g1(()=>{N2();uB=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],le=U1("octagon-alert",uB)});var fB,t6,LL=g1(()=>{N2();fB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],t6=U1("panel-left-open",fB)});var hB,xa,yL=g1(()=>{N2();hB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],xa=U1("panel-right-open",hB)});var pB,La,ML=g1(()=>{N2();pB=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],La=U1("refresh-ccw",pB)});var gB,ya,wL=g1(()=>{N2();gB=[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ya=U1("search-x",gB)});var mB,Ma,zL=g1(()=>{N2();mB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ma=U1("search",mB)});var vB,wa,bL=g1(()=>{N2();vB=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wa=U1("settings",vB)});var CB,k3,SL=g1(()=>{N2();CB=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],k3=U1("square-pen",CB)});var xB,t7,HL=g1(()=>{N2();xB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],t7=U1("x",xB)});var Nt=g1(()=>{iL();lL();cL();dL();pL();xL();LL();SL();oL();nL();sL();uL();fL();hL();gL();mL();vL();CL();yL();ML();wL();zL();bL();HL();});function ai(t){return t.vault.getAllLoadedFiles().filter(a=>a instanceof ce.TFolder&&a.path!=="/").map(a=>a.path)}function Pt(t){return t.vault.getAllLoadedFiles().filter(a=>a instanceof ce.TFile&&C3.test(a.path)).map(a=>a.path)}function se(t){let e=t.metadataCache.getTags()||{};return Object.entries(e).filter(([r])=>r.startsWith("#")).sort(([,r],[,o])=>o-r).map(([r])=>r)}function ri(t,e){try{if(!e)throw new Error("QuickAdd plugin object is undefined.");if(!t.plugins.getPlugin("quickadd"))return[];let r=e.settings.choices;return Object.keys(r).filter(o=>r[o].type==="Capture").map(o=>r[o].name)}catch(a){return $.addToLogs(103,String(a),"MultiSuggest.ts/getQuickAddPluginChoices"),[]}}function kL(t){let e=t.vault.getAllLoadedFiles().filter(r=>r instanceof ce.TFile&&r.extension==="md"),a=new Set;return e.forEach(r=>{if(r instanceof ce.TFile){let o=t.metadataCache.getFileCache(r);o&&o.frontmatter&&Object.keys(o.frontmatter).forEach(n=>{let i=o.frontmatter?o.frontmatter[n]:null;Array.isArray(i)?i.forEach(l=>{a.add(`["${n}": ${l}]`)}):a.add(`["${n}": ${i}]`)})}}),Array.from(a)}function VL(t){var r,o;let e=(o=(r=t.vaultScanner.tasksCache)==null?void 0:r.Pending)!=null?o:{},a=new Set;return Object.values(e).forEach(n=>{n.forEach(i=>{a.add(i)})}),Array.from(a)}var ce,h4,e7=g1(()=>{"use strict";ce=require("obsidian");Y1();w6();h4=class extends ce.AbstractInputSuggest{constructor(a,r,o,n){super(n,a);this.inputEl=a;this.onSelectCb=o;this.content=r}getSuggestions(a){let r=a.toLocaleLowerCase();return[...this.content].filter(o=>o.toLocaleLowerCase().includes(r))}renderSuggestion(a,r){r.setText(a)}selectSuggestion(a,r){this.onSelectCb(a),this.inputEl.value=a,this.inputEl.blur(),this.close()}}});var oi,TL=g1(()=>{"use strict";oi=class{constructor(e){this.app=e.app,this.plugin=e}get settings(){return this.plugin.settings}}});function BL(t){let e=new e6(t);t.settings.data.globalSettings.compatiblePlugins.reminderPlugin=e.isReminderPluginEnabled()}var e6,za=g1(()=>{"use strict";TL();e6=class extends oi{get reminderPlugin(){var e;return this.app,(e=this.app.plugins.plugins["obsidian-reminder-plugin"])!=null?e:null}isReminderPluginEnabled(){return!!this.reminderPlugin}get quickAddPlugin(){var e;return(e=this.app.plugins.plugins.quickadd)!=null?e:null}isQuickAddPluginEnabled(){return!!this.quickAddPlugin}isQuickAddPluginIntegrationEnabled(){return this.settings.data.globalSettings.compatiblePlugins.quickAddPlugin&&this.isQuickAddPluginEnabled()}}});var a7,y4,r7=g1(()=>{"use strict";a7=require("obsidian");Y1();y4=class t{static async obsidianMarkdownRenderer(e,a,r,o,n){n&&await a7.MarkdownRenderer.render(e,a,r,o,n)}constructor({textRenderer:e=t.obsidianMarkdownRenderer,obsidianComponent:a,parentUlElement:r}){this.textRenderer=e,this.obsidianComponent=a,this.parentUlElement=r}static async renderTaskDisc(e,a,r,o,n){n&&await a7.MarkdownRenderer.render(e,a,r,o,n)}static async renderSubtaskText(e,a,r,o,n){try{let i=n!=null?n:new a7.Component;if(!i)return;await a7.MarkdownRenderer.render(e,a,r,o,i)}catch(i){$.addToLogs(102,String(i),"MarkdownUIRenderer.ts/MarkdownUIRenderer.renderSubtaskText")}}}});function de(t,e,a,r,o){a.querySelectorAll("a.internal-link").forEach(n=>{e.registerDomEvent(n,"click",i=>{i.preventDefault();let l=n.getAttribute("href");l&&t.workspace.openLinkText(l,r,IL.Keymap.isModEvent(i))}),e.registerDomEvent(n,"mouseover",i=>{i.preventDefault();let l=n.getAttribute("href");l&&t.workspace.trigger("hover-link",{event:i,source:"task-board",hoverParent:{hoverPopover:null},targetEl:i.currentTarget,linktext:l,sourcePath:o})})})}function gt(t,e,a){t.workspace.trigger("hover-link",{event:e,source:"task-board",hoverParent:{hoverPopover:null},targetEl:e.currentTarget,linktext:a,sourcePath:a})}var IL,ni=g1(()=>{"use strict";IL=require("obsidian")});function FL(t,e){let a=Object.keys(e).map(r=>LB(t,r,e[r]));return a.length===1?a[0]:function(){a.forEach(r=>r())}}function LB(t,e,a){let r=t[e],o=t.hasOwnProperty(e),n=o?r:function(){return Object.getPrototypeOf(t)[e].apply(this,arguments)},i=a(n);return r&&Object.setPrototypeOf(i,r),Object.setPrototypeOf(l,i),t[e]=l,c;function l(...s){return i===n&&t[e]===l&&c(),i.apply(this,s)}function c(){t[e]===l&&(o?t[e]=n:delete t[e]),i!==n&&(i=n,Object.setPrototypeOf(l,r||Function))}}var AL=g1(()=>{});var DL,ii,RL=g1(()=>{"use strict";DL=require("obsidian");W7();ii=class{constructor(e,a){this.plugin=e,this.app=e.app,this.component=a,this.isFrontmatterContainerCollapsed=!0}extractFrontmatterContent(e){var r;if(!e.startsWith(`---
`))return"";let a=e.indexOf(`
---
`,4);return a===-1?"":(r=e.substring(0,a+5))!=null?r:""}extractContentWithoutFrontmatter(e,a){return a?e.substring(a.length):e}renderCollapsibleFrontmatter(e,a,r){let o=this.extractFrontmatterContent(a);if(!o)return{frontmatterContainer:null,contentWithoutFrontmatter:a};let n=Wr(this.plugin,a);if(!n)return{frontmatterContainer:null,contentWithoutFrontmatter:a};let i=this.extractContentWithoutFrontmatter(a,o),l=e.createDiv({cls:"taskboard-frontmatter-section"}),c=l.createDiv({cls:"taskboard-frontmatter-header"}),s=c.createSpan({cls:"taskboard-frontmatter-collapse-icon"});s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>',c.createSpan({cls:"taskboard-frontmatter-header-text",text:"Properties"});let d=Object.keys(n).filter(f=>f!=="position").length;c.createSpan({cls:"taskboard-frontmatter-property-count",text:`${d}`});let u=l.createDiv({cls:["metadata-properties","taskboard-frontmatter-properties"]});return this.isFrontmatterContainerCollapsed&&(u.style.display="none",s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 6 15 12 9 18"></polyline></svg>'),this.renderProperties(u,n,r),c.addEventListener("click",()=>{this.isFrontmatterContainerCollapsed=!this.isFrontmatterContainerCollapsed,this.isFrontmatterContainerCollapsed?(u.style.display="none",s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 6 15 12 9 18"></polyline></svg>'):(u.style.display="flex",s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>'),l.toggleClass("is-collapsed",this.isFrontmatterContainerCollapsed)}),{frontmatterContainer:l,contentWithoutFrontmatter:i}}renderProperties(e,a,r){this.renderPropertiesSimple(e,a)}renderPropertiesSimple(e,a){let r=Object.entries(a).filter(([o])=>o!=="position");for(let[o,n]of r){let i=e.createDiv({cls:"taskboard-frontmatter-property-row"});i.addEventListener("click",()=>{new DL.Notice("This frontmatter section is read-only. A fully-functional frontmatter editor is under development.")}),i.createDiv({cls:"taskboard-frontmatter-property-key",text:o});let l=i.createDiv({cls:"taskboard-frontmatter-property-value"});this.renderPropertyValueSimple(l,n)}}renderPropertyValueSimple(e,a){if(Array.isArray(a)){let r=e.createEl("ul",{cls:"taskboard-frontmatter-property-list"});a.forEach(o=>{r.createEl("li",{text:String(o)})})}else typeof a=="object"&&a!==null?e.setText(JSON.stringify(a,null,2)):e.setText(String(a))}}});function OL(t,e,a){let r=yB(t.app);return new Ku(t,t.app,r,e,a)}function yB(t){let e=t.embedRegistry.embedByExtension.md({app:t,containerEl:createDiv()},null,"");e.editable=!0,e.showEditor();let a=Object.getPrototypeOf(Object.getPrototypeOf(e.editMode));return e.unload(),a.constructor}var NL,li,g0,PL,EL,Ku,ZL=g1(()=>{"use strict";NL=require("obsidian"),li=require("@codemirror/state"),g0=require("@codemirror/view"),PL=require("@codemirror/state");AL();RL();EL={cursorLocation:{anchor:0,head:0},value:"",cls:"",placeholder:"",enableFrontmatterUI:!1,file:void 0,onEnter:()=>!1,onSubmit:()=>{},onBlur:()=>{},onPaste:()=>{},onChange:()=>{}},Ku=class{constructor(e,a,r,o,n){this.frontmatterUIContainer=null;var c,s,d,u,f;this.plugin=e,this.editor=new r(a,o,{app:a,onMarkdownScroll:()=>{},getMode:()=>"source"}),this.frontmatterRenderer=new ii(e,this.editor),this.options={...EL,...n},this.initial_value=this.options.value,this.scope=new NL.Scope(a.scope),this.scope.register(["Mod"],"Enter",()=>!0),this.owner&&(this.owner.editMode=this,this.owner.editor=this.editor.editor),this.set(n.value||"",!1),this.register(FL(a.workspace,{setActiveLeaf:h=>(m,...x)=>{var L;(L=this.activeCM)!=null&&L.hasFocus||h.call(a.workspace,m,...x)}})),this.options.onBlur!==EL.onBlur&&((s=(c=this.editor.editor)==null?void 0:c.cm)!=null&&s.contentDOM)&&this.editor.editor.cm.contentDOM.addEventListener("blur",()=>{a.keymap.popScope(this.scope),this._loaded&&this.options.onBlur(this)}),(u=(d=this.editor.editor)==null?void 0:d.cm)!=null&&u.contentDOM&&this.editor.editor.cm.contentDOM.addEventListener("focusin",()=>{a.keymap.pushScope(this.scope),a.workspace.activeEditor=this.owner}),n.cls&&this.editorEl&&this.editorEl.classList.add(n.cls),n.cursorLocation&&((f=this.editor.editor)!=null&&f.cm)&&this.editor.editor.cm.dispatch({selection:li.EditorSelection.range(n.cursorLocation.anchor,n.cursorLocation.head)});let i=this.editor.buildLocalExtensions.bind(this.editor);this.editor.buildLocalExtensions=()=>{let h=i();return this.options.placeholder&&h.push((0,g0.placeholder)(this.options.placeholder)),h.push(g0.EditorView.domEventHandlers({paste:m=>{this.options.onPaste(m,this)}})),h.push(li.Prec.highest(g0.keymap.of([{key:"Enter",run:()=>this.options.onEnter(this,!1,!1),shift:()=>this.options.onEnter(this,!1,!0)},{key:"Mod-Enter",run:()=>this.options.onEnter(this,!0,!1),shift:()=>this.options.onEnter(this,!0,!0)}]))),h};let l=this.editor.onUpdate.bind(this.editor);this.editor.onUpdate=(h,m)=>{l(h,m),m&&this.options.onChange(h)}}get editorEl(){return this.editor.editorEl}get obsidianEditor(){return this.editor.editor}get containerEl(){return this.editor.containerEl}get activeCM(){return this.editor.activeCM}get app(){return this.editor.app}get owner(){return this.editor.owner}get _loaded(){return this.editor._loaded}createFrontmatterHidingExtension(){let e=r=>{let o=[],i=r.doc.toString(),l=/^---\s*\n([\s\S]*?)\n---\s*$/gm,c;for(;(c=l.exec(i))!==null;){let s=c.index,d=c.index+c[0].length;o.push(g0.Decoration.mark({class:"task-board-frontmatter-hidden",attributes:{style:"display: none;"}}).range(s,d))}return g0.Decoration.set(o)};return PL.StateField.define({create(r){return e(r)},update(r,o){return o.docChanged?e(o.state):r.map(o.changes)},provide:r=>g0.EditorView.decorations.from(r)})}get value(){var e,a;return((a=(e=this.editor.editor)==null?void 0:e.cm)==null?void 0:a.state.doc.toString())||""}set(e,a=!1){let r=this.frontmatterRenderer.extractFrontmatterContent(e),o=this.frontmatterRenderer.extractContentWithoutFrontmatter(e,r);this.editor.set(o,a),this.options.enableFrontmatterUI&&r&&this.updateFrontmatterUI(e)}updateFrontmatterUI(e){if(this.frontmatterUIContainer&&(this.frontmatterUIContainer.remove(),this.frontmatterUIContainer=null),!e.startsWith(`---
`))return;let a=this.containerEl.querySelector(".taskboard-frontmatter-wrapper");a?(this.frontmatterUIContainer=a,this.frontmatterUIContainer.empty()):(this.frontmatterUIContainer=this.containerEl.createDiv({cls:"taskboard-frontmatter-wrapper"}),this.containerEl.insertBefore(this.frontmatterUIContainer,this.containerEl.firstChild)),this.frontmatterRenderer.renderCollapsibleFrontmatter(this.frontmatterUIContainer,e,this.options.file).frontmatterContainer||(this.frontmatterUIContainer.remove(),this.frontmatterUIContainer=null)}register(e){this.editor.register(e)}destroy(){this.frontmatterUIContainer&&(this.frontmatterUIContainer.remove(),this.frontmatterUIContainer=null),this._loaded&&typeof this.editor.unload=="function"&&this.editor.unload(),this.app.keymap.popScope(this.scope),this.app.workspace.activeEditor=null,this.containerEl.empty(),this.editor.destroy()}onBlur(){typeof this.options.onBlur=="function"&&this.options.onBlur(this)}onunload(){typeof this.editor.onunload=="function"&&this.editor.onunload(),this.destroy()}unload(){typeof this.editor.unload=="function"&&this.editor.unload()}}});var m0,ci=g1(()=>{"use strict";m0=class{constructor(e){var r,o,n,i;let a=(i=(n=(o=(r=e==null?void 0:e.app)==null?void 0:r.plugins)==null?void 0:o.plugins)==null?void 0:n["obsidian-tasks-plugin"])==null?void 0:i.apiV1;this.apiV1=a}isTasksPluginEnabled(){return!!this.apiV1}editTaskLineModal(e){return this.apiV1?this.apiV1.editTaskLineModal(e):Promise.resolve("")}async createTaskLineModal(){var a;let e=await((a=this.apiV1)==null?void 0:a.createTaskLineModal());return typeof e=="string"?e:""}executeToggleTaskDoneCommand(e,a){var o;let r=(o=this.apiV1)==null?void 0:o.executeToggleTaskDoneCommand(e,a);return typeof r=="string"?r:""}}});async function _L(t){try{return new m0(t).isTasksPluginEnabled()}catch(e){return $.addToLogs(148,String(e),"tasks-plugin/helpers.ts/isTasksPluginEnabled"),!1}}async function UL(t){var e,a;try{if(new m0(t).isTasksPluginEnabled()){t.settings.data.globalSettings.compatiblePlugins.tasksPlugin=!0;let o=`${t.app.vault.configDir}/plugins/obsidian-tasks-plugin/data.json`,n=await t.app.vault.adapter.read(o),i=JSON.parse(n),l=((e=i==null?void 0:i.statusSettings)==null?void 0:e.coreStatuses)||[],c=((a=i==null?void 0:i.statusSettings)==null?void 0:a.customStatuses)||[],s=new Map;l.forEach(u=>s.set(u.symbol,u)),c.forEach(u=>s.set(u.symbol,u));let d=Array.from(s.values());JSON.stringify(t.settings.data.globalSettings.customStatuses)!==JSON.stringify(d)&&(t.settings.data.globalSettings.customStatuses=d,await t.saveSettings(t.settings))}}catch(r){return $.addToLogs(100,String(r),"tasks-plugin/helper.ts/fetchTasksPluginCustomStatuses"),!1}return!0}async function qL(t,e){try{let a=new m0(t),r=await N4(e);if(r==="")throw"getSanitizedTaskContent returned empty string";if(a.isTasksPluginEnabled()){let o=await a.editTaskLineModal(r);if(!o){$.showNotice(37,"Tasks plugin API did not return any output.","Tasks plugin API did not return any output.","services/tasks-plugin/helpers.ts/openTasksPluginEditModal");return}let n=o.split(`
`),i="";if(o==="")await r0(t,e,r,i);else if(n.length=1){let{formattedTaskContent:l,newId:c}=await H0(t,o);i=`${l}${e.body.length>0?`
${e.body.join(`
`)}`:""}`,await r0(t,e,r,i)}else if(n.length=2)i=`${n[0]}${e.body.length>0?`
${e.body.join(`
`)}`:""}
${n[1]}${e.body.length>0?`
${e.body.join(`
`)}`:""}`,await r0(t,e,r,i);else{$.showNotice(38,"Unexpected output from tasks plugin API. Since the task you are trying to update is a recurring task, Task Board cannot handle recurring tasks as of now and Tasks plugin didnt returned an expected output. Please report this issue so developers can enhance the integration.",`Input to tasksPluginApi : ${r}
 Output of tasksPluginApi: ${o}`,"services/tasks-plugin/helpers.ts/openTasksPluginEditModal");return}t.realTimeScanner.processAllUpdatedFiles(e.filePath),setTimeout(()=>{b1.emit("UPDATE_TASK",{taskID:e.id,state:!1})},500)}else $.showNotice(39,"Tasks plugin is must for handling recurring tasks. Since the task you are trying to update is a recurring task and Task Board cannot handle recurring tasks as of now. Hence the plugin has not updated your content.",`Tasks plugin installed and enabled: ${a.isTasksPluginEnabled()}`,"services/tasks-plugin/helpers.ts/openTasksPluginEditModal")}catch(a){throw $.showNotice(40,"Error while updating the recurring task in the file. Below error message might give more information on this issue. Report the issue if it needs developers attention.",String(a),"services/tasks-plugin/helpers.ts/openTasksPluginEditModal"),a}}var si=g1(()=>{"use strict";ci();e3();y6();C4();Y1()});var ue={};Bh(ue,{handleEditTask:()=>l3,openFileAndHighlightTask:()=>di,updateTaskItemDate:()=>a6,updateTaskItemPriority:()=>Sa,updateTaskItemProperty:()=>fi,updateTaskItemReminder:()=>MB,updateTaskItemStatus:()=>ba,updateTaskItemTags:()=>ui});var $L,l3,di,ba,Sa,a6,MB,ui,fi,mt=g1(()=>{"use strict";$L=require("obsidian");V2();o0();si();A3();y6();C4();e3();Y1();l3=(t,e,a)=>{let r=t.settings.data.globalSettings.taskNoteIdentifierTag,o=C2(r,e.tags);switch(a){case"popUp":o?Qu(t,e):GL(t,e);break;case"view":hi(t,o,!1,!0,e,e.filePath,"window");break;case"tasksPluginModal":o?Qu(t,e):qL(t,e);break;case"noteInTab":{di(t,e,a);break}case"noteInSplit":{di(t,e,a);break}case"noteInWindow":{di(t,e,a);break}default:$.showNotice(85,"This should never happen, looks like you have not set the setting for Edit button mode or double click action correctly. Or the setting has been corrupted. Please try to change the setting first. If issue still persists, report it to the developer.","NA","TaskItemEventHandlers.ts/handleEditTask");break}},di=async(t,e,a)=>{let r=t.app.vault.getAbstractFileByPath(e.filePath),o=null;switch(a){case"noteInTab":{o=t.app.workspace.getLeaf("tab");break}case"noteInSplit":{o=t.app.workspace.getLeaf("split");break}case"noteInWindow":{o=t.app.workspace.getLeaf("window");break}case"popUp":default:$.showNotice(86,"This is a low priority error and it should never happen. Looks like you have not set the setting for Edit button mode or double click action correctly. Or the setting has been corrupted. Please try to change the setting first. If issue still persists, report it to the developer.","NA","TaskItemEventHandlers.ts/handleEditTask");break}r&&r instanceof $L.TFile&&o?await o.openFile(r,{eState:{line:e.taskLocation.startLine-1}}):$.showNotice(87,"Either file not found or Leaf initialization failed. Please check below details for more information. First try to find if the file exists as per the below path. If the issue is critical, report it to developer.",`Trying to open the following file: ${e.filePath}.
Leaf type: ${o?o.constructor.name:"undefined"}`,"AddOrEditTaskModal.tsx/EditTaskContent/onOpenFilBtnClicked")},ba=(t,e,a)=>{var i,l;let r={...e};r.status=a;let o={taskID:e.id,state:!0};if(b1.emit("UPDATE_TASK",o),C2(t.settings.data.globalSettings.taskNoteIdentifierTag,e.tags))v4(t,r).then(()=>{sleep(1e3).then(()=>{t.realTimeScanner.processAllUpdatedFiles(e.filePath,e.id)})});else{let c=(l=(i=t.settings.data.globalSettings.customStatuses.find(s=>s.symbol===a))==null?void 0:i.type)!=null?l:"TODO";r.title=S6(t.settings.data.globalSettings,r.title,a,c),i4(t,r,e).then(s=>{t.realTimeScanner.processAllUpdatedFiles(e.filePath,e.id)})}},Sa=(t,e,a)=>{let r={...e};r.priority=a;let o={taskID:e.id,state:!0};b1.emit("UPDATE_TASK",o),C2(t.settings.data.globalSettings.taskNoteIdentifierTag,e.tags)?v4(t,r).then(()=>{sleep(1e3).then(()=>{t.realTimeScanner.processAllUpdatedFiles(e.filePath,e.id)})}):(r.title=Q7(t.settings.data.globalSettings,r.title,a),i4(t,r,e).then(()=>{t.realTimeScanner.processAllUpdatedFiles(e.filePath,e.id)}))},a6=(t,e,a,r)=>{let o={...e};switch(a){case"startDate":o.startDate=r;break;case"scheduledDate":o.scheduledDate=r;break;case"due":o.due=r;break;default:$.addToLogs(166,"error while updating the date value. Date type unknown.",`dateType = ${a}`)}if(b1.emit("UPDATE_TASK",{taskID:e.id,state:!0}),C2(t.settings.data.globalSettings.taskNoteIdentifierTag,e.tags))v4(t,o).then(()=>{sleep(1e3).then(()=>{t.realTimeScanner.processAllUpdatedFiles(e.filePath,e.id)})});else{switch(a){case"startDate":o.title=to(t.settings.data.globalSettings,o.title,r);break;case"scheduledDate":o.title=eo(t.settings.data.globalSettings,o.title,r);break;case"due":o.title=ao(t.settings.data.globalSettings,o.title,r);break;default:$.addToLogs(167,"error while updating the date value. Date type unknown.",`dateType = ${a}`)}i4(t,o,e).then(()=>{t.realTimeScanner.processAllUpdatedFiles(e.filePath,e.id)})}},MB=(t,e,a)=>{let r={...e};r.reminder=a,b1.emit("UPDATE_TASK",{taskID:e.id,state:!0}),C2(t.settings.data.globalSettings.taskNoteIdentifierTag,e.tags)?v4(t,r).then(()=>{sleep(1e3).then(()=>{t.realTimeScanner.processAllUpdatedFiles(e.filePath,e.id)})}):i4(t,r,e).then(()=>{t.realTimeScanner.processAllUpdatedFiles(e.filePath,e.id)})},ui=(t,e,a,r)=>{a.tags=r,b1.emit("UPDATE_TASK",{taskID:e.id,state:!0}),C2(t.settings.data.globalSettings.taskNoteIdentifierTag,e.tags)?v4(t,a).then(()=>{sleep(1e3).then(()=>{t.realTimeScanner.processAllUpdatedFiles(e.filePath,e.id)})}):(a.title=k0(a.title,e.tags,r),i4(t,a,e).then(()=>{t.realTimeScanner.processAllUpdatedFiles(e.filePath,e.id)}))},fi=async(t,e,a,r,o)=>{let n={...t},i=C2(e.taskNoteIdentifierTag,t.tags);switch(a){case"tags":n.tags=o,i||(n.title=k0(t.title,r,o));break;case"status":n.status=o;break;case"priority":n.priority=o,i||(n.title=Q7(e,t.title,o));break;case"reminder":n.reminder=o;break;case"startDate":n.startDate=o;break;case"scheduledDate":n.scheduledDate=o;break;case"due":n.due=o;break;case"completion":n.completion=o;break;case"cancelledDate":n.cancelledDate=o;break;case"time":n.time=o;break;case"dependsOn":n.dependsOn=o;break;case"filePath":n.filePath=o;break;case"title":n.title=o;break}return n}});function pi(t){return ee({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 4.625C6.12132 4.625 6.625 4.12132 6.625 3.5C6.625 2.87868 6.12132 2.375 5.5 2.375C4.87868 2.375 4.375 2.87868 4.375 3.5C4.375 4.12132 4.87868 4.625 5.5 4.625ZM9.5 4.625C10.1213 4.625 10.625 4.12132 10.625 3.5C10.625 2.87868 10.1213 2.375 9.5 2.375C8.87868 2.375 8.375 2.87868 8.375 3.5C8.375 4.12132 8.87868 4.625 9.5 4.625ZM10.625 7.5C10.625 8.12132 10.1213 8.625 9.5 8.625C8.87868 8.625 8.375 8.12132 8.375 7.5C8.375 6.87868 8.87868 6.375 9.5 6.375C10.1213 6.375 10.625 6.87868 10.625 7.5ZM5.5 8.625C6.12132 8.625 6.625 8.12132 6.625 7.5C6.625 6.87868 6.12132 6.375 5.5 6.375C4.87868 6.375 4.375 6.87868 4.375 7.5C4.375 8.12132 4.87868 8.625 5.5 8.625ZM10.625 11.5C10.625 12.1213 10.1213 12.625 9.5 12.625C8.87868 12.625 8.375 12.1213 8.375 11.5C8.375 10.8787 8.87868 10.375 9.5 10.375C10.1213 10.375 10.625 10.8787 10.625 11.5ZM5.5 12.625C6.12132 12.625 6.625 12.1213 6.625 11.5C6.625 10.8787 6.12132 10.375 5.5 10.375C4.87868 10.375 4.375 10.8787 4.375 11.5C4.375 12.1213 4.87868 12.625 5.5 12.625Z",fill:"currentColor"},child:[]}]})(t)}function gi(t){return ee({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M2.49998 4.09998C2.27906 4.09998 2.09998 4.27906 2.09998 4.49998C2.09998 4.72089 2.27906 4.89998 2.49998 4.89998H12.5C12.7209 4.89998 12.9 4.72089 12.9 4.49998C12.9 4.27906 12.7209 4.09998 12.5 4.09998H2.49998ZM2.49998 6.09998C2.27906 6.09998 2.09998 6.27906 2.09998 6.49998C2.09998 6.72089 2.27906 6.89998 2.49998 6.89998H12.5C12.7209 6.89998 12.9 6.72089 12.9 6.49998C12.9 6.27906 12.7209 6.09998 12.5 6.09998H2.49998ZM2.09998 8.49998C2.09998 8.27906 2.27906 8.09998 2.49998 8.09998H12.5C12.7209 8.09998 12.9 8.27906 12.9 8.49998C12.9 8.72089 12.7209 8.89998 12.5 8.89998H2.49998C2.27906 8.89998 2.09998 8.72089 2.09998 8.49998ZM2.49998 10.1C2.27906 10.1 2.09998 10.2791 2.09998 10.5C2.09998 10.7209 2.27906 10.9 2.49998 10.9H12.5C12.7209 10.9 12.9 10.7209 12.9 10.5C12.9 10.2791 12.7209 10.1 12.5 10.1H2.49998Z",fill:"currentColor"},child:[]}]})(t)}var mi=g1(()=>{Bu()});var WL=K4(vi=>{"use strict";var wB=Symbol.for("react.transitional.element"),zB=Symbol.for("react.fragment");function jL(t,e,a){var r=null;if(a!==void 0&&(r=""+a),e.key!==void 0&&(r=""+e.key),"key"in e){a={};for(var o in e)o!=="key"&&(a[o]=e[o])}else a=e;return e=a.ref,{$$typeof:wB,type:t,key:r,ref:e!==void 0?e:null,props:a}}vi.Fragment=zB;vi.jsx=jL;vi.jsxs=jL});var n2=K4((oU,YL)=>{"use strict";YL.exports=WL()});var V3,D1,M1,Ci,Ju=g1(()=>{"use strict";V3=require("obsidian");G8();D1=B1(T2(),1);i5();U5();t2();e3();K5();Nt();e7();za();o0();r7();Jt();A3();C4();w6();ni();ZL();V2();K3();H4();mt();mi();Y1();M1=B1(n2(),1),Ci=({plugin:t,root:e,isTaskNote:a,noteContent:r,task:o=W5,taskExists:n,activeNote:i,filePath:l,onSave:c,onClose:s,setIsEdited:d})=>{var zr,br,Sr,Hr,kr,Vr;let[u,f]=(0,D1.useState)(o.title?o.title:a?"":"- [ ] "),[h,m]=(0,D1.useState)(a?r:((zr=o.body)==null?void 0:zr.join(`
`))||""),[x,L]=(0,D1.useState)(o.createdDate||""),[g,C]=(0,D1.useState)(o.startDate||""),[v,y]=(0,D1.useState)(o.scheduledDate||""),[b,V]=(0,D1.useState)(o.due||""),[H,D]=(0,D1.useState)(o.tags||[]),[A,E]=(0,D1.useState)(o.time&&((Sr=(br=o==null?void 0:o.time)==null?void 0:br.split("-")[0])==null?void 0:Sr.trim())||""),[O,_]=(0,D1.useState)(o.time&&((kr=(Hr=o==null?void 0:o.time)==null?void 0:Hr.split("-")[1])==null?void 0:kr.trim())||""),[N,w]=(0,D1.useState)(o.time||""),[M,z]=(0,D1.useState)(o.priority||0),[k,T]=(0,D1.useState)(o.status||""),[S,R]=(0,D1.useState)((o==null?void 0:o.reminder)||""),[Z,P]=(0,D1.useState)((o==null?void 0:o.dependsOn)||[]),[B,I]=(0,D1.useState)([]),[F,q]=(0,D1.useState)(a?r:K7(o)),G=(0,D1.useRef)(""),[Y,J]=(0,D1.useState)(l),[h1,r1]=(0,D1.useState)(t.settings.data.globalSettings.quickAddPluginDefaultChoice||""),[o1,Q]=(0,D1.useState)(null),[e1,c1]=(0,D1.useState)(!0),p1=(0,D1.useRef)(null),V1=L6(t),[k1,R1]=(0,D1.useState)(!1),N1=(0,D1.useRef)(null),n1=()=>R1(!k1),l1=X=>{N1.current&&!N1.current.contains(X.target)&&R1(!1)};(0,D1.useEffect)(()=>(k1?document.addEventListener("mousedown",l1):document.removeEventListener("mousedown",l1),()=>document.removeEventListener("mousedown",l1)),[k1]);let K=[];((Vr=t.settings.data.globalSettings.customStatuses)==null?void 0:Vr.length)>0?K=t.settings.data.globalSettings.customStatuses.map(X=>({value:X.symbol,text:`${X.name} [${X.symbol}]`})):$.addToLogs(129,"customStatuses are empty in the settings.","AddOrEditTaskRC.tsx");let m1=(0,D1.useRef)(null);(0,D1.useEffect)(()=>{if(a)return;let X=a0(Vt);m1.current&&X!==""&&(m1.current.empty(),y4.renderTaskDisc(t.app,X,m1.current,l,I7.current))},[u]);let A1=X=>{f(X),d(!0);let d1=F.replace(/title: .*/,`title: ${X}`);F7(d1),q(d1)},P1=X=>{T(X),d(!0);let d1=t.settings.data.globalSettings.customStatuses.find(m2=>m2.symbol===X),L1=d1?d1.type:"TODO",H1=t.settings.data.globalSettings,E1=S6(H1,o.title,X,L1);f(E1),c1(!0)},j=X=>{var d1;if(L(X),!a){let L1=Hp(t.settings.data.globalSettings,u,X,(d1=p1.current)!=null?d1:void 0);f(L1)}d(!0),c1(!0)},W=X=>{var d1;if(C(X),!a){let L1=to(t.settings.data.globalSettings,u,X,(d1=p1.current)!=null?d1:void 0);f(L1)}d(!0),c1(!0)},U=X=>{var d1;if(y(X),!a){let L1=eo(t.settings.data.globalSettings,u,X,(d1=p1.current)!=null?d1:void 0);f(L1)}d(!0),c1(!0)},t1=X=>{var d1;if(V(X),!a){let L1=ao(t.settings.data.globalSettings,u,X,(d1=p1.current)!=null?d1:void 0);f(L1)}d(!0),c1(!0)},x1=X=>{var d1;if(R(X),!a){let L1=Vp(t.settings.data.globalSettings,u,X,(d1=p1.current)!=null?d1:void 0);f(L1)}d(!0),c1(!0)},v1=X=>{var d1;if(z(X),!a){let L1=Q7(t.settings.data.globalSettings,u,X,(d1=p1.current)!=null?d1:void 0);f(L1)}d(!0),c1(!0)},y1=(X,d1)=>{var H1;let L1="";if(!X)E(""),_(""),w("");else if(X&&!d1){let[E1,m2]=X.split(":"),X4=`${String(Number(E1)+1).padStart(2,"0")}:${m2}`;_(X4),L1=`${X} - ${X4}`,w(L1)}else X&&d1&&(L1=`${X} - ${d1}`,w(L1));if(!a){let E1=kp(t.settings.data.globalSettings,u,L1,(H1=p1.current)!=null?H1:void 0);f(E1)}c1(!0)},z1=X=>{E(X),d(!0),y1(X,"")},J1=X=>{_(X),d(!0),y1(A,X)},j1=X=>{q(X.target.value),yr(X.target.value)},$1=X=>{var d1;if(X.key==="Enter"){let L1=X.currentTarget.value.trim().startsWith("#")?X.currentTarget.value.trim():`#${X.currentTarget.value.trim()}`,H1=H.concat(L1);if(!a){let E1=k0(u,H,H1,(d1=p1.current)!=null?d1:void 0);f(E1)}H.includes(L1)||(D(E1=>[...E1,L1]),X.currentTarget.value="",d(!0),c1(!0))}},I2=(0,D1.useRef)(null),D4=(0,D1.useRef)(u),St=(0,D1.useRef)(H);(0,D1.useEffect)(()=>{D4.current=u,St.current=H},[u,H]),(0,D1.useEffect)(()=>{if(!I2.current)return;let X=se(t.app),d1=L1=>{var m2;let H1=D4.current,E1=St.current;if(!a){let X4=E1.concat(L1),R4=k0(H1,E1,X4,(m2=p1.current)!=null?m2:void 0);f(R4)}E1.includes(L1)||D(X4=>[...X4,L1]),d(!0),c1(!0),setTimeout(()=>{I2.current&&(I2.current.value="")},0)};new h4(I2.current,new Set(X),d1,t.app)},[t.app]);let Ht=X=>{var L1;let d1=H.filter(H1=>H1!==X);if(!a){let H1=k0(u,H,d1,(L1=p1.current)!=null?L1:void 0);f(H1)}D(d1),d(!0),c1(!0)},kt=()=>{a?I3():B3()},B3=()=>{let X=b,d1=g,L1=v;if(t.settings.data.globalSettings.autoAddUniversalDate&&!n){let m2=t.settings.data.globalSettings.universalDate;m2==="due"&&!b?X=new Date().toISOString().split("T")[0]:m2==="startDate"&&!g?d1=new Date().toISOString().split("T")[0]:m2==="scheduledDate"&&!v&&(L1=new Date().toISOString().split("T")[0])}let H1=x;t.settings.data.globalSettings.autoAddCreatedDate&&!n&&(H1=new Date().toISOString().split("T")[0]);let E1={...o,title:u,body:[...h.split(`
`)],createdDate:H1,startDate:d1,scheduledDate:L1,due:X,tags:H,time:N,priority:M,filePath:Y,taskLocation:o.taskLocation,cancelledDate:o.cancelledDate||"",status:k,reminder:S};c(E1,h1)},I3=()=>{var X4;let X=b,d1=g,L1=v;if(t.settings.data.globalSettings.autoAddUniversalDate&&!n){let R4=t.settings.data.globalSettings.universalDate;R4==="due"&&!b?X=new Date().toISOString().split("T")[0]:R4==="startDate"&&!g?d1=new Date().toISOString().split("T")[0]:R4==="scheduledDate"&&!v&&(L1=new Date().toISOString().split("T")[0])}let H1=x;t.settings.data.globalSettings.autoAddCreatedDate&&!n&&(H1=new Date().toISOString().split("T")[0]);let E1=C3.test(Y)?Y:`${Y}.md`;E1=(0,V3.normalizePath)(E1);let m2={...Vt,title:u===""?(X4=E1.split("/").pop())!=null?X4:"No title":u,body:F?F.split(`
`).filter(R4=>m4(R4)):[],createdDate:H1,startDate:d1,scheduledDate:L1,due:X,tags:[...H,"#taskNote"],time:N,priority:Vt.priority,filePath:E1,taskLocation:Vt.taskLocation,cancelledDate:Vt.cancelledDate||"",status:Vt.status,reminder:Vt.reminder,dependsOn:Z};c(m2,h1,F||void 0)},Vt={...o,title:u,body:[...h.split(`
`)],createdDate:x,startDate:g,scheduledDate:v,due:b,tags:H,time:N,priority:M,filePath:Y,status:k,reminder:S,taskLocation:o.taskLocation,dependsOn:Z,completion:o.completion||"",cancelledDate:o.cancelledDate||""},[g6,tc]=(0,D1.useState)("liveEditor"),Cr=X=>{tc(X)},E5=(0,D1.useRef)(null),ke=new e6(t);(0,D1.useEffect)(()=>{if(E5.current)if(ke.isQuickAddPluginIntegrationEnabled()&&!n){let X=ri(t.app,ke.quickAddPlugin),d1=L1=>{r1(L1)};new h4(E5.current,new Set(X),d1,t.app)}else{let X=Pt(t.app),d1=L1=>{J(L1)};new h4(E5.current,new Set(X),d1,t.app)}},[t.app]);let ec=()=>{G7(t,o).then(X=>{t.settings.data.globalSettings.lastViewHistory.viewedType="map",t.settings.data.globalSettings.lastViewHistory.taskId=X?String(X):o.legacyId?o.legacyId:String(t.settings.data.globalSettings.uniqueIdCounter),t.realTimeScanner.processAllUpdatedFiles(l).then(()=>{s(),sleep(1e3).then(()=>{b1.emit("SWITCH_VIEW","map")})})})},[ac,xr]=(0,D1.useState)(!1);(0,D1.useEffect)(()=>{var L1;V3.Platform.isMobile||(L1=o1==null?void 0:o1.editor)==null||L1.focus();let X=H1=>{(H1.ctrlKey||H1.metaKey)&&xr(!0)},d1=()=>{xr(!1)};return e.addEventListener("keydown",X),e.addEventListener("keyup",d1),()=>{e.removeEventListener("keydown",X),e.removeEventListener("keyup",d1)}},[]);let Lr=async(X,d1)=>{if(d1){let L1=t.app.workspace.getLeaf("window"),H1=t.app.vault.getAbstractFileByPath(Y);H1&&H1 instanceof V3.TFile?await L1.openFile(H1,{eState:{line:o.taskLocation.startLine-1}}):$.showNotice(21,"File not found",`The file at path ${Y} could not be found.`,"AddOrEditTaskModal.tsx/EditTaskContent/onOpenFilBtnClicked")}else{let L1=t.app.workspace.getLeaf(V3.Keymap.isModEvent(X)),H1=t.app.vault.getAbstractFileByPath(Y);H1&&H1 instanceof V3.TFile?await L1.openFile(H1,{eState:{line:o.taskLocation.startLine-1}}):new V3.Notice(`The file at path ${Y} could not be found. Maybe after you click on the save button, this file will be automatically created with the task you have entered.`,7e3)}s()},I7=(0,D1.useRef)(null);(0,D1.useEffect)(()=>{I7.current=t.view},[]);let yr=(0,V3.debounce)(X=>{var L1,H1,E1,m2;if(a)return;let d1=gp(X,V1);f(d1.title||""),m(((L1=d1.body)==null?void 0:L1.join(`
`))||""),L(d1.createdDate||""),C(d1.startDate||""),y(d1.scheduledDate||""),V(d1.due||""),D(d1.tags||[]),E(d1.time&&((H1=d1.time)==null?void 0:H1.split("-")[0].trim())||""),_(d1.time&&((m2=(E1=d1.time)==null?void 0:E1.split("-")[1])==null?void 0:m2.trim())||""),w(d1.time?d1.time:""),z(d1.priority||0),T(d1.status||""),R(d1.reminder||"")},50),N5=(0,D1.useRef)(null),F7=X=>{if(N5.current)if(o1)o1.set(X,!1);else{N5.current.empty();let d1=OL(t,N5.current,{placeholder:"Start typing your task in this editor and use the various input fields to add the properties.",value:X,cls:"addOrEditTaskModal-markdown-editor-embed",enableFrontmatterUI:a,cursorLocation:{anchor:a?0:X.split(`
`)[0].length,head:a?0:X.split(`
`)[0].length},onEnter:(L1,H1,E1)=>!1,onSubmit:L1=>{kt()},onChange:L1=>{d(!0);let H1=(d1==null?void 0:d1.value)||"",E1=a?(G!=null&&G.current?`---
${G.current}
---
`:"")+H1:H1;q(E1),yr(E1)},onBlur:L1=>{}});Q(d1),d1==null||d1.scope.register(["Alt"],"c",L1=>(L1.preventDefault(),d1?d1.value.trim()===""?(s(),!0):(kt(),!0):!1)),d1.activeCM.contentDOM.onblur=()=>{var H1;let L1=(H1=d1.editor.editor)==null?void 0:H1.getCursor();p1.current={lineNumber:L1?L1.line+1:0,charIndex:L1?(L1==null?void 0:L1.ch)<0?0:L1==null?void 0:L1.ch:X.split(`
`)[0].length}}}};(0,D1.useEffect)(()=>{if(e1)if(a){let{newContent:X,newFrontmatter:d1,contentWithoutFrontmatter:L1}=fp(t,Vt,F),H1=X;F7(H1),q(H1),G.current=d1,c1(!1)}else{let X=K7(Vt);F7(X),q(X),c1(!1)}},[e1]),(0,D1.useEffect)(()=>{o1&&!V3.Platform.isMobile&&!a&&(o1==null||o1.editor.focus())},[o1]);let Ve=(0,D1.useRef)(null),A7=(0,D1.useRef)(null);(0,D1.useEffect)(()=>{if(!Ve.current)return;let X=VL(t),d1=X.filter(H1=>H1.title!==u).map(H1=>H1.title&&H1.title!==void 0?H1.title:""),L1=H1=>{setTimeout(()=>{Ve.current&&(Ve.current.value="")},0);let E1=X.find(m2=>m2.title===H1);if(!E1){$.showNotice(23,"Selected task not found",`The selected task with title ${H1} was not found in pending tasks.`,"AddOrEditTaskModal.tsx/EditTaskContent/childTaskInputRef useEffect");return}G7(t,E1).then(m2=>{let X4=R4=>{if(!R4.includes(o.legacyId?o.legacyId:o.id)){if(m2===void 0&&!(E1!=null&&E1.legacyId))return $.showNotice(24,"Both newId and legacyId are undefined",`Both newId and legacyId are undefined for the selected task titled ${E1.title}.`,"AddOrEditTaskModal.tsx/EditTaskContent/childTaskInputRef useEffect/getUpdatedDependsOnIds"),[...R4,String(t.settings.data.globalSettings.uniqueIdCounter)];if(m2===void 0)return[...R4,E1.legacyId];if(m2)return[...R4,m2]}return R4};P(R4=>{var Tr;let R7=X4(R4);if(!a){let Te=De(t.settings.data.globalSettings,u,R7,(Tr=p1.current)!=null?Tr:void 0);f(Te)}return E1.legacyId=E1.legacyId?E1.legacyId:String(m2||t.settings.data.globalSettings.uniqueIdCounter),I(Te=>Te.find(rc=>rc.id===E1.id)?Te:[...Te,E1]),d(!0),c1(!0),R7})}).catch(m2=>{$.showNotice(25,"Error updating task in file",`An error occurred while updating the task in file: ${m2.message}`,"AddOrEditTaskModal.tsx/EditTaskContent/childTaskInputRef useEffect")})};new h4(Ve.current,new Set(d1),L1,t.app)},[t.app]);let D7=(0,D1.useRef)({});(0,D1.useEffect)(()=>{B.length===0&&Z.length>0&&Promise.all(Z.map(X=>t0(t,X))).then(X=>{let d1=X.filter(Boolean);I(d1)}).catch(X=>{$.addToLogs(130,String(X),"AddOrEditTaskRC.tsx/fetching child-tasks useEffect")})},[]),(0,D1.useEffect)(()=>{B.forEach((X,d1)=>{let L1=D7.current[X.legacyId?X.legacyId:X.id];if(!L1)return;L1.empty?L1.empty():L1.innerHTML="";let H1=X.title;y4.renderSubtaskText(t.app,H1,L1,o.filePath,I7.current)})},[B]);let Mr=async(X,d1)=>{X.stopPropagation();let L1=B.find(E1=>E1.legacyId===d1);if(!L1){$.showNotice(26,"Child task not found",`The child task with ID ${d1} was not found in pending tasks.`,"AddOrEditTaskModal.tsx/EditTaskContent/handleOpenChildTaskModal");return}let H1=t.settings.data.globalSettings.editButtonAction;switch(H1){case"noteInSplit":case"noteInTab":case"noteInWindow":l3(t,o,H1);break;case"noteInHover":X.ctrlKey=!0,gt(t.app,X,o.filePath),X.ctrlKey=!1;break;case"popUp":case"view":case"tasksPluginModal":default:let E1=C2(t.settings.data.globalSettings.taskNoteIdentifierTag,L1.tags);hi(t,E1,!1,!0,L1,L1.filePath,"window");break}},wr=X=>{var L1;let d1=Z.filter(H1=>H1!==X);if(P(d1),!a){let H1=De(t.settings.data.globalSettings,u,d1,(L1=p1.current)!=null?L1:void 0);f(H1)}d(!0),c1(!0)};return(0,D1.useEffect)(()=>{if(!A7.current||Z.length===0)return;let X=i3.create(A7.current,{animation:150,handle:".boardConfigModalColumnRowDragButton",ghostClass:"task-board-sortable-ghost",chosenClass:"task-board-sortable-chosen",dragClass:"task-board-sortable-drag",dragoverBubble:!0,forceFallback:!0,fallbackClass:"task-board-sortable-fallback",easing:"cubic-bezier(1, 0, 0, 1)",onSort:d1=>{var L1;try{if(d1.oldIndex===void 0||d1.newIndex===void 0)return;let H1=[...Z],[E1]=H1.splice(d1.oldIndex,1);if(H1.splice(d1.newIndex,0,E1),P(H1),!a){let m2=De(t.settings.data.globalSettings,u,H1,(L1=p1.current)!=null?L1:void 0);f(m2)}d(!0),c1(!0)}catch(H1){$.showNotice(27,"Error in Sortable onSort for child tasks",H1,"AddOrEditTaskRC.tsx/childTasksListRef useEffect")}}});return()=>{X.destroy()}},[Z,u,a,t]),(0,M1.jsx)(M1.Fragment,{children:(0,M1.jsx)("div",{className:"EditTaskModalHome",children:(0,M1.jsxs)("div",{className:"EditTaskModalHomeBody",children:[(0,M1.jsxs)("div",{className:"EditTaskModalHomeLeftSec",children:[(0,M1.jsxs)("div",{className:"EditTaskModalHomeLeftSecScrollable",children:[a?(0,M1.jsx)("input",{className:"EditTaskModalHomeModalTitleInput",type:"text",value:u,onChange:X=>A1(X.target.value),placeholder:p("task-note-title-placeholder")}):(0,M1.jsx)("div",{className:"EditTaskModalHomeModalTitle",ref:m1}),(0,M1.jsx)("div",{className:"EditTaskModalTabHeader",children:(0,M1.jsxs)("div",{className:"EditTaskModalTabHeaderLeftBtnSec",children:[(0,M1.jsx)("div",{onClick:()=>Cr("liveEditor"),className:`EditTaskModalTabHeaderBtn${g6==="liveEditor"?"-active":""}`,children:p("liveEditor")}),(0,M1.jsx)("div",{onClick:()=>Cr("rawEditor"),className:`EditTaskModalTabHeaderBtn${g6==="rawEditor"?"-active":""}`,children:p("rawEditor")})]})}),(0,M1.jsxs)("div",{className:"EditTaskModalHomePreviewHeader",children:[(0,M1.jsx)("div",{className:"EditTaskModalHomePreviewHeaderFilenameLabel",children:(0,M1.jsx)("input",{type:"text",disabled:n||i,ref:E5,className:"EditTaskModalHomePreviewHeaderFilenameValue",value:ke.isQuickAddPluginIntegrationEnabled()&&!n&&!i?h1:Y,onChange:X=>{d(!0),ke.isQuickAddPluginIntegrationEnabled()&&!n&&!a&&!i?r1(X.target.value):J(X.target.value)},placeholder:ke.isQuickAddPluginIntegrationEnabled()&&!n&&!i?"Select the QuickAdd choice":"Select file path"})}),n&&(0,M1.jsxs)("div",{className:"EditTaskModalHomePreviewHeaderBtnSec",children:[(0,M1.jsx)("button",{className:"EditTaskModalTabHeaderOpenMapBtn",onClick:ec,"aria-label":p("open-in-map-view"),children:(0,M1.jsx)(Ca,{height:17})}),(0,M1.jsx)("button",{className:"EditTaskModalHomeOpenFileBtn",id:"EditTaskModalHomeOpenFileBtn","aria-label":p("hold-ctrl-button-to-open-in-new-window"),onClick:X=>ac?Lr(X.nativeEvent,!0):Lr(X.nativeEvent,!1),children:(0,M1.jsx)(ga,{height:16})})]})]}),(0,M1.jsx)("div",{className:`EditTaskModalTabContent ${g6==="liveEditor"?"show":"hide"}`,children:(0,M1.jsx)("div",{className:"EditTaskModalHomePreview",style:{display:g6==="liveEditor"?"block":"none"},children:(0,M1.jsx)("div",{className:"EditTaskModalHomePreviewContainer",children:(0,M1.jsx)("span",{className:"EditTaskModalLiveEditor",ref:N5,onClick:()=>{var X;o1&&(p1.current={lineNumber:F.length-1,charIndex:((X=F.split(`
`)[F.length-1])==null?void 0:X.length)-1},o1.editor.focus())}})})})}),(0,M1.jsx)("div",{className:`EditTaskModalTabContent ${g6==="rawEditor"?"show":"hide"}`,children:(0,M1.jsx)("textarea",{className:"EditTaskModalBodyDescription",value:F,onChange:j1,placeholder:p("body-content"),style:{display:g6==="rawEditor"?"block":"none",width:"100%"}})}),(0,M1.jsx)("label",{className:"EditTaskModalHomeFieldTitle",children:p("child-tasks")}),(0,M1.jsxs)("div",{className:"EditTaskModalChildTasksContainer",children:[(0,M1.jsx)("input",{type:"text",ref:Ve,className:"EditTaskModalChildTaskInput",placeholder:p("child-tasks-section-description"),onChange:X=>{X.preventDefault()}}),(0,M1.jsx)("div",{className:"EditTaskModalChildTasksList",ref:A7,children:Z.map(X=>(0,M1.jsxs)("div",{className:"EditTaskModalChildTasksListItem",children:[(0,M1.jsxs)("div",{className:"EditTaskModalChildTasksListItemFooter",children:[(0,M1.jsxs)("div",{className:"EditTaskModalChildTasksListItemIdSec",children:[(0,M1.jsx)(gi,{className:"boardConfigModalColumnRowDragButton",size:15,enableBackground:0}),(0,M1.jsx)("div",{className:"EditTaskModalChildTasksListItemIdLabel",children:"Task Id : "}),(0,M1.jsx)("span",{className:"EditTaskModalChildTasksListItemIdValue",children:X})]}),(0,M1.jsxs)("div",{className:"EditTaskModalChildTasksListItemFooterBtns",children:[(0,M1.jsx)("button",{className:"EditTaskModalChildTasksListItemEditBtn",onClick:d1=>Mr(d1,X),"aria-label":"Edit Child Task",children:(0,M1.jsx)(k3,{size:17})}),(0,M1.jsx)("button",{className:"EditTaskModalChildTasksListItemDeleteBtn",onClick:()=>wr(X),children:(0,M1.jsx)(fa,{size:20})})]})]}),(0,M1.jsx)("div",{className:"EditTaskModalChildTasksListItemTitle",ref:d1=>{D7.current[X]=d1}})]},X))})]}),(0,M1.jsx)("label",{className:"EditTaskModalHomeFieldTitle",children:p("activity-and-comments")}),(0,M1.jsx)("div",{className:"EditTaskModalActivityContainer",children:p("coming-soon")})]}),(0,M1.jsxs)("div",{className:"EditTaskModalHomeFooterBtnSec",children:[(0,M1.jsx)("button",{className:"EditTaskModalHomeSaveBtn",onClick:kt,children:p("save")}),(0,M1.jsx)("button",{className:"EditTaskModalHomeToggleBtn",onClick:n1,"aria-label":"Toggle Details",children:(0,M1.jsx)(xa,{size:25,alignmentBaseline:"middle"})})]})]}),(0,M1.jsxs)("div",{ref:N1,className:`EditTaskModalHomeRightSec ${k1?"visible":""}`,children:[(0,M1.jsxs)("div",{className:"EditTaskModalHomeField",children:[(0,M1.jsx)("label",{className:"EditTaskModalHomeFieldTitle",children:p("task-status")}),(0,M1.jsx)("select",{className:"EditTaskModalHome-taskStatusValue",value:k,onChange:X=>P1(X.target.value),children:K.map(X=>(0,M1.jsx)("option",{value:X.value,children:X.text},`${X.value}-${Math.floor(1e3+Math.random()*9e3)}`))})]}),(0,M1.jsxs)("div",{className:"EditTaskModalHomeField",children:[(0,M1.jsxs)("div",{className:"EditTaskModalHomeFieldTitleContainer",children:[(0,M1.jsx)("label",{className:"EditTaskModalHomeFieldTitle",children:p("start-time")}),(0,M1.jsx)(f0,{onClick:()=>y1("",""),size:12})]}),(0,M1.jsx)("input",{className:"EditTaskModalHomeTimeInput",type:"time",value:A,onChange:X=>z1(X.target.value)})]}),(0,M1.jsxs)("div",{className:"EditTaskModalHomeField",children:[(0,M1.jsx)("label",{className:"EditTaskModalHomeFieldTitle",children:p("end-time")}),(0,M1.jsx)("input",{className:"EditTaskModalHomeTimeInput",type:"time",value:O,onChange:X=>J1(X.target.value)})]}),!t.settings.data.globalSettings.autoAddCreatedDate&&(0,M1.jsxs)("div",{className:"EditTaskModalHomeField",children:[(0,M1.jsx)("label",{className:"EditTaskModalHomeFieldTitle",children:p("created-date")}),(0,M1.jsx)("input",{className:"EditTaskModalHomeDueInput",type:"date",value:x,onChange:X=>j(X.target.value)})]}),(0,M1.jsxs)("div",{className:"EditTaskModalHomeField",children:[(0,M1.jsx)("label",{className:"EditTaskModalHomeFieldTitle",children:p("start-date")}),(0,M1.jsx)("input",{className:"EditTaskModalHomeDueInput",type:"date",value:g,onChange:X=>W(X.target.value)})]}),(0,M1.jsxs)("div",{className:"EditTaskModalHomeField",children:[(0,M1.jsx)("label",{className:"EditTaskModalHomeFieldTitle",children:p("scheduled-date")}),(0,M1.jsx)("input",{className:"EditTaskModalHomeDueInput",type:"date",value:v,onChange:X=>U(X.target.value)})]}),(0,M1.jsxs)("div",{className:"EditTaskModalHomeField",children:[(0,M1.jsx)("label",{className:"EditTaskModalHomeFieldTitle",children:p("due-date")}),(0,M1.jsx)("input",{className:"EditTaskModalHomeDueInput",type:"date",value:b,onChange:X=>t1(X.target.value)})]}),t.settings.data.globalSettings.notificationService!=="none"&&(0,M1.jsxs)("div",{className:"EditTaskModalHomeField",children:[(0,M1.jsx)("label",{className:"EditTaskModalHomeFieldTitle",children:p("reminder-label")}),(0,M1.jsx)("input",{className:"EditTaskModalHomeReminderInput",type:"datetime-local",value:S,onFocus:()=>{if(!S||S===""){let X=g||v||b;X&&(R(`${X}T${A||"09:00"}`),d(!0),c1(!0))}},onChange:X=>x1(X.target.value)})]}),(0,M1.jsxs)("div",{className:"EditTaskModalHomeField",children:[(0,M1.jsx)("label",{className:"EditTaskModalHomeFieldTitle",children:p("priority")}),(0,M1.jsx)("select",{className:"EditTaskModalHome-priorityValue",value:M,onChange:X=>v1(parseInt(X.target.value)),children:m3().map(X=>(0,M1.jsx)("option",{value:X.value,children:X.text},X.value))})]}),(0,M1.jsxs)("div",{className:"EditTaskModalHomeField",children:[(0,M1.jsx)("label",{className:"EditTaskModalHomeFieldTitle",children:p("tag")}),(0,M1.jsx)("input",{ref:I2,className:"EditTaskModalHome-tagValue",type:"text",placeholder:p("hit-enter-after-typing-tag"),onKeyDown:X=>$1(X)}),(0,M1.jsx)("div",{className:"EditTaskModalHome-taskItemTags",children:H.map(X=>{let d1=X.replace("#",""),L1=t.settings.data.globalSettings.tagColors.find(X4=>X4.name===d1),H1=L1==null?void 0:L1.color,E1=H1?w0(H1,.1):"var(--tag-background)",m2=H1?w0(H1,.5):"var(--tag-color-hover)";return(0,M1.jsxs)("div",{className:"EditTaskModalHome-taskItemTagsPreview",style:{color:H1,border:`1px solid ${m2}`,backgroundColor:E1},children:[X,(0,M1.jsx)(kx,{style:{marginLeft:"8px",cursor:"pointer",verticalAlign:"text-bottom"},onClick:()=>Ht(X)})]},X)})})]})]})]})})})}});var Ha,XL,KL,tf,ka,QL=g1(()=>{"use strict";Ha=require("obsidian"),XL=B1(a5(),1),KL=B1(T2(),1);t2();Ju();e3();Ae();Bt();w6();K3();H4();m6();tf=B1(n2(),1),ka=class extends Ha.ItemView{constructor(a,r,o,n,i,l,c,s,d){super(r);this.root=null;this.viewTypeId="";this.task=W5;this.app=a.app,this.plugin=a,this.viewTypeId=o,this.filePath=d||"",this.taskExists=c,this.saveTask=n,c&&s&&(this.task=s),this.isEdited=!1,this.isTaskNote=i,this.activeNote=l}getViewType(){return this.viewTypeId}getDisplayText(){return this.taskExists?p("edit-task")+this.task.id:p("add-new-task")}async onOpen(){var o,n;let a=this.containerEl.children[1];a.setAttribute("data-type","task-board-view"),this.plugin.settings.data.globalSettings.autoAddUniqueID&&(!this.taskExists||!this.task.id)&&(this.task.id=b0(this.plugin),this.task.legacyId=this.task.id);let r="";if(this.isTaskNote)if(this.taskExists){let i=await J3(this.plugin,this.filePath);i==null?this.onClose():r=i,this.task.title||(this.task.title=(n=(o=this.filePath.split("/").pop())==null?void 0:o.replace(C3,""))!=null?n:"")}else{r=`---
title: 
---
`;let i=(0,Ha.normalizePath)(this.plugin.settings.data.globalSettings.taskNoteDefaultLocation||Q3.data.globalSettings.taskNoteDefaultLocation),c=(this.task.title||E4()).replace(/[<>:"/\\|?*]/g,"_");this.filePath=(0,Ha.normalizePath)(`${i}/${c}.md`),this.task.title=""}else this.taskExists||(this.task.title="- [ ] ");this.root=(0,XL.createRoot)(a),this.root.render((0,tf.jsx)(KL.StrictMode,{children:(0,tf.jsx)(Ci,{plugin:this.plugin,root:a,isTaskNote:this.isTaskNote,noteContent:r,task:this.task,taskExists:this.taskExists,activeNote:this.activeNote,filePath:this.filePath,onSave:async(i,l,c)=>{this.isEdited=!1;let s=await N4(i);this.saveTask(i,l,c),this.app.workspace.detachLeavesOfType(this.viewTypeId)},onClose:()=>{},setIsEdited:i=>{this.isEdited=i}})}))}async onClose(){var a;(a=this.root)==null||a.unmount()}}});var JL,fe,xi=g1(()=>{"use strict";JL=require("obsidian");t2();fe=class extends JL.Modal{constructor(e,{mssg:a,onDiscard:r,onGoBack:o}){super(e),this.app=e,this.mssg=a,this.onDiscard=r,this.onGoBack=o}onOpen(){let{contentEl:e}=this;this.modalEl.setAttribute("data-type","task-board-view"),e.setAttribute("data-type","task-board-view");let a=e.createEl("span",{cls:"deleteConfirmationModalHome"});a.createEl("h2",{text:p("are-you-sure")}),a.createEl("p",{text:this.mssg});let r=a.createDiv("deleteConfirmationModalHome-button-container"),o=r.createEl("button",{text:p("discard")});o.classList.add("deleteTaskConfirmBtn"),o.addEventListener("click",()=>{this.onDiscard(),this.close()});let n=r.createEl("button",{text:p("go-back")});n.classList.add("deleteTaskCancelmBtn"),n.addEventListener("click",()=>{this.close()})}onClose(){let{contentEl:e}=this;e.empty()}}});var Va,ty,ey,v0,ef=g1(()=>{"use strict";Va=require("obsidian");xi();ty=B1(a5(),1);t2();e3();Ae();Bt();w6();Ju();K3();H4();m6();ey=B1(n2(),1),v0=class extends Va.Modal{constructor(a,r,o,n,i,l,c){super(a.app);this.task=W5;this.resolvePromise=a=>{};this.rejectPromise=a=>{};this.plugin=a,this.filePath=c||"",this.taskExists=i,this.saveTask=r,i&&l&&(this.task=l),this.isEdited=!1,this.isTaskNote=o,this.activeNote=n,this.waitForClose=new Promise((s,d)=>{this.resolvePromise=s,this.rejectPromise=d})}async onOpen(){var n,i;let{contentEl:a}=this;a.empty(),this.containerEl.setAttribute("modal-type","task-board-edit-task"),this.modalEl.setAttribute("modal-type","task-board-edit-task"),a.setAttribute("modal-type","task-board-edit-task");let r=ty.default.createRoot(this.contentEl);this.setTitle(this.taskExists?p("edit-task"):p("add-new-task")),this.plugin.settings.data.globalSettings.autoAddUniqueID&&(!this.taskExists||!this.task.id)&&(this.task.id=b0(this.plugin),this.task.legacyId=this.task.id);let o="";if(this.isTaskNote)if(this.taskExists){let l=await J3(this.plugin,this.filePath);l==null?this.onClose():o=l,this.task.title||(this.task.title=(i=(n=this.filePath.split("/").pop())==null?void 0:n.replace(C3,""))!=null?i:"")}else{o=`---
title: 
---
`;let l=(0,Va.normalizePath)(this.plugin.settings.data.globalSettings.taskNoteDefaultLocation||Q3.data.globalSettings.taskNoteDefaultLocation),s=(this.task.title||E4()).replace(/[<>:"/\\|?*]/g,"_");this.filePath=(0,Va.normalizePath)(`${l}/${s}.md`),this.task.title=""}else this.taskExists||(this.task.title="- [ ] ");r.render((0,ey.jsx)(Ci,{plugin:this.plugin,root:a,isTaskNote:this.isTaskNote,noteContent:o,task:this.task,taskExists:this.taskExists,activeNote:this.activeNote,filePath:this.filePath,onSave:async(l,c,s)=>{this.isEdited=!1;let d=await N4(l);this.resolvePromise(d),this.saveTask(l,c,s),this.close()},onClose:()=>this.close(),setIsEdited:l=>{this.isEdited=l}}))}handleCloseAttempt(){let a=p("edit-task-modal-close-confirm-mssg");new fe(this.app,{app:this.app,mssg:a,onDiscard:()=>{this.isEdited=!1,this.resolvePromise(""),this.close()},onGoBack:()=>{}}).open()}onClose(){let{contentEl:a}=this;a.empty()}close(){this.isEdited?this.handleCloseAttempt():(this.modalEl.addClass(".slide-out"),sleep(300),this.resolvePromise(""),this.onClose(),super.close())}}});var ay,c5,af=g1(()=>{"use strict";ay=require("obsidian");t2();c5=class extends ay.Modal{constructor(e,{mssg:a,onConfirm:r,onCancel:o,onArchive:n}){super(e),this.app=e,this.mssg=a,this.onConfirm=r,this.onCancel=o,this.onArchive=n}onOpen(){let{contentEl:e}=this;this.modalEl.setAttribute("data-type","task-board-view"),e.setAttribute("data-type","task-board-view");let a=e.createEl("span",{cls:"deleteConfirmationModalHome"});a.createEl("h2",{text:p("confirm-delete")}),a.createEl("p",{text:this.mssg});let r=a.createDiv("deleteConfirmationModalHome-button-container"),o=r.createEl("button",{text:p("yes")});if(o.classList.add("deleteTaskConfirmBtn"),o.addEventListener("click",()=>{this.onConfirm(),this.close()}),this.onArchive){let i=r.createEl("button",{text:p("archive-instead")});i.classList.add("archiveTaskCancelmBtn"),i.addEventListener("click",()=>{this.onArchive&&(this.onArchive(),this.close())})}let n=r.createEl("button",{text:p("no")});n.classList.add("deleteTaskCancelmBtn"),n.addEventListener("click",()=>{this.onCancel(),this.close()})}onClose(){let{contentEl:e}=this;e.empty()}}});var Ot,ry,Li,oy,ny,iy,ly,s5=g1(()=>{"use strict";Ot="brick-wall",ry="rotate-cw",Li="lucide-scan-text",oy="filter",ny="trash-2",iy=`
<svg width="180" height="80" viewBox="0 0 545 153" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0 24.48C0 10.9601 10.9601 0 24.48 0H520.2C533.72 0 544.68 10.9601 544.68 24.48V128.52C544.68 142.04 533.72 153 520.2 153H24.48C10.9601 153 0 142.04 0 128.52V24.48Z" fill="#FFDD00"/>
<path d="M109.522 50.3178L109.455 50.2783L109.299 50.2308C109.362 50.2836 109.44 50.3142 109.522 50.3178Z" fill="#0D0C22"/>
<path d="M110.507 57.3134L110.432 57.3344L110.507 57.3134Z" fill="#0D0C22"/>
<path d="M109.549 50.3062C109.54 50.3051 109.532 50.3031 109.524 50.3003C109.523 50.3058 109.523 50.3113 109.524 50.3168C109.533 50.3156 109.541 50.3119 109.549 50.3062Z" fill="#0D0C22"/>
<path d="M109.523 50.3205H109.536V50.3127L109.523 50.3205Z" fill="#0D0C22"/>
<path d="M110.447 57.3006L110.56 57.2361L110.602 57.2123L110.64 57.1715C110.569 57.2025 110.503 57.2462 110.447 57.3006Z" fill="#0D0C22"/>
<path d="M109.715 50.4713L109.604 50.3659L109.529 50.3251C109.57 50.3963 109.636 50.4488 109.715 50.4713Z" fill="#0D0C22"/>
<path d="M81.8801 118.353C81.7916 118.391 81.7142 118.451 81.6548 118.527L81.7246 118.482C81.772 118.439 81.8392 118.387 81.8801 118.353Z" fill="#0D0C22"/>
<path d="M98.0456 115.173C98.0456 115.073 97.9968 115.091 98.0087 115.447C98.0087 115.418 98.0206 115.389 98.0258 115.361C98.0324 115.298 98.0377 115.236 98.0456 115.173Z" fill="#0D0C22"/>
<path d="M96.3761 118.353C96.2877 118.391 96.2103 118.451 96.1509 118.527L96.2207 118.482C96.2681 118.439 96.3353 118.387 96.3761 118.353Z" fill="#0D0C22"/>
<path d="M70.4886 119.11C70.4215 119.052 70.3393 119.013 70.2515 118.999C70.3226 119.034 70.3937 119.068 70.4412 119.094L70.4886 119.11Z" fill="#0D0C22"/>
<path d="M67.9304 116.657C67.92 116.553 67.8881 116.453 67.8369 116.362C67.8732 116.456 67.9035 116.553 67.9278 116.652L67.9304 116.657Z" fill="#0D0C22"/>
<path d="M85.1368 72.7737C81.6195 74.2794 77.628 75.9866 72.4549 75.9866C70.2908 75.9823 68.1373 75.6854 66.0527 75.104L69.6306 111.838C69.7572 113.373 70.4567 114.805 71.59 115.848C72.7233 116.892 74.2076 117.471 75.7482 117.47C75.7482 117.47 80.8212 117.734 82.514 117.734C84.3358 117.734 89.7988 117.47 89.7988 117.47C91.3391 117.47 92.8231 116.891 93.9562 115.848C95.0892 114.804 95.7885 113.373 95.9151 111.838L99.7472 71.2456C98.0347 70.6607 96.3064 70.2721 94.358 70.2721C90.9883 70.2708 88.2733 71.4313 85.1368 72.7737Z" fill="white"/>
<path d="M54.9844 57.1021L55.045 57.1587L55.0845 57.1824C55.0541 57.1522 55.0205 57.1252 54.9844 57.1021Z" fill="#0D0C22"/>
<path d="M116.299 53.7119L115.761 50.9943C115.277 48.5559 114.18 46.2519 111.677 45.3706C110.875 45.0887 109.964 44.9675 109.349 44.384C108.734 43.8004 108.552 42.8941 108.41 42.0536C108.147 40.511 107.899 38.9671 107.629 37.4272C107.396 36.1033 107.211 34.616 106.604 33.4015C105.814 31.7706 104.174 30.8169 102.543 30.1859C101.707 29.8739 100.854 29.61 99.9884 29.3955C95.9139 28.3205 91.63 27.9253 87.4382 27.7001C82.407 27.4225 77.3623 27.5061 72.343 27.9504C68.6071 28.2902 64.6723 28.7013 61.1221 29.9935C59.8245 30.4665 58.4875 31.0342 57.5008 32.0367C56.2902 33.2684 55.895 35.1733 56.7789 36.7092C57.4073 37.8 58.4717 38.5706 59.6006 39.0804C61.0711 39.7373 62.6068 40.2371 64.1822 40.5716C68.5689 41.5412 73.1124 41.9219 77.5939 42.0839C82.561 42.2844 87.5362 42.1219 92.4796 41.5978C93.7021 41.4635 94.9224 41.3023 96.1405 41.1144C97.575 40.8944 98.4958 39.0185 98.073 37.7117C97.5671 36.1494 96.2077 35.5434 94.6703 35.7792C94.4438 35.8148 94.2185 35.8477 93.9919 35.8807L93.8286 35.9044C93.3078 35.9702 92.787 36.0317 92.2662 36.0888C91.1904 36.2047 90.112 36.2996 89.0309 36.3733C86.6097 36.5419 84.1818 36.6197 81.7553 36.6236C79.371 36.6236 76.9853 36.5564 74.6062 36.3997C73.5207 36.3285 72.4379 36.2381 71.3577 36.1283C70.8663 36.0769 70.3763 36.0229 69.8862 35.9623L69.4199 35.903L69.3185 35.8886L68.835 35.8187C67.847 35.6699 66.859 35.4986 65.8816 35.2918C65.783 35.2699 65.6947 35.2151 65.6315 35.1363C65.5683 35.0575 65.5338 34.9594 65.5338 34.8584C65.5338 34.7574 65.5683 34.6594 65.6315 34.5806C65.6947 34.5018 65.783 34.4469 65.8816 34.425H65.9C66.7471 34.2445 67.6007 34.0904 68.4569 33.956C68.7424 33.9113 69.0287 33.8673 69.3158 33.8243H69.3237C69.8599 33.7887 70.3987 33.6926 70.9322 33.6293C75.574 33.1465 80.2434 32.9819 84.9077 33.1367C87.1721 33.2025 89.4353 33.3356 91.6892 33.5648C92.174 33.6149 92.6562 33.6676 93.1383 33.7268C93.3227 33.7492 93.5085 33.7756 93.6942 33.798L94.0683 33.852C95.1591 34.0144 96.2441 34.2116 97.3234 34.4435C98.9227 34.7912 100.976 34.9045 101.688 36.6566C101.914 37.2125 102.017 37.8303 102.142 38.4139L102.302 39.1581C102.306 39.1715 102.309 39.1852 102.311 39.199C102.688 40.9554 103.065 42.7118 103.442 44.4683C103.47 44.598 103.471 44.7321 103.444 44.8621C103.418 44.9921 103.365 45.1153 103.289 45.2239C103.213 45.3326 103.115 45.4244 103.002 45.4936C102.889 45.5628 102.762 45.6079 102.631 45.6262H102.62L102.39 45.6578L102.162 45.6881C101.44 45.7821 100.717 45.8699 99.9936 45.9516C98.5683 46.114 97.1408 46.2546 95.711 46.3731C92.87 46.6094 90.0233 46.7644 87.1708 46.8381C85.7174 46.8768 84.2644 46.8948 82.8118 46.8921C77.0301 46.8876 71.2534 46.5516 65.5101 45.8857C64.8883 45.8119 64.2666 45.7329 63.6448 45.6525C64.1269 45.7145 63.2944 45.6051 63.1258 45.5814C62.7306 45.5261 62.3354 45.4686 61.9402 45.4088C60.6136 45.2099 59.295 44.9649 57.9711 44.7502C56.3705 44.4867 54.8398 44.6185 53.3921 45.4088C52.2037 46.0591 51.2419 47.0564 50.6349 48.2674C50.0105 49.5584 49.8248 50.964 49.5455 52.3511C49.2662 53.7383 48.8315 55.2308 48.9962 56.6548C49.3505 59.7281 51.4991 62.2258 54.5895 62.7843C57.4968 63.3112 60.42 63.7381 63.351 64.1016C74.8648 65.5118 86.4968 65.6805 98.0466 64.6049C98.9872 64.517 99.9265 64.4213 100.864 64.3177C101.157 64.2855 101.454 64.3192 101.732 64.4165C102.01 64.5137 102.263 64.6719 102.472 64.8795C102.681 65.0872 102.842 65.339 102.941 65.6165C103.04 65.894 103.076 66.1902 103.046 66.4834L102.753 69.3261C102.164 75.0705 101.575 80.8145 100.986 86.558C100.371 92.5896 99.7521 98.6208 99.1295 104.651C98.9538 106.35 98.7782 108.048 98.6025 109.746C98.4339 111.417 98.4102 113.142 98.0927 114.794C97.5922 117.391 95.8335 118.987 93.2674 119.57C90.9164 120.105 88.5148 120.386 86.1038 120.408C83.431 120.422 80.7594 120.304 78.0866 120.318C75.2333 120.334 71.7384 120.071 69.5358 117.947C67.6007 116.082 67.3333 113.161 67.0698 110.636C66.7185 107.293 66.3703 103.95 66.0252 100.607L64.0887 82.0212L62.8359 69.9953C62.8149 69.7964 62.7938 69.6001 62.774 69.3999C62.6239 67.9654 61.6082 66.5611 60.0077 66.6335C58.6376 66.6941 57.0806 67.8586 57.2413 69.3999L58.17 78.3155L60.0906 96.7581C60.6378 101.997 61.1836 107.236 61.7281 112.476C61.8335 113.48 61.9323 114.487 62.0429 115.49C62.6449 120.976 66.834 123.932 72.0216 124.764C75.0515 125.252 78.1551 125.352 81.2297 125.402C85.1711 125.465 89.1521 125.617 93.029 124.903C98.7738 123.849 103.084 120.013 103.699 114.062C103.875 112.345 104.051 110.626 104.226 108.908C104.81 103.224 105.393 97.5397 105.976 91.855L107.88 73.2807L108.754 64.7682C108.797 64.3461 108.976 63.9492 109.262 63.6363C109.549 63.3234 109.929 63.111 110.345 63.0307C111.988 62.7105 113.558 62.1639 114.727 60.9137C116.587 58.9232 116.957 56.3281 116.299 53.7119ZM54.5052 55.5483C54.5302 55.5364 54.4841 55.7511 54.4644 55.8513C54.4604 55.6998 54.4683 55.5654 54.5052 55.5483ZM54.6646 56.7813C54.6778 56.7721 54.7173 56.8248 54.7581 56.888C54.6962 56.83 54.6567 56.7866 54.6633 56.7813H54.6646ZM54.8214 56.9881C54.878 57.0843 54.9083 57.1449 54.8214 56.9881V56.9881ZM55.1362 57.2437H55.1441C55.1441 57.2529 55.1586 57.2621 55.1639 57.2713C55.1551 57.2612 55.1454 57.2519 55.1349 57.2437H55.1362ZM110.269 56.8616C109.679 57.4228 108.789 57.6837 107.911 57.8141C98.0572 59.2763 88.06 60.0166 78.0984 59.6899C70.9691 59.4462 63.9148 58.6545 56.8566 57.6573C56.165 57.5598 55.4155 57.4334 54.9399 56.9236C54.0441 55.9619 54.4841 54.0254 54.7173 52.8636C54.9307 51.7992 55.3391 50.3804 56.605 50.2289C58.581 49.9971 60.8758 50.8309 62.8307 51.1273C65.1843 51.4865 67.5467 51.7741 69.9179 51.9902C80.0375 52.9123 90.3271 52.7687 100.402 51.4198C102.238 51.173 104.068 50.8863 105.891 50.5596C107.516 50.2684 109.316 49.7218 110.298 51.404C110.971 52.55 111.06 54.0834 110.956 55.3783C110.924 55.9425 110.678 56.4732 110.267 56.8616H110.269Z" fill="#0D0C22"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M170.036 84.2397C169.461 85.3378 168.67 86.2942 167.663 87.1057C166.656 87.9178 165.482 88.579 164.139 89.0881C162.797 89.5984 161.446 89.9408 160.088 90.1153C158.729 90.2905 157.41 90.2753 156.133 90.0674C154.854 89.8608 153.766 89.439 152.872 88.8014L153.88 78.3397C154.806 78.0216 155.972 77.6949 157.379 77.3604C158.785 77.0264 160.231 76.787 161.718 76.644C163.205 76.5004 164.61 76.5173 165.937 76.6919C167.263 76.867 168.31 77.2888 169.077 77.9579C169.493 78.3397 169.845 78.7537 170.132 79.1997C170.42 79.6458 170.595 80.1076 170.66 80.5852C170.819 81.9227 170.612 83.1409 170.036 84.2397ZM155.413 61.9545C156.084 61.5406 156.892 61.1739 157.834 60.8551C158.777 60.5376 159.744 60.3139 160.735 60.1867C161.725 60.06 162.692 60.043 163.636 60.1388C164.578 60.2345 165.41 60.497 166.129 60.9267C166.848 61.357 167.383 61.9782 167.735 62.7897C168.086 63.6024 168.182 64.6296 168.022 65.8714C167.895 66.8587 167.502 67.695 166.848 68.3793C166.193 69.0647 165.393 69.6374 164.451 70.0993C163.508 70.5617 162.509 70.9277 161.455 71.1974C160.399 71.4689 159.384 71.6683 158.41 71.795C157.435 71.9229 156.588 72.0029 155.869 72.0338C155.15 72.0659 154.678 72.0816 154.454 72.0816L155.413 61.9545ZM175.214 77.4798C174.703 76.3658 174.016 75.3864 173.153 74.5416C172.29 73.698 171.266 73.0853 170.084 72.7029C170.595 72.2889 171.099 71.6362 171.595 70.7441C172.09 69.8532 172.513 68.8811 172.865 67.8302C173.216 66.7787 173.457 65.7205 173.584 64.6533C173.711 63.5866 173.663 62.6709 173.441 61.906C172.896 59.9958 172.042 58.4988 170.875 57.4158C169.708 56.3334 168.35 55.5849 166.8 55.1704C165.249 54.7577 163.54 54.6692 161.67 54.908C159.8 55.1467 157.89 55.6164 155.941 56.317C155.941 56.1582 155.957 55.991 155.989 55.8158C156.02 55.6413 156.036 55.4576 156.036 55.2661C156.036 54.7886 155.797 54.3752 155.317 54.0243C154.838 53.674 154.287 53.4674 153.664 53.4031C153.04 53.3401 152.433 53.4746 151.841 53.8092C151.25 54.1437 150.842 54.7577 150.619 55.6479C150.363 58.5146 150.107 61.4927 149.852 64.5812C149.596 67.6708 149.324 70.792 149.037 73.9453C148.749 77.0979 148.461 80.227 148.174 83.3318C147.886 86.4372 147.598 89.4226 147.311 92.2886C147.407 93.1486 147.646 93.8177 148.03 94.2953C148.413 94.7734 148.861 95.0601 149.372 95.1553C149.883 95.251 150.419 95.1625 150.978 94.8922C151.537 94.6225 152.025 94.1516 152.441 93.4832C153.719 94.1838 155.158 94.6377 156.756 94.845C158.354 95.0516 159.975 95.0516 161.623 94.845C163.268 94.6377 164.89 94.248 166.488 93.6741C168.086 93.1013 169.541 92.3844 170.851 91.525C172.162 90.665 173.264 89.685 174.16 88.5869C175.054 87.4875 175.646 86.3014 175.933 85.0281C176.221 83.7221 176.301 82.4167 176.173 81.1106C176.045 79.8052 175.725 78.5955 175.214 77.4798Z" fill="#0D0C23"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M221.989 102.702C221.814 103.753 221.565 104.86 221.246 106.023C220.926 107.184 220.551 108.244 220.12 109.2C219.688 110.155 219.209 110.926 218.682 111.516C218.154 112.105 217.586 112.352 216.979 112.257C216.5 112.192 216.196 111.89 216.069 111.349C215.94 110.807 215.94 110.138 216.069 109.343C216.196 108.546 216.443 107.646 216.811 106.643C217.179 105.64 217.627 104.644 218.154 103.658C218.682 102.67 219.281 101.723 219.952 100.815C220.623 99.9082 221.326 99.1512 222.061 98.5464C222.221 98.7373 222.293 99.2149 222.277 99.9797C222.26 100.744 222.165 101.652 221.989 102.702ZM238.243 81.9697C237.811 81.4921 237.284 81.2218 236.66 81.1576C236.037 81.0939 235.405 81.4442 234.767 82.2085C234.351 82.9727 233.823 83.7054 233.184 84.406C232.545 85.1072 231.882 85.7436 231.195 86.3169C230.507 86.8896 229.852 87.3841 229.229 87.7975C228.606 88.212 228.118 88.5144 227.767 88.7053C227.639 87.6866 227.566 86.5878 227.551 85.409C227.534 84.2308 227.559 83.0369 227.623 81.8266C227.718 80.1067 227.918 78.3715 228.222 76.6194C228.526 74.868 228.965 73.148 229.541 71.4595C229.541 70.5686 229.332 69.8438 228.917 69.2862C228.501 68.7293 227.998 68.3784 227.407 68.2353C226.815 68.0923 226.209 68.1717 225.585 68.4741C224.962 68.7771 224.427 69.3268 223.979 70.122C223.596 71.1735 223.156 72.3516 222.661 73.6571C222.165 74.9631 221.606 76.2928 220.983 77.6461C220.359 79.0006 219.664 80.3139 218.897 81.5873C218.13 82.8618 217.291 83.9927 216.38 84.9793C215.469 85.9666 214.478 86.7393 213.408 87.2963C212.336 87.8538 211.179 88.1005 209.932 88.0369C209.356 87.8775 208.94 87.4478 208.685 86.7466C208.429 86.0466 208.277 85.1702 208.23 84.1193C208.182 83.0684 208.23 81.9139 208.373 80.6557C208.517 79.3982 208.709 78.1479 208.949 76.9061C209.188 75.6637 209.452 74.4855 209.739 73.371C210.027 72.2565 210.298 71.3165 210.554 70.5523C210.938 69.6292 210.938 68.8559 210.554 68.2353C210.171 67.6141 209.644 67.2008 208.973 66.9929C208.302 66.7863 207.598 66.7947 206.863 67.0172C206.128 67.2402 205.6 67.7335 205.281 68.4977C204.737 69.8044 204.241 71.2686 203.794 72.8928C203.347 74.5171 202.987 76.1976 202.716 77.9328C202.444 79.6691 202.291 81.3891 202.26 83.0927C202.258 83.2036 202.263 83.309 202.263 83.4193C201.566 85.2708 200.902 86.6702 200.271 87.6066C199.456 88.8174 198.536 89.3429 197.514 89.1829C197.065 88.992 196.771 88.5465 196.627 87.8453C196.482 87.1453 196.435 86.2854 196.482 85.2654C196.531 84.2472 196.651 83.0927 196.842 81.8024C197.035 80.5127 197.273 79.1752 197.561 77.7897C197.849 76.4037 198.153 75.0116 198.472 73.6098C198.792 72.2086 199.079 70.8868 199.336 69.6444C199.304 68.5299 198.976 67.6784 198.352 67.0887C197.73 66.5002 196.858 66.2693 195.74 66.396C194.973 66.7147 194.405 67.1293 194.038 67.6384C193.67 68.1474 193.374 68.8008 193.151 69.5965C193.022 70.0111 192.831 70.8389 192.575 72.0813C192.319 73.3225 191.992 74.7486 191.592 76.3564C191.193 77.9655 190.721 79.6449 190.178 81.3963C189.635 83.1478 189.027 84.7333 188.357 86.1496C187.685 87.5666 186.95 88.7053 186.151 89.5653C185.352 90.4247 184.489 90.7756 183.562 90.6162C183.05 90.5205 182.723 89.995 182.579 89.0399C182.435 88.0841 182.412 86.9066 182.507 85.5048C182.603 84.1036 182.795 82.5666 183.082 80.8951C183.37 79.223 183.665 77.6388 183.969 76.1413C184.273 74.6449 184.553 73.3225 184.809 72.1765C185.064 71.0298 185.24 70.2656 185.336 69.8838C185.336 68.9602 185.127 68.2202 184.713 67.662C184.297 67.1056 183.794 66.7547 183.202 66.6111C182.61 66.4681 182.003 66.5475 181.381 66.8499C180.757 67.1529 180.222 67.7026 179.774 68.4977C179.614 69.3577 179.406 70.3535 179.151 71.4838C178.895 72.614 178.648 73.7765 178.408 74.971C178.168 76.1655 177.944 77.3358 177.737 78.4824C177.529 79.6291 177.377 80.6321 177.281 81.4921C177.217 82.1606 177.145 82.9812 177.066 83.9521C176.985 84.9242 176.945 85.9508 176.945 87.0332C176.945 88.1169 177.025 89.1914 177.186 90.258C177.345 91.3253 177.633 92.3047 178.048 93.1956C178.463 94.0877 179.047 94.8198 179.799 95.3931C180.549 95.9664 181.5 96.2846 182.651 96.3489C183.833 96.4119 184.864 96.3252 185.744 96.0858C186.622 95.847 187.421 95.4725 188.141 94.9628C188.86 94.4543 189.515 93.8489 190.107 93.1477C190.697 92.4477 191.281 91.6835 191.856 90.855C192.4 92.0659 193.103 93.0047 193.966 93.6737C194.829 94.3422 195.74 94.741 196.699 94.8677C197.657 94.9943 198.633 94.8604 199.624 94.4616C200.614 94.064 201.509 93.3871 202.308 92.4313C202.835 91.8453 203.331 91.1792 203.797 90.4429C203.995 90.7877 204.205 91.1204 204.442 91.4277C205.225 92.4477 206.288 93.1477 207.631 93.5301C209.069 93.9125 210.474 93.9768 211.849 93.7216C213.223 93.4671 214.534 93.0047 215.78 92.3362C217.027 91.6671 218.185 90.8635 219.257 89.9235C220.327 88.9841 221.262 88.0053 222.061 86.9854C222.029 87.7181 222.013 88.4114 222.013 89.0635C222.013 89.7168 221.997 90.4247 221.966 91.1895C220.367 92.3047 218.857 93.6422 217.435 95.2022C216.012 96.7622 214.765 98.4264 213.695 100.194C212.624 101.961 211.785 103.753 211.179 105.568C210.571 107.384 210.275 109.08 210.291 110.657C210.307 112.233 210.682 113.61 211.418 114.788C212.152 115.967 213.351 116.81 215.013 117.32C216.74 117.862 218.257 117.877 219.569 117.368C220.879 116.858 222.021 116.014 222.996 114.836C223.971 113.658 224.77 112.233 225.394 110.561C226.017 108.889 226.512 107.145 226.88 105.33C227.247 103.515 227.479 101.73 227.575 99.9797C227.671 98.2276 227.671 96.6664 227.575 95.2974C230.324 94.1513 232.577 92.7022 234.335 90.9501C236.093 89.1999 237.547 87.352 238.698 85.409C239.049 84.9314 239.169 84.3581 239.058 83.6896C238.945 83.0206 238.674 82.4472 238.243 81.9697Z" fill="#0D0C23"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M298.724 78.9135C298.82 78.1814 298.964 77.4087 299.155 76.5966C299.347 75.7845 299.587 74.996 299.875 74.2318C300.162 73.4676 300.498 72.807 300.882 72.2494C301.265 71.6924 301.673 71.2943 302.104 71.0549C302.536 70.8167 302.974 70.8403 303.423 71.1264C303.902 71.4137 304.197 72.0185 304.31 72.9415C304.421 73.8663 304.31 74.853 303.974 75.9039C303.638 76.9554 303.039 77.942 302.176 78.8657C301.313 79.7899 300.146 80.3941 298.676 80.6808C298.612 80.236 298.628 79.6463 298.724 78.9135ZM315.336 80.8717C314.809 80.7135 314.306 80.6972 313.826 80.8244C313.347 80.9517 313.043 81.2862 312.916 81.8281C312.659 82.8468 312.251 83.8898 311.692 84.9565C311.133 86.0238 310.446 87.0346 309.632 87.9904C308.817 88.9455 307.897 89.7898 306.875 90.5219C305.851 91.2546 304.781 91.78 303.662 92.0982C302.543 92.4491 301.616 92.4885 300.882 92.2176C300.146 91.9479 299.563 91.4855 299.132 90.8328C298.7 90.1801 298.388 89.3916 298.197 88.468C298.005 87.5443 297.893 86.5892 297.861 85.6013C299.683 85.7292 301.305 85.4032 302.728 84.622C304.149 83.8426 305.356 82.8068 306.347 81.5171C307.337 80.2275 308.089 78.7784 308.6 77.1699C309.111 75.5621 309.399 73.9615 309.463 72.3688C309.495 70.8718 309.272 69.6064 308.792 68.5713C308.313 67.5367 307.665 66.7313 306.85 66.1586C306.036 65.5853 305.1 65.2507 304.046 65.1556C302.992 65.0598 301.92 65.2034 300.833 65.5853C299.522 66.0313 298.412 66.7555 297.501 67.7592C296.59 68.7622 295.831 69.9252 295.224 71.2464C294.617 72.5682 294.137 73.993 293.786 75.5215C293.434 77.0505 293.178 78.5554 293.019 80.0366C292.875 81.3656 292.798 82.6365 292.771 83.8632C292.702 84.0189 292.636 84.1686 292.563 84.3353C292.067 85.4668 291.491 86.5734 290.837 87.6558C290.182 88.7389 289.454 89.6467 288.656 90.3788C287.857 91.1116 287.026 91.3661 286.163 91.1431C285.651 91.0164 285.372 90.4261 285.324 89.3758C285.276 88.3243 285.331 87.0189 285.491 85.4583C285.651 83.8983 285.835 82.2093 286.043 80.3941C286.25 78.579 286.354 76.8439 286.354 75.1875C286.354 73.7542 286.082 72.3773 285.539 71.0549C284.995 69.7343 284.252 68.6349 283.31 67.7592C282.367 66.8828 281.272 66.3016 280.026 66.0156C278.779 65.7283 277.437 65.9198 275.999 66.5883C274.56 67.2574 273.417 68.1967 272.571 69.407C271.723 70.6179 270.948 71.8912 270.245 73.2288C269.989 72.2094 269.614 71.2628 269.118 70.3864C268.623 69.5107 268.016 68.7464 267.297 68.0931C266.577 67.441 265.769 66.9313 264.876 66.5646C263.981 66.1992 263.037 66.0156 262.046 66.0156C261.088 66.0156 260.201 66.1992 259.386 66.5646C258.571 66.9313 257.828 67.4004 257.156 67.9737C256.485 68.5476 255.878 69.1919 255.334 69.9088C254.791 70.6252 254.311 71.3343 253.896 72.0343C253.831 71.2064 253.76 70.4822 253.681 69.8603C253.6 69.2398 253.456 68.7143 253.249 68.2846C253.041 67.8543 252.746 67.5283 252.362 67.3052C251.978 67.0828 251.435 66.9707 250.732 66.9707C250.38 66.9707 250.028 67.0422 249.677 67.1852C249.325 67.3289 249.013 67.5283 248.742 67.7828C248.47 68.0386 248.263 68.3482 248.119 68.7143C247.975 69.0804 247.936 69.5028 247.999 69.9803C248.031 70.3312 248.119 70.7525 248.263 71.2464C248.406 71.7403 248.542 72.3858 248.67 73.1809C248.798 73.9773 248.902 74.9409 248.982 76.0712C249.062 77.2021 249.085 78.5875 249.054 80.2275C249.021 81.8681 248.902 83.7862 248.694 85.9837C248.486 88.1813 248.158 90.7291 247.711 93.6267C247.647 94.2957 247.903 94.8376 248.479 95.2515C249.054 95.6648 249.709 95.9036 250.444 95.9678C251.179 96.0315 251.875 95.9036 252.53 95.586C253.185 95.2666 253.561 94.7097 253.656 93.9139C253.752 92.417 253.936 90.8249 254.208 89.1364C254.479 87.4492 254.815 85.7771 255.215 84.1207C255.614 82.465 256.069 80.8887 256.581 79.3911C257.092 77.8942 257.66 76.573 258.283 75.4263C258.907 74.2797 259.554 73.3645 260.225 72.6797C260.896 71.9949 261.599 71.6524 262.335 71.6524C263.229 71.6524 263.924 72.0579 264.42 72.87C264.915 73.6827 265.266 74.7263 265.475 75.999C265.682 77.2736 265.778 78.6675 265.763 80.1796C265.746 81.6923 265.682 83.1492 265.571 84.5504C265.459 85.9522 265.331 87.2019 265.187 88.3007C265.043 89.3995 264.939 90.1564 264.876 90.5697C264.876 91.3025 265.155 91.8831 265.714 92.3134C266.273 92.743 266.896 92.9982 267.584 93.0776C268.272 93.1576 268.918 93.0297 269.526 92.6952C270.133 92.3606 270.485 91.7964 270.581 90.9994C270.9 88.7067 271.34 86.4062 271.899 84.0971C272.458 81.7881 273.098 79.7184 273.817 77.8869C274.536 76.0554 275.335 74.5585 276.214 73.3961C277.093 72.2343 278.028 71.6524 279.019 71.6524C279.53 71.6524 279.922 72.0033 280.193 72.7033C280.465 73.4039 280.601 74.3591 280.601 75.5694C280.601 76.4615 280.529 77.3772 280.386 78.3166C280.241 79.256 280.074 80.2275 279.882 81.2305C279.69 82.2341 279.522 83.2608 279.378 84.3117C279.235 85.3632 279.163 86.4613 279.163 87.608C279.163 88.4043 279.243 89.3279 279.403 90.3788C279.562 91.4291 279.865 92.4255 280.313 93.3642C280.761 94.3042 281.376 95.1 282.16 95.7527C282.943 96.4054 283.941 96.7321 285.155 96.7321C286.978 96.7321 288.591 96.3418 289.998 95.5618C291.404 94.7818 292.611 93.763 293.618 92.5049C293.67 92.4388 293.718 92.3685 293.769 92.3031C293.846 92.4891 293.914 92.6861 294.001 92.863C294.688 94.2642 295.623 95.3466 296.806 96.1115C297.988 96.8757 299.379 97.2975 300.978 97.3775C302.575 97.4563 304.317 97.1618 306.204 96.4933C307.609 95.9836 308.832 95.3466 309.871 94.5824C310.909 93.8182 311.844 92.8867 312.675 91.7879C313.507 90.6891 314.265 89.4231 314.953 87.9904C315.641 86.5565 316.335 84.9171 317.038 83.0692C317.166 82.5608 317.046 82.1068 316.679 81.7081C316.311 81.3105 315.864 81.0317 315.336 80.8717Z" fill="#0D0C23"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M341.393 75.5432C341.233 76.4832 341.018 77.5189 340.746 78.6486C340.474 79.7795 340.131 80.9498 339.715 82.1601C339.3 83.3703 338.788 84.4612 338.181 85.4321C337.574 86.4042 336.878 87.1757 336.096 87.7491C335.312 88.3224 334.41 88.5612 333.387 88.4654C332.875 88.4024 332.483 88.0521 332.212 87.4145C331.94 86.7782 331.797 85.9655 331.78 84.9782C331.764 83.9915 331.852 82.9085 332.044 81.7298C332.236 80.5522 332.531 79.3971 332.932 78.2662C333.331 77.1365 333.818 76.0929 334.393 75.1371C334.969 74.182 335.632 73.4414 336.383 72.916C337.134 72.3905 337.958 72.1445 338.852 72.1754C339.747 72.2075 340.706 72.6529 341.729 73.5129C341.664 73.9275 341.553 74.6044 341.393 75.5432ZM358.437 79.1977C357.941 78.9431 357.43 78.888 356.903 79.031C356.376 79.174 356 79.6601 355.777 80.488C355.649 81.3801 355.361 82.4304 354.914 83.6406C354.466 84.8509 353.914 85.9982 353.26 87.08C352.604 88.163 351.853 89.063 351.006 89.7793C350.159 90.4963 349.256 90.823 348.298 90.7581C347.498 90.6951 346.938 90.289 346.62 89.5406C346.299 88.7921 346.132 87.8533 346.116 86.7218C346.099 85.5921 346.212 84.3182 346.451 82.9007C346.691 81.4837 346.979 80.0746 347.314 78.6722C347.65 77.2716 347.994 75.9256 348.346 74.6359C348.697 73.3463 348.984 72.2554 349.209 71.3639C349.464 70.5675 349.384 69.8912 348.969 69.333C348.553 68.7766 348.034 68.3778 347.411 68.1391C346.787 67.9003 346.155 67.8366 345.516 67.9481C344.877 68.0597 344.462 68.4021 344.27 68.9748C342.384 67.3506 340.57 66.4748 338.829 66.3476C337.086 66.2203 335.48 66.6027 334.01 67.4942C332.539 68.3857 331.237 69.6754 330.103 71.3639C328.968 73.0523 328.049 74.8911 327.345 76.8814C326.642 78.8716 326.203 80.9025 326.027 82.9722C325.851 85.0424 325.987 86.9297 326.435 88.6333C326.883 90.3369 327.673 91.7308 328.808 92.8126C329.942 93.8956 331.485 94.4375 333.435 94.4375C334.298 94.4375 335.129 94.2623 335.928 93.912C336.726 93.5611 337.462 93.1472 338.133 92.6696C338.804 92.192 339.395 91.6902 339.908 91.1648C340.418 90.6393 340.818 90.2018 341.106 89.8509C341.329 90.9975 341.697 91.9696 342.209 92.7654C342.719 93.5611 343.303 94.215 343.958 94.7235C344.613 95.2326 345.301 95.6071 346.02 95.8465C346.739 96.0853 347.435 96.2047 348.105 96.2047C349.608 96.2047 351.013 95.695 352.325 94.6756C353.635 93.6575 354.81 92.4066 355.849 90.926C356.887 89.4448 357.743 87.8848 358.413 86.2442C359.085 84.6043 359.532 83.1473 359.756 81.8728C359.98 81.3952 359.939 80.894 359.636 80.3686C359.332 79.8431 358.933 79.4534 358.437 79.1977Z" fill="#0D0C23"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M444.738 105.571C444.467 106.653 444.043 107.57 443.467 108.318C442.892 109.066 442.173 109.456 441.31 109.489C440.767 109.52 440.351 109.233 440.063 108.629C439.776 108.023 439.576 107.243 439.464 106.288C439.352 105.332 439.304 104.265 439.32 103.087C439.336 101.909 439.384 100.746 439.464 99.5996C439.543 98.4536 439.64 97.3857 439.752 96.3991C439.863 95.4112 439.951 94.6482 440.015 94.1064C441.102 94.2336 442.006 94.7027 442.724 95.5154C443.443 96.3275 443.995 97.2906 444.378 98.4057C444.762 99.5202 444.985 100.723 445.05 102.012C445.113 103.302 445.009 104.488 444.738 105.571ZM427.382 105.571C427.111 106.653 426.687 107.57 426.112 108.318C425.537 109.066 424.817 109.456 423.954 109.489C423.411 109.52 422.996 109.233 422.708 108.629C422.42 108.023 422.22 107.243 422.109 106.288C421.996 105.332 421.948 104.265 421.965 103.087C421.98 101.909 422.028 100.746 422.109 99.5996C422.188 98.4536 422.284 97.3857 422.396 96.3991C422.508 95.4112 422.595 94.6482 422.66 94.1064C423.746 94.2336 424.65 94.7027 425.368 95.5154C426.088 96.3275 426.639 97.2906 427.023 98.4057C427.407 99.5202 427.63 100.723 427.694 102.012C427.757 103.302 427.653 104.488 427.382 105.571ZM409.572 78.4375C409.539 79.2011 409.467 79.8781 409.355 80.4672C409.243 81.0575 409.092 81.4308 408.9 81.5902C408.548 81.3987 408.116 80.906 407.605 80.109C407.094 79.3133 406.695 78.4127 406.406 77.4096C406.119 76.4066 406.03 75.42 406.143 74.4479C406.254 73.477 406.758 72.7212 407.653 72.1788C408.004 71.9879 408.308 72.0594 408.564 72.394C408.82 72.7285 409.027 73.2139 409.188 73.8509C409.347 74.4885 409.458 75.2206 409.523 76.0485C409.587 76.8769 409.603 77.6727 409.572 78.4375ZM405.328 87.9677C404.832 88.4925 404.28 88.9464 403.674 89.3289C403.066 89.7113 402.443 89.9979 401.804 90.1889C401.164 90.3804 400.589 90.4276 400.078 90.3319C398.64 90.0458 397.537 89.424 396.77 88.4689C396.003 87.5137 395.515 86.3913 395.308 85.1017C395.1 83.8114 395.123 82.4338 395.38 80.969C395.635 79.5042 396.066 78.143 396.674 76.8848C397.281 75.6266 398.017 74.5436 398.879 73.6364C399.742 72.7285 400.685 72.1637 401.708 71.94C401.324 73.5642 401.197 75.2448 401.324 76.98C401.452 78.7157 401.868 80.3478 402.571 81.8762C403.018 82.8011 403.554 83.6441 404.177 84.4083C404.801 85.1732 405.56 85.8259 406.455 86.3671C406.199 86.9089 405.823 87.4422 405.328 87.9677ZM458.378 78.9151C458.474 78.183 458.617 77.4096 458.81 76.5975C459.001 75.786 459.241 74.9976 459.528 74.2333C459.816 73.4685 460.152 72.8079 460.536 72.2509C460.92 71.694 461.326 71.2952 461.758 71.0564C462.19 70.8176 462.629 70.8413 463.076 71.1279C463.556 71.4152 463.851 72.02 463.963 72.943C464.075 73.8673 463.963 74.8539 463.628 75.9054C463.292 76.9563 462.693 77.9436 461.83 78.8666C460.968 79.7914 459.8 80.3957 458.33 80.6823C458.266 80.2369 458.282 79.6478 458.378 78.9151ZM477.7 78.9151C477.796 78.183 477.939 77.4096 478.131 76.5975C478.323 75.786 478.563 74.9976 478.851 74.2333C479.138 73.4685 479.473 72.8079 479.857 72.2509C480.241 71.694 480.649 71.2952 481.08 71.0564C481.512 70.8176 481.951 70.8413 482.398 71.1279C482.878 71.4152 483.173 72.02 483.285 72.943C483.397 73.8673 483.285 74.8539 482.95 75.9054C482.614 76.9563 482.015 77.9436 481.152 78.8666C480.289 79.7914 479.122 80.3957 477.652 80.6823C477.588 80.2369 477.604 79.6478 477.7 78.9151ZM495.655 81.7096C495.287 81.312 494.84 81.0332 494.313 80.8732C493.785 80.7144 493.282 80.6987 492.802 80.826C492.323 80.9532 492.018 81.2878 491.891 81.829C491.635 82.8484 491.228 83.8914 490.669 84.9574C490.109 86.0253 489.422 87.0362 488.607 87.9913C487.792 88.9464 486.873 89.7913 485.851 90.5234C484.827 91.2561 483.757 91.7816 482.639 92.0991C481.519 92.4506 480.592 92.49 479.857 92.2191C479.122 91.9488 478.539 91.487 478.107 90.8343C477.676 90.181 477.365 89.3931 477.172 88.4689C476.981 87.5459 476.868 86.5907 476.837 85.6029C478.659 85.7307 480.281 85.4047 481.703 84.6235C483.125 83.8435 484.332 82.8077 485.324 81.5181C486.314 80.229 487.065 78.7799 487.576 77.1715C488.087 75.563 488.375 73.963 488.44 72.3703C488.471 70.8734 488.247 69.6073 487.768 68.5722C487.289 67.5377 486.642 66.7328 485.827 66.1601C485.011 65.5862 484.077 65.2522 483.021 65.1565C481.967 65.0607 480.896 65.205 479.809 65.5862C478.498 66.0328 477.388 66.7571 476.478 67.7601C475.567 68.7637 474.807 69.9267 474.2 71.2473C473.592 72.5697 473.113 73.9939 472.761 75.523C472.409 77.0515 472.154 78.5569 471.995 80.0375C471.839 81.4744 471.755 82.8496 471.736 84.1659C471.615 84.4283 471.486 84.692 471.347 84.9574C470.787 86.0253 470.1 87.0362 469.285 87.9913C468.471 88.9464 467.551 89.7913 466.529 90.5234C465.506 91.2561 464.435 91.7816 463.317 92.0991C462.197 92.4506 461.271 92.49 460.536 92.2191C459.8 91.9488 459.217 91.487 458.786 90.8343C458.355 90.181 458.043 89.3931 457.851 88.4689C457.659 87.5459 457.547 86.5907 457.515 85.6029C459.337 85.7307 460.959 85.4047 462.382 84.6235C463.803 83.8435 465.01 82.8077 466.001 81.5181C466.992 80.229 467.743 78.7799 468.254 77.1715C468.765 75.563 469.054 73.963 469.117 72.3703C469.149 70.8734 468.926 69.6073 468.447 68.5722C467.967 67.5377 467.319 66.7328 466.504 66.1601C465.689 65.5862 464.755 65.2522 463.7 65.1565C462.645 65.0607 461.574 65.205 460.488 65.5862C459.176 66.0328 458.066 66.7571 457.156 67.7601C456.245 68.7637 455.485 69.9267 454.878 71.2473C454.271 72.5697 453.792 73.9939 453.44 75.523C453.088 77.0515 452.832 78.5569 452.673 80.0375C452.582 80.8726 452.522 81.6823 452.477 82.4774C452.168 82.7393 451.867 83.0029 451.546 83.2617C450.444 84.1538 449.284 84.9574 448.07 85.6744C446.855 86.3913 445.592 86.9804 444.283 87.4422C442.971 87.904 441.629 88.1828 440.255 88.278L443.228 56.5578C443.42 55.8887 443.324 55.3003 442.94 54.7906C442.557 54.2809 442.061 53.9306 441.454 53.7397C440.847 53.5482 440.199 53.5645 439.512 53.787C438.824 54.0106 438.258 54.5203 437.81 55.3154C437.586 56.5263 437.354 58.182 437.115 60.2838C436.875 62.3856 436.635 64.6789 436.396 67.1631C436.156 69.6473 435.916 72.2109 435.677 74.8539C435.437 77.4981 435.229 79.966 435.053 82.2587C435.045 82.3605 435.039 82.4526 435.031 82.5532C434.751 82.7896 434.48 83.0277 434.19 83.2617C433.088 84.1538 431.928 84.9574 430.714 85.6744C429.499 86.3913 428.237 86.9804 426.927 87.4422C425.616 87.904 424.273 88.1828 422.899 88.278L425.872 56.5578C426.064 55.8887 425.968 55.3003 425.585 54.7906C425.201 54.2809 424.705 53.9306 424.098 53.7397C423.491 53.5482 422.843 53.5645 422.156 53.787C421.469 54.0106 420.902 54.5203 420.454 55.3154C420.23 56.5263 419.999 58.182 419.76 60.2838C419.519 62.3856 419.28 64.6789 419.04 67.1631C418.8 69.6473 418.561 72.2109 418.321 74.8539C418.082 77.4981 417.873 79.966 417.698 82.2587C417.694 82.3047 417.691 82.3465 417.687 82.3926C417.185 82.6247 416.638 82.8284 416.043 82.9993C415.436 83.175 414.749 83.2786 413.982 83.3102C414.11 82.7362 414.213 82.0993 414.293 81.3987C414.373 80.6987 414.438 79.966 414.486 79.2011C414.534 78.4375 414.549 77.6727 414.534 76.9084C414.517 76.1436 414.477 75.4436 414.414 74.806C414.253 73.4376 413.958 72.1394 413.527 70.9128C413.095 69.6873 412.512 68.6607 411.777 67.8316C411.041 67.0037 410.123 66.4462 409.019 66.1601C407.917 65.8734 406.63 65.9686 405.161 66.4462C402.986 66.1601 401.029 66.3595 399.287 67.0437C397.545 67.7292 396.034 68.7237 394.756 70.0291C393.478 71.3358 392.431 72.8715 391.616 74.6394C390.801 76.4066 390.257 78.2224 389.986 80.0848C389.871 80.8744 389.815 81.6605 389.798 82.4447C389.303 83.4544 388.761 84.3368 388.164 85.0774C387.317 86.1283 386.438 86.9883 385.527 87.6568C384.616 88.3258 383.713 88.8355 382.819 89.1858C381.923 89.5367 381.124 89.7755 380.421 89.9022C379.59 90.0616 378.791 90.0779 378.024 89.9501C377.257 89.8234 376.553 89.4567 375.915 88.8513C375.403 88.4058 375.011 87.6889 374.74 86.7016C374.468 85.7144 374.309 84.5926 374.261 83.3338C374.213 82.0756 374.261 80.7617 374.404 79.3926C374.548 78.0236 374.795 76.7254 375.147 75.4994C375.499 74.2733 375.945 73.1746 376.49 72.2024C377.032 71.2322 377.672 70.5388 378.408 70.1249C378.822 70.1891 379.079 70.4352 379.175 70.8649C379.271 71.2952 379.294 71.8049 379.246 72.394C379.199 72.9836 379.127 73.5885 379.031 74.2091C378.935 74.8303 378.887 75.3485 378.887 75.7618C379.047 76.6218 379.358 77.2909 379.822 77.7684C380.285 78.246 380.805 78.5254 381.38 78.6042C381.955 78.6842 382.522 78.549 383.083 78.1981C383.641 77.8484 384.096 77.2909 384.449 76.526C384.48 76.5581 384.528 76.5739 384.592 76.5739L385.264 70.5073C385.455 69.6788 385.327 68.9467 384.88 68.3098C384.432 67.6728 383.841 67.3062 383.106 67.211C382.179 65.8734 380.924 65.165 379.342 65.085C377.76 65.0056 376.138 65.5231 374.476 66.6377C373.453 67.371 372.55 68.3813 371.767 69.671C370.983 70.9613 370.345 72.394 369.85 73.9703C369.353 75.5466 369.002 77.2115 368.795 78.963C368.587 80.7144 368.547 82.4187 368.674 84.0738C368.802 85.7307 369.098 87.2913 369.562 88.7555C370.025 90.221 370.672 91.447 371.504 92.4337C372.207 93.2937 373.005 93.9233 373.9 94.3215C374.795 94.7197 375.73 94.9658 376.705 95.0615C377.68 95.1567 378.647 95.1167 379.606 94.9421C380.565 94.7676 381.476 94.5209 382.339 94.2015C383.457 93.7882 384.609 93.2621 385.791 92.6252C386.973 91.9888 388.108 91.224 389.195 90.3319C389.767 89.8628 390.317 89.3513 390.849 88.8028C391.091 89.4016 391.362 89.981 391.688 90.5234C392.551 91.9561 393.717 93.1191 395.188 94.0106C396.657 94.9021 398.464 95.3312 400.605 95.3003C402.907 95.2682 405.032 94.6876 406.982 93.5567C408.932 92.427 410.53 90.7616 411.777 88.5646C413.644 88.5646 415.481 88.258 417.287 87.6489C417.272 87.8416 417.256 88.0446 417.242 88.2307C417.115 89.9186 417.05 91.0646 417.05 91.67C417.019 92.7209 416.947 94.0185 416.835 95.5627C416.723 97.1075 416.651 98.7318 416.619 100.435C416.588 102.139 416.651 103.859 416.811 105.595C416.971 107.33 417.306 108.907 417.818 110.325C418.328 111.741 419.055 112.944 419.999 113.932C420.941 114.918 422.18 115.508 423.715 115.699C425.345 115.921 426.751 115.635 427.934 114.839C429.116 114.042 430.075 112.952 430.811 111.567C431.546 110.181 432.064 108.581 432.369 106.766C432.672 104.95 432.76 103.127 432.633 101.295C432.504 99.4639 432.168 97.7366 431.625 96.113C431.082 94.4882 430.33 93.1506 429.372 92.0991C429.948 91.9409 430.634 91.6385 431.434 91.1919C432.232 90.7464 433.055 90.2446 433.903 89.687C434.111 89.5501 434.316 89.4058 434.524 89.2652C434.446 90.3937 434.406 91.1985 434.406 91.67C434.375 92.7209 434.303 94.0185 434.19 95.5627C434.079 97.1075 434.007 98.7318 433.975 100.435C433.943 102.139 434.007 103.859 434.167 105.595C434.326 107.33 434.662 108.907 435.173 110.325C435.684 111.741 436.412 112.944 437.354 113.932C438.297 114.918 439.536 115.508 441.071 115.699C442.7 115.921 444.106 115.635 445.289 114.839C446.472 114.042 447.431 112.952 448.166 111.567C448.901 110.181 449.42 108.581 449.724 106.766C450.028 104.95 450.115 103.127 449.988 101.295C449.86 99.4639 449.524 97.7366 448.982 96.113C448.437 94.4882 447.687 93.1506 446.727 92.0991C447.303 91.9409 447.99 91.6385 448.789 91.1919C449.588 90.7464 450.411 90.2446 451.259 89.687C451.699 89.3974 452.136 89.0986 452.573 88.7913C452.737 90.3488 453.091 91.7149 453.655 92.864C454.343 94.2658 455.277 95.3482 456.46 96.113C457.642 96.8766 459.033 97.299 460.632 97.3784C462.23 97.4572 463.971 97.1633 465.858 96.4942C467.264 95.9851 468.486 95.3482 469.525 94.5839C470.563 93.8191 471.498 92.8876 472.33 91.7894C472.378 91.7258 472.423 91.6567 472.47 91.5925C472.618 92.0385 472.782 92.467 472.977 92.864C473.665 94.2658 474.6 95.3482 475.782 96.113C476.964 96.8766 478.355 97.299 479.953 97.3784C481.551 97.4572 483.293 97.1633 485.179 96.4942C486.586 95.9851 487.808 95.3482 488.847 94.5839C489.885 93.8191 490.82 92.8876 491.652 91.7894C492.483 90.6901 493.241 89.424 493.929 87.9913C494.616 86.558 495.311 84.9186 496.015 83.0708C496.142 82.5617 496.022 82.1078 495.655 81.7096Z" fill="#0D0C23"/>
</svg>`,ly=`
<svg id="svg" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="180" height="55" viewBox="0, 0, 400,145.16908212560386">
  <g id="svgg">
    <path id="path0" d="M25.713 40.685 C 24.610 41.109,23.814 42.019,23.433 43.290 C 23.077 44.480,23.119 98.810,23.477 100.813 C 24.354 105.709,27.337 108.753,32.500 110.020 C 34.492 110.508,89.273 110.426,91.167 109.931 C 98.251 108.081,102.167 102.441,102.167 94.090 L 102.167 93.083 103.542 93.139 C 123.692 93.957,137.121 77.690,131.943 58.737 C 129.294 49.040,120.868 42.126,109.917 40.661 C 106.138 40.156,27.031 40.179,25.713 40.685 M109.014 53.823 C 116.620 54.624,121.051 61.447,119.357 69.750 C 118.338 74.747,115.595 77.819,110.500 79.670 C 109.662 79.974,102.919 80.112,102.581 79.832 C 102.249 79.555,102.202 54.198,102.533 53.867 C 102.776 53.624,106.863 53.597,109.014 53.823 M76.448 56.921 C 77.738 57.211,77.771 57.223,79.582 58.103 C 85.863 61.153,87.542 69.769,83.104 76.167 C 81.643 78.272,72.941 87.188,66.187 93.500 C 62.822 96.645,62.789 96.655,61.077 95.035 C 60.524 94.512,59.215 93.296,58.169 92.333 C 57.122 91.371,56.144 90.471,55.995 90.333 C 45.109 80.310,42.066 76.857,40.892 73.191 C 37.931 63.947,42.471 56.836,51.333 56.836 C 55.211 56.836,59.545 58.644,62.073 61.316 C 62.628 61.903,62.861 61.953,63.188 61.556 C 63.372 61.333,64.765 60.155,65.583 59.531 C 65.747 59.406,67.618 58.305,68.230 57.973 C 70.300 56.851,74.016 56.376,76.448 56.921 " stroke="none" fill="#fbfbfb" fill-rule="evenodd"></path>
    <path id="path1" d="M64.584 0.206 C 63.301 0.293,62.213 0.425,62.167 0.500 C 62.120 0.575,61.464 0.691,60.708 0.756 C 59.952 0.822,59.333 0.930,59.333 0.995 C 59.333 1.060,58.605 1.203,57.715 1.312 C 56.825 1.422,56.056 1.572,56.006 1.647 C 55.957 1.721,55.510 1.829,55.013 1.887 C 54.515 1.944,54.065 2.059,54.013 2.142 C 53.960 2.225,53.523 2.347,53.042 2.412 C 52.561 2.478,52.129 2.593,52.083 2.668 C 52.036 2.743,51.699 2.855,51.332 2.917 C 50.966 2.979,50.667 3.084,50.667 3.151 C 50.667 3.218,50.179 3.369,49.583 3.488 C 48.987 3.606,48.500 3.761,48.500 3.832 C 48.500 3.904,48.163 4.013,47.750 4.075 C 47.337 4.136,47.000 4.254,47.000 4.336 C 47.000 4.418,46.737 4.534,46.417 4.594 C 46.096 4.655,45.833 4.767,45.833 4.844 C 45.833 4.922,45.554 5.037,45.213 5.101 C 44.871 5.165,44.491 5.319,44.367 5.442 C 44.244 5.566,43.961 5.667,43.738 5.667 C 43.515 5.667,43.333 5.742,43.333 5.833 C 43.333 5.925,43.241 6.000,43.127 6.000 C 42.866 6.000,41.102 6.875,41.028 7.042 C 40.997 7.110,40.819 7.167,40.631 7.167 C 40.285 7.167,39.130 7.792,39.028 8.035 C 38.997 8.107,38.886 8.167,38.780 8.167 C 38.527 8.167,36.812 9.024,36.530 9.291 C 36.409 9.406,36.202 9.500,36.071 9.500 C 35.940 9.500,35.833 9.575,35.833 9.667 C 35.833 9.758,35.718 9.833,35.578 9.833 C 35.438 9.833,35.281 9.941,35.231 10.073 C 35.180 10.205,34.920 10.361,34.653 10.420 C 34.385 10.478,34.167 10.599,34.167 10.689 C 34.167 10.778,33.942 10.929,33.667 11.025 C 33.392 11.121,33.167 11.267,33.167 11.350 C 33.167 11.432,33.066 11.500,32.942 11.500 C 32.819 11.500,32.545 11.650,32.333 11.833 C 32.122 12.017,31.882 12.167,31.800 12.167 C 31.718 12.167,31.486 12.336,31.284 12.544 C 31.082 12.752,30.721 13.021,30.481 13.143 C 30.241 13.265,29.851 13.546,29.613 13.766 C 29.376 13.986,29.107 14.167,29.016 14.167 C 28.924 14.167,28.790 14.262,28.717 14.379 C 28.643 14.496,28.396 14.713,28.167 14.862 C 27.938 15.010,27.584 15.290,27.382 15.483 C 27.180 15.675,26.963 15.833,26.900 15.833 C 26.837 15.833,26.553 16.055,26.268 16.326 C 25.983 16.597,25.422 17.103,25.021 17.451 C 24.621 17.799,24.173 18.215,24.026 18.375 C 23.879 18.535,23.699 18.667,23.625 18.667 C 23.451 18.667,18.667 23.451,18.667 23.625 C 18.667 23.699,18.535 23.879,18.375 24.026 C 18.215 24.173,17.799 24.621,17.451 25.021 C 17.103 25.422,16.597 25.983,16.326 26.268 C 16.055 26.553,15.833 26.872,15.833 26.976 C 15.833 27.081,15.771 27.167,15.695 27.167 C 15.619 27.167,15.450 27.373,15.320 27.625 C 15.190 27.877,14.877 28.269,14.625 28.495 C 14.373 28.722,14.167 28.969,14.167 29.044 C 14.167 29.119,14.093 29.271,14.003 29.382 C 13.223 30.338,13.000 30.657,13.000 30.816 C 13.000 30.917,12.926 31.000,12.837 31.000 C 12.747 31.000,12.627 31.182,12.571 31.405 C 12.516 31.627,12.364 31.850,12.235 31.899 C 12.106 31.949,12.000 32.096,12.000 32.227 C 12.000 32.358,11.887 32.508,11.750 32.560 C 11.612 32.613,11.500 32.771,11.500 32.911 C 11.500 33.052,11.436 33.167,11.359 33.167 C 11.281 33.167,11.090 33.448,10.935 33.792 C 10.483 34.792,10.263 35.167,10.127 35.167 C 10.057 35.167,10.000 35.282,10.000 35.422 C 10.000 35.562,9.892 35.719,9.760 35.769 C 9.628 35.820,9.472 36.080,9.414 36.347 C 9.355 36.615,9.238 36.833,9.153 36.833 C 9.069 36.833,9.000 36.916,9.000 37.016 C 9.000 37.116,8.855 37.402,8.678 37.651 C 8.501 37.900,8.305 38.305,8.243 38.552 C 8.181 38.798,8.070 39.000,7.995 39.000 C 7.921 39.000,7.810 39.225,7.750 39.500 C 7.690 39.775,7.577 40.000,7.500 40.000 C 7.423 40.000,7.310 40.225,7.250 40.500 C 7.190 40.775,7.077 41.000,7.000 41.000 C 6.923 41.000,6.810 41.225,6.750 41.500 C 6.690 41.775,6.585 42.000,6.518 42.000 C 6.451 42.000,6.300 42.375,6.183 42.833 C 6.065 43.292,5.905 43.667,5.825 43.667 C 5.746 43.667,5.633 43.929,5.572 44.250 C 5.512 44.571,5.400 44.833,5.322 44.833 C 5.245 44.833,5.133 45.096,5.072 45.417 C 5.012 45.737,4.900 46.000,4.822 46.000 C 4.745 46.000,4.632 46.263,4.572 46.585 C 4.512 46.907,4.402 47.207,4.329 47.253 C 4.256 47.298,4.145 47.635,4.083 48.001 C 4.021 48.367,3.911 48.667,3.838 48.667 C 3.764 48.667,3.612 49.154,3.500 49.750 C 3.388 50.346,3.232 50.833,3.154 50.833 C 3.075 50.833,2.962 51.208,2.901 51.667 C 2.840 52.125,2.732 52.500,2.661 52.500 C 2.590 52.500,2.480 52.875,2.417 53.333 C 2.354 53.791,2.241 54.204,2.167 54.250 C 2.092 54.296,1.978 54.727,1.914 55.209 C 1.849 55.690,1.734 56.161,1.657 56.256 C 1.581 56.351,1.423 57.232,1.307 58.214 C 1.190 59.196,1.044 60.000,0.982 60.000 C 0.919 60.000,0.814 60.694,0.748 61.542 C 0.681 62.390,0.569 63.121,0.498 63.167 C -0.073 63.536,-0.072 81.472,0.499 81.833 C 0.571 81.879,0.685 82.648,0.752 83.542 C 0.818 84.435,0.927 85.167,0.993 85.167 C 1.059 85.167,1.209 85.935,1.327 86.875 C 1.444 87.815,1.602 88.660,1.676 88.754 C 1.751 88.848,1.864 89.317,1.927 89.796 C 1.991 90.275,2.101 90.667,2.172 90.667 C 2.243 90.667,2.353 91.117,2.417 91.667 C 2.481 92.217,2.594 92.667,2.668 92.667 C 2.743 92.667,2.855 92.967,2.917 93.333 C 2.979 93.700,3.098 94.000,3.181 94.000 C 3.265 94.000,3.333 94.190,3.333 94.421 C 3.333 94.911,4.190 97.557,4.375 97.639 C 4.444 97.669,4.500 97.870,4.500 98.085 C 4.500 98.300,4.601 98.577,4.724 98.701 C 4.848 98.824,5.001 99.204,5.065 99.546 C 5.129 99.887,5.245 100.167,5.322 100.167 C 5.400 100.167,5.512 100.429,5.572 100.750 C 5.633 101.071,5.746 101.333,5.824 101.333 C 5.903 101.333,6.057 101.708,6.167 102.167 C 6.277 102.625,6.428 103.000,6.503 103.000 C 6.579 103.000,6.690 103.225,6.750 103.500 C 6.810 103.775,6.923 104.000,7.000 104.000 C 7.077 104.000,7.190 104.225,7.250 104.500 C 7.310 104.775,7.429 105.000,7.513 105.000 C 7.598 105.000,7.667 105.107,7.667 105.238 C 7.667 105.369,7.768 105.577,7.892 105.701 C 8.015 105.825,8.214 106.224,8.332 106.588 C 8.451 106.952,8.594 107.287,8.649 107.333 C 8.815 107.471,9.166 108.053,9.376 108.542 C 9.484 108.794,9.624 109.000,9.685 109.000 C 9.747 109.000,9.844 109.188,9.902 109.417 C 9.959 109.646,10.080 109.833,10.170 109.833 C 10.260 109.833,10.333 109.934,10.333 110.058 C 10.333 110.181,10.483 110.455,10.667 110.667 C 10.850 110.878,11.000 111.154,11.000 111.281 C 11.000 111.407,11.106 111.551,11.235 111.601 C 11.364 111.650,11.517 111.879,11.575 112.110 C 11.684 112.543,11.790 112.699,12.511 113.483 C 12.746 113.739,13.037 114.187,13.158 114.480 C 13.279 114.772,13.546 115.143,13.750 115.304 C 13.955 115.464,14.172 115.755,14.234 115.949 C 14.296 116.144,14.456 116.345,14.590 116.396 C 14.724 116.447,14.833 116.604,14.833 116.745 C 14.833 116.885,14.890 117.001,14.958 117.001 C 15.027 117.002,15.270 117.277,15.499 117.612 C 15.727 117.947,16.121 118.429,16.374 118.681 C 16.626 118.934,16.833 119.205,16.833 119.283 C 16.833 119.362,17.065 119.629,17.347 119.877 C 17.630 120.125,18.048 120.603,18.277 120.940 C 18.505 121.277,18.922 121.747,19.203 121.985 C 19.484 122.222,19.834 122.556,19.982 122.726 C 20.329 123.127,22.040 124.838,22.441 125.185 C 22.611 125.332,22.944 125.683,23.182 125.964 C 23.420 126.245,23.890 126.661,24.227 126.890 C 24.564 127.119,25.042 127.537,25.290 127.820 C 25.538 128.102,25.805 128.333,25.883 128.333 C 25.962 128.333,26.251 128.558,26.526 128.833 C 26.801 129.108,27.094 129.333,27.178 129.333 C 27.262 129.333,27.537 129.545,27.790 129.805 C 28.043 130.064,28.381 130.324,28.542 130.383 C 28.702 130.442,28.833 130.562,28.833 130.650 C 28.833 130.739,28.999 130.864,29.202 130.928 C 29.405 130.992,29.702 131.212,29.863 131.417 C 30.024 131.621,30.402 131.888,30.703 132.009 C 31.004 132.131,31.310 132.329,31.383 132.449 C 31.457 132.569,31.591 132.667,31.682 132.667 C 31.773 132.667,31.938 132.743,32.049 132.836 C 32.847 133.510,33.076 133.667,33.258 133.667 C 33.371 133.667,33.508 133.779,33.560 133.917 C 33.613 134.054,33.760 134.167,33.886 134.167 C 34.012 134.167,34.289 134.317,34.500 134.500 C 34.711 134.683,34.985 134.833,35.109 134.833 C 35.232 134.833,35.333 134.907,35.333 134.997 C 35.333 135.087,35.521 135.207,35.750 135.265 C 35.979 135.322,36.167 135.420,36.167 135.482 C 36.167 135.543,36.373 135.683,36.625 135.793 C 36.877 135.903,37.383 136.177,37.750 136.403 C 38.117 136.629,38.623 136.862,38.875 136.920 C 39.127 136.979,39.333 137.094,39.333 137.177 C 39.333 137.259,39.521 137.374,39.750 137.432 C 39.979 137.489,40.167 137.597,40.167 137.671 C 40.167 137.746,40.392 137.856,40.667 137.917 C 40.942 137.977,41.167 138.096,41.167 138.180 C 41.167 138.264,41.246 138.333,41.342 138.333 C 41.439 138.333,41.836 138.478,42.223 138.654 C 42.611 138.831,43.132 139.027,43.381 139.089 C 43.630 139.152,43.833 139.266,43.833 139.344 C 43.833 139.421,44.096 139.534,44.417 139.594 C 44.737 139.655,45.000 139.770,45.000 139.850 C 45.000 139.930,45.300 140.044,45.667 140.103 C 46.033 140.161,46.333 140.266,46.333 140.336 C 46.333 140.406,46.596 140.512,46.917 140.572 C 47.237 140.633,47.500 140.747,47.500 140.826 C 47.500 140.906,47.800 141.021,48.166 141.083 C 48.532 141.145,48.869 141.256,48.914 141.329 C 48.960 141.403,49.485 141.560,50.082 141.679 C 50.678 141.797,51.167 141.953,51.167 142.025 C 51.167 142.097,51.542 142.205,52.000 142.266 C 52.458 142.327,52.833 142.435,52.833 142.506 C 52.833 142.577,53.208 142.687,53.667 142.750 C 54.125 142.813,54.500 142.924,54.500 142.996 C 54.500 143.069,54.987 143.180,55.583 143.244 C 56.179 143.308,56.667 143.419,56.667 143.491 C 56.667 143.564,57.492 143.721,58.500 143.841 C 59.508 143.961,60.333 144.112,60.333 144.176 C 60.333 144.241,61.065 144.348,61.958 144.415 C 62.852 144.482,63.622 144.598,63.669 144.673 C 63.983 145.174,81.167 145.180,81.497 144.680 C 81.545 144.608,82.294 144.497,83.162 144.432 C 84.031 144.368,84.781 144.260,84.829 144.191 C 84.877 144.123,85.703 143.970,86.665 143.853 C 87.627 143.736,88.452 143.580,88.498 143.507 C 88.545 143.433,89.052 143.320,89.625 143.254 C 90.198 143.188,90.667 143.076,90.667 143.005 C 90.667 142.934,91.042 142.827,91.500 142.766 C 91.958 142.705,92.333 142.592,92.333 142.516 C 92.333 142.439,92.708 142.327,93.167 142.266 C 93.625 142.205,94.000 142.097,94.000 142.025 C 94.000 141.953,94.488 141.797,95.085 141.679 C 95.682 141.560,96.207 141.403,96.252 141.329 C 96.298 141.256,96.635 141.145,97.001 141.083 C 97.367 141.021,97.667 140.902,97.667 140.819 C 97.667 140.735,97.849 140.667,98.071 140.667 C 98.294 140.667,98.577 140.566,98.701 140.442 C 98.824 140.319,99.204 140.165,99.546 140.101 C 99.887 140.037,100.167 139.922,100.167 139.844 C 100.167 139.767,100.429 139.655,100.750 139.594 C 101.071 139.534,101.333 139.427,101.333 139.357 C 101.333 139.287,101.708 139.134,102.167 139.016 C 102.625 138.899,103.000 138.740,103.000 138.665 C 103.000 138.589,103.225 138.477,103.500 138.417 C 103.775 138.356,104.000 138.244,104.000 138.167 C 104.000 138.090,104.225 137.977,104.500 137.917 C 104.775 137.856,105.000 137.746,105.000 137.671 C 105.000 137.597,105.188 137.489,105.417 137.432 C 105.646 137.374,105.833 137.263,105.833 137.185 C 105.833 137.107,106.171 136.949,106.583 136.833 C 106.996 136.718,107.333 136.564,107.333 136.492 C 107.333 136.419,107.552 136.312,107.819 136.253 C 108.087 136.194,108.347 136.038,108.398 135.906 C 108.448 135.775,108.604 135.667,108.745 135.667 C 108.885 135.667,109.000 135.600,109.000 135.518 C 109.000 135.436,109.197 135.320,109.437 135.260 C 109.677 135.200,109.974 135.060,110.098 134.950 C 110.635 134.470,110.831 134.337,111.358 134.096 C 112.089 133.761,112.548 133.465,113.317 132.830 C 113.537 132.649,113.811 132.500,113.924 132.500 C 114.038 132.500,114.174 132.387,114.227 132.250 C 114.280 132.112,114.426 132.000,114.552 132.000 C 114.678 132.000,114.917 131.850,115.083 131.667 C 115.249 131.483,115.452 131.333,115.534 131.333 C 115.616 131.333,115.856 131.146,116.069 130.917 C 116.281 130.687,116.536 130.500,116.636 130.500 C 116.735 130.500,116.877 130.404,116.950 130.288 C 117.023 130.171,117.271 129.954,117.500 129.805 C 117.729 129.656,118.082 129.377,118.285 129.184 C 118.487 128.991,118.706 128.833,118.772 128.833 C 118.837 128.833,119.214 128.496,119.609 128.083 C 120.004 127.671,120.395 127.333,120.477 127.333 C 120.559 127.333,121.227 126.752,121.962 126.042 C 122.697 125.331,123.674 124.412,124.134 124.000 C 124.594 123.587,125.016 123.081,125.072 122.875 C 125.128 122.669,125.236 122.500,125.314 122.500 C 125.495 122.500,126.981 121.033,127.417 120.425 C 127.600 120.169,127.994 119.717,128.292 119.421 C 128.590 119.125,128.833 118.830,128.833 118.766 C 128.833 118.701,129.058 118.409,129.333 118.116 C 129.607 117.823,129.832 117.533,129.833 117.471 C 129.833 117.409,130.058 117.134,130.333 116.859 C 130.608 116.584,130.833 116.282,130.833 116.188 C 130.833 116.094,130.927 115.957,131.042 115.883 C 131.291 115.724,131.896 114.867,132.048 114.458 C 132.107 114.298,132.234 114.167,132.328 114.167 C 132.423 114.167,132.500 114.053,132.500 113.915 C 132.500 113.777,132.650 113.535,132.833 113.378 C 133.017 113.221,133.167 112.997,133.167 112.880 C 133.167 112.762,133.242 112.667,133.333 112.667 C 133.425 112.667,133.500 112.558,133.500 112.425 C 133.500 112.292,133.594 112.123,133.708 112.050 C 133.900 111.927,134.282 111.305,134.734 110.376 C 134.835 110.171,134.973 110.002,135.042 110.001 C 135.110 110.001,135.167 109.885,135.167 109.745 C 135.167 109.604,135.275 109.448,135.406 109.398 C 135.538 109.347,135.694 109.087,135.753 108.819 C 135.812 108.552,135.923 108.333,136.000 108.333 C 136.077 108.333,136.188 108.115,136.247 107.847 C 136.306 107.580,136.455 107.322,136.578 107.275 C 136.701 107.228,136.852 106.959,136.914 106.678 C 136.976 106.397,137.090 106.167,137.167 106.167 C 137.244 106.167,137.356 105.942,137.417 105.667 C 137.477 105.392,137.590 105.167,137.667 105.167 C 137.744 105.167,137.856 104.942,137.917 104.667 C 137.977 104.392,138.090 104.167,138.167 104.167 C 138.244 104.167,138.356 103.942,138.417 103.667 C 138.477 103.392,138.596 103.167,138.680 103.167 C 138.764 103.167,138.834 103.035,138.835 102.875 C 138.836 102.715,139.021 102.208,139.246 101.750 C 139.472 101.292,139.659 100.785,139.661 100.625 C 139.664 100.465,139.738 100.333,139.826 100.333 C 139.913 100.333,140.034 100.071,140.094 99.750 C 140.155 99.429,140.267 99.167,140.344 99.167 C 140.422 99.167,140.534 98.904,140.594 98.583 C 140.655 98.263,140.761 98.000,140.831 98.000 C 140.900 98.000,141.008 97.683,141.070 97.297 C 141.132 96.910,141.258 96.546,141.351 96.489 C 141.444 96.432,141.607 95.923,141.715 95.359 C 141.822 94.795,141.963 94.333,142.028 94.333 C 142.093 94.333,142.197 93.996,142.259 93.583 C 142.321 93.171,142.429 92.833,142.500 92.833 C 142.570 92.833,142.680 92.421,142.743 91.917 C 142.806 91.413,142.923 91.000,143.004 91.000 C 143.084 91.000,143.201 90.550,143.263 90.000 C 143.325 89.450,143.433 89.000,143.503 89.000 C 143.572 89.000,143.725 88.250,143.842 87.333 C 143.958 86.417,144.109 85.667,144.176 85.667 C 144.243 85.667,144.352 84.973,144.419 84.125 C 144.485 83.277,144.600 82.545,144.673 82.499 C 144.746 82.452,144.860 81.346,144.926 80.040 C 144.993 78.735,145.111 77.667,145.190 77.667 C 145.269 77.667,145.333 75.342,145.333 72.500 C 145.333 69.658,145.269 67.333,145.190 67.333 C 145.111 67.333,144.993 66.265,144.926 64.960 C 144.860 63.654,144.745 62.548,144.671 62.501 C 144.597 62.455,144.481 61.760,144.415 60.958 C 144.348 60.156,144.242 59.500,144.178 59.500 C 144.114 59.500,143.972 58.735,143.862 57.800 C 143.752 56.865,143.596 56.059,143.515 56.009 C 143.434 55.958,143.313 55.485,143.248 54.958 C 143.182 54.431,143.071 54.000,143.000 54.000 C 142.929 54.000,142.820 53.589,142.758 53.086 C 142.695 52.583,142.580 52.133,142.503 52.085 C 142.426 52.037,142.312 51.699,142.250 51.332 C 142.188 50.966,142.083 50.667,142.016 50.667 C 141.949 50.667,141.798 50.179,141.679 49.583 C 141.561 48.988,141.405 48.500,141.334 48.500 C 141.263 48.500,141.154 48.162,141.092 47.750 C 141.030 47.337,140.913 47.000,140.831 47.000 C 140.749 47.000,140.633 46.737,140.572 46.417 C 140.512 46.096,140.406 45.833,140.337 45.833 C 140.267 45.833,140.168 45.570,140.115 45.248 C 140.063 44.927,139.903 44.546,139.760 44.403 C 139.617 44.260,139.500 43.961,139.500 43.738 C 139.500 43.515,139.425 43.333,139.333 43.333 C 139.242 43.333,139.167 43.245,139.167 43.136 C 139.167 42.830,137.383 39.027,137.149 38.833 C 137.094 38.787,136.834 38.281,136.573 37.708 C 136.311 37.135,136.038 36.667,135.965 36.667 C 135.893 36.667,135.833 36.560,135.833 36.429 C 135.833 36.298,135.739 36.091,135.623 35.970 C 135.507 35.849,135.319 35.563,135.205 35.333 C 135.091 35.104,134.809 34.617,134.579 34.250 C 134.348 33.883,134.109 33.471,134.047 33.333 C 133.984 33.196,133.872 33.008,133.797 32.917 C 133.722 32.825,133.512 32.570,133.330 32.349 C 133.149 32.129,133.000 31.856,133.000 31.742 C 133.000 31.629,132.887 31.492,132.750 31.440 C 132.612 31.387,132.500 31.263,132.500 31.165 C 132.500 31.067,132.350 30.825,132.167 30.628 C 131.983 30.431,131.833 30.180,131.833 30.070 C 131.833 29.959,131.721 29.826,131.583 29.773 C 131.446 29.720,131.333 29.590,131.333 29.483 C 131.333 29.376,131.146 29.114,130.917 28.902 C 130.688 28.690,130.500 28.448,130.500 28.366 C 130.500 28.284,130.294 27.991,130.042 27.717 C 129.790 27.442,129.396 26.965,129.167 26.657 C 128.938 26.349,128.394 25.725,127.958 25.270 C 127.523 24.815,127.167 24.376,127.167 24.293 C 127.167 24.055,121.066 18.044,120.709 17.930 C 120.532 17.874,120.297 17.660,120.187 17.454 C 120.077 17.249,119.709 16.894,119.370 16.665 C 119.031 16.437,118.549 16.044,118.299 15.792 C 118.049 15.540,117.765 15.333,117.667 15.333 C 117.569 15.333,117.447 15.224,117.396 15.090 C 117.345 14.956,117.148 14.797,116.959 14.737 C 116.769 14.677,116.449 14.449,116.247 14.231 C 116.044 14.012,115.791 13.833,115.684 13.833 C 115.577 13.833,115.449 13.728,115.399 13.599 C 115.350 13.469,115.090 13.273,114.821 13.162 C 114.553 13.051,114.333 12.894,114.333 12.813 C 114.333 12.733,114.218 12.667,114.078 12.667 C 113.938 12.667,113.780 12.554,113.727 12.417 C 113.674 12.279,113.561 12.167,113.475 12.167 C 113.330 12.167,112.350 11.533,112.167 11.320 C 112.121 11.267,111.840 11.117,111.542 10.988 C 111.244 10.858,111.000 10.695,111.000 10.626 C 111.000 10.557,110.885 10.500,110.745 10.500 C 110.604 10.500,110.448 10.392,110.398 10.260 C 110.347 10.128,110.087 9.972,109.819 9.914 C 109.552 9.855,109.333 9.743,109.333 9.665 C 109.333 9.586,109.168 9.470,108.966 9.406 C 108.764 9.342,108.496 9.187,108.371 9.061 C 108.245 8.936,108.045 8.833,107.925 8.833 C 107.805 8.833,107.618 8.726,107.509 8.594 C 107.400 8.462,107.090 8.306,106.822 8.247 C 106.553 8.188,106.332 8.090,106.330 8.028 C 106.328 7.967,105.917 7.729,105.417 7.500 C 104.916 7.271,104.505 7.027,104.503 6.958 C 104.502 6.890,104.421 6.833,104.324 6.833 C 104.227 6.833,103.831 6.689,103.443 6.512 C 103.056 6.336,102.535 6.140,102.286 6.077 C 102.037 6.015,101.833 5.900,101.833 5.823 C 101.833 5.745,101.571 5.633,101.250 5.572 C 100.929 5.512,100.667 5.397,100.667 5.317 C 100.667 5.236,100.367 5.123,100.000 5.064 C 99.633 5.005,99.333 4.898,99.333 4.825 C 99.333 4.753,99.090 4.640,98.792 4.576 C 98.494 4.511,98.212 4.410,98.167 4.351 C 98.055 4.208,95.410 3.333,95.088 3.333 C 94.948 3.333,94.833 3.268,94.833 3.188 C 94.833 3.108,94.458 2.993,94.000 2.932 C 93.542 2.872,93.167 2.759,93.167 2.682 C 93.167 2.606,92.795 2.494,92.340 2.433 C 91.886 2.373,91.473 2.258,91.423 2.177 C 91.374 2.097,90.939 1.978,90.458 1.914 C 89.977 1.849,89.508 1.741,89.417 1.673 C 89.214 1.523,87.050 1.167,86.343 1.167 C 86.063 1.167,85.833 1.099,85.833 1.017 C 85.833 0.935,85.215 0.814,84.458 0.747 C 83.702 0.681,83.046 0.571,83.000 0.502 C 82.711 0.068,69.746 -0.140,64.584 0.206 M365.852 34.689 C 364.900 34.767,364.037 34.898,363.935 34.980 C 363.833 35.062,363.281 35.183,362.708 35.248 C 362.135 35.313,361.667 35.427,361.667 35.502 C 361.667 35.576,361.367 35.688,361.000 35.750 C 360.633 35.812,360.333 35.928,360.333 36.007 C 360.333 36.087,360.052 36.203,359.708 36.266 C 359.365 36.330,359.046 36.427,359.000 36.482 C 358.954 36.538,358.467 36.808,357.917 37.083 C 357.367 37.358,356.892 37.640,356.861 37.708 C 356.831 37.777,356.702 37.833,356.575 37.833 C 356.449 37.833,356.265 37.983,356.167 38.167 C 356.069 38.350,355.910 38.500,355.815 38.500 C 355.719 38.500,355.430 38.706,355.172 38.958 C 354.914 39.210,354.563 39.537,354.393 39.684 C 353.807 40.191,352.833 41.304,352.833 41.467 C 352.833 41.557,352.721 41.674,352.583 41.727 C 352.446 41.780,352.333 41.938,352.333 42.078 C 352.333 42.218,352.260 42.333,352.170 42.333 C 352.080 42.333,351.959 42.521,351.902 42.750 C 351.844 42.979,351.742 43.167,351.675 43.167 C 351.608 43.167,351.454 43.467,351.333 43.833 C 351.212 44.200,351.051 44.500,350.975 44.500 C 350.899 44.500,350.789 44.800,350.731 45.167 C 350.672 45.533,350.563 45.833,350.489 45.833 C 350.415 45.833,350.301 46.190,350.237 46.625 C 350.173 47.060,350.051 47.461,349.967 47.516 C 349.882 47.571,349.769 48.452,349.715 49.474 C 349.661 50.497,349.553 51.333,349.475 51.333 C 349.397 51.333,349.333 52.458,349.333 53.833 L 349.333 56.333 346.250 56.333 C 344.554 56.333,343.167 56.399,343.167 56.479 C 343.167 56.558,342.792 56.673,342.333 56.734 C 341.875 56.795,341.500 56.909,341.500 56.988 C 341.500 57.066,341.313 57.178,341.083 57.235 C 340.854 57.293,340.667 57.413,340.667 57.503 C 340.667 57.593,340.569 57.667,340.451 57.667 C 340.332 57.667,340.050 57.891,339.826 58.166 C 339.601 58.441,339.285 58.827,339.125 59.025 C 338.965 59.223,338.833 59.517,338.833 59.678 C 338.833 59.840,338.740 60.004,338.625 60.042 C 338.347 60.134,338.326 64.621,338.603 64.798 C 338.705 64.863,338.843 65.092,338.910 65.307 C 339.074 65.833,340.484 67.253,341.002 67.415 C 341.230 67.487,341.464 67.618,341.521 67.708 C 341.722 68.019,343.102 68.152,346.208 68.159 L 349.333 68.167 349.333 86.417 C 349.333 96.542,349.397 104.667,349.477 104.667 C 349.556 104.667,349.662 105.135,349.711 105.708 C 349.800 106.738,350.213 107.833,350.512 107.833 C 350.597 107.833,350.667 107.929,350.667 108.046 C 350.667 108.163,350.798 108.382,350.958 108.533 C 351.119 108.683,351.471 109.040,351.741 109.325 C 352.011 109.610,352.405 109.887,352.616 109.940 C 352.827 109.993,353.000 110.095,353.000 110.168 C 353.000 110.342,354.899 110.667,355.917 110.667 C 356.982 110.667,358.833 110.338,358.833 110.150 C 358.833 110.067,358.948 110.000,359.089 110.000 C 359.229 110.000,359.384 109.894,359.434 109.765 C 359.484 109.636,359.706 109.484,359.929 109.429 C 360.151 109.373,360.333 109.261,360.333 109.181 C 360.333 109.101,360.520 108.858,360.747 108.642 C 360.975 108.427,361.162 108.156,361.164 108.042 C 361.165 107.927,361.234 107.833,361.315 107.833 C 361.397 107.833,361.515 107.628,361.578 107.377 C 361.642 107.126,361.781 106.866,361.888 106.799 C 362.035 106.709,362.094 101.914,362.128 87.434 L 362.172 68.190 367.878 68.137 L 373.583 68.083 374.250 67.672 C 374.617 67.446,374.942 67.202,374.972 67.130 C 375.003 67.059,375.105 67.000,375.199 67.000 C 375.444 67.000,376.160 66.289,376.164 66.042 C 376.165 65.927,376.223 65.833,376.292 65.832 C 377.223 65.824,377.601 61.029,376.792 59.471 C 376.575 59.051,374.901 57.333,374.710 57.333 C 374.655 57.333,374.483 57.219,374.328 57.078 C 374.173 56.938,373.660 56.777,373.190 56.722 C 372.719 56.666,372.333 56.556,372.333 56.477 C 372.333 56.398,370.046 56.333,367.250 56.333 L 362.167 56.333 362.167 53.833 C 362.167 52.458,362.232 51.333,362.312 51.333 C 362.392 51.333,362.508 50.883,362.570 50.333 C 362.632 49.783,362.739 49.333,362.808 49.333 C 362.877 49.333,363.034 49.054,363.158 48.712 C 363.446 47.915,364.582 46.779,365.379 46.491 C 365.721 46.367,366.000 46.213,366.000 46.148 C 366.000 46.083,366.619 45.979,367.375 45.917 C 368.713 45.808,369.415 45.877,372.250 46.402 C 374.374 46.795,377.167 46.650,377.167 46.147 C 377.167 46.066,377.252 46.000,377.356 46.000 C 377.460 46.000,377.891 45.642,378.314 45.204 C 380.745 42.691,380.155 37.146,377.363 36.259 C 377.163 36.196,377.000 36.080,377.000 36.002 C 377.000 35.924,376.775 35.810,376.500 35.750 C 376.225 35.690,376.000 35.575,376.000 35.494 C 376.000 35.414,375.719 35.297,375.375 35.234 C 375.031 35.170,374.710 35.057,374.660 34.982 C 374.388 34.566,369.380 34.399,365.852 34.689 M387.174 36.856 C 386.674 36.939,386.224 37.070,386.174 37.148 C 386.124 37.225,385.898 37.346,385.672 37.417 C 385.163 37.576,384.238 38.510,384.076 39.029 C 384.010 39.242,383.871 39.470,383.769 39.536 C 383.643 39.617,383.583 40.721,383.583 43.000 C 383.583 45.279,383.643 46.383,383.769 46.464 C 383.871 46.530,384.010 46.758,384.076 46.971 C 384.282 47.630,385.225 48.456,386.013 48.667 C 386.418 48.776,386.895 48.942,387.072 49.036 C 387.494 49.260,393.176 49.255,393.315 49.030 C 393.371 48.939,393.717 48.811,394.084 48.747 C 395.606 48.480,396.505 47.379,396.631 45.631 C 396.675 45.009,396.776 44.500,396.856 44.500 C 396.935 44.500,397.000 43.750,397.000 42.833 C 397.000 41.833,396.933 41.167,396.833 41.167 C 396.742 41.167,396.666 40.885,396.666 40.542 C 396.661 37.391,392.858 35.914,387.174 36.856 M221.833 38.167 C 221.833 38.258,221.642 38.333,221.408 38.333 C 221.012 38.333,219.840 38.871,219.411 39.250 C 219.307 39.342,219.012 39.567,218.756 39.750 C 218.500 39.933,215.376 42.990,211.814 46.542 C 208.252 50.094,205.290 53.000,205.232 53.000 C 205.174 53.000,202.368 55.756,198.997 59.125 C 195.625 62.494,192.615 65.487,192.308 65.777 C 192.001 66.066,191.449 66.629,191.080 67.027 C 190.712 67.424,190.132 67.959,189.792 68.214 C 189.452 68.469,188.385 69.471,187.420 70.440 L 185.667 72.202 185.667 57.518 C 185.667 49.065,185.604 42.833,185.519 42.833 C 185.437 42.833,185.321 42.571,185.261 42.250 C 185.201 41.929,185.080 41.667,184.992 41.667 C 184.905 41.667,184.832 41.573,184.831 41.458 C 184.826 41.099,183.349 39.655,182.786 39.459 C 182.491 39.356,182.151 39.174,182.030 39.053 C 181.909 38.932,181.515 38.833,181.155 38.833 C 180.795 38.833,180.500 38.758,180.500 38.667 C 180.500 38.569,179.944 38.500,179.167 38.500 C 178.433 38.500,177.833 38.565,177.833 38.645 C 177.833 38.725,177.487 38.829,177.063 38.877 C 176.639 38.925,176.244 39.041,176.186 39.135 C 176.128 39.230,175.868 39.360,175.610 39.425 C 175.351 39.490,175.100 39.646,175.052 39.771 C 175.004 39.897,174.889 40.000,174.797 40.000 C 174.562 40.000,173.840 40.710,173.836 40.944 C 173.835 41.051,173.774 41.164,173.701 41.194 C 173.629 41.225,173.385 41.550,173.160 41.917 L 172.750 42.583 172.699 74.083 C 172.648 105.134,172.679 107.333,173.161 107.333 C 173.236 107.333,173.344 107.519,173.401 107.747 C 173.572 108.429,174.926 109.628,176.186 110.214 C 177.340 110.751,181.808 110.727,182.161 110.182 C 182.210 110.107,182.419 109.992,182.625 109.928 C 182.831 109.864,183.000 109.741,183.000 109.655 C 183.000 109.570,183.084 109.500,183.186 109.500 C 183.389 109.500,184.667 108.281,184.667 108.088 C 184.667 108.022,184.817 107.779,185.000 107.545 C 185.183 107.312,185.333 106.944,185.333 106.728 C 185.333 106.511,185.408 106.333,185.500 106.333 C 185.609 106.333,185.667 103.230,185.667 97.358 L 185.667 88.382 186.075 87.941 C 186.300 87.698,186.532 87.500,186.590 87.500 C 186.715 87.500,187.824 86.486,188.564 85.695 C 188.850 85.389,189.338 84.902,189.650 84.611 C 190.773 83.564,191.833 82.452,191.833 82.322 C 191.833 82.249,191.994 82.138,192.191 82.076 C 192.387 82.013,193.136 81.370,193.855 80.645 L 195.161 79.328 195.497 79.664 C 195.682 79.849,195.833 80.077,195.833 80.172 C 195.833 80.266,195.943 80.386,196.077 80.437 C 196.211 80.489,196.371 80.693,196.431 80.890 C 196.492 81.088,196.643 81.362,196.766 81.500 C 196.890 81.637,197.211 81.990,197.481 82.283 C 197.751 82.576,198.019 82.963,198.076 83.143 C 198.133 83.322,198.289 83.511,198.423 83.563 C 198.557 83.614,198.667 83.767,198.667 83.903 C 198.667 84.039,198.761 84.210,198.877 84.283 C 198.992 84.357,199.273 84.697,199.502 85.041 C 199.730 85.384,199.973 85.665,200.042 85.666 C 200.110 85.666,200.167 85.762,200.167 85.880 C 200.167 85.997,200.373 86.278,200.625 86.505 C 200.877 86.731,201.190 87.123,201.320 87.375 C 201.450 87.627,201.619 87.833,201.695 87.833 C 201.771 87.833,201.833 87.921,201.833 88.028 C 201.833 88.135,201.944 88.341,202.079 88.486 C 203.041 89.522,203.274 89.814,203.455 90.214 C 203.567 90.463,203.736 90.667,203.830 90.667 C 203.923 90.667,204.000 90.768,204.000 90.891 C 204.000 91.014,204.150 91.251,204.333 91.417 C 204.517 91.583,204.667 91.785,204.667 91.867 C 204.667 91.949,204.854 92.190,205.083 92.402 C 205.313 92.614,205.501 92.855,205.503 92.936 C 205.504 93.017,205.692 93.260,205.920 93.476 C 206.147 93.692,206.333 93.939,206.333 94.025 C 206.333 94.112,206.521 94.356,206.750 94.569 C 206.979 94.781,207.167 95.023,207.167 95.107 C 207.167 95.191,207.298 95.383,207.458 95.535 C 207.848 95.902,208.033 96.138,208.581 96.967 C 208.836 97.352,209.109 97.667,209.189 97.667 C 209.268 97.667,209.333 97.768,209.333 97.891 C 209.333 98.014,209.483 98.251,209.667 98.417 C 209.850 98.583,210.000 98.785,210.000 98.867 C 210.000 98.949,210.188 99.190,210.417 99.402 C 210.646 99.614,210.833 99.860,210.833 99.948 C 210.833 100.036,211.021 100.285,211.250 100.500 C 211.479 100.715,211.667 100.957,211.667 101.037 C 211.667 101.117,211.841 101.348,212.054 101.550 C 212.267 101.751,212.490 102.048,212.549 102.208 C 212.608 102.369,212.724 102.500,212.808 102.500 C 212.891 102.500,213.053 102.725,213.167 103.000 C 213.281 103.275,213.442 103.500,213.525 103.500 C 213.609 103.500,213.725 103.631,213.784 103.792 C 213.844 103.952,214.057 104.240,214.260 104.432 C 214.462 104.624,214.679 104.943,214.742 105.141 C 214.804 105.338,214.928 105.500,215.016 105.500 C 215.105 105.500,215.227 105.629,215.287 105.787 C 215.348 105.945,215.599 106.271,215.846 106.513 C 216.093 106.754,216.347 107.113,216.409 107.309 C 216.471 107.506,216.595 107.667,216.683 107.667 C 216.771 107.667,216.889 107.785,216.944 107.929 C 217.128 108.407,218.623 109.816,219.065 109.927 C 219.304 109.987,219.500 110.097,219.500 110.171 C 219.500 110.366,221.040 110.667,222.036 110.667 C 223.105 110.667,225.000 110.345,225.000 110.163 C 225.000 110.088,225.225 109.977,225.500 109.917 C 225.775 109.856,226.000 109.738,226.000 109.653 C 226.000 109.569,226.087 109.500,226.194 109.500 C 226.392 109.500,226.558 109.366,227.379 108.546 C 228.200 107.725,228.333 107.559,228.333 107.361 C 228.333 107.254,228.408 107.167,228.500 107.167 C 228.592 107.167,228.667 107.073,228.668 106.958 C 228.668 106.844,228.790 106.525,228.938 106.250 C 229.254 105.665,229.338 102.494,229.047 102.134 C 228.951 102.014,228.820 101.673,228.756 101.375 C 228.692 101.077,228.577 100.833,228.500 100.833 C 228.423 100.833,228.312 100.615,228.253 100.347 C 228.194 100.080,228.038 99.820,227.906 99.769 C 227.775 99.719,227.667 99.562,227.667 99.422 C 227.667 99.282,227.604 99.167,227.528 99.167 C 227.452 99.167,227.283 98.961,227.153 98.710 C 227.023 98.458,226.748 98.093,226.542 97.899 C 226.335 97.704,226.167 97.477,226.167 97.393 C 226.167 97.309,226.035 97.117,225.875 96.965 C 225.486 96.598,225.300 96.362,224.752 95.533 C 224.497 95.148,224.224 94.833,224.145 94.833 C 224.065 94.833,224.000 94.718,224.000 94.578 C 224.000 94.438,223.890 94.281,223.756 94.229 C 223.622 94.178,223.464 93.981,223.404 93.792 C 223.343 93.603,223.116 93.282,222.897 93.080 C 222.679 92.877,222.500 92.656,222.500 92.588 C 222.500 92.465,221.884 91.648,221.416 91.153 C 221.279 91.007,221.167 90.833,221.167 90.765 C 221.167 90.697,220.946 90.421,220.677 90.152 C 220.408 89.882,220.143 89.520,220.087 89.346 C 220.032 89.173,219.878 88.989,219.744 88.937 C 219.610 88.886,219.500 88.756,219.500 88.649 C 219.500 88.542,219.321 88.289,219.103 88.087 C 218.884 87.884,218.654 87.557,218.592 87.359 C 218.529 87.162,218.406 87.000,218.318 87.000 C 218.230 87.000,218.087 86.813,218.000 86.583 C 217.913 86.354,217.770 86.167,217.682 86.167 C 217.594 86.167,217.479 86.035,217.426 85.875 C 217.338 85.608,216.714 84.805,216.087 84.153 C 215.947 84.007,215.833 83.801,215.833 83.694 C 215.833 83.587,215.777 83.498,215.708 83.496 C 215.640 83.494,215.358 83.157,215.083 82.747 C 214.808 82.336,214.527 82.001,214.458 82.000 C 214.390 82.000,214.333 81.885,214.333 81.745 C 214.333 81.604,214.224 81.447,214.090 81.396 C 213.956 81.345,213.797 81.149,213.737 80.961 C 213.678 80.772,213.412 80.407,213.148 80.148 C 212.883 79.890,212.667 79.598,212.667 79.500 C 212.667 79.403,212.557 79.281,212.423 79.229 C 212.289 79.178,212.133 78.989,212.076 78.809 C 212.019 78.630,211.751 78.243,211.481 77.950 C 211.211 77.657,210.890 77.304,210.766 77.167 C 210.643 77.029,210.492 76.755,210.431 76.557 C 210.371 76.359,210.211 76.155,210.077 76.104 C 209.943 76.053,209.833 75.923,209.833 75.816 C 209.833 75.709,209.646 75.448,209.417 75.235 C 209.188 75.023,209.000 74.768,209.000 74.669 C 209.000 74.570,208.890 74.447,208.756 74.396 C 208.622 74.345,208.463 74.141,208.402 73.943 C 208.341 73.745,208.190 73.471,208.067 73.333 C 207.944 73.196,207.622 72.843,207.352 72.550 C 207.082 72.257,206.815 71.870,206.758 71.691 C 206.701 71.511,206.544 71.322,206.410 71.271 C 206.276 71.219,206.167 71.069,206.167 70.936 C 206.167 70.803,206.108 70.669,206.036 70.639 C 205.328 70.339,205.203 69.000,205.884 69.000 C 205.942 69.000,207.153 67.837,208.575 66.417 C 209.998 64.996,211.211 63.833,211.271 63.833 C 211.331 63.833,212.504 62.708,213.877 61.333 C 215.250 59.958,216.430 58.833,216.499 58.833 C 216.568 58.833,217.793 57.671,219.221 56.250 C 220.649 54.829,221.865 53.667,221.923 53.667 C 221.981 53.667,223.165 52.548,224.556 51.181 C 228.364 47.437,228.333 47.469,228.333 47.194 C 228.333 47.087,228.405 47.000,228.492 47.000 C 228.580 47.000,228.701 46.737,228.761 46.415 C 228.822 46.093,228.938 45.789,229.019 45.738 C 229.215 45.617,229.211 42.833,229.015 42.833 C 228.931 42.833,228.812 42.533,228.750 42.167 C 228.688 41.800,228.569 41.500,228.485 41.500 C 228.402 41.500,228.333 41.387,228.333 41.248 C 228.333 41.110,228.183 40.868,228.000 40.711 C 227.817 40.554,227.667 40.360,227.667 40.280 C 227.667 40.073,226.570 39.000,226.358 39.000 C 226.262 39.000,226.117 38.882,226.037 38.738 C 225.956 38.594,225.577 38.434,225.195 38.383 C 224.813 38.331,224.500 38.224,224.500 38.145 C 224.500 38.065,223.900 38.000,223.167 38.000 C 222.389 38.000,221.833 38.069,221.833 38.167 M112.578 40.806 C 114.400 41.266,115.579 41.626,116.275 41.934 C 116.564 42.062,116.883 42.167,116.983 42.167 C 117.455 42.167,121.429 44.395,122.917 45.494 C 126.777 48.346,129.915 52.396,131.314 56.333 C 131.526 56.929,131.762 57.567,131.839 57.750 C 133.638 62.031,133.742 70.154,132.063 75.298 C 131.469 77.115,130.262 79.723,129.726 80.346 C 129.602 80.491,129.500 80.658,129.500 80.716 C 129.500 81.019,127.916 83.061,126.612 84.438 C 124.283 86.899,121.598 88.849,118.667 90.208 C 116.509 91.208,116.215 91.333,116.014 91.333 C 115.912 91.333,115.699 91.404,115.539 91.491 C 114.007 92.327,109.100 93.158,104.958 93.283 L 102.333 93.363 102.333 94.175 C 102.333 102.931,97.857 108.975,90.447 110.224 C 88.019 110.634,34.122 110.647,32.472 110.239 C 27.298 108.958,24.378 106.032,23.334 101.083 C 23.085 99.904,22.793 63.378,22.949 52.917 C 23.109 42.189,23.051 42.700,24.260 41.418 C 25.362 40.249,21.494 40.339,68.500 40.386 L 111.083 40.428 112.578 40.806 M102.667 66.804 L 102.667 79.643 103.619 79.762 C 107.753 80.278,111.799 79.390,114.542 77.364 C 119.887 73.415,121.212 64.060,117.197 58.624 C 114.699 55.244,112.146 54.154,106.458 54.040 L 102.667 53.964 102.667 66.804 M259.125 54.613 C 258.598 54.652,258.167 54.744,258.167 54.818 C 258.167 54.892,257.702 55.001,257.134 55.060 C 256.567 55.120,256.060 55.234,256.009 55.314 C 255.958 55.394,255.523 55.513,255.042 55.579 C 254.560 55.644,254.167 55.754,254.167 55.822 C 254.167 55.891,253.754 56.039,253.250 56.152 C 252.746 56.265,252.333 56.419,252.333 56.493 C 252.333 56.568,252.071 56.679,251.750 56.739 C 251.429 56.799,251.167 56.914,251.167 56.994 C 251.167 57.075,250.942 57.190,250.667 57.250 C 250.392 57.310,250.167 57.421,250.167 57.495 C 250.167 57.570,249.961 57.682,249.710 57.745 C 249.459 57.808,249.215 57.915,249.168 57.983 C 249.122 58.050,248.671 58.341,248.167 58.630 C 247.313 59.118,246.622 59.630,245.986 60.245 C 245.841 60.385,245.673 60.500,245.613 60.500 C 245.471 60.500,244.859 60.999,244.518 61.393 C 244.371 61.563,243.669 62.282,242.958 62.991 C 242.248 63.699,241.667 64.341,241.667 64.417 C 241.667 64.493,241.553 64.674,241.413 64.819 C 240.688 65.574,240.152 66.290,240.063 66.625 C 240.009 66.831,239.903 67.000,239.828 67.000 C 239.754 67.000,239.606 67.262,239.500 67.583 C 239.394 67.904,239.240 68.167,239.157 68.167 C 239.074 68.167,238.959 68.354,238.902 68.583 C 238.844 68.813,238.736 69.000,238.662 69.000 C 238.587 69.000,238.477 69.225,238.417 69.500 C 238.356 69.775,238.241 70.000,238.161 70.000 C 238.081 70.000,237.966 70.262,237.906 70.583 C 237.845 70.904,237.733 71.167,237.656 71.167 C 237.578 71.167,237.466 71.429,237.406 71.750 C 237.345 72.071,237.238 72.333,237.167 72.333 C 237.096 72.333,236.946 72.821,236.833 73.417 C 236.721 74.012,236.570 74.500,236.497 74.500 C 236.425 74.500,236.312 74.969,236.246 75.542 C 236.180 76.115,236.064 76.623,235.988 76.672 C 235.911 76.720,235.797 77.564,235.733 78.547 C 235.670 79.529,235.554 80.333,235.475 80.333 C 235.290 80.333,235.289 85.953,235.474 86.068 C 235.552 86.116,235.663 86.884,235.722 87.774 C 235.781 88.665,235.895 89.437,235.977 89.489 C 236.059 89.541,236.180 90.052,236.246 90.625 C 236.312 91.198,236.417 91.667,236.478 91.667 C 236.540 91.667,236.678 92.128,236.785 92.692 C 236.893 93.257,237.048 93.763,237.131 93.817 C 237.214 93.872,237.333 94.142,237.394 94.417 C 237.510 94.931,238.496 97.017,238.695 97.168 C 238.757 97.215,238.858 97.459,238.922 97.710 C 238.985 97.961,239.094 98.167,239.165 98.167 C 239.235 98.167,239.391 98.410,239.512 98.708 C 239.632 99.006,239.773 99.287,239.824 99.333 C 240.014 99.504,240.667 100.491,240.674 100.618 C 240.678 100.691,240.903 100.934,241.174 101.159 C 241.445 101.384,241.667 101.648,241.667 101.745 C 241.667 101.910,242.718 103.064,243.437 103.689 C 243.609 103.838,244.118 104.344,244.568 104.814 C 245.017 105.283,245.471 105.667,245.575 105.667 C 245.680 105.667,245.950 105.888,246.174 106.160 C 246.399 106.431,246.643 106.656,246.715 106.660 C 246.834 106.666,247.794 107.294,248.000 107.500 C 248.046 107.546,248.533 107.808,249.083 108.083 C 249.633 108.358,250.122 108.634,250.168 108.695 C 250.215 108.757,250.459 108.858,250.710 108.922 C 250.961 108.985,251.167 109.095,251.167 109.166 C 251.167 109.238,251.429 109.345,251.750 109.406 C 252.071 109.466,252.333 109.587,252.333 109.674 C 252.333 109.762,252.450 109.833,252.592 109.833 C 252.735 109.833,253.166 109.976,253.551 110.151 C 253.935 110.325,254.681 110.521,255.208 110.586 C 255.735 110.652,256.167 110.765,256.167 110.839 C 256.167 110.913,256.673 111.027,257.292 111.092 C 257.910 111.158,258.470 111.295,258.536 111.397 C 258.706 111.664,268.298 111.659,268.464 111.392 C 268.530 111.287,269.090 111.147,269.708 111.081 C 270.327 111.015,270.833 110.912,270.833 110.852 C 270.833 110.792,271.336 110.647,271.950 110.531 C 272.564 110.414,273.145 110.256,273.242 110.179 C 273.338 110.102,273.660 109.986,273.958 109.923 C 274.256 109.859,274.500 109.746,274.500 109.672 C 274.500 109.598,274.762 109.488,275.083 109.428 C 275.404 109.367,275.667 109.253,275.667 109.172 C 275.667 109.092,275.892 108.977,276.167 108.917 C 276.442 108.856,276.667 108.746,276.667 108.671 C 276.667 108.597,276.868 108.486,277.115 108.424 C 277.361 108.362,277.767 108.166,278.016 107.989 C 278.264 107.812,278.550 107.667,278.651 107.667 C 278.751 107.667,278.833 107.592,278.833 107.500 C 278.833 107.408,278.911 107.333,279.007 107.333 C 279.227 107.333,280.207 106.651,280.383 106.375 C 280.457 106.260,280.593 106.167,280.687 106.167 C 280.781 106.167,280.952 106.073,281.068 105.958 C 281.184 105.844,281.486 105.600,281.740 105.417 C 282.480 104.882,284.833 102.506,284.840 102.285 C 284.844 102.174,285.069 101.899,285.340 101.674 C 285.612 101.450,285.833 101.210,285.833 101.141 C 285.833 101.073,286.005 100.832,286.214 100.606 C 286.424 100.380,286.705 99.983,286.839 99.723 C 286.973 99.463,287.120 99.212,287.166 99.167 C 287.335 98.998,287.684 98.404,287.876 97.958 C 287.984 97.706,288.126 97.500,288.190 97.500 C 288.254 97.500,288.356 97.275,288.417 97.000 C 288.477 96.725,288.596 96.500,288.680 96.500 C 288.764 96.500,288.833 96.403,288.833 96.285 C 288.833 96.167,288.979 95.785,289.157 95.436 C 289.335 95.086,289.528 94.583,289.587 94.317 C 289.645 94.051,289.760 93.833,289.841 93.833 C 289.922 93.833,290.038 93.458,290.099 93.000 C 290.160 92.542,290.266 92.167,290.336 92.167 C 290.405 92.167,290.515 91.810,290.580 91.375 C 290.645 90.940,290.761 90.506,290.839 90.412 C 290.916 90.318,291.033 89.643,291.097 88.912 C 291.162 88.181,291.291 87.535,291.382 87.475 C 291.612 87.326,291.609 78.838,291.380 78.692 C 291.287 78.632,291.157 78.002,291.091 77.292 C 291.025 76.581,290.913 76.000,290.841 76.000 C 290.769 76.000,290.659 75.550,290.597 75.000 C 290.534 74.450,290.419 74.000,290.340 74.000 C 290.261 74.000,290.145 73.700,290.083 73.333 C 290.021 72.967,289.911 72.667,289.838 72.667 C 289.764 72.667,289.654 72.329,289.592 71.917 C 289.530 71.504,289.419 71.167,289.345 71.167 C 289.271 71.167,289.115 70.829,289.000 70.417 C 288.885 70.004,288.731 69.667,288.658 69.667 C 288.586 69.667,288.477 69.442,288.417 69.167 C 288.356 68.892,288.238 68.667,288.153 68.667 C 288.069 68.667,288.000 68.566,288.000 68.442 C 288.000 68.319,287.850 68.045,287.667 67.833 C 287.483 67.622,287.333 67.356,287.333 67.242 C 287.333 67.129,287.221 66.992,287.083 66.940 C 286.946 66.887,286.833 66.740,286.833 66.614 C 286.833 66.412,286.682 66.187,286.003 65.382 C 285.910 65.271,285.833 65.129,285.833 65.066 C 285.833 65.002,285.571 64.695,285.250 64.384 C 284.929 64.072,284.667 63.764,284.667 63.700 C 284.667 63.511,282.991 61.817,281.996 61.000 C 281.494 60.587,281.058 60.194,281.028 60.125 C 280.997 60.056,280.870 60.000,280.744 60.000 C 280.619 60.000,280.457 59.906,280.383 59.792 C 280.207 59.516,279.227 58.833,279.007 58.833 C 278.911 58.833,278.833 58.772,278.833 58.698 C 278.833 58.623,278.571 58.459,278.250 58.333 C 277.929 58.207,277.667 58.049,277.667 57.982 C 277.667 57.915,277.442 57.810,277.167 57.750 C 276.892 57.690,276.667 57.577,276.667 57.500 C 276.667 57.423,276.442 57.310,276.167 57.250 C 275.892 57.190,275.667 57.077,275.667 57.000 C 275.667 56.923,275.442 56.810,275.167 56.750 C 274.892 56.690,274.667 56.579,274.667 56.505 C 274.667 56.430,274.179 56.273,273.583 56.154 C 272.987 56.036,272.500 55.882,272.500 55.813 C 272.500 55.744,272.144 55.635,271.708 55.570 C 271.273 55.506,270.876 55.392,270.827 55.316 C 270.778 55.240,270.290 55.126,269.744 55.064 C 269.197 55.001,268.699 54.872,268.638 54.777 C 268.523 54.601,261.039 54.472,259.125 54.613 M388.417 55.613 C 388.143 55.659,387.880 55.747,387.834 55.808 C 387.788 55.869,387.464 56.018,387.114 56.141 C 386.421 56.383,384.752 57.964,384.569 58.552 C 384.506 58.753,384.391 58.958,384.312 59.009 C 384.233 59.060,384.120 59.567,384.060 60.134 C 384.001 60.702,383.888 61.167,383.810 61.167 C 383.731 61.167,383.667 71.011,383.667 83.083 C 383.667 95.156,383.731 105.000,383.810 105.000 C 383.888 105.000,384.001 105.465,384.060 106.032 C 384.120 106.600,384.224 107.106,384.293 107.157 C 384.361 107.208,384.530 107.470,384.667 107.739 C 385.001 108.394,386.396 109.778,386.870 109.926 C 387.079 109.992,387.297 110.118,387.354 110.206 C 387.888 111.036,393.825 110.503,393.832 109.625 C 393.833 109.556,393.923 109.500,394.032 109.500 C 394.263 109.500,395.833 107.827,395.833 107.581 C 395.833 107.526,395.984 107.150,396.169 106.745 C 396.575 105.854,396.626 59.617,396.222 59.367 C 396.114 59.301,395.975 59.041,395.912 58.790 C 395.849 58.539,395.730 58.333,395.649 58.333 C 395.567 58.333,395.500 58.248,395.500 58.144 C 395.500 57.820,393.862 56.326,393.293 56.131 C 392.994 56.029,392.703 55.874,392.645 55.787 C 392.530 55.614,389.221 55.477,388.417 55.613 M72.000 56.993 C 69.075 57.531,65.515 59.447,63.509 61.561 C 62.784 62.326,62.811 62.330,61.781 61.319 C 56.325 55.968,47.483 55.556,42.745 60.432 C 38.944 64.344,39.454 72.716,43.815 78.000 C 45.296 79.796,50.454 84.968,53.667 87.880 C 54.079 88.254,55.138 89.240,56.019 90.071 C 57.420 91.393,58.485 92.383,61.515 95.180 C 62.577 96.161,63.132 96.102,64.417 94.871 C 64.967 94.344,66.542 92.863,67.917 91.581 C 76.085 83.966,82.277 77.369,83.649 74.820 C 87.144 68.330,85.370 61.243,79.500 58.243 C 77.319 57.129,74.140 56.599,72.000 56.993 M264.167 66.143 C 264.167 66.221,264.858 66.338,265.704 66.402 C 266.549 66.465,267.281 66.579,267.329 66.655 C 267.377 66.730,267.679 66.848,268.000 66.917 C 268.321 66.986,268.731 67.146,268.912 67.271 C 269.093 67.397,269.412 67.500,269.620 67.500 C 269.829 67.500,270.000 67.570,270.000 67.656 C 270.000 67.742,270.262 67.907,270.583 68.023 C 270.904 68.139,271.167 68.294,271.167 68.367 C 271.167 68.440,271.282 68.500,271.422 68.500 C 271.562 68.500,271.719 68.610,271.771 68.744 C 271.822 68.878,271.997 69.029,272.159 69.081 C 272.768 69.274,275.667 72.366,275.667 72.822 C 275.667 72.920,275.740 73.000,275.830 73.000 C 275.920 73.000,276.041 73.188,276.098 73.417 C 276.156 73.646,276.270 73.833,276.351 73.833 C 276.433 73.833,276.500 73.948,276.500 74.089 C 276.500 74.229,276.608 74.385,276.740 74.436 C 276.872 74.486,277.032 74.764,277.095 75.053 C 277.158 75.342,277.306 75.730,277.423 75.914 C 277.539 76.099,277.686 76.569,277.749 76.958 C 277.811 77.348,277.924 77.667,277.998 77.667 C 278.073 77.667,278.188 78.135,278.254 78.708 C 278.320 79.281,278.456 79.802,278.556 79.866 C 278.814 80.028,278.800 86.481,278.542 86.641 C 278.439 86.704,278.303 87.149,278.239 87.628 C 278.176 88.108,278.068 88.500,278.000 88.500 C 277.932 88.500,277.825 88.819,277.763 89.208 C 277.701 89.598,277.553 90.067,277.435 90.250 C 277.316 90.433,277.167 90.796,277.103 91.056 C 276.995 91.494,276.894 91.661,276.397 92.222 C 276.294 92.338,276.158 92.597,276.094 92.799 C 276.030 93.001,275.908 93.167,275.822 93.167 C 275.737 93.167,275.667 93.247,275.667 93.344 C 275.667 93.798,273.562 96.074,272.429 96.846 C 272.103 97.068,271.835 97.306,271.834 97.375 C 271.834 97.444,271.718 97.500,271.578 97.500 C 271.438 97.500,271.281 97.608,271.231 97.740 C 271.180 97.872,270.920 98.028,270.653 98.086 C 270.385 98.145,270.167 98.252,270.167 98.325 C 270.167 98.397,269.827 98.552,269.412 98.668 C 268.998 98.784,268.622 98.937,268.578 99.008 C 268.534 99.079,268.180 99.191,267.791 99.256 C 267.402 99.321,267.030 99.459,266.964 99.562 C 266.799 99.823,260.203 99.825,260.036 99.565 C 259.970 99.463,259.560 99.327,259.125 99.263 C 258.690 99.199,258.333 99.086,258.333 99.011 C 258.333 98.937,257.996 98.782,257.583 98.667 C 257.171 98.551,256.833 98.400,256.833 98.330 C 256.833 98.260,256.639 98.154,256.402 98.095 C 255.997 97.993,255.824 97.884,255.256 97.375 C 255.128 97.260,254.960 97.167,254.882 97.167 C 254.804 97.167,254.624 97.035,254.481 96.875 C 254.141 96.492,253.293 95.833,253.142 95.833 C 253.076 95.833,252.978 95.694,252.924 95.524 C 252.870 95.354,252.600 94.998,252.323 94.733 C 251.780 94.212,250.667 92.597,250.667 92.330 C 250.667 92.240,250.598 92.167,250.513 92.167 C 250.429 92.167,250.310 91.942,250.250 91.667 C 250.190 91.392,250.077 91.167,250.000 91.167 C 249.923 91.167,249.810 90.942,249.750 90.667 C 249.690 90.392,249.579 90.167,249.505 90.167 C 249.431 90.167,249.318 89.886,249.253 89.542 C 249.189 89.199,249.073 88.879,248.996 88.831 C 248.920 88.784,248.771 88.071,248.666 87.247 C 248.562 86.424,248.406 85.620,248.321 85.461 C 248.135 85.111,248.112 80.833,248.297 80.833 C 248.368 80.833,248.518 80.069,248.630 79.135 C 248.742 78.201,248.901 77.394,248.985 77.343 C 249.068 77.291,249.189 76.968,249.253 76.625 C 249.318 76.281,249.431 76.000,249.505 76.000 C 249.579 76.000,249.690 75.775,249.750 75.500 C 249.810 75.225,249.923 75.000,250.000 75.000 C 250.077 75.000,250.190 74.775,250.250 74.500 C 250.310 74.225,250.429 74.000,250.513 74.000 C 250.598 74.000,250.667 73.923,250.667 73.830 C 250.667 73.614,251.465 72.381,251.958 71.835 C 252.165 71.607,252.333 71.371,252.333 71.312 C 252.333 71.108,253.824 69.692,254.146 69.590 C 254.324 69.533,254.511 69.378,254.563 69.244 C 254.614 69.110,254.739 69.000,254.840 69.000 C 254.941 69.000,255.128 68.906,255.256 68.792 C 255.783 68.320,255.963 68.209,256.918 67.775 C 257.467 67.525,258.039 67.253,258.188 67.172 C 258.337 67.090,258.749 66.969,259.104 66.904 C 259.460 66.839,259.797 66.713,259.854 66.626 C 259.911 66.538,260.607 66.425,261.400 66.376 C 262.194 66.326,262.883 66.221,262.931 66.143 C 263.046 65.957,264.167 65.957,264.167 66.143 M303.875 72.949 C 303.669 72.990,303.500 73.085,303.500 73.160 C 303.500 73.236,303.331 73.340,303.125 73.393 C 302.919 73.446,302.547 73.679,302.299 73.911 C 302.051 74.143,301.772 74.333,301.680 74.333 C 301.587 74.333,301.422 74.501,301.313 74.705 C 301.204 74.909,301.013 75.177,300.890 75.300 C 300.767 75.423,300.667 75.631,300.667 75.762 C 300.667 75.893,300.595 76.000,300.508 76.000 C 300.420 76.000,300.299 76.262,300.239 76.583 C 300.179 76.904,300.063 77.167,299.981 77.167 C 299.900 77.167,299.833 78.029,299.833 79.083 C 299.833 80.250,299.899 81.000,300.000 81.000 C 300.092 81.000,300.167 81.182,300.167 81.405 C 300.167 81.627,300.279 81.922,300.417 82.060 C 300.554 82.197,300.667 82.379,300.667 82.465 C 300.667 82.804,302.139 84.159,303.083 84.689 L 304.083 85.250 315.298 85.250 C 323.364 85.250,326.546 85.198,326.631 85.064 C 326.696 84.962,326.938 84.821,327.167 84.751 C 328.276 84.411,330.000 82.630,330.000 81.824 C 330.000 81.661,330.094 81.496,330.208 81.458 C 330.494 81.363,330.506 76.877,330.222 76.701 C 330.114 76.634,329.973 76.368,329.908 76.110 C 329.844 75.851,329.688 75.600,329.562 75.552 C 329.436 75.504,329.333 75.389,329.333 75.296 C 329.333 75.066,328.085 73.833,327.853 73.833 C 327.750 73.833,327.667 73.766,327.667 73.685 C 327.667 73.603,327.461 73.485,327.210 73.422 C 326.959 73.358,326.699 73.219,326.633 73.112 C 326.515 72.920,304.801 72.765,303.875 72.949 " stroke="none" fill="#31A3FF" fill-rule="evenodd"></path>
    <path id="path2" d="M108.208 40.448 C 108.369 40.490,108.631 40.490,108.792 40.448 C 108.952 40.406,108.821 40.372,108.500 40.372 C 108.179 40.372,108.048 40.406,108.208 40.448 M109.627 40.618 C 109.834 40.658,110.134 40.656,110.294 40.615 C 110.453 40.573,110.283 40.540,109.917 40.542 C 109.550 40.544,109.420 40.578,109.627 40.618 M126.083 48.500 C 126.441 48.867,126.772 49.167,126.818 49.167 C 126.863 49.167,126.608 48.867,126.250 48.500 C 125.892 48.133,125.562 47.833,125.516 47.833 C 125.470 47.833,125.725 48.133,126.083 48.500 M102.533 53.867 C 102.244 54.156,102.244 79.510,102.533 79.800 C 102.645 79.911,103.106 79.988,103.575 79.973 L 104.417 79.946 103.500 79.848 L 102.583 79.750 102.583 66.833 L 102.583 53.917 105.417 53.827 L 108.250 53.738 105.492 53.702 C 103.527 53.677,102.676 53.724,102.533 53.867 M23.078 65.750 C 23.078 70.883,23.099 73.007,23.125 70.470 C 23.151 67.933,23.151 63.733,23.125 61.137 C 23.099 58.541,23.078 60.617,23.078 65.750 M116.160 57.208 C 116.850 57.944,117.000 58.077,117.000 57.951 C 117.000 57.925,116.644 57.568,116.208 57.160 L 115.417 56.417 116.160 57.208 M73.048 56.790 C 73.578 56.823,74.403 56.823,74.881 56.789 C 75.359 56.756,74.925 56.729,73.917 56.729 C 72.908 56.729,72.517 56.757,73.048 56.790 M61.786 61.166 C 62.264 61.662,62.679 62.034,62.710 61.992 C 62.740 61.951,62.349 61.545,61.841 61.091 L 60.917 60.265 61.786 61.166 M119.542 64.250 C 119.544 64.617,119.578 64.747,119.618 64.540 C 119.658 64.332,119.656 64.032,119.615 63.873 C 119.573 63.714,119.540 63.883,119.542 64.250 M133.052 65.083 C 133.053 65.633,133.084 65.838,133.121 65.539 C 133.158 65.239,133.157 64.789,133.119 64.539 C 133.081 64.288,133.051 64.533,133.052 65.083 M40.042 66.083 C 40.044 66.450,40.078 66.580,40.118 66.373 C 40.158 66.166,40.156 65.866,40.115 65.706 C 40.073 65.547,40.040 65.717,40.042 66.083 M85.548 68.083 C 85.549 68.542,85.581 68.709,85.620 68.456 C 85.658 68.203,85.657 67.828,85.617 67.623 C 85.578 67.418,85.546 67.625,85.548 68.083 M119.545 68.000 C 119.545 68.412,119.578 68.581,119.618 68.375 C 119.657 68.169,119.657 67.831,119.618 67.625 C 119.578 67.419,119.545 67.587,119.545 68.000 M133.050 69.167 C 133.050 69.671,133.081 69.877,133.119 69.625 C 133.158 69.373,133.158 68.960,133.119 68.708 C 133.081 68.456,133.050 68.662,133.050 69.167 M40.042 69.417 C 40.044 69.783,40.078 69.914,40.118 69.706 C 40.158 69.499,40.156 69.199,40.115 69.040 C 40.073 68.880,40.040 69.050,40.042 69.417 M115.910 76.375 L 115.083 77.250 115.958 76.423 C 116.771 75.654,116.910 75.500,116.785 75.500 C 116.759 75.500,116.365 75.894,115.910 76.375 M43.667 78.219 C 43.667 78.248,43.910 78.491,44.208 78.760 L 44.750 79.250 44.260 78.708 C 43.804 78.203,43.667 78.090,43.667 78.219 M79.329 80.458 L 78.250 81.583 79.375 80.505 C 79.994 79.912,80.500 79.405,80.500 79.380 C 80.500 79.257,80.330 79.413,79.329 80.458 M108.000 79.833 L 106.917 79.942 107.833 79.959 C 108.337 79.968,109.087 79.915,109.500 79.842 C 110.460 79.671,109.656 79.666,108.000 79.833 M47.833 82.583 C 49.344 84.096,50.617 85.333,50.663 85.333 C 50.709 85.333,49.510 84.096,48.000 82.583 C 46.490 81.071,45.216 79.833,45.170 79.833 C 45.125 79.833,46.323 81.071,47.833 82.583 M52.333 86.917 C 52.644 87.237,52.936 87.500,52.982 87.500 C 53.028 87.500,52.811 87.237,52.500 86.917 C 52.189 86.596,51.897 86.333,51.851 86.333 C 51.805 86.333,52.022 86.596,52.333 86.917 M70.580 89.208 L 69.083 90.750 70.625 89.253 C 72.057 87.864,72.243 87.667,72.122 87.667 C 72.097 87.667,71.403 88.360,70.580 89.208 M55.083 89.500 C 55.441 89.867,55.772 90.167,55.818 90.167 C 55.863 90.167,55.608 89.867,55.250 89.500 C 54.892 89.133,54.562 88.833,54.516 88.833 C 54.470 88.833,54.725 89.133,55.083 89.500 M57.167 91.385 C 57.167 91.414,57.410 91.658,57.708 91.927 L 58.250 92.417 57.760 91.875 C 57.304 91.370,57.167 91.257,57.167 91.385 M67.242 92.375 L 66.583 93.083 67.292 92.425 C 67.950 91.812,68.077 91.667,67.950 91.667 C 67.923 91.667,67.605 91.985,67.242 92.375 M59.000 93.052 C 59.000 93.081,59.244 93.325,59.542 93.594 L 60.083 94.083 59.594 93.542 C 59.138 93.037,59.000 92.923,59.000 93.052 M106.375 93.115 C 106.535 93.157,106.798 93.157,106.958 93.115 C 107.119 93.073,106.987 93.039,106.667 93.039 C 106.346 93.039,106.215 93.073,106.375 93.115 M64.500 94.917 C 64.095 95.329,63.801 95.667,63.847 95.667 C 63.893 95.667,64.262 95.329,64.667 94.917 C 65.072 94.504,65.365 94.167,65.319 94.167 C 65.274 94.167,64.905 94.504,64.500 94.917 M101.872 97.333 C 101.872 97.654,101.906 97.785,101.948 97.625 C 101.990 97.465,101.990 97.202,101.948 97.042 C 101.906 96.881,101.872 97.013,101.872 97.333 M23.225 98.500 C 23.225 99.279,23.254 99.598,23.289 99.208 C 23.324 98.819,23.324 98.181,23.289 97.792 C 23.254 97.402,23.225 97.721,23.225 98.500 M98.406 105.708 L 97.917 106.250 98.458 105.760 C 98.756 105.491,99.000 105.248,99.000 105.219 C 99.000 105.090,98.862 105.203,98.406 105.708 M26.333 106.917 C 26.644 107.237,26.936 107.500,26.982 107.500 C 27.028 107.500,26.811 107.237,26.500 106.917 C 26.189 106.596,25.897 106.333,25.851 106.333 C 25.805 106.333,26.022 106.596,26.333 106.917 M31.917 110.000 C 32.100 110.079,32.362 110.143,32.500 110.143 C 32.658 110.143,32.627 110.090,32.417 110.000 C 32.233 109.921,31.971 109.857,31.833 109.857 C 31.676 109.857,31.707 109.910,31.917 110.000 M83.718 110.291 C 84.800 110.320,86.525 110.320,87.551 110.291 C 88.577 110.262,87.692 110.238,85.583 110.238 C 83.475 110.238,82.635 110.262,83.718 110.291 M38.697 110.458 C 41.142 110.484,45.192 110.484,47.697 110.458 C 50.201 110.432,48.200 110.411,43.250 110.411 C 38.300 110.411,36.251 110.432,38.697 110.458 " stroke="none" fill="#848484" fill-rule="evenodd"></path>
    <path id="path3" d="M23.076 50.083 C 23.076 53.567,23.098 55.015,23.125 53.303 C 23.152 51.590,23.152 48.740,23.125 46.969 C 23.098 45.199,23.076 46.600,23.076 50.083 M102.577 54.042 C 102.533 54.156,102.517 59.987,102.540 67.000 L 102.583 79.750 103.044 79.770 C 103.465 79.789,103.469 79.784,103.085 79.718 L 102.667 79.645 102.667 66.826 L 102.667 54.007 105.958 53.958 L 109.250 53.909 105.953 53.871 C 103.441 53.842,102.637 53.883,102.577 54.042 M22.911 65.833 C 22.911 71.012,22.932 73.131,22.958 70.542 C 22.984 67.952,22.984 63.715,22.958 61.125 C 22.932 58.535,22.911 60.654,22.911 65.833 M115.993 57.208 C 116.402 57.644,116.758 58.000,116.785 58.000 C 116.910 58.000,116.778 57.850,116.042 57.160 L 115.250 56.417 115.993 57.208 M63.658 61.267 C 63.342 61.597,62.933 61.929,62.750 62.006 C 62.519 62.103,62.495 62.149,62.674 62.156 C 62.815 62.162,63.262 61.829,63.667 61.417 C 64.072 61.004,64.364 60.667,64.317 60.667 C 64.270 60.667,63.974 60.937,63.658 61.267 M119.023 62.333 C 119.023 62.471,119.088 62.733,119.167 62.917 C 119.257 63.127,119.310 63.158,119.310 63.000 C 119.310 62.862,119.245 62.600,119.167 62.417 C 119.076 62.207,119.023 62.176,119.023 62.333 M133.205 65.500 C 133.205 65.821,133.240 65.952,133.282 65.792 C 133.323 65.631,133.323 65.369,133.282 65.208 C 133.240 65.048,133.205 65.179,133.205 65.500 M85.195 65.750 C 85.192 65.933,85.255 66.233,85.333 66.417 C 85.516 66.841,85.516 66.403,85.333 65.833 C 85.226 65.498,85.199 65.482,85.195 65.750 M85.259 69.926 C 85.197 70.260,85.179 70.567,85.219 70.608 C 85.260 70.649,85.345 70.409,85.407 70.074 C 85.470 69.740,85.488 69.433,85.447 69.392 C 85.407 69.351,85.322 69.591,85.259 69.926 M119.104 69.854 C 118.965 70.549,119.100 70.684,119.250 70.000 C 119.313 69.712,119.330 69.441,119.288 69.399 C 119.245 69.357,119.163 69.561,119.104 69.854 M40.357 70.833 C 40.357 70.971,40.421 71.233,40.500 71.417 C 40.590 71.627,40.643 71.658,40.643 71.500 C 40.643 71.362,40.579 71.100,40.500 70.917 C 40.410 70.707,40.357 70.676,40.357 70.833 M84.685 72.352 C 84.583 72.646,84.528 72.917,84.563 72.952 C 84.599 72.988,84.712 72.776,84.815 72.481 C 84.917 72.187,84.972 71.917,84.937 71.881 C 84.901 71.845,84.788 72.057,84.685 72.352 M23.077 83.000 C 23.077 87.263,23.098 89.006,23.125 86.875 C 23.151 84.744,23.151 81.256,23.125 79.125 C 23.098 76.994,23.077 78.737,23.077 83.000 M115.833 76.250 C 115.428 76.662,115.135 77.000,115.181 77.000 C 115.226 77.000,115.595 76.662,116.000 76.250 C 116.405 75.837,116.699 75.500,116.653 75.500 C 116.607 75.500,116.238 75.837,115.833 76.250 M81.073 78.375 L 80.583 78.917 81.125 78.427 C 81.423 78.158,81.667 77.914,81.667 77.885 C 81.667 77.757,81.529 77.870,81.073 78.375 M79.573 80.042 L 79.083 80.583 79.625 80.094 C 80.130 79.638,80.243 79.500,80.115 79.500 C 80.086 79.500,79.842 79.744,79.573 80.042 M45.826 80.375 C 46.517 81.111,46.667 81.243,46.667 81.118 C 46.667 81.091,46.310 80.735,45.875 80.326 L 45.083 79.583 45.826 80.375 M108.042 79.782 C 108.202 79.823,108.465 79.823,108.625 79.782 C 108.785 79.740,108.654 79.705,108.333 79.705 C 108.013 79.705,107.881 79.740,108.042 79.782 M105.121 79.954 C 105.417 79.990,105.942 79.991,106.288 79.955 C 106.634 79.919,106.392 79.889,105.750 79.888 C 105.108 79.887,104.825 79.917,105.121 79.954 M49.167 83.750 C 49.942 84.529,50.613 85.167,50.659 85.167 C 50.705 85.167,50.108 84.529,49.333 83.750 C 48.558 82.971,47.887 82.333,47.841 82.333 C 47.795 82.333,48.392 82.971,49.167 83.750 M124.906 86.042 L 124.417 86.583 124.958 86.094 C 125.256 85.825,125.500 85.581,125.500 85.552 C 125.500 85.423,125.362 85.537,124.906 86.042 M53.333 87.750 C 53.644 88.071,53.936 88.333,53.982 88.333 C 54.028 88.333,53.811 88.071,53.500 87.750 C 53.189 87.429,52.897 87.167,52.851 87.167 C 52.805 87.167,53.022 87.429,53.333 87.750 M55.083 89.333 C 55.628 89.883,56.110 90.333,56.156 90.333 C 56.202 90.333,55.794 89.883,55.250 89.333 C 54.706 88.783,54.223 88.333,54.177 88.333 C 54.131 88.333,54.539 88.783,55.083 89.333 M69.575 90.042 L 68.917 90.750 69.625 90.091 C 70.015 89.729,70.333 89.410,70.333 89.383 C 70.333 89.257,70.188 89.383,69.575 90.042 M57.870 91.922 C 58.119 92.184,58.353 92.365,58.390 92.324 C 58.426 92.284,58.222 92.069,57.936 91.848 L 57.417 91.445 57.870 91.922 M66.911 92.542 L 65.917 93.583 66.958 92.589 C 67.926 91.664,68.076 91.500,67.953 91.500 C 67.927 91.500,67.459 91.969,66.911 92.542 M110.750 92.667 C 110.540 92.757,110.509 92.810,110.667 92.810 C 110.804 92.810,111.067 92.745,111.250 92.667 C 111.460 92.576,111.491 92.523,111.333 92.523 C 111.196 92.523,110.933 92.588,110.750 92.667 M102.200 94.458 L 102.233 95.750 102.290 94.546 L 102.348 93.342 104.799 93.291 L 107.250 93.240 104.708 93.204 L 102.167 93.167 102.200 94.458 M59.833 93.719 C 59.833 93.748,60.077 93.991,60.375 94.260 L 60.917 94.750 60.427 94.208 C 59.971 93.703,59.833 93.590,59.833 93.719 M64.573 94.708 L 64.083 95.250 64.625 94.760 C 65.130 94.304,65.243 94.167,65.115 94.167 C 65.086 94.167,64.842 94.410,64.573 94.708 M101.750 98.667 C 101.687 98.955,101.670 99.225,101.712 99.268 C 101.755 99.310,101.837 99.105,101.896 98.813 C 101.954 98.520,101.971 98.249,101.934 98.211 C 101.896 98.174,101.813 98.379,101.750 98.667 M33.375 110.448 C 33.535 110.490,33.798 110.490,33.958 110.448 C 34.119 110.406,33.987 110.372,33.667 110.372 C 33.346 110.372,33.215 110.406,33.375 110.448 M61.721 110.458 C 66.839 110.483,75.164 110.483,80.221 110.458 C 85.279 110.434,81.092 110.414,70.917 110.414 C 60.742 110.414,56.604 110.434,61.721 110.458 " stroke="none" fill="#525252" fill-rule="evenodd"></path>
    <path id="path4" d="M50.875 56.953 C 51.127 56.991,51.540 56.991,51.792 56.953 C 52.044 56.915,51.837 56.883,51.333 56.883 C 50.829 56.883,50.623 56.915,50.875 56.953 M82.333 60.250 C 82.644 60.571,82.936 60.833,82.982 60.833 C 83.028 60.833,82.811 60.571,82.500 60.250 C 82.189 59.929,81.897 59.667,81.851 59.667 C 81.805 59.667,82.022 59.929,82.333 60.250 M119.557 66.083 C 119.558 66.817,119.587 67.096,119.622 66.704 C 119.657 66.312,119.657 65.712,119.621 65.371 C 119.585 65.029,119.557 65.350,119.557 66.083 M133.223 67.167 C 133.223 67.854,133.252 68.135,133.288 67.792 C 133.324 67.448,133.324 66.885,133.288 66.542 C 133.252 66.198,133.223 66.479,133.223 67.167 M40.055 67.750 C 40.055 68.392,40.086 68.634,40.122 68.288 C 40.158 67.942,40.157 67.417,40.120 67.121 C 40.083 66.825,40.054 67.108,40.055 67.750 M75.165 84.625 L 72.083 87.750 75.208 84.668 C 78.112 81.805,78.409 81.500,78.290 81.500 C 78.266 81.500,76.860 82.906,75.165 84.625 M60.833 94.719 C 60.833 94.748,61.077 94.991,61.375 95.260 L 61.917 95.750 61.427 95.208 C 60.971 94.703,60.833 94.590,60.833 94.719 " stroke="none" fill="#7c7c7c" fill-rule="evenodd"></path>
  </g>
</svg>
`});var cy=K4((yi,rf)=>{(function(t,e){typeof yi=="object"&&typeof rf=="object"?rf.exports=e():typeof define=="function"&&define.amd?define([],e):typeof yi=="object"?yi.Pickr=e():t.Pickr=e()})(self,()=>(()=>{"use strict";var t={d:(w,M)=>{for(var z in M)t.o(M,z)&&!t.o(w,z)&&Object.defineProperty(w,z,{enumerable:!0,get:M[z]})},o:(w,M)=>Object.prototype.hasOwnProperty.call(w,M),r:w=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})}},e={};t.d(e,{default:()=>_});var a={};function r(w,M,z,k,T={}){M instanceof HTMLCollection||M instanceof NodeList?M=Array.from(M):Array.isArray(M)||(M=[M]),Array.isArray(z)||(z=[z]);for(let S of M)for(let R of z)S[w](R,k,{capture:!1,...T});return Array.prototype.slice.call(arguments,1)}t.r(a),t.d(a,{adjustableInputNumbers:()=>d,createElementFromString:()=>i,createFromTemplate:()=>l,eventPath:()=>c,off:()=>n,on:()=>o,resolveElement:()=>s});let o=r.bind(null,"addEventListener"),n=r.bind(null,"removeEventListener");function i(w){let M=document.createElement("div");return M.innerHTML=w.trim(),M.firstElementChild}function l(w){let M=(k,T)=>{let S=k.getAttribute(T);return k.removeAttribute(T),S},z=(k,T={})=>{let S=M(k,":obj"),R=M(k,":ref"),Z=S?T[S]={}:T;R&&(T[R]=k);for(let P of Array.from(k.children)){let B=M(P,":arr"),I=z(P,B?{}:Z);B&&(Z[B]||(Z[B]=[])).push(Object.keys(I).length?I:P)}return T};return z(i(w))}function c(w){let M=w.path||w.composedPath&&w.composedPath();if(M)return M;let z=w.target.parentElement;for(M=[w.target,z];z=z.parentElement;)M.push(z);return M.push(document,window),M}function s(w){return w instanceof Element?w:typeof w=="string"?w.split(/>>/g).reduce((M,z,k,T)=>(M=M.querySelector(z),k<T.length-1?M.shadowRoot:M),document):null}function d(w,M=z=>z){function z(k){let T=[.001,.01,.1][Number(k.shiftKey||2*k.ctrlKey)]*(k.deltaY<0?1:-1),S=0,R=w.selectionStart;w.value=w.value.replace(/[\d.]+/g,(Z,P)=>P<=R&&P+Z.length>=R?(R=P,M(Number(Z),T,S)):(S++,Z)),w.focus(),w.setSelectionRange(R,R),k.preventDefault(),w.dispatchEvent(new Event("input"))}o(w,"focus",()=>o(window,"wheel",z,{passive:!1})),o(w,"blur",()=>n(window,"wheel",z))}let{min:u,max:f,floor:h,round:m}=Math;function x(w,M,z){M/=100,z/=100;let k=h(w=w/360*6),T=w-k,S=z*(1-M),R=z*(1-T*M),Z=z*(1-(1-T)*M),P=k%6;return[255*[z,R,S,S,Z,z][P],255*[Z,z,z,R,S,S][P],255*[S,S,Z,z,z,R][P]]}function L(w,M,z){let k=(2-(M/=100))*(z/=100)/2;return k!==0&&(M=k===1?0:k<.5?M*z/(2*k):M*z/(2-2*k)),[w,100*M,100*k]}function g(w,M,z){let k=u(w/=255,M/=255,z/=255),T=f(w,M,z),S=T-k,R,Z;if(S===0)R=Z=0;else{Z=S/T;let P=((T-w)/6+S/2)/S,B=((T-M)/6+S/2)/S,I=((T-z)/6+S/2)/S;w===T?R=I-B:M===T?R=1/3+P-I:z===T&&(R=2/3+B-P),R<0?R+=1:R>1&&(R-=1)}return[360*R,100*Z,100*T]}function C(w,M,z,k){return M/=100,z/=100,[...g(255*(1-u(1,(w/=100)*(1-(k/=100))+k)),255*(1-u(1,M*(1-k)+k)),255*(1-u(1,z*(1-k)+k)))]}function v(w,M,z){M/=100;let k=2*(M*=(z/=100)<.5?z:1-z)/(z+M)*100,T=100*(z+M);return[w,isNaN(k)?0:k,T]}function y(w){return g(...w.match(/.{2}/g).map(M=>parseInt(M,16)))}function b(w){w=w.match(/^[a-zA-Z]+$/)?function(T){if(T.toLowerCase()==="black")return"#000";let S=document.createElement("canvas").getContext("2d");return S.fillStyle=T,S.fillStyle==="#000"?null:S.fillStyle}(w):w;let M={cmyk:/^cmyk\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)/i,rgba:/^rgba?\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D*?(([\d.]+)(%?)|$)/i,hsla:/^hsla?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hsva:/^hsva?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},z=T=>T.map(S=>/^(|\d+)\.\d+|\d+$/.test(S)?Number(S):void 0),k;t:for(let T in M)if(k=M[T].exec(w))switch(T){case"cmyk":{let[,S,R,Z,P]=z(k);if(S>100||R>100||Z>100||P>100)break t;return{values:C(S,R,Z,P),type:T}}case"rgba":{let[,S,,R,,Z,,,P]=z(k);if(S=k[2]==="%"?S/100*255:S,R=k[4]==="%"?R/100*255:R,Z=k[6]==="%"?Z/100*255:Z,P=k[9]==="%"?P/100:P,S>255||R>255||Z>255||P<0||P>1)break t;return{values:[...g(S,R,Z),P],a:P,type:T}}case"hexa":{let[,S]=k;S.length!==4&&S.length!==3||(S=S.split("").map(P=>P+P).join(""));let R=S.substring(0,6),Z=S.substring(6);return Z=Z?parseInt(Z,16)/255:void 0,{values:[...y(R),Z],a:Z,type:T}}case"hsla":{let[,S,R,Z,,P]=z(k);if(P=k[6]==="%"?P/100:P,S>360||R>100||Z>100||P<0||P>1)break t;return{values:[...v(S,R,Z),P],a:P,type:T}}case"hsva":{let[,S,R,Z,,P]=z(k);if(P=k[6]==="%"?P/100:P,S>360||R>100||Z>100||P<0||P>1)break t;return{values:[S,R,Z,P],a:P,type:T}}}return{values:null,type:null}}function V(w=0,M=0,z=0,k=1){let T=(R,Z)=>(P=-1)=>Z(~P?R.map(B=>Number(B.toFixed(P))):R),S={h:w,s:M,v:z,a:k,toHSVA(){let R=[S.h,S.s,S.v,S.a];return R.toString=T(R,Z=>`hsva(${Z[0]}, ${Z[1]}%, ${Z[2]}%, ${S.a})`),R},toHSLA(){let R=[...L(S.h,S.s,S.v),S.a];return R.toString=T(R,Z=>`hsla(${Z[0]}, ${Z[1]}%, ${Z[2]}%, ${S.a})`),R},toRGBA(){let R=[...x(S.h,S.s,S.v),S.a];return R.toString=T(R,Z=>`rgba(${Z[0]}, ${Z[1]}, ${Z[2]}, ${S.a})`),R},toCMYK(){let R=function(Z,P,B){let I=x(Z,P,B),F=I[0]/255,q=I[1]/255,G=I[2]/255,Y=u(1-F,1-q,1-G);return[100*(Y===1?0:(1-F-Y)/(1-Y)),100*(Y===1?0:(1-q-Y)/(1-Y)),100*(Y===1?0:(1-G-Y)/(1-Y)),100*Y]}(S.h,S.s,S.v);return R.toString=T(R,Z=>`cmyk(${Z[0]}%, ${Z[1]}%, ${Z[2]}%, ${Z[3]}%)`),R},toHEXA(){let R=function(P,B,I){return x(P,B,I).map(F=>m(F).toString(16).padStart(2,"0"))}(S.h,S.s,S.v),Z=S.a>=1?"":Number((255*S.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return Z&&R.push(Z),R.toString=()=>`#${R.join("").toUpperCase()}`,R},clone:()=>V(S.h,S.s,S.v,S.a)};return S}let H=w=>Math.max(Math.min(w,1),0);function D(w){let M={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},w),_keyboard(S){let{options:R}=M,{type:Z,key:P}=S;if(document.activeElement===R.wrapper){let{lock:B}=M.options,I=P==="ArrowUp",F=P==="ArrowRight",q=P==="ArrowDown",G=P==="ArrowLeft";if(Z==="keydown"&&(I||F||q||G)){let Y=0,J=0;B==="v"?Y=I||F?1:-1:B==="h"?Y=I||F?-1:1:(J=I?-1:q?1:0,Y=G?-1:F?1:0),M.update(H(M.cache.x+.01*Y),H(M.cache.y+.01*J)),S.preventDefault()}else P.startsWith("Arrow")&&(M.options.onstop(),S.preventDefault())}},_tapstart(S){o(document,["mouseup","touchend","touchcancel"],M._tapstop),o(document,["mousemove","touchmove"],M._tapmove),S.cancelable&&S.preventDefault(),M._tapmove(S)},_tapmove(S){let{options:R,cache:Z}=M,{lock:P,element:B,wrapper:I}=R,F=I.getBoundingClientRect(),q=0,G=0;if(S){let h1=S&&S.touches&&S.touches[0];q=S?(h1||S).clientX:0,G=S?(h1||S).clientY:0,q<F.left?q=F.left:q>F.left+F.width&&(q=F.left+F.width),G<F.top?G=F.top:G>F.top+F.height&&(G=F.top+F.height),q-=F.left,G-=F.top}else Z&&(q=Z.x*F.width,G=Z.y*F.height);P!=="h"&&(B.style.left=`calc(${q/F.width*100}% - ${B.offsetWidth/2}px)`),P!=="v"&&(B.style.top=`calc(${G/F.height*100}% - ${B.offsetHeight/2}px)`),M.cache={x:q/F.width,y:G/F.height};let Y=H(q/F.width),J=H(G/F.height);switch(P){case"v":return R.onchange(Y);case"h":return R.onchange(J);default:return R.onchange(Y,J)}},_tapstop(){M.options.onstop(),n(document,["mouseup","touchend","touchcancel"],M._tapstop),n(document,["mousemove","touchmove"],M._tapmove)},trigger(){M._tapmove()},update(S=0,R=0){let{left:Z,top:P,width:B,height:I}=M.options.wrapper.getBoundingClientRect();M.options.lock==="h"&&(R=S),M._tapmove({clientX:Z+B*S,clientY:P+I*R})},destroy(){let{options:S,_tapstart:R,_keyboard:Z}=M;n(document,["keydown","keyup"],Z),n([S.wrapper,S.element],"mousedown",R),n([S.wrapper,S.element],"touchstart",R,{passive:!1})}},{options:z,_tapstart:k,_keyboard:T}=M;return o([z.wrapper,z.element],"mousedown",k),o([z.wrapper,z.element],"touchstart",k,{passive:!1}),o(document,["keydown","keyup"],T),M}function A(w={}){w=Object.assign({onchange:()=>0,className:"",elements:[]},w);let M=o(w.elements,"click",z=>{w.elements.forEach(k=>k.classList[z.target===k?"add":"remove"](w.className)),w.onchange(z),z.stopPropagation()});return{destroy:()=>n(...M)}}let E={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0},O=(w,M,z)=>{let k=typeof w!="object"||w instanceof HTMLElement?{reference:w,popper:M,...z}:w;return{update(T=k){let{reference:S,popper:R}=Object.assign(k,T);if(!R||!S)throw new Error("Popper- or reference-element missing.");return((Z,P,B)=>{let{container:I,arrow:F,margin:q,padding:G,position:Y,variantFlipOrder:J,positionFlipOrder:h1}={container:document.documentElement.getBoundingClientRect(),...E,...B},{left:r1,top:o1}=P.style;P.style.left="0",P.style.top="0";let Q=Z.getBoundingClientRect(),e1=P.getBoundingClientRect(),c1={t:Q.top-e1.height-q,b:Q.bottom+q,r:Q.right+q,l:Q.left-e1.width-q},p1={vs:Q.left,vm:Q.left+Q.width/2-e1.width/2,ve:Q.left+Q.width-e1.width,hs:Q.top,hm:Q.bottom-Q.height/2-e1.height/2,he:Q.bottom-e1.height},[V1,k1="middle"]=Y.split("-"),R1=h1[V1],N1=J[k1],{top:n1,left:l1,bottom:K,right:m1}=I;for(let A1 of R1){let P1=A1==="t"||A1==="b",j=c1[A1],[W,U]=P1?["top","left"]:["left","top"],[t1,x1]=P1?[e1.height,e1.width]:[e1.width,e1.height],[v1,y1]=P1?[K,m1]:[m1,K],[z1,J1]=P1?[n1,l1]:[l1,n1];if(!(j<z1||j+t1+G>v1))for(let j1 of N1){let $1=p1[(P1?"v":"h")+j1];if(!($1<J1||$1+x1+G>y1)){if($1-=e1[U],j-=e1[W],P.style[U]=`${$1}px`,P.style[W]=`${j}px`,F){let I2=P1?Q.width/2:Q.height/2,D4=x1/2,St=I2>D4,Ht=$1+{s:St?D4:I2,m:D4,e:St?D4:x1-I2}[j1],kt=j+{t:t1,b:0,r:0,l:t1}[A1];F.style[U]=`${Ht}px`,F.style[W]=`${kt}px`}return A1+j1}}}return P.style.left=r1,P.style.top=o1,null})(S,R,k)}}},N=class N{constructor(M){Q4(this,"_initializingActive",!0);Q4(this,"_recalc",!0);Q4(this,"_nanopop",null);Q4(this,"_root",null);Q4(this,"_color",V());Q4(this,"_lastColor",V());Q4(this,"_swatchColors",[]);Q4(this,"_setupAnimationFrame",null);Q4(this,"_eventListener",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]});this.options=M=Object.assign({...N.DEFAULT_OPTIONS},M);let{swatches:z,components:k,theme:T,sliders:S,lockOpacity:R,padding:Z}=M;["nano","monolith"].includes(T)&&!S&&(M.sliders="h"),k.interaction||(k.interaction={});let{preview:P,opacity:B,hue:I,palette:F}=k;k.opacity=!R&&B,k.palette=F||P||B||I,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),z&&z.length&&z.forEach(J=>this.addSwatch(J));let{button:q,app:G}=this._root;this._nanopop=O(q,G,{margin:Z}),q.setAttribute("role","button"),q.setAttribute("aria-label",this._t("btn:toggle"));let Y=this;this._setupAnimationFrame=requestAnimationFrame(function J(){if(!G.offsetWidth)return requestAnimationFrame(J);Y.setColor(M.default),Y._rePositioningPicker(),M.defaultRepresentation&&(Y._representation=M.defaultRepresentation,Y.setColorRepresentation(Y._representation)),M.showAlways&&Y.show(),Y._initializingActive=!1,Y._emit("init")})}_preBuild(){let{options:M}=this;for(let z of["el","container"])M[z]=s(M[z]);this._root=(z=>{let{components:k,useAsButton:T,inline:S,appClass:R,theme:Z,lockOpacity:P}=z.options,B=G=>G?"":'style="display:none" hidden',I=G=>z._t(G),F=l(`
      <div :ref="root" class="pickr">

        ${T?"":'<button type="button" :ref="button" class="pcr-button"></button>'}

        <div :ref="app" class="pcr-app ${R||""}" data-theme="${Z}" ${S?'style="position: unset"':""} aria-label="${I("ui:dialog")}" role="window">
          <div class="pcr-selection" ${B(k.palette)}>
            <div :obj="preview" class="pcr-color-preview" ${B(k.preview)}>
              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="${I("btn:last-color")}"></button>
              <div :ref="currentColor" class="pcr-current-color"></div>
            </div>

            <div :obj="palette" class="pcr-color-palette">
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="${I("aria:palette")}" role="listbox"></div>
            </div>

            <div :obj="hue" class="pcr-color-chooser" ${B(k.hue)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="${I("aria:hue")}" role="slider"></div>
            </div>

            <div :obj="opacity" class="pcr-color-opacity" ${B(k.opacity)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="${I("aria:opacity")}" role="slider"></div>
            </div>
          </div>

          <div class="pcr-swatches ${k.palette?"":"pcr-last"}" :ref="swatches"></div>

          <div :obj="interaction" class="pcr-interaction" ${B(Object.keys(k.interaction).length)}>
            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ${B(k.interaction.input)} aria-label="${I("aria:input")}">

            <input :arr="options" class="pcr-type" data-type="HEXA" value="${P?"HEX":"HEXA"}" type="button" ${B(k.interaction.hex)}>
            <input :arr="options" class="pcr-type" data-type="RGBA" value="${P?"RGB":"RGBA"}" type="button" ${B(k.interaction.rgba)}>
            <input :arr="options" class="pcr-type" data-type="HSLA" value="${P?"HSL":"HSLA"}" type="button" ${B(k.interaction.hsla)}>
            <input :arr="options" class="pcr-type" data-type="HSVA" value="${P?"HSV":"HSVA"}" type="button" ${B(k.interaction.hsva)}>
            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${B(k.interaction.cmyk)}>

            <input :ref="save" class="pcr-save" value="${I("btn:save")}" type="button" ${B(k.interaction.save)} aria-label="${I("aria:btn:save")}">
            <input :ref="cancel" class="pcr-cancel" value="${I("btn:cancel")}" type="button" ${B(k.interaction.cancel)} aria-label="${I("aria:btn:cancel")}">
            <input :ref="clear" class="pcr-clear" value="${I("btn:clear")}" type="button" ${B(k.interaction.clear)} aria-label="${I("aria:btn:clear")}">
          </div>
        </div>
      </div>
    `),q=F.interaction;return q.options.find(G=>!G.hidden&&!G.classList.add("active")),q.type=()=>q.options.find(G=>G.classList.contains("active")),F})(this),M.useAsButton&&(this._root.button=M.el),M.container.appendChild(this._root.root)}_finalBuild(){let M=this.options,z=this._root;if(M.container.removeChild(z.root),M.inline){let k=M.el.parentElement;M.el.nextSibling?k.insertBefore(z.app,M.el.nextSibling):k.appendChild(z.app)}else M.container.appendChild(z.app);M.useAsButton?M.inline&&M.el.remove():M.el.parentNode.replaceChild(z.root,M.el),M.disabled&&this.disable(),M.comparison||(z.button.style.transition="none",M.useAsButton||(z.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){let M=this,z=this.options.components,k=(M.options.sliders||"v").repeat(2),[T,S]=k.match(/^[vh]+$/g)?k:[],R=()=>this._color||(this._color=this._lastColor.clone()),Z={palette:D({element:M._root.palette.picker,wrapper:M._root.palette.palette,onstop:()=>M._emit("changestop","slider",M),onchange(P,B){if(!z.palette)return;let I=R(),{_root:F,options:q}=M,{lastColor:G,currentColor:Y}=F.preview;M._recalc&&(I.s=100*P,I.v=100-100*B,I.v<0&&(I.v=0),M._updateOutput("slider"));let J=I.toRGBA().toString(0);this.element.style.background=J,this.wrapper.style.background=`
                        linear-gradient(to top, rgba(0, 0, 0, ${I.a}), transparent),
                        linear-gradient(to left, hsla(${I.h}, 100%, 50%, ${I.a}), rgba(255, 255, 255, ${I.a}))
                    `,q.comparison?q.useAsButton||M._lastColor||G.style.setProperty("--pcr-color",J):(F.button.style.setProperty("--pcr-color",J),F.button.classList.remove("clear"));let h1=I.toHEXA().toString();for(let{el:r1,color:o1}of M._swatchColors)r1.classList[h1===o1.toHEXA().toString()?"add":"remove"]("pcr-active");Y.style.setProperty("--pcr-color",J)}}),hue:D({lock:S==="v"?"h":"v",element:M._root.hue.picker,wrapper:M._root.hue.slider,onstop:()=>M._emit("changestop","slider",M),onchange(P){if(!z.hue||!z.palette)return;let B=R();M._recalc&&(B.h=360*P),this.element.style.backgroundColor=`hsl(${B.h}, 100%, 50%)`,Z.palette.trigger()}}),opacity:D({lock:T==="v"?"h":"v",element:M._root.opacity.picker,wrapper:M._root.opacity.slider,onstop:()=>M._emit("changestop","slider",M),onchange(P){if(!z.opacity||!z.palette)return;let B=R();M._recalc&&(B.a=Math.round(100*P)/100),this.element.style.background=`rgba(0, 0, 0, ${B.a})`,Z.palette.trigger()}}),selectable:A({elements:M._root.interaction.options,className:"active",onchange(P){M._representation=P.target.getAttribute("data-type").toUpperCase(),M._recalc&&M._updateOutput("swatch")}})};this._components=Z}_bindEvents(){let{_root:M,options:z}=this,k=[o(M.interaction.clear,"click",()=>this._clearColor()),o([M.interaction.cancel,M.preview.lastColor],"click",()=>{this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0),this._emit("cancel")}),o(M.interaction.save,"click",()=>{!this.applyColor()&&!z.showAlways&&this.hide()}),o(M.interaction.result,["keyup","input"],T=>{this.setColor(T.target.value,!0)&&!this._initializingActive&&(this._emit("change",this._color,"input",this),this._emit("changestop","input",this)),T.stopImmediatePropagation()}),o(M.interaction.result,["focus","blur"],T=>{this._recalc=T.type==="blur",this._recalc&&this._updateOutput(null)}),o([M.palette.palette,M.palette.picker,M.hue.slider,M.hue.picker,M.opacity.slider,M.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0,{passive:!0})];if(!z.showAlways){let T=z.closeWithKey;k.push(o(M.button,"click",()=>this.isOpen()?this.hide():this.show()),o(document,"keyup",S=>this.isOpen()&&(S.key===T||S.code===T)&&this.hide()),o(document,["touchstart","mousedown"],S=>{this.isOpen()&&!c(S).some(R=>R===M.app||R===M.button)&&this.hide()},{capture:!0}))}if(z.adjustableNumbers){let T={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};d(M.interaction.result,(S,R,Z)=>{let P=T[this.getColorRepresentation().toLowerCase()];if(P){let B=P[Z],I=S+(B>=100?1e3*R:R);return I<=0?0:Number((I<B?I:B).toPrecision(3))}return S})}if(z.autoReposition&&!z.inline){let T=null,S=this;k.push(o(window,["scroll","resize"],()=>{S.isOpen()&&(z.closeOnScroll&&S.hide(),T===null?(T=setTimeout(()=>T=null,100),requestAnimationFrame(function R(){S._rePositioningPicker(),T!==null&&requestAnimationFrame(R)})):(clearTimeout(T),T=setTimeout(()=>T=null,100)))},{capture:!0}))}this._eventBindings=k}_rePositioningPicker(){let{options:M}=this;if(!M.inline&&!this._nanopop.update({container:document.body.getBoundingClientRect(),position:M.position})){let z=this._root.app,k=z.getBoundingClientRect();z.style.top=(window.innerHeight-k.height)/2+"px",z.style.left=(window.innerWidth-k.width)/2+"px"}}_updateOutput(M){let{_root:z,_color:k,options:T}=this;if(z.interaction.type()){let S=`to${z.interaction.type().getAttribute("data-type")}`;z.interaction.result.value=typeof k[S]=="function"?k[S]().toString(T.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",k,M,this)}_clearColor(M=!1){let{_root:z,options:k}=this;k.useAsButton||z.button.style.setProperty("--pcr-color","rgba(0, 0, 0, 0.15)"),z.button.classList.add("clear"),k.showAlways||this.hide(),this._lastColor=null,this._initializingActive||M||(this._emit("save",null),this._emit("clear"))}_parseLocalColor(M){let{values:z,type:k,a:T}=b(M),{lockOpacity:S}=this.options,R=T!==void 0&&T!==1;return z&&z.length===3&&(z[3]=void 0),{values:!z||S&&R?null:z,type:k}}_t(M){return this.options.i18n[M]||N.I18N_DEFAULTS[M]}_emit(M,...z){this._eventListener[M].forEach(k=>k(...z,this))}on(M,z){return this._eventListener[M].push(z),this}off(M,z){let k=this._eventListener[M]||[],T=k.indexOf(z);return~T&&k.splice(T,1),this}addSwatch(M){let{values:z}=this._parseLocalColor(M);if(z){let{_swatchColors:k,_root:T}=this,S=V(...z),R=i(`<button type="button" style="--pcr-color: ${S.toRGBA().toString(0)}" aria-label="${this._t("btn:swatch")}"/>`);return T.swatches.appendChild(R),k.push({el:R,color:S}),this._eventBindings.push(o(R,"click",()=>{this.setHSVA(...S.toHSVA(),!0),this._emit("swatchselect",S),this._emit("change",S,"swatch",this)})),!0}return!1}removeSwatch(M){let z=this._swatchColors[M];if(z){let{el:k}=z;return this._root.swatches.removeChild(k),this._swatchColors.splice(M,1),!0}return!1}applyColor(M=!1){let{preview:z,button:k}=this._root,T=this._color.toRGBA().toString(0);return z.lastColor.style.setProperty("--pcr-color",T),this.options.useAsButton||k.style.setProperty("--pcr-color",T),k.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||M||this._emit("save",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach(M=>n(...M)),Object.keys(this._components).forEach(M=>this._components[M].destroy())}destroyAndRemove(){this.destroy();let{root:M,app:z}=this._root;M.parentElement&&M.parentElement.removeChild(M),z.parentElement.removeChild(z),Object.keys(this).forEach(k=>this[k]=null)}hide(){return!!this.isOpen()&&(this._root.app.classList.remove("visible"),this._emit("hide"),!0)}show(){return!this.options.disabled&&!this.isOpen()&&(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this._color),this)}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(M=360,z=0,k=0,T=1,S=!1){let R=this._recalc;if(this._recalc=!1,M<0||M>360||z<0||z>100||k<0||k>100||T<0||T>1)return!1;this._color=V(M,z,k,T);let{hue:Z,opacity:P,palette:B}=this._components;return Z.update(M/360),P.update(T),B.update(z/100,1-k/100),S||this.applyColor(),R&&this._updateOutput(),this._recalc=R,!0}setColor(M,z=!1){if(M===null)return this._clearColor(z),!0;let{values:k,type:T}=this._parseLocalColor(M);if(k){let S=T.toUpperCase(),{options:R}=this._root.interaction,Z=R.find(P=>P.getAttribute("data-type")===S);if(Z&&!Z.hidden)for(let P of R)P.classList[P===Z?"add":"remove"]("active");return!!this.setHSVA(...k,z)&&this.setColorRepresentation(S)}return!1}setColorRepresentation(M){return M=M.toUpperCase(),!!this._root.interaction.options.find(z=>z.getAttribute("data-type").startsWith(M)&&!z.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}};Q4(N,"utils",a),Q4(N,"version","1.9.1"),Q4(N,"I18N_DEFAULTS",{"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"}),Q4(N,"DEFAULT_OPTIONS",{appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"}),Q4(N,"create",M=>new N(M));let _=N;return e=e.default})())});var Mi,of=g1(()=>{"use strict";Mi=class{constructor(e,a,r,o,n="TODO"){this.symbol=e,this.name=a,this.nextStatusSymbol=r,this.availableAsCommand=o,this.type=n}}});var he,Ta,sy=g1(()=>{"use strict";he=require("obsidian");V2();of();t2();Ta=class t extends he.Modal{constructor(a,r,o){super(a.app);this.plugin=a;this.saved=!1;this.error=!1;let n=r;this.statusSymbol=n.symbol,this.statusName=n.name,this.statusNextSymbol=n.nextStatusSymbol,this.statusAvailableAsCommand=n.availableAsCommand,typeof n.type=="string"?this.type=n.type:this.type=n.type,this.isCoreStatus=o,this.setTitle(p("configure-status-entry"))}statusConfiguration(){return new Mi(this.statusSymbol,this.statusName,this.statusNextSymbol,this.statusAvailableAsCommand,this.type)}async display(){let{contentEl:a}=this;a.empty();let r=a.createDiv(),o;new he.Setting(r).setName(p("task-status-symbol")).setDesc(p("task-status-symbol-info")).addText(s=>{o=s,s.setValue(this.statusSymbol).onChange(d=>{this.statusSymbol=d})}).setDisabled(this.isCoreStatus).then(s=>{});let n;new he.Setting(r).setName(p("task-status-name")).setDesc(p("task-status-name-info")).addText(s=>{n=s,s.setValue(this.statusName).onChange(d=>{this.statusName=d})}).then(s=>{}),new he.Setting(r).setName(p("task-status-type")).setDesc(p("task-status-type-info")).addDropdown(s=>{["TODO","IN_PROGRESS","ON_HOLD","DONE","CANCELLED","NON_TASK"].forEach(u=>{s.addOption(u,u)}),s.setValue(this.type).onChange(u=>{this.type=u})});let i;new he.Setting(r).setName(p("cycle-to-following-status")).setDesc(p("cycle-to-following-status-info")).addText(s=>{s.setPlaceholder("eg.: /"),i=s,s.setValue(this.statusNextSymbol).onChange(d=>{this.statusNextSymbol=d})}).then(s=>{});let l=a.createDiv(),c=new he.Setting(l);c.addButton(s=>(s.setButtonText(p("save")),s.setTooltip(p("save")).onClick(async()=>{this.saved=!0,this.close()}),s)),c.addExtraButton(s=>(s.setIcon("cross").setTooltip(p("cancel")).onClick(()=>{this.saved=!1,this.close()}),s))}onOpen(){this.display()}static setValidationError(a){a.inputEl.addClass("tasks-settings-is-invalid")}static removeValidationError(a){a.inputEl.removeClass("tasks-settings-is-invalid")}static setValid(a,r){r.length===0?t.removeValidationError(a):t.setValidationError(a)}}});var J2,Ba,dy=g1(()=>{"use strict";J2=require("obsidian");t2();Y1();H4();Ba=class t extends J2.Modal{constructor(e,a,r,o,n,i,l){super(e),this.plugin=a,this.mode=r,this.activeBoardIndex=o,this.currentFilterState=n,this.onSave=i,this.onLoad=l}onOpen(){let{contentEl:e}=this;e.empty(),this.mode==="save"?this.renderSaveMode():this.renderLoadMode()}renderSaveMode(){let{contentEl:e}=this;e.createEl("h2",{text:p("save-filter-configuration")});let a="",r="";new J2.Setting(e).setName(p("filter-configuration-name")).setDesc(p("filter-configuration-name-info")).addText(o=>{o.setPlaceholder(p("filter-configuration-name")).setValue(a).onChange(n=>{a=n})}),new J2.Setting(e).setName(p("filter-configuration-description")).setDesc(p("filter-configuration-description-info")).addTextArea(o=>{o.setPlaceholder(p("filter-configuration-description")).setValue(r).onChange(n=>{r=n}),o.inputEl.rows=3}),new J2.Setting(e).addButton(o=>{o.setButtonText(p("save")).setCta().onClick(()=>{this.saveConfiguration(a,r)})}).addButton(o=>{o.setButtonText(p("cancel")).onClick(()=>{this.close()})})}renderLoadMode(){let{contentEl:e}=this;e.createEl("h2",{text:p("load-filter-configuration")});let a=this.plugin.settings.data.boardConfigs[this.activeBoardIndex];a.filterConfig||(a.filterConfig={enableSavedFilters:!0,savedConfigs:[]});let r=a.filterConfig.savedConfigs;if(r.length===0){e.createEl("p",{text:p("no-saved-filter-configurations")}),new J2.Setting(e).addButton(l=>{l.setButtonText(p("close")).onClick(()=>{this.close()})});return}let o="";new J2.Setting(e).setName(p("select-a-saved-filter-configuration")).addDropdown(l=>{l.addOption("",p("select-a-saved-filter-configuration")),r.forEach(c=>{l.addOption(c.id,c.name)}),l.onChange(c=>{o=c,this.updateConfigDetails(c)})});let n=e.createDiv({cls:"filter-config-details"}),i=e.createDiv({cls:"filter-config-buttons"});new J2.Setting(i).addButton(l=>{l.setButtonText(p("load")).setCta().onClick(()=>{this.loadConfiguration(o)})}).addButton(l=>{l.setButtonText(p("delete")).setWarning().onClick(()=>{this.deleteConfiguration(o)})}).addButton(l=>{l.setButtonText(p("cancel")).onClick(()=>{this.close()})}),this.detailsContainer=n}updateConfigDetails(e){let a=this.detailsContainer;if(!a||(a.empty(),!e))return;let r=this.plugin.settings.data.boardConfigs[this.activeBoardIndex];if(!r.filterConfig)return;let o=r.filterConfig.savedConfigs.find(c=>c.id===e);if(!o)return;a.createEl("h3",{text:o.name}),o.description&&a.createEl("p",{text:o.description}),a.createEl("p",{text:`${p("created")}: ${new Date(o.createdAt).toLocaleString()}`,cls:"filter-config-meta"}),a.createEl("p",{text:`${p("updated")}: ${new Date(o.updatedAt).toLocaleString()}`,cls:"filter-config-meta"});let n=a.createDiv({cls:"filter-config-summary"});n.createEl("h4",{text:p("filter-summary")});let i=o.filterState.filterGroups.length,l=o.filterState.filterGroups.reduce((c,s)=>c+s.filters.length,0);n.createEl("p",{text:`${i} ${p("filter-group")}${i!==1?"s":""}, ${l} ${p("filter")}${l!==1?"s":""}`}),n.createEl("p",{text:`${p("root-condition")}: ${o.filterState.rootCondition}`})}async saveConfiguration(e,a){if(!e.trim()){new J2.Notice(p("filter-configuration-name-is-required"));return}if(!this.currentFilterState){new J2.Notice(p("failed-to-save-filter-configuration"));return}let r=new Date().toISOString(),o={id:`filter-config-${Date.now()}-${It()}`,name:e.trim(),description:a.trim()||void 0,filterState:JSON.parse(JSON.stringify(this.currentFilterState)),createdAt:r,updatedAt:r};try{let n=this.plugin.settings.data.boardConfigs[this.activeBoardIndex];n.filterConfig||(n.filterConfig={enableSavedFilters:!0,savedConfigs:[]}),n.filterConfig.savedConfigs.push(o),await this.plugin.saveSettings(),this.onSave&&this.onSave(o),this.close()}catch(n){$.addToLogs(111,String(n),"FilterConfigModal.ts/saveConfiguration"),new J2.Notice(p("failed-to-save-filter-configuration"))}}async loadConfiguration(e){if(!e){new J2.Notice(p("select-a-saved-filter-configuration"));return}let a=this.plugin.settings.data.boardConfigs[this.activeBoardIndex];if(!a.filterConfig)return;let r=a.filterConfig.savedConfigs.find(o=>o.id===e);if(!r){new J2.Notice(p("failed-to-load-filter-configuration"));return}try{this.onLoad&&this.onLoad(r),this.close()}catch(o){$.addToLogs(112,String(o),"FilterConfigModal.ts/loadConfiguration"),new J2.Notice(p("failed-to-load-filter-configuration"))}}async deleteConfiguration(e){if(!e){new J2.Notice(p("Select a saved filter configuration"));return}let a=this.plugin.settings.data.boardConfigs[this.activeBoardIndex];if(!a.filterConfig)return;let r=a.filterConfig.savedConfigs.find(n=>n.id===e);if(!r){new J2.Notice(p("failed-to-delete-filter-configuration"));return}if(await new Promise(n=>{let i=new J2.Modal(this.app);i.contentEl.createEl("h2",{text:p("delete-filter-configuration")}),i.contentEl.createEl("p",{text:p("delete-filter-configuration-question")}),i.contentEl.createEl("p",{text:`"${r.name}"`,cls:"filter-config-name-highlight"}),new J2.Setting(i.contentEl).addButton(l=>{l.setButtonText(p("delete")).setWarning().onClick(()=>{n(!0),i.close()})}).addButton(l=>{l.setButtonText(p("cancel")).onClick(()=>{n(!1),i.close()})}),i.open()}))try{let n=this.plugin.settings.data.boardConfigs[this.activeBoardIndex];if(!n.filterConfig)return;n.filterConfig.savedConfigs=n.filterConfig.savedConfigs.filter(l=>l.id!==e),await this.plugin.saveSettings(),new J2.Notice(p("filter-configuration-deleted-successfully")),this.close(),new t(this.app,this.plugin,"load",this.activeBoardIndex,void 0,this.onSave,this.onLoad).open()}catch(n){$.addToLogs(113,String(n),"FilterConfigModal.ts/deleteConfiguration"),new J2.Notice(p("failed-to-delete-filter-configuration"))}}onClose(){let{contentEl:e}=this;e.empty()}}});function pe(){return`id-${Date.now()}-${It()}`}var U2,d5,Ia=g1(()=>{"use strict";U2=require("obsidian");i5();dy();t2();e7();K3();Y1();H4();d5=class extends U2.Component{constructor(a,r,o,n,i,l){super();this.leafId=n;this.initialFilterState=l;this.multiSuggestInstances=new WeakMap;this.isMultiSuggestDropdownActive=!1;this.isConfigModalOpen=!1;this.hostEl=a,this.plugin=r,this.app=o,this.pluginSettings=r.settings,this.activeBoardIndex=i}onload(){this.initialFilterState?this.rootFilterState=this.initialFilterState:this.rootFilterState={rootCondition:"any",filterGroups:[]},this.render()}onunload(){var a,r;(a=this.groupsSortable)==null||a.destroy(),(r=this.filterGroupsContainerEl)==null||r.querySelectorAll(".filters-list").forEach(o=>{o.sortableInstance&&o.sortableInstance.destroy()}),this.hostEl.empty()}close(){this.onunload()}render(){this.hostEl.empty(),this.hostEl.addClass("task-filter-root-container");let r=this.hostEl.createDiv({cls:"task-filter-main-panel"}).createDiv({attr:{id:"root-filter-setup-section"}});r.addClass("root-filter-setup-section");let o=r.createDiv({});o.addClass("root-condition-section"),o.createEl("label",{text:p("match"),attr:{for:"task-filter-root-condition"},cls:["compact-text","root-condition-label"]}),new U2.DropdownComponent(o).addOptions({any:p("any"),all:p("all"),none:p("none")}).setValue(this.rootFilterState.rootCondition).onChange(l=>{this.rootFilterState.rootCondition=l,this.saveStateToLocalStorage(),this.updateGroupSeparators()}).selectEl.toggleClass("compact-select",!0),o.createEl("span",{cls:["compact-text","root-condition-span"],text:p("filter-group")}),this.filterGroupsContainerEl=r.createDiv({attr:{id:"task-filter-groups-container"},cls:"filter-groups-container"});let i=r.createDiv({cls:"add-group-section"});if(i.createEl("div",{cls:["add-filter-group-btn","compact-btn"]},l=>{l.createEl("span",{cls:"add-filter-group-btn-icon"},c=>{(0,U2.setIcon)(c,"plus")}),l.createEl("span",{cls:"add-filter-group-btn-text",text:p("add-filter-group")}),this.registerDomEvent(l,"click",()=>{this.addFilterGroup()})}),this.plugin){let l=i.createDiv({cls:"filter-config-section"});l.createEl("div",{cls:["save-filter-config-btn","compact-btn"]},c=>{c.createEl("span",{cls:"save-filter-config-btn-icon"},s=>{(0,U2.setIcon)(s,"save"),(0,U2.setTooltip)(c,p("save-current-filter"))}),this.registerDomEvent(c,"click",async()=>{this.openSaveConfigModal()})}),l.createEl("div",{cls:["load-filter-config-btn","compact-btn"]},c=>{c.createEl("span",{cls:"load-filter-config-btn-icon"},s=>{(0,U2.setIcon)(s,"folder-open"),(0,U2.setTooltip)(c,p("load-saved-filter"))}),this.registerDomEvent(c,"click",async()=>{this.openLoadConfigModal()})})}this.rootFilterState.filterGroups.forEach(l=>{let c=this.createFilterGroupElement(l);this.filterGroupsContainerEl.appendChild(c)}),this.updateGroupSeparators(),this.makeSortableGroups()}createFilterGroupElement(a){let r=this.hostEl.createEl("div",{attr:{id:a.id},cls:["filter-group"]}),o=r.createDiv({cls:["filter-group-header"]}),n=o.createDiv({cls:["filter-group-header-left"]});n.createDiv({cls:"drag-handle-container"},f=>{f.createEl("span",{cls:"drag-handle"},h=>{(0,U2.setIcon)(h,"grip-vertical")})}),n.createEl("label",{cls:["compact-text"],text:p("match")}),new U2.DropdownComponent(n).addOptions({all:p("all"),any:p("any"),none:p("none")}).onChange(f=>{let h=f;a.groupCondition=h,this.saveStateToLocalStorage(),this.updateFilterConjunctions(r.querySelector(".filters-list"),h)}).setValue(a.groupCondition).selectEl.toggleClass(["group-condition-select","compact-select"],!0),n.createEl("span",{cls:["compact-text"],text:p("filter-in-this-group")});let l=o.createDiv({cls:["filter-group-header-right"]});new U2.ExtraButtonComponent(l).setIcon("copy").setTooltip(p("duplicate-filter-group")).onClick(()=>{let f=pe(),h=a.filters.map(x=>({...x,id:pe()})),m={...a,id:f,filters:h};this.addFilterGroup(m,r)}).extraSettingsEl.addClasses(["duplicate-group-btn","clickable-icon"]),new U2.ExtraButtonComponent(l).setIcon("trash-2").setTooltip(p("remove-filter-group")).onClick(()=>{let f=r.querySelector(".filters-list");f&&f.sortableInstance&&f.sortableInstance.destroy(),this.rootFilterState.filterGroups=this.rootFilterState.filterGroups.filter(m=>m.id!==a.id),this.saveStateToLocalStorage(),r.remove();let h=r.nextElementSibling;if(h&&h.classList.contains("filter-group-separator-container"))h.remove();else{let m=r.previousElementSibling;m&&m.classList.contains("filter-group-separator-container")&&m.remove()}this.updateGroupSeparators()}).extraSettingsEl.addClasses(["remove-group-btn","clickable-icon"]);let d=r.createDiv({cls:["filters-list"]});return a.filters.forEach(f=>{let h=this.createFilterItemElement(f,a);d.appendChild(h)}),this.updateFilterConjunctions(d,a.groupCondition),r.createDiv({cls:["group-footer"]}).createEl("div",{cls:["add-filter-btn","compact-btn"]},f=>{f.createEl("span",{cls:"add-filter-btn-icon"},h=>{(0,U2.setIcon)(h,"plus")}),f.createEl("span",{cls:"add-filter-btn-text",text:p("add-filter")}),this.registerDomEvent(f,"click",()=>{this.addFilterToGroup(a,d)})}),r}addFilterGroup(a=null,r=null){if(!this.filterGroupsContainerEl){$.addToLogs(168,"filterGroupsContainerEl not initialized yet","ViewTaskFilter.ts/addFilterGroup");return}let o=a?a.id:pe(),n;a&&r?n={id:o,groupCondition:a.groupCondition,filters:a.filters.map(c=>({...c,id:pe()}))}:n={id:o,groupCondition:"all",filters:[]};let i=r?this.rootFilterState.filterGroups.findIndex(c=>c.id===r.id)+1:this.rootFilterState.filterGroups.length;this.rootFilterState.filterGroups.splice(i,0,n),this.saveStateToLocalStorage();let l=this.createFilterGroupElement(n);r&&r.parentNode===this.filterGroupsContainerEl?this.filterGroupsContainerEl.insertBefore(l,r.nextSibling):this.filterGroupsContainerEl.appendChild(l),(!a||a.filters.length===0)&&!r?this.addFilterToGroup(n,l.querySelector(".filters-list")):a&&a.filters.length===0&&r&&this.addFilterToGroup(n,l.querySelector(".filters-list")),this.updateGroupSeparators(),this.makeSortableGroups()}createFilterItemElement(a,r){let o=this.hostEl.createEl("div",{attr:{id:a.id},cls:["filter-item"]});r.groupCondition==="any"?o.createEl("span",{cls:["filter-conjunction"],text:p("or")}):r.groupCondition==="none"?o.createEl("span",{cls:["filter-conjunction"],text:p("and-not")}):o.createEl("span",{cls:["filter-conjunction"],text:p("and")});let n=new U2.DropdownComponent(o);n.selectEl.addClasses(["filter-property-select","compact-select"]);let i=new U2.DropdownComponent(o);i.selectEl.addClasses(["filter-condition-select","compact-select"]);let l=o.createEl("input",{cls:["filter-value-input","compact-input"]});l.hide(),l.addEventListener("click",()=>{this.isMultiSuggestDropdownActive=!0});let c=o.createEl("div",{cls:["filter-value-input-container"]}),s=new U2.DropdownComponent(c);s.selectEl.addClasses(["filter-value-select","compact-select"]),n.onChange(h=>{a.property=h,this.updateFilterPropertyOptions(o,a,n,i,l,s,c)});let d=(h,m)=>{let L=["equals","contains","doesNotContain","startsWith","endsWith","is","isNot",">","<",">=","<="].includes(h);m==="completed"&&(h==="isTrue"||h==="isFalse")&&(L=!1),(h==="isEmpty"||h==="isNotEmpty")&&(L=!1);let g=n.getValue();g==="priority"||g==="status"?(l.style.display="none",c.style.display=L?"block":"none"):(l.style.display=L?"block":"none",c.style.display="none"),!L&&a.value!==void 0&&(a.value=void 0,this.saveStateToLocalStorage(),l.value="")};i.onChange(h=>{a.condition=h,this.saveStateToLocalStorage(!1),setTimeout(()=>this.saveStateToLocalStorage(!0),300),d(h,a.property),l.style.display==="none"&&l.value}),l.value=a.value||"";let u;return this.registerDomEvent(l,"input",h=>{a.value=h.target.value,this.saveStateToLocalStorage(!1),clearTimeout(u),u=setTimeout(()=>{this.saveStateToLocalStorage(!0)},400)}),new U2.ExtraButtonComponent(o).setIcon("trash-2").setTooltip(p("remove-filter")).onClick(()=>{r.filters=r.filters.filter(h=>h.id!==a.id),this.saveStateToLocalStorage(),o.remove(),this.updateFilterConjunctions(o.parentElement,r.groupCondition)}).extraSettingsEl.addClasses(["remove-filter-btn","clickable-icon"]),this.updateFilterPropertyOptions(o,a,n,i,l,s,c),o}addFilterToGroup(a,r){let n={id:pe(),property:"content",condition:"contains",value:""};a.filters.push(n),this.saveStateToLocalStorage();let i=this.createFilterItemElement(n,a);r.appendChild(i),this.updateFilterConjunctions(r,a.groupCondition)}updateFilterPropertyOptions(a,r,o,n,i,l,c){let s=r.property;o.selectEl.options.length===0&&o.addOptions({content:p("content"),id:p("id"),status:p("status"),priority:p("priority"),tags:p("tags"),createdDate:p("created-date"),startDate:p("start-date"),scheduledDate:p("scheduled-date"),due:p("due-date"),completedDate:p("completed-date"),cancelledDate:p("cancelled-date"),startTime:p("start-time"),reminder:p("reminder"),dependencies:p("dependencies"),filePath:p("file-path")}),o.setValue(s);let d=[];switch(s){case"content":i.type="text",d=[{value:"contains",text:p("contains")},{value:"doesNotContain",text:p("does-not-contain")},{value:"is",text:p("is")},{value:"isNot",text:p("is-not")},{value:"startsWith",text:p("starts-with")},{value:"endsWith",text:p("ends-with")}];break;case"filePath":i.type="text",d=[{value:"contains",text:p("contains")},{value:"doesNotContain",text:p("does-not-contain")},{value:"is",text:p("is")},{value:"isNot",text:p("is-not")},{value:"startsWith",text:p("starts-with")},{value:"endsWith",text:p("ends-with")}];break;case"status":i.style.display="none",l.addOptions(j5(this.plugin.settings.data.globalSettings.customStatuses).reduce((C,v)=>(C[v.value]=v.text,C),{})),l.setValue(r.value||m3()[0].value.toString()),l.onChange(C=>{r.value=C}),d=[{value:"is",text:p("is")},{value:"isNot",text:p("is-not")}];break;case"project":i.type="text",d=[{value:"contains",text:p("contains")},{value:"doesNotContain",text:p("does-not-contain")},{value:"is",text:p("is")},{value:"isNot",text:p("is-not")},{value:"startsWith",text:p("starts-with")},{value:"endsWith",text:p("ends-with")},{value:"isEmpty",text:p("is-empty")},{value:"isNotEmpty",text:p("is-not-empty")}];break;case"priority":i.style.display="none",l.addOptions(m3().reduce((C,v)=>(C[v.value]=v.text,C),{})),l.setValue(r.value||m3()[0].value.toString()),l.onChange(C=>{r.value=Number(C)}),d=[{value:"is",text:p("is")},{value:"isNot",text:p("is-not")},{value:">=",text:">="},{value:"<=",text:"<="},{value:"isEmpty",text:p("is-empty")},{value:"isNotEmpty",text:p("is-not-empty")}];break;case"id":i.type="text",d=[{value:"is",text:p("is")},{value:"isNot",text:p("is-not")},{value:">",text:">"},{value:"<",text:"<"},{value:">=",text:">="},{value:"<=",text:"<="},{value:"isEmpty",text:p("is-empty")},{value:"isNotEmpty",text:p("is-not-empty")}];break;case"createdDate":case"due":case"startDate":case"scheduledDate":case"completedDate":case"cancelledDate":i.type="date",d=[{value:"is",text:p("is")},{value:"isNot",text:p("is-not")},{value:">",text:">"},{value:"<",text:"<"},{value:">=",text:">="},{value:"<=",text:"<="},{value:"isEmpty",text:p("is-empty")},{value:"isNotEmpty",text:p("is-not-empty")}];break;case"startTime":i.type="time",d=[{value:"is",text:p("is")},{value:"isNot",text:p("is-not")},{value:">",text:">"},{value:"<",text:"<"},{value:">=",text:">="},{value:"<=",text:"<="},{value:"isEmpty",text:p("is-empty")},{value:"isNotEmpty",text:p("is-not-empty")}];break;case"tags":i.type="text",d=[{value:"contains",text:p("contains-string")},{value:"doesNotContain",text:p("does-not-contains-string")},{value:"isEmpty",text:p("are-empty")},{value:"isNotEmpty",text:p("are-not-empty")}];break;default:i.type="text",d=[{value:"is",text:p("is")},{value:"isNot",text:p("is-not")},{value:"contains",text:p("contains")},{value:"doesNotContain",text:p("does-not-contains")},{value:"isEmpty",text:p("is-empty")},{value:"isNotEmpty",text:p("is-not-empty")}]}n.selectEl.empty(),d.forEach(C=>n.addOption(C.value,C.text));let u=r.condition,f=!1;d.some(C=>C.value===u)?n.setValue(u):d.length>0&&(n.setValue(d[0].value),r.condition=d[0].value,f=!0);let h=n.getValue(),x=["equals","contains","doesNotContain","startsWith","endsWith","is","isNot",">","<",">=","<="].includes(h);(h==="isEmpty"||h==="isNotEmpty")&&(x=!1);let L=!1,g=o.getValue();g==="priority"||g==="status"?(i.style.display="none",c.style.display=x?"block":"none"):(c.style.display="none",i.style.display=x?"block":"none"),x?r.value!==void 0?i.value=r.value:i.value!==""&&(i.value=""):(i.value="",r.value!==void 0&&(r.value=void 0,L=!0)),(f||L)&&this.saveStateToLocalStorage(),i instanceof HTMLInputElement&&this.setupMultiSuggest(s,i,r)}setupMultiSuggest(a,r,o){let n=["tags","filePath"],i=this.multiSuggestInstances.get(r);if(i&&(i.close(),this.multiSuggestInstances.delete(r)),!n.includes(a))return;let l=[];switch(a){case"tags":l=se(this.app);break;case"filePath":l=Pt(this.app);break}let c=d=>{o.value=d,this.saveStateToLocalStorage()},s=new h4(r,new Set(l),c,this.app);this.multiSuggestInstances.set(r,s)}updateFilterConjunctions(a,r="all"){if(!a)return;a.querySelectorAll(".filter-item").forEach((n,i)=>{let l=n.querySelector(".filter-conjunction");l&&(i!==0?(l.show(),r==="any"?l.textContent=p("or"):r==="none"?l.textContent=p("nor"):l.textContent=p("and")):(l.hide(),r==="any"?l.textContent=p("or"):r==="none"?l.textContent=p("not"):l.textContent=p("and")))})}updateGroupSeparators(){var r,o;(r=this.filterGroupsContainerEl)==null||r.querySelectorAll(".filter-group-separator-container").forEach(n=>n.remove());let a=Array.from(((o=this.filterGroupsContainerEl)==null?void 0:o.children)||[]).filter(n=>n.classList.contains("filter-group"));a.length>1&&a.forEach((n,i)=>{var l;if(i<a.length-1){let c=createEl("div",{cls:"filter-group-separator-container"}),s=c.createDiv({cls:"filter-group-separator"}),d=this.rootFilterState.rootCondition,u=p("or");d==="all"?u=p("and"):d==="none"&&(u=p("and-not")),s.textContent=u.toUpperCase(),(l=n.parentNode)==null||l.insertBefore(c,n.nextSibling)}})}makeSortableGroups(){this.groupsSortable&&(this.groupsSortable.destroy(),this.groupsSortable=void 0),this.filterGroupsContainerEl&&(this.groupsSortable=new i3(this.filterGroupsContainerEl,{animation:150,handle:".drag-handle",filter:".filter-group-separator-container",preventOnFilter:!0,ghostClass:"dragging-placeholder",onEnd:a=>{let r=a;if(r.oldDraggableIndex===void 0||r.newDraggableIndex===void 0)return;let o=this.rootFilterState.filterGroups.splice(r.oldDraggableIndex,1)[0];this.rootFilterState.filterGroups.splice(r.newDraggableIndex,0,o),this.saveStateToLocalStorage(),this.updateGroupSeparators()}}))}updateFilterState(a,r){this.rootFilterState.filterGroups=a,this.rootFilterState.rootCondition=r,this.saveStateToLocalStorage()}getFilterState(){return this.rootFilterState?JSON.parse(JSON.stringify(this.rootFilterState)):{rootCondition:"any",filterGroups:[]}}loadFilterState(a){var r;try{this.groupsSortable&&(this.groupsSortable.destroy(),this.groupsSortable=void 0)}catch(o){$.addToLogs(169,`Error destroying groups sortable: ${String(o)}`,"ViewTaskFilter.ts/loadFilterState"),this.groupsSortable=void 0}(r=this.filterGroupsContainerEl)==null||r.querySelectorAll(".filters-list").forEach(o=>{try{o.sortableInstance&&(o.sortableInstance.destroy(),o.sortableInstance=void 0)}catch(n){$.addToLogs(170,`Error destroying filter list sortable: ${String(n)}`,"ViewTaskFilter.ts/loadFilterState"),o.sortableInstance=void 0}}),this.rootFilterState=JSON.parse(JSON.stringify(a)),this.saveStateToLocalStorage(),this.render()}saveStateToLocalStorage(a=!0){}openSaveConfigModal(){if(!this.plugin||this.activeBoardIndex===void 0)return;let a=new Ba(this.app,this.plugin,"save",this.activeBoardIndex,this.getFilterState(),r=>{new U2.Notice(`${p("filter-configs-saved-successfully")} : ${r.name}`)});a.setCloseCallback(()=>{this.isConfigModalOpen=!1}),this.isConfigModalOpen=!0,a.open()}openLoadConfigModal(){if(!this.plugin||this.activeBoardIndex===void 0)return;let a=new Ba(this.app,this.plugin,"load",this.activeBoardIndex,void 0,void 0,r=>{this.loadFilterState(r.filterState),new U2.Notice(`${p("filter-configuration-loaded-successfully")} : ${r.name}`)});a.setCloseCallback(()=>{this.isConfigModalOpen=!1}),this.isConfigModalOpen=!0,a.open()}}});function wi(t,e){for(let a in t)a in e?a==="customStatuses"?e[a]=Q3.data.globalSettings.customStatuses:a==="boardConfigs"&&Array.isArray(e[a])?e[a].forEach((r,o)=>{r.columns.forEach(n=>{var i,l,c,s;n.id=e0(),(n.colType==="dated"||n.colType==="undated"&&!n.datedBasedColumn)&&(n.datedBasedColumn={dateType:(l=(i=n.datedBasedColumn)==null?void 0:i.dateType)!=null?l:t.universalDate,from:((c=n.datedBasedColumn)==null?void 0:c.from)||0,to:((s=n.datedBasedColumn)==null?void 0:s.to)||0},delete n.range)}),r.index=o,r!=null&&r.hideEmptyColumns||(r.hideEmptyColumns=!1),r!=null&&r.filters&&r.filters.length>0&&r!=null&&r.filterPolarity&&r.filterPolarity==="1"&&(r.boardFilter={rootCondition:"any",filterGroups:[{id:pe(),groupCondition:"any",filters:r.filters.map(n=>({id:pe(),property:"tags",condition:"contains",value:n}))}]},r==null||delete r.filters,r==null||delete r.filterPolarity)}):typeof t[a]=="object"&&t[a]!==null&&!Array.isArray(t[a])&&wi(t[a],e[a]):e[a]=t[a];return e}async function uy(t){try{let e=t.settings,a="task-board-configs-export.json",r=JSON.stringify(e,null,2);if(window.electron&&window.electron.remote&&window.electron.remote.dialog){let o=window.electron.remote.dialog.showOpenDialogSync({title:"Pick folder to export settings",properties:["openDirectory","dontAddToRecent"]});if(!o||o.length===0){new Zt.Notice("Export cancelled or folder not selected.");return}let n=o[0],i=n.endsWith("/")||n.endsWith("\\")?n+a:n+(n.includes("/")?"/":"\\")+a;await q5.writeFile(i,r,"utf8"),new Zt.Notice(`Settings exported to ${i}`)}else{let o=document.createElement("a");o.href=URL.createObjectURL(new Blob([r],{type:"application/json"})),o.download=a,document.body.appendChild(o),o.click(),setTimeout(()=>{document.body.removeChild(o),URL.revokeObjectURL(o.href)},1e3),new Zt.Notice("Settings exported. Check the folder where you downloaded the file.")}}catch(e){new Zt.Notice("Failed to export settings."),$.addToLogs(150,String(e),"SettingSynchronizer.ts/exportConfigurations")}}async function fy(t){try{let e,a=["json"],r="JSON Files";if(window.electron&&window.electron.remote&&window.electron.remote.dialog){let c=window.electron.remote.dialog.showOpenDialogSync({title:"Pick settings file to import",properties:["openFile","dontAddToRecent"],filters:[{name:r,extensions:a}]});if(!c||c.length===0)return new Zt.Notice("Import cancelled or file not selected."),!1;e=await new Ur(c[0]).readText()}else if(await new Promise(c=>{let s=document.createElement("input");s.type="file",s.accept=a.map(d=>"."+d.toLowerCase()).join(","),s.addEventListener("change",async()=>{if(!s.files||s.files.length===0){new Zt.Notice("Import cancelled or file not selected."),c();return}e=await s.files[0].text(),c()}),s.click()}),!e)return new Zt.Notice("Import cancelled or file not selected."),!1;let o=JSON.parse(e),n=t.settings,l=wi(Q3,o);return t.settings=l,await t.saveSettings(),new Zt.Notice("Settings imported and merged successfully."),!0}catch(e){return new Zt.Notice("Failed to import settings."),$.addToLogs(151,String(e),"SettingSynchronizer.ts/importConfigurations"),!1}}async function hy(t){new Zt.Notice(createFragment(a=>{a.createDiv("reloadObsidianNotice",r=>{r.createEl("p",{text:p("reload-obsidian-notice-message")}),r.createEl("button",{text:p("reload-now"),cls:"reloadNowButton",onclick:()=>{t.app.commands.executeCommandById("app:reload"),r.hide()}}),r.createEl("button",{text:p("ignore"),cls:"ignoreButton",onclick:()=>{r.hide()}})})}),0).messageEl.onClickEvent(a=>{a.target instanceof HTMLButtonElement||(a.stopPropagation(),a.preventDefault(),a.stopImmediatePropagation())})}var Zt,nf=g1(()=>{"use strict";Zt=require("obsidian");Mc();m6();t2();Ia();V2();Y1();H4()});var S1,py,o7,bB,SB,HB,lf=g1(()=>{"use strict";S1=require("obsidian");s5();py=B1(cy(),1);i5();t2();e7();za();o0();sy();Y5();nf();r7();M0();V2();m6();U5();of();si();Y1();o7=class{constructor(e){this.allPickrs=[];this.reloadNoticeAlreadyShown=!1;this.app=e.app,this.plugin=e,this.win=window,this.globalSettings=this.plugin.settings.data.globalSettings}getPropertyDisplayName(e){return{id:"ID (\u{1F194} fpyvkz)",tags:"Tags (#tag)",priority:"Priority (\u{1F53A})",createdDate:"Created Date (\u2795 2024-01-01)",startDate:"Start Date (\u{1F6EB} 2024-01-01)",scheduledDate:"Scheduled Date (\u23F3 2024-01-01)",dueDate:"Due Date (\u{1F4C5} 2024-01-01)",completionDate:"Completion Date (\u2705 2024-01-01)",cancelledDate:"Cancelled Date (\u274C 2024-01-01)",time:"Time (\u23F0 09:00-10:00)",reminder:"Reminder (@(12:30))",recurring:"Recurring (\u{1F501} every 2 weeks)",onCompletion:"On-completion (\u{1F3C1} delete)",dependsOn:"Dependens-on (\u26D4 fa4sm9)"}[e]||null}openReloadNoticeIfNeeded(){if(!this.reloadNoticeAlreadyShown){sleep(100).then(()=>{hy(this.plugin),this.reloadNoticeAlreadyShown=!0});return}}async loadSettings(){try{let e=this.plugin.settings.data.globalSettings;this.globalSettings=e}catch(e){$.showNotice(42,"Failed to load settings",e,"TaskBoardSettingConstructUI.ts/SettingsManager/loadSettings")}}async saveSettings(){if(this.globalSettings)try{this.plugin.settings.data.globalSettings=this.globalSettings,this.plugin.saveSettings()}catch(e){$.showNotice(43,"Failed to save settings",e,"TaskBoardSettingConstructUI.ts/SettingsManager/saveSettings")}}async constructUI(e,a){if(await this.loadSettings(),!this.globalSettings){e.createEl("p",{text:p("falied-to-load-settings")});return}let r=e.createDiv({cls:"taskBoard-settings-tab-bar"}),o=e.createDiv({cls:"taskBoard-settings-tab-content"}),n={},i={};[{key:p("general"),handler:()=>this.renderGeneralTabSettings(o)},{key:p("all-ui"),handler:()=>this.renderAllUITabSettings(o)},{key:p("properties"),handler:()=>this.renderPropertiesTabSettings(o)},{key:p("inline-tasks"),handler:()=>this.renderInlineTasksTabSettings(o)},{key:p("task-notes"),handler:()=>this.renderTBNoteTabSettings(o)},{key:p("map-view"),handler:()=>this.renderMapViewTabSettings(o)},{key:p("automation"),handler:()=>this.renderAutomationTabSettings(o)},{key:p("formats"),handler:()=>this.renderFormatsTabSettings(o)}].forEach(({key:c,handler:s})=>{i[c]=s}),Object.keys(i).forEach(c=>{let s=r.createEl("div",{text:c,cls:"taskBoard-settings-tab-button"});s.addEventListener("click",async()=>{Array.from(r.children).forEach(f=>f.toggleClass("taskBoard-settings-tab-button-active",f===s)),o.empty(),i[c]();let u=Object.keys(i).indexOf(c);this.globalSettings&&(this.globalSettings.lastViewHistory.settingTab=u,await this.saveSettings())}),n[c]=s}),e.createEl("hr");let l=Object.keys(i)[this.plugin.settings.data.globalSettings.lastViewHistory.settingTab];n[l].click(),e.createEl("p",{text:p("please-read-the-documentation-to-make-an-efficient-use-of-this-plugin"),cls:"taskBoard-docs-section"}).createEl("a",{text:p("task-board-docs"),href:"https://tu2-atmanand.github.io/task-board-docs/"})}cleanUp(){this.reloadNoticeAlreadyShown=!1,this.allPickrs.forEach(a=>a.destroy());let e=this.win.document.querySelectorAll(".pcr-app ");e&&e.forEach(a=>{a.remove()})}renderGeneralTabSettings(e){let{scanFilters:a,openOnStartup:r,scanMode:o,tasksCacheFilePath:n,showModifiedFilesNotice:i,autoAddUniqueID:l,experimentalFeatures:c,safeGuardFeature:s}=this.globalSettings;new S1.Setting(e).setName(p("filters-for-scanning")).setDesc(J4(p("name-of-the-file-folder-tag-for-filter-info")+"<br/><b>"+p("note")+" :</b> "+p("name-of-the-file-folder-tag-for-filter-info-2"))),["files","folders","frontmatter","tags"].forEach(L=>{let g=L,C=a[g],v=e.createDiv({cls:"taskBoard-filter-row"}),y=v.createDiv({cls:"taskBoard-filter-row-heading"}),b=v.createDiv({cls:"taskBoard-filter-row-body"});y.createEl("span",{text:L.charAt(0).toUpperCase()+L.slice(1),cls:"taskBoard-filter-label"}),y.createEl("button",{text:"Configure",cls:"taskBoard-filter-configure-button"}).addEventListener("click",()=>{gy(this.plugin,g,E=>{this.plugin.settings.data.globalSettings.scanFilters[g].values=E,this.plugin.saveSettings(),D()})});let H=b.createDiv({cls:"taskBoard-filter-values"}),D=()=>{H.empty(),C.values.length===0?H.createEl("em",{text:"None",attr:{style:"opacity: 0.5;"}}):C.values.forEach(E=>{H.createEl("span",{text:E,cls:"taskBoard-filter-tag"})})};D();let A=b.createEl("select",{attr:{"aria-label":"Select Filter Polarity"},cls:"taskBoard-filter-dropdown"});[{label:"Only scan this",value:1},{label:"Don't scan this",value:2},{label:"Disable",value:3}].forEach(E=>{let O=A.createEl("option",{text:E.label,value:String(E.value)});C.polarity===E.value&&(O.selected=!0)}),A.addEventListener("change",E=>{let O=Number(E.target.value);this.plugin.settings.data.globalSettings.scanFilters[g].polarity=O,this.plugin.saveSettings()})}),new S1.Setting(e).setName(p("scanning-mode")).setDesc(J4(p("scanning-mode-info")+"<br/><ul><li><b>"+p("balanced")+"</b> : "+p("balanced-scanning-mode-info")+"</li><li><b>"+p("real-time")+"</b> : "+p("real-time-scanning-mode-info")+"</li><li><b>"+p("manual")+"</b> : "+p("manual-scanning-mode-info")+"</li></ul>")).addDropdown(L=>L.addOptions({automatic:p("balanced"),realtime:p("real-time"),manual:p("manual")}).setValue(o).onChange(async g=>{this.globalSettings.scanMode=g,await this.saveSettings(),this.openReloadNoticeIfNeeded()})),new S1.Setting(e).setName(p("auto-add-unique-id")).setDesc(J4(p("auto-add-unique-id-description")+"<br/><ul><li>"+p("map-view-feature")+"</li><li>"+p("manual-sorting-inside-each-column-upcoming")+"</li><li>"+p("pin-tasks-on-top-in-each-column-upcoming")+"</li></ul>")).addToggle(L=>L.setValue(l).onChange(async g=>{this.globalSettings.autoAddUniqueID=g,await this.saveSettings(),this.openReloadNoticeIfNeeded()}));let d=e.createDiv({cls:"task-board-single-setting-container"}),u=()=>{d.empty();let L=this.globalSettings.tasksCacheFilePath;new S1.Setting(d).setClass("taskBoard-settings-wide-input").setName(p("tasks-cache-file-path")).setDesc(J4(p("tasks-cache-file-path-description")+"<br/>"+p("tasks-cache-file-path-description-2"))).addText(g=>{g.setValue(L).onChange(C=>{C.endsWith(".json")?L=(0,S1.normalizePath)(C):L=(0,S1.normalizePath)(C+"/task-board-cache.json")})}).addButton(g=>g.setButtonText(p("transfer")).onClick(async()=>{await Vc(this.app,n,L)?(this.globalSettings.tasksCacheFilePath=L,this.saveSettings(),u(),new S1.Notice(`Task Board cache file path changed to new location succussfully. New location : ${this.globalSettings.tasksCacheFilePath}`)):(new S1.Notice("Task Board : Failed to change the path. Check logs for more info."),this.globalSettings.tasksCacheFilePath=`${this.app.vault.configDir}/plugins/task-board/tasks.json`,this.saveSettings(),u())})).addButton(g=>g.setButtonText(p("reset")).onClick(async()=>{L=`${this.app.vault.configDir}/plugins/task-board/tasks.json`,await Vc(this.app,n,L)?(this.globalSettings.tasksCacheFilePath=L,this.saveSettings(),u(),new S1.Notice("Task Board cache file path reset was succussfully.")):(new S1.Notice("Task Board : Failed to change the path. Check logs for more info."),this.globalSettings.tasksCacheFilePath=`${this.app.vault.configDir}/plugins/task-board/tasks.json`,this.saveSettings(),u()),u()}))};u(),new S1.Setting(e).setName(p("open-board-on-obsidian-startup")).setDesc(p("open-board-on-obsidian-startup-info")).addToggle(L=>L.setValue(r).onChange(async g=>{this.globalSettings.openOnStartup=g,await this.saveSettings()})),new S1.Setting(e).setName(p("show-modified-files-message-on-startup")).setDesc(p("show-modified-files-message-on-startup-info")).addToggle(L=>L.setValue(i).onChange(async g=>{this.globalSettings.showModifiedFilesNotice=g,await this.saveSettings()})),new S1.Setting(e).setName(p("update-language-translations")).setDesc(J4(p("update-language-translations-info")+" <a href='https://tu2-atmanand.github.io/task-board-docs/docs/Advanced/Contribution_For_Languages/'>"+p("task-board-docs")+".")).addButton(L=>L.setButtonText("Update").onClick(async()=>{await Xh(this.plugin)&&this.openReloadNoticeIfNeeded()})),new S1.Setting(e).setName(p("import-export-configurations")).setDesc(p("import-export-configurations-info")).addButton(L=>L.setButtonText(p("import")).onClick(async()=>{await fy(this.plugin)&&this.openReloadNoticeIfNeeded()})).addButton(L=>L.setButtonText(p("export")).onClick(async()=>{await uy(this.plugin)})),new S1.Setting(e).setName(p("export-logs")).setDesc(p("export-logs-info")).addButton(L=>L.setButtonText(p("export")).onClick(async()=>{await $.exportLogFile()})),new S1.Setting(e).setName("Safeguard feature").setDesc(J4("This feature helps to ensure that task board should only update the task content in the note. It shows you a conflict in the content if this plugin couldnt able to find the exact match in the current note.<br/><br/><b>NOTE : </b>Disabling this feature will by-pass the security check which might lead to unwanted behavior like tempering the content of other inline-tasks right below the intended task. Only disable this feature if you feel this modal is popping-up too many times and also its irrelevant as the content is properly getting edited and matched. Obsidian definitely provides a file recovery feature, but also ensure you are taking care of you data.<br/>This setting was provided on the request of few users to tempararily disable safe-guard. In upcoming releasing, will remove this setting if everything is working as expected and safe-guard will be always doing the security checks.")).addToggle(L=>L.setValue(s).onChange(async g=>{this.globalSettings.safeGuardFeature=g,await this.saveSettings(),this.openReloadNoticeIfNeeded()})),new S1.Setting(e).setName(p("enable-experimental-features")).setDesc(J4(p("enable-experimental-features-info-1")+"<br/><br/><br/>"+p("enable-experimental-features-info-2")+"<br/><br/><ul><li><b>"+p("drag-and-drop")+" : </b>"+p("drag-and-drop-feature-info")+"</li><li><b>"+p("kanban-swimlanes")+" : </b>"+p("kanban-swimlanes-feature-info")+"</li><li><b>"+p("manual-sorting")+" : </b>"+p("manual-sorting-feature-info")+"</li><li><b>Task card menu : </b>Easily change various properties of tasks and access quick actions through the menu. Specially useful on mobile as an alternative to drag and drop feature.</li></ul>")).addToggle(L=>L.setValue(c).onChange(async g=>{this.globalSettings.experimentalFeatures=g,await this.saveSettings(),this.openReloadNoticeIfNeeded()})),e.createEl("hr");let f=e.createEl("div",{cls:"settingTabFooterSection"});f.createEl("p",{text:p("this-plugin-is-created-by")}).createEl("a",{text:"Atmanand Gauns",href:"https://www.github.com/tu2-atmanand"});let h=createEl("p");h.appendText(p("donation-message")),f.appendChild(h);let m=new DOMParser,x=createEl("div",{cls:"settingTabFooterDonationsSec"});x.appendChild(bB("https://paypal.me/tu2atmanand")),x.appendChild(SB("https://www.buymeacoffee.com/tu2_atmanand",m.parseFromString(iy,"text/xml").documentElement)),x.appendChild(HB("https://ko-fi.com/atmanandgauns",m.parseFromString(ly,"text/xml").documentElement)),f.appendChild(x)}renderAllUITabSettings(e){let{columnWidth:a,showVerticalScroll:r,tagColors:o,tagColorsType:n,showTaskWithoutMetadata:i,taskCardStyle:l}=this.globalSettings;new S1.Setting(e).setName(p("task-card-style")).setDesc(p("task-card-style-info")).addDropdown(d=>d.addOptions({emoji:p("tasks-plugin-emoji"),bases:p("bases-cards-style")}).setValue(l).onChange(async u=>{this.globalSettings.taskCardStyle=u,await this.saveSettings()})),new S1.Setting(e).setName(p("show-task-without-metadata")).setDesc(p("show-task-without-metadata-info")).addToggle(d=>d.setValue(i).onChange(async u=>{this.globalSettings.showTaskWithoutMetadata=u,await this.saveSettings()})),new S1.Setting(e).setName(p("width-of-task-card")).setDesc(p("enter-the-value-of-width-for-task-card")).addText(d=>d.setValue(a).onChange(async u=>{this.globalSettings.columnWidth=u,await this.saveSettings()}).setPlaceholder("300px")),new S1.Setting(e).setName(p("show-column-scroll-bar")).setDesc(p("enable-to-see-a-scrollbar-for-each-column")).addToggle(d=>d.setValue(r).onChange(async u=>{this.globalSettings.showVerticalScroll=u,await this.saveSettings()})),new S1.Setting(e).setName(p("tag-colors")).setHeading(),new S1.Setting(e).setName(p("tag-color-indicator-type")).setDesc(p("tag-color-indicator-type-info")).addDropdown(d=>d.addOptions({text:p("text-of-the-tag"),tagBg:p("tag-background"),background:p("background-of-the-card")}).setValue(n).onChange(async u=>{this.globalSettings.tagColorsType=u,await this.saveSettings(),s()}));let c=e.createDiv({cls:"tag-colors-container"});i3.create(c,{animation:150,handle:".taskboard-setting-tag-color-row-element-drag-handle",ghostClass:"task-board-sortable-ghost",chosenClass:"task-board-sortable-chosen",dragClass:"task-board-sortable-drag",dragoverBubble:!0,forceFallback:!0,fallbackClass:"task-board-sortable-fallback",easing:"cubic-bezier(1, 0, 0, 1)",onSort:async()=>{let d=Array.from(c.children).map((u,f)=>{let h=u.getAttribute("data-tag-name"),m=o.find(x=>x.name===h);return m?(m.priority=f+1,m):null}).filter(u=>u!==null);this.globalSettings.tagColors=d,await this.saveSettings()}});let s=()=>{c.empty(),this.globalSettings.tagColors.sort((d,u)=>d.priority-u.priority).forEach((d,u)=>{let f=c.createDiv({cls:"tag-color-row",attr:{"data-tag-name":d.name}}),h;new S1.Setting(f).setClass("tag-color-row-element").addButton(m=>m.setTooltip("Hold and drag").setIcon("grip-horizontal").setClass("taskboard-setting-tag-color-row-element-drag-handle").buttonEl.setCssStyles({cursor:"grab",backgroundColor:this.globalSettings.tagColorsType!=="text"?d.color:"",color:this.globalSettings.tagColorsType==="text"?d.color:"",border:this.globalSettings.tagColorsType==="text"?`1px solid ${d.color}`:"",maxWidth:"max-content !important"})).addText(m=>m.setPlaceholder("Tag Name").setValue(d.name).onChange(async x=>{d.name=x,f.setAttribute("data-tag-name",x),await this.saveSettings()}).inputEl.setCssStyles({backgroundColor:this.globalSettings.tagColorsType!=="text"?d.color:"",color:this.globalSettings.tagColorsType==="text"?d.color:"",border:this.globalSettings.tagColorsType==="text"?`1px solid ${d.color}`:"",minWidth:"23vw !important"})).addButton(m=>{m.setTooltip(p("pick-color-for-tag")).setIcon("palette").setClass("taskboard-setting-tag-color-row-element-color-picker").then(()=>{let x=this.plugin.settings.data.globalSettings.tagColors.map(g=>{var C;return{color:((C=this.plugin.settings.data.globalSettings.tagColors[g.priority-1])==null?void 0:C.color)||"#ff0000"}}),L=new py.default({el:m.buttonEl,theme:"nano",swatches:x.map(g=>g.color),defaultRepresentation:"HEXA",default:d.color||"#ff0000",comparison:!1,components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!0,rgba:!0,hsla:!1,hsva:!1,cmyk:!1,input:!0,clear:!0,cancel:!0,save:!1}}});this.allPickrs.push(L),L.on("change",g=>{let C=`rgba(${g.toRGBA().map((v,y)=>y<3?Math.round(v):v).join(", ")})`;d.color=C,h.setValue(C)}).on("hide",()=>{s(),this.saveSettings()}).on("cancel",()=>L.destroy()).on("clear",()=>L.hide())})}).addText(m=>{h=m,m.setPlaceholder("Color Value").setValue(d.color).onChange(async x=>{d.color=x,await this.saveSettings()}).inputEl.setCssStyles({backgroundColor:this.globalSettings.tagColorsType!=="text"?d.color:"",color:this.globalSettings.tagColorsType==="text"?d.color:"",border:this.globalSettings.tagColorsType==="text"?`1px solid ${d.color}`:"",minWidth:"23vw !important"})}).addButton(m=>m.setButtonText("Delete").setIcon("trash").setClass("taskboard-setting-tag-color-row-element-delete").setTooltip(p("delete-tag-color")).onClick(async()=>{this.globalSettings.tagColors.splice(u,1),await this.saveSettings(),s()}))})};s(),new S1.Setting(e).addButton(d=>d.setButtonText(p("add-tag-color")).setCta().onClick(async()=>{let u={name:"",color:"rgba(255, 0, 0, 1)",priority:this.globalSettings.tagColors.length+1};this.globalSettings.tagColors.push(u),await this.saveSettings(),s()})).setClass("task-board-settingtab-add-tag-color-btn")}renderPropertiesTabSettings(e){let{hiddenTaskProperties:a}=this.globalSettings;new S1.Setting(e).setName(p("hide-specific-properties-in-notes")).setDesc(p("hide-specific-properties-in-notes-description")).setClass("taskboard-hidden-properties-setting");let r=e.createDiv("taskboard-hidden-properties-container");Object.values(Wt).forEach(l=>{let c=this.getPropertyDisplayName(l);c&&new S1.Setting(r).setName(c).setClass("taskboard-property-checkbox-setting").addToggle(d=>{let u=a.includes(l);d.setValue(u).onChange(async f=>{f?this.globalSettings.hiddenTaskProperties.includes(l)||this.globalSettings.hiddenTaskProperties.push(l):this.globalSettings.hiddenTaskProperties=this.globalSettings.hiddenTaskProperties.filter(h=>h!==l),await this.saveSettings(),this.openReloadNoticeIfNeeded()})}).settingEl.addClass("taskboard-compact-setting")}),new S1.Setting(e).setName(p("custom-statuses")).setDesc(p("custom-statuses-info"));let o=e.createDiv({cls:"custom-statuses-container"}),n=()=>{o.empty();let l=this.plugin.settings.data.globalSettings.customStatuses;if(!l||l.length===0){o.createDiv({cls:"custom-statuses-empty-message",text:p("no-custom-statuses-configured")});return}l.forEach((c,s)=>{let d=o.createDiv({cls:"custom-status-row"}),u=d.createDiv({cls:"custom-status-info-container"}),f=u.createDiv({cls:"custom-status-field-element"});f.createDiv({cls:"custom-status-field-label",text:`${p("status-name")}:`}),f.createDiv({cls:"custom-status-field-value",text:c.name});let h=u.createDiv({cls:"custom-status-field-element"});h.createDiv({cls:"custom-status-field-label",text:`${p("status-symbol")}:`}),h.createDiv({cls:"custom-status-field-value",text:`[${c.symbol}]`});let m=u.createDiv({cls:"custom-status-field-element"});m.createDiv({cls:"custom-status-field-label",text:`${p("status-action")}:`}),m.createDiv({cls:"custom-status-field",text:`When you will click on the checkbox [${c.symbol}] it will change to [${c.nextStatusSymbol}]`});let x=d.createDiv({cls:"custom-status-right-side"});x.createDiv({cls:`custom-status-field-status-pill${c.type==="DONE"?" done":""}${c.type==="CANCELLED"?" cancelled":""}`,text:c.type});let L=x.createDiv({cls:"custom-status-buttons"}),g=L.createEl("span",{cls:"edit-btn",text:p("edit"),title:p("edit")});(0,S1.setIcon)(g,"pencil"),g.onclick=async()=>{let v=new Ta(this.plugin,c,!1);v.onClose=async()=>{if(v.saved){let y=v.statusConfiguration(),b={symbol:y.symbol,name:y.name,nextStatusSymbol:y.nextStatusSymbol===""?" ":y.nextStatusSymbol,availableAsCommand:y.availableAsCommand,type:y.type};this.plugin.settings.data.globalSettings.customStatuses[s]=b,await this.saveSettings(),n()}},v.open()};let C=L.createEl("span",{cls:"delete-btn",text:p("delete"),title:p("delete")});(0,S1.setIcon)(C,"trash"),C.onclick=async()=>{this.globalSettings.customStatuses.splice(s,1),await this.saveSettings(),n()}})};n();let i=this.plugin.settings.data.globalSettings.compatiblePlugins.tasksPlugin;new S1.Setting(e).addButton(l=>l.setButtonText(p("import-from-tasks-plugin")).setClass("import-from-tasks-plugin-btn").setCta().onClick(async()=>{await UL(this.plugin)&&n()}).setDisabled(!i)).addButton(l=>l.setButtonText(p("add-new-status")).setCta().onClick(async()=>{let c={symbol:"",name:"",nextStatusSymbol:"",availableAsCommand:!1,type:"TODO"},s=new Ta(this.plugin,c,!1);s.onClose=async()=>{if(s.saved){let d=s.statusConfiguration(),u={symbol:d.symbol,name:d.name,nextStatusSymbol:d.nextStatusSymbol,availableAsCommand:d.availableAsCommand,type:d.type};this.globalSettings.customStatuses||(this.globalSettings.customStatuses=[]),this.globalSettings.customStatuses.push(u),await this.saveSettings(),n()}},s.open()}))}renderInlineTasksTabSettings(e){let{taskPropertyFormat:a,preDefinedNote:r,archivedTasksFilePath:o,showFrontmatterTagsOnCards:n}=this.globalSettings,i=e.createDiv({cls:"global-setting-tab-live-preview"});i.createDiv({cls:"global-setting-tab-reading-mode-preview-label"}).setText(p("reading-mode-preview"));let c=i.createDiv({cls:"global-setting-tab-reading-mode-preview-markdown"});i.createDiv({cls:"global-setting-tab-source-mode-preview-label"}).setText(p("source-mode-preview"));let d=i.createDiv({cls:"global-setting-tab-source-mode-preview-data"}),u=h=>{c.empty(),y4.renderSubtaskText(this.app,h,c,"",this.plugin.view)},f=()=>{var V,H,D;let h=p("dummy-task-title"),m="\u23EB",x="10:00 - 11:00",L="",g="";((V=this.globalSettings)==null?void 0:V.universalDate)==="startDate"?(L=v2.startDateSymbol,g="start"):((H=this.globalSettings)==null?void 0:H.universalDate)==="scheduledDate"?(L=v2.scheduledDateSymbol,g="scheduled"):((D=this.globalSettings)==null?void 0:D.universalDate)==="due"&&(L=v2.dueDateSymbol,g="due");let C="2024-09-21",v="#tag #test",y="2024-09-21/12:20:33",b="";switch(this.globalSettings.taskPropertyFormat){case"1":{this.globalSettings.compatiblePlugins.dayPlannerPlugin?b=`- [>] ${x} ${h} ${m} ${L}${C} ${v} \u2705${y}`:b=`- [>] ${h} ${m} \u23F0[${x}] ${L}${C} ${v} \u2705${y}`;break}case"2":{this.globalSettings.compatiblePlugins.dayPlannerPlugin?b=`- [>] ${x} ${h} ${m} ${L} ${C} ${v} \u2705 ${y.split("/")[0]}`:b=`- [>] ${h} ${m} \u23F0 ${x} ${L} ${C} ${v} \u2705${y.split("/")[0]}`;break}case"3":{this.globalSettings.compatiblePlugins.dayPlannerPlugin?b=`- [>] ${x} ${h} [priority:: 2] [${g}:: ${C}] ${v} [completion:: ${y}]`:b=`- [>] ${h} [priority:: 2] [time:: ${x}] [${g}:: ${C}] ${v} [completion:: ${y}]`;break}case"4":{this.globalSettings.compatiblePlugins.dayPlannerPlugin?b=`- [>] ${x} ${h} @priority(2) @${g}(${C}) ${v} @completion(${y})`:b=`- [>] ${h} @priority(2) @time(${x}) @${g}(${C}) ${v} @completion(${y})`;break}}u(b),d.setText(b)};new S1.Setting(e).setName(p("supported-plugin-formats")).setDesc(p("supported-plugin-formats-info")).addDropdown(h=>{h.addOption("1",p("default")),h.addOption("2","Tasks "+p("plugin")),h.addOption("3","Dataview "+p("plugin")),h.addOption("4","Obsidian "+p("native")),h.setValue(a),h.onChange(async m=>{this.globalSettings.taskPropertyFormat=m,await this.saveSettings(),f(),this.openReloadNoticeIfNeeded()})}),f(),new S1.Setting(e).setName(p("default-note-for-adding-new-tasks")).setDesc(p("default-note-for-new-tasks-description")).addText(h=>{h.setValue(r).onChange(g=>{if(this.globalSettings){let C=(0,S1.normalizePath)(g);this.globalSettings.preDefinedNote=C}});let m=h.inputEl,x=Pt(this.app),L=async g=>{this.globalSettings&&(this.globalSettings.preDefinedNote=g),h.setValue(g),await this.saveSettings()};new h4(m,new Set(x),L,this.app)}),new S1.Setting(e).setName(p("file-for-archived-tasks")).setDesc(p("file-for-archived-tasks-description")).addText(h=>{h.setValue(o).onChange(g=>{if(this.globalSettings){let C=(0,S1.normalizePath)(g);this.globalSettings.archivedTasksFilePath=C}});let m=h.inputEl,x=Pt(this.app),L=async g=>{this.globalSettings&&(this.globalSettings.archivedTasksFilePath=g),h.setValue(g),await this.saveSettings()};new h4(m,new Set(x),L,this.app)}),new S1.Setting(e).setName(p("show-note-frontmatter-tags-in-the-card-header")).setDesc(p("show-note-frontmatter-tags-in-the-card-header-info")).addToggle(h=>h.setValue(n).onChange(async m=>{this.globalSettings.showFrontmatterTagsOnCards=m,await this.saveSettings()}))}renderTBNoteTabSettings(e){let{taskNoteIdentifierTag:a,taskNoteDefaultLocation:r,archivedTBNotesFolderPath:o,frontmatterFormatting:n}=this.globalSettings;new S1.Setting(e).setName(p("task-note-vs-tbnote")).setDesc(J4("<ul><li><b>"+p("task-note")+":</b> "+p("task-note-description")+"</li><li><b>"+p("tbnote")+":</b> "+p("tbnote-description")+" <a href='https://github.com/tu2-atmanand/Task-Board/issues/33'>"+p("tbnote-development-ticker")+"</a></li></ul>")),new S1.Setting(e).setName(p("task-note-identifier-tag")).setDesc(p("task-note-identifier-tag-description")).addText(s=>{s.setValue(a).onChange(u=>{this.globalSettings&&(this.globalSettings.taskNoteIdentifierTag=u.startsWith("#")?u.replace("#",""):u)});let d=s.inputEl;d.placeholder="e.g., #taskNote"});let i=ai(this.app);new S1.Setting(e).setName(p("default-location-for-new-task-notes")).setDesc(p("default-location-for-new-task-notes-description")).addText(s=>{s.setValue(r).onChange(f=>{if(this.globalSettings){let h=(0,S1.normalizePath)(f);this.globalSettings.taskNoteDefaultLocation=h}});let d=s.inputEl;d.placeholder="e.g., Task Notes/";let u=async f=>{this.globalSettings&&(this.globalSettings.taskNoteDefaultLocation=f),s.setValue(f),await this.saveSettings()};new h4(d,new Set(i),u,this.app)}),new S1.Setting(e).setName(p("folder-for-archived-task-notes")).setDesc(p("folder-for-archived-task-notes-description")).addText(s=>{s.setValue(o).onChange(f=>{if(this.globalSettings){let h=(0,S1.normalizePath)(f);this.globalSettings.archivedTBNotesFolderPath=h}});let d=s.inputEl;d.placeholder="e.g., TaskBoard/TaskNotes";let u=async f=>{this.globalSettings&&(this.globalSettings.archivedTBNotesFolderPath=f),s.setValue(f),await this.saveSettings()};new h4(d,new Set(i),u,this.app)}),new S1.Setting(e).setName(p("frontmatter-formatting")).setDesc(p("frontmatter-formatting-description"));let l=e.createDiv({cls:"taskBoardSettingsFrontmatterFormattingContainer"});i3.create(l,{animation:150,handle:".taskBoardSettingsFrontmatterFormattingContainerItemDragHandle",ghostClass:"task-board-sortable-ghost",chosenClass:"task-board-sortable-chosen",dragClass:"task-board-sortable-drag",dragoverBubble:!0,forceFallback:!0,fallbackClass:"task-board-sortable-fallback",easing:"cubic-bezier(1, 0, 0, 1)",onSort:async()=>{let s=Array.from(l.children).map((d,u)=>{let f=d.getAttribute("data-frontmatterItem-name"),h=n==null?void 0:n.find(m=>m.property===f);return h?(h.index=u+1,h):null}).filter(d=>d!==null);this.plugin.settings.data.globalSettings.frontmatterFormatting=s}}),(()=>{n&&(l.empty(),n.sort((s,d)=>s.index-d.index).forEach((s,d)=>{let u=l.createDiv({cls:"taskBoardSettingsFrontmatterFormattingContainerItemRow",attr:{"data-frontmatterItem-name":s.property}});new S1.Setting(u).setClass("taskBoardSettingsFrontmatterFormattingContainerItem").addButton(f=>f.setTooltip("Hold and drag").setIcon("grip-horizontal").setClass("taskBoardSettingsFrontmatterFormattingContainerItemDragHandle")).addButton(f=>{f.setButtonText(s.property)}).addText(f=>{f.setValue(s.key).setPlaceholder(p("Enter property key")).onChange(h=>{this.plugin.settings.data.globalSettings.frontmatterFormatting[d].key=h.trim()})})}))})()}renderMapViewTabSettings(e){var d;let{background:a,mapOrientation:r,arrowDirection:o,animatedEdges:n,scrollAction:i,showMinimap:l,renderVisibleNodes:c,edgeType:s}=(d=this.globalSettings)==null?void 0:d.mapView;new S1.Setting(e).setName(J4("<b>"+p("dfp-methodology")+"</b>")).setDesc(J4(p("dfp-methodology-description-1")+"<br />"+p("dfp-methodology-description-2")+" <a href='https://github.com/tu2-atmanand/Task-Board/discussions/400'>"+p("dfp-methodology")+".</a>")),new S1.Setting(e).setName(p("render-only-visible-nodes")).setDesc(J4("<ul><li>"+p("render-only-visible-nodes-description-1")+"</li><li>"+p("render-only-visible-nodes-description-2")+"</li></ul>")).addToggle(u=>u.setValue(c).onChange(async f=>{this.globalSettings.mapView.renderVisibleNodes=f,await this.saveSettings()})),new S1.Setting(e).setName(p("controls")).setHeading(),new S1.Setting(e).setName(p("mouse-wheel-behaviour")).setDesc(p("mouse-wheel-behaviour-description")).addDropdown(u=>u.addOptions({zoom:p("zoom"),pan:p("pan")}).setValue(i).onChange(async f=>{this.globalSettings.mapView.scrollAction=f,await this.saveSettings()})),new S1.Setting(e).setName(p("appearance")).setHeading(),new S1.Setting(e).setName(p("canvas-background")).setDesc(p("canvas-background-description")).addDropdown(u=>u.addOptions({none:p("default"),transparent:p("transparent"),dots:p("dots"),lines:p("lines"),cross:p("cross")}).setValue(a).onChange(async f=>{this.globalSettings.mapView.background=f,await this.saveSettings()})),new S1.Setting(e).setName(p("map-orientation")).setDesc(p("map-orientation-description")).addDropdown(u=>u.addOptions({hor:p("horizontal"),ver:p("vertical")}).setValue(r).onChange(async f=>{this.globalSettings.mapView.mapOrientation=f,await this.saveSettings()})),new S1.Setting(e).setName(p("link-arrow-direction")).setDesc(p("link-arrow-direction-description")).addDropdown(u=>u.addOptions({c2p:p("child-to-parent"),p2c:p("parent-to-child"),both:p("both-way")}).setValue(o).onChange(async f=>{this.globalSettings.mapView.arrowDirection=f,await this.saveSettings()})),new S1.Setting(e).setName(p("link-style")).setDesc(p("link-style-description")).addDropdown(u=>u.addOptions({straight:p("straight"),step:p("step"),smoothstep:p("smooth-step"),default:p("curved")}).setValue(s).onChange(async f=>{this.globalSettings.mapView.edgeType=f,await this.saveSettings()})),new S1.Setting(e).setName(p("animate-links")).setDesc(p("animate-links-description")).addToggle(u=>u.setValue(n).onChange(async f=>{this.globalSettings.mapView.animatedEdges=f,await this.saveSettings()})),new S1.Setting(e).setName(p("show-minimap")).setDesc(p("show-minimap-description")).addToggle(u=>u.setValue(l).onChange(async f=>{this.globalSettings.mapView.showMinimap=f,await this.saveSettings()}))}renderAutomationTabSettings(e){let{autoAddUniversalDate:a,autoAddCreatedDate:r,compatiblePlugins:o,dailyNotesPluginComp:n,quickAddPluginDefaultChoice:i,notificationService:l,boundTaskCompletionToChildTasks:c,autoAddCancelledDate:s,autoAddCompletedDate:d}=this.globalSettings;new S1.Setting(e).setName(p("edit-button-mode")).setDesc(p("edit-button-mode-info")).addDropdown(f=>f.addOptions({popUp:p("use-edit-task-modal-feature"),view:p("use-edit-task-window-feature"),tasksPluginModal:p("tasks-plugin-modal"),noteInTab:p("open-note-in-new-tab"),noteInSplit:p("open-note-in-right-split"),noteInWindow:p("open-note-in-new-window"),noteInHover:p("open-note-in-hover-preview")}).setValue(this.globalSettings.editButtonAction).onChange(async h=>{this.globalSettings.editButtonAction=h,await this.saveSettings()})),new S1.Setting(e).setName(p("double-click-card-action")).setDesc(p("double-click-card-action-info")).addDropdown(f=>f.addOptions({none:p("none"),popUp:p("use-edit-task-window-feature"),noteInTab:p("open-note-in-new-tab"),noteInSplit:p("open-note-in-right-split"),noteInWindow:p("open-note-in-new-window"),noteInHover:p("open-note-in-hover-preview")}).setValue(this.globalSettings.doubleClickCardToEdit).onChange(async h=>{this.globalSettings.doubleClickCardToEdit=h,await this.saveSettings()})),new S1.Setting(e).setName(p("restrict-task-completion-to-child-tasks-and-sub-tasks")).setDesc(p("restrict-task-completion-to-child-tasks-info")).addToggle(f=>f.setValue(c).onChange(async h=>{this.globalSettings.boundTaskCompletionToChildTasks=h,await this.saveSettings()})),new S1.Setting(e).setName(p("auto-add-universal-date-to-tasks")).setDesc(p("auto-add-universal-date-to-tasks-info")).addToggle(f=>f.setValue(a).onChange(async h=>{this.globalSettings.autoAddUniversalDate=h,await this.saveSettings()})),new S1.Setting(e).setName(p("auto-add-created-date")).setDesc(p("auto-add-created-date-desc")).addToggle(f=>f.setValue(r).onChange(async h=>{this.globalSettings.autoAddCreatedDate=h,await this.saveSettings()})),new S1.Setting(e).setName(p("auto-add-completed-date")).setDesc(p("auto-add-completed-date-desc")).addToggle(f=>f.setValue(d).onChange(async h=>{this.globalSettings.autoAddCompletedDate=h,await this.saveSettings()})),new S1.Setting(e).setName(p("auto-add-cancelled-date")).setDesc(p("auto-add-cancelled-date-desc")).addToggle(f=>f.setValue(s).onChange(async h=>{this.globalSettings.autoAddCancelledDate=h,await this.saveSettings()})),new S1.Setting(e).setName(p("compatible-plugins")).setHeading(),new S1.Setting(e).setName(p("daily-notes")+p("plugin-compatibility")).setDesc(p("daily-notes-plugin-compatibility")).addToggle(f=>f.setValue(n).onChange(async h=>{this.globalSettings.dailyNotesPluginComp=h,await this.saveSettings()})),new S1.Setting(e).setName("Day Planner "+p("plugin-compatibility")).setDesc(p("day-planner-plugin-compatibility")).addToggle(f=>f.setValue(o.dayPlannerPlugin).onChange(async h=>{this.globalSettings.compatiblePlugins.dayPlannerPlugin=h,await this.saveSettings()}));let u=new e6(this.plugin);u.isQuickAddPluginEnabled()||(this.globalSettings.compatiblePlugins.quickAddPlugin=!1,this.saveSettings()),new S1.Setting(e).setName("QuickAdd "+p("plugin-compatibility")).setDesc(p("quickadd-plugin-compatibility-description")).setTooltip(p("Install and enable QuickAdd plugin to use this setting.")).addToggle(f=>f.setValue(o.quickAddPlugin&&u.isQuickAddPluginEnabled()).onChange(async h=>{this.globalSettings&&!u.isQuickAddPluginEnabled()?(new S1.Notice(p("quickadd-plugin-not-enabled")),this.globalSettings.compatiblePlugins.quickAddPlugin=!1):this.globalSettings&&(this.globalSettings.compatiblePlugins.quickAddPlugin=h,this.openReloadNoticeIfNeeded()),await this.saveSettings()})).setDisabled(!u.isQuickAddPluginEnabled()),new S1.Setting(e).setName(p("default-quickadd-choice")).setDesc(p("default-quickadd-choice-description")).setTooltip(p("Enable the above setting to use this setting.")).addText(f=>{f.setValue(i).onChange(L=>{this.globalSettings&&(this.globalSettings.quickAddPluginDefaultChoice=L)});let h=f.inputEl,m=ri(this.app,u.quickAddPlugin),x=async L=>{this.globalSettings&&(this.globalSettings.quickAddPluginDefaultChoice=L),f.setValue(L),await this.saveSettings()};new h4(h,new Set(m),x,this.app)}).setDisabled(!this.globalSettings.compatiblePlugins.quickAddPlugin),new S1.Setting(e).setName(p("push-notification-compatibility")).setDesc(p("push-notification-compatibility-description")).addDropdown(f=>{f.addOption("none",p("none")),f.addOption("reminderPlugin","Reminder "+p("plugin")),f.addOption("obsiApp","Obsi "+p("app")),f.setValue(l),f.onChange(async h=>{this.globalSettings.notificationService=h,await this.saveSettings()})})}renderFormatsTabSettings(e){let{universalDateFormat:a,defaultStartTime:r,firstDayOfWeek:o,taskCompletionInLocalTime:n,taskCompletionShowUtcOffset:i}=this.globalSettings;new S1.Setting(e).setName(p("universal-date")).setDesc(p("universal-date-description")).addDropdown(l=>l.addOptions({startDate:p("start-date"),scheduledDate:p("scheduled-date"),due:p("due-date")}).setValue(this.globalSettings.universalDate).onChange(async c=>{this.globalSettings.universalDate=c,await this.saveSettings()})),new S1.Setting(e).setName(p("universal-date-format")).setDesc(p("universal-date-format-info")).addText(l=>l.setValue(a).onChange(async c=>{this.globalSettings.universalDateFormat=c,await this.saveSettings()}).setPlaceholder("YYYY-MM-DD")),new S1.Setting(e).setName(p("default-start-time")).setDesc(p("default-start-time-info")).addText(l=>l.setValue(r).onChange(async c=>{this.globalSettings.defaultStartTime=c,await this.saveSettings()}).setPlaceholder("eg.: 00:00 or 23:59")),new S1.Setting(e).setName(p("first-day-of-the-week")).setDesc(p("first-day-of-the-week-info")).addDropdown(l=>{l.addOption("1",p("sunday")),l.addOption("2",p("monday")),l.addOption("3",p("tuesday")),l.addOption("4",p("monday")),l.addOption("5",p("thursday")),l.addOption("6",p("friday")),l.addOption("7",p("saturday")),l.setValue(o),l.onChange(async c=>{this.globalSettings.firstDayOfWeek=c,await this.saveSettings()})}),new S1.Setting(e).setName(p("task-completion-in-local-time")).setDesc(p("task-completion-in-local-time-info")).addToggle(l=>l.setValue(n).onChange(async c=>{this.globalSettings.taskCompletionInLocalTime=c,await this.saveSettings()})),new S1.Setting(e).setName(p("show-utc-offset-for-task-completion")).setDesc(p("show-utc-offset-for-task-completion-info")).addToggle(l=>l.setValue(i).onChange(async c=>{this.globalSettings.taskCompletionShowUtcOffset=c,await this.saveSettings()}))}},bB=t=>{let e=createEl("a",{href:t,cls:"buymeacoffee-tu2-atmanand-img"}),a=createSvg("svg",{attr:{xmlns:"http://www.w3.org/2000/svg",width:"150",height:"40"}});return a.appendChild(createSvg("path",{attr:{fill:"#253B80",d:"M46.211 6.749h-6.839a.95.95 0 0 0-.939.802l-2.766 17.537a.57.57 0 0 0 .564.658h3.265a.95.95 0 0 0 .939-.803l.746-4.73a.95.95 0 0 1 .938-.803h2.165c4.505 0 7.105-2.18 7.784-6.5.306-1.89.013-3.375-.872-4.415-.972-1.142-2.696-1.746-4.985-1.746zM47 13.154c-.374 2.454-2.249 2.454-4.062 2.454h-1.032l.724-4.583a.57.57 0 0 1 .563-.481h.473c1.235 0 2.4 0 3.002.704.359.42.469 1.044.332 1.906zM66.654 13.075h-3.275a.57.57 0 0 0-.563.481l-.145.916-.229-.332c-.709-1.029-2.29-1.373-3.868-1.373-3.619 0-6.71 2.741-7.312 6.586-.313 1.918.132 3.752 1.22 5.031.998 1.176 2.426 1.666 4.125 1.666 2.916 0 4.533-1.875 4.533-1.875l-.146.91a.57.57 0 0 0 .562.66h2.95a.95.95 0 0 0 .939-.803l1.77-11.209a.568.568 0 0 0-.561-.658zm-4.565 6.374c-.316 1.871-1.801 3.127-3.695 3.127-.951 0-1.711-.305-2.199-.883-.484-.574-.668-1.391-.514-2.301.295-1.855 1.805-3.152 3.67-3.152.93 0 1.686.309 2.184.892.499.589.697 1.411.554 2.317zM84.096 13.075h-3.291a.954.954 0 0 0-.787.417l-4.539 6.686-1.924-6.425a.953.953 0 0 0-.912-.678h-3.234a.57.57 0 0 0-.541.754l3.625 10.638-3.408 4.811a.57.57 0 0 0 .465.9h3.287a.949.949 0 0 0 .781-.408l10.946-15.8a.57.57 0 0 0-.468-.895z"}})),a.appendChild(createSvg("path",{attr:{fill:"#179BD7",d:"M94.992 6.749h-6.84a.95.95 0 0 0-.938.802l-2.766 17.537a.569.569 0 0 0 .562.658h3.51a.665.665 0 0 0 .656-.562l.785-4.971a.95.95 0 0 1 .938-.803h2.164c4.506 0 7.105-2.18 7.785-6.5.307-1.89.012-3.375-.873-4.415-.971-1.142-2.694-1.746-4.983-1.746zm.789 6.405c-.373 2.454-2.248 2.454-4.062 2.454h-1.031l.725-4.583a.568.568 0 0 1 .562-.481h.473c1.234 0 2.4 0 3.002.704.359.42.468 1.044.331 1.906zM115.434 13.075h-3.273a.567.567 0 0 0-.562.481l-.145.916-.23-.332c-.709-1.029-2.289-1.373-3.867-1.373-3.619 0-6.709 2.741-7.311 6.586-.312 1.918.131 3.752 1.219 5.031 1 1.176 2.426 1.666 4.125 1.666 2.916 0 4.533-1.875 4.533-1.875l-.146.91a.57.57 0 0 0 .564.66h2.949a.95.95 0 0 0 .938-.803l1.771-11.209a.571.571 0 0 0-.565-.658zm-4.565 6.374c-.314 1.871-1.801 3.127-3.695 3.127-.949 0-1.711-.305-2.199-.883-.484-.574-.666-1.391-.514-2.301.297-1.855 1.805-3.152 3.67-3.152.93 0 1.686.309 2.184.892.501.589.699 1.411.554 2.317zM119.295 7.23l-2.807 17.858a.569.569 0 0 0 .562.658h2.822c.469 0 .867-.34.939-.803l2.768-17.536a.57.57 0 0 0-.562-.659h-3.16a.571.571 0 0 0-.562.482z"}})),a.appendChild(createSvg("path",{attr:{fill:"#253B80",d:"M7.266 29.154l.523-3.322-1.165-.027H1.061L4.927 1.292a.316.316 0 0 1 .314-.268h9.38c3.114 0 5.263.648 6.385 1.927.526.6.861 1.227 1.023 1.917.17.724.173 1.589.007 2.644l-.012.077v.676l.526.298a3.69 3.69 0 0 1 1.065.812c.45.513.741 1.165.864 1.938.127.795.085 1.741-.123 2.812-.24 1.232-.628 2.305-1.152 3.183a6.547 6.547 0 0 1-1.825 2c-.696.494-1.523.869-2.458 1.109-.906.236-1.939.355-3.072.355h-.73c-.522 0-1.029.188-1.427.525a2.21 2.21 0 0 0-.744 1.328l-.055.299-.924 5.855-.042.215c-.011.068-.03.102-.058.125a.155.155 0 0 1-.096.035H7.266z"}})),a.appendChild(createSvg("path",{attr:{fill:"#179BD7",d:"M23.048 7.667c-.028.179-.06.362-.096.55-1.237 6.351-5.469 8.545-10.874 8.545H9.326c-.661 0-1.218.48-1.321 1.132L6.596 26.83l-.399 2.533a.704.704 0 0 0 .695.814h4.881c.578 0 1.069-.42 1.16-.99l.048-.248.919-5.832.059-.32c.09-.572.582-.992 1.16-.992h.73c4.729 0 8.431-1.92 9.513-7.476.452-2.321.218-4.259-.978-5.622a4.667 4.667 0 0 0-1.336-1.03z"}})),a.appendChild(createSvg("path",{attr:{fill:"#222D65",d:"M21.754 7.151a9.757 9.757 0 0 0-1.203-.267 15.284 15.284 0 0 0-2.426-.177h-7.352a1.172 1.172 0 0 0-1.159.992L8.05 17.605l-.045.289a1.336 1.336 0 0 1 1.321-1.132h2.752c5.405 0 9.637-2.195 10.874-8.545.037-.188.068-.371.096-.55a6.594 6.594 0 0 0-1.017-.429 9.045 9.045 0 0 0-.277-.087z"}})),a.appendChild(createSvg("path",{attr:{fill:"#253B80",d:"M9.614 7.699a1.169 1.169 0 0 1 1.159-.991h7.352c.871 0 1.684.057 2.426.177a9.757 9.757 0 0 1 1.481.353c.365.121.704.264 1.017.429.368-2.347-.003-3.945-1.272-5.392C20.378.682 17.853 0 14.622 0h-9.38c-.66 0-1.223.48-1.325 1.133L.01 25.898a.806.806 0 0 0 .795.932h5.791l1.454-9.225 1.564-9.906z"}})),e.appendChild(a),e},SB=(t,e)=>{let a=document.createElement("a");return a.setAttribute("href",t),a.addClass("buymeacoffee-tu2-atmanand-img"),a.appendChild(e),a},HB=(t,e)=>{let a=document.createElement("a");return a.setAttribute("href",t),a.addClass("buymeacoffee-tu2-atmanand-img"),a.appendChild(e),a}});var my,zi,vy=g1(()=>{"use strict";my=require("obsidian");V2();K3();t2();H4();zi=class extends my.Modal{constructor(e,{onCancel:a,onSubmit:r}){super(e),this.onCancel=a,this.onSubmit=r,this.colType="undated",this.name=""}onOpen(){let{contentEl:e}=this;this.modalEl.setAttribute("data-type","task-board-view"),e.setAttribute("data-type","task-board-view");let a=e.createDiv({cls:"addColumnModalOverlayContent"});a.createEl("h2",{text:p("add-column")});let r=a.createDiv({cls:"addColumnModalOverlayContentField"});r.createEl("label",{attr:{for:"colType"},text:p("column-type")});let o=r.createEl("select",{attr:{id:"colType"}});[{value:"undated",text:F3.undated},{value:"dated",text:F3.dated},{value:"namedTag",text:F3.namedTag},{value:"untagged",text:F3.untagged},{value:"otherTags",text:F3.otherTags},{value:"taskStatus",text:F3.taskStatus},{value:"taskPriority",text:F3.taskPriority},{value:"pathFiltered",text:F3.pathFiltered},{value:"allPending",text:F3.allPending},{value:"completed",text:F3.completed}].forEach(d=>{o.createEl("option",{attr:{value:d.value},text:d.text})}),o.addEventListener("change",d=>{let u=d.target;this.colType=u.value});let n=a.createDiv({cls:"addColumnModalOverlayContentField"});n.createEl("label",{attr:{for:"name"},text:p("column-name")}),n.createEl("input",{attr:{type:"text",id:"name",placeholder:p("enter-column-name")}}).addEventListener("input",d=>{let u=d.target;this.name=u.value});let l=a.createDiv({cls:"addColumnModalOverlayContentActions"});l.createEl("button",{text:p("submit")}).addEventListener("click",()=>{this.colType==="dated"||this.colType==="undated"?this.onSubmit({id:e0(),index:9999,active:!0,colType:this.colType,name:this.name,datedBasedColumn:{dateType:"due",from:0,to:0}}):this.colType==="namedTag"?this.onSubmit({id:e0(),index:9999,active:!0,colType:this.colType,name:this.name,coltag:""}):this.colType==="taskStatus"?this.onSubmit({id:e0(),index:9999,active:!0,colType:this.colType,name:this.name,taskStatus:""}):this.colType==="taskPriority"?this.onSubmit({id:e0(),index:9999,active:!0,colType:this.colType,name:this.name,taskPriority:1}):this.colType==="completed"?this.onSubmit({id:e0(),index:9999,active:!0,colType:this.colType,name:this.name,limit:20}):this.colType==="pathFiltered"?this.onSubmit({id:e0(),index:9999,active:!0,colType:this.colType,name:this.name,filePaths:""}):this.onSubmit({id:e0(),index:9999,active:!0,colType:this.colType,name:this.name}),this.close()}),l.createEl("button",{text:p("cancel")}).addEventListener("click",()=>{this.onCancel(),this.close()})}onClose(){let{contentEl:e}=this;e.empty(),this.onCancel()}}});var c3,Cy,xy,T1,kB,bi,Ly=g1(()=>{"use strict";c3=B1(T2(),1),Cy=require("obsidian"),xy=B1(a5(),1);t2();i5();mi();G8();T1=B1(n2(),1),kB=({swimlaneConfig:t,onSave:e,onCancel:a})=>{var N;let[r,o]=(0,c3.useState)(t.enabled),[n,i]=(0,c3.useState)(t.property||"tags"),[l,c]=(0,c3.useState)(t.customValue||""),[s,d]=(0,c3.useState)(t.sortCriteria||"asc"),[u,f]=(0,c3.useState)((N=t.hideEmptySwimlanes)!=null?N:!1),[h,m]=(0,c3.useState)(t.customSortOrder||[]),[x,L]=(0,c3.useState)(t.maxHeight||"300px"),[g,C]=(0,c3.useState)(t.groupAllRest),[v,y]=(0,c3.useState)(t.verticalHeaderUI||!1),b=(0,c3.useRef)(null),V=(0,c3.useRef)(null);(0,c3.useEffect)(()=>(s==="custom"&&b.current&&(V.current&&V.current.destroy(),V.current=i3.create(b.current,{animation:150,handle:".swimlanesConfigSortRowDragHandle",ghostClass:"swimlanesConfigSortRowGhost",chosenClass:"swimlanesConfigSortRowChosen",dragClass:"swimlanesConfigSortRowDrag",onEnd:w=>{if(w.oldIndex===void 0||w.newIndex===void 0)return;let M=[...h],[z]=M.splice(w.oldIndex,1);M.splice(w.newIndex,0,z);let k=M.map((T,S)=>({...T,index:S+1}));m(k)}})),()=>{V.current&&(V.current.destroy(),V.current=null)}),[s,h.length]);let H=()=>{e({enabled:r,hideEmptySwimlanes:u,property:n,maxHeight:x,customValue:l||void 0,sortCriteria:s,customSortOrder:s==="custom"?h:void 0,groupAllRest:g,verticalHeaderUI:v,minimized:[]})},D=()=>{let w=h.length+1;m([...h,{value:"",index:w}])},A=w=>{let M=h.filter((z,k)=>k!==w).map((z,k)=>({...z,index:k+1}));m(M)},E=(w,M)=>{let z=[...h];z[w].value=M,m(z)},O=[{value:"tags",label:p("tags")},{value:"priority",label:p("priority")},{value:"status",label:p("status")},{value:"custom",label:p("custom-property")}],_=[{value:"asc",label:p("ascending")},{value:"desc",label:p("descending")},{value:"custom",label:p("custom-sorting")}];return(0,T1.jsxs)("div",{className:"swimlanesConfigContent",children:[(0,T1.jsxs)("div",{className:"swimlanesConfigSection",children:[(0,T1.jsx)("h2",{children:p("configure-kanban-swimlanes")}),(0,T1.jsxs)("div",{className:"swimlanesConfigItem",children:[(0,T1.jsxs)("div",{className:"swimlanesConfigLabel",children:[(0,T1.jsx)("label",{children:p("enable-swimlanes")}),(0,T1.jsxs)("div",{className:"swimlanesConfigDescription",children:[p("enable-swimlanes-info-1"),(0,T1.jsx)("br",{}),p("enable-swimlanes-info-2")]})]}),(0,T1.jsx)("input",{type:"checkbox",checked:r,onChange:w=>o(w.target.checked)})]}),r&&(0,T1.jsxs)(T1.Fragment,{children:[(0,T1.jsxs)("div",{className:"swimlanesConfigItem",children:[(0,T1.jsxs)("div",{className:"swimlanesConfigLabel",children:[(0,T1.jsx)("label",{children:p("task-property")}),(0,T1.jsx)("div",{className:"swimlanesConfigDescription",children:p("task-property-info")})]}),(0,T1.jsx)("select",{value:n,onChange:w=>i(w.target.value),className:"swimlanesConfigSelect",children:O.map(w=>(0,T1.jsx)("option",{value:w.value,children:w.label},w.value))})]}),n==="custom"&&(0,T1.jsxs)("div",{className:"swimlanesConfigItem",children:[(0,T1.jsxs)("div",{className:"swimlanesConfigLabel",children:[(0,T1.jsx)("label",{children:p("custom-property-key")}),(0,T1.jsx)("div",{className:"swimlanesConfigDescription",children:p("custom-property-key-info")})]}),(0,T1.jsx)("input",{type:"text",placeholder:"e.g.: project",value:l,onChange:w=>c(w.target.value),className:"swimlanesConfigInput"})]}),(0,T1.jsxs)("div",{className:"swimlanesConfigItem",children:[(0,T1.jsxs)("div",{className:"swimlanesConfigLabel",children:[(0,T1.jsx)("label",{children:p("max-swimlane-height")}),(0,T1.jsx)("div",{className:"swimlanesConfigDescription",children:p("max-swimlane-height-info")})]}),(0,T1.jsx)("input",{type:"text",placeholder:"Default is 300px",value:x||"300px",onChange:w=>L(w.target.value)})]}),(0,T1.jsxs)("div",{className:"swimlanesConfigItem",children:[(0,T1.jsxs)("div",{className:"swimlanesConfigLabel",children:[(0,T1.jsx)("label",{children:p("swimlane-sort-order")}),(0,T1.jsx)("div",{className:"swimlanesConfigDescription",children:p("swimlane-sort-order-info")})]}),(0,T1.jsx)("select",{value:s,onChange:w=>d(w.target.value),className:"swimlanesConfigSelect",children:_.map(w=>(0,T1.jsx)("option",{value:w.value,children:w.label},w.value))})]}),s==="custom"&&(0,T1.jsxs)("div",{className:"swimlanesConfigManualSortSection",children:[(0,T1.jsx)("h3",{className:"swimlanesConfigManualSortHeading",children:p("manual-sorting-mapping")}),(0,T1.jsx)("div",{className:"swimlanesConfigManualSortDescription",children:p("manual-sorting-mapping-info")}),(0,T1.jsxs)("div",{className:"swimlaneConfigsManualSortContainer",children:[(0,T1.jsx)("div",{ref:b,className:"swimlanesConfigSortRowsList",children:h.map((w,M)=>(0,T1.jsxs)("div",{className:"swimlanesConfigSortRow",children:[(0,T1.jsx)(pi,{className:"swimlanesConfigSortRowDragHandle",size:16}),(0,T1.jsx)("div",{className:"swimlanesConfigSortRowIndex",children:w.index}),(0,T1.jsx)("input",{type:"text",placeholder:p("enter-property-value"),value:w.value,onChange:z=>E(M,z.target.value),className:"swimlanesConfigSortRowInput"}),(0,T1.jsx)(f0,{className:"swimlanesConfigSortRowDeleteBtn",size:20,onClick:()=>A(M),title:p("delete")})]},M))}),(0,T1.jsx)("button",{className:"swimlanesConfigAddSortRowBtn",onClick:D,children:p("add-row")})]}),(0,T1.jsxs)("div",{className:"swimlanesConfigItem",children:[(0,T1.jsxs)("div",{className:"swimlanesConfigLabel",children:[(0,T1.jsx)("label",{children:p("hide-empty-swimlanes")}),(0,T1.jsx)("div",{className:"swimlanesConfigDescription",children:p("hide-empty-swimlanes-info")})]}),(0,T1.jsx)("input",{type:"checkbox",checked:u,onChange:w=>f(w.target.checked)})]}),(0,T1.jsxs)("div",{className:"swimlanesConfigItem",children:[(0,T1.jsxs)("div",{className:"swimlanesConfigLabel",children:[(0,T1.jsx)("label",{children:p("aggregator-swimlane")}),(0,T1.jsx)("div",{className:"swimlanesConfigDescription",children:p("aggregator-swimlane-info")})]}),(0,T1.jsx)("input",{type:"checkbox",checked:g,onChange:w=>C(w.target.checked)})]})]}),(0,T1.jsxs)("div",{className:"swimlanesConfigItem",children:[(0,T1.jsxs)("div",{className:"swimlanesConfigLabel",children:[(0,T1.jsx)("label",{children:"UI type : vertical swimlane header on left"}),(0,T1.jsx)("div",{className:"swimlanesConfigDescription",children:"Enable this setting to display the swimlane header as vertical bar on left.This is an experimental setting to get user feedback. This setting will be removed in the future and a common UI type will be selected based on the better ergonomic design and majority votes from the community."})]}),(0,T1.jsx)("input",{type:"checkbox",checked:v,onChange:w=>y(w.target.checked)})]})]})]}),(0,T1.jsxs)("div",{className:"swimlanesConfigButtonsContainer",children:[(0,T1.jsx)("button",{className:"swimlanesConfigBtn swimlanesConfigBtnCancel",onClick:a,children:p("cancel")||"Cancel"}),(0,T1.jsx)("button",{className:"swimlanesConfigBtn swimlanesConfigBtnSave",onClick:H,children:p("save")||"Save"})]})]})},bi=class extends Cy.Modal{constructor(a,r,o){super(a);this.root=null;this.swimlaneConfig=r,this.onSave=o,this.modalEl.classList.add("swimlanes-config-modal")}onOpen(){let{contentEl:a}=this;this.root=xy.default.createRoot(a),this.root.render((0,T1.jsx)(kB,{swimlaneConfig:this.swimlaneConfig,onSave:r=>{this.onSave(r),this.close()},onCancel:()=>this.close()}))}onClose(){this.root&&(this.root.unmount(),this.root=null);let{contentEl:a}=this;a.empty()}}});var n7,B4,yy,u1,VB,Si,My=g1(()=>{"use strict";n7=require("obsidian");i5();Nt();B4=B1(T2(),1);af();G8();yy=B1(a5(),1);mi();lf();t2();xi();e7();V2();K3();vy();Ly();Y1();u1=B1(n2(),1),VB=({plugin:t,settingManager:e,boards:a,activeBoardIndex:r,onSave:o,onClose:n,setIsEdited:i})=>{let[l,c]=(0,B4.useState)(()=>{try{return a?JSON.parse(JSON.stringify(a)):[]}catch(B){return $.showNotice(34,"Error parsing boards data",B,"BoardConfigModal.tsx/localBoards"),[]}}),[s,d]=(0,B4.useState)(r),[u,f]=(0,B4.useState)(!1),h=(0,B4.useRef)(null),m=(0,B4.useRef)(null),x=(0,B4.useRef)(null);(0,B4.useEffect)(()=>{if(s===-1||!m.current||!l[s])return;let B=i3.create(m.current,{animation:150,handle:".boardConfigModalColumnRowDragButton",onEnd:I=>{if(I.oldIndex===void 0||I.newIndex===void 0)return;let F=[...l],[q]=F[s].columns.splice(I.oldIndex,1);F[s].columns.splice(I.newIndex,0,q),F[s].columns.forEach((G,Y)=>G.index=Y+1),c(F),i(!0)}});return()=>{B.destroy()}},[s,l]),(0,B4.useEffect)(()=>{if(!x.current)return;let B=i3.create(x.current,{animation:150,handle:".boardConfigModalSidebarBtnArea-btn-drag-handle",onEnd:I=>{if(I.oldIndex===void 0||I.newIndex===void 0||I.oldIndex===I.newIndex)return;let F=[...l],[q]=F.splice(I.oldIndex,1);F.splice(I.newIndex,0,q);let G=F.map((Y,J)=>({...Y,index:J}));c(G),s===I.oldIndex?d(I.newIndex):I.oldIndex<s&&I.newIndex>=s?d(Y=>Y-1):I.oldIndex>s&&I.newIndex<=s&&d(Y=>Y+1),i(!0)}});return()=>{B.destroy()}},[l,s]);let L=()=>{f(!0)},g=()=>{f(!1)},C=()=>{if(s===-1){new n7.Notice(p("no-board-selected"));return}let I=l[s].swimlanes||{enabled:!1,hideEmptySwimlanes:!1,property:"tags",customValue:"",sortCriteria:"asc",customSortOrder:[],minimized:!1,maxHeight:"300px"};new bi(t.app,I,q=>{let G=[...l];G[s].swimlanes=q,c(G),i(!0)}).open()},v=(B,I)=>{let F=[...l];F[B].columns.push({id:I.id,index:F[B].columns.length+1,colType:I.colType,active:!0,collapsed:!1,name:I.name,coltag:I.coltag,datedBasedColumn:I.datedBasedColumn,taskStatus:I.taskStatus,taskPriority:I.taskPriority,limit:I.limit,filePaths:I.filePaths}),c(F),g(),i(!0)},y=()=>{if(!u)return null;new zi(t.app,{app:t.app,onCancel:g,onSubmit:I=>v(s,I)}).open()},b=async B=>{let I={name:p("new-board"),index:l.length,columns:[],hideEmptyColumns:!1,showColumnTags:!0,showFilteredTags:!0,boardFilter:{rootCondition:"any",filterGroups:[]},swimlanes:{enabled:!1,hideEmptySwimlanes:!1,property:"tags",sortCriteria:"asc",minimized:[],maxHeight:"300px",verticalHeaderUI:!1}};c([...B,I]),d(l.length),i(!0)},V=async()=>{if(s===-1){new n7.Notice(p("no-board-selected-to-duplicate"));return}let B=l[s],I={...JSON.parse(JSON.stringify(B)),name:`${B.name} ${p("copy-suffix")}`,index:l.length,filterConfig:void 0,taskCount:void 0,boardFilter:{rootCondition:"any",filterGroups:[]},swimlanes:B.swimlanes||{enabled:!1,hideEmptySwimlanes:!1,property:"tags",sortCriteria:"asc"}},F=[...l,I];c(F),d(F.length-1),i(!0)},H=()=>{let B=t.app,I=p("board-delete-confirmation-message");new c5(B,{app:B,mssg:I,onConfirm:()=>{if(s!==-1){let q=[...l];q.splice(s,1);for(let G=s;G<q.length;G++)q[G].index=G;c(q),i(!0),q.length===0?(b(q),d(0)):s!==0&&d(s-1)}else new n7.Notice(p("no-board-selected-to-delete"))},onCancel:()=>{}}).open()},D=(B,I)=>{let F=[...l],q=F[B].columns[I];q.active=!q.active,c(F)},A=()=>{o(l)},E=B=>(0,u1.jsx)("div",{className:"pluginGlobalSettingsTab",ref:h});(0,B4.useEffect)(()=>{s===-1&&h.current&&(e.cleanUp(),h.current.empty(),e.constructUI(h.current,p("plugin-global-settings")))},[s]);let O=(0,B4.useRef)({});(0,B4.useEffect)(()=>{var B;(B=l[s])==null||B.columns.forEach((I,F)=>{let q=O.current[I.id];if(q){if(O.current[I.id]!==null&&I.colType==="pathFiltered"){let G=Pt(t.app),Y=J=>{_(s,F,"filePaths",J)};new h4(q,new Set(G),Y,t.app)}else if(O.current[I.id]!==null&&I.colType==="namedTag"){let G=se(t.app),Y=J=>{_(s,F,"coltag",J)};new h4(q,new Set(G),Y,t.app)}}})},[t.app,s,l]);let _=(B,I,F,q)=>{let G=[...l];G[B].columns[I][F]=q,c(G),i(!0)},N=(B,I)=>{let F=[...l];F[B].name=I,c(F),i(!0)},w=(B,I)=>{let F=[...l];F[B].description=I,c(F),i(!0)},M=(B,I,F)=>{let q=[...l];q[B]&&(q[B][I]=F),c(q),i(!0)},z=(B,I)=>{let F=t.app,q=p("column-delete-confirmation-message")+l[B].columns[I].name;new c5(F,{app:F,mssg:q,onConfirm:()=>{if(I!==-1){let Y=[...l];Y[B].columns.splice(I,1),c(Y),i(!0)}else $.showNotice(35,"There was an error while trying to delete the column. The column index was -1 for some reason.",`RROR : Column index is -1
Column name :${l[B].columns[I].name}`,"BoardConfigModal.tsx/handleDeleteColumnFromBoard")},onCancel:()=>{}}).open()};(0,B4.useEffect)(()=>{if(s===-1||!m.current||!l[s])return;let B=i3.create(m.current,{animation:150,handle:".boardConfigModalColumnRowDragButton",ghostClass:"task-board-sortable-ghost",chosenClass:"task-board-sortable-chosen",dragClass:"task-board-sortable-drag",dragoverBubble:!0,forceFallback:!0,fallbackClass:"task-board-sortable-fallback",easing:"cubic-bezier(1, 0, 0, 1)",onSort:I=>{try{if(I.oldIndex===void 0||I.newIndex===void 0)return;let F=[...l],[q]=F[s].columns.splice(I.oldIndex,1);F[s].columns.splice(I.newIndex,0,q),F[s].columns.forEach((G,Y)=>{G.index=Y+1}),c(F),i(!0)}catch(F){$.showNotice(36,"Error in Sortable onSort",F,"BoardConfigModal.tsx/onSort")}}});return()=>{B.destroy()}},[s,l]);let k=B=>{h.current&&(e.cleanUp(),h.current.empty());let I=l[B];return(0,u1.jsxs)("div",{className:"boardConfigModalMainContent-Active",children:[(0,u1.jsxs)("h2",{className:"boardConfigModalMainContent-Active-Heading",children:[I.name," ",p("configurations")]}),(0,u1.jsx)("hr",{className:"boardConfigModalHr-50"}),(0,u1.jsxs)("div",{className:"boardConfigModalMainContent-Active-Body",children:[(0,u1.jsxs)("div",{className:"boardConfigModalMainContent-Active-Body-InputItems",children:[(0,u1.jsxs)("div",{className:"boardConfigModalMainContent-Active-Body-boardNameTag",children:[(0,u1.jsx)("div",{className:"boardConfigModalSettingName",children:p("board-name")}),(0,u1.jsx)("div",{className:"boardConfigModalSettingDescription",children:p("board-name-info")})]}),(0,u1.jsx)("input",{type:"text",value:I.name,onChange:F=>N(B,F.target.value)})]}),(0,u1.jsxs)("div",{className:"boardConfigModalMainContent-Active-Body-InputItems",children:[(0,u1.jsxs)("div",{className:"boardConfigModalMainContent-Active-Body-boardDescriptionTag",children:[(0,u1.jsx)("div",{className:"boardConfigModalSettingName",children:p("board-description")}),(0,u1.jsx)("div",{className:"boardConfigModalSettingDescription",children:p("board-description-info")})]}),(0,u1.jsx)("textarea",{rows:4,value:(I==null?void 0:I.description)||"",onChange:F=>w(B,F.target.value)})]}),(0,u1.jsxs)("div",{className:"boardConfigModalMainContent-Active-Body-InputItems",children:[(0,u1.jsxs)("div",{className:"boardConfigModalMainContent-Active-Body-boardNameTag",children:[(0,u1.jsx)("div",{className:"boardConfigModalSettingName",children:p("show-tags-in-the-columns-of-type-tagged")}),(0,u1.jsx)("div",{className:"boardConfigModalSettingDescription",children:p("show-tags-in-the-columns-of-type-tagged-info")})]}),(0,u1.jsx)("input",{type:"checkbox",checked:I.showColumnTags,onChange:F=>M(B,"showColumnTags",F.target.checked)})]}),(0,u1.jsxs)("div",{className:"boardConfigModalMainContent-Active-Body-InputItems",children:[(0,u1.jsxs)("div",{className:"boardConfigModalMainContent-Active-Body-boardNameTag",children:[(0,u1.jsx)("div",{className:"boardConfigModalSettingName",children:p("automatically-hide-empty-columns")}),(0,u1.jsx)("div",{className:"boardConfigModalSettingDescription",children:p("automatically-hide-empty-columns-info")})]}),(0,u1.jsx)("input",{type:"checkbox",checked:I.hideEmptyColumns,onChange:F=>M(B,"hideEmptyColumns",F.target.checked)})]}),t.settings.data.globalSettings.experimentalFeatures&&(0,u1.jsxs)("div",{className:"boardConfigModalMainContent-Active-Body-InputItems",children:[(0,u1.jsxs)("div",{className:"boardConfigModalMainContent-Active-Body-boardNameTag",children:[(0,u1.jsx)("div",{className:"boardConfigModalSettingName",children:p("configure-kanban-swimlanes")}),(0,u1.jsx)("div",{className:"boardConfigModalSettingDescription",children:p("configure-kanban-swimlanes-info")})]}),(0,u1.jsx)("button",{className:"boardConfigModalMainContentConfigureSwimlanesBtn",onClick:C,children:p("configure")})]}),(0,u1.jsx)("hr",{className:"boardConfigModalHr-100"}),(0,u1.jsxs)("div",{className:"boardConfigModalMainContent-Active-BodyColumnSec",children:[(0,u1.jsx)("h3",{children:p("columns")}),(0,u1.jsx)("div",{ref:m,className:"boardConfigModalMainContent-Active-BodyColumnsList",children:I.columns.map((F,q)=>{var G,Y,J,h1,r1;return(0,u1.jsxs)("div",{className:`boardConfigModalColumnRow${F.active?"":" Hidden"}`,children:[(0,u1.jsx)(gi,{className:"boardConfigModalColumnRowDragButton",size:15,enableBackground:0}),F.active?(0,u1.jsx)(pa,{onClick:()=>D(B,q),className:"boardConfigModalColumnRowEyeButton"}):(0,u1.jsx)(ha,{onClick:()=>D(B,q),className:"boardConfigModalColumnRowEyeButton"}),(0,u1.jsxs)("div",{className:"boardConfigModalColumnRowContent",children:[(0,u1.jsx)("button",{className:"boardConfigModalColumnRowContentColumnType",children:F3[F.colType]}),(0,u1.jsx)("input",{type:"text",value:F.name||"",onChange:o1=>_(B,q,"name",o1.target.value),className:"boardConfigModalColumnRowContentColName"}),F.colType==="allPending"&&(0,u1.jsx)("input",{type:"number",placeholder:p("work-limit"),"aria-label":p("work-limit-info"),value:(G=F.workLimit)!=null?G:0,onChange:o1=>_(B,q,"workLimit",Number(o1.target.value)),className:"boardConfigModalColumnRowContentColName"}),F.colType==="namedTag"&&(0,u1.jsxs)(u1.Fragment,{children:[(0,u1.jsx)("input",{type:"text",ref:o1=>{O.current[F.id]=o1},placeholder:p("enter-tag"),value:F.coltag||"",onChange:o1=>_(B,q,"coltag",o1.target.value),className:"boardConfigModalColumnRowContentColName"}),(0,u1.jsx)("input",{type:"number",placeholder:p("work-limit"),"aria-label":p("work-limit-info"),value:F.workLimit||0,onChange:o1=>_(B,q,"workLimit",Number(o1.target.value)),className:"boardConfigModalColumnRowContentColName"})]}),F.colType==="taskStatus"&&(0,u1.jsxs)(u1.Fragment,{children:[(0,u1.jsx)("input",{type:"text",placeholder:p("enter-status-placeholder"),value:F.taskStatus||"",onChange:o1=>_(B,q,"taskStatus",o1.target.value),className:"boardConfigModalColumnRowContentColName"}),(0,u1.jsx)("input",{type:"number",placeholder:p("work-limit"),"aria-label":p("work-limit-info"),value:F.workLimit||0,onChange:o1=>_(B,q,"workLimit",Number(o1.target.value)),className:"boardConfigModalColumnRowContentColName"})]}),F.colType==="taskPriority"&&(0,u1.jsxs)(u1.Fragment,{children:[(0,u1.jsx)("select",{"aria-label":"Select priority",value:F.taskPriority||m3()[0].value,onChange:o1=>_(B,q,"taskPriority",Number(o1.target.value)),className:"boardConfigModalColumnRowContentPriorityDropdown",children:m3().map(o1=>(0,u1.jsx)("option",{value:o1.value,children:o1.text},o1.value))}),(0,u1.jsx)("input",{type:"number",placeholder:p("work-limit"),"aria-label":p("work-limit-info"),value:F.workLimit||0,onChange:o1=>_(B,q,"workLimit",Number(o1.target.value)),className:"boardConfigModalColumnRowContentColName"})]}),F.colType==="completed"&&(0,u1.jsx)("input",{type:"number",placeholder:p("max-items"),value:F.limit||"",onChange:o1=>_(B,q,"limit",Number(o1.target.value)),className:"boardConfigModalColumnRowContentColDatedVal"}),F.colType==="pathFiltered"&&(0,u1.jsx)("input",{type:"text",ref:o1=>{O.current[F.id]=o1},className:"boardConfigModalColumnRowContentColName",value:F.filePaths||"",onChange:o1=>_(B,q,"filePaths",o1.target.value),placeholder:p("enter-path-pattern")}),F.colType==="dated"&&(0,u1.jsxs)(u1.Fragment,{children:[(0,u1.jsx)("input",{type:"number",placeholder:p("from"),value:((Y=F.datedBasedColumn)==null?void 0:Y.from)||0,onChange:o1=>_(B,q,"datedBasedColumn",{...F.datedBasedColumn,from:Number(o1.target.value)}),className:"boardConfigModalColumnRowContentColDatedVal"}),(0,u1.jsx)("input",{type:"number",placeholder:p("to"),value:((J=F.datedBasedColumn)==null?void 0:J.to)||0,onChange:o1=>_(B,q,"datedBasedColumn",{...F.datedBasedColumn,to:Number(o1.target.value)}),className:"boardConfigModalColumnRowContentColDatedVal"}),(0,u1.jsxs)("select",{"aria-label":"Select date type",value:((h1=F.datedBasedColumn)==null?void 0:h1.dateType)||t.settings.data.globalSettings.universalDate||"due",onChange:o1=>_(B,q,"datedBasedColumn",{...F.datedBasedColumn,dateType:o1.target.value}),className:"boardConfigModalColumnRowContentColDatedVal",children:[(0,u1.jsx)("option",{value:"startDate",children:p("start-date")}),(0,u1.jsx)("option",{value:"scheduledDate",children:p("scheduled-date")}),(0,u1.jsx)("option",{value:"due",children:p("due-date")})]}),(0,u1.jsx)("input",{type:"number",placeholder:p("work-limit"),"aria-label":p("work-limit-info"),value:F.workLimit||0,onChange:o1=>_(B,q,"workLimit",Number(o1.target.value)),className:"boardConfigModalColumnRowContentColName"})]}),F.colType==="undated"&&(0,u1.jsx)(u1.Fragment,{children:(0,u1.jsxs)("select",{"aria-label":"Select date type",value:((r1=F.datedBasedColumn)==null?void 0:r1.dateType)||t.settings.data.globalSettings.universalDate||"due",onChange:o1=>_(B,q,"datedBasedColumn",{from:0,to:0,dateType:o1.target.value}),className:"boardConfigModalColumnRowContentColDatedVal",children:[(0,u1.jsx)("option",{value:"startDate",children:p("start-date")}),(0,u1.jsx)("option",{value:"scheduledDate",children:p("scheduled-date")}),(0,u1.jsx)("option",{value:"due",children:p("due-date")})]})}),(0,u1.jsx)(f0,{className:"boardConfigModalColumnRowDeleteButton",size:13,enableBackground:0,opacity:.7,onClick:()=>z(B,q),title:p("delete-column")})]})]},F.id)})})]}),(0,u1.jsx)("button",{className:"boardConfigModalAddColumnButton",onClick:L,children:p("add-column")})]}),(0,u1.jsx)("hr",{className:"boardConfigModalHr-100"}),(0,u1.jsxs)("div",{className:"boardConfigModalDoubleBtnContainer",children:[(0,u1.jsx)("button",{className:"boardConfigModalDuplicateBoardBtn",onClick:V,children:p("duplicate-this-board")}),(0,u1.jsx)("button",{className:"boardConfigModalDeleteBoardBtn",onClick:H,children:p("delete-this-board")})]})]})},[T,S]=(0,B4.useState)(!1),R=(0,B4.useRef)(null),Z=()=>S(!T),P=B=>{R.current&&!R.current.contains(B.target)&&S(!1)};return(0,B4.useEffect)(()=>(T?document.addEventListener("mousedown",P):document.removeEventListener("mousedown",P),()=>{T&&document.removeEventListener("mousedown",P)}),[T]),(0,u1.jsxs)(u1.Fragment,{children:[y(),(0,u1.jsx)("button",{className:"boardConfigModalSidebarToggleBtn",onClick:Z,"aria-label":"Toggle Sidebar",children:(0,u1.jsx)(Hx,{className:"boardConfigModalSidebarToggleBtnIcon",size:15,enableBackground:0})}),(0,u1.jsxs)("div",{className:"boardConfigModalHome",children:[(0,u1.jsxs)("div",{ref:R,className:`boardConfigModalSidebar ${T?"visible":""}`,children:[(0,u1.jsxs)("div",{className:"boardConfigModalSidebarBtnArea",children:[(0,u1.jsx)("div",{className:"boardConfigModalSidebarBtnAreaGlobal",onClick:()=>{d(-1),Z()},children:p("global-settings")}),(0,u1.jsx)("hr",{className:"boardConfigModalHr-100"}),(0,u1.jsx)("div",{className:"boardConfigModalSettingDescription",children:p("your-boards")}),(0,u1.jsx)("div",{ref:x,className:"boardConfigModalSidebarBtnAreaBoardBtnsSection",children:l.map((B,I)=>(0,u1.jsxs)("div",{className:`boardConfigModalSidebarBtnArea-btn${I===s?"-active":""}`,onClick:()=>{d(I),Z()},children:[(0,u1.jsx)("span",{children:B.name}),(0,u1.jsx)(pi,{className:"boardConfigModalSidebarBtnArea-btn-drag-handle",size:15})," "]},B.name))})]}),(0,u1.jsxs)("div",{className:"boardConfigModalSidebarBtnAreaConfigBtnsSection",children:[(0,u1.jsx)("button",{className:"boardConfigModalSidebarBtnAreaAddBoard",onClick:()=>b(l),children:p("add-board")}),(0,u1.jsx)("hr",{className:"boardConfigModalHr-100"}),(0,u1.jsx)("button",{className:"boardConfigModalSidebarSaveBtn",onClick:A,children:p("save")})]})]}),(0,u1.jsx)("div",{className:"boardConfigModalMainContent",children:s===-1?(0,u1.jsx)(u1.Fragment,{children:E(s)}):(0,u1.jsx)("div",{className:"boardConfigModalMainContentBoardSettingTab",children:k(s)})})]}),(0,u1.jsx)("button",{className:"boardConfigModalSaveBtn-mobile",onClick:A,children:p("save")})]})},Si=class extends n7.Modal{constructor(e,a,r,o){super(e.app),this.plugin=e,this.boards=a,this.activeBoardIndex=r,this.isEdited=!1,this.onSave=o,this.settingsManager=new o7(e);let{contentEl:n}=this;this.root=yy.default.createRoot(n),this.modalEl.setAttribute("modal-type","task-board-config")}onOpen(){this.root.render((0,u1.jsx)(VB,{plugin:this.plugin,settingManager:this.settingsManager,boards:this.boards,activeBoardIndex:this.activeBoardIndex,onSave:e=>{this.isEdited=!1,this.onSave(e),this.close()},onClose:()=>this.close(),setIsEdited:e=>this.isEdited=e}))}handleCloseAttempt(){let e=p("edit-task-modal-close-confirm-mssg");new fe(this.app,{app:this.app,mssg:e,onDiscard:()=>{this.isEdited=!1,this.close()},onGoBack:()=>{}}).open()}handleSave(){this.onSave(this.boards),this.isEdited=!1,this.close()}onClose(){this.root&&this.root.unmount(),this.settingsManager&&this.settingsManager.cleanUp();let{contentEl:e}=this;e.empty(),super.onClose()}close(){this.isEdited?this.handleCloseAttempt():(this.onClose(),super.close())}}});var i7,Hi,wy=g1(()=>{"use strict";i7=require("obsidian");e7();s5();t2();Hi=class extends i7.Modal{constructor(a,r,o){super(a.app);this.plugin=a;this.filterType=r;this.onSave=o;this.selectedValues=new Set;this.selectedValue="";this.suggestionContent=new Set;this.selectedValues=new Set(this.plugin.settings.data.globalSettings.scanFilters[this.filterType].values),this.selectedValue=""}async onOpen(){let{contentEl:a}=this;a.createEl("h3",{text:`Configure ${this.filterType}`}),this.inputEl=a.createEl("input",{type:"text",cls:"scan-filter-input",placeholder:"Type to search..."}),this.inputEl.onchange=r=>{let n=r.target.value.trim();this.selectedValues.has(this.selectedValue)&&this.selectedValues.delete(this.selectedValue),this.selectedValue=n,this.selectedValues.add(n),this.renderList()},this.filterType==="files"?this.suggestionContent=new Set(Pt(this.app)):this.filterType==="frontMatter"?this.suggestionContent=new Set(kL(this.app)):this.filterType==="folders"?this.suggestionContent=new Set(ai(this.app)):this.filterType==="tags"&&(this.suggestionContent=new Set(se(this.app))),new h4(this.inputEl,this.suggestionContent,r=>{this.selectedValue=r,this.selectedValues.has(r)||(this.selectedValues.add(r),this.renderList()),this.inputEl.value=""},this.app),this.renderList(),new i7.Setting(a).addButton(r=>r.setButtonText(p("save")).setCta().onClick(()=>{this.onSave(Array.from(this.selectedValues)),this.close()})).addButton(r=>r.setButtonText(p("cancel")).setTooltip(p("cancel")).onClick(()=>this.close()))}renderList(){let a=this.contentEl.querySelector(".scan-filter-list");if(a&&a.remove(),a=this.contentEl.createDiv("scan-filter-list"),this.selectedValues.size===0){a.setText("No values selected.");return}this.selectedValues.forEach(r=>{let o=a.createDiv("scan-filter-item");o.setText(r);let n=o.createEl("button",{text:"Remove",cls:"scan-filter-remove-btn"});(0,i7.setIcon)(n,ny),n.onclick=()=>{this.selectedValues.delete(r),this.renderList()}})}onClose(){this.contentEl.empty()}}});var Vi,vt,zy,i2,TB,BB,ki,by=g1(()=>{"use strict";Vi=require("obsidian"),vt=B1(T2(),1);r7();zy=B1(a5(),1);K5();t2();e3();Kt();Bt();z6();C4();i2=B1(n2(),1),TB=t=>{let e=0;Object.values(t.vaultScanner.tasksCache.Pending).forEach(a=>{a.forEach(r=>{let o=r.legacyId?parseInt(r.legacyId,10):0;!isNaN(o)&&o>e&&(e=o)})}),Object.values(t.vaultScanner.tasksCache.Completed).forEach(a=>{a.forEach(r=>{let o=r.legacyId?parseInt(r.legacyId,10):0;!isNaN(o)&&o>e&&(e=o)})}),t.settings.data.globalSettings.uniqueIdCounter=e+1,t.saveSettings()},BB=({app:t,plugin:e,vaultScanner:a})=>{let[r,o]=(0,vt.useState)(!1),[n,i]=(0,vt.useState)([]),[l,c]=(0,vt.useState)(0),[s,d]=(0,vt.useState)(!1),[u,f]=(0,vt.useState)({VaultName:t.vault.getName(),Modified_at:E4(),Pending:{},Completed:{}}),h=async()=>{o(!0),a.tasksCache.Pending={},a.tasksCache.Completed={},a.tasksCache.VaultName=t.vault.getName(),a.tasksCache.Modified_at=E4();let g=t.vault.getFiles();c(0);let C=e.settings.data.globalSettings,v=C.scanFilters;for(let y=0;y<g.length;y++){let b=g[y];b6(C,b)&&Xr(e,b,v)&&(i(V=>[...V,`Scanning file: ${b.path}`]),await a.extractTasksFromFile(b,v)),c((y+1)/g.length*100)}f(a.tasksCache),new Vi.Notice(p("vault-scanning-complete")),e.vaultScanner.tasksCache=a.tasksCache,await a.saveTasksToJsonCache(),TB(e),localStorage.getItem("manadatoryScan")==="true"?(localStorage.setItem("manadatoryScan","false"),e.app.workspace.getLeavesOfType(Xt).forEach(y=>{y.detach()}),e.registerTaskBoardView()):b1.emit("REFRESH_BOARD")},m=()=>{d(!s)},x=(0,vt.useRef)(null);(0,vt.useEffect)(()=>{x.current=e.view},[]);let L=(0,vt.useRef)({});return(0,vt.useEffect)(()=>{s&&Object.keys(u.Pending).forEach(g=>{u.Pending[g].forEach((v,y)=>{let b={...v,title:v.title,body:v.body,due:v.due,tags:v.tags,time:v.time,priority:v.priority};N4(b).then(V=>{let H=`${g}-task-${y}`,D=L.current[H];D&&V!==""&&(D.empty(),y4.renderTaskDisc(t,V,D,v.filePath,x.current))})})})},[s,u]),(0,i2.jsxs)("div",{className:"scanVaultModalHome",children:[(0,i2.jsx)("h2",{children:p("scan-tasks-from-the-vault")}),localStorage.getItem("manadatoryScan")==="true"?(0,i2.jsxs)(i2.Fragment,{children:[(0,i2.jsxs)("div",{className:"scanVaultModalHomeMandatoryScan",children:[p("scan-vault-from-the-vault-upgrade-message-1")," ",Be]}),(0,i2.jsx)("div",{className:"scanVaultModalHomeMandatoryScan",children:p("scan-vault-from-the-vault-upgrade-message-2")}),(0,i2.jsx)("br",{}),(0,i2.jsxs)("div",{className:"scanVaultModalHomeMandatoryScan",children:[p("scan-vault-from-the-vault-upgrade-message-3")," : ",(0,i2.jsxs)("a",{href:`https://github.com/tu2-atmanand/Task-Board/releases/tag/${Be}`,children:["Task Board v",Be]}),"."]})]}):(0,i2.jsxs)(i2.Fragment,{children:[(0,i2.jsx)("div",{className:"setting-item-description",children:p("scan-tasks-from-the-vault-info-1")}),(0,i2.jsx)("div",{className:"setting-item-description",children:p("scan-tasks-from-the-vault-info-2")})]}),(0,i2.jsxs)("div",{className:"scanVaultModalHomeSecondSection",children:[(0,i2.jsx)("div",{className:"scanVaultModalHomeSecondSectionProgressBarContainer",children:(0,i2.jsx)("progress",{max:"100",value:l,style:{width:"100%",height:"35px"}})}),(0,i2.jsx)("button",{className:"scanVaultModalHomeSecondSectionButton",onClick:h,disabled:r,children:r?l.toFixed(0):p("run")})]}),(0,i2.jsxs)("div",{className:"scanVaultModalHomeThirdSection",children:[(0,i2.jsx)("div",{className:`scanVaultModalHomeTerminal ${s?"scanVaultModalHomeTerminalSlideOut":"scanVaultModalHomeTerminalSlideIn"}`,children:n.map((g,C)=>(0,i2.jsx)("div",{children:g},C))}),(0,i2.jsx)("div",{className:`scanVaultModalHomeTasksCollected ${s?"slideIn":"slideOut"}`,children:Object.keys(u.Pending).map((g,C)=>(0,i2.jsxs)("div",{children:[(0,i2.jsx)("h3",{children:g}),(0,i2.jsx)("div",{children:u.Pending[g].map((v,y)=>{let b=`${g}-task-${y}`;return(0,i2.jsx)("div",{children:(0,i2.jsx)("div",{ref:V=>{L.current[b]=V},id:b})},y)})})]},C))})]}),(0,i2.jsx)("button",{className:"scanVaultModalHomeToggleButton",onClick:m,children:s?p("hide-collected-tasks"):p("show-collected-tasks")}),(0,i2.jsxs)("div",{children:[(0,i2.jsx)("h4",{children:p("points-to-note")}),(0,i2.jsx)("li",{className:"setting-item-description",children:p("scan-tasks-from-the-vault-description-1")}),(0,i2.jsx)("li",{className:"setting-item-description",children:p("scan-tasks-from-the-vault-description-2")}),(0,i2.jsx)("li",{className:"setting-item-description",children:p("scan-tasks-from-the-vault-description-3")})]})]})},ki=class extends Vi.Modal{constructor(e,a){super(e),this.plugin=a,this.vaultScanner=a.vaultScanner}onOpen(){let{contentEl:e}=this;e.empty(),this.modalEl.setAttribute("modal-type","task-board-scan-vault-modal"),zy.default.createRoot(this.contentEl).render((0,i2.jsx)(BB,{app:this.app,plugin:this.plugin,vaultScanner:this.vaultScanner}))}onClose(){this.contentEl.empty()}}});var C0,Ti,Sy=g1(()=>{"use strict";C0=require("obsidian"),Ti=class extends C0.Modal{constructor(e,a){super(e.app),this.plugin=e,this.columns=a,this.setTitle("Task Board Actions")}onOpen(){let{contentEl:e}=this;e.empty(),this.modalEl.setAttribute("data-type","task-board-actions-modal"),e.setAttribute("data-type","task-board-actions-modal");let a=e.createDiv({cls:"taskboard-actions-header"});a.createEl("h2",{text:"Active Actions"});let r=a.createEl("button",{text:"Add action",cls:"taskboard-actions-add-button"});r.onclick=()=>{let c={enabled:!0,trigger:"Complete",type:"move",targetColumn:this.columns[0].name||""};this.plugin.settings.data.globalSettings.actions.push(c),this.plugin.saveSettings(),this.refresh()};let o=e.createDiv({cls:"taskboard-active-actions-section"}),n=e.createDiv();n.createEl("h2",{text:"Inactive Actions",cls:"taskboard-inactive-actions-section"});let i=n.createDiv({cls:"taskboard-actions-modal-list"}),l=this.plugin.settings.data.globalSettings.actions;for(let c=0;c<l.length;c++){let s=l[c],d=(s.enabled?o:i).createDiv({cls:"taskboard-action-item"}),u=new C0.ToggleComponent(d);u.setValue(s.enabled),u.onChange(f=>{s.enabled=f,this.plugin.saveSettings(),this.refresh()}),d.createSpan({text:"When the card is marked as"}),new C0.DropdownComponent(d).addOptions({Complete:"Complete",Incomplete:"Incomplete"}).setValue(s.trigger).onChange(f=>{s.trigger=f,this.plugin.saveSettings()}),new C0.DropdownComponent(d).addOptions({move:"move",copy:"copy"}).setValue(s.type).onChange(f=>{s.type=f,this.plugin.saveSettings()}),d.createSpan({text:"the card to"}),new C0.DropdownComponent(d).addOptions(Object.fromEntries(this.columns.map(f=>[f.index,f.name||""]))).setValue(s.targetColumn).onChange(f=>{s.targetColumn=f,this.plugin.saveSettings()}),new C0.ButtonComponent(d).setIcon("trash").setTooltip("Delete Action").onClick(()=>{this.plugin.settings.data.globalSettings.actions.splice(c,1),this.plugin.saveSettings(),this.refresh()})}}refresh(){this.onOpen()}onClose(){this.contentEl.empty()}}});var Fa,Hy,Aa,cf=g1(()=>{"use strict";Fa=require("obsidian"),Hy=require("obsidian");t2();Aa=class extends Fa.Component{constructor(a,r,o,n,i="\u{1F4C5}"){super();this.dateName="";this.hostEl=a,this.plugin=r,this.app=r.app,this.dateName=o,this.state={selectedDate:n||null,dateMark:i},this.moment=Hy.moment,this.currentViewDate=n?this.moment(n):this.moment()}onload(){this.render()}onunload(){this.hostEl.empty()}setOnDateChange(a){this.onDateChange=a}getSelectedDate(){return this.state.selectedDate}setSelectedDate(a){this.state.selectedDate=a,this.updateSelectedDateDisplay(),this.onDateChange&&(a?this.onDateChange(a):this.onDateChange(""))}render(){this.hostEl.empty(),this.hostEl.addClass("date-picker-root-container");let a=this.hostEl.createDiv({cls:"date-picker-container"}),r=a.createEl("h2",{cls:"date-picker-heading",text:"Change "+this.dateName+" Date"}),o=a.createDiv({cls:"date-picker-main-panel"}),n=o.createDiv({cls:"date-picker-left-panel"}),i=o.createDiv({cls:"date-picker-right-panel"});this.renderQuickOptions(n),this.renderCalendar(i)}renderQuickOptions(a){let r=a.createDiv({cls:"quick-options-container"});[{amount:0,unit:"days",label:p("today")},{amount:1,unit:"days",label:p("tomorrow")},{amount:2,unit:"days",label:p("in-2-days")},{amount:3,unit:"days",label:p("in-3-days")},{amount:1,unit:"weeks",label:p("in-1-week")},{amount:2,unit:"weeks",label:p("in-2-weeks")},{amount:1,unit:"months",label:p("in-1-month")},{amount:2,unit:"months",label:p("in-2-months")},{amount:6,unit:"months",label:p("in-6-months")},{amount:1,unit:"years",label:p("in-1-year")}].forEach(i=>{let l=r.createDiv({cls:"quick-option-item"});l.createSpan({text:i.label,cls:"quick-option-label"});let s=this.moment().add(i.amount,i.unit).format("YYYY-MM-DD");l.createSpan({text:s,cls:"quick-option-date"}),this.registerDomEvent(l,"click",d=>{d.preventDefault(),d.stopPropagation(),this.setSelectedDate(s)}),this.state.selectedDate===s&&l.addClass("selected")});let n=a.createDiv({cls:"quick-option-item clear-option"});n.createSpan({text:p("clear-date"),cls:"quick-option-label"}),this.registerDomEvent(n,"click",i=>{i.preventDefault(),i.stopPropagation(),this.setSelectedDate(null)})}renderCalendar(a){let r=a.createDiv({cls:"calendar-container"});this.renderCalendarHeader(r,this.currentViewDate),this.renderCalendarGrid(r,this.currentViewDate)}renderCalendarHeader(a,r){let o=a.createDiv({cls:"calendar-header"}),n=o.createDiv({cls:"calendar-nav-btn"});(0,Fa.setIcon)(n,"chevron-left"),this.registerDomEvent(n,"click",c=>{c.preventDefault(),c.stopPropagation(),this.navigateMonth(-1)});let i=o.createDiv({cls:"calendar-month-year",text:r.format("MMMM YYYY")}),l=o.createDiv({cls:"calendar-nav-btn"});(0,Fa.setIcon)(l,"chevron-right"),this.registerDomEvent(l,"click",c=>{c.preventDefault(),c.stopPropagation(),this.navigateMonth(1)})}renderCalendarGrid(a,r){let o=a.createDiv({cls:"calendar-grid"});["Su","Mo","Tu","We","Th","Fr","Sa"].forEach(u=>{o.createDiv({cls:"calendar-day-header",text:u})});let i=r.clone().startOf("month"),l=r.clone().endOf("month"),c=i.clone().startOf("week"),s=l.clone().endOf("week"),d=c.clone();for(;d.isSameOrBefore(s);){let u=o.createDiv({cls:"calendar-day",text:d.format("D")}),f=d.format("YYYY-MM-DD");u.setAttribute("data-date",f),d.isSame(i,"month")||u.addClass("other-month"),d.isSame(this.moment(),"day")&&u.addClass("today"),this.state.selectedDate===f&&u.addClass("selected"),this.registerDomEvent(u,"click",h=>{h.preventDefault(),h.stopPropagation(),this.setSelectedDate(f)}),d.add(1,"day")}}navigateMonth(a){this.currentViewDate.add(a,"month"),this.render()}updateSelectedDateDisplay(){this.hostEl.querySelectorAll(".selected").forEach(a=>{a.removeClass("selected")}),this.state.selectedDate&&(this.hostEl.querySelectorAll(".quick-option-item").forEach(a=>{let r=a.querySelector(".quick-option-date");r&&r.textContent===this.state.selectedDate&&a.addClass("selected")}),this.hostEl.querySelectorAll(".calendar-day").forEach(a=>{let r=a.getAttribute("data-date");r&&this.state.selectedDate===r&&a.addClass("selected")}))}}});var ky,ge,Vy=g1(()=>{"use strict";ky=require("obsidian");cf();ge=class extends ky.Modal{constructor(a,r,o,n="\u{1F4C5}"){super(a.app);this.onDateSelected=null;this.plugin=a,this.dateName=r,this.initialDate=o,this.dateMark=n}onOpen(){let{contentEl:a}=this;a.empty(),this.datePickerComponent=new Aa(this.contentEl,this.plugin,this.dateName,this.initialDate,this.dateMark),this.datePickerComponent.onload(),this.datePickerComponent.setOnDateChange(r=>{this.onDateSelected&&this.onDateSelected(r),this.close()})}onClose(){let{contentEl:a}=this;this.datePickerComponent&&this.datePickerComponent.onunload(),a.empty()}}});var sf=g1(()=>{"use strict";cf();Vy()});var u5,Bi,l7,Ty,Ii,By,GL,Qu,Ap,Iy,gy,hi,me,o0=g1(()=>{"use strict";u5=require("obsidian");y6();QL();C4();za();e3();t2();A3();Ae();Kt();ef();My();Lc();Nc();wy();by();Sy();Y1();sf();Bt();Bi=(t,e,a,r)=>{new Si(t,e,a,r).open()},l7=(t,e)=>{new ki(t,e).open()},Ty=(t,e,a,r)=>(new v0(e,(n,i)=>(Pc(e,n,!0,r).then(l=>{e.realTimeScanner.processAllUpdatedFiles(n.filePath)}),b1.emit("REFRESH_COLUMN"),r=void 0,!0),!1,!0,!1,void 0,a.path).open(),!0),Ii=(t,e,a)=>{let r=e.app.vault.getAbstractFileByPath(e.settings.data.globalSettings.preDefinedNote),o=a||r;new v0(e,async(i,l)=>{var s;let c=new e6(e);if(c.isQuickAddPluginIntegrationEnabled()){let d=await N4(i),{formattedTaskContent:u,newId:f}=await H0(e,d);d=u,(s=c.quickAddPlugin)==null||s.api.executeChoice(l,{value:d+`
`})}else await Pc(e,i,!1).then(d=>{e.realTimeScanner.processAllUpdatedFiles(i.filePath)});b1.emit("REFRESH_COLUMN")},!1,!1,!1,void 0,o?o.path:(0,u5.normalizePath)(e.settings.data.globalSettings.preDefinedNote)).open()},By=(t,e)=>{new v0(e,async(r,o,n)=>{if(!n)$.addToLogs(178,`This code will only run if the content passed is empty : ${n}`,"OpenModals.ts/openAddNewTaskNoteModal");else try{let i=r.filePath.split("/");if(i.length>1){let c=i.slice(0,-1).join("/").trim();await e.app.vault.adapter.exists(c)||await e.app.vault.createFolder(c),sleep(200)}if(!e.app.vault.getFileByPath(r.filePath))await e.app.vault.create(r.filePath,n).then(()=>{e.realTimeScanner.onFileModified(r.filePath),sleep(1e3).then(()=>{e.realTimeScanner.processAllUpdatedFiles()})});else{let c=E4(),d=r.filePath.split("/").slice(0,-1).join("/").trim(),u=(0,u5.normalizePath)(`${d}/${c}.md`);new u5.Notice(p("file-note-already-exists")+p("creating a new file with the current timestamp as note name :")+` ${c}.md`,1e4),await e.app.vault.create(u,"").then(()=>{e.realTimeScanner.onFileModified(`Copy-${r.filePath}`),sleep(1e3).then(()=>{e.realTimeScanner.processAllUpdatedFiles()})})}}catch(i){return $.addToLogs(149,String(i),"OpenModals.ts/openAddNewTaskNoteModal/callback()"),new u5.Notice(p("error-creating-task-note"),5e3),!1}b1.emit("REFRESH_COLUMN")},!0,!1,!1,void 0,"").open()},GL=async(t,e)=>{new v0(t,r=>{let o={taskID:e.id,state:!0};b1.emit("UPDATE_TASK",o),r.filePath=e.filePath,i4(t,r,e).then(n=>{t.realTimeScanner.processAllUpdatedFiles(r.filePath,e.id)})},!1,!1,!0,e,e.filePath).open()},Qu=(t,e)=>{new v0(t,async(r,o,n)=>{let i={taskID:e.id,state:!0};b1.emit("UPDATE_TASK",i);try{n?v3(t,r.filePath,n).then(()=>{sleep(1e3).then(()=>{t.realTimeScanner.processAllUpdatedFiles(r.filePath,e.id)})}):await v4(t,r).then(()=>{sleep(1e3).then(()=>{t.realTimeScanner.processAllUpdatedFiles(r.filePath,e.id)})})}catch(l){$.showNotice(41,"Error updating task note",l,"TaskNoteEventHandlers.ts/handleTaskNoteEdit")}},!0,!1,!0,e,e.filePath).open()},Ap=(t,e,a,r,o)=>{new u5.Notice(createFragment(i=>{i.createDiv("bugReportNotice",l=>{l.createEl("h5",{text:p("task-board")+" "+p("safe-guard")}),l.createEl("p",{text:p("content-mismatch-notice-message")}),l.createEl("button",{text:p("show-conflicts"),cls:"reportBugButton",onclick:()=>{new ro(t,e,a,r,o).open(),l.hide()}})})}),0).messageEl.onClickEvent(i=>{i.target instanceof HTMLButtonElement||(i.stopPropagation(),i.preventDefault(),i.stopImmediatePropagation())})},Iy=(t,e)=>{new Ti(t,t.settings.data.boardConfigs[e].columns).open()},gy=(t,e,a)=>{new Hi(t,e,async r=>{a(r)}).open()},hi=async(t,e,a,r,o,n,i="tab")=>{let{workspace:l}=t.app,c=o.legacyId?`${vc}-${o.legacyId}`:`${vc}-${o.id}`,s=o.legacyId?o.legacyId:o.id,d=l.getLeavesOfType(c),u=d.find(f=>{let h=f.view,m=h!=null&&h.task.legacyId?h.task.legacyId:h==null?void 0:h.task.id;return s===m});if(u)return u.setEphemeralState({viewTaskId:s}),l.revealLeaf(u),d[0];{let f=null;if(i==="window"?f=l.getLeaf("window"):i==="split"?f=l.getLeaf("split"):f=l.getLeaf("tab"),f){try{t.registerView(c,h=>(h.setEphemeralState({viewTaskId:s}),new ka(t,h,c,async(m,x,L)=>{e?L?v3(t,m.filePath,L).then(()=>{sleep(1e3).then(()=>{t.realTimeScanner.processAllUpdatedFiles(m.filePath)})}):await v4(t,m).then(()=>{sleep(1e3).then(()=>{t.realTimeScanner.processAllUpdatedFiles(m.filePath)})}):i4(t,m,o).then(g=>{t.realTimeScanner.processAllUpdatedFiles(m.filePath)})},e,a,r,o,n)))}catch(h){await new ka(t,f,c,async(x,L,g)=>{e?g?v3(t,x.filePath,g).then(()=>{sleep(1e3).then(()=>{t.realTimeScanner.processAllUpdatedFiles(x.filePath)})}):await v4(t,x).then(()=>{sleep(1e3).then(()=>{t.realTimeScanner.processAllUpdatedFiles(x.filePath)})}):i4(t,x,o).then(C=>{t.realTimeScanner.processAllUpdatedFiles(x.filePath)})},e,a,r,o,n).onOpen()}await f.setViewState({type:c,active:!0}),f.setEphemeralState({viewTaskId:s}),l.revealLeaf(f)}return f}},me=async(t,e,a,r)=>{let o=new ge(t,e,a);o.onDateSelected=async n=>{r(n)},o.open()}});var Kz=K4(Xz=>{"use strict";var V7=T2();function xD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var LD=typeof Object.is=="function"?Object.is:xD,yD=V7.useState,MD=V7.useEffect,wD=V7.useLayoutEffect,zD=V7.useDebugValue;function bD(t,e){var a=e(),r=yD({inst:{value:a,getSnapshot:e}}),o=r[0].inst,n=r[1];return wD(function(){o.value=a,o.getSnapshot=e,Ch(o)&&n({inst:o})},[t,a,e]),MD(function(){return Ch(o)&&n({inst:o}),t(function(){Ch(o)&&n({inst:o})})},[t]),zD(a),a}function Ch(t){var e=t.getSnapshot;t=t.value;try{var a=e();return!LD(t,a)}catch(r){return!0}}function SD(t,e){return e()}var HD=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?SD:bD;Xz.useSyncExternalStore=V7.useSyncExternalStore!==void 0?V7.useSyncExternalStore:HD});var Jz=K4((a01,Qz)=>{"use strict";Qz.exports=Kz()});var eb=K4(tb=>{"use strict";var Pl=T2(),kD=Jz();function VD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var TD=typeof Object.is=="function"?Object.is:VD,BD=kD.useSyncExternalStore,ID=Pl.useRef,FD=Pl.useEffect,AD=Pl.useMemo,DD=Pl.useDebugValue;tb.useSyncExternalStoreWithSelector=function(t,e,a,r,o){var n=ID(null);if(n.current===null){var i={hasValue:!1,value:null};n.current=i}else i=n.current;n=AD(function(){function c(h){if(!s){if(s=!0,d=h,h=r(h),o!==void 0&&i.hasValue){var m=i.value;if(o(m,h))return u=m}return u=h}if(m=u,TD(d,h))return m;var x=r(h);return o!==void 0&&o(m,x)?(d=h,m):(d=h,u=x)}var s=!1,d,u,f=a===void 0?null:a;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,a,r,o]);var l=BD(t,n[0],n[1]);return FD(function(){i.hasValue=!0,i.value=l},[l]),DD(l),l}});var rb=K4((o01,ab)=>{"use strict";ab.exports=eb()});var aN={};Bh(aN,{default:()=>Jl});module.exports=YS(aN);var G2=require("obsidian");m6();o0();var vr=require("obsidian"),SS=B1(a5(),1);s5();var HS=B1(T2(),1);Nt();var d2=B1(T2(),1);Y5();var p3=require("obsidian");C4();Y5();var Fi=async(t,e,a)=>{a(e),np(t,e)};o0();var Ry=require("obsidian");w6();function Fy(t,e,a){switch(a){case"content":return e.title;case"id":return e.id;case"status":return e.status;case"completed":case"completedDate":return e.completion;case"priority":return e.priority;case"dueDate":return e.due;case"startDate":return e.startDate;case"scheduledDate":return e.scheduledDate;case"createdDate":return e.createdDate;case"tags":return e.tags;case"project":return"";case"context":return"";case"time":return e.time?e.time:t?`${t} - ${t.split(":")[0].trim()==="23"?"00":Number(t.split(":")[0].trim())+1}:${t.split(":")[1].trim()}`:"";case"recurrence":return"";case"filePath":return e.filePath;case"lineNumber":return e.taskLocation.startLine;default:return}}function IB(t,e,a){let r=t&&t!=="",o=e&&e!=="";if(!r&&!o)return 0;if(!r)return a==="asc"?1:-1;if(!o)return a==="asc"?-1:1;let n=new Date(t),i=new Date(e);return isNaN(n.getTime())||isNaN(i.getTime())?0:n<i?-1:n>i?1:0}function FB(t,e,a){let r=t&&t!=="",o=e&&e!=="";if(!r&&!o)return 0;if(!r)return a==="asc"?1:-1;if(!o)return a==="asc"?-1:1;let n=u=>u.includes("-")?u.split("-")[0].trim():u.trim(),i=n(String(t)),l=n(String(e)),c=u=>{let f=u.split(":");if(f.length!==2)return-1;let h=parseInt(f[0],10),m=parseInt(f[1],10);return isNaN(h)||isNaN(m)||h<0||h>23||m<0||m>59?-1:h*60+m},s=c(i),d=c(l);return s<0&&d<0?0:s<0?a==="asc"?1:-1:d<0?a==="asc"?-1:1:s<d?-1:s>d?1:0}function AB(t,e,a,r){if(["dueDate","startDate","scheduledDate","createdDate","completedDate","completed"].includes(a))return IB(t,e,r);if(a==="time")return FB(t,e,r);if(a==="priority"){let i=t!=null,l=e!=null;if(!i&&!l)return 0;let c=t===0,s=e===0;return c&&s?0:c?1:s?-1:r==="asc"?e-t:t-e}if(a==="lineNumber"||a==="id"||typeof t=="number"){let i=Number(t),l=Number(e);return isNaN(i)&&isNaN(l)?0:isNaN(i)?1:isNaN(l)?-1:i-l}if(Array.isArray(t)||Array.isArray(e)){let i=Array.isArray(t)?t:[],l=Array.isArray(e)?e:[],c=i.length>0?i[0].toLowerCase():"",s=l.length>0?l[0].toLowerCase():"";return c===""&&s===""?0:c===""?1:s===""?-1:c.localeCompare(s)}let o=String(t||"").toLowerCase(),n=String(e||"").toLowerCase();return o===""&&n===""?0:o===""?1:n===""?-1:o.localeCompare(n)}function Ay(t,e,a){if(!e||e.length===0)return[];if(!a||a.length===0)return e;let r=[...e],o=[...a].sort((n,i)=>n.priority-i.priority);for(let n=o.length-1;n>=0;n--){let i=o[n];r=r.sort((l,c)=>{let s=Fy(t,l,i.criteria),d=Fy(t,c,i.criteria),u=AB(s,d,i.criteria,i.order);return i.criteria==="priority"||i.order==="asc"?u:-u})}return r}V2();z6();e3();H4();function Da(t,e){if(!e||!e.filterGroups||e.filterGroups.length===0)return t;let a=e.rootCondition,r=e.filterGroups;return t.filter(o=>{let n=r.map(i=>DB(o,i));switch(a){case"all":return n.every(i=>i);case"any":return n.some(i=>i);case"none":return!n.some(i=>i);default:return!0}})}function DB(t,e){let{groupCondition:a,filters:r}=e;if(!r||r.length===0)return!0;let o=r.map(n=>RB(t,n));switch(a){case"all":return o.every(n=>n);case"any":return o.some(n=>n);case"none":return!o.some(n=>n);default:return!0}}function RB(t,e){let{property:a,condition:r,value:o}=e,n=EB(t,a);switch(r){case"isNotEmpty":return Array.isArray(n&&n.length>0)||n&&n!==""?!0:!!n;case"isEmpty":return n===""||n===null||n===void 0||Array.isArray(n)&&n.length===0;case"equals":case"is":return n===o;case"notEquals":case"isNot":return n!==o;case"contains":return typeof n=="string"?n.toLowerCase().includes(String(o).toLowerCase()):Array.isArray(n)?n.some(i=>String(i).replace("#","").toLowerCase().includes(String(o).replace("#","").toLowerCase())):!1;case"doesNotContain":return typeof n=="string"?!n.toLowerCase().includes(String(o).toLowerCase()):Array.isArray(n)?!n.some(i=>String(i).replace("#","").toLowerCase().includes(String(o).replace("#","").toLowerCase())):!0;case"startsWith":return typeof n=="string"?n.toLowerCase().startsWith(String(o).toLowerCase()):!1;case"endsWith":return typeof n=="string"?n.toLowerCase().endsWith(String(o).toLowerCase()):!1;case"greaterThan":case">":return Number(n)>Number(o);case"lessThan":case"<":return Number(n)<Number(o);case"greaterThanOrEqual":case">=":return Number(n)>=Number(o);case"lessThanOrEqual":case"<=":return Number(n)<=Number(o);case"before":return Ai(n,o)<0;case"after":return Ai(n,o)>0;case"onOrBefore":return Ai(n,o)<=0;case"onOrAfter":return Ai(n,o)>=0;case"hasTag":return Array.isArray(n)?n.some(i=>String(i).toLowerCase()===String(o).toLowerCase()):!1;case"doesNotHaveTag":return Array.isArray(n)?!n.some(i=>String(i).toLowerCase()===String(o).toLowerCase()):!0;default:return!0}}function EB(t,e){switch(e){case"content":return K7(t);case"title":return t.title||"";case"body":case"description":return t.body.join(`
`)||"";case"createdDate":case"created":return t.createdDate||"";case"dueDate":case"due":return t.due||"";case"startDate":case"start":return t.startDate||"";case"scheduledDate":case"scheduled":return t.scheduledDate||"";case"completion":case"completedDate":case"done":return(t==null?void 0:t.completion)||"";case"cancelled":case"cancelledDate":return(t==null?void 0:t.cancelledDate)||"";case"priority":return t.priority||0;case"status":return t.status||"";case"tags":return X5(t)||[];case"frontmatterTags":return t.frontmatterTags||[];case"filePath":case"path":return t.filePath||"";case"startTime":return t.time?t.time.split("-")[0].trim():"";case"reminder":return(t==null?void 0:t.reminder)||"";case"dependsOn":case"dependencies":return(t==null?void 0:t.dependsOn)||[];default:if(e.startsWith("tags.")){let a=e.substring(5);return t.tags.some(r=>r.toLowerCase()===a.toLowerCase())}return}}function Ai(t,e){let a=new Date(t),r=new Date(e);return isNaN(a.getTime())||isNaN(r.getTime())?0:a<r?-1:a>r?1:0}function Dy(t){if(!t||!t.filterGroups||t.filterGroups.length===0)return!0;for(let e of t.filterGroups)if(e.filters&&e.filters.length>0)return!1;return!0}H4();var df=(t,e,a,r,o)=>{if(e<0||!r)return[];let n=t.data.boardConfigs,i=[],l=r.Pending,c=r.Completed;switch(a.colType){case"undated":i=l.filter(L=>{var g,C,v;if(((g=a.datedBasedColumn)==null?void 0:g.dateType)==="due")return!L.due;if(((C=a.datedBasedColumn)==null?void 0:C.dateType)==="startDate")return!L.startDate;if(((v=a.datedBasedColumn)==null?void 0:v.dateType)==="scheduledDate")return!L.scheduledDate});break;case"dated":let{dateType:s,from:d,to:u}=a.datedBasedColumn||{dateType:"due",from:0,to:0};i=l.filter(L=>{let g=L.due;if(s==="startDate"?g=L.startDate:s==="scheduledDate"&&(g=L.scheduledDate),!g||g==="")return!1;let C=new Date;C.setHours(0,0,0,0);let v=Ry.moment,y=v(g).diff(v(C),"days");return d>u?y>=u&&y<=d:y>=d&&y<=u});break;case"untagged":i=l.filter(L=>X5(L).length===0);break;case"namedTag":i=l.filter(L=>X5(L).some(g=>tt((a==null?void 0:a.coltag)||"",g)!==null));break;case"pathFiltered":if(a.filePaths){let L=a.filePaths.split(",").map(g=>g.trim()).filter(g=>g.length>0);L.length>0?i=l.filter(g=>{if(!g.filePath)return!1;let C=g.filePath;return L.some(y=>C3.test(y)?y===C:C.includes(y))}):i=[]}else i=[];break;case"otherTags":let f=n.find(L=>L.index===e),h=(f==null?void 0:f.columns.filter(L=>L.colType==="namedTag"&&L.coltag).map(L=>{var g;return(g=L.coltag)==null?void 0:g.toLowerCase().replace("#","")}).filter(L=>typeof L=="string"&&L.length>0))||[];i=l.filter(L=>{let g=X5(L);return g.length===0?!1:g.every(C=>tt(h,C)===null)});break;case"completed":let m=a==null?void 0:a.limit;i=c.slice(0,m);break;case"taskPriority":i=l.filter(L=>L.priority===a.taskPriority);break;case"taskStatus":i=[...l,...c].filter(L=>L.status===a.taskStatus);break;case"allPending":i=l;break;default:i=[];break}if(a!=null&&a.filters&&a.filters.filterGroups&&(i=Da(i,a.filters)),a!=null&&a.sortCriteria&&a.sortCriteria.length>0)if(a.sortCriteria.some(d=>d.criteria==="manualOrder")){Array.isArray(a.tasksIdManualOrder)||(a.tasksIdManualOrder=[]);let u=i.map(g=>g.id).filter(g=>!a.tasksIdManualOrder.includes(g));u.length>0&&(a.tasksIdManualOrder=[...u,...a.tasksIdManualOrder]);let f=a.tasksIdManualOrder,h=t.data.boardConfigs[e],m=!1,x=new Map(i.map(g=>[g.id,g])),L=[];for(let g of a.tasksIdManualOrder){let C=x.get(g);C?L.push(C):(f.splice(f.indexOf(g),1),m=!0)}h.columns[a.index-1].tasksIdManualOrder=f,o&&m&&o(h),i=L}else i=Ay(t.data.globalSettings.defaultStartTime,i,a.sortCriteria);return i};t2();var Vf=B1(T2(),1);var H2=B1(T2(),1);G8();var u2=B1(T2(),1);Jt();Jt();y6();t2();ci();A3();af();C4();e3();Y1();var Di=(t,e)=>{let a=new m0(t);if(Bp(e.title))a.isTasksPluginEnabled()?Ip(t,a,e).then(()=>{t.realTimeScanner.processAllUpdatedFiles(e.filePath,e.legacyId)}).catch(r=>{$.addToLogs(152,String(r),"TaskItemEventHandlers.ts/handleCheckboxChange")}):$.showNotice(45,"Task Board do not support recurring tasks yet. Tasks plugin is required to work with recurring inline-tasks. No changes has been made.",`Tasks plugin installed and enabled: ${a.isTasksPluginEnabled()}`,"TaskItemUtils.ts/useTasksPluginToUpdateInFile");else{let r=C6(t,e.status),o=S6(t.settings.data.globalSettings,e.title,r.newSymbol,r.newSymbolType),n={...e,title:o,status:r.newSymbol};i4(t,n,e).then(i=>{t.realTimeScanner.processAllUpdatedFiles(e.filePath,e.legacyId)})}},Ri=(t,e,a)=>{i4(t,a,e).then(r=>{t.realTimeScanner.processAllUpdatedFiles(a.filePath,e.id)})},Ei=(t,e,a)=>{let r=p("confirm-task-delete-description"),o=t.app;new c5(o,{app:o,mssg:r,onConfirm:()=>{a?hp(t,e.filePath):Oc(t,e).then(()=>{t.realTimeScanner.processAllUpdatedFiles(e.filePath)})},onCancel:()=>{},onArchive:()=>{a?pp(t,e.filePath).then(()=>{b1.emit("REFRESH_COLUMN")}):Fp(t,e)}}).open()};ni();var j3=require("obsidian");r7();e3();U5();t2();M0();A3();Nt();V2();K3();z6();var Ey=require("obsidian");A3();Jt();Ae();var Ny=require("obsidian");V2();Y1();var Ni=async(t,e)=>{try{let a=C6(t,e.status),r=t.settings.data.globalSettings,n=(0,Ny.moment)().format(r==null?void 0:r.taskCompletionDateTimePattern),i={...e,status:a.newSymbol};r.autoAddCompletedDate&&a.newSymbolType==="DONE"?(i.completion=n,i.cancelledDate=""):r.autoAddCancelledDate&&a.newSymbolType==="CANCELLED"?(i.cancelledDate=n,i.completion=""):(i.completion="",i.cancelledDate="");let l=M6(a.newSymbol,t.settings.data.globalSettings);await v4(t,i).then(()=>{sleep(1e3).then(()=>{t.realTimeScanner.processAllUpdatedFiles(i.filePath,e.legacyId)})}),new Ey.Notice(`Task note status updated to ${l}`)}catch(a){$.showNotice(153,"There was an error while updating the status.",String(a),"TaskNoteEventHandlers.ts/handleTaskNoteStatusChange")}};var Pi=async(t,e,a)=>{try{if(!t.app.vault.getFileByPath(a.filePath))return;let o=await J3(t,a.filePath);if(o==null)return;let n=Array.isArray(e.body)?e.body:[],i=Array.isArray(a.body)?a.body:[],l=[],c=Math.max(n.length,i.length);for(let u=0;u<c;u++)n[u]!==i[u]&&l.push(n[u]);let d=o.split(`
`).map(u=>{for(let f of l){let h=n.indexOf(f),m=h!==-1?i[h]:"";return u.trim()===f.trim()?m:u}});await v3(t,a.filePath,d.join(`
`)).then(()=>{sleep(1e3).then(()=>{t.realTimeScanner.processAllUpdatedFiles(a.filePath,e.id)})})}catch(r){$.showNotice(156,"There was an error while updating the body of the task note. Below error will provide some more information.",String(r),"TaskNoteEventHandlers.ts/handleTaskNoteBodyChange")}};C4();Bt();H4();mt();var Oi=require("obsidian");V2();mt();C4();A3();e3();y6();Bt();sf();Y1();var uf=class t{constructor(){this.currentDragData=null;this.desiredDropIndex=null;this.dropIndicator=null;this.plugin=null;this.handleTaskMove_same_column=async(e,a,r,o,n,i)=>{if(this.handleTasksOrderChange(this.plugin,a,r,this.desiredDropIndex),n&&i&&n.value!==i.value){let l=a.task,c={...l};c=await this.updateTaskItemOnSwimlaneChange(c,n,i,e.settings.data.globalSettings),b1.emit("UPDATE_TASK",{taskID:l.id,state:!0}),C2(e.settings.data.globalSettings.taskNoteIdentifierTag,l.tags)?v4(e,c).then(()=>{sleep(1e3).then(()=>{e.realTimeScanner.processAllUpdatedFiles(l.filePath,l.id)})}):(c.title=k0(c.title,l.tags,c.tags),i4(e,c,l).then(()=>{e.realTimeScanner.processAllUpdatedFiles(l.filePath,l.id)}))}else setTimeout(()=>{b1.emit("REFRESH_BOARD")},200)};this.handleTaskMove_namedTag_to_namedTag=async(e,a,r,o,n,i)=>{if(r.coltag==null||o.coltag==null){$.addToLogs(132,`coltag of either source or target column is undefined.
Source=${r.coltag}
Target=${o.coltag}`,"DragDropTasksManager.ts/handleTaskMove_namedTag_to_namedTag");return}let l=a.task,c={...l};this.handleTasksOrderChange(e,a,o,this.desiredDropIndex),n&&i&&(c=await this.updateTaskItemOnSwimlaneChange(c,n,i,e.settings.data.globalSettings));let s=r.coltag,d=c.tags.filter(f=>f.replace("#","").toLowerCase()!==s.replace("#","").toLowerCase()),u=o.coltag.replace("#","");d.push(u),d=Array.from(new Set(d)),ui(e,l,c,d)};this.handleTaskMove_dated_to_dated=async(e,a,r,o,n,i)=>{var d,u,f,h;if(!a||!o.datedBasedColumn){$.addToLogs(133,`No current drag data available for reordering.
currentDragData=${JSON.stringify(a)}
targetColumn=${JSON.stringify(o)}`,"DragDropTasksManager.ts/handleTaskMove_dated_to_dated");return}let{updateTaskItemDate:l}=await Promise.resolve().then(()=>(mt(),ue)),s={...a.task};if(this.handleTasksOrderChange(e,a,o,this.desiredDropIndex),n&&i&&(s=await this.updateTaskItemOnSwimlaneChange(s,n,i,e.settings.data.globalSettings)),o.datedBasedColumn&&o.datedBasedColumn.from===o.datedBasedColumn.to){let m=((d=o.datedBasedColumn)==null?void 0:d.dateType)||"due",x=s[m]||"",L=wc((u=o.datedBasedColumn)==null?void 0:u.from,(f=o.datedBasedColumn)==null?void 0:f.to)[0];l(e,s,m,L)}else if(o.datedBasedColumn&&o.datedBasedColumn.from<=o.datedBasedColumn.to){let m=((h=o.datedBasedColumn)==null?void 0:h.dateType)||"due",x=new ge(e);x.onDateSelected=async L=>{L&&l(e,s,m,L)},x.open()}else $.showNotice(30,"The column configurations are currupted. Configurations are not valid for this operation. Kindly verify the column configuration in which you just dropped the task.",`Column configuration :	${JSON.stringify(o)}`,"DragDropTasksManager.ts/handleTaskMove_dated_to_dated")};this.handleTaskMove_priority_to_priority=async(e,a,r,o,n,i)=>{if(!o.taskPriority){$.addToLogs(134,`The priority value not found in the target column configuration.
targetColumn=${JSON.stringify(o)}`,"DragDropTasksManager.ts/handleTaskMove_priority_to_priority");return}let{updateTaskItemPriority:l}=await Promise.resolve().then(()=>(mt(),ue)),s={...a.task};this.handleTasksOrderChange(e,a,o,this.desiredDropIndex),n&&i&&(s=await this.updateTaskItemOnSwimlaneChange(s,n,i,e.settings.data.globalSettings));let d=o.taskPriority||0;l(e,s,d)};this.handleTaskMove_status_to_status=async(e,a,r,o,n,i)=>{if(!o.taskStatus){$.addToLogs(135,`The status value not found in the target column configuration.
targetColumn=${JSON.stringify(o)}`,"DragDropTasksManager.ts/handleTaskMove_status_to_status");return}let{updateTaskItemStatus:l}=await Promise.resolve().then(()=>(mt(),ue)),s={...a.task};this.handleTasksOrderChange(e,a,o,this.desiredDropIndex),n&&i&&(s=await this.updateTaskItemOnSwimlaneChange(s,n,i,e.settings.data.globalSettings));let d=o.taskStatus||"";l(e,s,d)};this.handleTaskMove_DONE_to_TODO=(e,a)=>{let r=a.title,o={...a,status:" ",completion:"",cancelledDate:""};return C2(e.settings.data.globalSettings.taskNoteIdentifierTag,a.tags)||(o.title=S6(e.settings.data.globalSettings,a.title," ","TODO")),o};this.handleTaskMove_to_dated=async(e,a,r,o,n,i)=>{var d,u,f,h;if(!a||!o.datedBasedColumn){$.addToLogs(136,`No current drag data available for reordering.
currentDragData=${JSON.stringify(a)}
targetColumn=${JSON.stringify(o)}`,"DragDropTasksManager.ts/handleTaskMove_dated_to_dated");return}let{updateTaskItemDate:l}=await Promise.resolve().then(()=>(mt(),ue)),s={...a.task};if(this.handleTasksOrderChange(e,a,o,this.desiredDropIndex),n&&i&&(s=await this.updateTaskItemOnSwimlaneChange(s,n,i,e.settings.data.globalSettings)),r.colType==="completed"&&(s=this.handleTaskMove_DONE_to_TODO(e,s)),o.datedBasedColumn&&o.datedBasedColumn.from===o.datedBasedColumn.to){let m=((d=o.datedBasedColumn)==null?void 0:d.dateType)||"due",x=wc((u=o.datedBasedColumn)==null?void 0:u.from,(f=o.datedBasedColumn)==null?void 0:f.to)[0];l(e,s,m,x)}else if(o.datedBasedColumn&&o.datedBasedColumn.from<=o.datedBasedColumn.to){let m=((h=o.datedBasedColumn)==null?void 0:h.dateType)||"due",x=new ge(e);x.onDateSelected=async L=>{L&&l(e,s,m,L)},x.open()}else $.showNotice(31,"The column configurations are currupted. Configurations are not valid for this operation. Kindly verify the column configuration in which you just dropped the task.",`Column configuration :	${JSON.stringify(o)}`,"DragDropTasksManager.ts/handleTaskMove_dated_to_dated")};this.handleTaskMove_to_namedTag=async(e,a,r,o,n,i)=>{var d;if(!(o!=null&&o.coltag)){$.addToLogs(137,`coltag is undefined in the target column.
targetColumn=${JSON.stringify(o)}`,"DragDropTasksManager.ts/handleTaskMove_to_namedTag");return}let l=a.task,c={...l};this.handleTasksOrderChange(e,a,o,this.desiredDropIndex),n&&i&&(c=await this.updateTaskItemOnSwimlaneChange(c,n,i,e.settings.data.globalSettings)),r.colType==="completed"&&(c=this.handleTaskMove_DONE_to_TODO(e,c));let s=(d=l.tags)!=null?d:[];if(o.coltag){let u=o.coltag.startsWith("#")?o.coltag:`#${o.coltag}`;s.includes(u)||s.push(u)}ui(e,l,c,s)};this.handleTaskMove_to_priority=async(e,a,r,o,n,i)=>{if(!o.taskPriority){$.addToLogs(138,`The priority value not found in the target column configuration.
targetColumn=${JSON.stringify(o)}`,"DragDropTasksManager.ts/handleTaskMove_to_priority");return}let{updateTaskItemPriority:l}=await Promise.resolve().then(()=>(mt(),ue)),s={...a.task};this.handleTasksOrderChange(e,a,o,this.desiredDropIndex),n&&i&&(s=await this.updateTaskItemOnSwimlaneChange(s,n,i,e.settings.data.globalSettings)),r.colType==="completed"&&(s=this.handleTaskMove_DONE_to_TODO(e,s));let d=o.taskPriority||0;l(e,s,d)};this.handleTaskMove_to_status=async(e,a,r,o,n,i)=>{if(!o.taskStatus){$.addToLogs(139,`The status value not found in the target column configuration.
targetColumn=${JSON.stringify(o)}`,"DragDropTasksManager.ts/handleTaskMove_to_status");return}let{updateTaskItemStatus:l}=await Promise.resolve().then(()=>(mt(),ue)),s={...a.task};this.handleTasksOrderChange(e,a,o,this.desiredDropIndex),n&&i&&(s=await this.updateTaskItemOnSwimlaneChange(s,n,i,e.settings.data.globalSettings)),r.colType==="completed"&&(s=this.handleTaskMove_DONE_to_TODO(e,s));let d=o.taskStatus||"";l(e,s,d)};this.handleTaskMove_to_completed=async(e,a,r,o,n,i)=>{var u;let{updateTaskItemStatus:l}=await Promise.resolve().then(()=>(mt(),ue)),s={...a.task};this.handleTasksOrderChange(e,a,o,this.desiredDropIndex),n&&i&&(s=await this.updateTaskItemOnSwimlaneChange(s,n,i,e.settings.data.globalSettings));let d=e.settings.data.globalSettings.customStatuses.find(f=>f.type==="DONE");l(e,s,(u=d==null?void 0:d.symbol)!=null?u:"x")};this.handleTasksOrderChange=(e,a,r,o)=>{if(!(r!=null&&r.sortCriteria&&r.sortCriteria.length>0&&r.sortCriteria[0].criteria==="manualOrder"))return;let n=a.task;r.tasksIdManualOrder||(r.tasksIdManualOrder=[]),r.tasksIdManualOrder=r.tasksIdManualOrder.filter(l=>l!==n.id),typeof o=="number"&&o>=0&&o<=r.tasksIdManualOrder.length?r.tasksIdManualOrder.splice(o,0,n.id):r.tasksIdManualOrder.push(n.id);let i=e.settings;i.data.boardConfigs[a.currentBoardIndex].columns[r.index-1]=r,e.saveSettings(i)};this.updateTaskItemOnSwimlaneChange=async(e,a,r,o)=>{var s;let n=a.property,i=a.value,l=r.value,c={...e};if(n==="tags"){let d=(s=e.tags)!=null?s:[],u=d;i!=="All rest"&&(u=u.filter(f=>f.replace("#","").toLowerCase()!==i.replace("#","").toLowerCase())),l!=="All rest"&&u.push(l.startsWith("#")?l:`#${l}`),u=Array.from(new Set(u)),c=await fi(c,o,n,d,u)}else c=await fi(c,o,n,i,l);return c}}static getInstance(){return t.instance||(t.instance=new t),t.instance}setPlugin(e){this.plugin=e}setDesiredDropIndex(e){this.desiredDropIndex=e}getDesiredDropIndex(){return this.desiredDropIndex}clearDesiredDropIndex(){this.desiredDropIndex=null}setCurrentDragData(e){this.currentDragData=e}getCurrentDragData(){return this.currentDragData}clearCurrentDragData(){this.currentDragData=null}isTaskDropAllowed(e,a){switch(a.colType){case"undated":return!1;case"untagged":return!1;case"otherTags":return e.colType==="otherTags";case"allPending":return!1;default:return!0}}dimDraggedTaskItem(e){e.classList.add("task-item-dragging-dimmed")}removeDimFromDraggedTaskItem(e){e.classList.remove("task-item-dragging-dimmed")}showCardDropIndicator(e,a){if(!this.plugin||!e||!e.parentElement)return;this.dropIndicator||(this.dropIndicator=document.createElement("div"),this.dropIndicator.className="taskboard-drop-indicator is-visible",this.dropIndicator.style.position="absolute",this.dropIndicator.style.pointerEvents="none",this.dropIndicator.style.zIndex="9999",this.dropIndicator.style.background="var(--interactive-accent, #5b8cff)",this.dropIndicator.style.borderRadius="4px",this.dropIndicator.style.height="4px");let r=e.getBoundingClientRect(),o=e.parentElement.getBoundingClientRect(),n=a?`${r.top-o.top-6}px`:`${r.bottom-o.top+2}px`;this.dropIndicator.style.width=`${r.width}px`,this.dropIndicator.style.left=`${r.left-o.left}px`,this.dropIndicator.style.top=n,e.parentElement.appendChild(this.dropIndicator)}clearAllDragStyling(){Array.from(document.querySelectorAll(".TaskBoardColumnsSection")).forEach(a=>{a.classList.remove("drag-over-allowed","drag-over-not-allowed")}),this.dropIndicator&&this.dropIndicator.parentElement&&this.dropIndicator.parentElement.removeChild(this.dropIndicator)}handleDragStartEvent(e,a,r,o){e.dataTransfer&&(e.stopPropagation(),this.setCurrentDragData(r),e.dataTransfer.effectAllowed="move",requestAnimationFrame(()=>{var n;(n=e.dataTransfer)==null||n.setDragImage(a,0,0),a.classList.add("task-item-dragging")}),this.dimDraggedTaskItem(a))}handleCardDragOverEvent(e,a,r,o){!this.getCurrentDragData()||this.getCurrentDragData()===null||(e.preventDefault(),e.stopPropagation(),this.currentDragData&&a.getAttribute("data-taskitem-id")===this.currentDragData.task.id)||!this.handleColumnDragOverEvent(e,o,r)||e.dataTransfer&&(e.dataTransfer.dropEffect="move")}handleColumnDragOverEvent(e,a,r){e.preventDefault();let o=this.currentDragData?this.currentDragData.sourceColumnData:null;return o?this.isTaskDropAllowed(o,a)?(r.classList.add("drag-over-allowed"),r.classList.remove("drag-over-not-allowed"),e.dataTransfer.dropEffect="move",!0):(r.classList.add("drag-over-not-allowed"),r.classList.remove("drag-over-allowed"),e.dataTransfer.dropEffect="none",!1):($.addToLogs(141,`No source column data available for dragover.
SourceColumn=${JSON.stringify(o)}`,"DragDropTasksManager.ts/handleColumnDragOverEvent"),!1)}handleDragLeaveEvent(e){this.clearDesiredDropIndex(),this.dropIndicator&&this.dropIndicator.parentElement&&this.dropIndicator.parentElement.removeChild(this.dropIndicator),this.dropIndicator=null,e.classList.remove("drag-over-allowed","drag-over-not-allowed")}handleDropEvent(e,a,r,o){if(e.preventDefault(),!this.currentDragData){$.addToLogs(142,`No current drag data available for drop operation.currentDragData=${JSON.stringify(this.currentDragData)}`,"DragDropTasksManager.ts/handleDropEvent");return}let n=this.currentDragData.sourceColumnData,i=this.currentDragData.swimlaneData;if(!n){$.addToLogs(143,`There was an error while capturing the source column data.sourceColumnData=${JSON.stringify(n)}`,"DragDropTasksManager.ts/handleDropEvent");return}if(r.classList.remove("drag-over-allowed","drag-over-not-allowed"),!this.isTaskDropAllowed(n,a)){new Oi.Notice(`Task drop not allowed from column type: ${n.colType} to column type: ${a.colType}`);return}if(a.colType===n.colType)if(a.id===n.id){this.handleTaskMove_same_column(this.plugin,this.currentDragData,n,a,i,o);return}else a.colType==="namedTag"?this.handleTaskMove_namedTag_to_namedTag(this.plugin,this.currentDragData,n,a,i,o):a.colType==="dated"?this.handleTaskMove_to_dated(this.plugin,this.currentDragData,n,a,i,o):a.colType==="taskPriority"?this.handleTaskMove_priority_to_priority(this.plugin,this.currentDragData,n,a,i,o):a.colType==="taskStatus"?this.handleTaskMove_status_to_status(this.plugin,this.currentDragData,n,a,i,o):new Oi.Notice("This operation is not possible in the current version. Please request this idea to the developer.");else a.colType==="completed"?this.handleTaskMove_to_completed(this.plugin,this.currentDragData,n,a,i,o):a.colType==="dated"?this.handleTaskMove_to_dated(this.plugin,this.currentDragData,n,a,i,o):a.colType==="namedTag"?this.handleTaskMove_to_namedTag(this.plugin,this.currentDragData,n,a,i,o):a.colType==="taskPriority"?this.handleTaskMove_to_priority(this.plugin,this.currentDragData,n,a,i,o):a.colType==="taskStatus"?this.handleTaskMove_to_status(this.plugin,this.currentDragData,n,a,i,o):new Oi.Notice("This operation is not possible in the current version. Please request this idea to the developer.")}},S2=uf.getInstance();Y1();o0();var Ra=require("obsidian"),ff=class extends Ra.Modal{constructor(e,a){super(e),this.options={confirmText:"Confirm",cancelText:"Cancel",...a}}show(){return new Promise(e=>{this.resolve=e,this.open()})}onOpen(){let{contentEl:e}=this;e.empty(),new Ra.Setting(e).setName(this.options.title).setHeading(),new Ra.Setting(e).addText(n=>{this.inputEl=n.inputEl,n.setPlaceholder(this.options.placeholder||"").setValue(this.options.initialValue||"").onChange(()=>{}),setTimeout(()=>{this.inputEl.focus(),this.inputEl.select()},100)});let a=e.createEl("div",{cls:"modal-button-container"});a.style.display="flex",a.style.gap="10px",a.style.justifyContent="flex-end",a.style.marginTop="20px";let r=a.createEl("button",{text:this.options.cancelText});r.addEventListener("click",()=>{this.resolve(null),this.close()});let o=a.createEl("button",{text:this.options.confirmText,cls:"mod-cta"});o.addEventListener("click",()=>{let n=this.inputEl.value.trim();this.resolve(n||null),this.close()}),this.inputEl.addEventListener("keydown",n=>{n.key==="Enter"?(n.preventDefault(),o.click()):n.key==="Escape"&&(n.preventDefault(),r.click())})}onClose(){let{contentEl:e}=this;e.empty(),this.resolve&&this.resolve(null)}};async function Py(t,e){return new ff(t,e).show()}var C1=B1(n2(),1),NB=({dataAttributeIndex:t,plugin:e,task:a,activeBoardSettings:r,columnIndex:o,swimlaneData:n})=>{var k1,R1,N1,n1,l1,K,m1,A1,P1;let i=e.settings.data.globalSettings,l=e.settings.data.globalSettings.taskNoteIdentifierTag,c=C2(l,a.tags),s=c?Y2(a.status,!0,e.settings):Y2(a.title,!1,e.settings),d=o!==void 0?r==null?void 0:r.columns[o-1]:void 0,u=(R1=(k1=i.visiblePropertiesList)==null?void 0:k1.includes("description"))!=null?R1:!0,[f,h]=(0,u2.useState)(!1),[m,x]=(0,u2.useState)(s),[L,g]=(0,u2.useState)(!1),[C,v]=(0,u2.useState)(!1),[y,b]=(0,u2.useState)((N1=e.settings.data.globalSettings.visiblePropertiesList)==null?void 0:N1.includes("subTasks"));(0,u2.useEffect)(()=>{var j;(j=e.settings.data.globalSettings.visiblePropertiesList)!=null&&j.includes("subTasks")?b(!0):b(!1)},[e.settings.data.globalSettings]);let[V,H]=(0,u2.useState)(()=>$5(a,e));(0,u2.useEffect)(()=>{H($5(a,e))},[a.due,a.startDate,a.scheduledDate]);let D=a.id,A=(0,u2.useRef)(null);(0,u2.useEffect)(()=>{A.current=e.view},[]);let E=(0,u2.useRef)(null),O=(0,u2.useRef)(null),_=(0,u2.useRef)(new Map),N=(0,u2.useRef)(null),w=(0,u2.useRef)({});(0,u2.useEffect)(()=>{let j=O.current;if(!j||!A.current)return;new Promise(requestAnimationFrame);let W=!1;(async()=>{try{if(j.innerHTML="",a.title==="")return;let U=c?a.title:a0(a);if(await y4.renderTaskDisc(e.app,U,j,a.filePath,A.current),W){j.innerHTML="";return}de(e.app,e,j,a.filePath,a.filePath)}catch(U){$.addToLogs(122,String(U),"TaskItem.tsx/Main title rendering useEffect")}})()},[a.id,a.title,a.filePath,e.settings.data.globalSettings.searchQuery]),(0,u2.useEffect)(()=>{if(!A.current)return;let j=a.body.filter(U=>m4(U.trim())),W=!1;return(async()=>{for(let[U,t1]of j.entries()){if(W)break;let x1=`${a.id}-${U}`,v1=_.current.get(x1);if(v1)try{v1.innerHTML="";let y1=t1.match(F2.taskRegex),z1=y1&&(y1==null?void 0:y1.length)>=5?y1[4].trim():t1.trim();if(await y4.renderSubtaskText(e.app,z1,v1,a.filePath,A.current),de(e.app,e,v1,a.filePath,a.filePath),W){v1.innerHTML="";break}}catch(y1){$.addToLogs(123,String(y1),"TaskItem.tsx/Sub-tasks rendering useEffect")}}})(),()=>{W=!0}},[a.id,a.body,a.filePath]),(0,u2.useEffect)(()=>{var t1;let j=`${D}-desc`,W=w.current[j];if(!W)return;let U=(t1=a.body)==null?void 0:t1.filter(x1=>!m4(x1)).join(`
`).trim();if(!U){W.empty();return}W.empty(),y4.renderTaskDisc(e.app,U,W,a.filePath,A.current),de(e.app,e,W,a.filePath,a.filePath)},[(n1=a.body)==null?void 0:n1.join(`
`),u,C]);let M=()=>(a.body?a.body.filter(W=>!m4(W)).join(`
`).trim():"")&&u?(0,C1.jsx)("div",{className:"taskItemBodyDescriptionSection",children:(0,C1.jsx)("div",{className:`taskItemBodyDescription${C?"":"-collapsed"}`,ref:N,children:(0,C1.jsx)("div",{className:"taskItemBodyDescriptionRenderer",ref:W=>{w.current[`${a.id}-desc`]=W}})})}):null,z=async()=>{let j=C;if(v(W=>!W),!j)await M(),N.current&&(N.current.style.height=`${N.current.scrollHeight}px`,N.current.style.opacity="1");else{N.current&&(N.current.style.height="0",N.current.style.opacity="0");let W=`${a.id}-desc`,U=w.current[W];U==null||U.empty()}},k=(0,u2.useCallback)(()=>{let j=new Date,W=qr(V)||new Date(V);if(W.toDateString()===j.toDateString())if(a.time){let[U,t1]=a.time.contains("-")?a.time.split("-"):[a.time,a.time],[x1,v1]=U.contains(":")?U.trim().split(":").map(Number):[U,0].map(Number),[y1,z1]=t1.contains(":")?t1.trim().split(":").map(Number):[t1,0].map(Number),J1=new Date(j);J1.setHours(x1,v1,0,0);let j1=new Date(j);j1.setHours(y1,z1,0,0);let $1=new Date;if($1<J1)return"#e8ce4aa8";if($1>=J1&&$1<=j1)return"var(--color-blue)";if($1>j1)return"#f23a3ab8"}else return"var(--color-yellow)";else return W>j?"green":W<j?"#f23a3ab8":"grey"},[V,a.time]);function T(j){if(i.tagColorsType==="background"){let W=e.settings.data.globalSettings.tagColors;if(!Array.isArray(W)||W.length===0)return;let U=new Map(W.map(v1=>[v1.name,v1])),t1;for(let v1 of j){let y1=v1.replace("#",""),z1=U.get(y1);z1||U.forEach((J1,j1,$1)=>{tt(j1,y1||"")&&(z1=J1)}),z1&&(!t1||z1.priority<t1.priority)&&(t1=z1)}return t1&&(v1=>{let y1=v1.match(/rgba?\((\d+), (\d+), (\d+)(, (\d+(\.\d+)?))?\)/);return y1&&y1[5]?parseFloat(y1[5]):1})(t1.color)>.2?w0(t1.color,.2):t1==null?void 0:t1.color}}(0,u2.useEffect)(()=>{let j=W=>{(!W||!(W!=null&&W.taskID))&&g(!1),W.taskID===D&&g(W.state)};return b1.on("UPDATE_TASK",j),()=>b1.off("UPDATE_TASK",j)},[D]);let S=async()=>{if(L)return;if(g(!0),x(!0),await Kr(e,a)||s){let W=C2(l,a.tags);try{W?await Ni(e,a):Di(e,a)}catch(U){$.addToLogs(124,String(U),"TaskItem.tsx/handleMainCheckBoxClick")}setTimeout(()=>{g(!1)},2e3)}else new j3.Notice(p("complete-all-child-tasks-before-completing-task"),5e3),g(!1),x(s)},R=()=>{Ei(e,a,C2(l,a.tags))},Z=(j,W)=>{let U=a.body.map((x1,v1)=>{if(x1===j){let y1=x6(x1),z1=C6(e,y1);return x1.replace(`[${y1}]`,`[${z1.newSymbol}]`)}return x1}),t1={...a,body:U};g(!0);try{C2(l,a.tags)?Pi(e,a,t1):Ri(e,a,t1)}finally{setTimeout(()=>g(!1),2e3)}},P=j=>{document.getElementById("taskItemFooterBtns")&&j.ctrlKey&&gt(e.app,j,a.filePath)},B=j=>{let W=e.settings.data.globalSettings.editButtonAction;W!=="noteInHover"?l3(e,a,W):(j.ctrlKey=!0,gt(e.app,j,a.filePath),j.ctrlKey=!1)},I=j=>{let W=e.settings.data.globalSettings.doubleClickCardToEdit;W!=="none"&&(W!=="noteInHover"?l3(e,a,W):(j.ctrlKey=!0,gt(e.app,j,a.filePath),j.ctrlKey=!1))},F=async(j,W)=>{j.stopPropagation();try{let U=await t0(e,W);if(!U){$.showNotice(5,`Task with ID ${W} not found in the cache. Please try to search for the task in its source note and try scanning that single note again using the file menu option. If issue still persists after refreshing the board, kindly report this bug to the developer.`,"ERROR : Child task not found in the cache","TaskItem.tsx/handleOpenChildTaskModal");return}let t1=e.settings.data.globalSettings.editButtonAction;t1!=="noteInHover"?l3(e,U,t1):(j.ctrlKey=!0,gt(e.app,j,U.filePath),j.ctrlKey=!1)}catch(U){$.showNotice(6,"Error opening child task modal",String(U),"TaskItem.tsx/handleOpenChildTaskModal")}},q=j=>{if(j.stopPropagation(),!i.experimentalFeatures)return;let W=new j3.Menu;W.addItem(U=>{U.setTitle(p("properties")),U.setIsLabel(!0)}),W.addItem(U=>{U.setIcon("info"),U.setTitle(p("status"));let t1=U.setSubmenu();j5(e.settings.data.globalSettings.customStatuses).forEach(v1=>{t1.addItem(y1=>{let z1=y4.renderSubtaskText(e.app,`- [${v1.value}] ${v1.name} (**[${v1.value}]**)`,y1.titleEl,"",null);y1.onClick(()=>{ba(e,a,v1.value)})})})}),W.addItem(U=>{U.setIcon("flag"),U.setTitle(p("priority"));let t1=U.setSubmenu();m3().forEach(v1=>{t1.addItem(y1=>{y1.setTitle(v1.text),y1.onClick(()=>Sa(e,a,v1.value))})})}),W.addItem(U=>{U.setIcon("calendar-plus"),U.setTitle(p("start-date")),U.onClick(async()=>{me(e,p("start"),a.startDate,t1=>{a6(e,a,"startDate",t1)})})}),W.addItem(U=>{U.setIcon("calendar-clock"),U.setTitle(p("scheduled-date")),U.onClick(async()=>{me(e,p("scheduled"),a.scheduledDate,t1=>{a6(e,a,"scheduledDate",t1)})})}),W.addItem(U=>{U.setIcon("calendar"),U.setTitle(p("due-date")),U.onClick(async()=>{me(e,p("due"),a.due,t1=>{a6(e,a,"due",t1)})})}),W.addItem(U=>{U.setIcon("clock"),U.setTitle(p("reminder")),U.onClick(async()=>{})}),W.addSeparator(),W.addItem(U=>{U.setTitle(p("quick-actions")),U.setIsLabel(!0)}),W.addItem(U=>{U.setIcon("copy"),U.setTitle(p("copy-task-title")),U.onClick(async()=>{try{await navigator.clipboard.writeText(a0(a)),new j3.Notice(p("copy-task-title-successful"))}catch(t1){new j3.Notice(p("copy-task-title-unsuccessful"))}})}),W.addItem(U=>{U.setIcon("file-input"),U.setTitle(p("open-note")),U.onClick(async()=>{l3(e,a,"noteInTab")})}),W.addItem(U=>{U.setIcon("columns-2"),U.setTitle(p("open-note-to-right")),U.onClick(async()=>{l3(e,a,"noteInSplit")})}),W.addItem(U=>{U.setIcon("file-text"),U.setTitle(p("note-actions"));let t1=U.setSubmenu(),x1=e.app.vault.getAbstractFileByPath(a.filePath);if(x1 instanceof j3.TFile){try{e.app.workspace.trigger("file-menu",t1,x1,"file-explorer")}catch(v1){console.debug("Native file menu not available, using fallback")}t1.addItem(v1=>{v1.setIcon("pencil"),v1.setTitle(p("rename-note")),v1.onClick(async()=>{try{let y1=x1.basename,z1=await Py(e.app,{title:p("rename-note"),placeholder:p("rename-note-placeholder"),initialValue:y1});if(z1&&z1.trim()!==""&&z1!==y1){let J1=x1.extension,j1=z1.endsWith(`.${J1}`)?z1:`${z1}.${J1}`,$1=x1.parent?`${x1.parent.path}/${j1}`:j1;await e.app.vault.rename(x1,$1),new j3.Notice("File renamed successfully.")}}catch(y1){new j3.Notice("There was an error while renaming the file."),$.addToLogs(125,String(y1),"TaskItem.tsx/handleMenuButtonClicked/renaming")}})}),t1.addItem(v1=>{v1.setIcon("trash"),v1.setTitle(p("delete-note")),v1.onClick(async()=>{e.app.vault.trash(x1,!0).then(()=>{new j3.Notice("File deleted successfully. Moved to system trash.")})})})}}),W.showAtMouseEvent(j instanceof MouseEvent?j:j.nativeEvent)},G=(0,u2.useCallback)(j=>{var W;if(!d){j.preventDefault(),$.addToLogs(91,"Column data : undefined","TaskItem.tsx/handleDragStart");return}h(!0);try{let U=E.current,t1={task:a,taskIndex:String(t),sourceColumnData:d,currentBoardIndex:r.index,swimlaneData:n};S2.handleDragStartEvent(j.nativeEvent,U,t1,0);let x1=U.cloneNode(!0);(W=j.dataTransfer)==null||W.setDragImage(U,0,0),requestAnimationFrame(()=>{x1.classList.add("task-item-dragging")})}catch(U){$.addToLogs(126,String(U),"TaskItem.tsx/handleDragStart")}},[a,d]),Y=(0,u2.useCallback)(()=>{h(!1),E.current&&S2.removeDimFromDraggedTaskItem(E.current),S2.clearAllDragStyling(),S2.clearCurrentDragData()},[]),J=()=>{var j,W,U;try{return(0,C1.jsxs)("div",{className:"taskItemHeader",children:[(0,C1.jsxs)("div",{className:"taskItemHeaderLeft",children:[((j=i.visiblePropertiesList)==null?void 0:j.includes("priority"))&&a.priority>0&&(0,C1.jsx)("div",{className:"taskItemPrio",children:Qt[a.priority]}),((W=i.visiblePropertiesList)==null?void 0:W.includes("tags"))&&a.tags.length>0&&(0,C1.jsxs)("div",{className:"taskItemTags",children:[a.tags.map(t1=>{var $1;let x1=i.tagColorsType==="tagBg",v1=t1.replace("#",""),y1=e.settings.data.globalSettings.tagColorsType==="background"?void 0:e.settings.data.globalSettings.tagColors.find(I2=>I2.name===v1),z1=y1==null?void 0:y1.color,J1=y1?w0(y1.color,.1):"var(--tag-background)";if(!(r!=null&&r.showColumnTags)&&d&&(d==null?void 0:d.colType)==="namedTag"&&v1.replace("#","")===(($1=d==null?void 0:d.coltag)==null?void 0:$1.replace("#","")))return null;let j1=`${a.id}-${t1}`;return(0,C1.jsx)("div",{className:"taskItemTag",style:{color:x1&&z1?"white":z1,backgroundColor:x1?z1:J1},children:t1},j1)}),a.frontmatterTags&&a.frontmatterTags.map(t1=>{let x1=`${a.id}-fm-${t1}`;return(0,C1.jsx)("div",{className:"taskItemTagFrontmatter",title:"Tag from note frontmatter (read-only)",children:t1},x1)})]})]}),(0,C1.jsx)("div",{className:"taskItemHeaderRight",children:((U=i.visiblePropertiesList)==null?void 0:U.includes("id"))&&a.legacyId&&(0,C1.jsxs)("div",{className:"taskItemPropertyID",children:[(0,C1.jsx)("div",{className:"taskItemPropertyIDLabel",children:"ID"}),(0,C1.jsx)("div",{className:"taskItemPropertyIDValue",children:a.legacyId})]})})]})}catch(t1){return $.addToLogs(7,t1,"TaskItem.tsx/renderHeader"),null}},h1=()=>{var j,W;try{let U=(j=a.body)!=null?j:[];if(U.length===0)return null;let t1=U.filter(z1=>F2.taskRegex.test(z1)),x1=t1.length,v1=t1.filter(z1=>Y2(z1,!1,e.settings)).length,y1=(W=i.visiblePropertiesList)==null?void 0:W.includes("subTasksMinimized");return(0,C1.jsxs)(C1.Fragment,{children:[y1&&x1>0&&(0,C1.jsx)("div",{className:"subtask-summary-container",children:(0,C1.jsxs)("div",{className:"subtask-progress-bar-wrapper",children:[(0,C1.jsx)("div",{className:"subtask-progress-bar-bg",children:(0,C1.jsx)("div",{className:"subtask-progress-bar-fill",style:{width:`${v1/x1*100}%`}})}),(0,C1.jsxs)("span",{className:"subtask-progress-count",children:["[",v1,"/",x1,"]"]}),(0,C1.jsx)("span",{className:`subtask-toggle-icon ${y?"rotated":""}`,onClick:()=>b(z1=>!z1),children:(0,C1.jsx)(ht,{size:18,style:{verticalAlign:"middle"}})})]})}),(0,C1.jsx)("div",{className:y?"taskItemBodySubtaskSection-show":"taskItemBodySubtaskSection-hide",children:t1.map((z1,J1)=>{let j1=Y2(z1,!1,e.settings),$1=L6(e),I2=z1.match(new RegExp(`^(${$1})+`)),D4=a.title.match(new RegExp(`^(${$1})+`)),St=D4&&D4[0]?D4[0].length/$1.length:0,Ht=I2&&I2[0]?I2[0].length/$1.length:0,kt=Ht>1?`${(Ht-St-1)*15}px`:"0px",B3=`${a.id}-${J1}`;return(0,C1.jsxs)("div",{className:"taskItemBodySubtaskItem",style:{paddingLeft:kt},id:B3,children:[(0,C1.jsx)("input",{type:"checkbox",className:"taskItemBodySubtaskItemCheckbox",checked:j1,onChange:()=>Z(z1,j1),onDoubleClick:I3=>{I3.preventDefault()}}),(0,C1.jsx)("div",{className:j1?"subtaskTextRenderer subtaskTextRenderer-checked":"subtaskTextRenderer",ref:I3=>{I3?_.current.set(B3,I3):_.current.delete(B3)}})]},B3)})})]})}catch(U){return $.addToLogs(8,U,"TaskItem.tsx/renderSubTasks"),null}},r1=()=>{var j,W,U,t1,x1,v1,y1,z1,J1,j1;try{return(0,C1.jsx)(C1.Fragment,{children:L?(0,C1.jsx)("div",{className:"taskItemFooterRefreshingMssg",children:"Refreshing..."}):(0,C1.jsx)(C1.Fragment,{children:(0,C1.jsxs)("div",{className:"taskItemFooter",children:[((j=i.visiblePropertiesList)==null?void 0:j.includes("status"))&&(a==null?void 0:a.status)&&(0,C1.jsx)("div",{className:"taskItemFooterPropertyContainerEmoji",children:(0,C1.jsx)("div",{className:"taskItemFooterPropertyContainerValue",children:M6(a.status,i)})}),((W=i.visiblePropertiesList)==null?void 0:W.includes("reminder"))&&(a==null?void 0:a.reminder)&&(0,C1.jsx)("div",{className:"taskItemReminderContainer",children:"\u{1F514}"}),((U=i.visiblePropertiesList)==null?void 0:U.includes("time"))&&(a==null?void 0:a.time)&&(0,C1.jsxs)("div",{className:"taskItemFooterPropertyContainerEmoji",children:["\u23F0 ",(0,C1.jsx)("div",{className:"taskItemFooterPropertyContainerValue",children:a.time})]}),((t1=i.visiblePropertiesList)==null?void 0:t1.includes("createdDate"))&&(a==null?void 0:a.createdDate)&&(0,C1.jsxs)("div",{className:"taskItemFooterPropertyContainerEmoji",children:["\u2795 ",(0,C1.jsx)("div",{className:"taskItemFooterPropertyContainerValue",children:a.createdDate})]}),((x1=i.visiblePropertiesList)==null?void 0:x1.includes("startDate"))&&(a==null?void 0:a.startDate)&&(0,C1.jsxs)("div",{className:"taskItemFooterPropertyContainerEmoji",children:["\u{1F6EB} ",(0,C1.jsx)("div",{className:"taskItemFooterPropertyContainerValue",children:a.startDate})]}),((v1=i.visiblePropertiesList)==null?void 0:v1.includes("scheduledDate"))&&(a==null?void 0:a.scheduledDate)&&(0,C1.jsxs)("div",{className:"taskItemFooterPropertyContainerEmoji",children:["\u23F3 ",(0,C1.jsx)("div",{className:"taskItemFooterPropertyContainerValue",children:a.scheduledDate})]}),((y1=i.visiblePropertiesList)==null?void 0:y1.includes("dueDate"))&&(a==null?void 0:a.due)&&(0,C1.jsxs)("div",{className:"taskItemFooterPropertyContainerEmoji",children:["\u{1F4C5} ",(0,C1.jsx)("div",{className:"taskItemFooterPropertyContainerValue",children:a.due})]}),((z1=i.visiblePropertiesList)==null?void 0:z1.includes("completionDate"))&&(a==null?void 0:a.completion)&&(0,C1.jsxs)("div",{className:"taskItemFooterPropertyContainerEmoji",children:["\u2705 ",(0,C1.jsx)("div",{className:"taskItemFooterPropertyContainerValue",children:a.completion})]}),((J1=i.visiblePropertiesList)==null?void 0:J1.includes("cancelledDate"))&&(a==null?void 0:a.cancelledDate)&&(0,C1.jsxs)("div",{className:"taskItemFooterPropertyContainerEmoji",children:["\u274C ",(0,C1.jsx)("div",{className:"taskItemFooterPropertyContainerValue",children:a.cancelledDate})]}),((j1=i.visiblePropertiesList)==null?void 0:j1.includes("filePath"))&&a.filePath&&(0,C1.jsxs)("div",{className:"taskItemFooterPropertyContainerEmoji",children:["\u{1F4C4} ",(0,C1.jsx)("div",{className:"taskItemFooterPropertyContainerValue","aria-label":a.filePath,children:a.filePath.split("/").pop()})]})]})})})}catch($1){return $.addToLogs(9,$1,"TaskItem.tsx/renderFooter"),null}},[o1,Q]=(0,u2.useState)({});(0,u2.useEffect)(()=>{a!=null&&a.dependsOn&&a.dependsOn.length>0?(async()=>{var U;let W={};await Promise.all(((U=a==null?void 0:a.dependsOn)!=null?U:[]).map(async t1=>{let x1=await t0(e,t1);W[t1]=x1})),Q(W)})():Q({})},[a.dependsOn]);let e1=()=>{try{return e.settings.data.globalSettings.lastViewHistory.viewedType==="kanban"&&(a!=null&&a.dependsOn)&&a.dependsOn.length>0?(0,C1.jsx)("div",{className:"taskItemChildTasksSection",children:(0,C1.jsx)("div",{className:"taskItemChildTasks",children:(a==null?void 0:a.dependsOn)&&(a==null?void 0:a.dependsOn.map(j=>{let W=o1[j];if(!W)return null;let t1=C2(l,a.tags)?Y2(W.status,!0,e.settings):Y2(W.status,!1,e.settings),x1=W.title||`There was an error fetching the task with ID: ${j}`;return(0,C1.jsx)("div",{className:"taskItemChildTask",children:(0,C1.jsxs)("div",{className:"taskItemChildTaskContent",onClick:v1=>F(v1,j),children:[(0,C1.jsx)("span",{className:"taskItemChildTaskSymbol",role:"img","aria-label":p("child-task"),children:t1?v2.dependsOnCompletedSymbol:v2.dependsOnSymbol}),(0,C1.jsx)("span",{className:`taskItemChildTaskTitleText${t1?"-completed":""}`,title:x1.slice(6),children:a0(W)})]})},`${a.id}-dep-${j}`)}))})}):null}catch(j){return $.addToLogs(10,j,"TaskItem.tsx/renderChildTasks"),null}},c1=(0,u2.useMemo)(()=>J(),[e.settings.data.globalSettings.visiblePropertiesList,a.priority,a.tags,r]),p1=(0,u2.useMemo)(()=>h1(),[e.settings.data.globalSettings.visiblePropertiesList,a.body,y]),V1=(0,u2.useMemo)(()=>e1(),[a.dependsOn,o1]);return(0,C1.jsx)("div",{className:"taskItemContainer",children:(0,C1.jsxs)("div",{ref:E,className:`taskItem ${s?"completed":""} ${f?"taskItem-dragging":""}`,style:{backgroundColor:T(a.tags)},onDoubleClick:I,onContextMenu:q,children:[(0,C1.jsx)("div",{className:"colorIndicator",style:{backgroundColor:k()}}),(0,C1.jsxs)("div",{className:"taskItemMainContent",children:[c1,e.settings.data.globalSettings.experimentalFeatures&&(0,C1.jsx)(C1.Fragment,{children:j3.Platform.isPhone||e.settings.data.globalSettings.lastViewHistory.viewedType==="map"?(0,C1.jsx)(C1.Fragment,{children:(0,C1.jsx)("div",{className:"taskItemMenuBtn","aria-label":p("open-task-menu"),children:(0,C1.jsx)(pt,{size:18,enableBackground:0,opacity:.4,onClick:q})})}):(0,C1.jsx)(C1.Fragment,{children:(d==null?void 0:d.colType)!=="allPending"&&(0,C1.jsx)("div",{className:"taskItemDragBtn",draggable:!0,onDragStart:G,onDragEnd:Y,children:(0,C1.jsx)(l5,{size:18,enableBackground:0,opacity:.4})})})}),(0,C1.jsxs)("div",{className:"taskItemMainBody",children:[(0,C1.jsxs)("div",{className:"taskItemMainBodyTitleNsubTasks",children:[((l1=i.visiblePropertiesList)==null?void 0:l1.includes("checkbox"))&&(0,C1.jsx)("input",{id:`${a.id}-checkbox`,type:"checkbox",checked:!1,className:`taskItemCheckbox${L?"-checked":""}`,"data-task":a.status,dir:"auto",onChange:S,onClick:j=>{L&&j.preventDefault()},onDoubleClick:j=>{j.preventDefault()},disabled:L,"aria-disabled":L,"aria-busy":L,readOnly:L}),(0,C1.jsxs)("div",{className:"taskItemBodyContent",children:[(0,C1.jsx)("div",{className:"taskItemTitle",ref:O}),(((K=i.visiblePropertiesList)==null?void 0:K.includes("subTasks"))||((m1=i.visiblePropertiesList)==null?void 0:m1.includes("subTasksMinimized")))&&(0,C1.jsx)("div",{className:"taskItemSubTasksSection",children:p1})]})]}),u&&(0,C1.jsx)("div",{className:"taskItemMainBodyDescriptionSectionVisible",children:M()}),((A1=i.visiblePropertiesList)==null?void 0:A1.includes("descriptionMinimized"))&&(0,C1.jsxs)("div",{className:"taskItemMainBodyDescription",children:[a.body.at(0)!==""&&a.body.filter(j=>!m4(j)).length>0&&(0,C1.jsx)("div",{className:"taskItemMainBodyDescriptionSectionToggler",onClick:z,children:C?p("hide-description"):p("show-description")}),(0,C1.jsx)("div",{className:"taskItemMainBodyDescriptionSection",children:(0,C1.jsx)("div",{className:`taskItemBodyDescription${C?"-expanded":""}`,ref:N,children:(0,C1.jsx)("div",{className:"taskItemBodyDescriptionRenderer",ref:j=>{if(j){let W=`${a.id}-desc`;w.current[W]=j}}})})})]}),((P1=i.visiblePropertiesList)==null?void 0:P1.includes("dependsOn"))&&(0,C1.jsx)(C1.Fragment,{children:V1})]}),r1(),(0,C1.jsxs)("div",{id:"taskItemFooterBtns",className:"taskItemFooterBtns",onMouseOver:P,children:[(0,C1.jsx)("div",{className:"taskItemiconButton taskItemiconButtonEdit",children:(0,C1.jsx)(Nn,{size:16,enableBackground:0,opacity:.4,onClick:B,title:p("edit-task")})}),(0,C1.jsx)("div",{className:"taskItemiconButton taskItemiconButtonDelete",children:(0,C1.jsx)(f0,{size:13,enableBackground:0,opacity:.4,onClick:R,title:p("delete-task")})})]})]})]},D)})},c7=(0,u2.memo)(NB);t2();var xe=require("obsidian");var cM=require("obsidian");var t4="top",M4="bottom",p4="right",n4="left",Zi="auto",ve=[t4,M4,p4,n4],r6="start",f5="end",Zy="clippingParents",_i="viewport",s7="popper",_y="reference",hf=ve.reduce(function(t,e){return t.concat([e+"-"+r6,e+"-"+f5])},[]),Ui=[].concat(ve,[Zi]).reduce(function(t,e){return t.concat([e,e+"-"+r6,e+"-"+f5])},[]),PB="beforeRead",OB="read",ZB="afterRead",_B="beforeMain",UB="main",qB="afterMain",$B="beforeWrite",GB="write",jB="afterWrite",Uy=[PB,OB,ZB,_B,UB,qB,$B,GB,jB];function I4(t){return t?(t.nodeName||"").toLowerCase():null}function q2(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ct(t){var e=q2(t).Element;return t instanceof e||t instanceof Element}function w4(t){var e=q2(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function d7(t){if(typeof ShadowRoot=="undefined")return!1;var e=q2(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function WB(t){var e=t.state;Object.keys(e.elements).forEach(function(a){var r=e.styles[a]||{},o=e.attributes[a]||{},n=e.elements[a];!w4(n)||!I4(n)||(Object.assign(n.style,r),Object.keys(o).forEach(function(i){var l=o[i];l===!1?n.removeAttribute(i):n.setAttribute(i,l===!0?"":l)}))})}function YB(t){var e=t.state,a={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,a.popper),e.styles=a,e.elements.arrow&&Object.assign(e.elements.arrow.style,a.arrow),function(){Object.keys(e.elements).forEach(function(r){var o=e.elements[r],n=e.attributes[r]||{},i=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:a[r]),l=i.reduce(function(c,s){return c[s]="",c},{});!w4(o)||!I4(o)||(Object.assign(o.style,l),Object.keys(n).forEach(function(c){o.removeAttribute(c)}))})}}var qy={name:"applyStyles",enabled:!0,phase:"write",fn:WB,effect:YB,requires:["computeStyles"]};function F4(t){return t.split("-")[0]}var _t=Math.max,h5=Math.min,o6=Math.round;function u7(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ea(){return!/^((?!chrome|android).)*safari/i.test(u7())}function xt(t,e,a){e===void 0&&(e=!1),a===void 0&&(a=!1);var r=t.getBoundingClientRect(),o=1,n=1;e&&w4(t)&&(o=t.offsetWidth>0&&o6(r.width)/t.offsetWidth||1,n=t.offsetHeight>0&&o6(r.height)/t.offsetHeight||1);var i=Ct(t)?q2(t):window,l=i.visualViewport,c=!Ea()&&a,s=(r.left+(c&&l?l.offsetLeft:0))/o,d=(r.top+(c&&l?l.offsetTop:0))/n,u=r.width/o,f=r.height/n;return{width:u,height:f,top:d,right:s+u,bottom:d+f,left:s,x:s,y:d}}function p5(t){var e=xt(t),a=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-a)<=1&&(a=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:a,height:r}}function Na(t,e){var a=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(a&&d7(a)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function s3(t){return q2(t).getComputedStyle(t)}function pf(t){return["table","td","th"].indexOf(I4(t))>=0}function $4(t){return((Ct(t)?t.ownerDocument:t.document)||window.document).documentElement}function n6(t){return I4(t)==="html"?t:t.assignedSlot||t.parentNode||(d7(t)?t.host:null)||$4(t)}function $y(t){return!w4(t)||s3(t).position==="fixed"?null:t.offsetParent}function XB(t){var e=/firefox/i.test(u7()),a=/Trident/i.test(u7());if(a&&w4(t)){var r=s3(t);if(r.position==="fixed")return null}var o=n6(t);for(d7(o)&&(o=o.host);w4(o)&&["html","body"].indexOf(I4(o))<0;){var n=s3(o);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||e&&n.willChange==="filter"||e&&n.filter&&n.filter!=="none")return o;o=o.parentNode}return null}function Ut(t){for(var e=q2(t),a=$y(t);a&&pf(a)&&s3(a).position==="static";)a=$y(a);return a&&(I4(a)==="html"||I4(a)==="body"&&s3(a).position==="static")?e:a||XB(t)||e}function g5(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function m5(t,e,a){return _t(t,h5(e,a))}function Gy(t,e,a){var r=m5(t,e,a);return r>a?a:r}function Pa(){return{top:0,right:0,bottom:0,left:0}}function Oa(t){return Object.assign({},Pa(),t)}function Za(t,e){return e.reduce(function(a,r){return a[r]=t,a},{})}var KB=function(e,a){return e=typeof e=="function"?e(Object.assign({},a.rects,{placement:a.placement})):e,Oa(typeof e!="number"?e:Za(e,ve))};function QB(t){var e,a=t.state,r=t.name,o=t.options,n=a.elements.arrow,i=a.modifiersData.popperOffsets,l=F4(a.placement),c=g5(l),s=[n4,p4].indexOf(l)>=0,d=s?"height":"width";if(!(!n||!i)){var u=KB(o.padding,a),f=p5(n),h=c==="y"?t4:n4,m=c==="y"?M4:p4,x=a.rects.reference[d]+a.rects.reference[c]-i[c]-a.rects.popper[d],L=i[c]-a.rects.reference[c],g=Ut(n),C=g?c==="y"?g.clientHeight||0:g.clientWidth||0:0,v=x/2-L/2,y=u[h],b=C-f[d]-u[m],V=C/2-f[d]/2+v,H=m5(y,V,b),D=c;a.modifiersData[r]=(e={},e[D]=H,e.centerOffset=H-V,e)}}function JB(t){var e=t.state,a=t.options,r=a.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||Na(e.elements.popper,o)&&(e.elements.arrow=o))}var jy={name:"arrow",enabled:!0,phase:"main",fn:QB,effect:JB,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Lt(t){return t.split("-")[1]}var tI={top:"auto",right:"auto",bottom:"auto",left:"auto"};function eI(t,e){var a=t.x,r=t.y,o=e.devicePixelRatio||1;return{x:o6(a*o)/o||0,y:o6(r*o)/o||0}}function Wy(t){var e,a=t.popper,r=t.popperRect,o=t.placement,n=t.variation,i=t.offsets,l=t.position,c=t.gpuAcceleration,s=t.adaptive,d=t.roundOffsets,u=t.isFixed,f=i.x,h=f===void 0?0:f,m=i.y,x=m===void 0?0:m,L=typeof d=="function"?d({x:h,y:x}):{x:h,y:x};h=L.x,x=L.y;var g=i.hasOwnProperty("x"),C=i.hasOwnProperty("y"),v=n4,y=t4,b=window;if(s){var V=Ut(a),H="clientHeight",D="clientWidth";if(V===q2(a)&&(V=$4(a),s3(V).position!=="static"&&l==="absolute"&&(H="scrollHeight",D="scrollWidth")),V=V,o===t4||(o===n4||o===p4)&&n===f5){y=M4;var A=u&&V===b&&b.visualViewport?b.visualViewport.height:V[H];x-=A-r.height,x*=c?1:-1}if(o===n4||(o===t4||o===M4)&&n===f5){v=p4;var E=u&&V===b&&b.visualViewport?b.visualViewport.width:V[D];h-=E-r.width,h*=c?1:-1}}var O=Object.assign({position:l},s&&tI),_=d===!0?eI({x:h,y:x},q2(a)):{x:h,y:x};if(h=_.x,x=_.y,c){var N;return Object.assign({},O,(N={},N[y]=C?"0":"",N[v]=g?"0":"",N.transform=(b.devicePixelRatio||1)<=1?"translate("+h+"px, "+x+"px)":"translate3d("+h+"px, "+x+"px, 0)",N))}return Object.assign({},O,(e={},e[y]=C?x+"px":"",e[v]=g?h+"px":"",e.transform="",e))}function aI(t){var e=t.state,a=t.options,r=a.gpuAcceleration,o=r===void 0?!0:r,n=a.adaptive,i=n===void 0?!0:n,l=a.roundOffsets,c=l===void 0?!0:l,s={placement:F4(e.placement),variation:Lt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Wy(Object.assign({},s,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:i,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Wy(Object.assign({},s,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Yy={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:aI,data:{}};var qi={passive:!0};function rI(t){var e=t.state,a=t.instance,r=t.options,o=r.scroll,n=o===void 0?!0:o,i=r.resize,l=i===void 0?!0:i,c=q2(e.elements.popper),s=[].concat(e.scrollParents.reference,e.scrollParents.popper);return n&&s.forEach(function(d){d.addEventListener("scroll",a.update,qi)}),l&&c.addEventListener("resize",a.update,qi),function(){n&&s.forEach(function(d){d.removeEventListener("scroll",a.update,qi)}),l&&c.removeEventListener("resize",a.update,qi)}}var Xy={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rI,data:{}};var oI={left:"right",right:"left",bottom:"top",top:"bottom"};function f7(t){return t.replace(/left|right|bottom|top/g,function(e){return oI[e]})}var nI={start:"end",end:"start"};function $i(t){return t.replace(/start|end/g,function(e){return nI[e]})}function v5(t){var e=q2(t),a=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:a,scrollTop:r}}function C5(t){return xt($4(t)).left+v5(t).scrollLeft}function gf(t,e){var a=q2(t),r=$4(t),o=a.visualViewport,n=r.clientWidth,i=r.clientHeight,l=0,c=0;if(o){n=o.width,i=o.height;var s=Ea();(s||!s&&e==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}return{width:n,height:i,x:l+C5(t),y:c}}function mf(t){var e,a=$4(t),r=v5(t),o=(e=t.ownerDocument)==null?void 0:e.body,n=_t(a.scrollWidth,a.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),i=_t(a.scrollHeight,a.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),l=-r.scrollLeft+C5(t),c=-r.scrollTop;return s3(o||a).direction==="rtl"&&(l+=_t(a.clientWidth,o?o.clientWidth:0)-n),{width:n,height:i,x:l,y:c}}function x5(t){var e=s3(t),a=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(a+o+r)}function Gi(t){return["html","body","#document"].indexOf(I4(t))>=0?t.ownerDocument.body:w4(t)&&x5(t)?t:Gi(n6(t))}function Ce(t,e){var a;e===void 0&&(e=[]);var r=Gi(t),o=r===((a=t.ownerDocument)==null?void 0:a.body),n=q2(r),i=o?[n].concat(n.visualViewport||[],x5(r)?r:[]):r,l=e.concat(i);return o?l:l.concat(Ce(n6(i)))}function h7(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function iI(t,e){var a=xt(t,!1,e==="fixed");return a.top=a.top+t.clientTop,a.left=a.left+t.clientLeft,a.bottom=a.top+t.clientHeight,a.right=a.left+t.clientWidth,a.width=t.clientWidth,a.height=t.clientHeight,a.x=a.left,a.y=a.top,a}function Ky(t,e,a){return e===_i?h7(gf(t,a)):Ct(e)?iI(e,a):h7(mf($4(t)))}function lI(t){var e=Ce(n6(t)),a=["absolute","fixed"].indexOf(s3(t).position)>=0,r=a&&w4(t)?Ut(t):t;return Ct(r)?e.filter(function(o){return Ct(o)&&Na(o,r)&&I4(o)!=="body"}):[]}function vf(t,e,a,r){var o=e==="clippingParents"?lI(t):[].concat(e),n=[].concat(o,[a]),i=n[0],l=n.reduce(function(c,s){var d=Ky(t,s,r);return c.top=_t(d.top,c.top),c.right=h5(d.right,c.right),c.bottom=h5(d.bottom,c.bottom),c.left=_t(d.left,c.left),c},Ky(t,i,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function _a(t){var e=t.reference,a=t.element,r=t.placement,o=r?F4(r):null,n=r?Lt(r):null,i=e.x+e.width/2-a.width/2,l=e.y+e.height/2-a.height/2,c;switch(o){case t4:c={x:i,y:e.y-a.height};break;case M4:c={x:i,y:e.y+e.height};break;case p4:c={x:e.x+e.width,y:l};break;case n4:c={x:e.x-a.width,y:l};break;default:c={x:e.x,y:e.y}}var s=o?g5(o):null;if(s!=null){var d=s==="y"?"height":"width";switch(n){case r6:c[s]=c[s]-(e[d]/2-a[d]/2);break;case f5:c[s]=c[s]+(e[d]/2-a[d]/2);break;default:}}return c}function qt(t,e){e===void 0&&(e={});var a=e,r=a.placement,o=r===void 0?t.placement:r,n=a.strategy,i=n===void 0?t.strategy:n,l=a.boundary,c=l===void 0?Zy:l,s=a.rootBoundary,d=s===void 0?_i:s,u=a.elementContext,f=u===void 0?s7:u,h=a.altBoundary,m=h===void 0?!1:h,x=a.padding,L=x===void 0?0:x,g=Oa(typeof L!="number"?L:Za(L,ve)),C=f===s7?_y:s7,v=t.rects.popper,y=t.elements[m?C:f],b=vf(Ct(y)?y:y.contextElement||$4(t.elements.popper),c,d,i),V=xt(t.elements.reference),H=_a({reference:V,element:v,strategy:"absolute",placement:o}),D=h7(Object.assign({},v,H)),A=f===s7?D:V,E={top:b.top-A.top+g.top,bottom:A.bottom-b.bottom+g.bottom,left:b.left-A.left+g.left,right:A.right-b.right+g.right},O=t.modifiersData.offset;if(f===s7&&O){var _=O[o];Object.keys(E).forEach(function(N){var w=[p4,M4].indexOf(N)>=0?1:-1,M=[t4,M4].indexOf(N)>=0?"y":"x";E[N]+=_[M]*w})}return E}function Cf(t,e){e===void 0&&(e={});var a=e,r=a.placement,o=a.boundary,n=a.rootBoundary,i=a.padding,l=a.flipVariations,c=a.allowedAutoPlacements,s=c===void 0?Ui:c,d=Lt(r),u=d?l?hf:hf.filter(function(m){return Lt(m)===d}):ve,f=u.filter(function(m){return s.indexOf(m)>=0});f.length===0&&(f=u);var h=f.reduce(function(m,x){return m[x]=qt(t,{placement:x,boundary:o,rootBoundary:n,padding:i})[F4(x)],m},{});return Object.keys(h).sort(function(m,x){return h[m]-h[x]})}function cI(t){if(F4(t)===Zi)return[];var e=f7(t);return[$i(t),e,$i(e)]}function sI(t){var e=t.state,a=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=a.mainAxis,n=o===void 0?!0:o,i=a.altAxis,l=i===void 0?!0:i,c=a.fallbackPlacements,s=a.padding,d=a.boundary,u=a.rootBoundary,f=a.altBoundary,h=a.flipVariations,m=h===void 0?!0:h,x=a.allowedAutoPlacements,L=e.options.placement,g=F4(L),C=g===L,v=c||(C||!m?[f7(L)]:cI(L)),y=[L].concat(v).reduce(function(I,F){return I.concat(F4(F)===Zi?Cf(e,{placement:F,boundary:d,rootBoundary:u,padding:s,flipVariations:m,allowedAutoPlacements:x}):F)},[]),b=e.rects.reference,V=e.rects.popper,H=new Map,D=!0,A=y[0],E=0;E<y.length;E++){var O=y[E],_=F4(O),N=Lt(O)===r6,w=[t4,M4].indexOf(_)>=0,M=w?"width":"height",z=qt(e,{placement:O,boundary:d,rootBoundary:u,altBoundary:f,padding:s}),k=w?N?p4:n4:N?M4:t4;b[M]>V[M]&&(k=f7(k));var T=f7(k),S=[];if(n&&S.push(z[_]<=0),l&&S.push(z[k]<=0,z[T]<=0),S.every(function(I){return I})){A=O,D=!1;break}H.set(O,S)}if(D)for(var R=m?3:1,Z=function(F){var q=y.find(function(G){var Y=H.get(G);if(Y)return Y.slice(0,F).every(function(J){return J})});if(q)return A=q,"break"},P=R;P>0;P--){var B=Z(P);if(B==="break")break}e.placement!==A&&(e.modifiersData[r]._skip=!0,e.placement=A,e.reset=!0)}}var Qy={name:"flip",enabled:!0,phase:"main",fn:sI,requiresIfExists:["offset"],data:{_skip:!1}};function Jy(t,e,a){return a===void 0&&(a={x:0,y:0}),{top:t.top-e.height-a.y,right:t.right-e.width+a.x,bottom:t.bottom-e.height+a.y,left:t.left-e.width-a.x}}function tM(t){return[t4,p4,M4,n4].some(function(e){return t[e]>=0})}function dI(t){var e=t.state,a=t.name,r=e.rects.reference,o=e.rects.popper,n=e.modifiersData.preventOverflow,i=qt(e,{elementContext:"reference"}),l=qt(e,{altBoundary:!0}),c=Jy(i,r),s=Jy(l,o,n),d=tM(c),u=tM(s);e.modifiersData[a]={referenceClippingOffsets:c,popperEscapeOffsets:s,isReferenceHidden:d,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}var eM={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:dI};function uI(t,e,a){var r=F4(t),o=[n4,t4].indexOf(r)>=0?-1:1,n=typeof a=="function"?a(Object.assign({},e,{placement:t})):a,i=n[0],l=n[1];return i=i||0,l=(l||0)*o,[n4,p4].indexOf(r)>=0?{x:l,y:i}:{x:i,y:l}}function fI(t){var e=t.state,a=t.options,r=t.name,o=a.offset,n=o===void 0?[0,0]:o,i=Ui.reduce(function(d,u){return d[u]=uI(u,e.rects,n),d},{}),l=i[e.placement],c=l.x,s=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=s),e.modifiersData[r]=i}var aM={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:fI};function hI(t){var e=t.state,a=t.name;e.modifiersData[a]=_a({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var rM={name:"popperOffsets",enabled:!0,phase:"read",fn:hI,data:{}};function xf(t){return t==="x"?"y":"x"}function pI(t){var e=t.state,a=t.options,r=t.name,o=a.mainAxis,n=o===void 0?!0:o,i=a.altAxis,l=i===void 0?!1:i,c=a.boundary,s=a.rootBoundary,d=a.altBoundary,u=a.padding,f=a.tether,h=f===void 0?!0:f,m=a.tetherOffset,x=m===void 0?0:m,L=qt(e,{boundary:c,rootBoundary:s,padding:u,altBoundary:d}),g=F4(e.placement),C=Lt(e.placement),v=!C,y=g5(g),b=xf(y),V=e.modifiersData.popperOffsets,H=e.rects.reference,D=e.rects.popper,A=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,E=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,_={x:0,y:0};if(V){if(n){var N,w=y==="y"?t4:n4,M=y==="y"?M4:p4,z=y==="y"?"height":"width",k=V[y],T=k+L[w],S=k-L[M],R=h?-D[z]/2:0,Z=C===r6?H[z]:D[z],P=C===r6?-D[z]:-H[z],B=e.elements.arrow,I=h&&B?p5(B):{width:0,height:0},F=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Pa(),q=F[w],G=F[M],Y=m5(0,H[z],I[z]),J=v?H[z]/2-R-Y-q-E.mainAxis:Z-Y-q-E.mainAxis,h1=v?-H[z]/2+R+Y+G+E.mainAxis:P+Y+G+E.mainAxis,r1=e.elements.arrow&&Ut(e.elements.arrow),o1=r1?y==="y"?r1.clientTop||0:r1.clientLeft||0:0,Q=(N=O==null?void 0:O[y])!=null?N:0,e1=k+J-Q-o1,c1=k+h1-Q,p1=m5(h?h5(T,e1):T,k,h?_t(S,c1):S);V[y]=p1,_[y]=p1-k}if(l){var V1,k1=y==="x"?t4:n4,R1=y==="x"?M4:p4,N1=V[b],n1=b==="y"?"height":"width",l1=N1+L[k1],K=N1-L[R1],m1=[t4,n4].indexOf(g)!==-1,A1=(V1=O==null?void 0:O[b])!=null?V1:0,P1=m1?l1:N1-H[n1]-D[n1]-A1+E.altAxis,j=m1?N1+H[n1]+D[n1]-A1-E.altAxis:K,W=h&&m1?Gy(P1,N1,j):m5(h?P1:l1,N1,h?j:K);V[b]=W,_[b]=W-N1}e.modifiersData[r]=_}}var oM={name:"preventOverflow",enabled:!0,phase:"main",fn:pI,requiresIfExists:["offset"]};function Lf(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function yf(t){return t===q2(t)||!w4(t)?v5(t):Lf(t)}function gI(t){var e=t.getBoundingClientRect(),a=o6(e.width)/t.offsetWidth||1,r=o6(e.height)/t.offsetHeight||1;return a!==1||r!==1}function Mf(t,e,a){a===void 0&&(a=!1);var r=w4(e),o=w4(e)&&gI(e),n=$4(e),i=xt(t,o,a),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!a)&&((I4(e)!=="body"||x5(n))&&(l=yf(e)),w4(e)?(c=xt(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):n&&(c.x=C5(n))),{x:i.left+l.scrollLeft-c.x,y:i.top+l.scrollTop-c.y,width:i.width,height:i.height}}function mI(t){var e=new Map,a=new Set,r=[];t.forEach(function(n){e.set(n.name,n)});function o(n){a.add(n.name);var i=[].concat(n.requires||[],n.requiresIfExists||[]);i.forEach(function(l){if(!a.has(l)){var c=e.get(l);c&&o(c)}}),r.push(n)}return t.forEach(function(n){a.has(n.name)||o(n)}),r}function wf(t){var e=mI(t);return Uy.reduce(function(a,r){return a.concat(e.filter(function(o){return o.phase===r}))},[])}function zf(t){var e;return function(){return e||(e=new Promise(function(a){Promise.resolve().then(function(){e=void 0,a(t())})})),e}}function bf(t){var e=t.reduce(function(a,r){var o=a[r.name];return a[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,a},{});return Object.keys(e).map(function(a){return e[a]})}var nM={placement:"bottom",modifiers:[],strategy:"absolute"};function iM(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function lM(t){t===void 0&&(t={});var e=t,a=e.defaultModifiers,r=a===void 0?[]:a,o=e.defaultOptions,n=o===void 0?nM:o;return function(l,c,s){s===void 0&&(s=n);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},nM,n),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},u=[],f=!1,h={state:d,setOptions:function(g){var C=typeof g=="function"?g(d.options):g;x(),d.options=Object.assign({},n,d.options,C),d.scrollParents={reference:Ct(l)?Ce(l):l.contextElement?Ce(l.contextElement):[],popper:Ce(c)};var v=wf(bf([].concat(r,d.options.modifiers)));return d.orderedModifiers=v.filter(function(y){return y.enabled}),m(),h.update()},forceUpdate:function(){if(!f){var g=d.elements,C=g.reference,v=g.popper;if(iM(C,v)){d.rects={reference:Mf(C,Ut(v),d.options.strategy==="fixed"),popper:p5(v)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(E){return d.modifiersData[E.name]=Object.assign({},E.data)});for(var y=0;y<d.orderedModifiers.length;y++){if(d.reset===!0){d.reset=!1,y=-1;continue}var b=d.orderedModifiers[y],V=b.fn,H=b.options,D=H===void 0?{}:H,A=b.name;typeof V=="function"&&(d=V({state:d,options:D,name:A,instance:h})||d)}}}},update:zf(function(){return new Promise(function(L){h.forceUpdate(),L(d)})}),destroy:function(){x(),f=!0}};if(!iM(l,c))return h;h.setOptions(s).then(function(L){!f&&s.onFirstUpdate&&s.onFirstUpdate(L)});function m(){d.orderedModifiers.forEach(function(L){var g=L.name,C=L.options,v=C===void 0?{}:C,y=L.effect;if(typeof y=="function"){var b=y({state:d,name:g,instance:h,options:v}),V=function(){};u.push(b||V)}})}function x(){u.forEach(function(L){return L()}),u=[]}return h}}var vI=[Xy,rM,Yy,qy,aM,Qy,oM,jy,eM],Sf=lM({defaultModifiers:vI});t2();Ia();Y1();var L5=class extends cM.Component{constructor(a,r,o,n,i,l){super();this.leafId=o;this.popoverRef=null;this.popperInstance=null;this.onClose=null;this.clickOutside=a=>{if(this.taskFilterComponent.isMultiSuggestDropdownActive){this.taskFilterComponent.isMultiSuggestDropdownActive=!1;return}!this.taskFilterComponent.isMultiSuggestDropdownActive&&!this.taskFilterComponent.isConfigModalOpen&&this.popoverRef&&!this.popoverRef.contains(a.target)&&this.close()};this.plugin=a,this.app=a.app,this.forColumn=r,this.activeBoardIndex=n,this.columnOrBoardName=i,this.initialFilterState=l,this.win=a.app.workspace.containerEl.win||window,this.scrollParent=this.win}showAtPosition(a){this.popoverRef&&this.close();let r=createDiv({cls:"task-popover-content"});this.registerDomEvent(r,"click",l=>{l.stopPropagation()});let o=r.createDiv({cls:"task-popover-content-header"});this.forColumn?o.createEl("h3",{text:p("column-filters-for")+" "+this.columnOrBoardName,cls:"task-popover-content-header-heading"}):o.createEl("h3",{text:p("board-filters-for")+" "+this.columnOrBoardName,cls:"task-popover-content-header-heading"}),r.createEl("hr");let n=r.createDiv({cls:"task-popover-content-body"});this.taskFilterComponent=new d5(n,this.plugin,this.app,this.leafId,this.activeBoardIndex,this.initialFilterState),this.taskFilterComponent.onload(),this.popoverRef=this.app.workspace.containerEl.createDiv({cls:"filter-menu tg-menu bm-menu"}),this.popoverRef.appendChild(r),document.body.appendChild(this.popoverRef);let i={getBoundingClientRect:()=>({width:0,height:0,top:a.y,right:a.x,bottom:a.y,left:a.x,x:a.x,y:a.y,toJSON:function(){return this}})};this.popoverRef&&(this.popperInstance=Sf(i,this.popoverRef,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"preventOverflow",options:{padding:10}},{name:"flip",options:{fallbackPlacements:["top-start","right-start","left-start"],padding:10}}]})),this.win.setTimeout(()=>{this.win.addEventListener("click",this.clickOutside)},10)}close(){this.popperInstance&&(this.popperInstance.destroy(),this.popperInstance=null);let a;if(this.taskFilterComponent)try{a=this.taskFilterComponent.getFilterState()}catch(r){$.addToLogs(116,String(r),"ViewTaskFilterPopover.ts/close")}if(this.popoverRef&&(this.popoverRef.remove(),this.popoverRef=null),this.win.removeEventListener("click",this.clickOutside),this.taskFilterComponent&&this.taskFilterComponent.onunload(),this.onClose)try{this.onClose(a)}catch(r){$.addToLogs(117,String(r),"ViewTaskFilterPopover.ts/close")}}};C4();Ia();var sM=require("obsidian");t2();Ia();Y1();var y5=class extends sM.Modal{constructor(a,r,o,n,i,l){super(a.app);this.leafId=o;this.filterCloseCallback=null;this.plugin=a,this.activeBoardIndex=n,this.columnOrBoardName=i,this.initialFilterState=l,this.taskFilterComponent=null,r?this.setTitle(p("column-filters-for")+" "+this.columnOrBoardName):this.setTitle(p("board-filters-for")+" "+this.columnOrBoardName)}onOpen(){let{contentEl:a}=this;a.empty(),this.taskFilterComponent=new d5(this.contentEl,this.plugin,this.app,this.leafId,this.activeBoardIndex,this.initialFilterState),this.taskFilterComponent.onload()}onClose(){let{contentEl:a}=this,r;if(this.taskFilterComponent)try{r=this.taskFilterComponent.getFilterState(),this.taskFilterComponent.onunload()}catch(o){$.addToLogs(114,String(o),"ViewTaskFilterModal.ts/onClose")}if(a.empty(),this.filterCloseCallback)try{this.filterCloseCallback(r)}catch(o){$.addToLogs(115,String(o),"ViewTaskFilterModal.ts/onClose")}}};var M5=require("obsidian");i5();t2();xi();H4();Y1();var ji=class extends M5.Modal{constructor(e,a,r,o){super(e.app),this.plugin=e,this.isEdited=!1,this.columnConfiguration=a,this.onSave=r,this.onCancel=o,this.columnConfiguration.sortCriteria?this.columnConfiguration.sortCriteria=this.columnConfiguration.sortCriteria.map(n=>({...n,uid:n.uid||It()})):this.columnConfiguration.sortCriteria=[]}onOpen(){let{contentEl:e}=this;this.setTitle(p("sorting-criterias-for")+" "+this.columnConfiguration.name),this.modalEl.setAttribute("data-type","task-board-column-sorting-configure");let a=e.createEl("span",{cls:"configureColumnSortingModalHome"});a.createEl("p",{text:p("column-sorting-criteria-configure-modal-description")});let r=a.createDiv({cls:"configureColumnSortingModalHomeSortingCriteriaList"});i3.create(r,{animation:150,handle:".configureColumnSortingModalHomeSortingCriteriaListItemDragHandle",ghostClass:"task-board-sortable-ghost",chosenClass:"task-board-sortable-chosen",dragClass:"task-board-sortable-drag",dragoverBubble:!0,forceFallback:!0,fallbackClass:"task-board-sortable-fallback",easing:"cubic-bezier(1, 0, 0, 1)",onSort:async()=>{let s=Array.from(r.children).map(f=>f.getAttribute("data-uid")),d=this.columnConfiguration.sortCriteria||[],u=[];s.forEach((f,h)=>{if(!f)return;let m=d.find(x=>x.uid===f);m&&(m.priority=h+1,u.push(m))}),this.columnConfiguration.sortCriteria=u,this.isEdited=!0,o()}});let o=()=>{this.columnConfiguration.sortCriteria&&(r.empty(),this.columnConfiguration.sortCriteria.sort((s,d)=>s.priority-d.priority).forEach((s,d)=>{let u=r.createDiv({cls:"configureColumnSortingModalHomeSortingCriteriaListItemRow",attr:{"data-criteria-name":s.criteria,"data-uid":s.uid}});new M5.Setting(u).setClass("configureColumnSortingModalHomeSortingCriteriaListItem").addButton(f=>f.setTooltip("Hold and drag").setIcon("grip-horizontal").setClass("configureColumnSortingModalHomeSortingCriteriaListItemDragHandle")).addDropdown(f=>{this.plugin.settings.data.globalSettings.experimentalFeatures&&f.addOption("manualOrder",p("manual-order")),f.addOption("content",p("title")).addOption("id",p("id")).addOption("status",p("status")).addOption("priority",p("priority")).addOption("tags",p("tags")).addOption("time",p("start-time")).addOption("createdDate",p("created-date")).addOption("startDate",p("start-date")).addOption("scheduledDate",p("scheduled-date")).addOption("dueDate",p("due-date")).addOption("completedDate",p("completed-date")).addOption("recurrence",p("recurrence")).addOption("filePath",p("file-path")).setValue(s.criteria).onChange(h=>{if(this.isEdited=!0,this.columnConfiguration.sortCriteria)if(h==="manualOrder"){this.columnConfiguration.sortCriteria=[];let m={criteria:"manualOrder",order:"asc",priority:1,uid:It()};this.columnConfiguration.sortCriteria.push(m),o()}else{let m=this.columnConfiguration.sortCriteria[d];m?m.criteria=h:$.showNotice(179,"There was an issue finding the exact sorting criterion using the index.",`Sorting criteria : ${JSON.stringify(this.columnConfiguration.sortCriteria)}
Index : ${d}`,"ConfigureColumnSortingModal.ts/renderSortingCritierias/onChange")}})}).addDropdown(f=>{s.criteria!=="manualOrder"?(f.addOption("asc",p("ascending")).addOption("desc",p("descending")).setValue(s.order).onChange(h=>{this.columnConfiguration.sortCriteria&&(this.columnConfiguration.sortCriteria[d].order=h),this.isEdited=!0}),s.criteria==="priority"?f.selectEl.title=p("column-sorting-criteria-priority-tooltip-numeric-properties"):["dueDate","startDate","scheduledDate"].includes(s.criteria)?f.selectEl.title=p("column-sorting-criteria-priority-tooltip-date-properties"):s.criteria==="status"?f.selectEl.title=p("column-sorting-criteria-priority-tooltip-status-properties"):f.selectEl.title=p("column-sorting-criteria-priority-tooltip-content-properties")):f.selectEl.remove()}).addButton(f=>f.setButtonText("delete").setIcon("trash").setClass("configureColumnSortingModalHomeSortingCriteriaListItemDeleteCriterion").setTooltip(p("remove-sort-criterion")).onClick(async()=>{this.isEdited=!0,this.columnConfiguration.sortCriteria&&this.columnConfiguration.sortCriteria.length>d&&(console.log("Old sorting criterias :",this.columnConfiguration),this.columnConfiguration.sortCriteria.splice(d,1),console.log("New sorting criterias :",this.columnConfiguration),o())}))}),this.columnConfiguration.sortCriteria.some(s=>s.criteria==="manualOrder")&&new M5.Setting(r).setClass("configureColumnSortingModalHomeSortingCriteriaListItemNotice").setName(p("note")).setDesc(p("manual-order-notice")))};o(),a.createEl("button",{text:p("add-new-sorting-criterion"),cls:"configureColumnSortingModalHomeAddSortingBtn"}).addEventListener("click",async()=>{var s,d,u;if((s=this.columnConfiguration.sortCriteria)!=null&&s.some(f=>f.criteria==="manualOrder"))new M5.Notice(p("cannot-add-more-sorting-criteria-with-manual-order"));else{this.isEdited=!0;let f={criteria:"content",order:"asc",priority:((u=(d=this.columnConfiguration.sortCriteria)==null?void 0:d.length)!=null?u:0)+1,uid:It()};this.columnConfiguration.sortCriteria||(this.columnConfiguration.sortCriteria=[]),this.columnConfiguration.sortCriteria.push(f),o()}});let i=a.createDiv("configureColumnSortingModalHomeButtonContainer");i.createEl("button",{text:p("save"),cls:"configureColumnSortingModalHomeButtonContainerSaveBtn"}).addEventListener("click",()=>{console.log("On Save button clicked. Passing following column configs :",this.columnConfiguration),this.onSave(this.columnConfiguration),this.isEdited=!1,this.close()});let c=i.createEl("button",{text:p("cancel")});c.classList.add("configureColumnSortingModalHomeButtonContainerCancelBtn"),c.addEventListener("click",()=>{this.onCancel(),this.close()})}onClose(){let{contentEl:e}=this;e.empty()}handleCloseAttempt(){let e=p("edit-task-modal-close-confirm-mssg");new fe(this.app,{app:this.app,mssg:e,onDiscard:()=>{this.isEdited=!1,this.close()},onGoBack:()=>{}}).open()}close(){this.isEdited?this.handleCloseAttempt():(this.onClose(),super.close())}};z6();m6();G8();var f2=B1(T2(),1);Jt();ni();var W3=require("obsidian");r7();e3();U5();t2();M0();A3();o0();Nt();V2();K3();z6();C4();Bt();H4();mt();Y1();var f1=B1(n2(),1),CI=({dataAttributeIndex:t,plugin:e,task:a,activeBoardSettings:r,columnIndex:o,swimlaneData:n})=>{var k1,R1,N1,n1,l1,K,m1,A1,P1;let i=e.settings.data.globalSettings,l=e.settings.data.globalSettings.taskNoteIdentifierTag,c=C2(l,a.tags),s=c?Y2(a.status,!0,e.settings):Y2(a.title,!1,e.settings),d=o!==void 0?r==null?void 0:r.columns[o-1]:void 0,u=(R1=(k1=i.visiblePropertiesList)==null?void 0:k1.includes("description"))!=null?R1:!0,[f,h]=(0,f2.useState)(!1),[m,x]=(0,f2.useState)(s),[L,g]=(0,f2.useState)(!1),[C,v]=(0,f2.useState)(!1),[y,b]=(0,f2.useState)((N1=e.settings.data.globalSettings.visiblePropertiesList)==null?void 0:N1.includes("subTasks"));(0,f2.useEffect)(()=>{var j;(j=e.settings.data.globalSettings.visiblePropertiesList)!=null&&j.includes("subTasks")?b(!0):b(!1)},[e.settings.data.globalSettings]);let[V,H]=(0,f2.useState)(()=>$5(a,e));(0,f2.useEffect)(()=>{H($5(a,e))},[a.due,a.startDate,a.scheduledDate]);let D=a.id,A=(0,f2.useRef)(null);(0,f2.useEffect)(()=>{A.current=e.view},[]);let E=(0,f2.useRef)(null),O=(0,f2.useRef)(null),_=(0,f2.useRef)(new Map),N=(0,f2.useRef)(null),w=(0,f2.useRef)({});(0,f2.useEffect)(()=>{let j=O.current;if(!j||!A.current)return;new Promise(requestAnimationFrame);let W=!1;(async()=>{try{if(j.innerHTML="",a.title==="")return;let U=c?a.title:a0(a);if(await y4.renderTaskDisc(e.app,U,j,a.filePath,A.current),W){j.innerHTML="";return}de(e.app,e,j,a.filePath,a.filePath)}catch(U){$.addToLogs(122,String(U),"TaskItemV2.tsx/Main title rendering useEffect")}})()},[a.id,a.title,a.filePath,e.settings.data.globalSettings.searchQuery]),(0,f2.useEffect)(()=>{if(!A.current)return;let j=a.body.filter(U=>m4(U.trim())),W=!1;return(async()=>{for(let[U,t1]of j.entries()){if(W)break;let x1=`${a.id}-${U}`,v1=_.current.get(x1);if(v1)try{v1.innerHTML="";let y1=t1.match(F2.taskRegex),z1=y1&&(y1==null?void 0:y1.length)>=5?y1[4].trim():t1.trim();if(await y4.renderSubtaskText(e.app,z1,v1,a.filePath,A.current),de(e.app,e,v1,a.filePath,a.filePath),W){v1.innerHTML="";break}}catch(y1){$.addToLogs(123,String(y1),"TaskItemV2.tsx/Sub-tasks rendering useEffect")}}})(),()=>{W=!0}},[a.id,a.body,a.filePath]),(0,f2.useEffect)(()=>{var t1;let j=`${D}-desc`,W=w.current[j];if(!W)return;let U=(t1=a.body)==null?void 0:t1.filter(x1=>!m4(x1)).join(`
`).trim();if(!U){W.empty();return}W.empty(),y4.renderTaskDisc(e.app,U,W,a.filePath,A.current),de(e.app,e,W,a.filePath,a.filePath)},[(n1=a.body)==null?void 0:n1.join(`
`),u,C]);let M=()=>(a.body?a.body.filter(W=>!m4(W)).join(`
`).trim():"")&&u?(0,f1.jsx)("div",{className:"taskItemBodyDescriptionSection",children:(0,f1.jsx)("div",{className:`taskItemBodyDescription${C?"":"-collapsed"}`,ref:N,children:(0,f1.jsx)("div",{className:"taskItemBodyDescriptionRenderer",ref:W=>{w.current[`${a.id}-desc`]=W}})})}):null,z=async()=>{let j=C;if(v(W=>!W),!j)await M(),N.current&&(N.current.style.height=`${N.current.scrollHeight}px`,N.current.style.opacity="1");else{N.current&&(N.current.style.height="0",N.current.style.opacity="0");let W=`${a.id}-desc`,U=w.current[W];U==null||U.empty()}},k=(0,f2.useCallback)(()=>{let j=new Date,W=qr(V)||new Date(V);if(W.toDateString()===j.toDateString())if(a.time){let[U,t1]=a.time.contains("-")?a.time.split("-"):[a.time,a.time],[x1,v1]=U.contains(":")?U.trim().split(":").map(Number):[U,0].map(Number),[y1,z1]=t1.contains(":")?t1.trim().split(":").map(Number):[t1,0].map(Number),J1=new Date(j);J1.setHours(x1,v1,0,0);let j1=new Date(j);j1.setHours(y1,z1,0,0);let $1=new Date;if($1<J1)return"#e8ce4aa8";if($1>=J1&&$1<=j1)return"var(--color-blue)";if($1>j1)return"#f23a3ab8"}else return"var(--color-yellow)";else return W>j?"green":W<j?"#f23a3ab8":"grey"},[V,a.time]);function T(j){if(i.tagColorsType==="background"){let W=e.settings.data.globalSettings.tagColors;if(!Array.isArray(W)||W.length===0)return;let U=new Map(W.map(v1=>[v1.name,v1])),t1;for(let v1 of j){let y1=v1.replace("#",""),z1=U.get(y1);z1||U.forEach((J1,j1,$1)=>{tt(j1,y1||"")&&(z1=J1)}),z1&&(!t1||z1.priority<t1.priority)&&(t1=z1)}return t1&&(v1=>{let y1=v1.match(/rgba?\((\d+), (\d+), (\d+)(, (\d+(\.\d+)?))?\)/);return y1&&y1[5]?parseFloat(y1[5]):1})(t1.color)>.2?w0(t1.color,.2):t1==null?void 0:t1.color}}(0,f2.useEffect)(()=>{let j=W=>{(!W||!(W!=null&&W.taskID))&&g(!1),W.taskID===D&&g(W.state)};return b1.on("UPDATE_TASK",j),()=>b1.off("UPDATE_TASK",j)},[D]);let S=async()=>{if(L)return;if(g(!0),x(!0),await Kr(e,a)||s){let W=C2(l,a.tags);try{W?await Ni(e,a):Di(e,a)}catch(U){$.addToLogs(124,String(U),"TaskItemV2.tsx/handleMainCheckBoxClick")}setTimeout(()=>{g(!1)},2e3)}else new W3.Notice(p("complete-all-child-tasks-before-completing-task"),5e3),g(!1),x(s)},R=()=>{Ei(e,a,C2(l,a.tags))},Z=(j,W)=>{let U=a.body.map((x1,v1)=>{if(x1===j){let y1=x6(x1),z1=C6(e,y1);return x1.replace(`[${y1}]`,`[${z1.newSymbol}]`)}return x1}),t1={...a,body:U};g(!0);try{C2(l,a.tags)?Pi(e,a,t1):Ri(e,a,t1)}finally{setTimeout(()=>g(!1),2e3)}},P=j=>{document.getElementById("taskItemFooterBtns")&&j.ctrlKey&&gt(e.app,j,a.filePath)},B=j=>{let W=e.settings.data.globalSettings.editButtonAction;W!=="noteInHover"?l3(e,a,W):(j.ctrlKey=!0,gt(e.app,j,a.filePath),j.ctrlKey=!1)},I=j=>{let W=e.settings.data.globalSettings.doubleClickCardToEdit;W!=="none"&&(W!=="noteInHover"?l3(e,a,W):(j.ctrlKey=!0,gt(e.app,j,a.filePath),j.ctrlKey=!1))},F=async(j,W)=>{j.stopPropagation();try{let U=await t0(e,W);if(!U){$.showNotice(11,`Task with ID ${W} not found in the cache. Please try to search for the task in its source note and try scanning that single note again using the file menu option. If issue still persists after refreshing the board, kindly report this bug to the developer.`,"ERROR : Child task not found in the cache","TaskItem.tsx/handleOpenChildTaskModal");return}let t1=e.settings.data.globalSettings.editButtonAction;t1!=="noteInHover"?l3(e,U,t1):(j.ctrlKey=!0,gt(e.app,j,U.filePath),j.ctrlKey=!1)}catch(U){$.showNotice(12,"Error opening child task modal",String(U),"TaskItem.tsx/handleOpenChildTaskModal")}},q=j=>{if(j.stopPropagation(),!i.experimentalFeatures)return;let W=new W3.Menu;W.addItem(U=>{U.setTitle(p("properties")),U.setIsLabel(!0)}),W.addItem(U=>{U.setIcon("info"),U.setTitle(p("status"));let t1=U.setSubmenu();j5(e.settings.data.globalSettings.customStatuses).forEach(v1=>{t1.addItem(y1=>{let z1=y4.renderSubtaskText(e.app,`- [${v1.value}] ${v1.name} (**[${v1.value}]**)`,y1.titleEl,"",null);y1.onClick(()=>{ba(e,a,v1.value)})})})}),W.addItem(U=>{U.setIcon("flag"),U.setTitle(p("priority"));let t1=U.setSubmenu();m3().forEach(v1=>{t1.addItem(y1=>{y1.setTitle(v1.text),y1.onClick(()=>Sa(e,a,v1.value))})})}),W.addItem(U=>{U.setIcon("calendar-plus"),U.setTitle(p("start-date")),U.onClick(async()=>{me(e,p("start"),a.startDate,t1=>{a6(e,a,"startDate",t1)})})}),W.addItem(U=>{U.setIcon("calendar-clock"),U.setTitle(p("scheduled-date")),U.onClick(async()=>{me(e,p("scheduled"),a.scheduledDate,t1=>{a6(e,a,"scheduledDate",t1)})})}),W.addItem(U=>{U.setIcon("calendar"),U.setTitle(p("due-date")),U.onClick(async()=>{me(e,p("due"),a.due,t1=>{a6(e,a,"due",t1)})})}),W.addItem(U=>{U.setIcon("clock"),U.setTitle(p("reminder")),U.onClick(async()=>{})}),W.addSeparator(),W.addItem(U=>{U.setTitle(p("quick-actions")),U.setIsLabel(!0)}),W.addItem(U=>{U.setIcon("copy"),U.setTitle(p("copy-task-title")),U.onClick(async()=>{try{await navigator.clipboard.writeText(a0(a)),new W3.Notice(p("copy-task-title-successful"))}catch(t1){new W3.Notice(p("copy-task-title-unsuccessful"))}})}),W.addItem(U=>{U.setIcon("file-input"),U.setTitle(p("open-note")),U.onClick(async()=>{l3(e,a,"noteInTab")})}),W.addItem(U=>{U.setIcon("columns-2"),U.setTitle(p("open-note-to-right")),U.onClick(async()=>{l3(e,a,"noteInSplit")})}),W.addItem(U=>{U.setIcon("file-text"),U.setTitle(p("note-actions"));let t1=U.setSubmenu(),x1=e.app.vault.getAbstractFileByPath(a.filePath);if(x1 instanceof W3.TFile){try{e.app.workspace.trigger("file-menu",t1,x1,"file-explorer")}catch(v1){console.debug("Native file menu not available, using fallback")}t1.addItem(v1=>{v1.setIcon("pencil"),v1.setTitle(p("rename-note")),v1.onClick(async()=>{try{let y1=x1.basename,z1=await showTextInputModal(e.app,{title:p("rename-note"),placeholder:p("rename-note-placeholder"),initialValue:y1});if(z1&&z1.trim()!==""&&z1!==y1){let J1=x1.extension,j1=z1.endsWith(`.${J1}`)?z1:`${z1}.${J1}`,$1=x1.parent?`${x1.parent.path}/${j1}`:j1;await e.app.vault.rename(x1,$1),new W3.Notice("File renamed successfully.")}}catch(y1){new W3.Notice("There was an error while renaming the file."),$.addToLogs(125,String(y1),"TaskItem.tsx/handleMenuButtonClicked/renaming")}})}),t1.addItem(v1=>{v1.setIcon("trash"),v1.setTitle(p("delete-note")),v1.onClick(async()=>{e.app.vault.trash(x1,!0).then(()=>{new W3.Notice("File deleted successfully. Moved to system trash.")})})})}}),W.showAtMouseEvent(j instanceof MouseEvent?j:j.nativeEvent)},G=(0,f2.useCallback)(j=>{var W;if(!d){j.preventDefault(),$.addToLogs(91,"Column data : undefined","TaskItem.tsx/handleDragStart");return}h(!0);try{let U=E.current,t1={task:a,taskIndex:String(t),sourceColumnData:d,currentBoardIndex:r.index,swimlaneData:n};S2.handleDragStartEvent(j.nativeEvent,U,t1,0);let x1=U.cloneNode(!0);(W=j.dataTransfer)==null||W.setDragImage(U,0,0),requestAnimationFrame(()=>{x1.classList.add("task-item-dragging")})}catch(U){$.addToLogs(126,String(U),"TaskItem.tsx/handleDragStart")}},[a,d]),Y=(0,f2.useCallback)(()=>{h(!1),E.current&&S2.removeDimFromDraggedTaskItem(E.current),S2.clearAllDragStyling(),S2.clearCurrentDragData()},[]),J=()=>{var j,W,U;try{return(0,f1.jsxs)("div",{className:"taskItemHeader",children:[(0,f1.jsxs)("div",{className:"taskItemHeaderLeft",children:[((j=i.visiblePropertiesList)==null?void 0:j.includes("priority"))&&a.priority>0&&(0,f1.jsx)("div",{className:"taskItemPriority",children:(0,f1.jsx)("div",{className:`prioirtyCircle p${a.priority}`,children:a.priority})}),((W=i.visiblePropertiesList)==null?void 0:W.includes("tags"))&&a.tags.length>0&&(0,f1.jsxs)("div",{className:"taskItemTags",children:[a.tags.map(t1=>{var $1;let x1=i.tagColorsType==="tagBg",v1=t1.replace("#",""),y1=e.settings.data.globalSettings.tagColorsType==="background"?void 0:e.settings.data.globalSettings.tagColors.find(I2=>I2.name===v1),z1=(y1==null?void 0:y1.color)||"var(--tag-color)",J1=y1?w0(y1.color,.1):"var(--tag-background)";if(!(r!=null&&r.showColumnTags)&&d&&(d==null?void 0:d.colType)==="namedTag"&&v1.replace("#","")===(($1=d==null?void 0:d.coltag)==null?void 0:$1.replace("#","")))return null;let j1=`${a.id}-${t1}`;return(0,f1.jsx)("div",{className:"taskItemTag",style:{color:x1&&z1?"white":z1,backgroundColor:x1?z1:J1},children:t1},j1)}),a.frontmatterTags&&a.frontmatterTags.map(t1=>{let x1=`${a.id}-fm-${t1}`;return(0,f1.jsx)("div",{className:"taskItemTagFrontmatter",title:"Tag from note frontmatter (read-only)",children:t1},x1)})]})]}),(0,f1.jsx)("div",{className:"taskItemHeaderRight",children:((U=i.visiblePropertiesList)==null?void 0:U.includes("id"))&&a.legacyId&&(0,f1.jsxs)("div",{className:"taskItemPropertyID",children:[(0,f1.jsx)("div",{className:"taskItemPropertyIDLabel",children:"ID"}),(0,f1.jsx)("div",{className:"taskItemPropertyIDValue",children:a.legacyId})]})})]})}catch(t1){return $.addToLogs(13,t1,"TaskItemV2.tsx/renderHeader"),null}},h1=()=>{var j,W;try{let U=(j=a.body)!=null?j:[];if(U.length===0)return null;let t1=U.filter(z1=>F2.taskRegex.test(z1)),x1=t1.length,v1=t1.filter(z1=>Y2(z1,!1,e.settings)).length,y1=(W=i.visiblePropertiesList)==null?void 0:W.includes("subTasksMinimized");return(0,f1.jsxs)(f1.Fragment,{children:[y1&&x1>0&&(0,f1.jsx)("div",{className:"subtask-summary-container",children:(0,f1.jsxs)("div",{className:"subtask-progress-bar-wrapper",children:[(0,f1.jsx)("div",{className:"subtask-progress-bar-bg",children:(0,f1.jsx)("div",{className:"subtask-progress-bar-fill",style:{width:`${v1/x1*100}%`}})}),(0,f1.jsxs)("span",{className:"subtask-progress-count",children:["[",v1,"/",x1,"]"]}),(0,f1.jsx)("span",{className:`subtask-toggle-icon ${y?"rotated":""}`,onClick:()=>b(z1=>!z1),children:(0,f1.jsx)(ht,{size:18,style:{verticalAlign:"middle"}})})]})}),(0,f1.jsx)("div",{className:y?"taskItemBodySubtaskSection-show":"taskItemBodySubtaskSection-hide",children:t1.map((z1,J1)=>{let j1=Y2(z1,!1,e.settings),$1=L6(e),I2=z1.match(new RegExp(`^(${$1})+`)),D4=a.title.match(new RegExp(`^(${$1})+`)),St=D4&&D4[0]?D4[0].length/$1.length:0,Ht=I2&&I2[0]?I2[0].length/$1.length:0,kt=Ht>1?`${(Ht-St-1)*15}px`:"0px",B3=`${a.id}-${J1}`;return(0,f1.jsxs)("div",{className:"taskItemBodySubtaskItem",style:{paddingLeft:kt},id:B3,children:[(0,f1.jsx)("input",{type:"checkbox",className:"taskItemBodySubtaskItemCheckbox",checked:j1,onChange:()=>Z(z1,j1),onDoubleClick:I3=>{I3.preventDefault()}}),(0,f1.jsx)("div",{className:j1?"subtaskTextRenderer subtaskTextRenderer-checked":"subtaskTextRenderer",ref:I3=>{I3?_.current.set(B3,I3):_.current.delete(B3)}})]},B3)})})]})}catch(U){return $.addToLogs(14,U,"TaskItemV2.tsx/renderSubTasks"),null}},r1=()=>{var j,W,U,t1,x1,v1,y1,z1,J1,j1;try{return(0,f1.jsx)(f1.Fragment,{children:L?(0,f1.jsx)("div",{className:"taskItemFooterRefreshingMssg",children:p("refreshing")}):(0,f1.jsx)(f1.Fragment,{children:(0,f1.jsxs)("div",{className:"taskItemFooterPropertiesContainer",children:[((j=i.visiblePropertiesList)==null?void 0:j.includes("status"))&&(a==null?void 0:a.status)&&(0,f1.jsxs)("div",{className:"taskItemFooterPropertyContainer",children:[(0,f1.jsx)("div",{className:"taskItemFooterPropertyContainerLabel",children:p("status")}),(0,f1.jsx)("div",{className:"taskItemFooterPropertyContainerValue",children:M6(a.status,i)})]}),((W=i.visiblePropertiesList)==null?void 0:W.includes("time"))&&(a==null?void 0:a.time)&&(0,f1.jsxs)("div",{className:"taskItemFooterPropertyContainer",children:[(0,f1.jsx)("div",{className:"taskItemFooterPropertyContainerLabel",children:p("time")}),(0,f1.jsx)("div",{className:"taskItemFooterPropertyContainerValue",children:a.time})]}),((U=i.visiblePropertiesList)==null?void 0:U.includes("reminder"))&&(a==null?void 0:a.reminder)&&(0,f1.jsxs)("div",{className:"taskItemFooterPropertyContainer",children:[(0,f1.jsx)("div",{className:"taskItemFooterPropertyContainerLabel",children:p("reminder")}),(0,f1.jsx)("div",{className:"taskItemFooterPropertyContainerValue",children:a.reminder})]}),((t1=i.visiblePropertiesList)==null?void 0:t1.includes("createdDate"))&&(a==null?void 0:a.createdDate)&&(0,f1.jsxs)("div",{className:"taskItemFooterPropertyContainer",children:[(0,f1.jsx)("div",{className:"taskItemFooterPropertyContainerLabel",children:p("created")}),(0,f1.jsx)("div",{className:"taskItemFooterPropertyContainerValue",children:a.createdDate})]}),((x1=i.visiblePropertiesList)==null?void 0:x1.includes("startDate"))&&(a==null?void 0:a.startDate)&&(0,f1.jsxs)("div",{className:"taskItemFooterPropertyContainer",children:[(0,f1.jsx)("div",{className:"taskItemFooterPropertyContainerLabel",children:p("start")}),(0,f1.jsx)("div",{className:"taskItemFooterPropertyContainerValue",children:a.startDate})]}),((v1=i.visiblePropertiesList)==null?void 0:v1.includes("scheduledDate"))&&(a==null?void 0:a.scheduledDate)&&(0,f1.jsxs)("div",{className:"taskItemFooterPropertyContainer",children:[(0,f1.jsx)("div",{className:"taskItemFooterPropertyContainerLabel",children:p("scheduled")}),(0,f1.jsx)("div",{className:"taskItemFooterPropertyContainerValue",children:a.scheduledDate})]}),((y1=i.visiblePropertiesList)==null?void 0:y1.includes("dueDate"))&&(a==null?void 0:a.due)&&(0,f1.jsxs)("div",{className:"taskItemFooterPropertyContainer",children:[(0,f1.jsx)("div",{className:"taskItemFooterPropertyContainerLabel",children:p("due")}),(0,f1.jsx)("div",{className:"taskItemFooterPropertyContainerValue",children:a.due})]}),((z1=i.visiblePropertiesList)==null?void 0:z1.includes("completionDate"))&&(a==null?void 0:a.completion)&&(0,f1.jsxs)("div",{className:"taskItemFooterPropertyContainer",children:[(0,f1.jsx)("div",{className:"taskItemFooterPropertyContainerLabel",children:p("completed")}),(0,f1.jsx)("div",{className:"taskItemFooterPropertyContainerValue",children:a.completion})]}),((J1=i.visiblePropertiesList)==null?void 0:J1.includes("cancelledDate"))&&(a==null?void 0:a.cancelledDate)&&(0,f1.jsxs)("div",{className:"taskItemFooterPropertyContainer",children:[(0,f1.jsx)("div",{className:"taskItemFooterPropertyContainerLabel",children:p("cancelled")}),(0,f1.jsx)("div",{className:"taskItemFooterPropertyContainerValue",children:a.cancelledDate})]}),((j1=i.visiblePropertiesList)==null?void 0:j1.includes("filePath"))&&a.filePath&&(0,f1.jsxs)("div",{className:"taskItemFooterPropertyContainer",children:[(0,f1.jsx)("div",{className:"taskItemFooterPropertyContainerLabel",children:p("file")}),(0,f1.jsx)("div",{className:"taskItemFooterPropertyContainerValue",children:a.filePath})]})]})})})}catch($1){return $.addToLogs(15,$1,"TaskItemV2.tsx/renderFooter"),null}},[o1,Q]=(0,f2.useState)({});(0,f2.useEffect)(()=>{a!=null&&a.dependsOn&&a.dependsOn.length>0?(async()=>{var U;let W={};await Promise.all(((U=a==null?void 0:a.dependsOn)!=null?U:[]).map(async t1=>{let x1=await t0(e,t1);W[t1]=x1})),Q(W)})():Q({})},[a.dependsOn]);let e1=()=>{try{return e.settings.data.globalSettings.lastViewHistory.viewedType==="kanban"&&(a!=null&&a.dependsOn)&&a.dependsOn.length>0?(0,f1.jsx)("div",{className:"taskItemChildTasksSection",children:(0,f1.jsx)("div",{className:"taskItemChildTasks",children:(a==null?void 0:a.dependsOn)&&(a==null?void 0:a.dependsOn.map(j=>{let W=o1[j];if(!W)return null;let t1=C2(l,a.tags)?Y2(W.status,!0,e.settings):Y2(W.status,!1,e.settings),x1=W.title||`There was an error fetching the task with ID: ${j}`;return(0,f1.jsx)("div",{className:"taskItemChildTask",children:(0,f1.jsxs)("div",{className:"taskItemChildTaskContent",onClick:v1=>F(v1,j),children:[(0,f1.jsx)("span",{className:"taskItemChildTaskSymbol",role:"img","aria-label":p("child-task"),children:t1?v2.dependsOnCompletedSymbol:v2.dependsOnSymbol}),(0,f1.jsx)("span",{className:`taskItemChildTaskTitleText${t1?"-completed":""}`,title:x1.slice(6),children:a0(W)})]})},`${a.id}-dep-${j}`)}))})}):null}catch(j){return $.addToLogs(16,j,"TaskItemV2.tsx/renderChildTasks"),null}},c1=(0,f2.useMemo)(()=>J(),[e.settings.data.globalSettings.visiblePropertiesList,a.priority,a.tags,r]),p1=(0,f2.useMemo)(()=>h1(),[e.settings.data.globalSettings.visiblePropertiesList,a.body,y]),V1=(0,f2.useMemo)(()=>e1(),[a.dependsOn,o1]);return(0,f1.jsx)("div",{className:"taskItemContainer",children:(0,f1.jsxs)("div",{ref:E,className:`taskItem ${s?"completed":""} ${f?"taskItem-dragging":""}`,style:{backgroundColor:T(a.tags)},onDoubleClick:I,onContextMenu:q,children:[(0,f1.jsx)("div",{className:"colorIndicator",style:{backgroundColor:k()}}),(0,f1.jsxs)("div",{className:"taskItemMainContent",children:[c1,e.settings.data.globalSettings.experimentalFeatures&&(0,f1.jsx)(f1.Fragment,{children:W3.Platform.isPhone?(0,f1.jsx)(f1.Fragment,{children:(0,f1.jsx)("div",{className:"taskItemMenuBtn","aria-label":p("open-task-menu"),children:(0,f1.jsx)(pt,{size:18,enableBackground:0,opacity:.4,onClick:q})})}):(0,f1.jsx)(f1.Fragment,{children:(d==null?void 0:d.colType)!=="allPending"&&e.settings.data.globalSettings.lastViewHistory.viewedType==="kanban"&&(0,f1.jsx)("div",{className:"taskItemDragBtn",draggable:!0,onDragStart:G,onDragEnd:Y,children:(0,f1.jsx)(l5,{size:18,enableBackground:0,opacity:.4})})})}),(0,f1.jsxs)("div",{className:"taskItemMainBody",children:[(0,f1.jsxs)("div",{className:"taskItemMainBodyTitleNsubTasks",children:[((l1=i.visiblePropertiesList)==null?void 0:l1.includes("checkbox"))&&(0,f1.jsx)("input",{id:`${a.id}-checkbox`,type:"checkbox",checked:!1,className:`taskItemCheckbox${L?"-checked":""}`,"data-task":a.status,dir:"auto",onChange:S,onClick:j=>{L&&j.preventDefault()},onDoubleClick:j=>{j.preventDefault()},disabled:L,"aria-disabled":L,"aria-busy":L,readOnly:L}),(0,f1.jsxs)("div",{className:"taskItemBodyContent",children:[(0,f1.jsx)("div",{className:"taskItemTitle",ref:O}),(((K=i.visiblePropertiesList)==null?void 0:K.includes("subTasks"))||((m1=i.visiblePropertiesList)==null?void 0:m1.includes("subTasksMinimized")))&&(0,f1.jsx)("div",{className:"taskItemSubTasksSection",children:p1})]})]}),u&&(0,f1.jsx)("div",{className:"taskItemMainBodyDescriptionSectionVisible",children:M()}),((A1=i.visiblePropertiesList)==null?void 0:A1.includes("descriptionMinimized"))&&(0,f1.jsxs)("div",{className:"taskItemMainBodyDescription",children:[a.body.at(0)!==""&&a.body.filter(j=>!m4(j)).length>0&&(0,f1.jsx)("div",{className:"taskItemMainBodyDescriptionSectionToggler",onClick:z,children:C?p("hide-description"):p("show-description")}),(0,f1.jsx)("div",{className:"taskItemMainBodyDescriptionSection",children:(0,f1.jsx)("div",{className:`taskItemBodyDescription${C?"-expanded":""}`,ref:N,children:(0,f1.jsx)("div",{className:"taskItemBodyDescriptionRenderer",ref:j=>{if(j){let W=`${a.id}-desc`;w.current[W]=j}}})})})]}),((P1=i.visiblePropertiesList)==null?void 0:P1.includes("dependsOn"))&&(0,f1.jsx)(f1.Fragment,{children:V1})]}),r1(),(0,f1.jsxs)("div",{id:"taskItemFooterBtns",className:"taskItemFooterBtns",onMouseOver:P,children:[(0,f1.jsx)("div",{className:"taskItemiconButton taskItemiconButtonEdit",children:(0,f1.jsx)(Nn,{size:16,enableBackground:0,opacity:.4,onClick:B,title:p("edit-task")})}),(0,f1.jsx)("div",{className:"taskItemiconButton taskItemiconButtonDelete",children:(0,f1.jsx)(f0,{size:13,enableBackground:0,opacity:.4,onClick:R,title:p("delete-task")})})]})]})]},D)})},dM=(0,f2.memo)(CI);Nt();Y1();var Q1=B1(n2(),1),xI=({plugin:t,columnIndex:e,activeBoardData:a,columnData:r,tasksForThisColumn:o,swimlaneData:n,hideColumnHeader:i=!1,headerOnly:l=!1})=>{var Y,J,h1,r1,o1;if(!l&&(a!=null&&a.hideEmptyColumns)&&(o===void 0||(o==null?void 0:o.length)===0))return null;let c=20,s=10,d=80,[u,f]=(0,H2.useState)(c),h=(0,H2.useRef)(null),[m,x]=(0,H2.useState)(!1),[L,g]=(0,H2.useState)(null),C=(0,H2.useRef)(null),v=(0,H2.useRef)(null),[y,b]=(0,H2.useState)(o),V=(0,H2.useRef)(0),H=(0,H2.useRef)(0),D=10,A=Q=>{C.current!==Q&&(v.current&&(cancelAnimationFrame(v.current),v.current=null),v.current=requestAnimationFrame(()=>{C.current=Q,g(Q),v.current=null}))},E=(0,H2.useMemo)(()=>o,[o]),O=(0,H2.useMemo)(()=>{var Q;return E&&(E==null?void 0:E.length)<1?[]:(Q=E==null?void 0:E.slice(0,u))!=null?Q:[]},[E,u]);(0,H2.useEffect)(()=>{f(c)},[o,c]),(0,H2.useEffect)(()=>{b(o)},[o]);let _=()=>{let Q=h.current;if(!Q)return;let e1=Q.scrollTop,c1=e1>V.current;if(Math.abs(e1-V.current)<1)return;let V1=document.documentElement;c1?(V1.classList.add("is-hidden-nav"),H.current=e1):c1||H.current-e1>=D&&V1.classList.remove("is-hidden-nav"),V.current=e1},N=(0,H2.useCallback)(()=>{let Q=h.current;if(!Q)return;let{scrollTop:e1,scrollHeight:c1,clientHeight:p1}=Q;(e1+p1)/c1*100>=d&&u<(E==null?void 0:E.length)&&f(k1=>Math.min(k1+s,E==null?void 0:E.length))},[d,u,E==null?void 0:E.length,s]);(0,H2.useEffect)(()=>{let Q=h.current;if(!Q)return;let e1=null,c1=()=>{e1||(e1=setTimeout(()=>{N(),xe.Platform.isMobile&&_(),e1=null},100))};return Q.addEventListener("scroll",c1),()=>{Q.removeEventListener("scroll",c1),e1&&clearTimeout(e1)}},[N]);let w=t.settings.data.globalSettings.columnWidth||"273px",M=t.settings.data.globalSettings.tagColors,z=new Map(M.map(Q=>[Q.name,Q])),k=z.get((r==null?void 0:r.coltag)||"");k||z.forEach((Q,e1)=>{tt(e1,(r==null?void 0:r.coltag)||"")&&(k=Q)});let T=!Dy(r.filters);if(l)return(0,Q1.jsx)("div",{className:`TaskBoardColumnsSection swimlaneMode${r.minimized?" minimized":""}`,"data-column-id":r.id,style:{"--task-board-column-width":r.minimized?"3rem":w},"data-column-type":r.colType,"data-column-tag-name":k==null?void 0:k.name,"data-column-tag-color":k==null?void 0:k.color,children:r.minimized?(0,Q1.jsx)("div",{className:`taskBoardColumnSecHeaderTitleSecColumnCount ${T?"active":""}`,onClick:Q=>Z(Q),"aria-label":p("open-column-menu"),children:(Y=E==null?void 0:E.length)!=null?Y:0}):(0,Q1.jsxs)("div",{className:"taskBoardColumnSecHeader",children:[(0,Q1.jsx)("div",{className:"taskBoardColumnSecHeaderTitleSec",children:(0,Q1.jsx)("div",{className:"taskBoardColumnSecHeaderTitleSecColumnTitle",children:r.name})}),(0,Q1.jsx)("div",{className:`taskBoardColumnSecHeaderTitleSecColumnCount ${T?"active":""}`,onClick:Q=>Z(Q),"aria-label":p("open-column-menu"),children:(J=E==null?void 0:E.length)!=null?J:0})]})});async function S(){let Q=a.index;if(Q!==-1){let e1=r.index-1;e1!==-1&&(t.settings.data.boardConfigs[Q].columns[e1].minimized=!t.settings.data.boardConfigs[Q].columns[e1].minimized,await t.saveSettings(),b1.emit("REFRESH_BOARD"))}}async function R(){let Q="You have set a work limit of "+r.workLimit+" for this column. Dont be so hard on yourself. Limit your work to reduce workload burden.";new xe.Notice(Q,0)}function Z(Q){let e1=new xe.Menu;e1.addItem(c1=>{c1.setTitle(p("sort-and-filter")),c1.setIsLabel(!0)}),e1.addItem(c1=>{c1.setTitle(p("configure-column-sorting")),c1.setIcon("arrow-up-down"),c1.onClick(async()=>{new ji(t,r,V1=>{let k1=t.settings.data.boardConfigs.findIndex(R1=>R1.index===a.index);if(k1!==-1){let R1=t.settings.data.boardConfigs[k1].columns.findIndex(N1=>N1.id===r.id);if(R1!==-1){t.settings.data.boardConfigs[k1].columns[R1]=V1;let N1=t.settings;t.saveSettings(N1).then(()=>{setTimeout(()=>{console.log("Refreshing now.."),b1.emit("REFRESH_BOARD")},200)})}}},()=>{}).open()})}),e1.addItem(c1=>{c1.setTitle(p("configure-column-filtering")),c1.setIcon("list-filter"),c1.onClick(async()=>{try{let p1=a.index,V1=r.index-1;if(xe.Platform.isMobile||xe.Platform.isMacOS){let k1=new y5(t,!0,void 0,p1,r.name,r.filters);k1.filterCloseCallback=async R1=>{R1&&p1!==-1&&V1!==-1&&(t.settings.data.boardConfigs[p1].columns[V1].filters=R1,await t.saveSettings(),b1.emit("REFRESH_BOARD"))},k1.open()}else{let k1=r.coltag?CSS.escape(r.coltag):"",R1=document.querySelector(`[data-column-tag-name="${k1}"]`),N1=R1?{x:R1.getBoundingClientRect().left,y:R1.getBoundingClientRect().top+40}:{x:100,y:100},n1=new L5(t,!0,void 0,p1,r.name,r.filters);n1.onClose=async l1=>{l1&&p1!==-1&&V1!==-1&&(t.settings.data.boardConfigs[p1].columns[V1].filters=l1,await t.saveSettings(),b1.emit("REFRESH_BOARD"))},n1.showAtPosition(N1)}}catch(p1){$.showNotice(4,"Error showing filter popover",String(p1),"Column.tsx/column-menu/configure-conlum-filters")}})}),e1.addSeparator(),e1.addItem(c1=>{c1.setTitle(p("quick-actions")),c1.setIsLabel(!0)}),e1.addItem(c1=>{c1.setTitle(p("hide-column")),c1.setIcon("eye-off"),c1.onClick(async()=>{let p1=a.index;if(p1!==-1){let V1=r.index-1;V1!==-1&&(t.settings.data.boardConfigs[p1].columns[V1].active=!1,await t.saveSettings(),b1.emit("REFRESH_BOARD"))}})}),r.minimized?e1.addItem(c1=>{c1.setTitle(p("maximize-column")),c1.setIcon("panel-left-open"),c1.onClick(async()=>{await S()})}):e1.addItem(c1=>{c1.setTitle(p("minimize-column")),c1.setIcon("panel-left-close"),c1.onClick(async()=>{await S()})}),e1.showAtMouseEvent(Q instanceof MouseEvent?Q:Q.nativeEvent)}let P=async(Q,e1)=>{Q.preventDefault(),x(!1),g(null);let c1=h.current;c1&&(S2.handleDropEvent(Q.nativeEvent,r,c1,n),S2.clearCurrentDragData(),S2.clearDesiredDropIndex(),v.current&&(cancelAnimationFrame(v.current),v.current=null))},B=(0,H2.useCallback)(Q=>{Q.preventDefault(),x(!1);try{let e1=Q.currentTarget;S2.handleDropEvent(Q.nativeEvent,r,e1,n),S2.clearCurrentDragData(),S2.clearDesiredDropIndex()}catch(e1){$.addToLogs(118,String(e1),"Column.tsx/handleDrop")}},[r,t]),I=(0,H2.useCallback)(Q=>{var e1;Q.preventDefault(),x(!0);try{if(Array.isArray(r.sortCriteria)&&r.sortCriteria.some(p1=>p1.criteria==="manualOrder")){let p1=0,V1=Q.currentTarget,k1=V1.getAttribute("data-taskitem-index"),R1=V1.getAttribute("data-taskitem-id"),N1=(e1=S2.getCurrentDragData())==null?void 0:e1.task.id;if(R1&&k1&&R1!==N1){let l1=Q.clientY,K=V1.getBoundingClientRect(),m1=K.top+K.height/2;l1<m1?p1=parseInt(k1,10):p1=parseInt(k1,10)+1,A(p1),S2.setDesiredDropIndex(p1)}else C.current!==null&&A(null),S2.clearDesiredDropIndex();let n1=h.current;S2.handleCardDragOverEvent(Q.nativeEvent,Q.currentTarget,n1,r)}else{C.current!==null&&A(null),S2.clearDesiredDropIndex();return}}catch(c1){$.addToLogs(119,String(c1),"Column.tsx/handleTaskItemDragOVer")}},[A,r]),F=(0,H2.useCallback)(Q=>{Q.preventDefault(),x(!0);try{let e1=Q.currentTarget;S2.handleColumnDragOverEvent(Q.nativeEvent,r,e1)}catch(e1){$.addToLogs(120,String(e1),"Column.tsx/handleDragOver")}},[r]);(0,H2.useEffect)(()=>()=>{v.current&&(cancelAnimationFrame(v.current),v.current=null),document.documentElement.classList.remove("is-hidden-nav")},[]);let q=(0,H2.useCallback)(Q=>{try{let e1=Q.currentTarget,c1=Q.clientX,p1=Q.clientY;if(typeof c1=="number"&&typeof p1=="number"){let V1=e1.getBoundingClientRect();if(c1>=V1.left&&c1<=V1.right&&p1>=V1.top&&p1<=V1.bottom)return}}catch(e1){}x(!1),g(null),S2.clearDesiredDropIndex(),S2.handleDragLeaveEvent(Q.currentTarget)},[]),G=t.settings.data.globalSettings.taskCardStyle==="emoji"?c7:dM;return(0,Q1.jsx)("div",{className:`TaskBoardColumnsSection${r.minimized?" minimized":""}`,"data-column-id":r.id,style:{"--task-board-column-width":r.minimized?"3rem":w},"data-column-type":r.colType,"data-column-tag-name":k==null?void 0:k.name,"data-column-tag-color":k==null?void 0:k.color,children:r.minimized&&!i?(0,Q1.jsxs)("div",{className:"taskBoardColumnMinimized",children:[(0,Q1.jsx)("div",{className:`taskBoardColumnSecHeaderTitleSecColumnCount ${T?"active":""}`,onClick:Q=>Z(Q),"aria-label":p("open-column-menu"),children:(h1=E==null?void 0:E.length)!=null?h1:0}),(0,Q1.jsx)("div",{className:"taskBoardColumnMinimizedTitle",onClick:async()=>{await S(),b1.emit("REFRESH_BOARD")},children:r.name})]}):(0,Q1.jsxs)(Q1.Fragment,{children:[!i&&(0,Q1.jsxs)("div",{className:"taskBoardColumnSecHeader",children:[(0,Q1.jsxs)("div",{className:"taskBoardColumnSecHeaderTitleSec",children:[(0,Q1.jsx)("div",{className:"taskBoardColumnSecHeaderTitleSecColumnTitle",children:r.name}),(r==null?void 0:r.workLimit)&&o.length>r.workLimit&&(0,Q1.jsx)("div",{className:"taskBoardColumnSecHeaderTitleSecWorkLimitAlert","aria-label":p("work-limit-alert"),onClick:R,children:(0,Q1.jsx)(le,{size:20})})]}),(0,Q1.jsx)("div",{className:`taskBoardColumnSecHeaderTitleSecColumnCount ${T?"active":""}`,onClick:Q=>Z(Q),"aria-label":p("open-column-menu"),children:(r1=E==null?void 0:E.length)!=null?r1:0})]}),(0,Q1.jsx)("div",{className:`tasksContainer${t.settings.data.globalSettings.showVerticalScroll?"":"-SH"}`,ref:h,onDragOver:Q=>{F(Q)},onDragLeave:q,onDrop:B,onDragEnd:Q=>{x(!1),g(null),S2.clearAllDragStyling()},children:r.minimized?(0,Q1.jsx)(Q1.Fragment,{}):(0,Q1.jsx)(Q1.Fragment,{children:O&&O.length>0?(0,Q1.jsxs)(Q1.Fragment,{children:[(()=>{let Q=[];for(let e1=0;e1<O.length;e1++){L===e1&&Q.push((0,Q1.jsx)("div",{className:"task-insert-placeholder",children:(0,Q1.jsx)("span",{className:"task-insert-text",children:"Drop here"})},`placeholder-${e1}`));let c1=O[e1];Q.push((0,Q1.jsx)("div",{className:"taskItemFadeIn","data-taskitem-index":e1,"data-taskitem-id":c1.id,onDragOver:p1=>{I(p1)},onDrop:p1=>P(p1,e1),children:(0,Q1.jsx)(LI,{Component:G,dataAttributeIndex:e1,plugin:t,task:c1,activeBoardSettings:a,columnIndex:e,swimlaneData:n},c1.id)},c1.id))}return L===y.length&&Q.push((0,Q1.jsx)("div",{className:"task-insert-placeholder",children:(0,Q1.jsx)("span",{className:"task-insert-text",children:"Drop here"})},"placeholder-end")),Q})(),E&&u<E.length&&(0,Q1.jsx)("div",{className:"lazyLoadIndicator",children:(0,Q1.jsxs)("p",{children:[p("scroll-to-load-more")," (",u," / ",(o1=E.length)!=null?o1:0,")"]})})]}):(0,Q1.jsx)("div",{onDragOver:Q=>{Q.preventDefault()},children:(0,Q1.jsx)("p",{className:"tasksContainerNoTasks",children:p("no-tasks-available")})})})})]})})},LI=(0,H2.memo)(({Component:t,...e})=>(0,Q1.jsx)(t,{...e}),(t,e)=>t.dataAttributeIndex===e.dataAttributeIndex&&t.task===e.task&&t.activeBoardSettings===e.activeBoardSettings&&t.columnIndex===e.columnIndex&&t.swimlaneData===e.swimlaneData),Wi=(0,H2.memo)(xI);var w5=B1(T2(),1);t2();Nt();C4();Y1();var y2=B1(n2(),1),yI=({plugin:t,board:e,tasksPerColumn:a})=>{let r=Wi,{property:o,sortCriteria:n,customSortOrder:i,customValue:l,groupAllRest:c,maxHeight:s,verticalHeaderUI:d,minimized:u}=e.swimlanes,f=e.columns.filter(x=>x.active),h=(0,w5.useMemo)(()=>{var y;if(!((y=e.swimlanes)!=null&&y.enabled)||!a)return[];if(f.length===0)return[];let x=MI(a,o,l),L=[],g=new Set,C=[];if(n==="custom"&&i&&i.length>0){L=i.map(V=>({value:V.value.replace("#",""),index:V.index})),g=new Set(i.map(V=>V.value.replace("#","").toLocaleLowerCase()));let b=x.filter(V=>!g.has(V));if(c){if(b.length>0){let V=Math.max(...i.map(H=>H.index),0);L=[...L,{value:"All rest",index:V+1}],C=b}}else if(b.length>0){let V=Math.max(...i.map(H=>H.index),0);L=[...L,...b.map((H,D)=>({value:H,index:V+D+1}))]}}else n==="asc"?L=x.sort().map((b,V)=>({value:b,index:V+1})):n==="desc"&&(L=x.sort((b,V)=>V.localeCompare(b)).map((b,V)=>({value:b,index:V+1})));let v=L.map(b=>{var A;let V=f.map((E,O)=>{let _=a[O]||[];return b.value==="All rest"?!C||C.length===0?[]:_.filter(N=>{let w=kf(N,o,l);if(o==="tags"){w.map(z=>z.replace("#","").toLocaleLowerCase());let M=w.some(z=>g.has(z));return w.some(z=>C.includes(z)&&!M)||w.length===0}return w.some(M=>C.includes(M))}):_.filter(N=>{let w=kf(N,o,l);return o==="tags"?(w.map(M=>M.replace("#","").toLocaleLowerCase()),w.includes(b.value.replace("#","").toLocaleLowerCase())):w.includes(b.value)})}),H=p(o)+": "+b.value,D=(A=u==null?void 0:u.includes(H))!=null?A:!1;return{swimlaneName:H,swimlaneValue:b.value,tasks:V,minimized:D}});return e.swimlanes.hideEmptySwimlanes?v.filter(b=>b.tasks.some(V=>V.length>0)):v},[e,a,t]);if(h.length===0)return(0,y2.jsx)("div",{className:"emptyBoardMessage",children:p("no-swimlanes-found")||"No swimlanes found for this configuration."});async function m(x){var L;try{let g=(L=h[x])==null?void 0:L.swimlaneName;if(!g)return;let C=e.index;if(C===-1)return;let v=t.settings.data.boardConfigs[C].swimlanes||{minimized:[]},y=Array.isArray(v.minimized)?[...v.minimized]:[],b=y.indexOf(g);b===-1?y.push(g):y.splice(b,1),t.settings.data.boardConfigs[C].swimlanes.minimized=y,await t.saveSettings(),b1.emit("REFRESH_BOARD")}catch(g){$.addToLogs(121,String(g),"KanbanSwimlanesContainer.tsx/handleSwimlaneMinimize")}}return(0,y2.jsx)("div",{className:"kanbanSwimlanesGrid",children:(0,y2.jsxs)("div",{className:"swimlanesContainer",children:[(0,y2.jsx)("div",{className:`swimlanesHeaderContainer${d?" verticalUI":""}`,children:(0,y2.jsx)("div",{className:"swimlanesHeaderRow",children:f.map((x,L)=>(0,y2.jsx)(Hf,{plugin:t,columnIndex:x.index,activeBoardData:e,columnData:x,tasksForThisColumn:(a==null?void 0:a[L])||[],Component:r,headerOnly:!0},`header-${x.id}`))})}),h.map((x,L)=>{var g,C;return(0,y2.jsx)(w5.default.Fragment,{children:d?(0,y2.jsxs)("div",{className:`swimlaneRow verticalUI ${x.minimized?"minimized":""}`,children:[(0,y2.jsx)("div",{className:"swimlaneHeaderContainer-vertical",children:(0,y2.jsxs)("div",{className:"swimlaneHeader-vertical",children:[(0,y2.jsx)("div",{className:"swimlaneHeaderSwimlaneCount-vertical",children:(g=x.tasks.flat().length)!=null?g:0}),(0,y2.jsx)("div",{className:"swimlaneLabel-vertical",title:x.swimlaneName,children:x.swimlaneName}),(0,y2.jsx)("div",{className:"swimlaneHeaderContainerMinimizICon",onClick:()=>m(L),children:x.minimized?(0,y2.jsx)(J8,{}):(0,y2.jsx)(ht,{})})]})}),(0,y2.jsx)("div",{className:"swimlaneColumnsWrapper",style:{maxHeight:x.minimized?"0px":s},children:x.minimized?null:f.map((v,y)=>{let b={property:e.swimlanes.property,value:x.swimlaneValue};return(0,y2.jsx)(Hf,{plugin:t,columnIndex:v.index,activeBoardData:e,columnData:v,tasksForThisColumn:x.tasks[y]||[],Component:r,swimlaneData:b,hideColumnHeader:!0},`${x.swimlaneValue}-${v.id}`)})})]}):(0,y2.jsxs)("div",{className:`swimlaneRow ${x.minimized?"minimized":""}`,children:[(0,y2.jsx)("div",{className:"swimlaneHeaderContainer",children:(0,y2.jsxs)("div",{className:"swimlaneHeader",children:[(0,y2.jsx)("div",{className:"swimlaneHeaderContainerMinimizICon",onClick:()=>m(L),children:x.minimized?(0,y2.jsx)(J8,{}):(0,y2.jsx)(ht,{})}),(0,y2.jsx)("div",{className:"swimlaneLabel",title:x.swimlaneName,children:x.swimlaneName}),(0,y2.jsx)("div",{className:"swimlaneHeaderSwimlaneCount",children:(C=x.tasks.flat().length)!=null?C:0})]})}),(0,y2.jsx)("div",{className:"swimlaneColumnsWrapper",style:{maxHeight:x.minimized?"0px":s},children:x.minimized?null:f.map((v,y)=>{let b={property:e.swimlanes.property,value:x.swimlaneValue};return(0,y2.jsx)(Hf,{plugin:t,columnIndex:v.index,activeBoardData:e,columnData:v,tasksForThisColumn:x.tasks[y]||[],Component:r,hideColumnHeader:!0,swimlaneData:b},`${x.swimlaneValue}-${v.id}`)})})]})},x.swimlaneValue)})]})})};function MI(t,e,a){let r=new Set;return t.forEach(o=>{o.forEach(n=>{kf(n,e,a).forEach(l=>r.add(l))})}),Array.from(r).sort()}function kf(t,e,a){let r=[];switch(e){case"tags":t.tags&&Array.isArray(t.tags)&&(r=t.tags.map(o=>typeof o=="string"?o.replace("#",""):"").filter(o=>o));break;case"priority":t.priority!==void 0&&t.priority!==null&&(r=[String(t.priority)]);break;case"status":t.status&&(r=[t.status]);break;default:break}return r.filter(o=>o&&o.trim())}var Hf=(0,w5.memo)(({Component:t,...e})=>(0,y2.jsx)(t,{...e}),(t,e)=>t.tasksForThisColumn===e.tasksForThisColumn&&t.columnData===e.columnData&&t.Component===e.Component&&t.hideColumnHeader===e.hideColumnHeader),uM=(0,w5.memo)(yI);t2();var z4=B1(n2(),1),wI=({plugin:t,board:e,allTasks:a,tasksPerColumn:r,loading:o,freshInstall:n})=>{var l,c;let i=Wi;return(0,z4.jsx)("div",{className:"kanbanBoard",children:(0,z4.jsx)("div",{className:"columnsContainer",children:o?(0,z4.jsx)("div",{className:"loadingContainer",children:n?(0,z4.jsxs)("h2",{className:"initializationMessage",children:[p("fresh-install-1"),(0,z4.jsx)("br",{}),(0,z4.jsx)("br",{}),p("fresh-install-2"),(0,z4.jsx)("br",{}),(0,z4.jsx)("br",{}),p("fresh-install-3")]}):(0,z4.jsxs)(z4.Fragment,{children:[(0,z4.jsx)("div",{className:"spinner"}),(0,z4.jsx)("p",{children:p("loading-tasks")})]})}):((l=e==null?void 0:e.columns)==null?void 0:l.length)===0?(0,z4.jsx)("div",{className:"emptyBoardMessage",children:"Create columns on this board using the board config modal from top right corner button."}):(c=e==null?void 0:e.swimlanes)!=null&&c.enabled?(0,z4.jsx)(uM,{plugin:t,board:e,tasksPerColumn:r}):e==null?void 0:e.columns.filter(s=>s.active).map((s,d)=>(0,z4.jsx)(zI,{plugin:t,columnIndex:s.index,activeBoardData:e,columnData:s,tasksForThisColumn:r[d],Component:i},d))})})},zI=(0,Vf.memo)(({Component:t,...e})=>(0,z4.jsx)(t,{...e}),(t,e)=>t.tasksForThisColumn===e.tasksForThisColumn&&t.columnData===e.columnData&&t.Component===e.Component),fM=(0,Vf.memo)(wI);var g4=B1(T2(),1);var a1=B1(n2()),i1=B1(T2());function e4(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let a=0,r;a<t.length;a++)(r=e4(t[a]))!==""&&(e+=(e&&" ")+r);else for(let a in t)t[a]&&(e+=(e&&" ")+a);return e}var bI={value:()=>{}};function pM(){for(var t=0,e=arguments.length,a={},r;t<e;++t){if(!(r=arguments[t]+"")||r in a||/[\s.]/.test(r))throw new Error("illegal type: "+r);a[r]=[]}return new Yi(a)}function Yi(t){this._=t}function SI(t,e){return t.trim().split(/^|\s+/).map(function(a){var r="",o=a.indexOf(".");if(o>=0&&(r=a.slice(o+1),a=a.slice(0,o)),a&&!e.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:r}})}Yi.prototype=pM.prototype={constructor:Yi,on:function(t,e){var a=this._,r=SI(t+"",a),o,n=-1,i=r.length;if(arguments.length<2){for(;++n<i;)if((o=(t=r[n]).type)&&(o=HI(a[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++n<i;)if(o=(t=r[n]).type)a[o]=hM(a[o],t.name,e);else if(e==null)for(o in a)a[o]=hM(a[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var a in e)t[a]=e[a].slice();return new Yi(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var a=new Array(o),r=0,o,n;r<o;++r)a[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(n=this._[t],r=0,o=n.length;r<o;++r)n[r].value.apply(e,a)},apply:function(t,e,a){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,n=r.length;o<n;++o)r[o].value.apply(e,a)}};function HI(t,e){for(var a=0,r=t.length,o;a<r;++a)if((o=t[a]).name===e)return o.value}function hM(t,e,a){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=bI,t=t.slice(0,r).concat(t.slice(r+1));break}return a!=null&&t.push({name:e,value:a}),t}var z5=pM;var Xi="http://www.w3.org/1999/xhtml",Tf={svg:"http://www.w3.org/2000/svg",xhtml:Xi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function i6(t){var e=t+="",a=e.indexOf(":");return a>=0&&(e=t.slice(0,a))!=="xmlns"&&(t=t.slice(a+1)),Tf.hasOwnProperty(e)?{space:Tf[e],local:t}:t}function kI(t){return function(){var e=this.ownerDocument,a=this.namespaceURI;return a===Xi&&e.documentElement.namespaceURI===Xi?e.createElement(t):e.createElementNS(a,t)}}function VI(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ki(t){var e=i6(t);return(e.local?VI:kI)(e)}function TI(){}function b5(t){return t==null?TI:function(){return this.querySelector(t)}}function gM(t){typeof t!="function"&&(t=b5(t));for(var e=this._groups,a=e.length,r=new Array(a),o=0;o<a;++o)for(var n=e[o],i=n.length,l=r[o]=new Array(i),c,s,d=0;d<i;++d)(c=n[d])&&(s=t.call(c,c.__data__,d,n))&&("__data__"in c&&(s.__data__=c.__data__),l[d]=s);return new a4(r,this._parents)}function Bf(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function BI(){return[]}function Ua(t){return t==null?BI:function(){return this.querySelectorAll(t)}}function II(t){return function(){return Bf(t.apply(this,arguments))}}function mM(t){typeof t=="function"?t=II(t):t=Ua(t);for(var e=this._groups,a=e.length,r=[],o=[],n=0;n<a;++n)for(var i=e[n],l=i.length,c,s=0;s<l;++s)(c=i[s])&&(r.push(t.call(c,c.__data__,s,i)),o.push(c));return new a4(r,o)}function qa(t){return function(){return this.matches(t)}}function Qi(t){return function(e){return e.matches(t)}}var FI=Array.prototype.find;function AI(t){return function(){return FI.call(this.children,t)}}function DI(){return this.firstElementChild}function vM(t){return this.select(t==null?DI:AI(typeof t=="function"?t:Qi(t)))}var RI=Array.prototype.filter;function EI(){return Array.from(this.children)}function NI(t){return function(){return RI.call(this.children,t)}}function CM(t){return this.selectAll(t==null?EI:NI(typeof t=="function"?t:Qi(t)))}function xM(t){typeof t!="function"&&(t=qa(t));for(var e=this._groups,a=e.length,r=new Array(a),o=0;o<a;++o)for(var n=e[o],i=n.length,l=r[o]=[],c,s=0;s<i;++s)(c=n[s])&&t.call(c,c.__data__,s,n)&&l.push(c);return new a4(r,this._parents)}function Ji(t){return new Array(t.length)}function LM(){return new a4(this._enter||this._groups.map(Ji),this._parents)}function $a(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}$a.prototype={constructor:$a,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function yM(t){return function(){return t}}function PI(t,e,a,r,o,n){for(var i=0,l,c=e.length,s=n.length;i<s;++i)(l=e[i])?(l.__data__=n[i],r[i]=l):a[i]=new $a(t,n[i]);for(;i<c;++i)(l=e[i])&&(o[i]=l)}function OI(t,e,a,r,o,n,i){var l,c,s=new Map,d=e.length,u=n.length,f=new Array(d),h;for(l=0;l<d;++l)(c=e[l])&&(f[l]=h=i.call(c,c.__data__,l,e)+"",s.has(h)?o[l]=c:s.set(h,c));for(l=0;l<u;++l)h=i.call(t,n[l],l,n)+"",(c=s.get(h))?(r[l]=c,c.__data__=n[l],s.delete(h)):a[l]=new $a(t,n[l]);for(l=0;l<d;++l)(c=e[l])&&s.get(f[l])===c&&(o[l]=c)}function ZI(t){return t.__data__}function MM(t,e){if(!arguments.length)return Array.from(this,ZI);var a=e?OI:PI,r=this._parents,o=this._groups;typeof t!="function"&&(t=yM(t));for(var n=o.length,i=new Array(n),l=new Array(n),c=new Array(n),s=0;s<n;++s){var d=r[s],u=o[s],f=u.length,h=_I(t.call(d,d&&d.__data__,s,r)),m=h.length,x=l[s]=new Array(m),L=i[s]=new Array(m),g=c[s]=new Array(f);a(d,u,x,L,g,h,e);for(var C=0,v=0,y,b;C<m;++C)if(y=x[C]){for(C>=v&&(v=C+1);!(b=L[v])&&++v<m;);y._next=b||null}}return i=new a4(i,r),i._enter=l,i._exit=c,i}function _I(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function wM(){return new a4(this._exit||this._groups.map(Ji),this._parents)}function zM(t,e,a){var r=this.enter(),o=this,n=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),a==null?n.remove():a(n),r&&o?r.merge(o).order():o}function bM(t){for(var e=t.selection?t.selection():t,a=this._groups,r=e._groups,o=a.length,n=r.length,i=Math.min(o,n),l=new Array(o),c=0;c<i;++c)for(var s=a[c],d=r[c],u=s.length,f=l[c]=new Array(u),h,m=0;m<u;++m)(h=s[m]||d[m])&&(f[m]=h);for(;c<o;++c)l[c]=a[c];return new a4(l,this._parents)}function SM(){for(var t=this._groups,e=-1,a=t.length;++e<a;)for(var r=t[e],o=r.length-1,n=r[o],i;--o>=0;)(i=r[o])&&(n&&i.compareDocumentPosition(n)^4&&n.parentNode.insertBefore(i,n),n=i);return this}function HM(t){t||(t=UI);function e(u,f){return u&&f?t(u.__data__,f.__data__):!u-!f}for(var a=this._groups,r=a.length,o=new Array(r),n=0;n<r;++n){for(var i=a[n],l=i.length,c=o[n]=new Array(l),s,d=0;d<l;++d)(s=i[d])&&(c[d]=s);c.sort(e)}return new a4(o,this._parents).order()}function UI(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function kM(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function VM(){return Array.from(this)}function TM(){for(var t=this._groups,e=0,a=t.length;e<a;++e)for(var r=t[e],o=0,n=r.length;o<n;++o){var i=r[o];if(i)return i}return null}function BM(){let t=0;for(let e of this)++t;return t}function IM(){return!this.node()}function FM(t){for(var e=this._groups,a=0,r=e.length;a<r;++a)for(var o=e[a],n=0,i=o.length,l;n<i;++n)(l=o[n])&&t.call(l,l.__data__,n,o);return this}function qI(t){return function(){this.removeAttribute(t)}}function $I(t){return function(){this.removeAttributeNS(t.space,t.local)}}function GI(t,e){return function(){this.setAttribute(t,e)}}function jI(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function WI(t,e){return function(){var a=e.apply(this,arguments);a==null?this.removeAttribute(t):this.setAttribute(t,a)}}function YI(t,e){return function(){var a=e.apply(this,arguments);a==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,a)}}function AM(t,e){var a=i6(t);if(arguments.length<2){var r=this.node();return a.local?r.getAttributeNS(a.space,a.local):r.getAttribute(a)}return this.each((e==null?a.local?$I:qI:typeof e=="function"?a.local?YI:WI:a.local?jI:GI)(a,e))}function tl(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function XI(t){return function(){this.style.removeProperty(t)}}function KI(t,e,a){return function(){this.style.setProperty(t,e,a)}}function QI(t,e,a){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,a)}}function DM(t,e,a){return arguments.length>1?this.each((e==null?XI:typeof e=="function"?QI:KI)(t,e,a==null?"":a)):Le(this.node(),t)}function Le(t,e){return t.style.getPropertyValue(e)||tl(t).getComputedStyle(t,null).getPropertyValue(e)}function JI(t){return function(){delete this[t]}}function tF(t,e){return function(){this[t]=e}}function eF(t,e){return function(){var a=e.apply(this,arguments);a==null?delete this[t]:this[t]=a}}function RM(t,e){return arguments.length>1?this.each((e==null?JI:typeof e=="function"?eF:tF)(t,e)):this.node()[t]}function EM(t){return t.trim().split(/^|\s+/)}function If(t){return t.classList||new NM(t)}function NM(t){this._node=t,this._names=EM(t.getAttribute("class")||"")}NM.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function PM(t,e){for(var a=If(t),r=-1,o=e.length;++r<o;)a.add(e[r])}function OM(t,e){for(var a=If(t),r=-1,o=e.length;++r<o;)a.remove(e[r])}function aF(t){return function(){PM(this,t)}}function rF(t){return function(){OM(this,t)}}function oF(t,e){return function(){(e.apply(this,arguments)?PM:OM)(this,t)}}function ZM(t,e){var a=EM(t+"");if(arguments.length<2){for(var r=If(this.node()),o=-1,n=a.length;++o<n;)if(!r.contains(a[o]))return!1;return!0}return this.each((typeof e=="function"?oF:e?aF:rF)(a,e))}function nF(){this.textContent=""}function iF(t){return function(){this.textContent=t}}function lF(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function _M(t){return arguments.length?this.each(t==null?nF:(typeof t=="function"?lF:iF)(t)):this.node().textContent}function cF(){this.innerHTML=""}function sF(t){return function(){this.innerHTML=t}}function dF(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function UM(t){return arguments.length?this.each(t==null?cF:(typeof t=="function"?dF:sF)(t)):this.node().innerHTML}function uF(){this.nextSibling&&this.parentNode.appendChild(this)}function qM(){return this.each(uF)}function fF(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $M(){return this.each(fF)}function GM(t){var e=typeof t=="function"?t:Ki(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function hF(){return null}function jM(t,e){var a=typeof t=="function"?t:Ki(t),r=e==null?hF:typeof e=="function"?e:b5(e);return this.select(function(){return this.insertBefore(a.apply(this,arguments),r.apply(this,arguments)||null)})}function pF(){var t=this.parentNode;t&&t.removeChild(this)}function WM(){return this.each(pF)}function gF(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function mF(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function YM(t){return this.select(t?mF:gF)}function XM(t){return arguments.length?this.property("__data__",t):this.node().__data__}function vF(t){return function(e){t.call(this,e,this.__data__)}}function CF(t){return t.trim().split(/^|\s+/).map(function(e){var a="",r=e.indexOf(".");return r>=0&&(a=e.slice(r+1),e=e.slice(0,r)),{type:e,name:a}})}function xF(t){return function(){var e=this.__on;if(e){for(var a=0,r=-1,o=e.length,n;a<o;++a)n=e[a],(!t.type||n.type===t.type)&&n.name===t.name?this.removeEventListener(n.type,n.listener,n.options):e[++r]=n;++r?e.length=r:delete this.__on}}}function LF(t,e,a){return function(){var r=this.__on,o,n=vF(e);if(r){for(var i=0,l=r.length;i<l;++i)if((o=r[i]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=n,o.options=a),o.value=e;return}}this.addEventListener(t.type,n,a),o={type:t.type,name:t.name,value:e,listener:n,options:a},r?r.push(o):this.__on=[o]}}function KM(t,e,a){var r=CF(t+""),o,n=r.length,i;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,s=l.length,d;c<s;++c)for(o=0,d=l[c];o<n;++o)if((i=r[o]).type===d.type&&i.name===d.name)return d.value}return}for(l=e?LF:xF,o=0;o<n;++o)this.each(l(r[o],e,a));return this}function QM(t,e,a){var r=tl(t),o=r.CustomEvent;typeof o=="function"?o=new o(e,a):(o=r.document.createEvent("Event"),a?(o.initEvent(e,a.bubbles,a.cancelable),o.detail=a.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function yF(t,e){return function(){return QM(this,t,e)}}function MF(t,e){return function(){return QM(this,t,e.apply(this,arguments))}}function JM(t,e){return this.each((typeof e=="function"?MF:yF)(t,e))}function*tw(){for(var t=this._groups,e=0,a=t.length;e<a;++e)for(var r=t[e],o=0,n=r.length,i;o<n;++o)(i=r[o])&&(yield i)}var Ff=[null];function a4(t,e){this._groups=t,this._parents=e}function ew(){return new a4([[document.documentElement]],Ff)}function wF(){return this}a4.prototype=ew.prototype={constructor:a4,select:gM,selectAll:mM,selectChild:vM,selectChildren:CM,filter:xM,data:MM,enter:LM,exit:wM,join:zM,merge:bM,selection:wF,order:SM,sort:HM,call:kM,nodes:VM,node:TM,size:BM,empty:IM,each:FM,attr:AM,style:DM,property:RM,classed:ZM,text:_M,html:UM,raise:qM,lower:$M,append:GM,insert:jM,remove:WM,clone:YM,datum:XM,on:KM,dispatch:JM,[Symbol.iterator]:tw};var l6=ew;function A4(t){return typeof t=="string"?new a4([[document.querySelector(t)]],[document.documentElement]):new a4([[t]],Ff)}function aw(t){let e;for(;e=t.sourceEvent;)t=e;return t}function d3(t,e){if(t=aw(t),e===void 0&&(e=t.currentTarget),e){var a=e.ownerSVGElement||e;if(a.createSVGPoint){var r=a.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}var rw={passive:!1},S5={capture:!0,passive:!1};function el(t){t.stopImmediatePropagation()}function ye(t){t.preventDefault(),t.stopImmediatePropagation()}function Ga(t){var e=t.document.documentElement,a=A4(t).on("dragstart.drag",ye,S5);"onselectstart"in e?a.on("selectstart.drag",ye,S5):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function ja(t,e){var a=t.document.documentElement,r=A4(t).on("dragstart.drag",null);e&&(r.on("click.drag",ye,S5),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in a?r.on("selectstart.drag",null):(a.style.MozUserSelect=a.__noselect,delete a.__noselect)}var Wa=t=>()=>t;function Ya(t,{sourceEvent:e,subject:a,target:r,identifier:o,active:n,x:i,y:l,dx:c,dy:s,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:a,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:n,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:s,enumerable:!0,configurable:!0},_:{value:d}})}Ya.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function zF(t){return!t.ctrlKey&&!t.button}function bF(){return this.parentNode}function SF(t,e){return e==null?{x:t.x,y:t.y}:e}function HF(){return navigator.maxTouchPoints||"ontouchstart"in this}function al(){var t=zF,e=bF,a=SF,r=HF,o={},n=z5("start","drag","end"),i=0,l,c,s,d,u=0;function f(y){y.on("mousedown.drag",h).filter(r).on("touchstart.drag",L).on("touchmove.drag",g,rw).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(y,b){if(!(d||!t.call(this,y,b))){var V=v(this,e.call(this,y,b),y,b,"mouse");V&&(A4(y.view).on("mousemove.drag",m,S5).on("mouseup.drag",x,S5),Ga(y.view),el(y),s=!1,l=y.clientX,c=y.clientY,V("start",y))}}function m(y){if(ye(y),!s){var b=y.clientX-l,V=y.clientY-c;s=b*b+V*V>u}o.mouse("drag",y)}function x(y){A4(y.view).on("mousemove.drag mouseup.drag",null),ja(y.view,s),ye(y),o.mouse("end",y)}function L(y,b){if(t.call(this,y,b)){var V=y.changedTouches,H=e.call(this,y,b),D=V.length,A,E;for(A=0;A<D;++A)(E=v(this,H,y,b,V[A].identifier,V[A]))&&(el(y),E("start",y,V[A]))}}function g(y){var b=y.changedTouches,V=b.length,H,D;for(H=0;H<V;++H)(D=o[b[H].identifier])&&(ye(y),D("drag",y,b[H]))}function C(y){var b=y.changedTouches,V=b.length,H,D;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),H=0;H<V;++H)(D=o[b[H].identifier])&&(el(y),D("end",y,b[H]))}function v(y,b,V,H,D,A){var E=n.copy(),O=d3(A||V,b),_,N,w;if((w=a.call(y,new Ya("beforestart",{sourceEvent:V,target:f,identifier:D,active:i,x:O[0],y:O[1],dx:0,dy:0,dispatch:E}),H))!=null)return _=w.x-O[0]||0,N=w.y-O[1]||0,function M(z,k,T){var S=O,R;switch(z){case"start":o[D]=M,R=i++;break;case"end":delete o[D],--i;case"drag":O=d3(T||k,b),R=i;break}E.call(z,y,new Ya(z,{sourceEvent:k,subject:w,target:f,identifier:D,active:R,x:O[0]+_,y:O[1]+N,dx:O[0]-S[0],dy:O[1]-S[1],dispatch:E}),H)}}return f.filter=function(y){return arguments.length?(t=typeof y=="function"?y:Wa(!!y),f):t},f.container=function(y){return arguments.length?(e=typeof y=="function"?y:Wa(y),f):e},f.subject=function(y){return arguments.length?(a=typeof y=="function"?y:Wa(y),f):a},f.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:Wa(!!y),f):r},f.on=function(){var y=n.on.apply(n,arguments);return y===n?f:y},f.clickDistance=function(y){return arguments.length?(u=(y=+y)*y,f):Math.sqrt(u)},f}function rl(t,e,a){t.prototype=e.prototype=a,a.constructor=t}function Af(t,e){var a=Object.create(t.prototype);for(var r in e)a[r]=e[r];return a}function Qa(){}var Xa=.7,il=1/Xa,p7="\\s*([+-]?\\d+)\\s*",Ka="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",x0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kF=/^#([0-9a-f]{3,8})$/,VF=new RegExp(`^rgb\\(${p7},${p7},${p7}\\)$`),TF=new RegExp(`^rgb\\(${x0},${x0},${x0}\\)$`),BF=new RegExp(`^rgba\\(${p7},${p7},${p7},${Ka}\\)$`),IF=new RegExp(`^rgba\\(${x0},${x0},${x0},${Ka}\\)$`),FF=new RegExp(`^hsl\\(${Ka},${x0},${x0}\\)$`),AF=new RegExp(`^hsla\\(${Ka},${x0},${x0},${Ka}\\)$`),ow={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rl(Qa,Gt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:nw,formatHex:nw,formatHex8:DF,formatHsl:RF,formatRgb:iw,toString:iw});function nw(){return this.rgb().formatHex()}function DF(){return this.rgb().formatHex8()}function RF(){return fw(this).formatHsl()}function iw(){return this.rgb().formatRgb()}function Gt(t){var e,a;return t=(t+"").trim().toLowerCase(),(e=kF.exec(t))?(a=e[1].length,e=parseInt(e[1],16),a===6?lw(e):a===3?new T3(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):a===8?ol(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):a===4?ol(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=VF.exec(t))?new T3(e[1],e[2],e[3],1):(e=TF.exec(t))?new T3(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=BF.exec(t))?ol(e[1],e[2],e[3],e[4]):(e=IF.exec(t))?ol(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=FF.exec(t))?dw(e[1],e[2]/100,e[3]/100,1):(e=AF.exec(t))?dw(e[1],e[2]/100,e[3]/100,e[4]):ow.hasOwnProperty(t)?lw(ow[t]):t==="transparent"?new T3(NaN,NaN,NaN,0):null}function lw(t){return new T3(t>>16&255,t>>8&255,t&255,1)}function ol(t,e,a,r){return r<=0&&(t=e=a=NaN),new T3(t,e,a,r)}function EF(t){return t instanceof Qa||(t=Gt(t)),t?(t=t.rgb(),new T3(t.r,t.g,t.b,t.opacity)):new T3}function g7(t,e,a,r){return arguments.length===1?EF(t):new T3(t,e,a,r==null?1:r)}function T3(t,e,a,r){this.r=+t,this.g=+e,this.b=+a,this.opacity=+r}rl(T3,g7,Af(Qa,{brighter(t){return t=t==null?il:Math.pow(il,t),new T3(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xa:Math.pow(Xa,t),new T3(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new T3(k5(this.r),k5(this.g),k5(this.b),ll(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cw,formatHex:cw,formatHex8:NF,formatRgb:sw,toString:sw}));function cw(){return`#${H5(this.r)}${H5(this.g)}${H5(this.b)}`}function NF(){return`#${H5(this.r)}${H5(this.g)}${H5(this.b)}${H5((isNaN(this.opacity)?1:this.opacity)*255)}`}function sw(){let t=ll(this.opacity);return`${t===1?"rgb(":"rgba("}${k5(this.r)}, ${k5(this.g)}, ${k5(this.b)}${t===1?")":`, ${t})`}`}function ll(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function k5(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function H5(t){return t=k5(t),(t<16?"0":"")+t.toString(16)}function dw(t,e,a,r){return r<=0?t=e=a=NaN:a<=0||a>=1?t=e=NaN:e<=0&&(t=NaN),new $t(t,e,a,r)}function fw(t){if(t instanceof $t)return new $t(t.h,t.s,t.l,t.opacity);if(t instanceof Qa||(t=Gt(t)),!t)return new $t;if(t instanceof $t)return t;t=t.rgb();var e=t.r/255,a=t.g/255,r=t.b/255,o=Math.min(e,a,r),n=Math.max(e,a,r),i=NaN,l=n-o,c=(n+o)/2;return l?(e===n?i=(a-r)/l+(a<r)*6:a===n?i=(r-e)/l+2:i=(e-a)/l+4,l/=c<.5?n+o:2-n-o,i*=60):l=c>0&&c<1?0:i,new $t(i,l,c,t.opacity)}function hw(t,e,a,r){return arguments.length===1?fw(t):new $t(t,e,a,r==null?1:r)}function $t(t,e,a,r){this.h=+t,this.s=+e,this.l=+a,this.opacity=+r}rl($t,hw,Af(Qa,{brighter(t){return t=t==null?il:Math.pow(il,t),new $t(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xa:Math.pow(Xa,t),new $t(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,a=this.l,r=a+(a<.5?a:1-a)*e,o=2*a-r;return new T3(Df(t>=240?t-240:t+120,o,r),Df(t,o,r),Df(t<120?t+240:t-120,o,r),this.opacity)},clamp(){return new $t(uw(this.h),nl(this.s),nl(this.l),ll(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=ll(this.opacity);return`${t===1?"hsl(":"hsla("}${uw(this.h)}, ${nl(this.s)*100}%, ${nl(this.l)*100}%${t===1?")":`, ${t})`}`}}));function uw(t){return t=(t||0)%360,t<0?t+360:t}function nl(t){return Math.max(0,Math.min(1,t||0))}function Df(t,e,a){return(t<60?e+(a-e)*t/60:t<180?a:t<240?e+(a-e)*(240-t)/60:e)*255}function Rf(t,e,a,r,o){var n=t*t,i=n*t;return((1-3*t+3*n-i)*e+(4-6*n+3*i)*a+(1+3*t+3*n-3*i)*r+i*o)/6}function pw(t){var e=t.length-1;return function(a){var r=a<=0?a=0:a>=1?(a=1,e-1):Math.floor(a*e),o=t[r],n=t[r+1],i=r>0?t[r-1]:2*o-n,l=r<e-1?t[r+2]:2*n-o;return Rf((a-r/e)*e,i,o,n,l)}}function gw(t){var e=t.length;return function(a){var r=Math.floor(((a%=1)<0?++a:a)*e),o=t[(r+e-1)%e],n=t[r%e],i=t[(r+1)%e],l=t[(r+2)%e];return Rf((a-r/e)*e,o,n,i,l)}}var Ja=t=>()=>t;function PF(t,e){return function(a){return t+a*e}}function OF(t,e,a){return t=Math.pow(t,a),e=Math.pow(e,a)-t,a=1/a,function(r){return Math.pow(t+r*e,a)}}function mw(t){return(t=+t)==1?cl:function(e,a){return a-e?OF(e,a,t):Ja(isNaN(e)?a:e)}}function cl(t,e){var a=e-t;return a?PF(t,a):Ja(isNaN(t)?e:t)}var V5=function t(e){var a=mw(e);function r(o,n){var i=a((o=g7(o)).r,(n=g7(n)).r),l=a(o.g,n.g),c=a(o.b,n.b),s=cl(o.opacity,n.opacity);return function(d){return o.r=i(d),o.g=l(d),o.b=c(d),o.opacity=s(d),o+""}}return r.gamma=t,r}(1);function vw(t){return function(e){var a=e.length,r=new Array(a),o=new Array(a),n=new Array(a),i,l;for(i=0;i<a;++i)l=g7(e[i]),r[i]=l.r||0,o[i]=l.g||0,n[i]=l.b||0;return r=t(r),o=t(o),n=t(n),l.opacity=1,function(c){return l.r=r(c),l.g=o(c),l.b=n(c),l+""}}}var ZF=vw(pw),_F=vw(gw);function Cw(t,e){e||(e=[]);var a=t?Math.min(e.length,t.length):0,r=e.slice(),o;return function(n){for(o=0;o<a;++o)r[o]=t[o]*(1-n)+e[o]*n;return r}}function xw(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Lw(t,e){var a=e?e.length:0,r=t?Math.min(a,t.length):0,o=new Array(r),n=new Array(a),i;for(i=0;i<r;++i)o[i]=c6(t[i],e[i]);for(;i<a;++i)n[i]=e[i];return function(l){for(i=0;i<r;++i)n[i]=o[i](l);return n}}function yw(t,e){var a=new Date;return t=+t,e=+e,function(r){return a.setTime(t*(1-r)+e*r),a}}function u3(t,e){return t=+t,e=+e,function(a){return t*(1-a)+e*a}}function Mw(t,e){var a={},r={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?a[o]=c6(t[o],e[o]):r[o]=e[o];return function(n){for(o in a)r[o]=a[o](n);return r}}var Nf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ef=new RegExp(Nf.source,"g");function UF(t){return function(){return t}}function qF(t){return function(e){return t(e)+""}}function tr(t,e){var a=Nf.lastIndex=Ef.lastIndex=0,r,o,n,i=-1,l=[],c=[];for(t=t+"",e=e+"";(r=Nf.exec(t))&&(o=Ef.exec(e));)(n=o.index)>a&&(n=e.slice(a,n),l[i]?l[i]+=n:l[++i]=n),(r=r[0])===(o=o[0])?l[i]?l[i]+=o:l[++i]=o:(l[++i]=null,c.push({i,x:u3(r,o)})),a=Ef.lastIndex;return a<e.length&&(n=e.slice(a),l[i]?l[i]+=n:l[++i]=n),l.length<2?c[0]?qF(c[0].x):UF(e):(e=c.length,function(s){for(var d=0,u;d<e;++d)l[(u=c[d]).i]=u.x(s);return l.join("")})}function c6(t,e){var a=typeof e,r;return e==null||a==="boolean"?Ja(e):(a==="number"?u3:a==="string"?(r=Gt(e))?(e=r,V5):tr:e instanceof Gt?V5:e instanceof Date?yw:xw(e)?Cw:Array.isArray(e)?Lw:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Mw:u3)(t,e)}var ww=180/Math.PI,sl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Pf(t,e,a,r,o,n){var i,l,c;return(i=Math.sqrt(t*t+e*e))&&(t/=i,e/=i),(c=t*a+e*r)&&(a-=t*c,r-=e*c),(l=Math.sqrt(a*a+r*r))&&(a/=l,r/=l,c/=l),t*r<e*a&&(t=-t,e=-e,c=-c,i=-i),{translateX:o,translateY:n,rotate:Math.atan2(e,t)*ww,skewX:Math.atan(c)*ww,scaleX:i,scaleY:l}}var dl;function zw(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?sl:Pf(e.a,e.b,e.c,e.d,e.e,e.f)}function bw(t){return t==null?sl:(dl||(dl=document.createElementNS("http://www.w3.org/2000/svg","g")),dl.setAttribute("transform",t),(t=dl.transform.baseVal.consolidate())?(t=t.matrix,Pf(t.a,t.b,t.c,t.d,t.e,t.f)):sl)}function Sw(t,e,a,r){function o(s){return s.length?s.pop()+" ":""}function n(s,d,u,f,h,m){if(s!==u||d!==f){var x=h.push("translate(",null,e,null,a);m.push({i:x-4,x:u3(s,u)},{i:x-2,x:u3(d,f)})}else(u||f)&&h.push("translate("+u+e+f+a)}function i(s,d,u,f){s!==d?(s-d>180?d+=360:d-s>180&&(s+=360),f.push({i:u.push(o(u)+"rotate(",null,r)-2,x:u3(s,d)})):d&&u.push(o(u)+"rotate("+d+r)}function l(s,d,u,f){s!==d?f.push({i:u.push(o(u)+"skewX(",null,r)-2,x:u3(s,d)}):d&&u.push(o(u)+"skewX("+d+r)}function c(s,d,u,f,h,m){if(s!==u||d!==f){var x=h.push(o(h)+"scale(",null,",",null,")");m.push({i:x-4,x:u3(s,u)},{i:x-2,x:u3(d,f)})}else(u!==1||f!==1)&&h.push(o(h)+"scale("+u+","+f+")")}return function(s,d){var u=[],f=[];return s=t(s),d=t(d),n(s.translateX,s.translateY,d.translateX,d.translateY,u,f),i(s.rotate,d.rotate,u,f),l(s.skewX,d.skewX,u,f),c(s.scaleX,s.scaleY,d.scaleX,d.scaleY,u,f),s=d=null,function(h){for(var m=-1,x=f.length,L;++m<x;)u[(L=f[m]).i]=L.x(h);return u.join("")}}}var Of=Sw(zw,"px, ","px)","deg)"),Zf=Sw(bw,", ",")",")");var $F=1e-12;function Hw(t){return((t=Math.exp(t))+1/t)/2}function GF(t){return((t=Math.exp(t))-1/t)/2}function jF(t){return((t=Math.exp(2*t))-1)/(t+1)}var T5=function t(e,a,r){function o(n,i){var l=n[0],c=n[1],s=n[2],d=i[0],u=i[1],f=i[2],h=d-l,m=u-c,x=h*h+m*m,L,g;if(x<$F)g=Math.log(f/s)/e,L=function(H){return[l+H*h,c+H*m,s*Math.exp(e*H*g)]};else{var C=Math.sqrt(x),v=(f*f-s*s+r*x)/(2*s*a*C),y=(f*f-s*s-r*x)/(2*f*a*C),b=Math.log(Math.sqrt(v*v+1)-v),V=Math.log(Math.sqrt(y*y+1)-y);g=(V-b)/e,L=function(H){var D=H*g,A=Hw(b),E=s/(a*C)*(A*jF(e*D+b)-GF(b));return[l+E*h,c+E*m,s*A/Hw(e*D+b)]}}return L.duration=g*1e3*e/Math.SQRT2,L}return o.rho=function(n){var i=Math.max(.001,+n),l=i*i,c=l*l;return t(i,l,c)},o}(Math.SQRT2,2,4);var m7=0,ar=0,er=0,Vw=1e3,ul,rr,fl=0,B5=0,hl=0,or=typeof performance=="object"&&performance.now?performance:Date,Tw=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ir(){return B5||(Tw(WF),B5=or.now()+hl)}function WF(){B5=0}function nr(){this._call=this._time=this._next=null}nr.prototype=pl.prototype={constructor:nr,restart:function(t,e,a){if(typeof t!="function")throw new TypeError("callback is not a function");a=(a==null?ir():+a)+(e==null?0:+e),!this._next&&rr!==this&&(rr?rr._next=this:ul=this,rr=this),this._call=t,this._time=a,_f()},stop:function(){this._call&&(this._call=null,this._time=1/0,_f())}};function pl(t,e,a){var r=new nr;return r.restart(t,e,a),r}function Bw(){ir(),++m7;for(var t=ul,e;t;)(e=B5-t._time)>=0&&t._call.call(void 0,e),t=t._next;--m7}function kw(){B5=(fl=or.now())+hl,m7=ar=0;try{Bw()}finally{m7=0,XF(),B5=0}}function YF(){var t=or.now(),e=t-fl;e>Vw&&(hl-=e,fl=t)}function XF(){for(var t,e=ul,a,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(a=e._next,e._next=null,e=t?t._next=a:ul=a);rr=t,_f(r)}function _f(t){if(!m7){ar&&(ar=clearTimeout(ar));var e=t-B5;e>24?(t<1/0&&(ar=setTimeout(kw,t-or.now()-hl)),er&&(er=clearInterval(er))):(er||(fl=or.now(),er=setInterval(YF,Vw)),m7=1,Tw(kw))}}function gl(t,e,a){var r=new nr;return e=e==null?0:+e,r.restart(o=>{r.stop(),t(o+e)},e,a),r}var KF=z5("start","end","cancel","interrupt"),QF=[],Aw=0,Iw=1,vl=2,ml=3,Fw=4,Cl=5,lr=6;function Me(t,e,a,r,o,n){var i=t.__transition;if(!i)t.__transition={};else if(a in i)return;JF(t,a,{name:e,index:r,group:o,on:KF,tween:QF,time:n.time,delay:n.delay,duration:n.duration,ease:n.ease,timer:null,state:Aw})}function cr(t,e){var a=b4(t,e);if(a.state>Aw)throw new Error("too late; already scheduled");return a}function G4(t,e){var a=b4(t,e);if(a.state>ml)throw new Error("too late; already running");return a}function b4(t,e){var a=t.__transition;if(!a||!(a=a[e]))throw new Error("transition not found");return a}function JF(t,e,a){var r=t.__transition,o;r[e]=a,a.timer=pl(n,0,a.time);function n(s){a.state=Iw,a.timer.restart(i,a.delay,a.time),a.delay<=s&&i(s-a.delay)}function i(s){var d,u,f,h;if(a.state!==Iw)return c();for(d in r)if(h=r[d],h.name===a.name){if(h.state===ml)return gl(i);h.state===Fw?(h.state=lr,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[d]):+d<e&&(h.state=lr,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[d])}if(gl(function(){a.state===ml&&(a.state=Fw,a.timer.restart(l,a.delay,a.time),l(s))}),a.state=vl,a.on.call("start",t,t.__data__,a.index,a.group),a.state===vl){for(a.state=ml,o=new Array(f=a.tween.length),d=0,u=-1;d<f;++d)(h=a.tween[d].value.call(t,t.__data__,a.index,a.group))&&(o[++u]=h);o.length=u+1}}function l(s){for(var d=s<a.duration?a.ease.call(null,s/a.duration):(a.timer.restart(c),a.state=Cl,1),u=-1,f=o.length;++u<f;)o[u].call(t,d);a.state===Cl&&(a.on.call("end",t,t.__data__,a.index,a.group),c())}function c(){a.state=lr,a.timer.stop(),delete r[e];for(var s in r)return;delete t.__transition}}function I5(t,e){var a=t.__transition,r,o,n=!0,i;if(a){e=e==null?null:e+"";for(i in a){if((r=a[i]).name!==e){n=!1;continue}o=r.state>vl&&r.state<Cl,r.state=lr,r.timer.stop(),r.on.call(o?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete a[i]}n&&delete t.__transition}}function Dw(t){return this.each(function(){I5(this,t)})}function tA(t,e){var a,r;return function(){var o=G4(this,t),n=o.tween;if(n!==a){r=a=n;for(var i=0,l=r.length;i<l;++i)if(r[i].name===e){r=r.slice(),r.splice(i,1);break}}o.tween=r}}function eA(t,e,a){var r,o;if(typeof a!="function")throw new Error;return function(){var n=G4(this,t),i=n.tween;if(i!==r){o=(r=i).slice();for(var l={name:e,value:a},c=0,s=o.length;c<s;++c)if(o[c].name===e){o[c]=l;break}c===s&&o.push(l)}n.tween=o}}function Rw(t,e){var a=this._id;if(t+="",arguments.length<2){for(var r=b4(this.node(),a).tween,o=0,n=r.length,i;o<n;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((e==null?tA:eA)(a,t,e))}function v7(t,e,a){var r=t._id;return t.each(function(){var o=G4(this,r);(o.value||(o.value={}))[e]=a.apply(this,arguments)}),function(o){return b4(o,r).value[e]}}function xl(t,e){var a;return(typeof e=="number"?u3:e instanceof Gt?V5:(a=Gt(e))?(e=a,V5):tr)(t,e)}function aA(t){return function(){this.removeAttribute(t)}}function rA(t){return function(){this.removeAttributeNS(t.space,t.local)}}function oA(t,e,a){var r,o=a+"",n;return function(){var i=this.getAttribute(t);return i===o?null:i===r?n:n=e(r=i,a)}}function nA(t,e,a){var r,o=a+"",n;return function(){var i=this.getAttributeNS(t.space,t.local);return i===o?null:i===r?n:n=e(r=i,a)}}function iA(t,e,a){var r,o,n;return function(){var i,l=a(this),c;return l==null?void this.removeAttribute(t):(i=this.getAttribute(t),c=l+"",i===c?null:i===r&&c===o?n:(o=c,n=e(r=i,l)))}}function lA(t,e,a){var r,o,n;return function(){var i,l=a(this),c;return l==null?void this.removeAttributeNS(t.space,t.local):(i=this.getAttributeNS(t.space,t.local),c=l+"",i===c?null:i===r&&c===o?n:(o=c,n=e(r=i,l)))}}function Ew(t,e){var a=i6(t),r=a==="transform"?Zf:xl;return this.attrTween(t,typeof e=="function"?(a.local?lA:iA)(a,r,v7(this,"attr."+t,e)):e==null?(a.local?rA:aA)(a):(a.local?nA:oA)(a,r,e))}function cA(t,e){return function(a){this.setAttribute(t,e.call(this,a))}}function sA(t,e){return function(a){this.setAttributeNS(t.space,t.local,e.call(this,a))}}function dA(t,e){var a,r;function o(){var n=e.apply(this,arguments);return n!==r&&(a=(r=n)&&sA(t,n)),a}return o._value=e,o}function uA(t,e){var a,r;function o(){var n=e.apply(this,arguments);return n!==r&&(a=(r=n)&&cA(t,n)),a}return o._value=e,o}function Nw(t,e){var a="attr."+t;if(arguments.length<2)return(a=this.tween(a))&&a._value;if(e==null)return this.tween(a,null);if(typeof e!="function")throw new Error;var r=i6(t);return this.tween(a,(r.local?dA:uA)(r,e))}function fA(t,e){return function(){cr(this,t).delay=+e.apply(this,arguments)}}function hA(t,e){return e=+e,function(){cr(this,t).delay=e}}function Pw(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?fA:hA)(e,t)):b4(this.node(),e).delay}function pA(t,e){return function(){G4(this,t).duration=+e.apply(this,arguments)}}function gA(t,e){return e=+e,function(){G4(this,t).duration=e}}function Ow(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?pA:gA)(e,t)):b4(this.node(),e).duration}function mA(t,e){if(typeof e!="function")throw new Error;return function(){G4(this,t).ease=e}}function Zw(t){var e=this._id;return arguments.length?this.each(mA(e,t)):b4(this.node(),e).ease}function vA(t,e){return function(){var a=e.apply(this,arguments);if(typeof a!="function")throw new Error;G4(this,t).ease=a}}function _w(t){if(typeof t!="function")throw new Error;return this.each(vA(this._id,t))}function Uw(t){typeof t!="function"&&(t=qa(t));for(var e=this._groups,a=e.length,r=new Array(a),o=0;o<a;++o)for(var n=e[o],i=n.length,l=r[o]=[],c,s=0;s<i;++s)(c=n[s])&&t.call(c,c.__data__,s,n)&&l.push(c);return new f3(r,this._parents,this._name,this._id)}function qw(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,a=t._groups,r=e.length,o=a.length,n=Math.min(r,o),i=new Array(r),l=0;l<n;++l)for(var c=e[l],s=a[l],d=c.length,u=i[l]=new Array(d),f,h=0;h<d;++h)(f=c[h]||s[h])&&(u[h]=f);for(;l<r;++l)i[l]=e[l];return new f3(i,this._parents,this._name,this._id)}function CA(t){return(t+"").trim().split(/^|\s+/).every(function(e){var a=e.indexOf(".");return a>=0&&(e=e.slice(0,a)),!e||e==="start"})}function xA(t,e,a){var r,o,n=CA(e)?cr:G4;return function(){var i=n(this,t),l=i.on;l!==r&&(o=(r=l).copy()).on(e,a),i.on=o}}function $w(t,e){var a=this._id;return arguments.length<2?b4(this.node(),a).on.on(t):this.each(xA(a,t,e))}function LA(t){return function(){var e=this.parentNode;for(var a in this.__transition)if(+a!==t)return;e&&e.removeChild(this)}}function Gw(){return this.on("end.remove",LA(this._id))}function jw(t){var e=this._name,a=this._id;typeof t!="function"&&(t=b5(t));for(var r=this._groups,o=r.length,n=new Array(o),i=0;i<o;++i)for(var l=r[i],c=l.length,s=n[i]=new Array(c),d,u,f=0;f<c;++f)(d=l[f])&&(u=t.call(d,d.__data__,f,l))&&("__data__"in d&&(u.__data__=d.__data__),s[f]=u,Me(s[f],e,a,f,s,b4(d,a)));return new f3(n,this._parents,e,a)}function Ww(t){var e=this._name,a=this._id;typeof t!="function"&&(t=Ua(t));for(var r=this._groups,o=r.length,n=[],i=[],l=0;l<o;++l)for(var c=r[l],s=c.length,d,u=0;u<s;++u)if(d=c[u]){for(var f=t.call(d,d.__data__,u,c),h,m=b4(d,a),x=0,L=f.length;x<L;++x)(h=f[x])&&Me(h,e,a,x,f,m);n.push(f),i.push(d)}return new f3(n,i,e,a)}var yA=l6.prototype.constructor;function Yw(){return new yA(this._groups,this._parents)}function MA(t,e){var a,r,o;return function(){var n=Le(this,t),i=(this.style.removeProperty(t),Le(this,t));return n===i?null:n===a&&i===r?o:o=e(a=n,r=i)}}function Xw(t){return function(){this.style.removeProperty(t)}}function wA(t,e,a){var r,o=a+"",n;return function(){var i=Le(this,t);return i===o?null:i===r?n:n=e(r=i,a)}}function zA(t,e,a){var r,o,n;return function(){var i=Le(this,t),l=a(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(t),Le(this,t))),i===c?null:i===r&&c===o?n:(o=c,n=e(r=i,l))}}function bA(t,e){var a,r,o,n="style."+e,i="end."+n,l;return function(){var c=G4(this,t),s=c.on,d=c.value[n]==null?l||(l=Xw(e)):void 0;(s!==a||o!==d)&&(r=(a=s).copy()).on(i,o=d),c.on=r}}function Kw(t,e,a){var r=(t+="")=="transform"?Of:xl;return e==null?this.styleTween(t,MA(t,r)).on("end.style."+t,Xw(t)):typeof e=="function"?this.styleTween(t,zA(t,r,v7(this,"style."+t,e))).each(bA(this._id,t)):this.styleTween(t,wA(t,r,e),a).on("end.style."+t,null)}function SA(t,e,a){return function(r){this.style.setProperty(t,e.call(this,r),a)}}function HA(t,e,a){var r,o;function n(){var i=e.apply(this,arguments);return i!==o&&(r=(o=i)&&SA(t,i,a)),r}return n._value=e,n}function Qw(t,e,a){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,HA(t,e,a==null?"":a))}function kA(t){return function(){this.textContent=t}}function VA(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function Jw(t){return this.tween("text",typeof t=="function"?VA(v7(this,"text",t)):kA(t==null?"":t+""))}function TA(t){return function(e){this.textContent=t.call(this,e)}}function BA(t){var e,a;function r(){var o=t.apply(this,arguments);return o!==a&&(e=(a=o)&&TA(o)),e}return r._value=t,r}function tz(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,BA(t))}function ez(){for(var t=this._name,e=this._id,a=Ll(),r=this._groups,o=r.length,n=0;n<o;++n)for(var i=r[n],l=i.length,c,s=0;s<l;++s)if(c=i[s]){var d=b4(c,e);Me(c,t,a,s,i,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new f3(r,this._parents,t,a)}function az(){var t,e,a=this,r=a._id,o=a.size();return new Promise(function(n,i){var l={value:i},c={value:function(){--o===0&&n()}};a.each(function(){var s=G4(this,r),d=s.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),s.on=e}),o===0&&n()})}var IA=0;function f3(t,e,a,r){this._groups=t,this._parents=e,this._name=a,this._id=r}function rz(t){return l6().transition(t)}function Ll(){return++IA}var s6=l6.prototype;f3.prototype=rz.prototype={constructor:f3,select:jw,selectAll:Ww,selectChild:s6.selectChild,selectChildren:s6.selectChildren,filter:Uw,merge:qw,selection:Yw,transition:ez,call:s6.call,nodes:s6.nodes,node:s6.node,size:s6.size,empty:s6.empty,each:s6.each,on:$w,attr:Ew,attrTween:Nw,style:Kw,styleTween:Qw,text:Jw,textTween:tz,remove:Gw,tween:Rw,delay:Pw,duration:Ow,ease:Zw,easeVarying:_w,end:az,[Symbol.iterator]:s6[Symbol.iterator]};function yl(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var FA={time:null,delay:0,duration:250,ease:yl};function AA(t,e){for(var a;!(a=t.__transition)||!(a=a[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return a}function oz(t){var e,a;t instanceof f3?(e=t._id,t=t._name):(e=Ll(),(a=FA).time=ir(),t=t==null?null:t+"");for(var r=this._groups,o=r.length,n=0;n<o;++n)for(var i=r[n],l=i.length,c,s=0;s<l;++s)(c=i[s])&&Me(c,t,e,s,i,a||AA(c,e));return new f3(r,this._parents,t,e)}l6.prototype.interrupt=Dw;l6.prototype.transition=oz;var sr=t=>()=>t;function Uf(t,{sourceEvent:e,target:a,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function jt(t,e,a){this.k=t,this.x=e,this.y=a}jt.prototype={constructor:jt,scale:function(t){return t===1?this:new jt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new jt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var F5=new jt(1,0,0);dr.prototype=jt.prototype;function dr(t){for(;!t.__zoom;)if(!(t=t.parentNode))return F5;return t.__zoom}function Ml(t){t.stopImmediatePropagation()}function C7(t){t.preventDefault(),t.stopImmediatePropagation()}function DA(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function RA(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function nz(){return this.__zoom||F5}function EA(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function NA(){return navigator.maxTouchPoints||"ontouchstart"in this}function PA(t,e,a){var r=t.invertX(e[0][0])-a[0][0],o=t.invertX(e[1][0])-a[1][0],n=t.invertY(e[0][1])-a[0][1],i=t.invertY(e[1][1])-a[1][1];return t.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i))}function wl(){var t=DA,e=RA,a=PA,r=EA,o=NA,n=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],l=250,c=T5,s=z5("start","zoom","end"),d,u,f,h=500,m=150,x=0,L=10;function g(w){w.property("__zoom",nz).on("wheel.zoom",D,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",E).filter(o).on("touchstart.zoom",O).on("touchmove.zoom",_).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(w,M,z,k){var T=w.selection?w.selection():w;T.property("__zoom",nz),w!==T?b(w,M,z,k):T.interrupt().each(function(){V(this,arguments).event(k).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},g.scaleBy=function(w,M,z,k){g.scaleTo(w,function(){var T=this.__zoom.k,S=typeof M=="function"?M.apply(this,arguments):M;return T*S},z,k)},g.scaleTo=function(w,M,z,k){g.transform(w,function(){var T=e.apply(this,arguments),S=this.__zoom,R=z==null?y(T):typeof z=="function"?z.apply(this,arguments):z,Z=S.invert(R),P=typeof M=="function"?M.apply(this,arguments):M;return a(v(C(S,P),R,Z),T,i)},z,k)},g.translateBy=function(w,M,z,k){g.transform(w,function(){return a(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof z=="function"?z.apply(this,arguments):z),e.apply(this,arguments),i)},null,k)},g.translateTo=function(w,M,z,k,T){g.transform(w,function(){var S=e.apply(this,arguments),R=this.__zoom,Z=k==null?y(S):typeof k=="function"?k.apply(this,arguments):k;return a(F5.translate(Z[0],Z[1]).scale(R.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof z=="function"?-z.apply(this,arguments):-z),S,i)},k,T)};function C(w,M){return M=Math.max(n[0],Math.min(n[1],M)),M===w.k?w:new jt(M,w.x,w.y)}function v(w,M,z){var k=M[0]-z[0]*w.k,T=M[1]-z[1]*w.k;return k===w.x&&T===w.y?w:new jt(w.k,k,T)}function y(w){return[(+w[0][0]+ +w[1][0])/2,(+w[0][1]+ +w[1][1])/2]}function b(w,M,z,k){w.on("start.zoom",function(){V(this,arguments).event(k).start()}).on("interrupt.zoom end.zoom",function(){V(this,arguments).event(k).end()}).tween("zoom",function(){var T=this,S=arguments,R=V(T,S).event(k),Z=e.apply(T,S),P=z==null?y(Z):typeof z=="function"?z.apply(T,S):z,B=Math.max(Z[1][0]-Z[0][0],Z[1][1]-Z[0][1]),I=T.__zoom,F=typeof M=="function"?M.apply(T,S):M,q=c(I.invert(P).concat(B/I.k),F.invert(P).concat(B/F.k));return function(G){if(G===1)G=F;else{var Y=q(G),J=B/Y[2];G=new jt(J,P[0]-Y[0]*J,P[1]-Y[1]*J)}R.zoom(null,G)}})}function V(w,M,z){return!z&&w.__zooming||new H(w,M)}function H(w,M){this.that=w,this.args=M,this.active=0,this.sourceEvent=null,this.extent=e.apply(w,M),this.taps=0}H.prototype={event:function(w){return w&&(this.sourceEvent=w),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(w,M){return this.mouse&&w!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&w!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&w!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(w){var M=A4(this.that).datum();s.call(w,this.that,new Uf(w,{sourceEvent:this.sourceEvent,target:g,type:w,transform:this.that.__zoom,dispatch:s}),M)}};function D(w,...M){if(!t.apply(this,arguments))return;var z=V(this,M).event(w),k=this.__zoom,T=Math.max(n[0],Math.min(n[1],k.k*Math.pow(2,r.apply(this,arguments)))),S=d3(w);if(z.wheel)(z.mouse[0][0]!==S[0]||z.mouse[0][1]!==S[1])&&(z.mouse[1]=k.invert(z.mouse[0]=S)),clearTimeout(z.wheel);else{if(k.k===T)return;z.mouse=[S,k.invert(S)],I5(this),z.start()}C7(w),z.wheel=setTimeout(R,m),z.zoom("mouse",a(v(C(k,T),z.mouse[0],z.mouse[1]),z.extent,i));function R(){z.wheel=null,z.end()}}function A(w,...M){if(f||!t.apply(this,arguments))return;var z=w.currentTarget,k=V(this,M,!0).event(w),T=A4(w.view).on("mousemove.zoom",P,!0).on("mouseup.zoom",B,!0),S=d3(w,z),R=w.clientX,Z=w.clientY;Ga(w.view),Ml(w),k.mouse=[S,this.__zoom.invert(S)],I5(this),k.start();function P(I){if(C7(I),!k.moved){var F=I.clientX-R,q=I.clientY-Z;k.moved=F*F+q*q>x}k.event(I).zoom("mouse",a(v(k.that.__zoom,k.mouse[0]=d3(I,z),k.mouse[1]),k.extent,i))}function B(I){T.on("mousemove.zoom mouseup.zoom",null),ja(I.view,k.moved),C7(I),k.event(I).end()}}function E(w,...M){if(t.apply(this,arguments)){var z=this.__zoom,k=d3(w.changedTouches?w.changedTouches[0]:w,this),T=z.invert(k),S=z.k*(w.shiftKey?.5:2),R=a(v(C(z,S),k,T),e.apply(this,M),i);C7(w),l>0?A4(this).transition().duration(l).call(b,R,k,w):A4(this).call(g.transform,R,k,w)}}function O(w,...M){if(t.apply(this,arguments)){var z=w.touches,k=z.length,T=V(this,M,w.changedTouches.length===k).event(w),S,R,Z,P;for(Ml(w),R=0;R<k;++R)Z=z[R],P=d3(Z,this),P=[P,this.__zoom.invert(P),Z.identifier],T.touch0?!T.touch1&&T.touch0[2]!==P[2]&&(T.touch1=P,T.taps=0):(T.touch0=P,S=!0,T.taps=1+!!d);d&&(d=clearTimeout(d)),S&&(T.taps<2&&(u=P[0],d=setTimeout(function(){d=null},h)),I5(this),T.start())}}function _(w,...M){if(this.__zooming){var z=V(this,M).event(w),k=w.changedTouches,T=k.length,S,R,Z,P;for(C7(w),S=0;S<T;++S)R=k[S],Z=d3(R,this),z.touch0&&z.touch0[2]===R.identifier?z.touch0[0]=Z:z.touch1&&z.touch1[2]===R.identifier&&(z.touch1[0]=Z);if(R=z.that.__zoom,z.touch1){var B=z.touch0[0],I=z.touch0[1],F=z.touch1[0],q=z.touch1[1],G=(G=F[0]-B[0])*G+(G=F[1]-B[1])*G,Y=(Y=q[0]-I[0])*Y+(Y=q[1]-I[1])*Y;R=C(R,Math.sqrt(G/Y)),Z=[(B[0]+F[0])/2,(B[1]+F[1])/2],P=[(I[0]+q[0])/2,(I[1]+q[1])/2]}else if(z.touch0)Z=z.touch0[0],P=z.touch0[1];else return;z.zoom("touch",a(v(R,Z,P),z.extent,i))}}function N(w,...M){if(this.__zooming){var z=V(this,M).event(w),k=w.changedTouches,T=k.length,S,R;for(Ml(w),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),S=0;S<T;++S)R=k[S],z.touch0&&z.touch0[2]===R.identifier?delete z.touch0:z.touch1&&z.touch1[2]===R.identifier&&delete z.touch1;if(z.touch1&&!z.touch0&&(z.touch0=z.touch1,delete z.touch1),z.touch0)z.touch0[1]=this.__zoom.invert(z.touch0[0]);else if(z.end(),z.taps===2&&(R=d3(R,this),Math.hypot(u[0]-R[0],u[1]-R[1])<L)){var Z=A4(this).on("dblclick.zoom");Z&&Z.apply(this,arguments)}}}return g.wheelDelta=function(w){return arguments.length?(r=typeof w=="function"?w:sr(+w),g):r},g.filter=function(w){return arguments.length?(t=typeof w=="function"?w:sr(!!w),g):t},g.touchable=function(w){return arguments.length?(o=typeof w=="function"?w:sr(!!w),g):o},g.extent=function(w){return arguments.length?(e=typeof w=="function"?w:sr([[+w[0][0],+w[0][1]],[+w[1][0],+w[1][1]]]),g):e},g.scaleExtent=function(w){return arguments.length?(n[0]=+w[0],n[1]=+w[1],g):[n[0],n[1]]},g.translateExtent=function(w){return arguments.length?(i[0][0]=+w[0][0],i[1][0]=+w[1][0],i[0][1]=+w[0][1],i[1][1]=+w[1][1],g):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},g.constrain=function(w){return arguments.length?(a=w,g):a},g.duration=function(w){return arguments.length?(l=+w,g):l},g.interpolate=function(w){return arguments.length?(c=w,g):c},g.on=function(){var w=s.on.apply(s,arguments);return w===s?g:w},g.clickDistance=function(w){return arguments.length?(x=(w=+w)*w,g):Math.sqrt(x)},g.tapDistance=function(w){return arguments.length?(L=+w,g):L},g}var Y3={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:a,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?a:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},w7=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Wf=["Enter"," ","Escape"],Yf={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:a})=>`Moved selected node ${t}. New position, x: ${e}, y: ${a}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"},be;(function(t){t.Strict="strict",t.Loose="loose"})(be||(be={}));var d6;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(d6||(d6={}));var u6;(function(t){t.Partial="partial",t.Full="full"})(u6||(u6={}));var Xf={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null},L0;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(L0||(L0={}));var f6;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(f6||(f6={}));var F1;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(F1||(F1={}));var iz={[F1.Left]:F1.Right,[F1.Right]:F1.Left,[F1.Top]:F1.Bottom,[F1.Bottom]:F1.Top};function Kf(t){return t===null?null:t?"valid":"invalid"}var Qf=t=>"id"in t&&"source"in t&&"target"in t,xz=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),Jf=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t);var hr=(t,e=[0,0])=>{var l;let{width:a,height:r}=y0(t),o=(l=t.origin)!=null?l:e,n=a*o[0],i=r*o[1];return{x:t.position.x-n,y:t.position.y-i}},th=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};let a=t.reduce((r,o)=>{let n=typeof o=="string",i=!e.nodeLookup&&!n?o:void 0;e.nodeLookup&&(i=n?e.nodeLookup.get(o):Jf(o)?o:e.nodeLookup.get(o.id));let l=i?Sl(i,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return kl(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Vl(a)},z7=(t,e={})=>{let a={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return t.forEach(o=>{(e.filter===void 0||e.filter(o))&&(a=kl(a,Sl(o)),r=!0)}),r?Vl(a):{x:0,y:0,width:0,height:0}},Hl=(t,e,[a,r,o]=[0,0,1],n=!1,i=!1)=>{var s,d,u,f,h,m;let l={...H7(e,[a,r,o]),width:e.width/o,height:e.height/o},c=[];for(let x of t.values()){let{measured:L,selectable:g=!0,hidden:C=!1}=x;if(i&&!g||C)continue;let v=(u=(d=(s=L.width)!=null?s:x.width)!=null?d:x.initialWidth)!=null?u:null,y=(m=(h=(f=L.height)!=null?f:x.height)!=null?h:x.initialHeight)!=null?m:null,b=b7(l,D5(x)),V=(v!=null?v:0)*(y!=null?y:0),H=n&&b>0;(!x.internals.handleBounds||H||b>=V||x.dragging)&&c.push(x)}return c},Lz=(t,e)=>{let a=new Set;return t.forEach(r=>{a.add(r.id)}),e.filter(r=>a.has(r.source)||a.has(r.target))};function OA(t,e){let a=new Map,r=e!=null&&e.nodes?new Set(e.nodes.map(o=>o.id)):null;return t.forEach(o=>{o.measured.width&&o.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&a.set(o.id,o)}),a}async function yz({nodes:t,width:e,height:a,panZoom:r,minZoom:o,maxZoom:n},i){var d,u,f;if(t.size===0)return Promise.resolve(!0);let l=OA(t,i),c=z7(l),s=pr(c,e,a,(d=i==null?void 0:i.minZoom)!=null?d:o,(u=i==null?void 0:i.maxZoom)!=null?u:n,(f=i==null?void 0:i.padding)!=null?f:.1);return await r.setViewport(s,{duration:i==null?void 0:i.duration,ease:i==null?void 0:i.ease,interpolate:i==null?void 0:i.interpolate}),Promise.resolve(!0)}function eh({nodeId:t,nextPosition:e,nodeLookup:a,nodeOrigin:r=[0,0],nodeExtent:o,onError:n}){var h,m,x;let i=a.get(t),l=i.parentId?a.get(i.parentId):void 0,{x:c,y:s}=l?l.internals.positionAbsolute:{x:0,y:0},d=(h=i.origin)!=null?h:r,u=i.extent||o;if(i.extent==="parent"&&!i.expandParent)if(!l)n==null||n("005",Y3.error005());else{let L=l.measured.width,g=l.measured.height;L&&g&&(u=[[c,s],[c+L,s+g]])}else l&&M7(i.extent)&&(u=[[i.extent[0][0]+c,i.extent[0][1]+s],[i.extent[1][0]+c,i.extent[1][1]+s]]);let f=M7(u)?A5(e,u,i.measured):e;return(i.measured.width===void 0||i.measured.height===void 0)&&(n==null||n("015",Y3.error015())),{position:{x:f.x-c+((m=i.measured.width)!=null?m:0)*d[0],y:f.y-s+((x=i.measured.height)!=null?x:0)*d[1]},positionAbsolute:f}}async function Mz({nodesToRemove:t=[],edgesToRemove:e=[],nodes:a,edges:r,onBeforeDelete:o}){let n=new Set(t.map(f=>f.id)),i=[];for(let f of a){if(f.deletable===!1)continue;let h=n.has(f.id),m=!h&&f.parentId&&i.find(x=>x.id===f.parentId);(h||m)&&i.push(f)}let l=new Set(e.map(f=>f.id)),c=r.filter(f=>f.deletable!==!1),d=Lz(i,c);for(let f of c)l.has(f.id)&&!d.find(m=>m.id===f.id)&&d.push(f);if(!o)return{edges:d,nodes:i};let u=await o({nodes:i,edges:d});return typeof u=="boolean"?u?{edges:d,nodes:i}:{edges:[],nodes:[]}:u}var y7=(t,e=0,a=1)=>Math.min(Math.max(t,e),a),A5=(t={x:0,y:0},e,a)=>{var r,o;return{x:y7(t.x,e[0][0],e[1][0]-((r=a==null?void 0:a.width)!=null?r:0)),y:y7(t.y,e[0][1],e[1][1]-((o=a==null?void 0:a.height)!=null?o:0))}};function wz(t,e,a){let{width:r,height:o}=y0(a),{x:n,y:i}=a.internals.positionAbsolute;return A5(t,[[n,i],[n+r,i+o]],e)}var lz=(t,e,a)=>t<e?y7(Math.abs(t-e),1,e)/e:t>a?-y7(Math.abs(t-a),1,e)/e:0,zz=(t,e,a=15,r=40)=>{let o=lz(t.x,r,e.width-r)*a,n=lz(t.y,r,e.height-r)*a;return[o,n]},kl=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),jf=({x:t,y:e,width:a,height:r})=>({x:t,y:e,x2:t+a,y2:e+r}),Vl=({x:t,y:e,x2:a,y2:r})=>({x:t,y:e,width:a-t,height:r-e}),D5=(t,e=[0,0])=>{var o,n,i,l,c,s,d,u;let{x:a,y:r}=Jf(t)?t.internals.positionAbsolute:hr(t,e);return{x:a,y:r,width:(l=(i=(n=(o=t.measured)==null?void 0:o.width)!=null?n:t.width)!=null?i:t.initialWidth)!=null?l:0,height:(u=(d=(s=(c=t.measured)==null?void 0:c.height)!=null?s:t.height)!=null?d:t.initialHeight)!=null?u:0}},Sl=(t,e=[0,0])=>{var o,n,i,l,c,s,d,u;let{x:a,y:r}=Jf(t)?t.internals.positionAbsolute:hr(t,e);return{x:a,y:r,x2:a+((l=(i=(n=(o=t.measured)==null?void 0:o.width)!=null?n:t.width)!=null?i:t.initialWidth)!=null?l:0),y2:r+((u=(d=(s=(c=t.measured)==null?void 0:c.height)!=null?s:t.height)!=null?d:t.initialHeight)!=null?u:0)}},ah=(t,e)=>Vl(kl(jf(t),jf(e))),b7=(t,e)=>{let a=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(a*r)},rh=t=>yt(t.width)&&yt(t.height)&&yt(t.x)&&yt(t.y),yt=t=>!isNaN(t)&&isFinite(t),oh=(t,e)=>{},S7=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),H7=({x:t,y:e},[a,r,o],n=!1,i=[1,1])=>{let l={x:(t-a)/o,y:(e-r)/o};return n?S7(l,i):l},fr=({x:t,y:e},[a,r,o])=>({x:t*o+a,y:e*o+r});function x7(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){let a=parseFloat(t);if(!Number.isNaN(a))return Math.floor(a)}if(typeof t=="string"&&t.endsWith("%")){let a=parseFloat(t);if(!Number.isNaN(a))return Math.floor(e*a*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function ZA(t,e,a){var r,o,n,i,l,c,s,d;if(typeof t=="string"||typeof t=="number"){let u=x7(t,a),f=x7(t,e);return{top:u,right:f,bottom:u,left:f,x:f*2,y:u*2}}if(typeof t=="object"){let u=x7((o=(r=t.top)!=null?r:t.y)!=null?o:0,a),f=x7((i=(n=t.bottom)!=null?n:t.y)!=null?i:0,a),h=x7((c=(l=t.left)!=null?l:t.x)!=null?c:0,e),m=x7((d=(s=t.right)!=null?s:t.x)!=null?d:0,e);return{top:u,right:m,bottom:f,left:h,x:h+m,y:u+f}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function _A(t,e,a,r,o,n){let{x:i,y:l}=fr(t,[e,a,r]),{x:c,y:s}=fr({x:t.x+t.width,y:t.y+t.height},[e,a,r]),d=o-c,u=n-s;return{left:Math.floor(i),top:Math.floor(l),right:Math.floor(d),bottom:Math.floor(u)}}var pr=(t,e,a,r,o,n)=>{let i=ZA(n,e,a),l=(e-i.x)/t.width,c=(a-i.y)/t.height,s=Math.min(l,c),d=y7(s,r,o),u=t.x+t.width/2,f=t.y+t.height/2,h=e/2-u*d,m=a/2-f*d,x=_A(t,h,m,d,e,a),L={left:Math.min(x.left-i.left,0),top:Math.min(x.top-i.top,0),right:Math.min(x.right-i.right,0),bottom:Math.min(x.bottom-i.bottom,0)};return{x:h-L.left+L.right,y:m-L.top+L.bottom,zoom:d}},k7=()=>{var t;return typeof navigator!="undefined"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function M7(t){return t!=null&&t!=="parent"}function y0(t){var e,a,r,o,n,i,l,c;return{width:(o=(r=(a=(e=t.measured)==null?void 0:e.width)!=null?a:t.width)!=null?r:t.initialWidth)!=null?o:0,height:(c=(l=(i=(n=t.measured)==null?void 0:n.height)!=null?i:t.height)!=null?l:t.initialHeight)!=null?c:0}}function nh(t){var e,a,r,o,n,i;return((r=(a=(e=t.measured)==null?void 0:e.width)!=null?a:t.width)!=null?r:t.initialWidth)!==void 0&&((i=(n=(o=t.measured)==null?void 0:o.height)!=null?n:t.height)!=null?i:t.initialHeight)!==void 0}function ih(t,e={width:0,height:0},a,r,o){var l,c;let n={...t},i=r.get(a);if(i){let s=i.origin||o;n.x+=i.internals.positionAbsolute.x-((l=e.width)!=null?l:0)*s[0],n.y+=i.internals.positionAbsolute.y-((c=e.height)!=null?c:0)*s[1]}return n}function lh(t,e){if(t.size!==e.size)return!1;for(let a of t)if(!e.has(a))return!1;return!0}function bz(){let t,e;return{promise:new Promise((r,o)=>{t=r,e=o}),resolve:t,reject:e}}function Sz(t){return{...Yf,...t||{}}}function ur(t,{snapGrid:e=[0,0],snapToGrid:a=!1,transform:r,containerBounds:o}){var d,u;let{x:n,y:i}=Mt(t),l=H7({x:n-((d=o==null?void 0:o.left)!=null?d:0),y:i-((u=o==null?void 0:o.top)!=null?u:0)},r),{x:c,y:s}=a?S7(l,e):l;return{xSnapped:c,ySnapped:s,...l}}var Tl=t=>({width:t.offsetWidth,height:t.offsetHeight}),ch=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},UA=["INPUT","SELECT","TEXTAREA"];function sh(t){var r,o;let e=((o=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:o[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:UA.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}var dh=t=>"clientX"in t,Mt=(t,e)=>{var n,i,l,c;let a=dh(t),r=a?t.clientX:(n=t.touches)==null?void 0:n[0].clientX,o=a?t.clientY:(i=t.touches)==null?void 0:i[0].clientY;return{x:r-((l=e==null?void 0:e.left)!=null?l:0),y:o-((c=e==null?void 0:e.top)!=null?c:0)}},cz=(t,e,a,r,o)=>{let n=e.querySelectorAll(`.${t}`);return!n||!n.length?null:Array.from(n).map(i=>{let l=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:t,nodeId:o,position:i.getAttribute("data-handlepos"),x:(l.left-a.left)/r,y:(l.top-a.top)/r,...Tl(i)}})};function Bl({sourceX:t,sourceY:e,targetX:a,targetY:r,sourceControlX:o,sourceControlY:n,targetControlX:i,targetControlY:l}){let c=t*.125+o*.375+i*.375+a*.125,s=e*.125+n*.375+l*.375+r*.125,d=Math.abs(c-t),u=Math.abs(s-e);return[c,s,d,u]}function zl(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function sz({pos:t,x1:e,y1:a,x2:r,y2:o,c:n}){switch(t){case F1.Left:return[e-zl(e-r,n),a];case F1.Right:return[e+zl(r-e,n),a];case F1.Top:return[e,a-zl(a-o,n)];case F1.Bottom:return[e,a+zl(o-a,n)]}}function Il({sourceX:t,sourceY:e,sourcePosition:a=F1.Bottom,targetX:r,targetY:o,targetPosition:n=F1.Top,curvature:i=.25}){let[l,c]=sz({pos:a,x1:t,y1:e,x2:r,y2:o,c:i}),[s,d]=sz({pos:n,x1:r,y1:o,x2:t,y2:e,c:i}),[u,f,h,m]=Bl({sourceX:t,sourceY:e,targetX:r,targetY:o,sourceControlX:l,sourceControlY:c,targetControlX:s,targetControlY:d});return[`M${t},${e} C${l},${c} ${s},${d} ${r},${o}`,u,f,h,m]}function uh({sourceX:t,sourceY:e,targetX:a,targetY:r}){let o=Math.abs(a-t)/2,n=a<t?a+o:a-o,i=Math.abs(r-e)/2,l=r<e?r+i:r-i;return[n,l,o,i]}function Hz({sourceNode:t,targetNode:e,selected:a=!1,zIndex:r=0,elevateOnSelect:o=!1,zIndexMode:n="basic"}){if(n==="manual")return r;let i=o&&a?r+1e3:r,l=Math.max(t.parentId||o&&t.selected?t.internals.z:0,e.parentId||o&&e.selected?e.internals.z:0);return i+l}function kz({sourceNode:t,targetNode:e,width:a,height:r,transform:o}){let n=kl(Sl(t),Sl(e));n.x===n.x2&&(n.x2+=1),n.y===n.y2&&(n.y2+=1);let i={x:-o[0]/o[2],y:-o[1]/o[2],width:a/o[2],height:r/o[2]};return b7(i,Vl(n))>0}var qA=({source:t,sourceHandle:e,target:a,targetHandle:r})=>`xy-edge__${t}${e||""}-${a}${r||""}`,$A=(t,e)=>e.some(a=>a.source===t.source&&a.target===t.target&&(a.sourceHandle===t.sourceHandle||!a.sourceHandle&&!t.sourceHandle)&&(a.targetHandle===t.targetHandle||!a.targetHandle&&!t.targetHandle)),fh=(t,e,a={})=>{if(!t.source||!t.target)return oh("006",Y3.error006()),e;let r=a.getEdgeId||qA,o;return Qf(t)?o={...t}:o={...t,id:r(t)},$A(o,e)?e:(o.sourceHandle===null&&delete o.sourceHandle,o.targetHandle===null&&delete o.targetHandle,e.concat(o))};function Fl({sourceX:t,sourceY:e,targetX:a,targetY:r}){let[o,n,i,l]=uh({sourceX:t,sourceY:e,targetX:a,targetY:r});return[`M ${t},${e}L ${a},${r}`,o,n,i,l]}var dz={[F1.Left]:{x:-1,y:0},[F1.Right]:{x:1,y:0},[F1.Top]:{x:0,y:-1},[F1.Bottom]:{x:0,y:1}},GA=({source:t,sourcePosition:e=F1.Bottom,target:a})=>e===F1.Left||e===F1.Right?t.x<a.x?{x:1,y:0}:{x:-1,y:0}:t.y<a.y?{x:0,y:1}:{x:0,y:-1},uz=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function jA({source:t,sourcePosition:e=F1.Bottom,target:a,targetPosition:r=F1.Top,center:o,offset:n,stepPosition:i}){var V,H,D,A;let l=dz[e],c=dz[r],s={x:t.x+l.x*n,y:t.y+l.y*n},d={x:a.x+c.x*n,y:a.y+c.y*n},u=GA({source:s,sourcePosition:e,target:d}),f=u.x!==0?"x":"y",h=u[f],m=[],x,L,g={x:0,y:0},C={x:0,y:0},[,,v,y]=uh({sourceX:t.x,sourceY:t.y,targetX:a.x,targetY:a.y});if(l[f]*c[f]===-1){f==="x"?(x=(V=o.x)!=null?V:s.x+(d.x-s.x)*i,L=(H=o.y)!=null?H:(s.y+d.y)/2):(x=(D=o.x)!=null?D:(s.x+d.x)/2,L=(A=o.y)!=null?A:s.y+(d.y-s.y)*i);let E=[{x,y:s.y},{x,y:d.y}],O=[{x:s.x,y:L},{x:d.x,y:L}];l[f]===h?m=f==="x"?E:O:m=f==="x"?O:E}else{let E=[{x:s.x,y:d.y}],O=[{x:d.x,y:s.y}];if(f==="x"?m=l.x===h?O:E:m=l.y===h?E:O,e===r){let z=Math.abs(t[f]-a[f]);if(z<=n){let k=Math.min(n-1,n-z);l[f]===h?g[f]=(s[f]>t[f]?-1:1)*k:C[f]=(d[f]>a[f]?-1:1)*k}}if(e!==r){let z=f==="x"?"y":"x",k=l[f]===c[z],T=s[z]>d[z],S=s[z]<d[z];(l[f]===1&&(!k&&T||k&&S)||l[f]!==1&&(!k&&S||k&&T))&&(m=f==="x"?E:O)}let _={x:s.x+g.x,y:s.y+g.y},N={x:d.x+C.x,y:d.y+C.y},w=Math.max(Math.abs(_.x-m[0].x),Math.abs(N.x-m[0].x)),M=Math.max(Math.abs(_.y-m[0].y),Math.abs(N.y-m[0].y));w>=M?(x=(_.x+N.x)/2,L=m[0].y):(x=m[0].x,L=(_.y+N.y)/2)}return[[t,{x:s.x+g.x,y:s.y+g.y},...m,{x:d.x+C.x,y:d.y+C.y},a],x,L,v,y]}function WA(t,e,a,r){let o=Math.min(uz(t,e)/2,uz(e,a)/2,r),{x:n,y:i}=e;if(t.x===n&&n===a.x||t.y===i&&i===a.y)return`L${n} ${i}`;if(t.y===i){let s=t.x<a.x?-1:1,d=t.y<a.y?1:-1;return`L ${n+o*s},${i}Q ${n},${i} ${n},${i+o*d}`}let l=t.x<a.x?1:-1,c=t.y<a.y?-1:1;return`L ${n},${i+o*c}Q ${n},${i} ${n+o*l},${i}`}function gr({sourceX:t,sourceY:e,sourcePosition:a=F1.Bottom,targetX:r,targetY:o,targetPosition:n=F1.Top,borderRadius:i=5,centerX:l,centerY:c,offset:s=20,stepPosition:d=.5}){let[u,f,h,m,x]=jA({source:{x:t,y:e},sourcePosition:a,target:{x:r,y:o},targetPosition:n,center:{x:l,y:c},offset:s,stepPosition:d});return[u.reduce((g,C,v)=>{let y="";return v>0&&v<u.length-1?y=WA(u[v-1],C,u[v+1],i):y=`${v===0?"M":"L"}${C.x} ${C.y}`,g+=y,g},""),f,h,m,x]}function fz(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function Vz(t){var u,f,h,m,x;let{sourceNode:e,targetNode:a}=t;if(!fz(e)||!fz(a))return null;let r=e.internals.handleBounds||hz(e.handles),o=a.internals.handleBounds||hz(a.handles),n=pz((u=r==null?void 0:r.source)!=null?u:[],t.sourceHandle),i=pz(t.connectionMode===be.Strict?(f=o==null?void 0:o.target)!=null?f:[]:((h=o==null?void 0:o.target)!=null?h:[]).concat((m=o==null?void 0:o.source)!=null?m:[]),t.targetHandle);if(!n||!i)return(x=t.onError)==null||x.call(t,"008",Y3.error008(n?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;let l=(n==null?void 0:n.position)||F1.Bottom,c=(i==null?void 0:i.position)||F1.Top,s=Se(e,n,l),d=Se(a,i,c);return{sourceX:s.x,sourceY:s.y,targetX:d.x,targetY:d.y,sourcePosition:l,targetPosition:c}}function hz(t){var r,o;if(!t)return null;let e=[],a=[];for(let n of t)n.width=(r=n.width)!=null?r:1,n.height=(o=n.height)!=null?o:1,n.type==="source"?e.push(n):n.type==="target"&&a.push(n);return{source:e,target:a}}function Se(t,e,a=F1.Left,r=!1){var s,d,u;let o=((s=e==null?void 0:e.x)!=null?s:0)+t.internals.positionAbsolute.x,n=((d=e==null?void 0:e.y)!=null?d:0)+t.internals.positionAbsolute.y,{width:i,height:l}=e!=null?e:y0(t);if(r)return{x:o+i/2,y:n+l/2};switch((u=e==null?void 0:e.position)!=null?u:a){case F1.Top:return{x:o+i/2,y:n};case F1.Right:return{x:o+i,y:n+l/2};case F1.Bottom:return{x:o+i/2,y:n+l};case F1.Left:return{x:o,y:n+l/2}}}function pz(t,e){return t&&(e?t.find(a=>a.id===e):t[0])||null}function Al(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function Tz(t,{id:e,defaultColor:a,defaultMarkerStart:r,defaultMarkerEnd:o}){let n=new Set;return t.reduce((i,l)=>([l.markerStart||r,l.markerEnd||o].forEach(c=>{if(c&&typeof c=="object"){let s=Al(c,e);n.has(s)||(i.push({id:s,color:c.color||a,...c}),n.add(s))}}),i),[]).sort((i,l)=>i.id.localeCompare(l.id))}var Bz=1e3,YA=10,hh={nodeOrigin:[0,0],nodeExtent:w7,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},XA={...hh,checkEquality:!0};function ph(t,e){let a={...t};for(let r in e)e[r]!==void 0&&(a[r]=e[r]);return a}function Iz(t,e,a){let r=ph(hh,a);for(let o of t.values())if(o.parentId)mh(o,t,e,r);else{let n=hr(o,r.nodeOrigin),i=M7(o.extent)?o.extent:r.nodeExtent,l=A5(n,i,y0(o));o.internals.positionAbsolute=l}}function KA(t,e){var o,n;if(!t.handles)return t.measured?e==null?void 0:e.internals.handleBounds:void 0;let a=[],r=[];for(let i of t.handles){let l={id:i.id,width:(o=i.width)!=null?o:1,height:(n=i.height)!=null?n:1,nodeId:t.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?a.push(l):i.type==="target"&&r.push(l)}return{source:a,target:r}}function gh(t){return t==="manual"}function Dl(t,e,a,r={}){var s,d;let o=ph(XA,r),n={i:0},i=new Map(e),l=o!=null&&o.elevateNodesOnSelect&&!gh(o.zIndexMode)?Bz:0,c=t.length>0;e.clear(),a.clear();for(let u of t){let f=i.get(u.id);if(o.checkEquality&&u===(f==null?void 0:f.internals.userNode))e.set(u.id,f);else{let h=hr(u,o.nodeOrigin),m=M7(u.extent)?u.extent:o.nodeExtent,x=A5(h,m,y0(u));f={...o.defaults,...u,measured:{width:(s=u.measured)==null?void 0:s.width,height:(d=u.measured)==null?void 0:d.height},internals:{positionAbsolute:x,handleBounds:KA(u,f),z:Fz(u,l,o.zIndexMode),userNode:u}},e.set(u.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(c=!1),u.parentId&&mh(f,e,a,r,n)}return c}function QA(t,e){if(!t.parentId)return;let a=e.get(t.parentId);a?a.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function mh(t,e,a,r,o){let{elevateNodesOnSelect:n,nodeOrigin:i,nodeExtent:l,zIndexMode:c}=ph(hh,r),s=t.parentId,d=e.get(s);if(!d){console.warn(`Parent node ${s} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}QA(t,a),o&&!d.parentId&&d.internals.rootParentIndex===void 0&&c==="auto"&&(d.internals.rootParentIndex=++o.i,d.internals.z=d.internals.z+o.i*YA),o&&d.internals.rootParentIndex!==void 0&&(o.i=d.internals.rootParentIndex);let u=n&&!gh(c)?Bz:0,{x:f,y:h,z:m}=JA(t,d,i,l,u,c),{positionAbsolute:x}=t.internals,L=f!==x.x||h!==x.y;(L||m!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:L?{x:f,y:h}:x,z:m}})}function Fz(t,e,a){let r=yt(t.zIndex)?t.zIndex:0;return gh(a)?r:r+(t.selected?e:0)}function JA(t,e,a,r,o,n){var m;let{x:i,y:l}=e.internals.positionAbsolute,c=y0(t),s=hr(t,a),d=M7(t.extent)?A5(s,t.extent,c):s,u=A5({x:i+d.x,y:l+d.y},r,c);t.extent==="parent"&&(u=wz(u,c,e));let f=Fz(t,o,n),h=(m=e.internals.z)!=null?m:0;return{x:u.x,y:u.y,z:h>=f?h+1:f}}function Rl(t,e,a,r=[0,0]){var i,l;let o=[],n=new Map;for(let c of t){let s=e.get(c.parentId);if(!s)continue;let d=(l=(i=n.get(c.parentId))==null?void 0:i.expandedRect)!=null?l:D5(s),u=ah(d,c.rect);n.set(c.parentId,{expandedRect:u,parent:s})}return n.size>0&&n.forEach(({expandedRect:c,parent:s},d)=>{var y,b;let u=s.internals.positionAbsolute,f=y0(s),h=(y=s.origin)!=null?y:r,m=c.x<u.x?Math.round(Math.abs(u.x-c.x)):0,x=c.y<u.y?Math.round(Math.abs(u.y-c.y)):0,L=Math.max(f.width,Math.round(c.width)),g=Math.max(f.height,Math.round(c.height)),C=(L-f.width)*h[0],v=(g-f.height)*h[1];(m>0||x>0||C||v)&&(o.push({id:d,type:"position",position:{x:s.position.x-m+C,y:s.position.y-x+v}}),(b=a.get(d))==null||b.forEach(V=>{t.some(H=>H.id===V.id)||o.push({id:V.id,type:"position",position:{x:V.position.x+m,y:V.position.y+x}})})),(f.width<c.width||f.height<c.height||m||x)&&o.push({id:d,type:"dimensions",setAttributes:!0,dimensions:{width:L+(m?h[0]*m-C:0),height:g+(x?h[1]*x-v:0)}})}),o}function Az(t,e,a,r,o,n,i){let l=r==null?void 0:r.querySelector(".xyflow__viewport"),c=!1;if(!l)return{changes:[],updatedInternals:c};let s=[],d=window.getComputedStyle(l),{m22:u}=new window.DOMMatrixReadOnly(d.transform),f=[];for(let h of t.values()){let m=e.get(h.id);if(!m)continue;if(m.hidden){e.set(m.id,{...m,internals:{...m.internals,handleBounds:void 0}}),c=!0;continue}let x=Tl(h.nodeElement),L=m.measured.width!==x.width||m.measured.height!==x.height;if(!!(x.width&&x.height&&(L||!m.internals.handleBounds||h.force))){let C=h.nodeElement.getBoundingClientRect(),v=M7(m.extent)?m.extent:n,{positionAbsolute:y}=m.internals;m.parentId&&m.extent==="parent"?y=wz(y,x,e.get(m.parentId)):v&&(y=A5(y,v,x));let b={...m,measured:x,internals:{...m.internals,positionAbsolute:y,handleBounds:{source:cz("source",h.nodeElement,C,u,m.id),target:cz("target",h.nodeElement,C,u,m.id)}}};e.set(m.id,b),m.parentId&&mh(b,e,a,{nodeOrigin:o,zIndexMode:i}),c=!0,L&&(s.push({id:m.id,type:"dimensions",dimensions:x}),m.expandParent&&m.parentId&&f.push({id:m.id,parentId:m.parentId,rect:D5(b,o)}))}}if(f.length>0){let h=Rl(f,e,a,o);s.push(...h)}return{changes:s,updatedInternals:c}}async function Dz({delta:t,panZoom:e,transform:a,translateExtent:r,width:o,height:n}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);let i=await e.setViewportConstrained({x:a[0]+t.x,y:a[1]+t.y,zoom:a[2]},[[0,0],[o,n]],r),l=!!i&&(i.x!==a[0]||i.y!==a[1]||i.k!==a[2]);return Promise.resolve(l)}function gz(t,e,a,r,o,n){let i=o,l=r.get(i)||new Map;r.set(i,l.set(a,e)),i=`${o}-${t}`;let c=r.get(i)||new Map;if(r.set(i,c.set(a,e)),n){i=`${o}-${t}-${n}`;let s=r.get(i)||new Map;r.set(i,s.set(a,e))}}function vh(t,e,a){t.clear(),e.clear();for(let r of a){let{source:o,target:n,sourceHandle:i=null,targetHandle:l=null}=r,c={edgeId:r.id,source:o,target:n,sourceHandle:i,targetHandle:l},s=`${o}-${i}--${n}-${l}`,d=`${n}-${l}--${o}-${i}`;gz("source",c,d,t,o,i),gz("target",c,s,t,n,l),e.set(r.id,r)}}function Rz(t,e){if(!t.parentId)return!1;let a=e.get(t.parentId);return a?a.selected?!0:Rz(a,e):!1}function mz(t,e,a){var o;let r=t;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,e))return!0;if(r===a)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function tD(t,e,a,r){var n,i;let o=new Map;for(let[l,c]of t)if((c.selected||c.id===r)&&(!c.parentId||!Rz(c,t))&&(c.draggable||e&&typeof c.draggable=="undefined")){let s=t.get(l);s&&o.set(l,{id:l,position:s.position||{x:0,y:0},distance:{x:a.x-s.internals.positionAbsolute.x,y:a.y-s.internals.positionAbsolute.y},extent:s.extent,parentId:s.parentId,origin:s.origin,expandParent:s.expandParent,internals:{positionAbsolute:s.internals.positionAbsolute||{x:0,y:0}},measured:{width:(n=s.measured.width)!=null?n:0,height:(i=s.measured.height)!=null?i:0}})}return o}function qf({nodeId:t,dragItems:e,nodeLookup:a,dragging:r=!0}){var i,l,c;let o=[];for(let[s,d]of e){let u=(i=a.get(s))==null?void 0:i.internals.userNode;u&&o.push({...u,position:d.position,dragging:r})}if(!t)return[o[0],o];let n=(l=a.get(t))==null?void 0:l.internals.userNode;return[n?{...n,position:((c=e.get(t))==null?void 0:c.position)||n.position,dragging:r}:o[0],o]}function eD({dragItems:t,snapGrid:e,x:a,y:r}){let o=t.values().next().value;if(!o)return null;let n={x:a-o.distance.x,y:r-o.distance.y},i=S7(n,e);return{x:i.x-n.x,y:i.y-n.y}}function Ez({onNodeMouseDown:t,getStoreItems:e,onDragStart:a,onDrag:r,onDragStop:o}){let n={x:null,y:null},i=0,l=new Map,c=!1,s={x:0,y:0},d=null,u=!1,f=null,h=!1,m=!1,x=null;function L({noDragClassName:C,handleSelector:v,domNode:y,isSelectable:b,nodeId:V,nodeClickDistance:H=0}){f=A4(y);function D({x:_,y:N}){let{nodeLookup:w,nodeExtent:M,snapGrid:z,snapToGrid:k,nodeOrigin:T,onNodeDrag:S,onSelectionDrag:R,onError:Z,updateNodePositions:P}=e();n={x:_,y:N};let B=!1,I=l.size>1,F=I&&M?jf(z7(l)):null,q=I&&k?eD({dragItems:l,snapGrid:z,x:_,y:N}):null;for(let[G,Y]of l){if(!w.has(G))continue;let J={x:_-Y.distance.x,y:N-Y.distance.y};k&&(J=q?{x:Math.round(J.x+q.x),y:Math.round(J.y+q.y)}:S7(J,z));let h1=null;if(I&&M&&!Y.extent&&F){let{positionAbsolute:Q}=Y.internals,e1=Q.x-F.x+M[0][0],c1=Q.x+Y.measured.width-F.x2+M[1][0],p1=Q.y-F.y+M[0][1],V1=Q.y+Y.measured.height-F.y2+M[1][1];h1=[[e1,p1],[c1,V1]]}let{position:r1,positionAbsolute:o1}=eh({nodeId:G,nextPosition:J,nodeLookup:w,nodeExtent:h1||M,nodeOrigin:T,onError:Z});B=B||Y.position.x!==r1.x||Y.position.y!==r1.y,Y.position=r1,Y.internals.positionAbsolute=o1}if(m=m||B,!!B&&(P(l,!0),x&&(r||S||!V&&R))){let[G,Y]=qf({nodeId:V,dragItems:l,nodeLookup:w});r==null||r(x,l,G,Y),S==null||S(x,G,Y),V||R==null||R(x,Y)}}async function A(){var T,S;if(!d)return;let{transform:_,panBy:N,autoPanSpeed:w,autoPanOnNodeDrag:M}=e();if(!M){c=!1,cancelAnimationFrame(i);return}let[z,k]=zz(s,d,w);(z!==0||k!==0)&&(n.x=((T=n.x)!=null?T:0)-z/_[2],n.y=((S=n.y)!=null?S:0)-k/_[2],await N({x:z,y:k})&&D(n)),i=requestAnimationFrame(A)}function E(_){var I;let{nodeLookup:N,multiSelectionActive:w,nodesDraggable:M,transform:z,snapGrid:k,snapToGrid:T,selectNodesOnDrag:S,onNodeDragStart:R,onSelectionDragStart:Z,unselectNodesAndEdges:P}=e();u=!0,(!S||!b)&&!w&&V&&((I=N.get(V))!=null&&I.selected||P()),b&&S&&V&&(t==null||t(V));let B=ur(_.sourceEvent,{transform:z,snapGrid:k,snapToGrid:T,containerBounds:d});if(n=B,l=tD(N,M,B,V),l.size>0&&(a||R||!V&&Z)){let[F,q]=qf({nodeId:V,dragItems:l,nodeLookup:N});a==null||a(_.sourceEvent,l,F,q),R==null||R(_.sourceEvent,F,q),V||Z==null||Z(_.sourceEvent,q)}}let O=al().clickDistance(H).on("start",_=>{let{domNode:N,nodeDragThreshold:w,transform:M,snapGrid:z,snapToGrid:k}=e();d=(N==null?void 0:N.getBoundingClientRect())||null,h=!1,m=!1,x=_.sourceEvent,w===0&&E(_),n=ur(_.sourceEvent,{transform:M,snapGrid:z,snapToGrid:k,containerBounds:d}),s=Mt(_.sourceEvent,d)}).on("drag",_=>{let{autoPanOnNodeDrag:N,transform:w,snapGrid:M,snapToGrid:z,nodeDragThreshold:k,nodeLookup:T}=e(),S=ur(_.sourceEvent,{transform:w,snapGrid:M,snapToGrid:z,containerBounds:d});if(x=_.sourceEvent,(_.sourceEvent.type==="touchmove"&&_.sourceEvent.touches.length>1||V&&!T.has(V))&&(h=!0),!h){if(!c&&N&&u&&(c=!0,A()),!u){let R=Mt(_.sourceEvent,d),Z=R.x-s.x,P=R.y-s.y;Math.sqrt(Z*Z+P*P)>k&&E(_)}(n.x!==S.xSnapped||n.y!==S.ySnapped)&&l&&u&&(s=Mt(_.sourceEvent,d),D(S))}}).on("end",_=>{if(!(!u||h)&&(c=!1,u=!1,cancelAnimationFrame(i),l.size>0)){let{nodeLookup:N,updateNodePositions:w,onNodeDragStop:M,onSelectionDragStop:z}=e();if(m&&(w(l,!1),m=!1),o||M||!V&&z){let[k,T]=qf({nodeId:V,dragItems:l,nodeLookup:N,dragging:!1});o==null||o(_.sourceEvent,l,k,T),M==null||M(_.sourceEvent,k,T),V||z==null||z(_.sourceEvent,T)}}}).filter(_=>{let N=_.target;return!_.button&&(!C||!mz(N,`.${C}`,y))&&(!v||mz(N,v,y))});f.call(O)}function g(){f==null||f.on(".drag",null)}return{update:L,destroy:g}}function aD(t,e,a){let r=[],o={x:t.x-a,y:t.y-a,width:a*2,height:a*2};for(let n of e.values())b7(o,D5(n))>0&&r.push(n);return r}var rD=250;function oD(t,e,a,r){var l,c,s,d,u;let o=[],n=1/0,i=aD(t,a,e+rD);for(let f of i){let h=[...(c=(l=f.internals.handleBounds)==null?void 0:l.source)!=null?c:[],...(d=(s=f.internals.handleBounds)==null?void 0:s.target)!=null?d:[]];for(let m of h){if(r.nodeId===m.nodeId&&r.type===m.type&&r.id===m.id)continue;let{x,y:L}=Se(f,m,m.position,!0),g=Math.sqrt(Math.pow(x-t.x,2)+Math.pow(L-t.y,2));g>e||(g<n?(o=[{...m,x,y:L}],n=g):g===n&&o.push({...m,x,y:L}))}}if(!o.length)return null;if(o.length>1){let f=r.type==="source"?"target":"source";return(u=o.find(h=>h.type===f))!=null?u:o[0]}return o[0]}function Nz(t,e,a,r,o,n=!1){var s,d,u,f,h,m;let i=r.get(t);if(!i)return null;let l=o==="strict"?(s=i.internals.handleBounds)==null?void 0:s[e]:[...(u=(d=i.internals.handleBounds)==null?void 0:d.source)!=null?u:[],...(h=(f=i.internals.handleBounds)==null?void 0:f.target)!=null?h:[]],c=(m=a?l==null?void 0:l.find(x=>x.id===a):l==null?void 0:l[0])!=null?m:null;return c&&n?{...c,...Se(i,c,c.position,!0)}:c}function Pz(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function nD(t,e){let a=null;return e?a=!0:t&&!e&&(a=!1),a}var Oz=()=>!0;function iD(t,{connectionMode:e,connectionRadius:a,handleId:r,nodeId:o,edgeUpdaterType:n,isTarget:i,domNode:l,nodeLookup:c,lib:s,autoPanOnConnect:d,flowId:u,panBy:f,cancelConnection:h,onConnectStart:m,onConnect:x,onConnectEnd:L,isValidConnection:g=Oz,onReconnectEnd:C,updateConnection:v,getTransform:y,getFromHandle:b,autoPanSpeed:V,dragThreshold:H=1,handleDomNode:D}){let A=ch(t.target),E=0,O,{x:_,y:N}=Mt(t),w=Pz(n,D),M=l==null?void 0:l.getBoundingClientRect(),z=!1;if(!M||!w)return;let k=Nz(o,w,r,c,e);if(!k)return;let T=Mt(t,M),S=!1,R=null,Z=!1,P=null;function B(){if(!d||!M)return;let[r1,o1]=zz(T,M,V);f({x:r1,y:o1}),E=requestAnimationFrame(B)}let I={...k,nodeId:o,type:w,position:k.position},F=c.get(o),G={inProgress:!0,isValid:null,from:Se(F,I,F1.Left,!0),fromHandle:I,fromPosition:I.position,fromNode:F,to:T,toHandle:null,toPosition:iz[I.position],toNode:null,pointer:T};function Y(){z=!0,v(G),m==null||m(t,{nodeId:o,handleId:r,handleType:w})}H===0&&Y();function J(r1){if(!z){let{x:V1,y:k1}=Mt(r1),R1=V1-_,N1=k1-N;if(!(R1*R1+N1*N1>H*H))return;Y()}if(!b()||!I){h1(r1);return}let o1=y();T=Mt(r1,M),O=oD(H7(T,o1,!1,[1,1]),a,c,I),S||(B(),S=!0);let Q=Zz(r1,{handle:O,connectionMode:e,fromNodeId:o,fromHandleId:r,fromType:i?"target":"source",isValidConnection:g,doc:A,lib:s,flowId:u,nodeLookup:c});P=Q.handleDomNode,R=Q.connection,Z=nD(!!O,Q.isValid);let e1=c.get(o),c1=e1?Se(e1,I,F1.Left,!0):G.from,p1={...G,from:c1,isValid:Z,to:Q.toHandle&&Z?fr({x:Q.toHandle.x,y:Q.toHandle.y},o1):T,toHandle:Q.toHandle,toPosition:Z&&Q.toHandle?Q.toHandle.position:iz[I.position],toNode:Q.toHandle?c.get(Q.toHandle.nodeId):null,pointer:T};v(p1),G=p1}function h1(r1){if(!("touches"in r1&&r1.touches.length>0)){if(z){(O||P)&&R&&Z&&(x==null||x(R));let{inProgress:o1,...Q}=G,e1={...Q,toPosition:G.toHandle?G.toPosition:null};L==null||L(r1,e1),n&&(C==null||C(r1,e1))}h(),cancelAnimationFrame(E),S=!1,Z=!1,R=null,P=null,A.removeEventListener("mousemove",J),A.removeEventListener("mouseup",h1),A.removeEventListener("touchmove",J),A.removeEventListener("touchend",h1)}}A.addEventListener("mousemove",J),A.addEventListener("mouseup",h1),A.addEventListener("touchmove",J),A.addEventListener("touchend",h1)}function Zz(t,{handle:e,connectionMode:a,fromNodeId:r,fromHandleId:o,fromType:n,doc:i,lib:l,flowId:c,isValidConnection:s=Oz,nodeLookup:d}){let u=n==="target",f=e?i.querySelector(`.${l}-flow__handle[data-id="${c}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:h,y:m}=Mt(t),x=i.elementFromPoint(h,m),L=x!=null&&x.classList.contains(`${l}-flow__handle`)?x:f,g={handleDomNode:L,isValid:!1,connection:null,toHandle:null};if(L){let C=Pz(void 0,L),v=L.getAttribute("data-nodeid"),y=L.getAttribute("data-handleid"),b=L.classList.contains("connectable"),V=L.classList.contains("connectableend");if(!v||!C)return g;let H={source:u?v:r,sourceHandle:u?y:o,target:u?r:v,targetHandle:u?o:y};g.connection=H;let A=b&&V&&(a===be.Strict?u&&C==="source"||!u&&C==="target":v!==r||y!==o);g.isValid=A&&s(H),g.toHandle=Nz(v,C,y,d,a,!0)}return g}var El={onPointerDown:iD,isValid:Zz};function _z({domNode:t,panZoom:e,getTransform:a,getViewScale:r}){let o=A4(t);function n({translateExtent:l,width:c,height:s,zoomStep:d=1,pannable:u=!0,zoomable:f=!0,inversePan:h=!1}){let m=v=>{if(v.sourceEvent.type!=="wheel"||!e)return;let y=a(),b=v.sourceEvent.ctrlKey&&k7()?10:1,V=-v.sourceEvent.deltaY*(v.sourceEvent.deltaMode===1?.05:v.sourceEvent.deltaMode?1:.002)*d,H=y[2]*Math.pow(2,V*b);e.scaleTo(H)},x=[0,0],L=v=>{var y,b;(v.sourceEvent.type==="mousedown"||v.sourceEvent.type==="touchstart")&&(x=[(y=v.sourceEvent.clientX)!=null?y:v.sourceEvent.touches[0].clientX,(b=v.sourceEvent.clientY)!=null?b:v.sourceEvent.touches[0].clientY])},g=v=>{var E,O;let y=a();if(v.sourceEvent.type!=="mousemove"&&v.sourceEvent.type!=="touchmove"||!e)return;let b=[(E=v.sourceEvent.clientX)!=null?E:v.sourceEvent.touches[0].clientX,(O=v.sourceEvent.clientY)!=null?O:v.sourceEvent.touches[0].clientY],V=[b[0]-x[0],b[1]-x[1]];x=b;let H=r()*Math.max(y[2],Math.log(y[2]))*(h?-1:1),D={x:y[0]-V[0]*H,y:y[1]-V[1]*H},A=[[0,0],[c,s]];e.setViewportConstrained({x:D.x,y:D.y,zoom:y[2]},A,l)},C=wl().on("start",L).on("zoom",u?g:null).on("zoom.wheel",f?m:null);o.call(C,{})}function i(){o.on("zoom",null)}return{update:n,destroy:i,pointer:d3}}var Nl=t=>({x:t.x,y:t.y,zoom:t.k}),$f=({x:t,y:e,zoom:a})=>F5.translate(t,e).scale(a),L7=(t,e)=>t.target.closest(`.${e}`),Uz=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),lD=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,Gf=(t,e=0,a=lD,r=()=>{})=>{let o=typeof e=="number"&&e>0;return o||r(),o?t.transition().duration(e).ease(a).on("end",r):t},qz=t=>{let e=t.ctrlKey&&k7()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function cD({zoomPanValues:t,noWheelClassName:e,d3Selection:a,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:n,zoomOnPinch:i,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:s}){return d=>{if(L7(d,e))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();let u=a.property("__zoom").k||1;if(d.ctrlKey&&i){let L=d3(d),g=qz(d),C=u*Math.pow(2,g);r.scaleTo(a,C,L,d);return}let f=d.deltaMode===1?20:1,h=o===d6.Vertical?0:d.deltaX*f,m=o===d6.Horizontal?0:d.deltaY*f;!k7()&&d.shiftKey&&o!==d6.Vertical&&(h=d.deltaY*f,m=0),r.translateBy(a,-(h/u)*n,-(m/u)*n,{internal:!0});let x=Nl(a.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(c==null||c(d,x),t.panScrollTimeout=setTimeout(()=>{s==null||s(d,x),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,l==null||l(d,x))}}function sD({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:a}){return function(r,o){let n=r.type==="wheel",i=!e&&n&&!r.ctrlKey,l=L7(r,t);if(r.ctrlKey&&n&&l&&r.preventDefault(),i||l)return null;r.preventDefault(),a.call(this,r,o)}}function dD({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:a}){return r=>{var n,i,l;if((n=r.sourceEvent)!=null&&n.internal)return;let o=Nl(r.transform);t.mouseButton=((i=r.sourceEvent)==null?void 0:i.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=o,((l=r.sourceEvent)==null?void 0:l.type)==="mousedown"&&e(!0),a&&(a==null||a(r.sourceEvent,o))}}function uD({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:a,onTransformChange:r,onPanZoom:o}){return n=>{var i,l,c;t.usedRightMouseButton=!!(a&&Uz(e,(i=t.mouseButton)!=null?i:0)),(l=n.sourceEvent)!=null&&l.sync||r([n.transform.x,n.transform.y,n.transform.k]),o&&!((c=n.sourceEvent)!=null&&c.internal)&&(o==null||o(n.sourceEvent,Nl(n.transform)))}}function fD({zoomPanValues:t,panOnDrag:e,panOnScroll:a,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:n}){return i=>{var l,c;if(!((l=i.sourceEvent)!=null&&l.internal)&&(t.isZoomingOrPanning=!1,n&&Uz(e,(c=t.mouseButton)!=null?c:0)&&!t.usedRightMouseButton&&i.sourceEvent&&n(i.sourceEvent),t.usedRightMouseButton=!1,r(!1),o)){let s=Nl(i.transform);t.prevViewport=s,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o==null||o(i.sourceEvent,s)},a?150:0)}}}function hD({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:a,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:n,userSelectionActive:i,noWheelClassName:l,noPanClassName:c,lib:s,connectionInProgress:d}){return u=>{var L;let f=t||e,h=a&&u.ctrlKey,m=u.type==="wheel";if(u.button===1&&u.type==="mousedown"&&(L7(u,`${s}-flow__node`)||L7(u,`${s}-flow__edge`)))return!0;if(!r&&!f&&!o&&!n&&!a||i||d&&!m||L7(u,l)&&m||L7(u,c)&&(!m||o&&m&&!t)||!a&&u.ctrlKey&&m)return!1;if(!a&&u.type==="touchstart"&&((L=u.touches)==null?void 0:L.length)>1)return u.preventDefault(),!1;if(!f&&!o&&!h&&m||!r&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(r)&&!r.includes(u.button)&&u.type==="mousedown")return!1;let x=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||m)&&x}}function $z({domNode:t,minZoom:e,maxZoom:a,translateExtent:r,viewport:o,onPanZoom:n,onPanZoomStart:i,onPanZoomEnd:l,onDraggingChange:c}){let s={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),u=wl().scaleExtent([e,a]).translateExtent(r),f=A4(t).call(u);C({x:o.x,y:o.y,zoom:y7(o.zoom,e,a)},[[0,0],[d.width,d.height]],r);let h=f.on("wheel.zoom"),m=f.on("dblclick.zoom");u.wheelDelta(qz);function x(O,_){return f?new Promise(N=>{u==null||u.interpolate((_==null?void 0:_.interpolate)==="linear"?c6:T5).transform(Gf(f,_==null?void 0:_.duration,_==null?void 0:_.ease,()=>N(!0)),O)}):Promise.resolve(!1)}function L({noWheelClassName:O,noPanClassName:_,onPaneContextMenu:N,userSelectionActive:w,panOnScroll:M,panOnDrag:z,panOnScrollMode:k,panOnScrollSpeed:T,preventScrolling:S,zoomOnPinch:R,zoomOnScroll:Z,zoomOnDoubleClick:P,zoomActivationKeyPressed:B,lib:I,onTransformChange:F,connectionInProgress:q,paneClickDistance:G,selectionOnDrag:Y}){w&&!s.isZoomingOrPanning&&g();let J=M&&!B&&!w;u.clickDistance(Y?1/0:!yt(G)||G<0?0:G);let h1=J?cD({zoomPanValues:s,noWheelClassName:O,d3Selection:f,d3Zoom:u,panOnScrollMode:k,panOnScrollSpeed:T,zoomOnPinch:R,onPanZoomStart:i,onPanZoom:n,onPanZoomEnd:l}):sD({noWheelClassName:O,preventScrolling:S,d3ZoomHandler:h});if(f.on("wheel.zoom",h1,{passive:!1}),!w){let o1=dD({zoomPanValues:s,onDraggingChange:c,onPanZoomStart:i});u.on("start",o1);let Q=uD({zoomPanValues:s,panOnDrag:z,onPaneContextMenu:!!N,onPanZoom:n,onTransformChange:F});u.on("zoom",Q);let e1=fD({zoomPanValues:s,panOnDrag:z,panOnScroll:M,onPaneContextMenu:N,onPanZoomEnd:l,onDraggingChange:c});u.on("end",e1)}let r1=hD({zoomActivationKeyPressed:B,panOnDrag:z,zoomOnScroll:Z,panOnScroll:M,zoomOnDoubleClick:P,zoomOnPinch:R,userSelectionActive:w,noPanClassName:_,noWheelClassName:O,lib:I,connectionInProgress:q});u.filter(r1),P?f.on("dblclick.zoom",m):f.on("dblclick.zoom",null)}function g(){u.on("zoom",null)}async function C(O,_,N){let w=$f(O),M=u==null?void 0:u.constrain()(w,_,N);return M&&await x(M),new Promise(z=>z(M))}async function v(O,_){let N=$f(O);return await x(N,_),new Promise(w=>w(N))}function y(O){if(f){let _=$f(O),N=f.property("__zoom");(N.k!==O.zoom||N.x!==O.x||N.y!==O.y)&&(u==null||u.transform(f,_,null,{sync:!0}))}}function b(){let O=f?dr(f.node()):{x:0,y:0,k:1};return{x:O.x,y:O.y,zoom:O.k}}function V(O,_){return f?new Promise(N=>{u==null||u.interpolate((_==null?void 0:_.interpolate)==="linear"?c6:T5).scaleTo(Gf(f,_==null?void 0:_.duration,_==null?void 0:_.ease,()=>N(!0)),O)}):Promise.resolve(!1)}function H(O,_){return f?new Promise(N=>{u==null||u.interpolate((_==null?void 0:_.interpolate)==="linear"?c6:T5).scaleBy(Gf(f,_==null?void 0:_.duration,_==null?void 0:_.ease,()=>N(!0)),O)}):Promise.resolve(!1)}function D(O){u==null||u.scaleExtent(O)}function A(O){u==null||u.translateExtent(O)}function E(O){let _=!yt(O)||O<0?0:O;u==null||u.clickDistance(_)}return{update:L,destroy:g,setViewport:v,setViewportConstrained:C,getViewport:b,scaleTo:V,scaleBy:H,setScaleExtent:D,setTranslateExtent:A,syncViewport:y,setClickDistance:E}}var h6;(function(t){t.Line="line",t.Handle="handle"})(h6||(h6={}));var Gz=["top-left","top-right","bottom-left","bottom-right"],jz=["top","right","bottom","left"];function pD({width:t,prevWidth:e,height:a,prevHeight:r,affectsX:o,affectsY:n}){let i=t-e,l=a-r,c=[i>0?1:i<0?-1:0,l>0?1:l<0?-1:0];return i&&o&&(c[0]=c[0]*-1),l&&n&&(c[1]=c[1]*-1),c}function vz(t){let e=t.includes("right")||t.includes("left"),a=t.includes("bottom")||t.includes("top"),r=t.includes("left"),o=t.includes("top");return{isHorizontal:e,isVertical:a,affectsX:r,affectsY:o}}function we(t,e){return Math.max(0,e-t)}function ze(t,e){return Math.max(0,t-e)}function bl(t,e,a){return Math.max(0,e-t,t-a)}function Cz(t,e){return t?!e:e}function gD(t,e,a,r,o,n,i,l){let{affectsX:c,affectsY:s}=e,{isHorizontal:d,isVertical:u}=e,f=d&&u,{xSnapped:h,ySnapped:m}=a,{minWidth:x,maxWidth:L,minHeight:g,maxHeight:C}=r,{x:v,y,width:b,height:V,aspectRatio:H}=t,D=Math.floor(d?h-t.pointerX:0),A=Math.floor(u?m-t.pointerY:0),E=b+(c?-D:D),O=V+(s?-A:A),_=-n[0]*b,N=-n[1]*V,w=bl(E,x,L),M=bl(O,g,C);if(i){let T=0,S=0;c&&D<0?T=we(v+D+_,i[0][0]):!c&&D>0&&(T=ze(v+E+_,i[1][0])),s&&A<0?S=we(y+A+N,i[0][1]):!s&&A>0&&(S=ze(y+O+N,i[1][1])),w=Math.max(w,T),M=Math.max(M,S)}if(l){let T=0,S=0;c&&D>0?T=ze(v+D,l[0][0]):!c&&D<0&&(T=we(v+E,l[1][0])),s&&A>0?S=ze(y+A,l[0][1]):!s&&A<0&&(S=we(y+O,l[1][1])),w=Math.max(w,T),M=Math.max(M,S)}if(o){if(d){let T=bl(E/H,g,C)*H;if(w=Math.max(w,T),i){let S=0;!c&&!s||c&&!s&&f?S=ze(y+N+E/H,i[1][1])*H:S=we(y+N+(c?D:-D)/H,i[0][1])*H,w=Math.max(w,S)}if(l){let S=0;!c&&!s||c&&!s&&f?S=we(y+E/H,l[1][1])*H:S=ze(y+(c?D:-D)/H,l[0][1])*H,w=Math.max(w,S)}}if(u){let T=bl(O*H,x,L)/H;if(M=Math.max(M,T),i){let S=0;!c&&!s||s&&!c&&f?S=ze(v+O*H+_,i[1][0])/H:S=we(v+(s?A:-A)*H+_,i[0][0])/H,M=Math.max(M,S)}if(l){let S=0;!c&&!s||s&&!c&&f?S=we(v+O*H,l[1][0])/H:S=ze(v+(s?A:-A)*H,l[0][0])/H,M=Math.max(M,S)}}}A=A+(A<0?M:-M),D=D+(D<0?w:-w),o&&(f?E>O*H?A=(Cz(c,s)?-D:D)/H:D=(Cz(c,s)?-A:A)*H:d?(A=D/H,s=c):(D=A*H,c=s));let z=c?v+D:v,k=s?y+A:y;return{width:b+(c?-D:D),height:V+(s?-A:A),x:n[0]*D*(c?-1:1)+z,y:n[1]*A*(s?-1:1)+k}}var Wz={width:0,height:0,x:0,y:0},mD={...Wz,pointerX:0,pointerY:0,aspectRatio:1};function vD(t){return[[0,0],[t.measured.width,t.measured.height]]}function CD(t,e,a){var s,d;let r=e.position.x+t.position.x,o=e.position.y+t.position.y,n=(s=t.measured.width)!=null?s:0,i=(d=t.measured.height)!=null?d:0,l=a[0]*n,c=a[1]*i;return[[r-l,o-c],[r+n-l,o+i-c]]}function Yz({domNode:t,nodeId:e,getStoreItems:a,onChange:r,onEnd:o}){let n=A4(t),i={controlDirection:vz("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:s,boundaries:d,keepAspectRatio:u,resizeDirection:f,onResizeStart:h,onResize:m,onResizeEnd:x,shouldResize:L}){let g={...Wz},C={...mD};i={boundaries:d,resizeDirection:f,keepAspectRatio:u,controlDirection:vz(s)};let v,y=null,b=[],V,H,D,A=!1,E=al().on("start",O=>{var R,Z,P,B,I,F;let{nodeLookup:_,transform:N,snapGrid:w,snapToGrid:M,nodeOrigin:z,paneDomNode:k}=a();if(v=_.get(e),!v)return;y=(R=k==null?void 0:k.getBoundingClientRect())!=null?R:null;let{xSnapped:T,ySnapped:S}=ur(O.sourceEvent,{transform:N,snapGrid:w,snapToGrid:M,containerBounds:y});g={width:(Z=v.measured.width)!=null?Z:0,height:(P=v.measured.height)!=null?P:0,x:(B=v.position.x)!=null?B:0,y:(I=v.position.y)!=null?I:0},C={...g,pointerX:T,pointerY:S,aspectRatio:g.width/g.height},V=void 0,v.parentId&&(v.extent==="parent"||v.expandParent)&&(V=_.get(v.parentId),H=V&&v.extent==="parent"?vD(V):void 0),b=[],D=void 0;for(let[q,G]of _)if(G.parentId===e&&(b.push({id:q,position:{...G.position},extent:G.extent}),G.extent==="parent"||G.expandParent)){let Y=CD(G,v,(F=G.origin)!=null?F:z);D?D=[[Math.min(Y[0][0],D[0][0]),Math.min(Y[0][1],D[0][1])],[Math.max(Y[1][0],D[1][0]),Math.max(Y[1][1],D[1][1])]]:D=Y}h==null||h(O,{...g})}).on("drag",O=>{var c1,p1,V1;let{transform:_,snapGrid:N,snapToGrid:w,nodeOrigin:M}=a(),z=ur(O.sourceEvent,{transform:_,snapGrid:N,snapToGrid:w,containerBounds:y}),k=[];if(!v)return;let{x:T,y:S,width:R,height:Z}=g,P={},B=(c1=v.origin)!=null?c1:M,{width:I,height:F,x:q,y:G}=gD(C,i.controlDirection,z,i.boundaries,i.keepAspectRatio,B,H,D),Y=I!==R,J=F!==Z,h1=q!==T&&Y,r1=G!==S&&J;if(!h1&&!r1&&!Y&&!J)return;if((h1||r1||B[0]===1||B[1]===1)&&(P.x=h1?q:g.x,P.y=r1?G:g.y,g.x=P.x,g.y=P.y,b.length>0)){let k1=q-T,R1=G-S;for(let N1 of b)N1.position={x:N1.position.x-k1+B[0]*(I-R),y:N1.position.y-R1+B[1]*(F-Z)},k.push(N1)}if((Y||J)&&(P.width=Y&&(!i.resizeDirection||i.resizeDirection==="horizontal")?I:g.width,P.height=J&&(!i.resizeDirection||i.resizeDirection==="vertical")?F:g.height,g.width=P.width,g.height=P.height),V&&v.expandParent){let k1=B[0]*((p1=P.width)!=null?p1:0);P.x&&P.x<k1&&(g.x=k1,C.x=C.x-(P.x-k1));let R1=B[1]*((V1=P.height)!=null?V1:0);P.y&&P.y<R1&&(g.y=R1,C.y=C.y-(P.y-R1))}let o1=pD({width:g.width,prevWidth:R,height:g.height,prevHeight:Z,affectsX:i.controlDirection.affectsX,affectsY:i.controlDirection.affectsY}),Q={...g,direction:o1};(L==null?void 0:L(O,Q))!==!1&&(A=!0,m==null||m(O,Q),r(P,k))}).on("end",O=>{A&&(x==null||x(O,{...g}),o==null||o({...g}),A=!1)});n.call(E)}function c(){n.on(".drag",null)}return{update:l,destroy:c}}var cb=B1(T2(),1),sb=B1(rb(),1);var nb={},ob=t=>{let e,a=new Set,r=(d,u)=>{let f=typeof d=="function"?d(e):d;if(!Object.is(f,e)){let h=e;e=(u!=null?u:typeof f!="object"||f===null)?f:Object.assign({},e,f),a.forEach(m=>m(e,h))}},o=()=>e,c={setState:r,getState:o,getInitialState:()=>s,subscribe:d=>(a.add(d),()=>a.delete(d)),destroy:()=>{(nb.env?nb.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),a.clear()}},s=e=t(r,o,c);return c},ib=t=>t?ob(t):ob;var{useDebugValue:RD}=cb.default,{useSyncExternalStoreWithSelector:ED}=sb.default,ND=t=>t;function xh(t,e=ND,a){let r=ED(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,a);return RD(r),r}var lb=(t,e)=>{let a=ib(t),r=(o,n=e)=>xh(a,o,n);return Object.assign(r,a),r},db=(t,e)=>t?lb(t,e):lb;function P2(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(let[r,o]of t)if(!Object.is(o,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(let r of t)if(!e.has(r))return!1;return!0}let a=Object.keys(t);if(a.length!==Object.keys(e).length)return!1;for(let r of a)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var PD=B1(as()),_l=(0,i1.createContext)(null),OD=_l.Provider,Db=Y3.error001();function h2(t,e){let a=(0,i1.useContext)(_l);if(a===null)throw new Error(Db);return xh(a,t,e)}function $2(){let t=(0,i1.useContext)(_l);if(t===null)throw new Error(Db);return(0,i1.useMemo)(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}var ub={display:"none"},ZD={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Rb="react-flow__node-desc",Eb="react-flow__edge-desc",_D="react-flow__aria-live",UD=t=>t.ariaLiveMessage,qD=t=>t.ariaLabelConfig;function $D({rfId:t}){let e=h2(UD);return(0,a1.jsx)("div",{id:`${_D}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:ZD,children:e})}function GD({rfId:t,disableKeyboardA11y:e}){let a=h2(qD);return(0,a1.jsxs)(a1.Fragment,{children:[(0,a1.jsx)("div",{id:`${Rb}-${t}`,style:ub,children:e?a["node.a11yDescription.default"]:a["node.a11yDescription.keyboardDisabled"]}),(0,a1.jsx)("div",{id:`${Eb}-${t}`,style:ub,children:a["edge.a11yDescription.default"]}),!e&&(0,a1.jsx)($D,{rfId:t})]})}var Ul=(0,i1.forwardRef)(({position:t="top-left",children:e,className:a,style:r,...o},n)=>{let i=`${t}`.split("-");return(0,a1.jsx)("div",{className:e4(["react-flow__panel",a,...i]),style:r,ref:n,...o,children:e})});Ul.displayName="Panel";function jD({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:(0,a1.jsx)(Ul,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:(0,a1.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}var WD=t=>{let e=[],a=[];for(let[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(let[,r]of t.edgeLookup)r.selected&&a.push(r);return{selectedNodes:e,selectedEdges:a}},Ol=t=>t.id;function YD(t,e){return P2(t.selectedNodes.map(Ol),e.selectedNodes.map(Ol))&&P2(t.selectedEdges.map(Ol),e.selectedEdges.map(Ol))}function XD({onSelectionChange:t}){let e=$2(),{selectedNodes:a,selectedEdges:r}=h2(WD,YD);return(0,i1.useEffect)(()=>{let o={nodes:a,edges:r};t==null||t(o),e.getState().onSelectionChangeHandlers.forEach(n=>n(o))},[a,r,t]),null}var KD=t=>!!t.onSelectionChangeHandlers;function QD({onSelectionChange:t}){let e=h2(KD);return t||e?(0,a1.jsx)(XD,{onSelectionChange:t}):null}var Nb=[0,0],JD={x:0,y:0,zoom:1},tR=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],fb=[...tR,"rfId"],eR=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges}),hb={translateExtent:w7,nodeOrigin:Nb,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function aR(t){let{setNodes:e,setEdges:a,setMinZoom:r,setMaxZoom:o,setTranslateExtent:n,setNodeExtent:i,reset:l,setDefaultNodesAndEdges:c}=h2(eR,P2),s=$2();(0,i1.useEffect)(()=>(c(t.defaultNodes,t.defaultEdges),()=>{d.current=hb,l()}),[]);let d=(0,i1.useRef)(hb);return(0,i1.useEffect)(()=>{for(let u of fb){let f=t[u],h=d.current[u];f!==h&&typeof t[u]!="undefined"&&(u==="nodes"?e(f):u==="edges"?a(f):u==="minZoom"?r(f):u==="maxZoom"?o(f):u==="translateExtent"?n(f):u==="nodeExtent"?i(f):u==="ariaLabelConfig"?s.setState({ariaLabelConfig:Sz(f)}):u==="fitView"?s.setState({fitViewQueued:f}):u==="fitViewOptions"?s.setState({fitViewOptions:f}):s.setState({[u]:f}))}d.current=t},fb.map(u=>t[u])),null}function pb(){return typeof window=="undefined"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function rR(t){var r;let[e,a]=(0,i1.useState)(t==="system"?null:t);return(0,i1.useEffect)(()=>{if(t!=="system"){a(t);return}let o=pb(),n=()=>a(o!=null&&o.matches?"dark":"light");return n(),o==null||o.addEventListener("change",n),()=>{o==null||o.removeEventListener("change",n)}},[t]),e!==null?e:(r=pb())!=null&&r.matches?"dark":"light"}var gb=typeof document!="undefined"?document:null;function mr(t=null,e={target:gb,actInsideInputWithModifier:!0}){let[a,r]=(0,i1.useState)(!1),o=(0,i1.useRef)(!1),n=(0,i1.useRef)(new Set([])),[i,l]=(0,i1.useMemo)(()=>{if(t!==null){let s=(Array.isArray(t)?t:[t]).filter(u=>typeof u=="string").map(u=>u.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=s.reduce((u,f)=>u.concat(...f),[]);return[s,d]}return[[],[]]},[t]);return(0,i1.useEffect)(()=>{var d,u;let c=(d=e==null?void 0:e.target)!=null?d:gb,s=(u=e==null?void 0:e.actInsideInputWithModifier)!=null?u:!0;if(t!==null){let f=x=>{var C,v;if(o.current=x.ctrlKey||x.metaKey||x.shiftKey||x.altKey,(!o.current||o.current&&!s)&&sh(x))return!1;let g=vb(x.code,l);if(n.current.add(x[g]),mb(i,n.current,!1)){let y=((v=(C=x.composedPath)==null?void 0:C.call(x))==null?void 0:v[0])||x.target,b=(y==null?void 0:y.nodeName)==="BUTTON"||(y==null?void 0:y.nodeName)==="A";e.preventDefault!==!1&&(o.current||!b)&&x.preventDefault(),r(!0)}},h=x=>{let L=vb(x.code,l);mb(i,n.current,!0)?(r(!1),n.current.clear()):n.current.delete(x[L]),x.key==="Meta"&&n.current.clear(),o.current=!1},m=()=>{n.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",f),c==null||c.addEventListener("keyup",h),window.addEventListener("blur",m),window.addEventListener("contextmenu",m),()=>{c==null||c.removeEventListener("keydown",f),c==null||c.removeEventListener("keyup",h),window.removeEventListener("blur",m),window.removeEventListener("contextmenu",m)}}},[t,r]),a}function mb(t,e,a){return t.filter(r=>a||r.length===e.size).some(r=>r.every(o=>e.has(o)))}function vb(t,e){return e.includes(t)?"code":"key"}var oR=()=>{let t=$2();return(0,i1.useMemo)(()=>({zoomIn:e=>{let{panZoom:a}=t.getState();return a?a.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{let{panZoom:a}=t.getState();return a?a.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,a)=>{let{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:a==null?void 0:a.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,a)=>{var l,c,s;let{transform:[r,o,n],panZoom:i}=t.getState();return i?(await i.setViewport({x:(l=e.x)!=null?l:r,y:(c=e.y)!=null?c:o,zoom:(s=e.zoom)!=null?s:n},a),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{let[e,a,r]=t.getState().transform;return{x:e,y:a,zoom:r}},setCenter:async(e,a,r)=>t.getState().setCenter(e,a,r),fitBounds:async(e,a)=>{var s;let{width:r,height:o,minZoom:n,maxZoom:i,panZoom:l}=t.getState(),c=pr(e,r,o,n,i,(s=a==null?void 0:a.padding)!=null?s:.1);return l?(await l.setViewport(c,{duration:a==null?void 0:a.duration,ease:a==null?void 0:a.ease,interpolate:a==null?void 0:a.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,a={})=>{var f,h;let{transform:r,snapGrid:o,snapToGrid:n,domNode:i}=t.getState();if(!i)return e;let{x:l,y:c}=i.getBoundingClientRect(),s={x:e.x-l,y:e.y-c},d=(f=a.snapGrid)!=null?f:o,u=(h=a.snapToGrid)!=null?h:n;return H7(s,r,u,d)},flowToScreenPosition:e=>{let{transform:a,domNode:r}=t.getState();if(!r)return e;let{x:o,y:n}=r.getBoundingClientRect(),i=fr(e,a);return{x:i.x+o,y:i.y+n}}}),[])};function Pb(t,e){let a=[],r=new Map,o=[];for(let n of t)if(n.type==="add"){o.push(n);continue}else if(n.type==="remove"||n.type==="replace")r.set(n.id,[n]);else{let i=r.get(n.id);i?i.push(n):r.set(n.id,[n])}for(let n of e){let i=r.get(n.id);if(!i){a.push(n);continue}if(i[0].type==="remove")continue;if(i[0].type==="replace"){a.push({...i[0].item});continue}let l={...n};for(let c of i)nR(c,l);a.push(l)}return o.length&&o.forEach(n=>{n.index!==void 0?a.splice(n.index,0,{...n.item}):a.push({...n.item})}),a}function nR(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position!="undefined"&&(e.position=t.position),typeof t.dragging!="undefined"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions!="undefined"&&(e.measured={...t.dimensions},t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function Ob(t,e){return Pb(t,e)}function iR(t,e){return Pb(t,e)}function R5(t,e){return{id:t,type:"select",selected:e}}function T7(t,e=new Set,a=!1){let r=[];for(let[o,n]of t){let i=e.has(o);!(n.selected===void 0&&!i)&&n.selected!==i&&(a&&(n.selected=i),r.push(R5(n.id,i)))}return r}function Cb({items:t=[],lookup:e}){var o,n;let a=[],r=new Map(t.map(i=>[i.id,i]));for(let[i,l]of t.entries()){let c=e.get(l.id),s=(n=(o=c==null?void 0:c.internals)==null?void 0:o.userNode)!=null?n:c;s!==void 0&&s!==l&&a.push({id:l.id,item:l,type:"replace"}),s===void 0&&a.push({item:l,type:"add",index:i})}for(let[i]of e)r.get(i)===void 0&&a.push({id:i,type:"remove"});return a}function xb(t){return{id:t.id,type:"remove"}}var Lb=t=>xz(t),lR=t=>Qf(t);function Zb(t){return(0,i1.forwardRef)(t)}var cR=typeof window!="undefined"?i1.useLayoutEffect:i1.useEffect;function yb(t){let[e,a]=(0,i1.useState)(BigInt(0)),[r]=(0,i1.useState)(()=>sR(()=>a(o=>o+BigInt(1))));return cR(()=>{let o=r.get();o.length&&(t(o),r.reset())},[e]),r}function sR(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:a=>{e.push(a),t()}}}var _b=(0,i1.createContext)(null);function dR({children:t}){let e=$2(),a=(0,i1.useCallback)(l=>{let{nodes:c=[],setNodes:s,hasDefaultNodes:d,onNodesChange:u,nodeLookup:f,fitViewQueued:h,onNodesChangeMiddlewareMap:m}=e.getState(),x=c;for(let g of l)x=typeof g=="function"?g(x):g;let L=Cb({items:x,lookup:f});for(let g of m.values())L=g(L);d&&s(x),L.length>0?u==null||u(L):h&&window.requestAnimationFrame(()=>{let{fitViewQueued:g,nodes:C,setNodes:v}=e.getState();g&&v(C)})},[]),r=yb(a),o=(0,i1.useCallback)(l=>{let{edges:c=[],setEdges:s,hasDefaultEdges:d,onEdgesChange:u,edgeLookup:f}=e.getState(),h=c;for(let m of l)h=typeof m=="function"?m(h):m;d?s(h):u&&u(Cb({items:h,lookup:f}))},[]),n=yb(o),i=(0,i1.useMemo)(()=>({nodeQueue:r,edgeQueue:n}),[]);return(0,a1.jsx)(_b.Provider,{value:i,children:t})}function uR(){let t=(0,i1.useContext)(_b);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}var fR=t=>!!t.panZoom;function wh(){let t=oR(),e=$2(),a=uR(),r=h2(fR),o=(0,i1.useMemo)(()=>{let n=u=>e.getState().nodeLookup.get(u),i=u=>{a.nodeQueue.push(u)},l=u=>{a.edgeQueue.push(u)},c=u=>{var g,C,v,y;let{nodeLookup:f,nodeOrigin:h}=e.getState(),m=Lb(u)?u:f.get(u.id),x=m.parentId?ih(m.position,m.measured,m.parentId,f,h):m.position,L={...m,position:x,width:(C=(g=m.measured)==null?void 0:g.width)!=null?C:m.width,height:(y=(v=m.measured)==null?void 0:v.height)!=null?y:m.height};return D5(L)},s=(u,f,h={replace:!1})=>{i(m=>m.map(x=>{if(x.id===u){let L=typeof f=="function"?f(x):f;return h.replace&&Lb(L)?L:{...x,...L}}return x}))},d=(u,f,h={replace:!1})=>{l(m=>m.map(x=>{if(x.id===u){let L=typeof f=="function"?f(x):f;return h.replace&&lR(L)?L:{...x,...L}}return x}))};return{getNodes:()=>e.getState().nodes.map(u=>({...u})),getNode:u=>{var f;return(f=n(u))==null?void 0:f.internals.userNode},getInternalNode:n,getEdges:()=>{let{edges:u=[]}=e.getState();return u.map(f=>({...f}))},getEdge:u=>e.getState().edgeLookup.get(u),setNodes:i,setEdges:l,addNodes:u=>{let f=Array.isArray(u)?u:[u];a.nodeQueue.push(h=>[...h,...f])},addEdges:u=>{let f=Array.isArray(u)?u:[u];a.edgeQueue.push(h=>[...h,...f])},toObject:()=>{let{nodes:u=[],edges:f=[],transform:h}=e.getState(),[m,x,L]=h;return{nodes:u.map(g=>({...g})),edges:f.map(g=>({...g})),viewport:{x:m,y:x,zoom:L}}},deleteElements:async({nodes:u=[],edges:f=[]})=>{let{nodes:h,edges:m,onNodesDelete:x,onEdgesDelete:L,triggerNodeChanges:g,triggerEdgeChanges:C,onDelete:v,onBeforeDelete:y}=e.getState(),{nodes:b,edges:V}=await Mz({nodesToRemove:u,edgesToRemove:f,nodes:h,edges:m,onBeforeDelete:y}),H=V.length>0,D=b.length>0;if(H){let A=V.map(xb);L==null||L(V),C(A)}if(D){let A=b.map(xb);x==null||x(b),g(A)}return(D||H)&&(v==null||v({nodes:b,edges:V})),{deletedNodes:b,deletedEdges:V}},getIntersectingNodes:(u,f=!0,h)=>{let m=rh(u),x=m?u:c(u),L=h!==void 0;return x?(h||e.getState().nodes).filter(g=>{let C=e.getState().nodeLookup.get(g.id);if(C&&!m&&(g.id===u.id||!C.internals.positionAbsolute))return!1;let v=D5(L?g:C),y=b7(v,x);return f&&y>0||y>=v.width*v.height||y>=x.width*x.height}):[]},isNodeIntersecting:(u,f,h=!0)=>{let x=rh(u)?u:c(u);if(!x)return!1;let L=b7(x,f);return h&&L>0||L>=f.width*f.height||L>=x.width*x.height},updateNode:s,updateNodeData:(u,f,h={replace:!1})=>{s(u,m=>{let x=typeof f=="function"?f(m):f;return h.replace?{...m,data:x}:{...m,data:{...m.data,...x}}},h)},updateEdge:d,updateEdgeData:(u,f,h={replace:!1})=>{d(u,m=>{let x=typeof f=="function"?f(m):f;return h.replace?{...m,data:x}:{...m,data:{...m.data,...x}}},h)},getNodesBounds:u=>{let{nodeLookup:f,nodeOrigin:h}=e.getState();return th(u,{nodeLookup:f,nodeOrigin:h})},getHandleConnections:({type:u,id:f,nodeId:h})=>{var m,x;return Array.from((x=(m=e.getState().connectionLookup.get(`${h}-${u}${f?`-${f}`:""}`))==null?void 0:m.values())!=null?x:[])},getNodeConnections:({type:u,handleId:f,nodeId:h})=>{var m,x;return Array.from((x=(m=e.getState().connectionLookup.get(`${h}${u?f?`-${u}-${f}`:`-${u}`:""}`))==null?void 0:m.values())!=null?x:[])},fitView:async u=>{var h;let f=(h=e.getState().fitViewResolver)!=null?h:bz();return e.setState({fitViewQueued:!0,fitViewOptions:u,fitViewResolver:f}),a.nodeQueue.push(m=>[...m]),f.promise}}},[]);return(0,i1.useMemo)(()=>({...o,...t,viewportInitialized:r}),[r])}var Mb=t=>t.selected,hR=typeof window!="undefined"?window:void 0;function pR({deleteKeyCode:t,multiSelectionKeyCode:e}){let a=$2(),{deleteElements:r}=wh(),o=mr(t,{actInsideInputWithModifier:!1}),n=mr(e,{target:hR});(0,i1.useEffect)(()=>{if(o){let{edges:i,nodes:l}=a.getState();r({nodes:l.filter(Mb),edges:i.filter(Mb)}),a.setState({nodesSelectionActive:!1})}},[o]),(0,i1.useEffect)(()=>{a.setState({multiSelectionActive:n})},[n])}function gR(t){let e=$2();(0,i1.useEffect)(()=>{let a=()=>{var o,n,i,l,c;if(!t.current||!((i=(n=(o=t.current).checkVisibility)==null?void 0:n.call(o))==null||i))return!1;let r=Tl(t.current);(r.height===0||r.width===0)&&((c=(l=e.getState()).onError)==null||c.call(l,"004",Y3.error004())),e.setState({width:r.width||500,height:r.height||500})};if(t.current){a(),window.addEventListener("resize",a);let r=new ResizeObserver(()=>a());return r.observe(t.current),()=>{window.removeEventListener("resize",a),r&&t.current&&r.unobserve(t.current)}}},[])}var ql={position:"absolute",width:"100%",height:"100%",top:0,left:0},mR=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function vR({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:a=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:n=d6.Free,zoomOnDoubleClick:i=!0,panOnDrag:l=!0,defaultViewport:c,translateExtent:s,minZoom:d,maxZoom:u,zoomActivationKeyCode:f,preventScrolling:h=!0,children:m,noWheelClassName:x,noPanClassName:L,onViewportChange:g,isControlledViewport:C,paneClickDistance:v,selectionOnDrag:y}){let b=$2(),V=(0,i1.useRef)(null),{userSelectionActive:H,lib:D,connectionInProgress:A}=h2(mR,P2),E=mr(f),O=(0,i1.useRef)();gR(V);let _=(0,i1.useCallback)(N=>{g==null||g({x:N[0],y:N[1],zoom:N[2]}),C||b.setState({transform:N})},[g,C]);return(0,i1.useEffect)(()=>{if(V.current){O.current=$z({domNode:V.current,minZoom:d,maxZoom:u,translateExtent:s,viewport:c,onDraggingChange:z=>b.setState({paneDragging:z}),onPanZoomStart:(z,k)=>{let{onViewportChangeStart:T,onMoveStart:S}=b.getState();S==null||S(z,k),T==null||T(k)},onPanZoom:(z,k)=>{let{onViewportChange:T,onMove:S}=b.getState();S==null||S(z,k),T==null||T(k)},onPanZoomEnd:(z,k)=>{let{onViewportChangeEnd:T,onMoveEnd:S}=b.getState();S==null||S(z,k),T==null||T(k)}});let{x:N,y:w,zoom:M}=O.current.getViewport();return b.setState({panZoom:O.current,transform:[N,w,M],domNode:V.current.closest(".react-flow")}),()=>{var z;(z=O.current)==null||z.destroy()}}},[]),(0,i1.useEffect)(()=>{var N;(N=O.current)==null||N.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:a,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:n,zoomOnDoubleClick:i,panOnDrag:l,zoomActivationKeyPressed:E,preventScrolling:h,noPanClassName:L,userSelectionActive:H,noWheelClassName:x,lib:D,onTransformChange:_,connectionInProgress:A,selectionOnDrag:y,paneClickDistance:v})},[t,e,a,r,o,n,i,l,E,h,L,H,x,D,_,A,y,v]),(0,a1.jsx)("div",{className:"react-flow__renderer",ref:V,style:ql,children:m})}var CR=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function xR(){let{userSelectionActive:t,userSelectionRect:e}=h2(CR,P2);return t&&e?(0,a1.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}var Lh=(t,e)=>a=>{a.target===e.current&&(t==null||t(a))},LR=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function yR({isSelecting:t,selectionKeyPressed:e,selectionMode:a=u6.Full,panOnDrag:r,paneClickDistance:o,selectionOnDrag:n,onSelectionStart:i,onSelectionEnd:l,onPaneClick:c,onPaneContextMenu:s,onPaneScroll:d,onPaneMouseEnter:u,onPaneMouseMove:f,onPaneMouseLeave:h,children:m}){let x=$2(),{userSelectionActive:L,elementsSelectable:g,dragging:C,connectionInProgress:v}=h2(LR,P2),y=g&&(t||L),b=(0,i1.useRef)(null),V=(0,i1.useRef)(),H=(0,i1.useRef)(new Set),D=(0,i1.useRef)(new Set),A=(0,i1.useRef)(!1),E=T=>{if(A.current||v){A.current=!1;return}c==null||c(T),x.getState().resetSelectedElements(),x.setState({nodesSelectionActive:!1})},O=T=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){T.preventDefault();return}s==null||s(T)},_=d?T=>d(T):void 0,N=T=>{A.current&&(T.stopPropagation(),A.current=!1)},w=T=>{var F,q;let{domNode:S}=x.getState();if(V.current=S==null?void 0:S.getBoundingClientRect(),!V.current)return;let R=T.target===b.current;if(!R&&!!T.target.closest(".nokey")||!t||!(n&&R||e)||T.button!==0||!T.isPrimary)return;(q=(F=T.target)==null?void 0:F.setPointerCapture)==null||q.call(F,T.pointerId),A.current=!1;let{x:B,y:I}=Mt(T.nativeEvent,V.current);x.setState({userSelectionRect:{width:0,height:0,startX:B,startY:I,x:B,y:I}}),R||(T.stopPropagation(),T.preventDefault())},M=T=>{var p1,V1;let{userSelectionRect:S,transform:R,nodeLookup:Z,edgeLookup:P,connectionLookup:B,triggerNodeChanges:I,triggerEdgeChanges:F,defaultEdgeOptions:q,resetSelectedElements:G}=x.getState();if(!V.current||!S)return;let{x:Y,y:J}=Mt(T.nativeEvent,V.current),{startX:h1,startY:r1}=S;if(!A.current){let k1=e?0:o;if(Math.hypot(Y-h1,J-r1)<=k1)return;G(),i==null||i(T)}A.current=!0;let o1={startX:h1,startY:r1,x:Y<h1?Y:h1,y:J<r1?J:r1,width:Math.abs(Y-h1),height:Math.abs(J-r1)},Q=H.current,e1=D.current;H.current=new Set(Hl(Z,o1,R,a===u6.Partial,!0).map(k1=>k1.id)),D.current=new Set;let c1=(p1=q==null?void 0:q.selectable)!=null?p1:!0;for(let k1 of H.current){let R1=B.get(k1);if(R1)for(let{edgeId:N1}of R1.values()){let n1=P.get(N1);n1&&((V1=n1.selectable)!=null?V1:c1)&&D.current.add(N1)}}if(!lh(Q,H.current)){let k1=T7(Z,H.current,!0);I(k1)}if(!lh(e1,D.current)){let k1=T7(P,D.current);F(k1)}x.setState({userSelectionRect:o1,userSelectionActive:!0,nodesSelectionActive:!1})},z=T=>{var S,R;T.button===0&&((R=(S=T.target)==null?void 0:S.releasePointerCapture)==null||R.call(S,T.pointerId),!L&&T.target===b.current&&x.getState().userSelectionRect&&(E==null||E(T)),x.setState({userSelectionActive:!1,userSelectionRect:null}),A.current&&(l==null||l(T),x.setState({nodesSelectionActive:H.current.size>0})))},k=r===!0||Array.isArray(r)&&r.includes(0);return(0,a1.jsxs)("div",{className:e4(["react-flow__pane",{draggable:k,dragging:C,selection:t}]),onClick:y?void 0:Lh(E,b),onContextMenu:Lh(O,b),onWheel:Lh(_,b),onPointerEnter:y?void 0:u,onPointerMove:y?M:f,onPointerUp:y?z:void 0,onPointerDownCapture:y?w:void 0,onClickCapture:y?N:void 0,onPointerLeave:h,ref:b,style:ql,children:[m,(0,a1.jsx)(xR,{})]})}function Mh({id:t,store:e,unselect:a=!1,nodeRef:r}){let{addSelectedNodes:o,unselectNodesAndEdges:n,multiSelectionActive:i,nodeLookup:l,onError:c}=e.getState(),s=l.get(t);if(!s){c==null||c("012",Y3.error012(t));return}e.setState({nodesSelectionActive:!1}),s.selected?(a||s.selected&&i)&&(n({nodes:[s],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):o([t])}function Ub({nodeRef:t,disabled:e=!1,noDragClassName:a,handleSelector:r,nodeId:o,isSelectable:n,nodeClickDistance:i}){let l=$2(),[c,s]=(0,i1.useState)(!1),d=(0,i1.useRef)();return(0,i1.useEffect)(()=>{d.current=Ez({getStoreItems:()=>l.getState(),onNodeMouseDown:u=>{Mh({id:u,store:l,nodeRef:t})},onDragStart:()=>{s(!0)},onDragStop:()=>{s(!1)}})},[]),(0,i1.useEffect)(()=>{var u,f;if(e)(u=d.current)==null||u.destroy();else if(t.current)return(f=d.current)==null||f.update({noDragClassName:a,handleSelector:r,domNode:t.current,isSelectable:n,nodeId:o,nodeClickDistance:i}),()=>{var h;(h=d.current)==null||h.destroy()}},[a,r,e,n,t,o]),c}var MR=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable=="undefined");function qb(){let t=$2();return(0,i1.useCallback)(a=>{let{nodeExtent:r,snapToGrid:o,snapGrid:n,nodesDraggable:i,onError:l,updateNodePositions:c,nodeLookup:s,nodeOrigin:d}=t.getState(),u=new Map,f=MR(i),h=o?n[0]:5,m=o?n[1]:5,x=a.direction.x*h*a.factor,L=a.direction.y*m*a.factor;for(let[,g]of s){if(!f(g))continue;let C={x:g.internals.positionAbsolute.x+x,y:g.internals.positionAbsolute.y+L};o&&(C=S7(C,n));let{position:v,positionAbsolute:y}=eh({nodeId:g.id,nextPosition:C,nodeLookup:s,nodeExtent:r,nodeOrigin:d,onError:l});g.position=v,g.internals.positionAbsolute=y,u.set(g.id,g)}c(u)},[])}var zh=(0,i1.createContext)(null),wR=zh.Provider;zh.Consumer;var $b=()=>(0,i1.useContext)(zh),zR=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),bR=(t,e,a)=>r=>{let{connectionClickStartHandle:o,connectionMode:n,connection:i}=r,{fromHandle:l,toHandle:c,isValid:s}=i,d=(c==null?void 0:c.nodeId)===t&&(c==null?void 0:c.id)===e&&(c==null?void 0:c.type)===a;return{connectingFrom:(l==null?void 0:l.nodeId)===t&&(l==null?void 0:l.id)===e&&(l==null?void 0:l.type)===a,connectingTo:d,clickConnecting:(o==null?void 0:o.nodeId)===t&&(o==null?void 0:o.id)===e&&(o==null?void 0:o.type)===a,isPossibleEndHandle:n===be.Strict?(l==null?void 0:l.type)!==a:t!==(l==null?void 0:l.nodeId)||e!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!o,valid:d&&s}};function SR({type:t="source",position:e=F1.Top,isValidConnection:a,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:n=!0,id:i,onConnect:l,children:c,className:s,onMouseDown:d,onTouchStart:u,...f},h){var M,z;let m=i||null,x=t==="target",L=$2(),g=$b(),{connectOnClick:C,noPanClassName:v,rfId:y}=h2(zR,P2),{connectingFrom:b,connectingTo:V,clickConnecting:H,isPossibleEndHandle:D,connectionInProcess:A,clickConnectionInProcess:E,valid:O}=h2(bR(g,m,t),P2);g||(z=(M=L.getState()).onError)==null||z.call(M,"010",Y3.error010());let _=k=>{let{defaultEdgeOptions:T,onConnect:S,hasDefaultEdges:R}=L.getState(),Z={...T,...k};if(R){let{edges:P,setEdges:B}=L.getState();B(fh(Z,P))}S==null||S(Z),l==null||l(Z)},N=k=>{if(!g)return;let T=dh(k.nativeEvent);if(o&&(T&&k.button===0||!T)){let S=L.getState();El.onPointerDown(k.nativeEvent,{handleDomNode:k.currentTarget,autoPanOnConnect:S.autoPanOnConnect,connectionMode:S.connectionMode,connectionRadius:S.connectionRadius,domNode:S.domNode,nodeLookup:S.nodeLookup,lib:S.lib,isTarget:x,handleId:m,nodeId:g,flowId:S.rfId,panBy:S.panBy,cancelConnection:S.cancelConnection,onConnectStart:S.onConnectStart,onConnectEnd:S.onConnectEnd,updateConnection:S.updateConnection,onConnect:_,isValidConnection:a||S.isValidConnection,getTransform:()=>L.getState().transform,getFromHandle:()=>L.getState().connection.fromHandle,autoPanSpeed:S.autoPanSpeed,dragThreshold:S.connectionDragThreshold})}T?d==null||d(k):u==null||u(k)},w=k=>{let{onClickConnectStart:T,onClickConnectEnd:S,connectionClickStartHandle:R,connectionMode:Z,isValidConnection:P,lib:B,rfId:I,nodeLookup:F,connection:q}=L.getState();if(!g||!R&&!o)return;if(!R){T==null||T(k.nativeEvent,{nodeId:g,handleId:m,handleType:t}),L.setState({connectionClickStartHandle:{nodeId:g,type:t,id:m}});return}let G=ch(k.target),Y=a||P,{connection:J,isValid:h1}=El.isValid(k.nativeEvent,{handle:{nodeId:g,id:m,type:t},connectionMode:Z,fromNodeId:R.nodeId,fromHandleId:R.id||null,fromType:R.type,isValidConnection:Y,flowId:I,doc:G,lib:B,nodeLookup:F});h1&&J&&_(J);let r1=structuredClone(q);delete r1.inProgress,r1.toPosition=r1.toHandle?r1.toHandle.position:null,S==null||S(k,r1),L.setState({connectionClickStartHandle:null})};return(0,a1.jsx)("div",{"data-handleid":m,"data-nodeid":g,"data-handlepos":e,"data-id":`${y}-${g}-${m}-${t}`,className:e4(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",v,s,{source:!x,target:x,connectable:r,connectablestart:o,connectableend:n,clickconnecting:H,connectingfrom:b,connectingto:V,valid:O,connectionindicator:r&&(!A||D)&&(A||E?n:o)}]),onMouseDown:N,onTouchStart:N,onClick:C?w:void 0,ref:h,...f,children:c})}var p6=(0,i1.memo)(Zb(SR));function HR({data:t,isConnectable:e,sourcePosition:a=F1.Bottom}){return(0,a1.jsxs)(a1.Fragment,{children:[t==null?void 0:t.label,(0,a1.jsx)(p6,{type:"source",position:a,isConnectable:e})]})}function kR({data:t,isConnectable:e,targetPosition:a=F1.Top,sourcePosition:r=F1.Bottom}){return(0,a1.jsxs)(a1.Fragment,{children:[(0,a1.jsx)(p6,{type:"target",position:a,isConnectable:e}),t==null?void 0:t.label,(0,a1.jsx)(p6,{type:"source",position:r,isConnectable:e})]})}function VR(){return null}function TR({data:t,isConnectable:e,targetPosition:a=F1.Top}){return(0,a1.jsxs)(a1.Fragment,{children:[(0,a1.jsx)(p6,{type:"target",position:a,isConnectable:e}),t==null?void 0:t.label]})}var Zl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},wb={input:HR,default:kR,output:TR,group:VR};function BR(t){var e,a,r,o,n,i,l,c,s,d;return t.internals.handleBounds===void 0?{width:(r=(e=t.width)!=null?e:t.initialWidth)!=null?r:(a=t.style)==null?void 0:a.width,height:(i=(o=t.height)!=null?o:t.initialHeight)!=null?i:(n=t.style)==null?void 0:n.height}:{width:(c=t.width)!=null?c:(l=t.style)==null?void 0:l.width,height:(d=t.height)!=null?d:(s=t.style)==null?void 0:s.height}}var IR=t=>{let{width:e,height:a,x:r,y:o}=z7(t.nodeLookup,{filter:n=>!!n.selected});return{width:yt(e)?e:null,height:yt(a)?a:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${o}px)`}};function FR({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:a}){let r=$2(),{width:o,height:n,transformString:i,userSelectionActive:l}=h2(IR,P2),c=qb(),s=(0,i1.useRef)(null);if((0,i1.useEffect)(()=>{var f;a||(f=s.current)==null||f.focus({preventScroll:!0})},[a]),Ub({nodeRef:s}),l||!o||!n)return null;let d=t?f=>{let h=r.getState().nodes.filter(m=>m.selected);t(f,h)}:void 0,u=f=>{Object.prototype.hasOwnProperty.call(Zl,f.key)&&(f.preventDefault(),c({direction:Zl[f.key],factor:f.shiftKey?4:1}))};return(0,a1.jsx)("div",{className:e4(["react-flow__nodesselection","react-flow__container",e]),style:{transform:i},children:(0,a1.jsx)("div",{ref:s,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:a?void 0:-1,onKeyDown:a?void 0:u,style:{width:o,height:n}})})}var zb=typeof window!="undefined"?window:void 0,AR=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function Gb({children:t,onPaneClick:e,onPaneMouseEnter:a,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:n,onPaneScroll:i,paneClickDistance:l,deleteKeyCode:c,selectionKeyCode:s,selectionOnDrag:d,selectionMode:u,onSelectionStart:f,onSelectionEnd:h,multiSelectionKeyCode:m,panActivationKeyCode:x,zoomActivationKeyCode:L,elementsSelectable:g,zoomOnScroll:C,zoomOnPinch:v,panOnScroll:y,panOnScrollSpeed:b,panOnScrollMode:V,zoomOnDoubleClick:H,panOnDrag:D,defaultViewport:A,translateExtent:E,minZoom:O,maxZoom:_,preventScrolling:N,onSelectionContextMenu:w,noWheelClassName:M,noPanClassName:z,disableKeyboardA11y:k,onViewportChange:T,isControlledViewport:S}){let{nodesSelectionActive:R,userSelectionActive:Z}=h2(AR,P2),P=mr(s,{target:zb}),B=mr(x,{target:zb}),I=B||D,F=B||y,q=d&&I!==!0,G=P||Z||q;return pR({deleteKeyCode:c,multiSelectionKeyCode:m}),(0,a1.jsx)(vR,{onPaneContextMenu:n,elementsSelectable:g,zoomOnScroll:C,zoomOnPinch:v,panOnScroll:F,panOnScrollSpeed:b,panOnScrollMode:V,zoomOnDoubleClick:H,panOnDrag:!P&&I,defaultViewport:A,translateExtent:E,minZoom:O,maxZoom:_,zoomActivationKeyCode:L,preventScrolling:N,noWheelClassName:M,noPanClassName:z,onViewportChange:T,isControlledViewport:S,paneClickDistance:l,selectionOnDrag:q,children:(0,a1.jsxs)(yR,{onSelectionStart:f,onSelectionEnd:h,onPaneClick:e,onPaneMouseEnter:a,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:n,onPaneScroll:i,panOnDrag:I,isSelecting:!!G,selectionMode:u,selectionKeyPressed:P,paneClickDistance:l,selectionOnDrag:q,children:[t,R&&(0,a1.jsx)(FR,{onSelectionContextMenu:w,noPanClassName:z,disableKeyboardA11y:k})]})})}Gb.displayName="FlowRenderer";var DR=(0,i1.memo)(Gb),RR=t=>e=>t?Hl(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(a=>a.id):Array.from(e.nodeLookup.keys());function ER(t){return h2((0,i1.useCallback)(RR(t),[t]),P2)}var NR=t=>t.updateNodeInternals;function PR(){let t=h2(NR),[e]=(0,i1.useState)(()=>typeof ResizeObserver=="undefined"?null:new ResizeObserver(a=>{let r=new Map;a.forEach(o=>{let n=o.target.getAttribute("data-id");r.set(n,{id:n,nodeElement:o.target,force:!0})}),t(r)}));return(0,i1.useEffect)(()=>()=>{e==null||e.disconnect()},[e]),e}function OR({node:t,nodeType:e,hasDimensions:a,resizeObserver:r}){let o=$2(),n=(0,i1.useRef)(null),i=(0,i1.useRef)(null),l=(0,i1.useRef)(t.sourcePosition),c=(0,i1.useRef)(t.targetPosition),s=(0,i1.useRef)(e),d=a&&!!t.internals.handleBounds;return(0,i1.useEffect)(()=>{n.current&&!t.hidden&&(!d||i.current!==n.current)&&(i.current&&(r==null||r.unobserve(i.current)),r==null||r.observe(n.current),i.current=n.current)},[d,t.hidden]),(0,i1.useEffect)(()=>()=>{i.current&&(r==null||r.unobserve(i.current),i.current=null)},[]),(0,i1.useEffect)(()=>{if(n.current){let u=s.current!==e,f=l.current!==t.sourcePosition,h=c.current!==t.targetPosition;(u||f||h)&&(s.current=e,l.current=t.sourcePosition,c.current=t.targetPosition,o.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:n.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),n}function ZR({id:t,onClick:e,onMouseEnter:a,onMouseMove:r,onMouseLeave:o,onContextMenu:n,onDoubleClick:i,nodesDraggable:l,elementsSelectable:c,nodesConnectable:s,nodesFocusable:d,resizeObserver:u,noDragClassName:f,noPanClassName:h,disableKeyboardA11y:m,rfId:x,nodeTypes:L,nodeClickDistance:g,onError:C}){var Y,J,h1;let{node:v,internals:y,isParent:b}=h2(r1=>{let o1=r1.nodeLookup.get(t),Q=r1.parentLookup.has(t);return{node:o1,internals:o1.internals,isParent:Q}},P2),V=v.type||"default",H=(L==null?void 0:L[V])||wb[V];H===void 0&&(C==null||C("003",Y3.error003(V)),V="default",H=(L==null?void 0:L.default)||wb.default);let D=!!(v.draggable||l&&typeof v.draggable=="undefined"),A=!!(v.selectable||c&&typeof v.selectable=="undefined"),E=!!(v.connectable||s&&typeof v.connectable=="undefined"),O=!!(v.focusable||d&&typeof v.focusable=="undefined"),_=$2(),N=nh(v),w=OR({node:v,nodeType:V,hasDimensions:N,resizeObserver:u}),M=Ub({nodeRef:w,disabled:v.hidden||!D,noDragClassName:f,handleSelector:v.dragHandle,nodeId:t,isSelectable:A,nodeClickDistance:g}),z=qb();if(v.hidden)return null;let k=y0(v),T=BR(v),S=A||D||e||a||r||o,R=a?r1=>a(r1,{...y.userNode}):void 0,Z=r?r1=>r(r1,{...y.userNode}):void 0,P=o?r1=>o(r1,{...y.userNode}):void 0,B=n?r1=>n(r1,{...y.userNode}):void 0,I=i?r1=>i(r1,{...y.userNode}):void 0,F=r1=>{let{selectNodesOnDrag:o1,nodeDragThreshold:Q}=_.getState();A&&(!o1||!D||Q>0)&&Mh({id:t,store:_,nodeRef:w}),e&&e(r1,{...y.userNode})},q=r1=>{if(!(sh(r1.nativeEvent)||m)){if(Wf.includes(r1.key)&&A){let o1=r1.key==="Escape";Mh({id:t,store:_,unselect:o1,nodeRef:w})}else if(D&&v.selected&&Object.prototype.hasOwnProperty.call(Zl,r1.key)){r1.preventDefault();let{ariaLabelConfig:o1}=_.getState();_.setState({ariaLiveMessage:o1["node.a11yDescription.ariaLiveMessage"]({direction:r1.key.replace("Arrow","").toLowerCase(),x:~~y.positionAbsolute.x,y:~~y.positionAbsolute.y})}),z({direction:Zl[r1.key],factor:r1.shiftKey?4:1})}}},G=()=>{var V1;if(m||!((V1=w.current)!=null&&V1.matches(":focus-visible")))return;let{transform:r1,width:o1,height:Q,autoPanOnNodeFocus:e1,setCenter:c1}=_.getState();if(!e1)return;Hl(new Map([[t,v]]),{x:0,y:0,width:o1,height:Q},r1,!0).length>0||c1(v.position.x+k.width/2,v.position.y+k.height/2,{zoom:r1[2]})};return(0,a1.jsx)("div",{className:e4(["react-flow__node",`react-flow__node-${V}`,{[h]:D},v.className,{selected:v.selected,selectable:A,parent:b,draggable:D,dragging:M}]),ref:w,style:{zIndex:y.z,transform:`translate(${y.positionAbsolute.x}px,${y.positionAbsolute.y}px)`,pointerEvents:S?"all":"none",visibility:N?"visible":"hidden",...v.style,...T},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:R,onMouseMove:Z,onMouseLeave:P,onContextMenu:B,onClick:F,onDoubleClick:I,onKeyDown:O?q:void 0,tabIndex:O?0:void 0,onFocus:O?G:void 0,role:(Y=v.ariaRole)!=null?Y:O?"group":void 0,"aria-roledescription":"node","aria-describedby":m?void 0:`${Rb}-${x}`,"aria-label":v.ariaLabel,...v.domAttributes,children:(0,a1.jsx)(wR,{value:t,children:(0,a1.jsx)(H,{id:t,data:v.data,type:V,positionAbsoluteX:y.positionAbsolute.x,positionAbsoluteY:y.positionAbsolute.y,selected:(J=v.selected)!=null?J:!1,selectable:A,draggable:D,deletable:(h1=v.deletable)!=null?h1:!0,isConnectable:E,sourcePosition:v.sourcePosition,targetPosition:v.targetPosition,dragging:M,dragHandle:v.dragHandle,zIndex:y.z,parentId:v.parentId,...k})})})}var _R=(0,i1.memo)(ZR),UR=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function jb(t){let{nodesDraggable:e,nodesConnectable:a,nodesFocusable:r,elementsSelectable:o,onError:n}=h2(UR,P2),i=ER(t.onlyRenderVisibleElements),l=PR();return(0,a1.jsx)("div",{className:"react-flow__nodes",style:ql,children:i.map(c=>(0,a1.jsx)(_R,{id:c,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:l,nodesDraggable:e,nodesConnectable:a,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:t.nodeClickDistance,onError:n},c))})}jb.displayName="NodeRenderer";var qR=(0,i1.memo)(jb);function $R(t){return h2((0,i1.useCallback)(a=>{if(!t)return a.edges.map(o=>o.id);let r=[];if(a.width&&a.height)for(let o of a.edges){let n=a.nodeLookup.get(o.source),i=a.nodeLookup.get(o.target);n&&i&&kz({sourceNode:n,targetNode:i,width:a.width,height:a.height,transform:a.transform})&&r.push(o.id)}return r},[t]),P2)}var GR=({color:t="none",strokeWidth:e=1})=>{let a={strokeWidth:e,...t&&{stroke:t}};return(0,a1.jsx)("polyline",{className:"arrow",style:a,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},jR=({color:t="none",strokeWidth:e=1})=>{let a={strokeWidth:e,...t&&{stroke:t,fill:t}};return(0,a1.jsx)("polyline",{className:"arrowclosed",style:a,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},bb={[f6.Arrow]:GR,[f6.ArrowClosed]:jR};function WR(t){let e=$2();return(0,i1.useMemo)(()=>{var o,n;return Object.prototype.hasOwnProperty.call(bb,t)?bb[t]:((n=(o=e.getState()).onError)==null||n.call(o,"009",Y3.error009(t)),null)},[t])}var YR=({id:t,type:e,color:a,width:r=12.5,height:o=12.5,markerUnits:n="strokeWidth",strokeWidth:i,orient:l="auto-start-reverse"})=>{let c=WR(e);return c?(0,a1.jsx)("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:n,orient:l,refX:"0",refY:"0",children:(0,a1.jsx)(c,{color:a,strokeWidth:i})}):null},Wb=({defaultColor:t,rfId:e})=>{let a=h2(n=>n.edges),r=h2(n=>n.defaultEdgeOptions),o=(0,i1.useMemo)(()=>Tz(a,{id:e,defaultColor:t,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[a,r,e,t]);return o.length?(0,a1.jsx)("svg",{className:"react-flow__marker","aria-hidden":"true",children:(0,a1.jsx)("defs",{children:o.map(n=>(0,a1.jsx)(YR,{id:n.id,type:n.type,color:n.color,width:n.width,height:n.height,markerUnits:n.markerUnits,strokeWidth:n.strokeWidth,orient:n.orient},n.id))})}):null};Wb.displayName="MarkerDefinitions";var XR=(0,i1.memo)(Wb);function Yb({x:t,y:e,label:a,labelStyle:r,labelShowBg:o=!0,labelBgStyle:n,labelBgPadding:i=[2,4],labelBgBorderRadius:l=2,children:c,className:s,...d}){let[u,f]=(0,i1.useState)({x:1,y:0,width:0,height:0}),h=e4(["react-flow__edge-textwrapper",s]),m=(0,i1.useRef)(null);return(0,i1.useEffect)(()=>{if(m.current){let x=m.current.getBBox();f({x:x.x,y:x.y,width:x.width,height:x.height})}},[a]),a?(0,a1.jsxs)("g",{transform:`translate(${t-u.width/2} ${e-u.height/2})`,className:h,visibility:u.width?"visible":"hidden",...d,children:[o&&(0,a1.jsx)("rect",{width:u.width+2*i[0],x:-i[0],y:-i[1],height:u.height+2*i[1],className:"react-flow__edge-textbg",style:n,rx:l,ry:l}),(0,a1.jsx)("text",{className:"react-flow__edge-text",y:u.height/2,dy:"0.3em",ref:m,style:r,children:a}),c]}):null}Yb.displayName="EdgeText";var KR=(0,i1.memo)(Yb);function $l({path:t,labelX:e,labelY:a,label:r,labelStyle:o,labelShowBg:n,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:c,interactionWidth:s=20,...d}){return(0,a1.jsxs)(a1.Fragment,{children:[(0,a1.jsx)("path",{...d,d:t,fill:"none",className:e4(["react-flow__edge-path",d.className])}),s?(0,a1.jsx)("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:s,className:"react-flow__edge-interaction"}):null,r&&yt(e)&&yt(a)?(0,a1.jsx)(KR,{x:e,y:a,label:r,labelStyle:o,labelShowBg:n,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function Sb({pos:t,x1:e,y1:a,x2:r,y2:o}){return t===F1.Left||t===F1.Right?[.5*(e+r),a]:[e,.5*(a+o)]}function Xb({sourceX:t,sourceY:e,sourcePosition:a=F1.Bottom,targetX:r,targetY:o,targetPosition:n=F1.Top}){let[i,l]=Sb({pos:a,x1:t,y1:e,x2:r,y2:o}),[c,s]=Sb({pos:n,x1:r,y1:o,x2:t,y2:e}),[d,u,f,h]=Bl({sourceX:t,sourceY:e,targetX:r,targetY:o,sourceControlX:i,sourceControlY:l,targetControlX:c,targetControlY:s});return[`M${t},${e} C${i},${l} ${c},${s} ${r},${o}`,d,u,f,h]}function Kb(t){return(0,i1.memo)(({id:e,sourceX:a,sourceY:r,targetX:o,targetY:n,sourcePosition:i,targetPosition:l,label:c,labelStyle:s,labelShowBg:d,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:m,markerEnd:x,markerStart:L,interactionWidth:g})=>{let[C,v,y]=Xb({sourceX:a,sourceY:r,sourcePosition:i,targetX:o,targetY:n,targetPosition:l}),b=t.isInternal?void 0:e;return(0,a1.jsx)($l,{id:b,path:C,labelX:v,labelY:y,label:c,labelStyle:s,labelShowBg:d,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:m,markerEnd:x,markerStart:L,interactionWidth:g})})}var QR=Kb({isInternal:!1}),Qb=Kb({isInternal:!0});QR.displayName="SimpleBezierEdge";Qb.displayName="SimpleBezierEdgeInternal";function Jb(t){return(0,i1.memo)(({id:e,sourceX:a,sourceY:r,targetX:o,targetY:n,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:s,labelBgPadding:d,labelBgBorderRadius:u,style:f,sourcePosition:h=F1.Bottom,targetPosition:m=F1.Top,markerEnd:x,markerStart:L,pathOptions:g,interactionWidth:C})=>{let[v,y,b]=gr({sourceX:a,sourceY:r,sourcePosition:h,targetX:o,targetY:n,targetPosition:m,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset,stepPosition:g==null?void 0:g.stepPosition}),V=t.isInternal?void 0:e;return(0,a1.jsx)($l,{id:V,path:v,labelX:y,labelY:b,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:s,labelBgPadding:d,labelBgBorderRadius:u,style:f,markerEnd:x,markerStart:L,interactionWidth:C})})}var tS=Jb({isInternal:!1}),eS=Jb({isInternal:!0});tS.displayName="SmoothStepEdge";eS.displayName="SmoothStepEdgeInternal";function aS(t){return(0,i1.memo)(({id:e,...a})=>{var o;let r=t.isInternal?void 0:e;return(0,a1.jsx)(tS,{...a,id:r,pathOptions:(0,i1.useMemo)(()=>{var n;return{borderRadius:0,offset:(n=a.pathOptions)==null?void 0:n.offset}},[(o=a.pathOptions)==null?void 0:o.offset])})})}var JR=aS({isInternal:!1}),rS=aS({isInternal:!0});JR.displayName="StepEdge";rS.displayName="StepEdgeInternal";function oS(t){return(0,i1.memo)(({id:e,sourceX:a,sourceY:r,targetX:o,targetY:n,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:s,labelBgPadding:d,labelBgBorderRadius:u,style:f,markerEnd:h,markerStart:m,interactionWidth:x})=>{let[L,g,C]=Fl({sourceX:a,sourceY:r,targetX:o,targetY:n}),v=t.isInternal?void 0:e;return(0,a1.jsx)($l,{id:v,path:L,labelX:g,labelY:C,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:s,labelBgPadding:d,labelBgBorderRadius:u,style:f,markerEnd:h,markerStart:m,interactionWidth:x})})}var tE=oS({isInternal:!1}),nS=oS({isInternal:!0});tE.displayName="StraightEdge";nS.displayName="StraightEdgeInternal";function iS(t){return(0,i1.memo)(({id:e,sourceX:a,sourceY:r,targetX:o,targetY:n,sourcePosition:i=F1.Bottom,targetPosition:l=F1.Top,label:c,labelStyle:s,labelShowBg:d,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:m,markerEnd:x,markerStart:L,pathOptions:g,interactionWidth:C})=>{let[v,y,b]=Il({sourceX:a,sourceY:r,sourcePosition:i,targetX:o,targetY:n,targetPosition:l,curvature:g==null?void 0:g.curvature}),V=t.isInternal?void 0:e;return(0,a1.jsx)($l,{id:V,path:v,labelX:y,labelY:b,label:c,labelStyle:s,labelShowBg:d,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:m,markerEnd:x,markerStart:L,interactionWidth:C})})}var eE=iS({isInternal:!1}),lS=iS({isInternal:!0});eE.displayName="BezierEdge";lS.displayName="BezierEdgeInternal";var Hb={default:lS,straight:nS,step:rS,smoothstep:eS,simplebezier:Qb},kb={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},aE=(t,e,a)=>a===F1.Left?t-e:a===F1.Right?t+e:t,rE=(t,e,a)=>a===F1.Top?t-e:a===F1.Bottom?t+e:t,Vb="react-flow__edgeupdater";function Tb({position:t,centerX:e,centerY:a,radius:r=10,onMouseDown:o,onMouseEnter:n,onMouseOut:i,type:l}){return(0,a1.jsx)("circle",{onMouseDown:o,onMouseEnter:n,onMouseOut:i,className:e4([Vb,`${Vb}-${l}`]),cx:aE(e,r,t),cy:rE(a,r,t),r,stroke:"transparent",fill:"transparent"})}function oE({isReconnectable:t,reconnectRadius:e,edge:a,sourceX:r,sourceY:o,targetX:n,targetY:i,sourcePosition:l,targetPosition:c,onReconnect:s,onReconnectStart:d,onReconnectEnd:u,setReconnecting:f,setUpdateHover:h}){let m=$2(),x=(y,b)=>{if(y.button!==0)return;let{autoPanOnConnect:V,domNode:H,isValidConnection:D,connectionMode:A,connectionRadius:E,lib:O,onConnectStart:_,onConnectEnd:N,cancelConnection:w,nodeLookup:M,rfId:z,panBy:k,updateConnection:T}=m.getState(),S=b.type==="target",R=(B,I)=>{f(!1),u==null||u(B,a,b.type,I)},Z=B=>s==null?void 0:s(a,B),P=(B,I)=>{f(!0),d==null||d(y,a,b.type),_==null||_(B,I)};El.onPointerDown(y.nativeEvent,{autoPanOnConnect:V,connectionMode:A,connectionRadius:E,domNode:H,handleId:b.id,nodeId:b.nodeId,nodeLookup:M,isTarget:S,edgeUpdaterType:b.type,lib:O,flowId:z,cancelConnection:w,panBy:k,isValidConnection:D,onConnect:Z,onConnectStart:P,onConnectEnd:N,onReconnectEnd:R,updateConnection:T,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle,dragThreshold:m.getState().connectionDragThreshold,handleDomNode:y.currentTarget})},L=y=>{var b;return x(y,{nodeId:a.target,id:(b=a.targetHandle)!=null?b:null,type:"target"})},g=y=>{var b;return x(y,{nodeId:a.source,id:(b=a.sourceHandle)!=null?b:null,type:"source"})},C=()=>h(!0),v=()=>h(!1);return(0,a1.jsxs)(a1.Fragment,{children:[(t===!0||t==="source")&&(0,a1.jsx)(Tb,{position:l,centerX:r,centerY:o,radius:e,onMouseDown:L,onMouseEnter:C,onMouseOut:v,type:"source"}),(t===!0||t==="target")&&(0,a1.jsx)(Tb,{position:c,centerX:n,centerY:i,radius:e,onMouseDown:g,onMouseEnter:C,onMouseOut:v,type:"target"})]})}function nE({id:t,edgesFocusable:e,edgesReconnectable:a,elementsSelectable:r,onClick:o,onDoubleClick:n,onContextMenu:i,onMouseEnter:l,onMouseMove:c,onMouseLeave:s,reconnectRadius:d,onReconnect:u,onReconnectStart:f,onReconnectEnd:h,rfId:m,edgeTypes:x,noPanClassName:L,onError:g,disableKeyboardA11y:C}){var o1,Q;let v=h2(e1=>e1.edgeLookup.get(t)),y=h2(e1=>e1.defaultEdgeOptions);v=y?{...y,...v}:v;let b=v.type||"default",V=(x==null?void 0:x[b])||Hb[b];V===void 0&&(g==null||g("011",Y3.error011(b)),b="default",V=(x==null?void 0:x.default)||Hb.default);let H=!!(v.focusable||e&&typeof v.focusable=="undefined"),D=typeof u!="undefined"&&(v.reconnectable||a&&typeof v.reconnectable=="undefined"),A=!!(v.selectable||r&&typeof v.selectable=="undefined"),E=(0,i1.useRef)(null),[O,_]=(0,i1.useState)(!1),[N,w]=(0,i1.useState)(!1),M=$2(),{zIndex:z,sourceX:k,sourceY:T,targetX:S,targetY:R,sourcePosition:Z,targetPosition:P}=h2((0,i1.useCallback)(e1=>{let c1=e1.nodeLookup.get(v.source),p1=e1.nodeLookup.get(v.target);if(!c1||!p1)return{zIndex:v.zIndex,...kb};let V1=Vz({id:t,sourceNode:c1,targetNode:p1,sourceHandle:v.sourceHandle||null,targetHandle:v.targetHandle||null,connectionMode:e1.connectionMode,onError:g});return{zIndex:Hz({selected:v.selected,zIndex:v.zIndex,sourceNode:c1,targetNode:p1,elevateOnSelect:e1.elevateEdgesOnSelect,zIndexMode:e1.zIndexMode}),...V1||kb}},[v.source,v.target,v.sourceHandle,v.targetHandle,v.selected,v.zIndex]),P2),B=(0,i1.useMemo)(()=>v.markerStart?`url('#${Al(v.markerStart,m)}')`:void 0,[v.markerStart,m]),I=(0,i1.useMemo)(()=>v.markerEnd?`url('#${Al(v.markerEnd,m)}')`:void 0,[v.markerEnd,m]);if(v.hidden||k===null||T===null||S===null||R===null)return null;let F=e1=>{var k1;let{addSelectedEdges:c1,unselectNodesAndEdges:p1,multiSelectionActive:V1}=M.getState();A&&(M.setState({nodesSelectionActive:!1}),v.selected&&V1?(p1({nodes:[],edges:[v]}),(k1=E.current)==null||k1.blur()):c1([t])),o&&o(e1,v)},q=n?e1=>{n(e1,{...v})}:void 0,G=i?e1=>{i(e1,{...v})}:void 0,Y=l?e1=>{l(e1,{...v})}:void 0,J=c?e1=>{c(e1,{...v})}:void 0,h1=s?e1=>{s(e1,{...v})}:void 0,r1=e1=>{var c1;if(!C&&Wf.includes(e1.key)&&A){let{unselectNodesAndEdges:p1,addSelectedEdges:V1}=M.getState();e1.key==="Escape"?((c1=E.current)==null||c1.blur(),p1({edges:[v]})):V1([t])}};return(0,a1.jsx)("svg",{style:{zIndex:z},children:(0,a1.jsxs)("g",{className:e4(["react-flow__edge",`react-flow__edge-${b}`,v.className,L,{selected:v.selected,animated:v.animated,inactive:!A&&!o,updating:O,selectable:A}]),onClick:F,onDoubleClick:q,onContextMenu:G,onMouseEnter:Y,onMouseMove:J,onMouseLeave:h1,onKeyDown:H?r1:void 0,tabIndex:H?0:void 0,role:(o1=v.ariaRole)!=null?o1:H?"group":"img","aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":v.ariaLabel===null?void 0:v.ariaLabel||`Edge from ${v.source} to ${v.target}`,"aria-describedby":H?`${Eb}-${m}`:void 0,ref:E,...v.domAttributes,children:[!N&&(0,a1.jsx)(V,{id:t,source:v.source,target:v.target,type:v.type,selected:v.selected,animated:v.animated,selectable:A,deletable:(Q=v.deletable)!=null?Q:!0,label:v.label,labelStyle:v.labelStyle,labelShowBg:v.labelShowBg,labelBgStyle:v.labelBgStyle,labelBgPadding:v.labelBgPadding,labelBgBorderRadius:v.labelBgBorderRadius,sourceX:k,sourceY:T,targetX:S,targetY:R,sourcePosition:Z,targetPosition:P,data:v.data,style:v.style,sourceHandleId:v.sourceHandle,targetHandleId:v.targetHandle,markerStart:B,markerEnd:I,pathOptions:"pathOptions"in v?v.pathOptions:void 0,interactionWidth:v.interactionWidth}),D&&(0,a1.jsx)(oE,{edge:v,isReconnectable:D,reconnectRadius:d,onReconnect:u,onReconnectStart:f,onReconnectEnd:h,sourceX:k,sourceY:T,targetX:S,targetY:R,sourcePosition:Z,targetPosition:P,setUpdateHover:_,setReconnecting:w})]})})}var iE=(0,i1.memo)(nE),lE=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function cS({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:a,edgeTypes:r,noPanClassName:o,onReconnect:n,onEdgeContextMenu:i,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:s,onEdgeClick:d,reconnectRadius:u,onEdgeDoubleClick:f,onReconnectStart:h,onReconnectEnd:m,disableKeyboardA11y:x}){let{edgesFocusable:L,edgesReconnectable:g,elementsSelectable:C,onError:v}=h2(lE,P2),y=$R(e);return(0,a1.jsxs)("div",{className:"react-flow__edges",children:[(0,a1.jsx)(XR,{defaultColor:t,rfId:a}),y.map(b=>(0,a1.jsx)(iE,{id:b,edgesFocusable:L,edgesReconnectable:g,elementsSelectable:C,noPanClassName:o,onReconnect:n,onContextMenu:i,onMouseEnter:l,onMouseMove:c,onMouseLeave:s,onClick:d,reconnectRadius:u,onDoubleClick:f,onReconnectStart:h,onReconnectEnd:m,rfId:a,onError:v,edgeTypes:r,disableKeyboardA11y:x},b))]})}cS.displayName="EdgeRenderer";var cE=(0,i1.memo)(cS),sE=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function dE({children:t}){let e=h2(sE);return(0,a1.jsx)("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function uE(t){let e=wh(),a=(0,i1.useRef)(!1);(0,i1.useEffect)(()=>{!a.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),a.current=!0)},[t,e.viewportInitialized])}var fE=t=>{var e;return(e=t.panZoom)==null?void 0:e.syncViewport};function hE(t){let e=h2(fE),a=$2();return(0,i1.useEffect)(()=>{t&&(e==null||e(t),a.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function Bb(t){return t.connection.inProgress?{...t.connection,to:H7(t.connection.to,t.transform)}:{...t.connection}}function pE(t){return t?a=>{let r=Bb(a);return t(r)}:Bb}function gE(t){let e=pE(t);return h2(e,P2)}var mE=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function vE({containerStyle:t,style:e,type:a,component:r}){let{nodesConnectable:o,width:n,height:i,isValid:l,inProgress:c}=h2(mE,P2);return!(n&&o&&c)?null:(0,a1.jsx)("svg",{style:t,width:n,height:i,className:"react-flow__connectionline react-flow__container",children:(0,a1.jsx)("g",{className:e4(["react-flow__connection",Kf(l)]),children:(0,a1.jsx)(sS,{style:e,type:a,CustomComponent:r,isValid:l})})})}var sS=({style:t,type:e=L0.Bezier,CustomComponent:a,isValid:r})=>{let{inProgress:o,from:n,fromNode:i,fromHandle:l,fromPosition:c,to:s,toNode:d,toHandle:u,toPosition:f,pointer:h}=gE();if(!o)return;if(a)return(0,a1.jsx)(a,{connectionLineType:e,connectionLineStyle:t,fromNode:i,fromHandle:l,fromX:n.x,fromY:n.y,toX:s.x,toY:s.y,fromPosition:c,toPosition:f,connectionStatus:Kf(r),toNode:d,toHandle:u,pointer:h});let m="",x={sourceX:n.x,sourceY:n.y,sourcePosition:c,targetX:s.x,targetY:s.y,targetPosition:f};switch(e){case L0.Bezier:[m]=Il(x);break;case L0.SimpleBezier:[m]=Xb(x);break;case L0.Step:[m]=gr({...x,borderRadius:0});break;case L0.SmoothStep:[m]=gr(x);break;default:[m]=Fl(x)}return(0,a1.jsx)("path",{d:m,fill:"none",className:"react-flow__connection-path",style:t})};sS.displayName="ConnectionLine";var CE={};function Ib(t=CE){let e=(0,i1.useRef)(t),a=$2();(0,i1.useEffect)(()=>{},[t])}function xE(){let t=$2(),e=(0,i1.useRef)(!1);(0,i1.useEffect)(()=>{},[])}function dS({nodeTypes:t,edgeTypes:e,onInit:a,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:n,onEdgeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:s,onNodeContextMenu:d,onSelectionContextMenu:u,onSelectionStart:f,onSelectionEnd:h,connectionLineType:m,connectionLineStyle:x,connectionLineComponent:L,connectionLineContainerStyle:g,selectionKeyCode:C,selectionOnDrag:v,selectionMode:y,multiSelectionKeyCode:b,panActivationKeyCode:V,zoomActivationKeyCode:H,deleteKeyCode:D,onlyRenderVisibleElements:A,elementsSelectable:E,defaultViewport:O,translateExtent:_,minZoom:N,maxZoom:w,preventScrolling:M,defaultMarkerColor:z,zoomOnScroll:k,zoomOnPinch:T,panOnScroll:S,panOnScrollSpeed:R,panOnScrollMode:Z,zoomOnDoubleClick:P,panOnDrag:B,onPaneClick:I,onPaneMouseEnter:F,onPaneMouseMove:q,onPaneMouseLeave:G,onPaneScroll:Y,onPaneContextMenu:J,paneClickDistance:h1,nodeClickDistance:r1,onEdgeContextMenu:o1,onEdgeMouseEnter:Q,onEdgeMouseMove:e1,onEdgeMouseLeave:c1,reconnectRadius:p1,onReconnect:V1,onReconnectStart:k1,onReconnectEnd:R1,noDragClassName:N1,noWheelClassName:n1,noPanClassName:l1,disableKeyboardA11y:K,nodeExtent:m1,rfId:A1,viewport:P1,onViewportChange:j}){return Ib(t),Ib(e),xE(),uE(a),hE(P1),(0,a1.jsx)(DR,{onPaneClick:I,onPaneMouseEnter:F,onPaneMouseMove:q,onPaneMouseLeave:G,onPaneContextMenu:J,onPaneScroll:Y,paneClickDistance:h1,deleteKeyCode:D,selectionKeyCode:C,selectionOnDrag:v,selectionMode:y,onSelectionStart:f,onSelectionEnd:h,multiSelectionKeyCode:b,panActivationKeyCode:V,zoomActivationKeyCode:H,elementsSelectable:E,zoomOnScroll:k,zoomOnPinch:T,zoomOnDoubleClick:P,panOnScroll:S,panOnScrollSpeed:R,panOnScrollMode:Z,panOnDrag:B,defaultViewport:O,translateExtent:_,minZoom:N,maxZoom:w,onSelectionContextMenu:u,preventScrolling:M,noDragClassName:N1,noWheelClassName:n1,noPanClassName:l1,disableKeyboardA11y:K,onViewportChange:j,isControlledViewport:!!P1,children:(0,a1.jsxs)(dE,{children:[(0,a1.jsx)(cE,{edgeTypes:e,onEdgeClick:o,onEdgeDoubleClick:i,onReconnect:V1,onReconnectStart:k1,onReconnectEnd:R1,onlyRenderVisibleElements:A,onEdgeContextMenu:o1,onEdgeMouseEnter:Q,onEdgeMouseMove:e1,onEdgeMouseLeave:c1,reconnectRadius:p1,defaultMarkerColor:z,noPanClassName:l1,disableKeyboardA11y:K,rfId:A1}),(0,a1.jsx)(vE,{style:x,type:m,component:L,containerStyle:g}),(0,a1.jsx)("div",{className:"react-flow__edgelabel-renderer"}),(0,a1.jsx)(qR,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:n,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:s,onNodeContextMenu:d,nodeClickDistance:r1,onlyRenderVisibleElements:A,noPanClassName:l1,noDragClassName:N1,disableKeyboardA11y:K,nodeExtent:m1,rfId:A1}),(0,a1.jsx)("div",{className:"react-flow__viewport-portal"})]})})}dS.displayName="GraphView";var LE=(0,i1.memo)(dS),Fb=({nodes:t,edges:e,defaultNodes:a,defaultEdges:r,width:o,height:n,fitView:i,fitViewOptions:l,minZoom:c=.5,maxZoom:s=2,nodeOrigin:d,nodeExtent:u,zIndexMode:f="basic"}={})=>{var H,D,A;let h=new Map,m=new Map,x=new Map,L=new Map,g=(H=r!=null?r:e)!=null?H:[],C=(D=a!=null?a:t)!=null?D:[],v=d!=null?d:[0,0],y=u!=null?u:w7;vh(x,L,g);let b=Dl(C,h,m,{nodeOrigin:v,nodeExtent:y,zIndexMode:f}),V=[0,0,1];if(i&&o&&n){let E=z7(h,{filter:w=>!!((w.width||w.initialWidth)&&(w.height||w.initialHeight))}),{x:O,y:_,zoom:N}=pr(E,o,n,c,s,(A=l==null?void 0:l.padding)!=null?A:.1);V=[O,_,N]}return{rfId:"1",width:o!=null?o:0,height:n!=null?n:0,transform:V,nodes:C,nodesInitialized:b,nodeLookup:h,parentLookup:m,edges:g,edgeLookup:L,connectionLookup:x,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:a!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:c,maxZoom:s,translateExtent:w7,nodeExtent:y,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:be.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:v,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:i!=null?i:!1,fitViewOptions:l,fitViewResolver:null,connection:{...Xf},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:oh,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Yf,zIndexMode:f,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},yE=({nodes:t,edges:e,defaultNodes:a,defaultEdges:r,width:o,height:n,fitView:i,fitViewOptions:l,minZoom:c,maxZoom:s,nodeOrigin:d,nodeExtent:u,zIndexMode:f})=>db((h,m)=>{async function x(){let{nodeLookup:L,panZoom:g,fitViewOptions:C,fitViewResolver:v,width:y,height:b,minZoom:V,maxZoom:H}=m();g&&(await yz({nodes:L,width:y,height:b,panZoom:g,minZoom:V,maxZoom:H},C),v==null||v.resolve(!0),h({fitViewResolver:null}))}return{...Fb({nodes:t,edges:e,width:o,height:n,fitView:i,fitViewOptions:l,minZoom:c,maxZoom:s,nodeOrigin:d,nodeExtent:u,defaultNodes:a,defaultEdges:r,zIndexMode:f}),setNodes:L=>{let{nodeLookup:g,parentLookup:C,nodeOrigin:v,elevateNodesOnSelect:y,fitViewQueued:b,zIndexMode:V}=m(),H=Dl(L,g,C,{nodeOrigin:v,nodeExtent:u,elevateNodesOnSelect:y,checkEquality:!0,zIndexMode:V});b&&H?(x(),h({nodes:L,nodesInitialized:H,fitViewQueued:!1,fitViewOptions:void 0})):h({nodes:L,nodesInitialized:H})},setEdges:L=>{let{connectionLookup:g,edgeLookup:C}=m();vh(g,C,L),h({edges:L})},setDefaultNodesAndEdges:(L,g)=>{if(L){let{setNodes:C}=m();C(L),h({hasDefaultNodes:!0})}if(g){let{setEdges:C}=m();C(g),h({hasDefaultEdges:!0})}},updateNodeInternals:L=>{let{triggerNodeChanges:g,nodeLookup:C,parentLookup:v,domNode:y,nodeOrigin:b,nodeExtent:V,debug:H,fitViewQueued:D,zIndexMode:A}=m(),{changes:E,updatedInternals:O}=Az(L,C,v,y,b,V,A);O&&(Iz(C,v,{nodeOrigin:b,nodeExtent:V,zIndexMode:A}),D?(x(),h({fitViewQueued:!1,fitViewOptions:void 0})):h({}),(E==null?void 0:E.length)>0&&(H&&console.log("React Flow: trigger node changes",E),g==null||g(E)))},updateNodePositions:(L,g=!1)=>{var A,E;let C=[],v=[],{nodeLookup:y,triggerNodeChanges:b,connection:V,updateConnection:H,onNodesChangeMiddlewareMap:D}=m();for(let[O,_]of L){let N=y.get(O),w=!!(N!=null&&N.expandParent&&(N!=null&&N.parentId)&&(_!=null&&_.position)),M={id:O,type:"position",position:w?{x:Math.max(0,_.position.x),y:Math.max(0,_.position.y)}:_.position,dragging:g};if(N&&V.inProgress&&V.fromNode.id===N.id){let z=Se(N,V.fromHandle,F1.Left,!0);H({...V,from:z})}w&&N.parentId&&C.push({id:O,parentId:N.parentId,rect:{..._.internals.positionAbsolute,width:(A=_.measured.width)!=null?A:0,height:(E=_.measured.height)!=null?E:0}}),v.push(M)}if(C.length>0){let{parentLookup:O,nodeOrigin:_}=m(),N=Rl(C,y,O,_);v.push(...N)}for(let O of D.values())v=O(v);b(v)},triggerNodeChanges:L=>{let{onNodesChange:g,setNodes:C,nodes:v,hasDefaultNodes:y,debug:b}=m();if(L!=null&&L.length){if(y){let V=Ob(L,v);C(V)}b&&console.log("React Flow: trigger node changes",L),g==null||g(L)}},triggerEdgeChanges:L=>{let{onEdgesChange:g,setEdges:C,edges:v,hasDefaultEdges:y,debug:b}=m();if(L!=null&&L.length){if(y){let V=iR(L,v);C(V)}b&&console.log("React Flow: trigger edge changes",L),g==null||g(L)}},addSelectedNodes:L=>{let{multiSelectionActive:g,edgeLookup:C,nodeLookup:v,triggerNodeChanges:y,triggerEdgeChanges:b}=m();if(g){let V=L.map(H=>R5(H,!0));y(V);return}y(T7(v,new Set([...L]),!0)),b(T7(C))},addSelectedEdges:L=>{let{multiSelectionActive:g,edgeLookup:C,nodeLookup:v,triggerNodeChanges:y,triggerEdgeChanges:b}=m();if(g){let V=L.map(H=>R5(H,!0));b(V);return}b(T7(C,new Set([...L]))),y(T7(v,new Set,!0))},unselectNodesAndEdges:({nodes:L,edges:g}={})=>{let{edges:C,nodes:v,nodeLookup:y,triggerNodeChanges:b,triggerEdgeChanges:V}=m(),H=L||v,D=g||C,A=H.map(O=>{let _=y.get(O.id);return _&&(_.selected=!1),R5(O.id,!1)}),E=D.map(O=>R5(O.id,!1));b(A),V(E)},setMinZoom:L=>{let{panZoom:g,maxZoom:C}=m();g==null||g.setScaleExtent([L,C]),h({minZoom:L})},setMaxZoom:L=>{let{panZoom:g,minZoom:C}=m();g==null||g.setScaleExtent([C,L]),h({maxZoom:L})},setTranslateExtent:L=>{var g;(g=m().panZoom)==null||g.setTranslateExtent(L),h({translateExtent:L})},resetSelectedElements:()=>{let{edges:L,nodes:g,triggerNodeChanges:C,triggerEdgeChanges:v,elementsSelectable:y}=m();if(!y)return;let b=g.reduce((H,D)=>D.selected?[...H,R5(D.id,!1)]:H,[]),V=L.reduce((H,D)=>D.selected?[...H,R5(D.id,!1)]:H,[]);C(b),v(V)},setNodeExtent:L=>{let{nodes:g,nodeLookup:C,parentLookup:v,nodeOrigin:y,elevateNodesOnSelect:b,nodeExtent:V,zIndexMode:H}=m();L[0][0]===V[0][0]&&L[0][1]===V[0][1]&&L[1][0]===V[1][0]&&L[1][1]===V[1][1]||(Dl(g,C,v,{nodeOrigin:y,nodeExtent:L,elevateNodesOnSelect:b,checkEquality:!1,zIndexMode:H}),h({nodeExtent:L}))},panBy:L=>{let{transform:g,width:C,height:v,panZoom:y,translateExtent:b}=m();return Dz({delta:L,panZoom:y,transform:g,translateExtent:b,width:C,height:v})},setCenter:async(L,g,C)=>{let{width:v,height:y,maxZoom:b,panZoom:V}=m();if(!V)return Promise.resolve(!1);let H=typeof(C==null?void 0:C.zoom)!="undefined"?C.zoom:b;return await V.setViewport({x:v/2-L*H,y:y/2-g*H,zoom:H},{duration:C==null?void 0:C.duration,ease:C==null?void 0:C.ease,interpolate:C==null?void 0:C.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{h({connection:{...Xf}})},updateConnection:L=>{h({connection:L})},reset:()=>h({...Fb()})}},Object.is);function bh({initialNodes:t,initialEdges:e,defaultNodes:a,defaultEdges:r,initialWidth:o,initialHeight:n,initialMinZoom:i,initialMaxZoom:l,initialFitViewOptions:c,fitView:s,nodeOrigin:d,nodeExtent:u,zIndexMode:f,children:h}){let[m]=(0,i1.useState)(()=>yE({nodes:t,edges:e,defaultNodes:a,defaultEdges:r,width:o,height:n,fitView:s,minZoom:i,maxZoom:l,fitViewOptions:c,nodeOrigin:d,nodeExtent:u,zIndexMode:f}));return(0,a1.jsx)(OD,{value:m,children:(0,a1.jsx)(dR,{children:h})})}function ME({children:t,nodes:e,edges:a,defaultNodes:r,defaultEdges:o,width:n,height:i,fitView:l,fitViewOptions:c,minZoom:s,maxZoom:d,nodeOrigin:u,nodeExtent:f,zIndexMode:h}){return(0,i1.useContext)(_l)?(0,a1.jsx)(a1.Fragment,{children:t}):(0,a1.jsx)(bh,{initialNodes:e,initialEdges:a,defaultNodes:r,defaultEdges:o,initialWidth:n,initialHeight:i,fitView:l,initialFitViewOptions:c,initialMinZoom:s,initialMaxZoom:d,nodeOrigin:u,nodeExtent:f,zIndexMode:h,children:t})}var wE={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function zE({nodes:t,edges:e,defaultNodes:a,defaultEdges:r,className:o,nodeTypes:n,edgeTypes:i,onNodeClick:l,onEdgeClick:c,onInit:s,onMove:d,onMoveStart:u,onMoveEnd:f,onConnect:h,onConnectStart:m,onConnectEnd:x,onClickConnectStart:L,onClickConnectEnd:g,onNodeMouseEnter:C,onNodeMouseMove:v,onNodeMouseLeave:y,onNodeContextMenu:b,onNodeDoubleClick:V,onNodeDragStart:H,onNodeDrag:D,onNodeDragStop:A,onNodesDelete:E,onEdgesDelete:O,onDelete:_,onSelectionChange:N,onSelectionDragStart:w,onSelectionDrag:M,onSelectionDragStop:z,onSelectionContextMenu:k,onSelectionStart:T,onSelectionEnd:S,onBeforeDelete:R,connectionMode:Z,connectionLineType:P=L0.Bezier,connectionLineStyle:B,connectionLineComponent:I,connectionLineContainerStyle:F,deleteKeyCode:q="Backspace",selectionKeyCode:G="Shift",selectionOnDrag:Y=!1,selectionMode:J=u6.Full,panActivationKeyCode:h1="Space",multiSelectionKeyCode:r1=k7()?"Meta":"Control",zoomActivationKeyCode:o1=k7()?"Meta":"Control",snapToGrid:Q,snapGrid:e1,onlyRenderVisibleElements:c1=!1,selectNodesOnDrag:p1,nodesDraggable:V1,autoPanOnNodeFocus:k1,nodesConnectable:R1,nodesFocusable:N1,nodeOrigin:n1=Nb,edgesFocusable:l1,edgesReconnectable:K,elementsSelectable:m1=!0,defaultViewport:A1=JD,minZoom:P1=.5,maxZoom:j=2,translateExtent:W=w7,preventScrolling:U=!0,nodeExtent:t1,defaultMarkerColor:x1="#b1b1b7",zoomOnScroll:v1=!0,zoomOnPinch:y1=!0,panOnScroll:z1=!1,panOnScrollSpeed:J1=.5,panOnScrollMode:j1=d6.Free,zoomOnDoubleClick:$1=!0,panOnDrag:I2=!0,onPaneClick:D4,onPaneMouseEnter:St,onPaneMouseMove:Ht,onPaneMouseLeave:kt,onPaneScroll:B3,onPaneContextMenu:I3,paneClickDistance:Vt=1,nodeClickDistance:g6=0,children:tc,onReconnect:Cr,onReconnectStart:E5,onReconnectEnd:ke,onEdgeContextMenu:ec,onEdgeDoubleClick:ac,onEdgeMouseEnter:xr,onEdgeMouseMove:Lr,onEdgeMouseLeave:I7,reconnectRadius:yr=10,onNodesChange:N5,onEdgesChange:F7,noDragClassName:Ve="nodrag",noWheelClassName:A7="nowheel",noPanClassName:D7="nopan",fitView:Mr,fitViewOptions:wr,connectOnClick:zr,attributionPosition:br,proOptions:Sr,defaultEdgeOptions:Hr,elevateNodesOnSelect:kr=!0,elevateEdgesOnSelect:Vr=!1,disableKeyboardA11y:X=!1,autoPanOnConnect:d1,autoPanOnNodeDrag:L1,autoPanSpeed:H1,connectionRadius:E1,isValidConnection:m2,onError:X4,style:R4,id:R7,nodeDragThreshold:Tr,connectionDragThreshold:Te,viewport:rc,onViewportChange:FS,width:AS,height:DS,colorMode:RS="light",debug:ES,onScroll:Br,ariaLabelConfig:NS,zIndexMode:Vh="basic",...PS},OS){let oc=R7||"1",ZS=rR(RS),_S=(0,i1.useCallback)(Th=>{Th.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Br==null||Br(Th)},[Br]);return(0,a1.jsx)("div",{"data-testid":"rf__wrapper",...PS,onScroll:_S,style:{...R4,...wE},ref:OS,className:e4(["react-flow",o,ZS]),id:R7,role:"application",children:(0,a1.jsxs)(ME,{nodes:t,edges:e,width:AS,height:DS,fitView:Mr,fitViewOptions:wr,minZoom:P1,maxZoom:j,nodeOrigin:n1,nodeExtent:t1,zIndexMode:Vh,children:[(0,a1.jsx)(LE,{onInit:s,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:C,onNodeMouseMove:v,onNodeMouseLeave:y,onNodeContextMenu:b,onNodeDoubleClick:V,nodeTypes:n,edgeTypes:i,connectionLineType:P,connectionLineStyle:B,connectionLineComponent:I,connectionLineContainerStyle:F,selectionKeyCode:G,selectionOnDrag:Y,selectionMode:J,deleteKeyCode:q,multiSelectionKeyCode:r1,panActivationKeyCode:h1,zoomActivationKeyCode:o1,onlyRenderVisibleElements:c1,defaultViewport:A1,translateExtent:W,minZoom:P1,maxZoom:j,preventScrolling:U,zoomOnScroll:v1,zoomOnPinch:y1,zoomOnDoubleClick:$1,panOnScroll:z1,panOnScrollSpeed:J1,panOnScrollMode:j1,panOnDrag:I2,onPaneClick:D4,onPaneMouseEnter:St,onPaneMouseMove:Ht,onPaneMouseLeave:kt,onPaneScroll:B3,onPaneContextMenu:I3,paneClickDistance:Vt,nodeClickDistance:g6,onSelectionContextMenu:k,onSelectionStart:T,onSelectionEnd:S,onReconnect:Cr,onReconnectStart:E5,onReconnectEnd:ke,onEdgeContextMenu:ec,onEdgeDoubleClick:ac,onEdgeMouseEnter:xr,onEdgeMouseMove:Lr,onEdgeMouseLeave:I7,reconnectRadius:yr,defaultMarkerColor:x1,noDragClassName:Ve,noWheelClassName:A7,noPanClassName:D7,rfId:oc,disableKeyboardA11y:X,nodeExtent:t1,viewport:rc,onViewportChange:FS}),(0,a1.jsx)(aR,{nodes:t,edges:e,defaultNodes:a,defaultEdges:r,onConnect:h,onConnectStart:m,onConnectEnd:x,onClickConnectStart:L,onClickConnectEnd:g,nodesDraggable:V1,autoPanOnNodeFocus:k1,nodesConnectable:R1,nodesFocusable:N1,edgesFocusable:l1,edgesReconnectable:K,elementsSelectable:m1,elevateNodesOnSelect:kr,elevateEdgesOnSelect:Vr,minZoom:P1,maxZoom:j,nodeExtent:t1,onNodesChange:N5,onEdgesChange:F7,snapToGrid:Q,snapGrid:e1,connectionMode:Z,translateExtent:W,connectOnClick:zr,defaultEdgeOptions:Hr,fitView:Mr,fitViewOptions:wr,onNodesDelete:E,onEdgesDelete:O,onDelete:_,onNodeDragStart:H,onNodeDrag:D,onNodeDragStop:A,onSelectionDrag:M,onSelectionDragStart:w,onSelectionDragStop:z,onMove:d,onMoveStart:u,onMoveEnd:f,noPanClassName:D7,nodeOrigin:n1,rfId:oc,autoPanOnConnect:d1,autoPanOnNodeDrag:L1,autoPanSpeed:H1,onError:X4,connectionRadius:E1,isValidConnection:m2,selectNodesOnDrag:p1,nodeDragThreshold:Tr,connectionDragThreshold:Te,onBeforeDelete:R,debug:ES,ariaLabelConfig:NS,zIndexMode:Vh}),(0,a1.jsx)(QD,{onSelectionChange:N}),tc,(0,a1.jsx)(jD,{proOptions:Sr,position:br}),(0,a1.jsx)(GD,{rfId:oc,disableKeyboardA11y:X})]})})}var uS=Zb(zE);function fS(t){let[e,a]=(0,i1.useState)(t),r=(0,i1.useCallback)(o=>a(n=>Ob(o,n)),[]);return[e,a,r]}var y01=Y3.error014();function bE({dimensions:t,lineWidth:e,variant:a,className:r}){return(0,a1.jsx)("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:e4(["react-flow__background-pattern",a,r])})}function SE({radius:t,className:e}){return(0,a1.jsx)("circle",{cx:t,cy:t,r:t,className:e4(["react-flow__background-pattern","dots",e])})}var wt;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(wt||(wt={}));var HE={[wt.Dots]:1,[wt.Lines]:1,[wt.Cross]:6},kE=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function hS({id:t,variant:e=wt.Dots,gap:a=20,size:r,lineWidth:o=1,offset:n=0,color:i,bgColor:l,style:c,className:s,patternClassName:d}){let u=(0,i1.useRef)(null),{transform:f,patternId:h}=h2(kE,P2),m=r||HE[e],x=e===wt.Dots,L=e===wt.Cross,g=Array.isArray(a)?a:[a,a],C=[g[0]*f[2]||1,g[1]*f[2]||1],v=m*f[2],y=Array.isArray(n)?n:[n,n],b=L?[v,v]:C,V=[y[0]*f[2]||1+b[0]/2,y[1]*f[2]||1+b[1]/2],H=`${h}${t||""}`;return(0,a1.jsxs)("svg",{className:e4(["react-flow__background",s]),style:{...c,...ql,"--xy-background-color-props":l,"--xy-background-pattern-color-props":i},ref:u,"data-testid":"rf__background",children:[(0,a1.jsx)("pattern",{id:H,x:f[0]%C[0],y:f[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${V[0]},-${V[1]})`,children:x?(0,a1.jsx)(SE,{radius:v/2,className:d}):(0,a1.jsx)(bE,{dimensions:b,lineWidth:o,variant:e,className:d})}),(0,a1.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${H})`})]})}hS.displayName="Background";var pS=(0,i1.memo)(hS);function VE(){return(0,a1.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:(0,a1.jsx)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function TE(){return(0,a1.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:(0,a1.jsx)("path",{d:"M0 0h32v4.2H0z"})})}function BE(){return(0,a1.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:(0,a1.jsx)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function IE(){return(0,a1.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,a1.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function FE(){return(0,a1.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,a1.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function B7({children:t,className:e,...a}){return(0,a1.jsx)("button",{type:"button",className:e4(["react-flow__controls-button",e]),...a,children:t})}var AE=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function gS({style:t,showZoom:e=!0,showFitView:a=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:n,onZoomOut:i,onFitView:l,onInteractiveChange:c,className:s,children:d,position:u="bottom-left",orientation:f="vertical","aria-label":h}){let m=$2(),{isInteractive:x,minZoomReached:L,maxZoomReached:g,ariaLabelConfig:C}=h2(AE,P2),{zoomIn:v,zoomOut:y,fitView:b}=wh(),V=()=>{v(),n==null||n()},H=()=>{y(),i==null||i()},D=()=>{b(o),l==null||l()},A=()=>{m.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),c==null||c(!x)};return(0,a1.jsxs)(Ul,{className:e4(["react-flow__controls",f==="horizontal"?"horizontal":"vertical",s]),position:u,style:t,"data-testid":"rf__controls","aria-label":h!=null?h:C["controls.ariaLabel"],children:[e&&(0,a1.jsxs)(a1.Fragment,{children:[(0,a1.jsx)(B7,{onClick:V,className:"react-flow__controls-zoomin",title:C["controls.zoomIn.ariaLabel"],"aria-label":C["controls.zoomIn.ariaLabel"],disabled:g,children:(0,a1.jsx)(VE,{})}),(0,a1.jsx)(B7,{onClick:H,className:"react-flow__controls-zoomout",title:C["controls.zoomOut.ariaLabel"],"aria-label":C["controls.zoomOut.ariaLabel"],disabled:L,children:(0,a1.jsx)(TE,{})})]}),a&&(0,a1.jsx)(B7,{className:"react-flow__controls-fitview",onClick:D,title:C["controls.fitView.ariaLabel"],"aria-label":C["controls.fitView.ariaLabel"],children:(0,a1.jsx)(BE,{})}),r&&(0,a1.jsx)(B7,{className:"react-flow__controls-interactive",onClick:A,title:C["controls.interactive.ariaLabel"],"aria-label":C["controls.interactive.ariaLabel"],children:x?(0,a1.jsx)(FE,{}):(0,a1.jsx)(IE,{})}),d]})}gS.displayName="Controls";var mS=(0,i1.memo)(gS);function DE({id:t,x:e,y:a,width:r,height:o,style:n,color:i,strokeColor:l,strokeWidth:c,className:s,borderRadius:d,shapeRendering:u,selected:f,onClick:h}){let{background:m,backgroundColor:x}=n||{},L=i||m||x;return(0,a1.jsx)("rect",{className:e4(["react-flow__minimap-node",{selected:f},s]),x:e,y:a,rx:d,ry:d,width:r,height:o,style:{fill:L,stroke:l,strokeWidth:c},shapeRendering:u,onClick:h?g=>h(g,t):void 0})}var RE=(0,i1.memo)(DE),EE=t=>t.nodes.map(e=>e.id),yh=t=>t instanceof Function?t:()=>t;function NE({nodeStrokeColor:t,nodeColor:e,nodeClassName:a="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:n=RE,onClick:i}){let l=h2(EE,P2),c=yh(e),s=yh(t),d=yh(a),u=typeof window=="undefined"||window.chrome?"crispEdges":"geometricPrecision";return(0,a1.jsx)(a1.Fragment,{children:l.map(f=>(0,a1.jsx)(OE,{id:f,nodeColorFunc:c,nodeStrokeColorFunc:s,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:n,onClick:i,shapeRendering:u},f))})}function PE({id:t,nodeColorFunc:e,nodeStrokeColorFunc:a,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:n,shapeRendering:i,NodeComponent:l,onClick:c}){let{node:s,x:d,y:u,width:f,height:h}=h2(m=>{let{internals:x}=m.nodeLookup.get(t),L=x.userNode,{x:g,y:C}=x.positionAbsolute,{width:v,height:y}=y0(L);return{node:L,x:g,y:C,width:v,height:y}},P2);return!s||s.hidden||!nh(s)?null:(0,a1.jsx)(l,{x:d,y:u,width:f,height:h,style:s.style,selected:!!s.selected,className:r(s),color:e(s),borderRadius:o,strokeColor:a(s),strokeWidth:n,shapeRendering:i,onClick:c,id:s.id})}var OE=(0,i1.memo)(PE),ZE=(0,i1.memo)(NE),_E=200,UE=150,qE=t=>!t.hidden,$E=t=>{let e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?ah(z7(t.nodeLookup,{filter:qE}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},GE="react-flow__minimap-desc";function vS({style:t,className:e,nodeStrokeColor:a,nodeColor:r,nodeClassName:o="",nodeBorderRadius:n=5,nodeStrokeWidth:i,nodeComponent:l,bgColor:c,maskColor:s,maskStrokeColor:d,maskStrokeWidth:u,position:f="bottom-right",onClick:h,onNodeClick:m,pannable:x=!1,zoomable:L=!1,ariaLabel:g,inversePan:C,zoomStep:v=1,offsetScale:y=5}){var Q,e1;let b=$2(),V=(0,i1.useRef)(null),{boundingRect:H,viewBB:D,rfId:A,panZoom:E,translateExtent:O,flowWidth:_,flowHeight:N,ariaLabelConfig:w}=h2($E,P2),M=(Q=t==null?void 0:t.width)!=null?Q:_E,z=(e1=t==null?void 0:t.height)!=null?e1:UE,k=H.width/M,T=H.height/z,S=Math.max(k,T),R=S*M,Z=S*z,P=y*S,B=H.x-(R-H.width)/2-P,I=H.y-(Z-H.height)/2-P,F=R+P*2,q=Z+P*2,G=`${GE}-${A}`,Y=(0,i1.useRef)(0),J=(0,i1.useRef)();Y.current=S,(0,i1.useEffect)(()=>{if(V.current&&E)return J.current=_z({domNode:V.current,panZoom:E,getTransform:()=>b.getState().transform,getViewScale:()=>Y.current}),()=>{var c1;(c1=J.current)==null||c1.destroy()}},[E]),(0,i1.useEffect)(()=>{var c1;(c1=J.current)==null||c1.update({translateExtent:O,width:_,height:N,inversePan:C,pannable:x,zoomStep:v,zoomable:L})},[x,L,C,v,O,_,N]);let h1=h?c1=>{var k1;let[p1,V1]=((k1=J.current)==null?void 0:k1.pointer(c1))||[0,0];h(c1,{x:p1,y:V1})}:void 0,r1=m?(0,i1.useCallback)((c1,p1)=>{let V1=b.getState().nodeLookup.get(p1).internals.userNode;m(c1,V1)},[]):void 0,o1=g!=null?g:w["minimap.ariaLabel"];return(0,a1.jsx)(Ul,{position:f,style:{...t,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof s=="string"?s:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof u=="number"?u*S:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof a=="string"?a:void 0,"--xy-minimap-node-stroke-width-props":typeof i=="number"?i:void 0},className:e4(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:(0,a1.jsxs)("svg",{width:M,height:z,viewBox:`${B} ${I} ${F} ${q}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":G,ref:V,onClick:h1,children:[o1&&(0,a1.jsx)("title",{id:G,children:o1}),(0,a1.jsx)(ZE,{onClick:r1,nodeColor:r,nodeStrokeColor:a,nodeBorderRadius:n,nodeClassName:o,nodeStrokeWidth:i,nodeComponent:l}),(0,a1.jsx)("path",{className:"react-flow__minimap-mask",d:`M${B-P},${I-P}h${F+P*2}v${q+P*2}h${-F-P*2}z
        M${D.x},${D.y}h${D.width}v${D.height}h${-D.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}vS.displayName="MiniMap";var CS=(0,i1.memo)(vS),jE=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,WE={[h6.Line]:"right",[h6.Handle]:"bottom-right"};function YE({nodeId:t,position:e,variant:a=h6.Handle,className:r,style:o=void 0,children:n,color:i,minWidth:l=10,minHeight:c=10,maxWidth:s=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:u=!1,resizeDirection:f,autoScale:h=!0,shouldResize:m,onResizeStart:x,onResize:L,onResizeEnd:g}){let C=$b(),v=typeof t=="string"?t:C,y=$2(),b=(0,i1.useRef)(null),V=a===h6.Handle,H=h2((0,i1.useCallback)(jE(V&&h),[V,h]),P2),D=(0,i1.useRef)(null),A=e!=null?e:WE[a];(0,i1.useEffect)(()=>{if(!(!b.current||!v))return D.current||(D.current=Yz({domNode:b.current,nodeId:v,getStoreItems:()=>{let{nodeLookup:O,transform:_,snapGrid:N,snapToGrid:w,nodeOrigin:M,domNode:z}=y.getState();return{nodeLookup:O,transform:_,snapGrid:N,snapToGrid:w,nodeOrigin:M,paneDomNode:z}},onChange:(O,_)=>{var R,Z,P,B,I,F,q;let{triggerNodeChanges:N,nodeLookup:w,parentLookup:M,nodeOrigin:z}=y.getState(),k=[],T={x:O.x,y:O.y},S=w.get(v);if(S&&S.expandParent&&S.parentId){let G=(R=S.origin)!=null?R:z,Y=(P=(Z=O.width)!=null?Z:S.measured.width)!=null?P:0,J=(I=(B=O.height)!=null?B:S.measured.height)!=null?I:0,h1={id:S.id,parentId:S.parentId,rect:{width:Y,height:J,...ih({x:(F=O.x)!=null?F:S.position.x,y:(q=O.y)!=null?q:S.position.y},{width:Y,height:J},S.parentId,w,G)}},r1=Rl([h1],w,M,z);k.push(...r1),T.x=O.x?Math.max(G[0]*Y,O.x):void 0,T.y=O.y?Math.max(G[1]*J,O.y):void 0}if(T.x!==void 0&&T.y!==void 0){let G={id:v,type:"position",position:{...T}};k.push(G)}if(O.width!==void 0&&O.height!==void 0){let Y={id:v,type:"dimensions",resizing:!0,setAttributes:f?f==="horizontal"?"width":"height":!0,dimensions:{width:O.width,height:O.height}};k.push(Y)}for(let G of _){let Y={...G,type:"position"};k.push(Y)}N(k)},onEnd:({width:O,height:_})=>{let N={id:v,type:"dimensions",resizing:!1,dimensions:{width:O,height:_}};y.getState().triggerNodeChanges([N])}})),D.current.update({controlPosition:A,boundaries:{minWidth:l,minHeight:c,maxWidth:s,maxHeight:d},keepAspectRatio:u,resizeDirection:f,onResizeStart:x,onResize:L,onResizeEnd:g,shouldResize:m}),()=>{var O;(O=D.current)==null||O.destroy()}},[A,l,c,s,d,u,x,L,g,m]);let E=A.split("-");return(0,a1.jsx)("div",{className:e4(["react-flow__resize-control","nodrag",...E,a,r]),ref:b,style:{...o,scale:H,...i&&{[V?"backgroundColor":"borderColor"]:i}},children:n})}var Ab=(0,i1.memo)(YE);function xS({nodeId:t,isVisible:e=!0,handleClassName:a,handleStyle:r,lineClassName:o,lineStyle:n,color:i,minWidth:l=10,minHeight:c=10,maxWidth:s=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:u=!1,autoScale:f=!0,shouldResize:h,onResizeStart:m,onResize:x,onResizeEnd:L}){return e?(0,a1.jsxs)(a1.Fragment,{children:[jz.map(g=>(0,a1.jsx)(Ab,{className:o,style:n,nodeId:t,position:g,variant:h6.Line,color:i,minWidth:l,minHeight:c,maxWidth:s,maxHeight:d,onResizeStart:m,keepAspectRatio:u,autoScale:f,shouldResize:h,onResize:x,onResizeEnd:L},g)),Gz.map(g=>(0,a1.jsx)(Ab,{className:a,style:r,nodeId:t,position:g,color:i,minWidth:l,minHeight:c,maxWidth:s,maxHeight:d,onResizeStart:m,keepAspectRatio:u,autoScale:f,shouldResize:h,onResize:x,onResizeEnd:L},g))]}):null}var LS=B1(T2(),1);Kt();V2();Nt();t2();Y1();var h3=B1(n2(),1),XE=({id:t,data:e,selected:a,width:r,height:o})=>{var l,c;let i=((c=(l=e.label)==null?void 0:l.props)==null?void 0:c.plugin.settings.data.globalSettings.mapView).mapOrientation==="hor";return(0,h3.jsxs)(h3.Fragment,{children:[(0,h3.jsx)(xS,{handleClassName:"taskBoardMapViewContainerNodeResizerHandle",shouldResize:s=>!s.dy,isVisible:a,autoScale:!0,onResizeEnd:(s,d)=>{var u,f;try{let h=JSON.parse(localStorage.getItem(_5)||"{}");h[t]={width:(f=(u=d.width)!=null?u:e.label.props.plugin.settings.data.globalSettings.columnWidth)!=null?f:300},localStorage.setItem(_5,JSON.stringify(h))}catch(h){$.addToLogs(127,String(h),"ResizableNodeSelected.tsx/return()")}}}),i&&(0,h3.jsx)(p6,{type:"target",position:F1.Left,children:(0,h3.jsx)(J0,{style:{display:"block"},className:"taskBoardMapViewContainerNodeHandleIconLeft","aria-label":p("connect-a-child")})}),!i&&(0,h3.jsx)(p6,{type:"target",position:F1.Top,children:(0,h3.jsx)(Q0,{style:{display:"block"},className:"taskBoardMapViewContainerNodeHandleIconTop","aria-label":p("connect-a-child")})}),(0,h3.jsx)("div",{className:`taskBoardMapViewContainerNodeResizerTaskItem${a?"-selected":""}`,children:e.label}),i&&(0,h3.jsx)(p6,{type:"source",position:F1.Right,children:(0,h3.jsx)(J0,{style:{display:"block"},className:"taskBoardMapViewContainerNodeHandleIconRight","aria-label":p("connect-a-parent")})}),!i&&(0,h3.jsx)(p6,{type:"source",position:F1.Bottom,children:(0,h3.jsx)(Q0,{style:{display:"block"},className:"taskBoardMapViewContainerNodeHandleIconBottom","aria-label":p("connect-a-parent")})})]})},yS=(0,LS.memo)(XE);y6();var zt=require("obsidian");Kt();e3();t2();z6();var wS=B1(n2(),1),MS=({tagColors:t})=>{function e(a){if(!Array.isArray(t)||t.length===0)return"var(--xy-minimap-node-background-color, var(--xy-minimap-node-background-color-default))";let r=a.data.label.props.task.tags;if(!Array.isArray(r))return"var(--xy-minimap-node-background-color, var(--xy-minimap-node-background-color-default))";let o=new Map(t.map(i=>[i.name,i])),n;for(let i of r){let l=i.replace("#",""),c=o.get(l);c||o.forEach((s,d,u)=>{tt(d,l||"")&&(c=s)}),c&&(!n||c.priority<n.priority)&&(n=c)}return(n==null?void 0:n.color)||"var(--xy-minimap-node-background-color, var(--xy-minimap-node-background-color-default))"}return(0,wS.jsx)(CS,{className:"taskBoardMapViewContainerMinimap",bgColor:"var(--background-modifier-border-focus)",nodeColor:a=>e(a),pannable:!0,zoomable:!0,zoomStep:1})};V2();C4();Nt();var j4=B1(T2(),1);Nt();t2();C4();H4();Y1();var W2=B1(n2(),1),Sh=({plugin:t,allTasksArranged:e,activeBoardSettings:a,isVisible:r,onClose:o})=>{let[n,i]=(0,j4.useState)(""),[l,c]=(0,j4.useState)(new Set),s=(0,j4.useRef)(null),d=20,u=10,f=80,[h,m]=(0,j4.useState)(d),x=(0,j4.useMemo)(()=>e.flat().filter(b=>!b.legacyId&&!l.has(b.id)),[e,l]),L=(0,j4.useMemo)(()=>{if(!n.trim())return x;let y=n.toLowerCase();return x.filter(b=>b.title.toLowerCase().includes(y)||b.filePath.toLowerCase().includes(y)||b.tags.some(V=>V.toLowerCase().includes(y)))},[x,n]),g=(0,j4.useMemo)(()=>!L||L.length<1?[]:L.slice(0,h),[L,h]),C=async y=>{try{await G7(t,y)!==void 0&&(c(V=>new Set(V).add(y.id)),sleep(500).then(async()=>{await t.realTimeScanner.processAllUpdatedFiles(y.filePath),b1.emit("REFRESH_BOARD")}))}catch(b){$.addToLogs(128,String(b),"TasksImporterPanel.tsx/handleImportTask")}};(0,j4.useEffect)(()=>{m(d)},[L,d]);let v=(0,j4.useCallback)(()=>{let y=s.current;if(!y)return;let{scrollTop:b,scrollHeight:V,clientHeight:H}=y;(b+H)/V*100>=f&&h<L.length&&m(A=>Math.min(A+u,L.length))},[f,h,L.length,u]);return(0,j4.useEffect)(()=>{let y=s.current;if(!y)return;let b=null,V=()=>{b||(b=setTimeout(()=>{v(),b=null},100))};return y.addEventListener("scroll",V),()=>{y.removeEventListener("scroll",V),b&&clearTimeout(b)}},[v]),(0,j4.useEffect)(()=>{r||(c(new Set),i(""))},[r]),(0,j4.useEffect)(()=>{if(!r)return;let y=b=>{b.key==="Escape"&&o()};return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[r,o]),r?(0,W2.jsx)("div",{className:"tasksImporterPanelOverlay",onClick:o,children:(0,W2.jsxs)("div",{className:`tasksImporterPanel ${r?"tasksImporterPanel--visible":""}`,onClick:y=>y.stopPropagation(),children:[(0,W2.jsxs)("div",{className:"tasksImporterPanelHeader",children:[(0,W2.jsx)("h3",{className:"tasksImporterPanelTitle",children:p("import-tasks-to-map")}),(0,W2.jsx)("button",{className:"tasksImporterPanelCloseBtn",onClick:o,"aria-label":p("close"),children:(0,W2.jsx)(t7,{size:20})})]}),(0,W2.jsxs)("div",{className:"tasksImporterPanelSearchContainer",children:[(0,W2.jsx)("input",{type:"text",className:"tasksImporterPanelSearchInput",placeholder:p("search-tasks"),value:n,onChange:y=>i(y.target.value)}),n&&(0,W2.jsx)("button",{className:"tasksImporterPanelSearchClear",onClick:()=>i(""),"aria-label":p("clear-search"),children:(0,W2.jsx)(t7,{size:14})})]}),(0,W2.jsx)("div",{className:"tasksImporterPanelContent",ref:s,children:L.length===0?(0,W2.jsx)("div",{className:"tasksImporterPanelEmptyState",children:(0,W2.jsx)("p",{children:n?p("no-tasks-match-search"):p("all-tasks-have-ids")})}):(0,W2.jsxs)(W2.Fragment,{children:[(0,W2.jsx)("div",{className:"tasksImporterPanelTaskList",children:g.map((y,b)=>(0,W2.jsx)("div",{className:"tasksImporterPanelTaskItemWrapper",onClick:()=>C(y),children:(0,W2.jsx)(c7,{plugin:t,task:y,activeBoardSettings:a,dataAttributeIndex:0},y.id)},y.id))}),h<L.length&&(0,W2.jsxs)("button",{className:"tasksImporterPanelLoadMoreBtn",onClick:()=>m(y=>Math.min(y+u,L.length)),children:[(0,W2.jsx)(ht,{size:18}),p("load-more")]})]})})]})}):null};A3();Jt();Y1();var p2=B1(n2(),1),KE={ResizableNodeSelected:yS},QE=({plugin:t,activeBoardIndex:e,allTasksArranged:a,focusOnTaskId:r})=>{t.settings.data.globalSettings.lastViewHistory.taskId="";let o=t.settings.data.globalSettings.mapView,n=t.settings.data.globalSettings.taskNoteIdentifierTag,i=(()=>{switch(o.background){case"dots":return wt.Dots;case"lines":return wt.Lines;case"cross":return wt.Cross;default:return}})(),l=t.settings.data.globalSettings.tagColors,c=t.settings.data.boardConfigs[e],[s,d]=(0,g4.useState)(!1),[u,f]=(0,g4.useState)({}),[h,m]=(0,g4.useState)({}),[x,L]=(0,g4.useState)({}),[g,C]=(0,g4.useState)(0),[v,y]=(0,g4.useState)(!1),b=(0,g4.useRef)(null),V=()=>{let B={};try{let I=localStorage.getItem(_7);I&&(B=JSON.parse(I),(typeof B!="object"||B===null)&&(B={}))}catch(I){$.addToLogs(92,String(I),"MapView.tsx/loadPositions"),B={}}try{let I=B[e];return typeof I=="object"&&I!==null?I:{}}catch(I){return $.addToLogs(93,String(I),"MapView.tsx/loadPositions"),{}}},H=()=>{try{let B=localStorage.getItem(_5);if(B){let I=JSON.parse(B);if(typeof I=="object"&&I!==null)return I}return{}}catch(B){return $.addToLogs(94,String(B),"MapView.tsx/loadNodeSizes"),{}}},D=()=>{try{let B=localStorage.getItem(U7);if(B){let I=JSON.parse(B);if(typeof I=="object"&&I!==null)return I}return{[e]:{x:10,y:10,zoom:1.5}}}catch(B){return $.addToLogs(95,String(B),"MapView.tsx/loadViewport"),{[e]:{x:10,y:10,zoom:1.5}}}};(0,g4.useEffect)(()=>{d(!1);let B=V(),I={};Object.keys(B).forEach(h1=>{var r1,o1;I[h1]={x:Number.isFinite((r1=B[h1])==null?void 0:r1.x)?B[h1].x:0,y:Number.isFinite((o1=B[h1])==null?void 0:o1.y)?B[h1].y:0}}),f(I);let F=H(),q={};Object.keys(F).forEach(h1=>{var r1;q[h1]={width:Number.isFinite((r1=F[h1])==null?void 0:r1.width)&&F[h1].width>0?F[h1].width:300}}),m(q);let G=D(),Y=G[e]||{x:10,y:10,zoom:1.5},J={x:Number.isFinite(Y.x)?Y.x:10,y:Number.isFinite(Y.y)?Y.y:10,zoom:Number.isFinite(Y.zoom)?Y.zoom:1.5};L(h1=>({...G,[e]:J})),d(!0),C(h1=>h1+1)},[e]);let A=(0,g4.useMemo)(()=>{if(!s)return[];let B=[],I=new Set,F=new Set,q=350,G=170,J=(()=>{try{let r1=t.settings.data.globalSettings.columnWidth;if(!r1||typeof r1!="string")return 300;let o1=r1.replace("px","").trim(),Q=Number(o1);if(Number.isFinite(Q)&&Q>0)return Q}catch(r1){$.addToLogs(96,String(r1),"MapView.tsx/getDefaultWidth")}return 300})(),h1=0;if(a.forEach((r1,o1)=>{let Q=0;r1.forEach((e1,c1)=>{if(e1.legacyId){let p1=e1.legacyId;if(I.has(p1)){F.add(p1);return}I.add(p1);let V1=u[p1]||{},k1=h[p1]||{},R1=J;k1.width&&Number.isFinite(k1.width)&&k1.width>0&&(R1=k1.width);let N1=Number.isFinite(V1.x)?V1.x:h1,n1=Number.isFinite(V1.y)?V1.y:Q,l1=Number.isFinite(N1)?N1:o1*350,K=Number.isFinite(n1)?n1:c1*170;B.push({id:p1,type:"ResizableNodeSelected",data:{label:(0,p2.jsx)(c7,{dataAttributeIndex:0,plugin:t,task:e1,activeBoardSettings:c})},position:{x:l1,y:K},width:R1}),Q+=G}}),h1+=q}),F.size>0){let r1=Array.from(F).join(",");$.showNotice(17,`Following duplicate IDs has been found for tasks with IDs: "${r1}". This may cause unexpected behavior. Please consider changing the IDs of these tasks.`,"ERROR: Same id is present on two tasks","MapView.tsx/initialNodes"),F.clear()}return B},[a,c,e,s,g]),[E,O,_]=fS(A);(0,g4.useEffect)(()=>{O(A)},[A,O]),(0,g4.useEffect)(()=>{let B=b.current;if(!B)return;let I=x[e];if(I&&Number.isFinite(I.x)&&Number.isFinite(I.y)&&Number.isFinite(I.zoom))try{B.setViewport(I)}catch(F){}},[e,x]);function N(){let B=a.flat(),I=[],F=new Map;B.forEach(o1=>{let Q=o1.legacyId?o1.legacyId:String(o1.id);F.set(Q,o1)});let q=x[e]||{x:10,y:10,zoom:1.5},G=Number.isFinite(q==null?void 0:q.zoom)?q.zoom:1.5,h1=1.5-(Math.max(.5,Math.min(2,G))-.5)/(2-.5)*(1.5-1.2),r1=Number.isFinite(h1)?15*h1:15;return B.forEach(o1=>{let Q=o1.legacyId?o1.legacyId:String(o1.id);Array.isArray(o1.dependsOn)&&o1.dependsOn.forEach(e1=>{if(F.has(e1)){let c1=F.get(e1);if(c1){let p1=C2(n,c1.tags)?Y2(c1.status,!0,t.settings):Y2(c1.title,!1,t.settings);I.push({id:`${Q}->${e1}`,source:e1,target:Q,type:o.edgeType,animated:p1?!1:o.animatedEdges,style:{opacity:p1?"50%":"100%"},markerStart:{type:f6.ArrowClosed,height:o.arrowDirection!=="c2p"&&Number.isFinite(r1)?r1:0,width:o.arrowDirection!=="c2p"&&Number.isFinite(r1)?r1:0},markerEnd:{type:f6.ArrowClosed,height:o.arrowDirection!=="p2c"&&Number.isFinite(r1)?r1:0,width:o.arrowDirection!=="p2c"&&Number.isFinite(r1)?r1:0}})}}})}),I}let w=(0,g4.useMemo)(()=>N(),[a]),M=()=>{let B={};try{let F=localStorage.getItem(_7);F&&(B=JSON.parse(F),(typeof B!="object"||B===null)&&(B={}))}catch(F){$.addToLogs(97,String(F),"MapView.tsx/handleNodePositionChange"),B={}}let I=E.reduce((F,q)=>{var J,h1;let G=Number.isFinite((J=q.position)==null?void 0:J.x)?q.position.x:0,Y=Number.isFinite((h1=q.position)==null?void 0:h1.y)?q.position.y:0;return F[q.id]={x:G,y:Y},F},{});f(I),B[String(e)]=I;try{localStorage.setItem(_7,JSON.stringify(B))}catch(F){$.addToLogs(98,String(F),"MapView.tsx/handleNodePositionChange")}},z=(0,g4.useMemo)(()=>{let B=a.flat();return I=>{k(I.source,I.target,B)}},[a]);function k(B,I,F){let q=F.find(h1=>h1.legacyId===B||String(h1.id)===B);if(!q)return;let G=F.find(h1=>h1.legacyId===I||String(h1.id)===I);if(!G)return;let Y={...G,dependsOn:Array.isArray(G.dependsOn)?[...G.dependsOn]:[]},J=q.legacyId?q.legacyId:String(q.id);if(!Y.dependsOn.includes(J)){Y.dependsOn.push(J);let h1={taskID:Y.id,state:!0};if(b1.emit("UPDATE_TASK",h1),C2(n,Y.tags))v4(t,Y).then(()=>{sleep(500).then(()=>{t.realTimeScanner.processAllUpdatedFiles(Y.filePath),setTimeout(()=>{b1.emit("UPDATE_TASK",{taskID:Y.id,state:!1})},500)})});else{let r1=De(t.settings.data.globalSettings,Y.title,Y.dependsOn);Y.title=r1,i4(t,Y,G).then(o1=>{t.realTimeScanner.processAllUpdatedFiles(Y.filePath),setTimeout(()=>{b1.emit("UPDATE_TASK",{taskID:Y.id,state:!1})},500)})}}}let T=(0,g4.useRef)(0),S=(0,zt.debounce)(B=>{let I=Date.now();if(I-T.current>2e3){let F={x:Number.isFinite(B.x)?B.x:10,y:Number.isFinite(B.y)?B.y:10,zoom:Number.isFinite(B.zoom)&&B.zoom>0?B.zoom:1.5};try{let q=localStorage.getItem(U7),G={};if(q)try{let Y=JSON.parse(q);typeof Y=="object"&&Y!==null&&(G=Y)}catch(Y){G={}}G[e]=F,localStorage.setItem(U7,JSON.stringify(G)),T.current=I}catch(q){$.addToLogs(99,String(q),"MapView.tsx/debouncedSetViewportStorage")}}},2e3),R=B=>{let I=new zt.Menu;I.addItem(F=>{F.setTitle(p("add-new-task")),F.setIcon("square-check"),F.onClick(async()=>{new zt.Notice(p("under-development-feature-message"))})}),I.addItem(F=>{F.setTitle(p("add-sticky-note")),F.setIcon("sticky-note"),F.onClick(async()=>{new zt.Notice(p("under-development-feature-message"))})}),I.addSeparator(),I.addItem(F=>{F.setTitle(p("background-style")),F.setIcon("square");let q=F.setSubmenu();q.addItem(G=>{G.setTitle(p("transparent")),G.setIcon("eye-off"),G.onClick(()=>{t.settings.data.globalSettings.mapView.background="transparent",t.saveSettings(),b1.emit("REFRESH_BOARD")}),G.setChecked(o.background==="transparent")}),q.addItem(G=>{G.setTitle(p("dots")),G.setIcon("grip"),G.onClick(()=>{t.settings.data.globalSettings.mapView.background="dots",t.saveSettings(),b1.emit("REFRESH_BOARD")}),G.setChecked(o.background==="dots")}),q.addItem(G=>{G.setTitle(p("lines")),G.setIcon("grid-3x3"),G.onClick(()=>{t.settings.data.globalSettings.mapView.background="lines",t.saveSettings(),b1.emit("REFRESH_BOARD")}),G.setChecked(o.background==="lines")}),q.addItem(G=>{G.setTitle(p("cross")),G.setIcon("x"),G.onClick(()=>{t.settings.data.globalSettings.mapView.background="cross",t.saveSettings(),b1.emit("REFRESH_BOARD")}),G.setChecked(o.background==="cross")})}),I.addItem(F=>{F.setTitle(p("show-minimap")),F.setIcon("map"),F.onClick(async()=>{t.settings.data.globalSettings.mapView.showMinimap=!t.settings.data.globalSettings.mapView.showMinimap,t.saveSettings(),b1.emit("REFRESH_BOARD")}),F.setChecked(o.showMinimap)}),I.addItem(F=>{F.setTitle(p("animate-links")),F.setIcon("worm"),F.onClick(async()=>{t.settings.data.globalSettings.mapView.animatedEdges=!t.settings.data.globalSettings.mapView.animatedEdges,t.saveSettings(),b1.emit("REFRESH_BOARD")}),F.setChecked(o.animatedEdges)}),I.showAtMouseEvent(B instanceof MouseEvent?B:B.nativeEvent)},Z=()=>{y(B=>!B)},P=(B,I)=>{let F=new zt.Menu;F.addItem(q=>{q.setTitle(p("delete-dependency")),q.setIcon("trash"),q.onClick(async()=>{let[G,Y]=I.id.split("->"),h1=a.flat().find(e1=>(e1.legacyId?e1.legacyId:String(e1.id))===G);if(!h1){$.showNotice(18,"The parent task was not found in the cache. Maybe the ID didnt match or the task itself was not present in the file. Or the file has been moved to a different location.",`Parent task id : ${G}
Child task id : ${Y}`,"MapView.tsx/handleEdgeClick");return}if(!Array.isArray(h1.dependsOn)){$.showNotice(19,"The parent task contains no such dependency. There is some descripancy in the cache or the cache might have been corrupted.",`Parent task id : ${G}
Child task id : ${Y}
Parent task cache : ${JSON.stringify(h1)}`,"MapView.tsx/handleEdgeClick");return}let r1=h1.dependsOn.filter(e1=>e1!==Y),o1={...h1,dependsOn:r1},Q={taskID:o1.id,state:!0};b1.emit("UPDATE_TASK",Q);try{if(C2(n,o1.tags))v4(t,o1).then(()=>{sleep(500).then(()=>{t.realTimeScanner.processAllUpdatedFiles(o1.filePath),new zt.Notice(p("dependency-deleted")),setTimeout(()=>{b1.emit("UPDATE_TASK",{taskID:o1.id,state:!1})},500)})});else{let e1=De(t.settings.data.globalSettings,o1.title,o1.dependsOn);o1.title=e1,await i4(t,o1,h1),sleep(100).then(()=>{t.realTimeScanner.processAllUpdatedFiles(o1.filePath),new zt.Notice(p("dependency-deleted")),setTimeout(()=>{b1.emit("UPDATE_TASK",{taskID:o1.id,state:!1})},500)})}}catch(e1){$.showNotice(20,"There was an error while updating the parent task inside the file. Please see the below error message.",String(e1),"MapView.tsx/handleEdgeClick")}})}),F.addItem(q=>{q.setTitle(p("toggle-animation")),q.setIcon("sparkles"),q.onClick(()=>{console.log("Will be implemented in future...")}),q.setDisabled(!0)}),F.addItem(q=>{q.setTitle(p("change-color")),q.setIcon("palette"),q.onClick(()=>{console.log("Will be implemented in future...")}),q.setDisabled(!0)}),F.showAtMouseEvent(B instanceof MouseEvent?B:B.nativeEvent)};return a.flat().length===0?(0,p2.jsx)("div",{className:"taskBoardMapViewWrapper",children:(0,p2.jsx)("div",{className:"taskBoardMapView",children:(0,p2.jsx)("div",{className:"taskBoardMapViewContainer",children:(0,p2.jsx)("span",{className:"taskBoardMapViewContainerInitialMessage",children:p("no-tasks-found-for-current-board-message")})})})}):s&&A.length===0?(0,p2.jsx)("div",{className:"taskBoardMapViewWrapper",children:(0,p2.jsxs)("div",{className:"taskBoardMapView",children:[(0,p2.jsxs)("div",{className:"taskBoardMapViewContainer",children:[(0,p2.jsx)("span",{className:"taskBoardMapViewContainerInitialMessage",children:p("tasks-on-this-board-have-no-id-message-1")}),(0,p2.jsx)("br",{}),(0,p2.jsx)("br",{}),(0,p2.jsxs)("span",{className:"taskBoardMapViewContainerInitialMessage",children:[p("note")," : ",p("tasks-on-this-board-have-no-id-message-2")]})]}),(0,p2.jsx)("button",{className:"taskBoardMapViewImportPanelBtn",onClick:()=>Z(),children:(0,p2.jsx)(t6,{size:20})}),(0,p2.jsx)(Sh,{plugin:t,allTasksArranged:a,activeBoardSettings:c,isVisible:v,onClose:()=>y(!1)})]})}):s?(0,p2.jsx)("div",{className:"taskBoardMapViewWrapper",children:(0,p2.jsx)("div",{className:"taskBoardMapView",children:(0,p2.jsx)(bh,{children:(0,p2.jsxs)("div",{className:"taskBoardMapViewContainer",style:{width:"100%",height:"85vh","--task-board-map-zoom":(()=>{let B=x[e]||{x:10,y:10,zoom:1.5},I=Number.isFinite(B==null?void 0:B.zoom)?B.zoom:1.5,G=2-(Math.max(.5,Math.min(2,I))-.5)/(2-.5),Y=Number.isFinite(G)?G:1;return String(Y)})()},children:[(0,p2.jsxs)(uS,{proOptions:{hideAttribution:!0},nodes:E,edges:w,nodeTypes:KE,onEdgeClick:P,onNodesChange:_,onNodeDragStop:()=>{M()},panOnScroll:o.scrollAction==="pan",zoomOnScroll:o.scrollAction==="zoom",panOnDrag:[1,2],selectNodesOnDrag:!1,selectionOnDrag:!zt.Platform.isPhone,selectionMode:u6.Partial,onMoveEnd:(B,I)=>{S(I)},onConnect:z,onPaneContextMenu:B=>R(B),onlyRenderVisibleElements:o.renderVisibleNodes,onInit:B=>{try{b.current=B}catch(F){}if(r){let F=E.find(q=>q.id===r);if(F&&Number.isFinite(F.position.x)&&Number.isFinite(F.position.y)){let q={x:-(F.position.x-200),y:-F.position.y,zoom:1};if(Number.isFinite(q.x)&&Number.isFinite(q.y)&&Number.isFinite(q.zoom)){B.setViewport(q),L(G=>({...G,[e]:q})),S(q);return}}}let I=x[e];if(I&&Number.isFinite(I.x)&&Number.isFinite(I.y)&&Number.isFinite(I.zoom)&&I.zoom>0)B.setViewport(I);else{let F={x:10,y:10,zoom:1.5};B.setViewport(F),L(q=>({...q,[e]:F}))}},defaultViewport:x[e],elevateEdgesOnSelect:!0,children:[(0,p2.jsx)(mS,{children:(0,p2.jsx)("div",{className:"taskBoardMapViewControlsBtnContainer",children:(0,p2.jsx)(B7,{"aria-label":"Open left panel",onClick:()=>Z(),children:(0,p2.jsx)(t6,{size:34})})})}),o.showMinimap&&(0,p2.jsx)(MS,{tagColors:l}),(0,p2.jsx)(pS,{gap:12,size:1,color:o.background==="transparent"?"transparent":"",variant:i})]}),(0,p2.jsx)(Sh,{plugin:t,allTasksArranged:a,activeBoardSettings:c,isVisible:v,onClose:()=>y(!1)})]})})})}):(0,p2.jsx)("div",{className:"taskBoardMapViewWrapper",children:(0,p2.jsx)("div",{className:"taskBoardMapView",children:(0,p2.jsxs)("div",{className:"taskBoardMapViewContainer",children:[(0,p2.jsx)("div",{className:"spinner"}),(0,p2.jsx)("span",{children:p("loading-map-data")})]})})})},zS=(0,g4.memo)(QE);Kt();V2();s5();Y1();var I1=B1(n2(),1),JE=({app:t,plugin:e,boardConfigs:a})=>{var k1,R1,N1;let[r,o]=(0,d2.useState)(a),[n,i]=(0,d2.useState)((k1=e.settings.data.globalSettings.lastViewHistory.boardIndex)!=null?k1:0),[l,c]=(0,d2.useState)(),[s,d]=(0,d2.useState)(null),[u,f]=(0,d2.useState)([]),[h,m]=(0,d2.useState)(e.settings.data.globalSettings.lastViewHistory.viewedType||"kanban"),[x,L]=(0,d2.useState)(0),[g,C]=(0,d2.useState)(!0),[v,y]=(0,d2.useState)(!1),[b,V]=(0,d2.useState)(!!e.settings.data.globalSettings.searchQuery),[H,D]=(0,d2.useState)((R1=e.settings.data.globalSettings.searchQuery)!=null?R1:""),A=(0,d2.useRef)(null),[E,O]=(0,d2.useState)(!0),[_,N]=(0,d2.useState)(1e3),[w,M]=(0,d2.useState)(!1),[z,k]=(0,d2.useState)(!1),[T,S]=(0,d2.useState)(!1),[R,Z]=(0,d2.useState)(e.editorModified);(0,d2.useEffect)(()=>{let n1=()=>{let l1=e.app.workspace.getLeavesOfType(Xt)[0];l1&&N(l1.width)};return n1(),e.registerEvent(e.app.workspace.on("resize",n1)),()=>{}},[]),(0,d2.useEffect)(()=>{O(_>=1e3),M(_<=800)},[_]),(0,d2.useEffect)(()=>{(async()=>{try{let l1=await $r(e);o(l1);let K=await Tc(e,!0);K&&(c(K),y(!1))}catch(l1){$.addToLogs(131,`No need to worry about this bug, if its appearing on the fresh install.
${String(l1)}`,"TaskBoardViewContent.tsx/loading boards and tasks useEffect"),y(!0)}})()},[x]);let P=(0,d2.useMemo)(()=>{if(f([]),l&&r[n]){let n1=r[n],l1=n1.boardFilter,K={...l,Pending:Da(l.Pending,l1),Completed:Da(l.Completed,l1)};if(e.settings.data.boardConfigs[n].taskCount={pending:K.Pending.length,completed:K.Completed.length},d(K),H.trim()!==""){let m1=Y(K);return n1.columns.filter(A1=>A1.active).map(A1=>df(e.settings,n,A1,m1))}else return n1.columns.filter(m1=>m1.active).map(m1=>df(e.settings,n,m1,K,A1=>{e.settings.data.boardConfigs[n]=A1}))}return[]},[l,n]);(0,d2.useEffect)(()=>{P.length>0&&C(!1)},[P]);let B=(0,d2.useCallback)((0,p3.debounce)(async()=>{try{let n1=await Tc(e,!1);c(n1)}catch(n1){$.showNotice(28,"Error loading tasks on column refresh",String(n1),"TaskBoardViewContent.tsx/debouncedRefreshColumn")}},500),[e]);(0,d2.useEffect)(()=>(b1.on("REFRESH_COLUMN",B),()=>b1.off("REFRESH_COLUMN",B)),[B]),(0,d2.useEffect)(()=>{let n1=()=>L(l1=>l1+1);return b1.on("REFRESH_BOARD",n1),()=>b1.off("REFRESH_BOARD",n1)},[]),(0,d2.useEffect)(()=>{let n1=l1=>{m(l1),e.settings.data.globalSettings.lastViewHistory.viewedType=l1,e.saveSettings()};return b1.on("SWITCH_VIEW",n1),()=>b1.off("SWITCH_VIEW",n1)},[]),(0,d2.useEffect)(()=>{let n1=l1=>{Z(l1)};return b1.on("EDITOR_MODIFIED_CHANGED",n1),()=>b1.off("EDITOR_MODIFIED_CHANGED",n1)},[]);let I=(0,d2.useCallback)(()=>{e.realTimeScanner.processAllUpdatedFiles(),e.processCreateQueue(),e.processDeleteQueue(),e.processRenameQueue(),setTimeout(()=>{b1.emit("REFRESH_BOARD")},100)},[]);function F(){Ii(t,e)}function q(){Iy(e,n)}function G(){b?(D(""),f([]),e.settings.data.globalSettings.searchQuery="",b1.emit("REFRESH_COLUMN"),e.saveSettings(),V(!1)):(D(e.settings.data.globalSettings.searchQuery||""),Y(),V(!0))}function Y(n1){if(!H.trim())return f([]),null;let l1=H.toLowerCase(),K=null;if(n1)K={Pending:n1.Pending.filter(m1=>{if(l1.startsWith("file:"))return m1.filePath.toLowerCase().includes(l1.replace("file:","").trim());{let A1=m1.title.toLowerCase().includes(l1),P1=m1.body.join(`
`).toLowerCase().includes(l1);return A1||P1}}),Completed:n1.Completed.filter(m1=>{if(l1.startsWith("file:"))return m1.filePath.toLowerCase().includes(l1.replace("file:","").trim());{let A1=m1.title.toLowerCase().includes(l1),P1=m1.body.join(`
`).toLowerCase().includes(l1);return A1||P1}})};else{let m1=P.map(A1=>A1.filter(j=>{if(l1.startsWith("file:"))return j.filePath.toLowerCase().includes(l1.replace("file:","").trim());{let W=j.title.toLowerCase().includes(l1),U=j.body.join(`
`).toLowerCase().includes(l1);return W||U}}));f(m1),setTimeout(()=>{e.settings.data.globalSettings.searchQuery=l1,e.saveSettings()},100)}return K}function J(n1){let l1=n1.target.value;m(l1),e.settings.data.globalSettings.lastViewHistory.viewedType=l1,e.saveSettings()}function h1(n1){var l1,K,m1,A1;try{let P1=r[n];if(p3.Platform.isMobile||p3.Platform.isMacOS){let j=new y5(e,!1,void 0,n,P1.name);P1.boardFilter&&setTimeout(()=>{j.taskFilterComponent&&j.taskFilterComponent.loadFilterState(P1.boardFilter)},100),j.filterCloseCallback=async W=>{if(W){let U=[...r];U[n].boardFilter=W,o(U),e.settings.data.boardConfigs[n].boardFilter=W,await e.saveSettings(),b1.emit("REFRESH_BOARD")}},j.open()}else{if(A.current){A.current.close(),A.current=null;return}let j=(l1=n1.currentTarget)==null?void 0:l1.getBoundingClientRect(),W={x:(K=j==null?void 0:j.left)!=null?K:100,y:(m1=j==null?void 0:j.bottom)!=null?m1:100},U=new L5(e,!1,void 0,n,((A1=r[n])==null?void 0:A1.name)||"Board");P1.boardFilter&&setTimeout(()=>{U.taskFilterComponent&&U.taskFilterComponent.loadFilterState(P1.boardFilter)},100),U.onClose=async t1=>{if(t1){let x1=[...r];x1[n].boardFilter=t1,o(x1),e.settings.data.boardConfigs[n].boardFilter=t1,await e.saveSettings(),b1.emit("REFRESH_BOARD")}A.current=null},U.showAtPosition(W),A.current=U}}catch(P1){$.showNotice(29,"Error showing filter popover",String(P1),"TaskBoardViewContent.tsx/handleFilterButtonClick")}}function r1(n1){let l1=e.settings.data.globalSettings.visiblePropertiesList||[];if(l1.includes(n1))l1.splice(l1.indexOf(n1),1),e.settings.data.globalSettings.visiblePropertiesList=l1;else{let K=-1;switch(n1){case"subTasks":K=l1.indexOf("subTasksMinimized"),K>-1&&l1.splice(K,1);break;case"subTasksMinimized":K=l1.indexOf("subTasks"),K>-1&&l1.splice(K,1);break;case"description":K=l1.indexOf("descriptionMinimized"),K>-1&&l1.splice(K,1);break;case"descriptionMinimized":K=l1.indexOf("description"),K>-1&&l1.splice(K,1);break}l1.push(n1),e.settings.data.globalSettings.visiblePropertiesList=l1}e.saveSettings(),b1.emit("REFRESH_BOARD")}function o1(n1){let l1=new p3.Menu;l1.addItem(K=>{K.setTitle(p("show-hide-properties")),K.setIsLabel(!0)}),l1.addSeparator(),l1.addItem(K=>{var m1;K.setTitle(p("id")),K.onClick(async()=>{r1("id")}),K.setChecked((m1=e.settings.data.globalSettings.visiblePropertiesList)==null?void 0:m1.includes("id"))}),l1.addItem(K=>{var m1;K.setTitle(p("checkbox")),K.onClick(async()=>{r1("checkbox")}),K.setChecked((m1=e.settings.data.globalSettings.visiblePropertiesList)==null?void 0:m1.includes("checkbox"))}),l1.addItem(K=>{var m1;K.setTitle(p("status")),K.onClick(async()=>{r1("status")}),K.setChecked((m1=e.settings.data.globalSettings.visiblePropertiesList)==null?void 0:m1.includes("status"))}),l1.addItem(K=>{var m1;K.setTitle(p("priority")),K.onClick(async()=>{r1("priority")}),K.setChecked((m1=e.settings.data.globalSettings.visiblePropertiesList)==null?void 0:m1.includes("priority"))}),l1.addItem(K=>{var m1;K.setTitle(p("tags")),K.onClick(async()=>{r1("tags")}),K.setChecked((m1=e.settings.data.globalSettings.visiblePropertiesList)==null?void 0:m1.includes("tags"))}),l1.addItem(K=>{var m1;K.setTitle(p("time")),K.onClick(async()=>{r1("time")}),K.setChecked((m1=e.settings.data.globalSettings.visiblePropertiesList)==null?void 0:m1.includes("time"))}),l1.addItem(K=>{var m1;K.setTitle(p("reminder")),K.onClick(async()=>{r1("reminder")}),K.setChecked((m1=e.settings.data.globalSettings.visiblePropertiesList)==null?void 0:m1.includes("reminder"))}),l1.addItem(K=>{var m1;K.setTitle(p("created-date")),K.onClick(async()=>{r1("createdDate")}),K.setChecked((m1=e.settings.data.globalSettings.visiblePropertiesList)==null?void 0:m1.includes("createdDate"))}),l1.addItem(K=>{var m1;K.setTitle(p("start-date")),K.onClick(async()=>{r1("startDate")}),K.setChecked((m1=e.settings.data.globalSettings.visiblePropertiesList)==null?void 0:m1.includes("startDate"))}),l1.addItem(K=>{var m1;K.setTitle(p("scheduled-date")),K.onClick(async()=>{r1("scheduledDate")}),K.setChecked((m1=e.settings.data.globalSettings.visiblePropertiesList)==null?void 0:m1.includes("scheduledDate"))}),l1.addItem(K=>{var m1;K.setTitle(p("due-date")),K.onClick(async()=>{r1("dueDate")}),K.setChecked((m1=e.settings.data.globalSettings.visiblePropertiesList)==null?void 0:m1.includes("dueDate"))}),l1.addItem(K=>{var m1;K.setTitle(p("completed-date")),K.onClick(async()=>{r1("completionDate")}),K.setChecked((m1=e.settings.data.globalSettings.visiblePropertiesList)==null?void 0:m1.includes("completionDate"))}),l1.addItem(K=>{var m1;K.setTitle(p("cancelled-date")),K.onClick(async()=>{r1("cancelledDate")}),K.setChecked((m1=e.settings.data.globalSettings.visiblePropertiesList)==null?void 0:m1.includes("cancelledDate"))}),l1.addItem(K=>{var m1;K.setTitle(p("dependencies")),K.onClick(async()=>{r1("dependsOn")}),K.setChecked((m1=e.settings.data.globalSettings.visiblePropertiesList)==null?void 0:m1.includes("dependsOn"))}),l1.addItem(K=>{var m1;K.setTitle(p("file-name")),K.onClick(async()=>{r1("filePath")}),K.setChecked((m1=e.settings.data.globalSettings.visiblePropertiesList)==null?void 0:m1.includes("filePath"))}),l1.addSeparator(),l1.addItem(K=>{K.setTitle(p("sub-tasks"));let m1=K.setSubmenu();m1.addItem(A1=>{var P1;A1.setTitle(p("visible")),A1.onClick(async()=>{r1("subTasks")}),A1.setChecked((P1=e.settings.data.globalSettings.visiblePropertiesList)==null?void 0:P1.includes("subTasks"))}),m1.addItem(A1=>{var P1;A1.setTitle(p("minimized")),A1.onClick(async()=>{r1("subTasksMinimized")}),A1.setChecked((P1=e.settings.data.globalSettings.visiblePropertiesList)==null?void 0:P1.includes("subTasksMinimized"))})}),l1.addItem(K=>{K.setTitle(p("description"));let m1=K.setSubmenu();m1.addItem(A1=>{var P1;A1.setTitle(p("visible")),A1.onClick(async()=>{r1("description"),e.saveSettings()}),A1.setChecked((P1=e.settings.data.globalSettings.visiblePropertiesList)==null?void 0:P1.includes("description"))}),m1.addItem(A1=>{var P1;A1.setTitle(p("minimized")),A1.onClick(async()=>{r1("descriptionMinimized"),e.saveSettings()}),A1.setChecked((P1=e.settings.data.globalSettings.visiblePropertiesList)==null?void 0:P1.includes("descriptionMinimized"))})}),l1.showAtMouseEvent(n1 instanceof MouseEvent?n1:n1.nativeEvent)}function Q(n1){n1!==n&&(D(""),f([]),e.settings.data.globalSettings.searchQuery="",e.settings.data.globalSettings.lastViewHistory.boardIndex=n1,i(n1),setTimeout(()=>{b1.emit("REFRESH_BOARD"),e.saveSettings()},100)),p1()}function e1(){z?p1():c1()}function c1(){k(!0),S(!0)}function p1(){S(!1),setTimeout(()=>{k(!1)},300)}function V1(n1){let l1=new p3.Menu;l1.addItem(K=>{K.setTitle(p("quick-actions")),K.setIsLabel(!0)}),l1.addItem(K=>{K.setTitle(p("refresh-the-board")),K.setIcon("rotate-cw"),K.onClick(async()=>{I()})}),l1.addItem(K=>{K.setTitle(p("show-hide-properties")),K.setIcon("list"),K.onClick(async()=>{o1(n1)})}),l1.addItem(K=>{K.setTitle(p("open-board-filters-modal")),K.setIcon(oy),K.onClick(async()=>{h1(n1)})}),l1.addItem(K=>{K.setTitle(p("open-board-configuration-modal")),K.setIcon("settings"),K.onClick(async()=>{Bi(e,r,n,m1=>Fi(e,m1,o))})}),l1.addItem(K=>{K.setTitle(p("scan-vault-modal")),K.setIcon(Li),K.onClick(async()=>{l7(e.app,e)})}),l1.addItem(K=>{K.setTitle(p("view-type")),K.setIsLabel(!0)}),l1.addItem(K=>{K.setTitle(p("kanban-view")),K.setIcon("square-kanban"),K.onClick(async()=>{b1.emit("SWITCH_VIEW","kanban")})}),l1.addItem(K=>{K.setTitle(p("map-view")),K.setIcon("waypoints"),K.onClick(async()=>{b1.emit("SWITCH_VIEW","map")})}),l1.showAtMouseEvent(n1 instanceof MouseEvent?n1:n1.nativeEvent)}return(0,d2.useEffect)(()=>{function n1(l1){l1.key==="Escape"&&z&&p1()}if(z)return document.addEventListener("keydown",n1),()=>document.removeEventListener("keydown",n1)},[z]),(0,I1.jsxs)("div",{className:"taskBoardView",children:[(0,I1.jsxs)("div",{className:"taskBoardHeader",children:[E?(0,I1.jsx)("div",{className:"boardTitles",children:r.map((n1,l1)=>(0,I1.jsx)("button",{className:`boardTitleButton${l1===n?"Active":""}`,onClick:()=>Q(l1),children:n1.name},l1))}):(0,I1.jsxs)("div",{className:"mobileBoardHeader",children:[(0,I1.jsx)("button",{className:"hamburgerMenuButton",onClick:e1,"aria-label":p("toggle-board-drawer"),children:(0,I1.jsx)(va,{size:20})}),!b&&(0,I1.jsx)("span",{className:"currentBoardName",children:(N1=r[n])==null?void 0:N1.name})]}),(0,I1.jsxs)("div",{className:"taskBoardHeaderBtns",children:[(0,I1.jsxs)("div",{className:"taskCountContainer",children:[(0,I1.jsx)("div",{className:`taskCountContainerProgressBar${_>=1500?"":"-hidden"}`,children:(0,I1.jsx)("div",{className:"taskCountContainerProgressBarProgress",style:{width:`${(s?s==null?void 0:s.Completed.length:0)/(s?(s==null?void 0:s.Pending.length)+(s==null?void 0:s.Completed.length):1)*100}%`}})}),(0,I1.jsxs)("span",{className:"taskCountContainerTaskCount",children:[s?s==null?void 0:s.Completed.length:0," / ",s?(s==null?void 0:s.Pending.length)+(s==null?void 0:s.Completed.length):0]})]}),b&&(0,I1.jsx)("input",{type:"text",className:"taskBoardSearchInput",placeholder:"Search tasks...","aria-label":p("enter-task-content-to-search"),value:H,onChange:n1=>D(n1.target.value),onKeyDown:n1=>{n1.key==="Enter"&&Y()},ref:n1=>{n1&&b&&n1.focus()}}),(0,I1.jsx)("button",{className:"searchTaskBtn",onClick:()=>G(),children:b?(0,I1.jsx)(ya,{size:20,"aria-label":p("clear-search-query")}):(0,I1.jsx)(Ma,{size:20,"aria-label":p("search-tasks")})}),(0,I1.jsx)("button",{className:"AddNewTaskBtn","aria-label":p("add-new-task"),onClick:F,children:(0,I1.jsx)(ne,{size:18})}),(0,I1.jsx)("button",{className:`filterTaskBtn ${w||p3.Platform.isMobile?"taskBoardViewHeaderHideElements":""}`,"aria-label":p("show-hide-properties"),onClick:o1,children:(0,I1.jsx)(ma,{size:18})}),(0,I1.jsx)("button",{className:`filterTaskBtn ${w||p3.Platform.isMobile?"taskBoardViewHeaderHideElements":""}`,"aria-label":p("apply-advanced-board-filters"),onClick:h1,children:(0,I1.jsx)(ie,{size:18})}),(0,I1.jsx)("button",{className:`ConfigureBtn ${w||p3.Platform.isMobile?"taskBoardViewHeaderHideElements":""}`,"aria-label":p("board-configure-button"),onClick:()=>Bi(e,r,n,n1=>Fi(e,n1,o)),children:(0,I1.jsx)(wa,{size:18})}),(0,I1.jsxs)("select",{className:`taskBoardViewDropdown ${w||p3.Platform.isMobile?"taskBoardViewHeaderHideElements":""}`,value:h,onChange:n1=>{J(n1)},children:[(0,I1.jsx)("option",{value:"kanban",children:p("kanban")}),(0,I1.jsx)("option",{value:"map",children:p("map")})]}),(0,I1.jsx)("button",{className:`RefreshBtn ${p3.Platform.isMobile?"taskBoardViewHeaderHideElements":""}${R?"needrefresh":""}`,"aria-label":p("refresh-board-button"),onClick:I,children:(0,I1.jsx)(La,{size:18})}),(w||p3.Platform.isMobile)&&(0,I1.jsx)("button",{className:"taskBoardViewHeaderOptionsBtn",onClick:V1,children:(0,I1.jsx)(pt,{size:20})})]})]}),!E&&z&&(0,I1.jsx)("div",{className:"boardSidebarOverlay",onClick:p1,children:(0,I1.jsxs)("div",{className:`boardSidebar ${T?"boardSidebar--slide-in":"boardSidebar--slide-out"}`,onClick:n1=>n1.stopPropagation(),children:[(0,I1.jsx)("div",{className:"boardSidebarHeader",children:(0,I1.jsx)("h3",{children:p("your-boards")})}),(0,I1.jsxs)("div",{className:"boardSidebarContent",children:[(0,I1.jsx)("div",{className:"boardSidebarContentBtnContainer",children:r.map((n1,l1)=>{var K;return(0,I1.jsxs)("div",{className:`boardSidebarCard ${l1===n?"boardSidebarCard--active":""}`,onClick:()=>Q(l1),children:[(0,I1.jsx)("div",{className:"boardSidebarCardTitle",children:n1.name}),(0,I1.jsx)("div",{className:"boardSidebarCardDescription",children:n1==null?void 0:n1.description}),(0,I1.jsxs)("div",{className:"taskCountContainerProgress",children:[(0,I1.jsx)("div",{className:"taskCountContainerProgressBar",children:(0,I1.jsx)("div",{className:"taskCountContainerProgressBarIndicator",style:{width:`${(n1!=null&&n1.taskCount?n1.taskCount.completed:0)/(n1!=null&&n1.taskCount?(n1==null?void 0:n1.taskCount.pending)+n1.taskCount.completed:1)*100}%`}})}),(0,I1.jsxs)("span",{className:"taskCountContainerProgressCount",children:[n1!=null&&n1.taskCount?n1.taskCount.completed:0," / ",n1!=null&&n1.taskCount?(n1==null?void 0:n1.taskCount.pending)+((K=n1==null?void 0:n1.taskCount)==null?void 0:K.completed):0]})]})]},l1)})}),(0,I1.jsx)("div",{className:"boardSidebarFooter",children:(0,I1.jsx)("button",{className:"boardConfigureBtn",onClick:()=>Bi(e,r,n,n1=>Fi(e,n1,o)),children:p("configure-boards")})})]})]})}),(0,I1.jsx)("div",{className:p3.Platform.isMobile?"taskBoardViewSection-mobile":"taskBoardViewSection",children:r[n]?h==="kanban"?(0,I1.jsx)(fM,{app:t,plugin:e,board:r[n],allTasks:l,tasksPerColumn:u.length>0?u:P,loading:g,freshInstall:v}):h==="map"?g?(0,I1.jsx)("div",{className:"loadingContainer",children:v?(0,I1.jsxs)("h2",{className:"initializationMessage",children:[p("fresh-install-1"),(0,I1.jsx)("br",{}),(0,I1.jsx)("br",{}),p("fresh-install-2"),(0,I1.jsx)("br",{}),(0,I1.jsx)("br",{}),p("fresh-install-3")]}):(0,I1.jsxs)(I1.Fragment,{children:[(0,I1.jsx)("div",{className:"spinner"}),(0,I1.jsx)("p",{children:p("loading-tasks")})]})}):(0,I1.jsx)(zS,{plugin:e,activeBoardIndex:n,allTasksArranged:u.length>0?u:P,focusOnTaskId:e.settings.data.globalSettings.lastViewHistory.taskId||""}):(0,I1.jsxs)("div",{className:"emptyBoardMessage",children:[h==="list"&&"List view coming soon.",h==="table"&&"Table view coming soon.",h==="calender"&&"Calender view coming soon.",h==="gantt"&&"Gantt chart view coming soon."]}):(0,I1.jsx)("div",{className:"emptyBoardMessage",children:"Switch to different board."})})]})},bS=JE;Kt();Y5();o0();t2();C4();Y1();var jl=B1(n2(),1),Gl=class extends vr.ItemView{constructor(a,r){super(r);this.root=null;this.app=a.app,this.plugin=a,this.boards=[],this.icon=Ot}getViewType(){return Xt}getDisplayText(){return p("task-board")}getSettings(){return this.plugin.settings}async onOpen(){vr.Platform.isMobile&&this.addAction(ry,p("refresh-board-button"),async()=>{let r=localStorage.getItem(Z5),o=r?JSON.parse(r):null;o&&o.length>0&&await this.plugin.realTimeScanner.processAllUpdatedFiles(),b1.emit("REFRESH_BOARD")}).addClass("taskboardRefreshBtn");let a=localStorage.getItem("manadatoryScan")==="true";(!vr.Platform.isMobile||a)&&this.addAction(Li,p("scan-vault-modal"),()=>{l7(this.app,this.plugin)}).addClass("taskboardScanVaultBtn"),a&&this.highlighgtScanvaultIcon(),await this.loadBoards(),this.renderBoard()}async highlighgtScanvaultIcon(){let a=this.containerEl.querySelector(".taskboardScanVaultBtn");a&&(a.classList.add("highlight"),setInterval(()=>{a.classList.toggle("highlight")},800))}async loadBoards(){try{this.boards=await $r(this.plugin)}catch(a){$.showNotice(89,"Failed to load board configurations from data.json",String(a),"TaskBoardView.tsx/loadBoards")}}renderBoard(){this.root=(0,SS.createRoot)(this.containerEl.children[1]),this.root.render((0,jl.jsxs)(HS.StrictMode,{children:[(0,jl.jsx)(bS,{app:this.app,plugin:this.plugin,boardConfigs:this.boards}),","]}))}async onClose(){var a;(a=this.root)==null||a.unmount(),this.plugin.leafIsActive=!1}};var He=require("obsidian");C4();Kt();Y1();var Wl=class{constructor(e,a,r){this.taskBoardFileStack=[];this.app=e,this.plugin=a,this.vaultScanner=r}async initializeStack(){try{let e=localStorage.getItem(Z5);e&&(this.taskBoardFileStack=JSON.parse(e))}catch(e){$.addToLogs(144,String(e),"RealTimeScanner.ts/initializeStack")}}saveStack(){try{localStorage.setItem(Z5,JSON.stringify(this.taskBoardFileStack))}catch(e){$.showNotice(32,"Error saving file stack to localStorage.",String(e),"RealTimeScanner.ts/saveStack")}}async processAllUpdatedFiles(e,a){let r=null;e&&typeof e=="string"?r=this.plugin.app.vault.getFileByPath(e):r=e;let o=this.taskBoardFileStack.slice(),n=o.map(l=>this.getFileFromPath(l)).filter(l=>!!l);if(r){let l=r.path;o.includes(l)||(o.push(l),n.push(r))}let i=!1;o.length>0&&(i=await this.vaultScanner.refreshTasksFromFiles(n,!1)),i&&(this.taskBoardFileStack=[],this.saveStack(),this.plugin.editorModified=!1),setTimeout(()=>{b1.emit("UPDATE_TASK",{taskID:a,state:!1})},500)}getFileFromPath(e){var a;return(a=this.plugin.app)==null?void 0:a.vault.getFileByPath(e)}onFileModified(e){(this.taskBoardFileStack.at(0)===void 0||!this.taskBoardFileStack.includes(e instanceof He.TFile?e.path:e))&&(this.taskBoardFileStack.push(e instanceof He.TFile?e.path:e),this.saveStack())}onFileRenamed(e,a,r){let o=!1,{Pending:n,Completed:i}=this.plugin.vaultScanner.tasksCache;[n,i].forEach(c=>{c&&typeof c=="object"&&(e instanceof He.TFile&&c.hasOwnProperty(a)?(e.path.toLowerCase().startsWith(r.toLowerCase())?o=!0:(c[e.path]=c[a],c[e.path].forEach(s=>{s.filePath===a&&(s.filePath=e.path,o=!0)})),delete c[a]):e instanceof He.TFolder&&(Object.keys(c).filter(d=>d.startsWith(a+"/")).forEach(d=>{let u=e.path+d.substring(a.length);c[u]=c[d],c[u].forEach(f=>{f.filePath.startsWith(a+"/")&&(f.filePath=e.path+f.filePath.substring(a.length),o=!0)}),delete c[d]}),c[e.path]=c[a],delete c[a]))});let l=this.taskBoardFileStack.indexOf(a);l!==-1&&(this.taskBoardFileStack.splice(l,1),this.saveStack()),o&&(this.plugin.vaultScanner.tasksCache.Pending=n,this.plugin.vaultScanner.tasksCache.Completed=i)}onFileDeleted(e){let a=!1,r=this.taskBoardFileStack.indexOf(e.path);r!==-1&&(this.taskBoardFileStack.splice(r,1),this.saveStack());let{Pending:o,Completed:n}=this.plugin.vaultScanner.tasksCache;[o,n].forEach(i=>{i&&typeof i=="object"&&(e instanceof He.TFile&&i.hasOwnProperty(e.path)?(delete i[e.path],a=!0):e instanceof He.TFolder&&Object.keys(i).filter(c=>c.startsWith(e.path+"/")).forEach(c=>{delete i[c],a=!0}))}),a&&(this.plugin.vaultScanner.tasksCache.Pending=o,this.plugin.vaultScanner.tasksCache.Completed=n)}};K5();s5();var kS=require("obsidian");lf();t2();s5();var Yl=class extends kS.PluginSettingTab{constructor(a,r){super(a,r);this.globalSettings=null;this.icon=Ot;this.plugin=r,this.settingsManager=new o7(r)}async display(){let{containerEl:a}=this;a.empty(),a.addClass("TaskBoardSettingTab"),this.settingsManager.constructUI(a,p("task-board"))}hide(){this.settingsManager.cleanUp()}};var VS=require("obsidian"),Xl=class extends VS.Modal{constructor(e,{modifiedFiles:a=[],deletedFiles:r=[]}){super(e),this.modifiedFiles=a,this.deletedFiles=r}onOpen(){let{contentEl:e}=this;this.modalEl.setAttribute("data-type","task-board-view"),e.setAttribute("data-type","task-board-view");let a=e.createDiv({cls:"modifiedFilesModalContent"}),r=this.modifiedFiles.length+this.deletedFiles.length;a.createEl("h2",{text:`File Changes (${r})`,cls:"modifiedFilesModalContentHeader"}),a.createEl("p",{text:"The below files were either modified, created, renamed or deleted while Obsidian was closed:",cls:"modifiedFilesModalDescription"}),this.modifiedFiles.length>0&&this.createModifiedFilesSection(a),this.deletedFiles.length>0&&this.createDeletedFilesSection(a),this.modifiedFiles.length===0&&this.deletedFiles.length===0&&a.createEl("div",{text:"No file changes found.",cls:"modifiedFilesEmpty"}),a.createDiv({cls:"modifiedFilesButtonContainer"}).createEl("button",{text:"Close",cls:"mod-cta",onclick:()=>{this.close()}})}createModifiedFilesSection(e){let a=e.createDiv({cls:"modifiedFilesSection"});a.createEl("h3",{text:`Modified/Created Files (${this.modifiedFiles.length})`,cls:"modifiedFilesSectionHeader"});let r=a.createDiv({cls:"modifiedFilesListContainer"});this.modifiedFiles.forEach((o,n)=>{this.createFileItem(r,o,n,"modified")})}createDeletedFilesSection(e){let a=e.createDiv({cls:"deletedFilesSection"});a.createEl("h3",{text:`Deleted/Renamed Files (${this.deletedFiles.length})`,cls:"deletedFilesSectionHeader"}),a.createEl("p",{text:"NOTE : Renamed files are little difficult to find. So if you see a lot of files here, it will be good idea to run the vault scan to re-build the cache."});let r=a.createDiv({cls:"deletedFilesListContainer"});this.deletedFiles.forEach((o,n)=>{this.createDeletedFileItem(r,o,n)})}createFileItem(e,a,r,o){let n=e.createDiv({cls:"modifiedFileItem"}),i=n.createDiv({cls:"modifiedFileInfo"});i.createEl("div",{text:a.name,cls:"modifiedFileName"}),i.createEl("div",{text:a.path,cls:"modifiedFilePath"});let l=n.createDiv({cls:"modifiedFileDate"}),c=new Date(a.stat.mtime);l.createEl("div",{text:c.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),cls:"modifiedFileDay"}),l.createEl("div",{text:c.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"}),cls:"modifiedFileTime"})}createDeletedFileItem(e,a,r){let o=e.createDiv({cls:"deletedFileItem"}),n=o.createDiv({cls:"deletedFileIndicator"});n.innerText="\u{1F5D1}\uFE0F",o.createDiv({cls:"deletedFileInfo"}).createEl("div",{text:a,cls:"deletedFileName"})}};Kt();za();t2();ef();Y1();var Kl=class{static GetApi(e,a){return{addNewTask:(r,o)=>this.openAddNewTaskModal(e,a,r,o)}}static async openAddNewTaskModal(e,a,r,o){try{let n=new v0(a,(i,l)=>{},r,!0,!1,void 0,o);return n.open(),await n.waitForClose}catch(n){return $.addToLogs(161,String(n),"taskBoardAPIs.ts/openAddNewTaskModal"),String(n)}}};ci();var bt=require("@codemirror/view"),BS=require("@codemirror/state"),Ql=require("@codemirror/language");Jt();M0();Yr();V2();var Hh=class extends bt.WidgetType{constructor(a){super();this.content=a}toDOM(){let a=document.createElement("span");return a.className="taskboard-hidden-property-placeholder",a.textContent="...",a.title=`Hidden: ${this.content}`,a}};function kh(t,e){if(e==="1"||e==="2")switch(t){case"id":return v2.TaskFormatRegularExpWithGlobal.idRegex;case"tags":return F2.hashTagsRegex;case"createdDate":return v2.TaskFormatRegularExpWithGlobal.createdDateRegex;case"startDate":return v2.TaskFormatRegularExpWithGlobal.startDateRegex;case"scheduledDate":return v2.TaskFormatRegularExpWithGlobal.scheduledDateRegex;case"dueDate":return v2.TaskFormatRegularExpWithGlobal.dueDateRegex;case"completionDate":return v2.TaskFormatRegularExpWithGlobal.doneDateRegex;case"cancelledDate":return v2.TaskFormatRegularExpWithGlobal.cancelledDateRegex;case"priority":return v2.TaskFormatRegularExpWithGlobal.priorityRegex;case"time":return/\s*\d{2}:\d{2}\s*-\s*\d{2}:\d{2}/g;case"recurring":return v2.TaskFormatRegularExpWithGlobal.recurrenceRegex;case"onCompletion":return v2.TaskFormatRegularExpWithGlobal.onCompletionRegex;case"dependsOn":return v2.TaskFormatRegularExpWithGlobal.dependsOnRegex;case"reminder":return/\(\@(\d{4}-\d{2}-\d{2}( \d{2}:\d{2})?)\)/g;default:return/(?:)/g}else if(e==="3")switch(t){case"id":return K1.TaskFormatRegularExprGlobal.idRegex;case"tags":return F2.hashTagsRegex;case"createdDate":return K1.TaskFormatRegularExprGlobal.createdDateRegex;case"startDate":return K1.TaskFormatRegularExprGlobal.startDateRegex;case"scheduledDate":return K1.TaskFormatRegularExprGlobal.scheduledDateRegex;case"dueDate":return K1.TaskFormatRegularExprGlobal.dueDateRegex;case"completionDate":return K1.TaskFormatRegularExprGlobal.doneDateRegex;case"cancelledDate":return K1.TaskFormatRegularExprGlobal.cancelledDateRegex;case"priority":return K1.TaskFormatRegularExprGlobal.priorityRegex;case"time":return K1.TaskFormatRegularExprGlobal.timeRegex;case"recurring":return K1.TaskFormatRegularExprGlobal.recurrenceRegex;case"onCompletion":return K1.TaskFormatRegularExprGlobal.onCompletionRegex;case"dependsOn":return K1.TaskFormatRegularExprGlobal.dependsOnRegex;case"reminder":return K1.TaskFormatRegularExprGlobal.reminderRegex;default:return/(?:)/g}else switch(t){case"id":return K1.TaskFormatRegularExprGlobal.idRegex;case"tags":return F2.hashTagsRegex;case"createdDate":return K1.TaskFormatRegularExprGlobal.createdDateRegex;case"startDate":return K1.TaskFormatRegularExprGlobal.startDateRegex;case"scheduledDate":return K1.TaskFormatRegularExprGlobal.scheduledDateRegex;case"dueDate":return K1.TaskFormatRegularExprGlobal.dueDateRegex;case"completionDate":return K1.TaskFormatRegularExprGlobal.doneDateRegex;case"cancelledDate":return K1.TaskFormatRegularExprGlobal.cancelledDateRegex;case"priority":return K1.TaskFormatRegularExprGlobal.priorityRegex;case"time":return K1.TaskFormatRegularExprGlobal.timeRegex;case"recurring":return K1.TaskFormatRegularExprGlobal.recurrenceRegex;case"onCompletion":return K1.TaskFormatRegularExprGlobal.onCompletionRegex;case"dependsOn":return K1.TaskFormatRegularExprGlobal.dependsOnRegex;case"reminder":return K1.TaskFormatRegularExprGlobal.reminderRegex;default:return/(?:)/g}}function TS(t,e){let a=[],r=e.settings.data.globalSettings.hiddenTaskProperties||[],o=t.state.selection.main.head,n=t.state.doc;for(let i=1;i<=n.lines;i++){let l=n.line(i),c=l.text;if(!m4(c))continue;let d=(0,Ql.syntaxTree)(t.state).resolveInner(l.from+1).type.prop(Ql.tokenClassNodeProp);if(d){let f=d.split(" ");if(f.includes("hmd-codeblock")||f.includes("hmd-frontmatter"))continue}let u=o>=l.from&&o<=l.to;r.forEach(f=>{var x;let h=kh(f,(x=e.settings.data.globalSettings)==null?void 0:x.taskPropertyFormat),m=Array.from(c.matchAll(h));for(let L of m){if(typeof L.index!="number")continue;let g=l.from+L.index,C=g+L[0].length;u&&o>=g-1&&o<=C+1||(a.push(bt.Decoration.mark({class:"taskboard-hidden-property-editor",attributes:{style:"opacity: 0; font-size: 0; display: none;"}}).range(g,C)),a.push(bt.Decoration.widget({widget:new Hh(L[0]),side:0}).range(C)))}})}return bt.Decoration.set(a.sort((i,l)=>{if(i.from!==l.from)return i.from-l.from;if(i.to!==void 0&&l.to!==void 0&&i.to!==l.to)return i.to-l.to;let c=i.value&&typeof i.value.side=="number"?i.value.side:0,s=l.value&&typeof l.value.side=="number"?l.value.side:0;return(c!=null?c:0)-(s!=null?s:0)}))}var tN=BS.StateField.define({create(t){return bt.Decoration.none},update(t,e){return e.docChanged||e.selection?t.map(e.changes):t},provide:t=>bt.EditorView.decorations.from(t)}),eN=t=>bt.ViewPlugin.fromClass(class{constructor(e){this.decorations=TS(e,t)}update(e){(e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=TS(e.view,t))}},{decorations:e=>e.decorations});function IS(t){return[tN,eN(t),bt.EditorView.baseTheme({".taskboard-hidden-property-editor":{opacity:"0",fontSize:"0",display:"none"},".taskboard-hidden-property-placeholder":{opacity:"0.3",fontSize:"0.8em",fontStyle:"italic",color:"var(--text-muted)",cursor:"pointer"},".taskboard-hidden-property-placeholder:hover":{opacity:"0.6"}})]}si();V2();nf();C4();Y1();Bt();var Jl=class extends G2.Plugin{constructor(a,r){super(a,r);this.settings=Q3;this._editorModified=!1;this.renameQueue=[];this.deleteQueue=[];this.createQueue=[];this.renameProcessingTimer=null;this.deleteProcessingTimer=null;this.createProcessingTimer=null;this.currentProgressNotice=null;this.QUEUE_DELAY=1e3;this.PROCESSING_INTERVAL=100;this.plugin=this,this.app=this.plugin.app,this.view=null,this.settings=Q3,this.vaultScanner=new X7(this.app,this.plugin),this.realTimeScanner=new Wl(this.app,this.plugin,this.vaultScanner),this.editorModified=!1,this.IstasksJsonDataChanged=!1,this._leafIsActive=!1,this.ribbonIconEl=null,this.isI18nInitialized=!1}get editorModified(){return this._editorModified}set editorModified(a){this._editorModified!==a&&(this._editorModified=a,b1.emit("EDITOR_MODIFIED_CHANGED",a))}get api(){return Kl.GetApi(this.app,this.plugin)}async onload(){console.log("Task Board : Loading..."),S2.setPlugin(this),$.setPlugin(this),await this.loadSettings(),this.runOnPluginUpdate(),this.addSettingTab(new Yl(this.app,this)),await Yh(this),await this.vaultScanner.initializeTasksCache(),this.app.workspace.onLayoutReady(()=>{this.compatiblePluginsAvailabilityCheck(),this.getRibbonIcon(),this.registerEvents(),this.registerCommands(),this.createLocalStorageAndScanModifiedFiles(),this.registerTaskBoardView(),this.openAtStartup(),this.registerTaskBoardStatusBar(),this.registerEditorExtensions(),this.registerReadingModePostProcessor(),setTimeout(()=>this.findModifiedFilesOnAppAbsense(),1e4)})}onunload(){console.log("Task Board : Uninstalling...")}async activateView(a){let r=null,o=this.app.workspace.getLeavesOfType(Xt);function n(c){if(c.view.containerEl.ownerDocument.defaultView)return"Notice"in c.view.containerEl.ownerDocument.defaultView}let i=o.find(c=>n(c)),l=o.find(c=>!n(c));a==="icon"?r=i||l||this.app.workspace.getLeaf("tab"):a==="tab"?i?r=i:r=this.app.workspace.getLeaf("tab"):a==="window"?l?r=l:r=this.app.workspace.getLeaf("window"):r=this.app.workspace.getLeaf("tab"),r&&(this.leafIsActive=!0,await r.setViewState({type:Xt,active:!0}),this.app.workspace.revealLeaf(r))}async getRibbonIcon(){var a;this.ribbonIconEl=this.addRibbonIcon(Ot,(a=p("open-task-board"))!=null?a:"Open task board",()=>{this.activateView("icon")})}get leafIsActive(){return this._leafIsActive}set leafIsActive(a){var r,o;this._leafIsActive=a,this._leafIsActive?(r=this.ribbonIconEl)==null||r.addClass("task-board-ribbon-class"):(o=this.ribbonIconEl)==null||o.removeClass("task-board-ribbon-class")}async loadSettings(){this.settings=Object.assign({},Q3,await this.loadData()),this.saveSettings()}async saveSettings(a){try{a?(this.settings=a,await this.saveData(a)):await this.saveData(this.settings)}catch(r){$.addToLogs(140,String(r),"main.ts/saveSettings")}}createLocalStorageAndScanModifiedFiles(){this.realTimeScanner.initializeStack(),this.realTimeScanner.processAllUpdatedFiles()}registerTaskBoardView(){this.registerView(Xt,a=>(this.view=new Gl(this,a),this.view))}registerEditorExtensions(){var r;(((r=this.settings.data.globalSettings)==null?void 0:r.hiddenTaskProperties)||[]).length>0&&this.registerEditorExtension(IS(this))}registerReadingModePostProcessor(){var o;let a=((o=this.settings.data.globalSettings)==null?void 0:o.hiddenTaskProperties)||[];if(a.length===0)return;if(!new m0(this).isTasksPluginEnabled())this.registerMarkdownPostProcessor((n,i)=>{n.querySelectorAll("li").forEach(c=>{c.querySelector(".contains-task-list")&&this.hidePropertiesInElement(c,a)})});else{let n="task-board-hide-task-properties-style",i=document.getElementById(n);i||(i=document.createElement("style"),i.id=n,document.head.appendChild(i));let l="",c="@keyframes task-board-fade-in { from { display: none !important; opacity: 0; transform: scaleX(0.8); } to { display: inline !important; opacity: 1; transform: scaleX(1); } }";a.forEach(s=>{switch(s){case"id":l+=".task-id{ display: none !important; }",l+="span:hover .task-id { display: inline !important; animation: task-board-fade-in 0.5s ease-in-out; }",l+=c;break;case"tags":l+=".task-description>span>a.tag { display: none !important; }",l+="span:hover .task-description>span>a.tag { display: inline !important; animation: task-board-fade-in 0.5s ease-in-out; }",l+=c;case"createdDate":l+=".task-created { display: none !important; }",l+="span:hover .task-created { display: inline !important; animation: task-board-fade-in 0.5s ease-in-out; }",l+=c;break;case"startDate":l+=".task-start { display: none !important; }",l+="span:hover .task-start { display: inline !important; animation: task-board-fade-in 0.5s ease-in-out; }",l+=c;break;case"scheduledDate":l+=".task-scheduled { display: none !important; }",l+="span:hover .task-scheduled { display: inline !important; animation: task-board-fade-in 0.5s ease-in-out; }",l+=c;break;case"dueDate":l+=".task-due { display: none !important; }",l+="span:hover .task-due { display: inline !important; animation: task-board-fade-in 0.5s ease-in-out; }",l+=c;break;case"completionDate":l+=".task-completion { display: none !important; }",l+="span:hover .task-completion { display: inline !important; animation: task-board-fade-in 0.5s ease-in-out; }",l+=c;break;case"cancelledDate":l+=".task-cancelled { display: none !important; }",l+="span:hover .task-cancelled { display: inline !important; animation: task-board-fade-in 0.5s ease-in-out; }",l+=c;break;case"priority":l+=".task-priority { display: none !important; }",l+="span:hover .task-priority { display: inline !important; animation: task-board-fade-in 0.5s ease-in-out; }",l+=c;break;case"time":l+=".task-time { display: none !important; }",l+="span:hover .task-time { display: inline !important; animation: task-board-fade-in 0.5s ease-in-out; }",l+=c;break;case"dependsOn":l+=".task-dependsOn { display: none !important; }",l+="span:hover .task-dependsOn { display: inline !important; animation: task-board-fade-in 0.5s ease-in-out; }",l+=c;break;case"onCompletion":l+=".task-onCompletion{ display: none !important; }",l+="span:hover .task-onCompletion { display: inline !important; animation: task-board-fade-in 0.5s ease-in-out; }",l+=c;break;case"recurring":l+=".task-recurring{ display: none !important; }",l+="span:hover .task-recurring { display: inline !important; animation: task-board-fade-in 0.5s ease-in-out; }",l+=c;break}}),i.textContent=l}}hidePropertiesInElement(a,r){let o=document.createTreeWalker(a,NodeFilter.SHOW_TEXT,null),n=[],i;for(;i=o.nextNode();)n.push(i);n.forEach(l=>{var d;let c=l.textContent||"",s=!1;if(r.forEach(u=>{var h;let f=kh(u,(h=this.settings.data.globalSettings)==null?void 0:h.taskPropertyFormat);f.test(c)&&(c=c.replace(f,m=>(s=!0,`<span class="taskboard-hidden-property" style="display: none;">${m}</span>`)))}),s&&l.parentElement){let u=document.createElement("div");for(u.innerHTML=c;u.firstChild;)(d=l.parentNode)==null||d.insertBefore(u.firstChild,l);l.remove()}})}openAtStartup(){this.settings.data.globalSettings.openOnStartup&&this.activateView("icon")}registerTaskBoardStatusBar(){}registerCommands(){this.addCommand({id:"add-new-task",name:p("add-new-task"),callback:()=>{Ii(this.app,this.plugin)}}),this.addCommand({id:"add-new-task-note",name:p("add-new-task-note"),callback:()=>{By(this.app,this.plugin)}}),this.addCommand({id:"add-new-task-current-file",name:p("add-new-task-in-current-file"),callback:()=>{var o;let a=(o=this.app.workspace.activeEditor)==null?void 0:o.editor,r=this.app.workspace.getActiveFile();return a&&r?(Ty(this.app,this.plugin,r,a==null?void 0:a.getCursor()),a=void 0,!0):(new G2.Notice(p("no-active-editor-is-open-error-notice")),!0)}}),this.addCommand({id:"open-task-board",name:p("open-task-board"),callback:()=>{this.activateView("tab")}}),this.addCommand({id:"open-task-board-new-window",name:p("open-task-board-in-new-window"),callback:()=>{this.activateView("window")}}),this.addCommand({id:"open-scan-vault-modal",name:p("open-scan-vault-modal"),callback:()=>{l7(this.app,this.plugin)}})}queueFileForRename(a,r){a instanceof G2.TFile&&(this.renameQueue.push({file:a,oldPath:r}),this.renameProcessingTimer&&clearTimeout(this.renameProcessingTimer),this.renameProcessingTimer=setTimeout(()=>{this.processRenameQueue()},this.QUEUE_DELAY))}async processRenameQueue(){var n,i;if(this.renameQueue.length===0){(n=this.currentProgressNotice)==null||n.hide(),this.currentProgressNotice=null;return}let a=(0,G2.normalizePath)(this.settings.data.globalSettings.archivedTBNotesFolderPath),r=this.renameQueue.length;this.currentProgressNotice=new G2.Notice(`Processing renamed files: 0/${r}`,0);let o=0;for(;this.renameQueue.length>0;){let{file:l,oldPath:c}=this.renameQueue.shift();try{b6(this.plugin.settings.data.globalSettings,l)&&(this.realTimeScanner.onFileRenamed(l,c,a),o++,this.currentProgressNotice.messageEl.textContent=`Task Board : Processing renamed files: ${o}/${r}`)}catch(s){$.addToLogs(162,String(s),"main.ts/processRenameQueue")}this.renameQueue.length>0&&await new Promise(s=>setTimeout(s,this.PROCESSING_INTERVAL))}this.plugin.vaultScanner.saveTasksToJsonCache(),b1.emit("REFRESH_BOARD"),(i=this.currentProgressNotice)==null||i.hide(),this.currentProgressNotice=null,o>0&&new G2.Notice(`\u2713 Task Board : Finished processing ${r} renamed file(s)`)}queueFileForDeletion(a){a instanceof G2.TFile&&(this.deleteQueue.push(a),this.deleteProcessingTimer&&clearTimeout(this.deleteProcessingTimer),this.deleteProcessingTimer=setTimeout(()=>{this.processDeleteQueue()},this.QUEUE_DELAY))}async processDeleteQueue(){var o,n;if(this.deleteQueue.length===0){(o=this.currentProgressNotice)==null||o.hide(),this.currentProgressNotice=null;return}let a=this.deleteQueue.length;this.currentProgressNotice=new G2.Notice(`Processing deleted files: 0/${a}`,0);let r=0;for(;this.deleteQueue.length>0;){let i=this.deleteQueue.shift();try{b6(this.plugin.settings.data.globalSettings,i)&&(this.realTimeScanner.onFileDeleted(i),r++,this.currentProgressNotice.messageEl.textContent=`Task Board : Processing deleted files: ${r}/${a}`)}catch(l){$.addToLogs(163,String(l),"main.ts/processDeleteQueue")}this.deleteQueue.length>0&&await new Promise(l=>setTimeout(l,this.PROCESSING_INTERVAL))}this.plugin.vaultScanner.saveTasksToJsonCache(),b1.emit("REFRESH_COLUMN"),(n=this.currentProgressNotice)==null||n.hide(),this.currentProgressNotice=null,r>0&&new G2.Notice(`\u2713 Task Board : Finished processing ${a} deleted file(s)`)}queueFileForCreation(a){this.createQueue.push(a),this.createProcessingTimer&&clearTimeout(this.createProcessingTimer),this.createProcessingTimer=setTimeout(()=>{this.processCreateQueue()},this.QUEUE_DELAY)}async processCreateQueue(){var r,o;if(this.createQueue.length===0){(r=this.currentProgressNotice)==null||r.hide(),this.currentProgressNotice=null;return}let a=this.createQueue.length;if(this.plugin.vaultScanner.refreshTasksFromFiles(this.createQueue,!1),a>10){this.currentProgressNotice=new G2.Notice(`Task Board : Processing created files: 0/${a}`,0);let n=0;for(;this.createQueue.length>0;){let i=this.createQueue.shift();try{n++,this.currentProgressNotice.messageEl.textContent=`Task Board : Processing created files: ${n}/${a}`}catch(l){$.addToLogs(164,String(l),"main.ts/processCreateQueue")}this.createQueue.length>0&&await new Promise(l=>setTimeout(l,this.PROCESSING_INTERVAL))}(o=this.currentProgressNotice)==null||o.hide(),this.currentProgressNotice=null,n>0&&new G2.Notice(`\u2713 Task Board : Finished processing ${a} created file(s)`)}}async findModifiedFilesOnAppAbsense(){let a=this.app.loadLocalStorage(Cc);if(a||(a=this.vaultScanner.tasksCache.Modified_at),a){a=Date.parse(a);let r=0,o=this.app.vault.getFiles().filter(u=>(r++,u.stat.mtime>a||u.stat.ctime>a)),n=new Set(this.app.vault.getFiles().map(u=>u.path)),i=Object.keys(this.vaultScanner.tasksCache.Pending||{}).concat(Object.keys(this.vaultScanner.tasksCache.Completed||{})),c=[...new Set(i.filter(u=>!n.has(u)))],s=o.filter(u=>b6(this.plugin.settings.data.globalSettings,u)),d=s.length+c.length;if(d>0){let u=new G2.Notice(createFragment(f=>{f.createDiv("bugReportNotice",h=>{h.createEl("p",{text:`Task Board : ${d} files has been modified when Obsidian was inactive.`}),h.createEl("button",{text:p("show-me"),cls:"reportBugButton",onclick:()=>{new Xl(this.app,{modifiedFiles:s,deletedFiles:c}).open()}}),h.createEl("button",{text:p("scan-them"),cls:"ignoreBugButton",onclick:async()=>{var L;u.hide(),this.currentProgressNotice=new G2.Notice(`Task Board : Processing modified files: 0/${d}`,0),this.plugin.vaultScanner.refreshTasksFromFiles(s,!1).then(async()=>{c.length>0&&await this.plugin.vaultScanner.deleteCacheForFiles(c)});let m=s,x=0;for(;m.length>0;){let g=m.shift();try{x++,this.currentProgressNotice.messageEl.textContent=`Task Board : Processing created files: ${x}/${d}`}catch(C){$.addToLogs(165,String(C),"main.ts/findModifiedFilesOnAppAbsense")}m.length>0&&await new Promise(C=>setTimeout(C,this.PROCESSING_INTERVAL))}(L=this.currentProgressNotice)==null||L.hide(),this.currentProgressNotice=null,new G2.Notice(`\u2713 Task Board : Finished processing ${d} created file(s)`)}})})}),0);u.messageEl.onClickEvent(f=>{f.target instanceof HTMLButtonElement&&(f.stopPropagation(),f.preventDefault(),f.stopImmediatePropagation())})}}}registerEvents(){this.registerEvent(this.app.vault.on("modify",async a=>{b6(this.plugin.settings.data.globalSettings,a)&&a instanceof G2.TFile&&(this.plugin.settings.data.globalSettings.scanMode==="realtime"?this.vaultScanner.refreshTasksFromFiles([a],!1):(this.editorModified=!0,this.realTimeScanner.onFileModified(a)))})),this.registerEvent(this.app.vault.on("rename",(a,r)=>{this.queueFileForRename(a,r)})),this.registerEvent(this.app.vault.on("delete",a=>{this.queueFileForDeletion(a)})),this.registerEvent(this.app.vault.on("create",a=>{a instanceof G2.TFile&&this.queueFileForCreation(a)})),this.plugin.settings.data.globalSettings.scanMode!=="manual"&&(this.registerEvent(this.app.workspace.on("active-leaf-change",a=>{this.onFileModifiedAndLostFocus()})),this.registerDomEvent(window,"blur",()=>{this.onFileModifiedAndLostFocus()}),this.registerDomEvent(window,"focus",()=>{this.onFileModifiedAndLostFocus()})),this.registerEvent(this.app.workspace.on("quit",()=>{let a=E4();this.app.saveLocalStorage(Cc,a)})),this.registerEvent(this.app.workspace.on("file-menu",(a,r,o,n)=>{if(o==="link-context-menu")return;let i=r instanceof G2.TFile,l=r instanceof G2.TFolder;i&&(a.addItem(c=>{c.setTitle(p("update-tasks-from-this-file")).setIcon(Ot).setSection("action").onClick(()=>{b6(this.plugin.settings.data.globalSettings,r)&&this.vaultScanner.refreshTasksFromFiles([r],!0)})}),this.settings.data.globalSettings.scanFilters.files.polarity===2&&a.addItem(c=>{c.setTitle(p("add-file-in-scan-filter")).setIcon(Ot).setSection("action").onClick(()=>{this.settings.data.globalSettings.scanFilters.files.values.push(r.path),this.saveSettings()})}),this.settings.data.globalSettings.scanFilters.files.polarity===1&&a.addItem(c=>{c.setTitle(p("add-file-in-scan-filter")).setIcon(Ot).setSection("action").onClick(()=>{this.settings.data.globalSettings.scanFilters.files.values.push(r.path),this.saveSettings()})})),l&&(this.settings.data.globalSettings.scanFilters.folders.polarity===2&&a.addItem(c=>{c.setTitle(p("add-folder-in-scan-filter")).setIcon(Ot).setSection("action").onClick(()=>{this.settings.data.globalSettings.scanFilters.folders.values.push(r.path),this.saveSettings()})}),this.settings.data.globalSettings.scanFilters.folders.polarity===1&&a.addItem(c=>{c.setTitle(p("add-folder-in-scan-filter")).setIcon(Ot).setSection("action").onClick(()=>{this.settings.data.globalSettings.scanFilters.folders.values.push(r.path),this.saveSettings()})}))}))}async onFileModifiedAndLostFocus(){this.editorModified&&await this.realTimeScanner.processAllUpdatedFiles()}async compatiblePluginsAvailabilityCheck(){let a=await _L(this.plugin);this.plugin.settings.data.globalSettings.compatiblePlugins.tasksPlugin=a,BL(this.plugin)}runOnPluginUpdate(){let a=Be,r=!1,o=this.settings.version;if(o==""||a!==o){if(o!==""){let l=new G2.Notice("",0).containerEl.createDiv({cls:"taskboardCustomMessageContainer"});l.createEl("h3",{text:"Task Board"}),l.createEl("p",{text:"Note for existing users",cls:"taskboardCustomMessageContainerBold"}),l.createEl("span",{text:"If you were using the custom statuses from Tasks plugin configs. Please import them in Task Board's setting, using a button in the new Custom Statuses setting section. Task Board will no longer import the custom statuses from Tasks plugin automatically."}),l.createEl("p",{text:"Read the release notes for all the latest features : "}),l.createEl("a",{text:"Task Board v1.9.0",href:`https://github.com/tu2-atmanand/Task-Board/releases/tag/${Be}`})}(o===""||r)&&localStorage.setItem("manadatoryScan","true"),this.settings.version=a,this.settings=wi(Q3,this.settings),this.settings.version=a,this.saveSettings()}}async fileExists(a){return await this.app.vault.adapter.exists(a)}};
/*! Bundled license information:

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

sortablejs/modular/sortable.esm.js:
  (**!
   * Sortable 1.15.6
   * @author	RubaXa   <trash@rubaxa.org>
   * @author	owenm    <owen23355@gmail.com>
   * @license MIT
   *)

lucide-react/dist/esm/shared/src/utils.js:
lucide-react/dist/esm/defaultAttributes.js:
lucide-react/dist/esm/Icon.js:
lucide-react/dist/esm/createLucideIcon.js:
lucide-react/dist/esm/icons/chevron-down.js:
lucide-react/dist/esm/icons/chevron-right.js:
lucide-react/dist/esm/icons/circle-arrow-down.js:
lucide-react/dist/esm/icons/circle-arrow-right.js:
lucide-react/dist/esm/icons/circle-plus.js:
lucide-react/dist/esm/icons/delete.js:
lucide-react/dist/esm/icons/ellipsis-vertical.js:
lucide-react/dist/esm/icons/eye-off.js:
lucide-react/dist/esm/icons/eye.js:
lucide-react/dist/esm/icons/file-input.js:
lucide-react/dist/esm/icons/funnel.js:
lucide-react/dist/esm/icons/grip.js:
lucide-react/dist/esm/icons/list.js:
lucide-react/dist/esm/icons/menu.js:
lucide-react/dist/esm/icons/network.js:
lucide-react/dist/esm/icons/octagon-alert.js:
lucide-react/dist/esm/icons/panel-left-open.js:
lucide-react/dist/esm/icons/panel-right-open.js:
lucide-react/dist/esm/icons/refresh-ccw.js:
lucide-react/dist/esm/icons/search-x.js:
lucide-react/dist/esm/icons/search.js:
lucide-react/dist/esm/icons/settings.js:
lucide-react/dist/esm/icons/square-pen.js:
lucide-react/dist/esm/icons/x.js:
lucide-react/dist/esm/lucide-react.js:
  (**
   * @license lucide-react v0.525.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.js:
  (**
   * @license React
   * react-jsx-runtime.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@simonwep/pickr/dist/pickr.min.js:
  (*! Pickr 1.9.1 MIT | https://github.com/Simonwep/pickr *)

use-sync-external-store/cjs/use-sync-external-store-shim.production.js:
  (**
   * @license React
   * use-sync-external-store-shim.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.js:
  (**
   * @license React
   * use-sync-external-store-shim/with-selector.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/

/* nosourcemap */